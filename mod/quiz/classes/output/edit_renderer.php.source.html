<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/quiz/classes/output/edit_renderer.php source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='mod/quiz/classes/output';
filename='edit_renderer.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/quiz/classes/output/</a> -> <a href="edit_renderer.php.html">edit_renderer.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="edit_renderer.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="edit_renderer.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Renderer outputting the quiz editing UI.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package mod_quiz</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright 2013 The Open University.</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> */</span>
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  namespace mod_quiz\output;
<a name="l26"><span class="linenum">  26</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  use \mod_quiz\structure;
<a name="l29"><span class="linenum">  29</span></a>  use \html_writer;
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">/**</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * Renderer outputting the quiz editing UI.</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> *</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * @copyright 2013 The Open University.</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * @since Moodle 2.7</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> */</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('edit_renderer')" href="../../../../_classes/edit_renderer.html" onMouseOver="classPopup(event,'edit_renderer')">edit_renderer</a> extends \plugin_renderer_base {
<a name="l39"><span class="linenum">  39</span></a>  
<a name="l40"><span class="linenum">  40</span></a>      <span class="comment">/**</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">     * Render the edit page</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">     *</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     * @param \quiz $quizobj object containing all the quiz settings information.</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     * @param \question_edit_contexts $contexts the relevant question bank contexts.</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     * @param \moodle_url $pageurl the canonical URL of this page.</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     * @param array $pagevars the variables from {@link question_edit_setup()}.</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">     */</span>
<a name="l50"><span class="linenum">  50</span></a>      public function <a class="function" onClick="logFunction('edit_page')" href="../../../../_functions/edit_page.html" onMouseOver="funcPopup(event,'edit_page')">edit_page</a>(\quiz <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../../_variables/quizobj.html">$quizobj</a>, structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>,
<a name="l51"><span class="linenum">  51</span></a>              \question_edit_contexts <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, \moodle_url <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>, array <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>) {
<a name="l52"><span class="linenum">  52</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = '';
<a name="l53"><span class="linenum">  53</span></a>  
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">        // Page title.</span>
<a name="l55"><span class="linenum">  55</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('heading_with_help')" href="../../../../_functions/heading_with_help.html" onMouseOver="funcPopup(event,'heading_with_help')">heading_with_help</a>(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('editingquizx', 'quiz',
<a name="l56"><span class="linenum">  56</span></a>                  <a class="function" onClick="logFunction('format_string')" href="../../../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../../_variables/quizobj.html">$quizobj</a>-&gt;<a class="function" onClick="logFunction('get_quiz_name')" href="../../../../_functions/get_quiz_name.html" onMouseOver="funcPopup(event,'get_quiz_name')">get_quiz_name</a>())), 'editingquiz', 'quiz', '',
<a name="l57"><span class="linenum">  57</span></a>                  <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('basicideasofquiz', 'quiz'), 2);
<a name="l58"><span class="linenum">  58</span></a>  
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">        // Information at the top.</span>
<a name="l60"><span class="linenum">  60</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('quiz_state_warnings')" href="../../../../_functions/quiz_state_warnings.html" onMouseOver="funcPopup(event,'quiz_state_warnings')">quiz_state_warnings</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>);
<a name="l61"><span class="linenum">  61</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('quiz_information')" href="../../../../_functions/quiz_information.html" onMouseOver="funcPopup(event,'quiz_information')">quiz_information</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>);
<a name="l62"><span class="linenum">  62</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('maximum_grade_input')" href="../../../../_functions/maximum_grade_input.html" onMouseOver="funcPopup(event,'maximum_grade_input')">maximum_grade_input</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>);
<a name="l63"><span class="linenum">  63</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('repaginate_button')" href="../../../../_functions/repaginate_button.html" onMouseOver="funcPopup(event,'repaginate_button')">repaginate_button</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>);
<a name="l64"><span class="linenum">  64</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('total_marks')" href="../../../../_functions/total_marks.html" onMouseOver="funcPopup(event,'total_marks')">total_marks</a>(<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../../_variables/quizobj.html">$quizobj</a>-&gt;<a class="function" onClick="logFunction('get_quiz')" href="../../../../_functions/get_quiz.html" onMouseOver="funcPopup(event,'get_quiz')">get_quiz</a>());
<a name="l65"><span class="linenum">  65</span></a>  
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">        // Show the questions organised into sections and pages.</span>
<a name="l67"><span class="linenum">  67</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('start_section_list')" href="../../../../_functions/start_section_list.html" onMouseOver="funcPopup(event,'start_section_list')">start_section_list</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>);
<a name="l68"><span class="linenum">  68</span></a>  
<a name="l69"><span class="linenum">  69</span></a>          foreach (<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_sections')" href="../../../../_functions/get_sections.html" onMouseOver="funcPopup(event,'get_sections')">get_sections</a>() as <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>) {
<a name="l70"><span class="linenum">  70</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('start_section')" href="../../../../_functions/start_section.html" onMouseOver="funcPopup(event,'start_section')">start_section</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>);
<a name="l71"><span class="linenum">  71</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('questions_in_section')" href="../../../../_functions/questions_in_section.html" onMouseOver="funcPopup(event,'questions_in_section')">questions_in_section</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>, <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>);
<a name="l72"><span class="linenum">  72</span></a>  
<a name="l73"><span class="linenum">  73</span></a>              if (<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('is_last_section')" href="../../../../_functions/is_last_section.html" onMouseOver="funcPopup(event,'is_last_section')">is_last_section</a>(<a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>)) {
<a name="l74"><span class="linenum">  74</span></a>                  <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= \<a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_div')" href="../../../../_functions/start_div.html" onMouseOver="funcPopup(event,'start_div')">start_div</a>('last-add-menu');
<a name="l75"><span class="linenum">  75</span></a>                  <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_menu_actions')" href="../../../../_functions/add_menu_actions.html" onMouseOver="funcPopup(event,'add_menu_actions')">add_menu_actions</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, 0,
<a name="l76"><span class="linenum">  76</span></a>                          <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>, <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>), array('class' =&gt; 'add-menu-outer'));
<a name="l77"><span class="linenum">  77</span></a>                  <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= \<a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_div')" href="../../../../_functions/end_div.html" onMouseOver="funcPopup(event,'end_div')">end_div</a>();
<a name="l78"><span class="linenum">  78</span></a>              }
<a name="l79"><span class="linenum">  79</span></a>  
<a name="l80"><span class="linenum">  80</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('end_section')" href="../../../../_functions/end_section.html" onMouseOver="funcPopup(event,'end_section')">end_section</a>();
<a name="l81"><span class="linenum">  81</span></a>          }
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('end_section_list')" href="../../../../_functions/end_section_list.html" onMouseOver="funcPopup(event,'end_section_list')">end_section_list</a>();
<a name="l84"><span class="linenum">  84</span></a>  
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">        // Initialise the JavaScript.</span>
<a name="l86"><span class="linenum">  86</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('initialise_editing_javascript')" href="../../../../_functions/initialise_editing_javascript.html" onMouseOver="funcPopup(event,'initialise_editing_javascript')">initialise_editing_javascript</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>);
<a name="l87"><span class="linenum">  87</span></a>  
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">        // Include the contents of any other popups required.</span>
<a name="l89"><span class="linenum">  89</span></a>          if (<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('can_be_edited')" href="../../../../_functions/can_be_edited.html" onMouseOver="funcPopup(event,'can_be_edited')">can_be_edited</a>()) {
<a name="l90"><span class="linenum">  90</span></a>              <a class="var it40503" onMouseOver="hilite(40503)" onMouseOut="lolite()" onClick="logVariable('popups')" href="../../../../_variables/popups.html">$popups</a> = '';
<a name="l91"><span class="linenum">  91</span></a>  
<a name="l92"><span class="linenum">  92</span></a>              <a class="var it40503" onMouseOver="hilite(40503)" onMouseOut="lolite()" onClick="logVariable('popups')" href="../../../../_variables/popups.html">$popups</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('question_bank_loading')" href="../../../../_functions/question_bank_loading.html" onMouseOver="funcPopup(event,'question_bank_loading')">question_bank_loading</a>();
<a name="l93"><span class="linenum">  93</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('yui_module')" href="../../../../_functions/yui_module.html" onMouseOver="funcPopup(event,'yui_module')">yui_module</a>('moodle-mod_quiz-quizquestionbank',
<a name="l94"><span class="linenum">  94</span></a>                      'M.mod_quiz.quizquestionbank.init',
<a name="l95"><span class="linenum">  95</span></a>                      array('class' =&gt; 'questionbank', 'cmid' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_cmid')" href="../../../../_functions/get_cmid.html" onMouseOver="funcPopup(event,'get_cmid')">get_cmid</a>()));
<a name="l96"><span class="linenum">  96</span></a>  
<a name="l97"><span class="linenum">  97</span></a>              <a class="var it40503" onMouseOver="hilite(40503)" onMouseOut="lolite()" onClick="logVariable('popups')" href="../../../../_variables/popups.html">$popups</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('random_question_form')" href="../../../../_functions/random_question_form.html" onMouseOver="funcPopup(event,'random_question_form')">random_question_form</a>(<a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>, <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>);
<a name="l98"><span class="linenum">  98</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('yui_module')" href="../../../../_functions/yui_module.html" onMouseOver="funcPopup(event,'yui_module')">yui_module</a>('moodle-mod_quiz-randomquestion',
<a name="l99"><span class="linenum">  99</span></a>                      'M.mod_quiz.randomquestion.init');
<a name="l100"><span class="linenum"> 100</span></a>  
<a name="l101"><span class="linenum"> 101</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../../../../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(<a class="var it40503" onMouseOver="hilite(40503)" onMouseOut="lolite()" onClick="logVariable('popups')" href="../../../../_variables/popups.html">$popups</a>, 'mod_quiz_edit_forms');
<a name="l102"><span class="linenum"> 102</span></a>  
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment">            // Include the question chooser.</span>
<a name="l104"><span class="linenum"> 104</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('question_chooser')" href="../../../../_functions/question_chooser.html" onMouseOver="funcPopup(event,'question_chooser')">question_chooser</a>();
<a name="l105"><span class="linenum"> 105</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('yui_module')" href="../../../../_functions/yui_module.html" onMouseOver="funcPopup(event,'yui_module')">yui_module</a>('moodle-mod_quiz-questionchooser', 'M.mod_quiz.init_questionchooser');
<a name="l106"><span class="linenum"> 106</span></a>          }
<a name="l107"><span class="linenum"> 107</span></a>  
<a name="l108"><span class="linenum"> 108</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l109"><span class="linenum"> 109</span></a>      }
<a name="l110"><span class="linenum"> 110</span></a>  
<a name="l111"><span class="linenum"> 111</span></a>      <span class="comment">/**</span>
<a name="l112"><span class="linenum"> 112</span></a>  <span class="comment">     * Render any warnings that might be required about the state of the quiz,</span>
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">     * e.g. if it has been attempted, or if the shuffle questions option is</span>
<a name="l114"><span class="linenum"> 114</span></a>  <span class="comment">     * turned on.</span>
<a name="l115"><span class="linenum"> 115</span></a>  <span class="comment">     *</span>
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">     * @param structure $structure the quiz structure.</span>
<a name="l117"><span class="linenum"> 117</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment">     */</span>
<a name="l119"><span class="linenum"> 119</span></a>      public function <a class="function" onClick="logFunction('quiz_state_warnings')" href="../../../../_functions/quiz_state_warnings.html" onMouseOver="funcPopup(event,'quiz_state_warnings')">quiz_state_warnings</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>) {
<a name="l120"><span class="linenum"> 120</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../../_variables/warnings.html">$warnings</a> = <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_edit_page_warnings')" href="../../../../_functions/get_edit_page_warnings.html" onMouseOver="funcPopup(event,'get_edit_page_warnings')">get_edit_page_warnings</a>();
<a name="l121"><span class="linenum"> 121</span></a>  
<a name="l122"><span class="linenum"> 122</span></a>          if (empty(<a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../../_variables/warnings.html">$warnings</a>)) {
<a name="l123"><span class="linenum"> 123</span></a>              return '';
<a name="l124"><span class="linenum"> 124</span></a>          }
<a name="l125"><span class="linenum"> 125</span></a>  
<a name="l126"><span class="linenum"> 126</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = array();
<a name="l127"><span class="linenum"> 127</span></a>          foreach (<a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../../_variables/warnings.html">$warnings</a> as <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../../../_variables/warning.html">$warning</a>) {
<a name="l128"><span class="linenum"> 128</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>[] = \<a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('p', <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../../../_variables/warning.html">$warning</a>);
<a name="l129"><span class="linenum"> 129</span></a>          }
<a name="l130"><span class="linenum"> 130</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('box')" href="../../../../_functions/box.html" onMouseOver="funcPopup(event,'box')">box</a>(<a class="phpfunction" onClick="logFunction('implode')" href="../../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(&quot;\n&quot;, <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>), 'statusdisplay');
<a name="l131"><span class="linenum"> 131</span></a>      }
<a name="l132"><span class="linenum"> 132</span></a>  
<a name="l133"><span class="linenum"> 133</span></a>      <span class="comment">/**</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment">     * Render the status bar.</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment">     *</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">     * @param structure $structure the quiz structure.</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">     */</span>
<a name="l139"><span class="linenum"> 139</span></a>      public function <a class="function" onClick="logFunction('quiz_information')" href="../../../../_functions/quiz_information.html" onMouseOver="funcPopup(event,'quiz_information')">quiz_information</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>) {
<a name="l140"><span class="linenum"> 140</span></a>          <a class="function" onClick="logFunction('list')" href="../../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it25285" onMouseOver="hilite(25285)" onMouseOut="lolite()" onClick="logVariable('currentstatus')" href="../../../../_variables/currentstatus.html">$currentstatus</a>, <a class="var it14548" onMouseOver="hilite(14548)" onMouseOut="lolite()" onClick="logVariable('explanation')" href="../../../../_variables/explanation.html">$explanation</a>) = <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_dates_summary')" href="../../../../_functions/get_dates_summary.html" onMouseOver="funcPopup(event,'get_dates_summary')">get_dates_summary</a>();
<a name="l141"><span class="linenum"> 141</span></a>  
<a name="l142"><span class="linenum"> 142</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(
<a name="l143"><span class="linenum"> 143</span></a>                      <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('numquestionsx', 'quiz', <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_question_count')" href="../../../../_functions/get_question_count.html" onMouseOver="funcPopup(event,'get_question_count')">get_question_count</a>()),
<a name="l144"><span class="linenum"> 144</span></a>                      'numberofquestions') . ' | ' .
<a name="l145"><span class="linenum"> 145</span></a>                  <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it25285" onMouseOver="hilite(25285)" onMouseOut="lolite()" onClick="logVariable('currentstatus')" href="../../../../_variables/currentstatus.html">$currentstatus</a>, 'quizopeningstatus',
<a name="l146"><span class="linenum"> 146</span></a>                      array('title' =&gt; <a class="var it14548" onMouseOver="hilite(14548)" onMouseOut="lolite()" onClick="logVariable('explanation')" href="../../../../_variables/explanation.html">$explanation</a>));
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../../../../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(<a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>, 'statusbar');
<a name="l149"><span class="linenum"> 149</span></a>      }
<a name="l150"><span class="linenum"> 150</span></a>  
<a name="l151"><span class="linenum"> 151</span></a>      <span class="comment">/**</span>
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment">     * Render the form for setting a quiz' overall grade</span>
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment">     *</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">     * @param structure $structure the quiz structure.</span>
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment">     * @param \moodle_url $pageurl the canonical URL of this page.</span>
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment">     */</span>
<a name="l158"><span class="linenum"> 158</span></a>      public function <a class="function" onClick="logFunction('maximum_grade_input')" href="../../../../_functions/maximum_grade_input.html" onMouseOver="funcPopup(event,'maximum_grade_input')">maximum_grade_input</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, \moodle_url <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>) {
<a name="l159"><span class="linenum"> 159</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = '';
<a name="l160"><span class="linenum"> 160</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_div')" href="../../../../_functions/start_div.html" onMouseOver="funcPopup(event,'start_div')">start_div</a>('maxgrade');
<a name="l161"><span class="linenum"> 161</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../../../../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('form', array('method' =&gt; 'post', 'action' =&gt; 'edit.php',
<a name="l162"><span class="linenum"> 162</span></a>                  'class' =&gt; 'quizsavegradesform'));
<a name="l163"><span class="linenum"> 163</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../../../../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('fieldset', array('class' =&gt; 'invisiblefieldset'));
<a name="l164"><span class="linenum"> 164</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type' =&gt; 'hidden', 'name' =&gt; 'sesskey', 'value' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../../../../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>()));
<a name="l165"><span class="linenum"> 165</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('input_hidden_params')" href="../../../../_functions/input_hidden_params.html" onMouseOver="funcPopup(event,'input_hidden_params')">input_hidden_params</a>(<a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>);
<a name="l166"><span class="linenum"> 166</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../../../_variables/a.html">$a</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type' =&gt; 'text', 'id' =&gt; 'inputmaxgrade',
<a name="l167"><span class="linenum"> 167</span></a>                  'name' =&gt; 'maxgrade', 'size' =&gt; (<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_decimal_places_for_grades')" href="../../../../_functions/get_decimal_places_for_grades.html" onMouseOver="funcPopup(event,'get_decimal_places_for_grades')">get_decimal_places_for_grades</a>() + 2),
<a name="l168"><span class="linenum"> 168</span></a>                  'value' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('formatted_quiz_grade')" href="../../../../_functions/formatted_quiz_grade.html" onMouseOver="funcPopup(event,'formatted_quiz_grade')">formatted_quiz_grade</a>()));
<a name="l169"><span class="linenum"> 169</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('label', <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('maximumgradex', '', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../../../_variables/a.html">$a</a>),
<a name="l170"><span class="linenum"> 170</span></a>                  array('for' =&gt; 'inputmaxgrade'));
<a name="l171"><span class="linenum"> 171</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type' =&gt; 'submit',
<a name="l172"><span class="linenum"> 172</span></a>                  'name' =&gt; 'savechanges', 'value' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('save', 'quiz')));
<a name="l173"><span class="linenum"> 173</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('fieldset');
<a name="l174"><span class="linenum"> 174</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('form');
<a name="l175"><span class="linenum"> 175</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l176"><span class="linenum"> 176</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l177"><span class="linenum"> 177</span></a>      }
<a name="l178"><span class="linenum"> 178</span></a>  
<a name="l179"><span class="linenum"> 179</span></a>      <span class="comment">/**</span>
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment">     * Return the repaginate button</span>
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment">     * @param structure $structure the structure of the quiz being edited.</span>
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment">     * @param \moodle_url $pageurl the canonical URL of this page.</span>
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment">     */</span>
<a name="l185"><span class="linenum"> 185</span></a>      protected function <a class="function" onClick="logFunction('repaginate_button')" href="../../../../_functions/repaginate_button.html" onMouseOver="funcPopup(event,'repaginate_button')">repaginate_button</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, \moodle_url <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>) {
<a name="l186"><span class="linenum"> 186</span></a>  
<a name="l187"><span class="linenum"> 187</span></a>          <a class="var it907" onMouseOver="hilite(907)" onMouseOut="lolite()" onClick="logVariable('header')" href="../../../../_variables/header.html">$header</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('repaginatecommand', 'quiz'), array('class' =&gt; 'repaginatecommand'));
<a name="l188"><span class="linenum"> 188</span></a>          <a class="var it371" onMouseOver="hilite(371)" onMouseOut="lolite()" onClick="logVariable('form')" href="../../../../_variables/form.html">$form</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('repaginate_form')" href="../../../../_functions/repaginate_form.html" onMouseOver="funcPopup(event,'repaginate_form')">repaginate_form</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>);
<a name="l189"><span class="linenum"> 189</span></a>          <a class="var it40504" onMouseOver="hilite(40504)" onMouseOut="lolite()" onClick="logVariable('containeroptions')" href="../../../../_variables/containeroptions.html">$containeroptions</a> = array(
<a name="l190"><span class="linenum"> 190</span></a>                  'class'  =&gt; 'rpcontainerclass',
<a name="l191"><span class="linenum"> 191</span></a>                  'cmid'   =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_cmid')" href="../../../../_functions/get_cmid.html" onMouseOver="funcPopup(event,'get_cmid')">get_cmid</a>(),
<a name="l192"><span class="linenum"> 192</span></a>                  'header' =&gt; <a class="var it907" onMouseOver="hilite(907)" onMouseOut="lolite()" onClick="logVariable('header')" href="../../../../_variables/header.html">$header</a>,
<a name="l193"><span class="linenum"> 193</span></a>                  'form'   =&gt; <a class="var it371" onMouseOver="hilite(371)" onMouseOut="lolite()" onClick="logVariable('form')" href="../../../../_variables/form.html">$form</a>,
<a name="l194"><span class="linenum"> 194</span></a>          );
<a name="l195"><span class="linenum"> 195</span></a>  
<a name="l196"><span class="linenum"> 196</span></a>          <a class="var it27372" onMouseOver="hilite(27372)" onMouseOut="lolite()" onClick="logVariable('buttonoptions')" href="../../../../_variables/buttonoptions.html">$buttonoptions</a> = array(
<a name="l197"><span class="linenum"> 197</span></a>              'type'  =&gt; 'submit',
<a name="l198"><span class="linenum"> 198</span></a>              'name'  =&gt; 'repaginate',
<a name="l199"><span class="linenum"> 199</span></a>              'id'    =&gt; 'repaginatecommand',
<a name="l200"><span class="linenum"> 200</span></a>              'value' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('repaginatecommand', 'quiz'),
<a name="l201"><span class="linenum"> 201</span></a>          );
<a name="l202"><span class="linenum"> 202</span></a>          if (!<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('can_be_repaginated')" href="../../../../_functions/can_be_repaginated.html" onMouseOver="funcPopup(event,'can_be_repaginated')">can_be_repaginated</a>()) {
<a name="l203"><span class="linenum"> 203</span></a>              <a class="var it27372" onMouseOver="hilite(27372)" onMouseOut="lolite()" onClick="logVariable('buttonoptions')" href="../../../../_variables/buttonoptions.html">$buttonoptions</a>['disabled'] = 'disabled';
<a name="l204"><span class="linenum"> 204</span></a>          } else {
<a name="l205"><span class="linenum"> 205</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('yui_module')" href="../../../../_functions/yui_module.html" onMouseOver="funcPopup(event,'yui_module')">yui_module</a>('moodle-mod_quiz-repaginate', 'M.mod_quiz.repaginate.init');
<a name="l206"><span class="linenum"> 206</span></a>          }
<a name="l207"><span class="linenum"> 207</span></a>  
<a name="l208"><span class="linenum"> 208</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div',
<a name="l209"><span class="linenum"> 209</span></a>                  <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', <a class="var it27372" onMouseOver="hilite(27372)" onMouseOut="lolite()" onClick="logVariable('buttonoptions')" href="../../../../_variables/buttonoptions.html">$buttonoptions</a>), <a class="var it40504" onMouseOver="hilite(40504)" onMouseOut="lolite()" onClick="logVariable('containeroptions')" href="../../../../_variables/containeroptions.html">$containeroptions</a>);
<a name="l210"><span class="linenum"> 210</span></a>      }
<a name="l211"><span class="linenum"> 211</span></a>  
<a name="l212"><span class="linenum"> 212</span></a>      <span class="comment">/**</span>
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment">     * Return the repaginate form</span>
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">     * @param structure $structure the structure of the quiz being edited.</span>
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment">     * @param \moodle_url $pageurl the canonical URL of this page.</span>
<a name="l216"><span class="linenum"> 216</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment">     */</span>
<a name="l218"><span class="linenum"> 218</span></a>      protected function <a class="function" onClick="logFunction('repaginate_form')" href="../../../../_functions/repaginate_form.html" onMouseOver="funcPopup(event,'repaginate_form')">repaginate_form</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, \moodle_url <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>) {
<a name="l219"><span class="linenum"> 219</span></a>          <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('perpage')" href="../../../../_variables/perpage.html">$perpage</a> = array();
<a name="l220"><span class="linenum"> 220</span></a>          <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('perpage')" href="../../../../_variables/perpage.html">$perpage</a>[0] = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('allinone', 'quiz');
<a name="l221"><span class="linenum"> 221</span></a>          for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> = 1; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> &lt;= 50; ++<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>) {
<a name="l222"><span class="linenum"> 222</span></a>              <a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('perpage')" href="../../../../_variables/perpage.html">$perpage</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>] = <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>;
<a name="l223"><span class="linenum"> 223</span></a>          }
<a name="l224"><span class="linenum"> 224</span></a>  
<a name="l225"><span class="linenum"> 225</span></a>          <a class="var it40505" onMouseOver="hilite(40505)" onMouseOut="lolite()" onClick="logVariable('hiddenurl')" href="../../../../_variables/hiddenurl.html">$hiddenurl</a> = <a class="function" onClick="logFunction('clone')" href="../../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>(<a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>);
<a name="l226"><span class="linenum"> 226</span></a>          <a class="var it40505" onMouseOver="hilite(40505)" onMouseOut="lolite()" onClick="logVariable('hiddenurl')" href="../../../../_variables/hiddenurl.html">$hiddenurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('sesskey', <a class="function" onClick="logFunction('sesskey')" href="../../../../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>());
<a name="l227"><span class="linenum"> 227</span></a>  
<a name="l228"><span class="linenum"> 228</span></a>          <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../../../_variables/select.html">$select</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('select')" href="../../../../_functions/select.html" onMouseOver="funcPopup(event,'select')">select</a>(<a class="var it1070" onMouseOver="hilite(1070)" onMouseOut="lolite()" onClick="logVariable('perpage')" href="../../../../_variables/perpage.html">$perpage</a>, 'questionsperpage',
<a name="l229"><span class="linenum"> 229</span></a>                  <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_questions_per_page')" href="../../../../_functions/get_questions_per_page.html" onMouseOver="funcPopup(event,'get_questions_per_page')">get_questions_per_page</a>(), false);
<a name="l230"><span class="linenum"> 230</span></a>  
<a name="l231"><span class="linenum"> 231</span></a>          <a class="var it40506" onMouseOver="hilite(40506)" onMouseOut="lolite()" onClick="logVariable('buttonattributes')" href="../../../../_variables/buttonattributes.html">$buttonattributes</a> = array('type' =&gt; 'submit', 'name' =&gt; 'repaginate', 'value' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('go'));
<a name="l232"><span class="linenum"> 232</span></a>  
<a name="l233"><span class="linenum"> 233</span></a>          <a class="var it8613" onMouseOver="hilite(8613)" onMouseOut="lolite()" onClick="logVariable('formcontent')" href="../../../../_variables/formcontent.html">$formcontent</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('form', <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../../../../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(
<a name="l234"><span class="linenum"> 234</span></a>                      <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('input_hidden_params')" href="../../../../_functions/input_hidden_params.html" onMouseOver="funcPopup(event,'input_hidden_params')">input_hidden_params</a>(<a class="var it40505" onMouseOver="hilite(40505)" onMouseOut="lolite()" onClick="logVariable('hiddenurl')" href="../../../../_variables/hiddenurl.html">$hiddenurl</a>) .
<a name="l235"><span class="linenum"> 235</span></a>                      <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('repaginate', 'quiz', <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../../../_variables/select.html">$select</a>) .
<a name="l236"><span class="linenum"> 236</span></a>                      <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', <a class="var it40506" onMouseOver="hilite(40506)" onMouseOut="lolite()" onClick="logVariable('buttonattributes')" href="../../../../_variables/buttonattributes.html">$buttonattributes</a>)
<a name="l237"><span class="linenum"> 237</span></a>                  ), array('action' =&gt; 'edit.php', 'method' =&gt; 'post'));
<a name="l238"><span class="linenum"> 238</span></a>  
<a name="l239"><span class="linenum"> 239</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../../../../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(<a class="var it8613" onMouseOver="hilite(8613)" onMouseOut="lolite()" onClick="logVariable('formcontent')" href="../../../../_variables/formcontent.html">$formcontent</a>, '', array('id' =&gt; 'repaginatedialog'));
<a name="l240"><span class="linenum"> 240</span></a>      }
<a name="l241"><span class="linenum"> 241</span></a>  
<a name="l242"><span class="linenum"> 242</span></a>      <span class="comment">/**</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">     * Render the total marks available for the quiz.</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment">     *</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">     * @param \stdClass $quiz the quiz settings from the database.</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">     */</span>
<a name="l248"><span class="linenum"> 248</span></a>      public function <a class="function" onClick="logFunction('total_marks')" href="../../../../_functions/total_marks.html" onMouseOver="funcPopup(event,'total_marks')">total_marks</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>) {
<a name="l249"><span class="linenum"> 249</span></a>          <a class="var it40507" onMouseOver="hilite(40507)" onMouseOut="lolite()" onClick="logVariable('totalmark')" href="../../../../_variables/totalmark.html">$totalmark</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="function" onClick="logFunction('quiz_format_grade')" href="../../../../_functions/quiz_format_grade.html" onMouseOver="funcPopup(event,'quiz_format_grade')">quiz_format_grade</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>, <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('sumgrades')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../../_variables/sumgrades.html">sumgrades</a>), 'mod_quiz_summarks');
<a name="l250"><span class="linenum"> 250</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span',
<a name="l251"><span class="linenum"> 251</span></a>                  <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('totalmarksx', 'quiz', <a class="var it40507" onMouseOver="hilite(40507)" onMouseOut="lolite()" onClick="logVariable('totalmark')" href="../../../../_variables/totalmark.html">$totalmark</a>),
<a name="l252"><span class="linenum"> 252</span></a>                  array('class' =&gt; 'totalpoints'));
<a name="l253"><span class="linenum"> 253</span></a>      }
<a name="l254"><span class="linenum"> 254</span></a>  
<a name="l255"><span class="linenum"> 255</span></a>      <span class="comment">/**</span>
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment">     * Generate the starting container html for the start of a list of sections</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment">     * @param structure $structure the structure of the quiz being edited.</span>
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment">     */</span>
<a name="l260"><span class="linenum"> 260</span></a>      protected function <a class="function" onClick="logFunction('start_section_list')" href="../../../../_functions/start_section_list.html" onMouseOver="funcPopup(event,'start_section_list')">start_section_list</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>) {
<a name="l261"><span class="linenum"> 261</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../../../_variables/class.html">$class</a> = 'slots';
<a name="l262"><span class="linenum"> 262</span></a>          if (<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_section_count')" href="../../../../_functions/get_section_count.html" onMouseOver="funcPopup(event,'get_section_count')">get_section_count</a>() == 1) {
<a name="l263"><span class="linenum"> 263</span></a>              <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../../../_variables/class.html">$class</a> .= ' only-one-section';
<a name="l264"><span class="linenum"> 264</span></a>          }
<a name="l265"><span class="linenum"> 265</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../../../../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('ul', array('class' =&gt; <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../../../_variables/class.html">$class</a>));
<a name="l266"><span class="linenum"> 266</span></a>      }
<a name="l267"><span class="linenum"> 267</span></a>  
<a name="l268"><span class="linenum"> 268</span></a>      <span class="comment">/**</span>
<a name="l269"><span class="linenum"> 269</span></a>  <span class="comment">     * Generate the closing container html for the end of a list of sections</span>
<a name="l270"><span class="linenum"> 270</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment">     */</span>
<a name="l272"><span class="linenum"> 272</span></a>      protected function <a class="function" onClick="logFunction('end_section_list')" href="../../../../_functions/end_section_list.html" onMouseOver="funcPopup(event,'end_section_list')">end_section_list</a>() {
<a name="l273"><span class="linenum"> 273</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('ul');
<a name="l274"><span class="linenum"> 274</span></a>      }
<a name="l275"><span class="linenum"> 275</span></a>  
<a name="l276"><span class="linenum"> 276</span></a>      <span class="comment">/**</span>
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment">     * Display the start of a section, before the questions.</span>
<a name="l278"><span class="linenum"> 278</span></a>  <span class="comment">     *</span>
<a name="l279"><span class="linenum"> 279</span></a>  <span class="comment">     * @param structure $structure the structure of the quiz being edited.</span>
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment">     * @param \stdClass $section The quiz_section entry from DB</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l282"><span class="linenum"> 282</span></a>  <span class="comment">     */</span>
<a name="l283"><span class="linenum"> 283</span></a>      protected function <a class="function" onClick="logFunction('start_section')" href="../../../../_functions/start_section.html" onMouseOver="funcPopup(event,'start_section')">start_section</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>) {
<a name="l284"><span class="linenum"> 284</span></a>  
<a name="l285"><span class="linenum"> 285</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = '';
<a name="l286"><span class="linenum"> 286</span></a>  
<a name="l287"><span class="linenum"> 287</span></a>          <a class="var it26577" onMouseOver="hilite(26577)" onMouseOut="lolite()" onClick="logVariable('sectionstyle')" href="../../../../_variables/sectionstyle.html">$sectionstyle</a> = '';
<a name="l288"><span class="linenum"> 288</span></a>          if (<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('is_only_one_slot_in_section')" href="../../../../_functions/is_only_one_slot_in_section.html" onMouseOver="funcPopup(event,'is_only_one_slot_in_section')">is_only_one_slot_in_section</a>(<a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>)) {
<a name="l289"><span class="linenum"> 289</span></a>              <a class="var it26577" onMouseOver="hilite(26577)" onMouseOut="lolite()" onClick="logVariable('sectionstyle')" href="../../../../_variables/sectionstyle.html">$sectionstyle</a> = ' only-has-one-slot';
<a name="l290"><span class="linenum"> 290</span></a>          }
<a name="l291"><span class="linenum"> 291</span></a>  
<a name="l292"><span class="linenum"> 292</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../../../../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('li', array('id' =&gt; 'section-'.<a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('id')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>,
<a name="l293"><span class="linenum"> 293</span></a>              'class' =&gt; 'section main clearfix'.<a class="var it26577" onMouseOver="hilite(26577)" onMouseOut="lolite()" onClick="logVariable('sectionstyle')" href="../../../../_variables/sectionstyle.html">$sectionstyle</a>, 'role' =&gt; 'region',
<a name="l294"><span class="linenum"> 294</span></a>              'aria-label' =&gt; <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('heading')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../../_variables/heading.html">heading</a>));
<a name="l295"><span class="linenum"> 295</span></a>  
<a name="l296"><span class="linenum"> 296</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_div')" href="../../../../_functions/start_div.html" onMouseOver="funcPopup(event,'start_div')">start_div</a>('content');
<a name="l297"><span class="linenum"> 297</span></a>  
<a name="l298"><span class="linenum"> 298</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_div')" href="../../../../_functions/start_div.html" onMouseOver="funcPopup(event,'start_div')">start_div</a>('section-heading');
<a name="l299"><span class="linenum"> 299</span></a>  
<a name="l300"><span class="linenum"> 300</span></a>          <a class="var it19581" onMouseOver="hilite(19581)" onMouseOut="lolite()" onClick="logVariable('headingtext')" href="../../../../_variables/headingtext.html">$headingtext</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../../../../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(
<a name="l301"><span class="linenum"> 301</span></a>                  <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('heading')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../../_variables/heading.html">heading</a>, 'instancesection'), 'sectioninstance'), 3);
<a name="l302"><span class="linenum"> 302</span></a>  
<a name="l303"><span class="linenum"> 303</span></a>          if (!<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('can_be_edited')" href="../../../../_functions/can_be_edited.html" onMouseOver="funcPopup(event,'can_be_edited')">can_be_edited</a>()) {
<a name="l304"><span class="linenum"> 304</span></a>              <a class="var it40508" onMouseOver="hilite(40508)" onMouseOut="lolite()" onClick="logVariable('editsectionheadingicon')" href="../../../../_variables/editsectionheadingicon.html">$editsectionheadingicon</a> = '';
<a name="l305"><span class="linenum"> 305</span></a>          } else {
<a name="l306"><span class="linenum"> 306</span></a>              <a class="var it40508" onMouseOver="hilite(40508)" onMouseOut="lolite()" onClick="logVariable('editsectionheadingicon')" href="../../../../_variables/editsectionheadingicon.html">$editsectionheadingicon</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../../../../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(new \moodle_url('#'),
<a name="l307"><span class="linenum"> 307</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('t/editstring', <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('sectionheadingedit', 'quiz', <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('heading')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../../_variables/heading.html">heading</a>),
<a name="l308"><span class="linenum"> 308</span></a>                          'moodle', array('class' =&gt; 'editicon visibleifjs')),
<a name="l309"><span class="linenum"> 309</span></a>                          array('class' =&gt; 'editing_section', 'data-action' =&gt; 'edit_section_title'));
<a name="l310"><span class="linenum"> 310</span></a>          }
<a name="l311"><span class="linenum"> 311</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../../../../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(<a class="var it19581" onMouseOver="hilite(19581)" onMouseOut="lolite()" onClick="logVariable('headingtext')" href="../../../../_variables/headingtext.html">$headingtext</a> . <a class="var it40508" onMouseOver="hilite(40508)" onMouseOut="lolite()" onClick="logVariable('editsectionheadingicon')" href="../../../../_variables/editsectionheadingicon.html">$editsectionheadingicon</a>, 'instancesectioncontainer');
<a name="l312"><span class="linenum"> 312</span></a>  
<a name="l313"><span class="linenum"> 313</span></a>          if (!<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('is_first_section')" href="../../../../_functions/is_first_section.html" onMouseOver="funcPopup(event,'is_first_section')">is_first_section</a>(<a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>) &amp;&amp; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('can_be_edited')" href="../../../../_functions/can_be_edited.html" onMouseOver="funcPopup(event,'can_be_edited')">can_be_edited</a>()) {
<a name="l314"><span class="linenum"> 314</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('section_remove_icon')" href="../../../../_functions/section_remove_icon.html" onMouseOver="funcPopup(event,'section_remove_icon')">section_remove_icon</a>(<a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>);
<a name="l315"><span class="linenum"> 315</span></a>          }
<a name="l316"><span class="linenum"> 316</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('section_shuffle_questions')" href="../../../../_functions/section_shuffle_questions.html" onMouseOver="funcPopup(event,'section_shuffle_questions')">section_shuffle_questions</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>);
<a name="l317"><span class="linenum"> 317</span></a>  
<a name="l318"><span class="linenum"> 318</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_div')" href="../../../../_functions/end_div.html" onMouseOver="funcPopup(event,'end_div')">end_div</a>(<a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>, 'section-heading');
<a name="l319"><span class="linenum"> 319</span></a>  
<a name="l320"><span class="linenum"> 320</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l321"><span class="linenum"> 321</span></a>      }
<a name="l322"><span class="linenum"> 322</span></a>  
<a name="l323"><span class="linenum"> 323</span></a>      <span class="comment">/**</span>
<a name="l324"><span class="linenum"> 324</span></a>  <span class="comment">     * Display a checkbox for shuffling question within a section.</span>
<a name="l325"><span class="linenum"> 325</span></a>  <span class="comment">     *</span>
<a name="l326"><span class="linenum"> 326</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment">     * @param \stdClass $section data from the quiz_section table.</span>
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">     */</span>
<a name="l330"><span class="linenum"> 330</span></a>      public function <a class="function" onClick="logFunction('section_shuffle_questions')" href="../../../../_functions/section_shuffle_questions.html" onMouseOver="funcPopup(event,'section_shuffle_questions')">section_shuffle_questions</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>) {
<a name="l331"><span class="linenum"> 331</span></a>          <a class="var it40509" onMouseOver="hilite(40509)" onMouseOut="lolite()" onClick="logVariable('checkboxattributes')" href="../../../../_variables/checkboxattributes.html">$checkboxattributes</a> = array(
<a name="l332"><span class="linenum"> 332</span></a>              'type' =&gt; 'checkbox',
<a name="l333"><span class="linenum"> 333</span></a>              'id' =&gt; 'shuffle-' . <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('id')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>,
<a name="l334"><span class="linenum"> 334</span></a>              'value' =&gt; 1,
<a name="l335"><span class="linenum"> 335</span></a>              'data-action' =&gt; 'shuffle_questions',
<a name="l336"><span class="linenum"> 336</span></a>              'class' =&gt; 'cm-edit-action',
<a name="l337"><span class="linenum"> 337</span></a>          );
<a name="l338"><span class="linenum"> 338</span></a>  
<a name="l339"><span class="linenum"> 339</span></a>          if (!<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('can_be_edited')" href="../../../../_functions/can_be_edited.html" onMouseOver="funcPopup(event,'can_be_edited')">can_be_edited</a>()) {
<a name="l340"><span class="linenum"> 340</span></a>              <a class="var it40509" onMouseOver="hilite(40509)" onMouseOut="lolite()" onClick="logVariable('checkboxattributes')" href="../../../../_variables/checkboxattributes.html">$checkboxattributes</a>['disabled'] = 'disabled';
<a name="l341"><span class="linenum"> 341</span></a>          }
<a name="l342"><span class="linenum"> 342</span></a>          if (<a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('shufflequestions')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../../_variables/shufflequestions.html">shufflequestions</a>) {
<a name="l343"><span class="linenum"> 343</span></a>              <a class="var it40509" onMouseOver="hilite(40509)" onMouseOut="lolite()" onClick="logVariable('checkboxattributes')" href="../../../../_variables/checkboxattributes.html">$checkboxattributes</a>['checked'] = 'checked';
<a name="l344"><span class="linenum"> 344</span></a>          }
<a name="l345"><span class="linenum"> 345</span></a>  
<a name="l346"><span class="linenum"> 346</span></a>          if (<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('is_first_section')" href="../../../../_functions/is_first_section.html" onMouseOver="funcPopup(event,'is_first_section')">is_first_section</a>(<a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>)) {
<a name="l347"><span class="linenum"> 347</span></a>              <a class="var it1310" onMouseOver="hilite(1310)" onMouseOut="lolite()" onClick="logVariable('help')" href="../../../../_variables/help.html">$help</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('help_icon')" href="../../../../_functions/help_icon.html" onMouseOver="funcPopup(event,'help_icon')">help_icon</a>('shufflequestions', 'quiz');
<a name="l348"><span class="linenum"> 348</span></a>          } else {
<a name="l349"><span class="linenum"> 349</span></a>              <a class="var it1310" onMouseOver="hilite(1310)" onMouseOut="lolite()" onClick="logVariable('help')" href="../../../../_variables/help.html">$help</a> = '';
<a name="l350"><span class="linenum"> 350</span></a>          }
<a name="l351"><span class="linenum"> 351</span></a>  
<a name="l352"><span class="linenum"> 352</span></a>          <a class="var it40510" onMouseOver="hilite(40510)" onMouseOut="lolite()" onClick="logVariable('progressspan')" href="../../../../_variables/progressspan.html">$progressspan</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>('', 'shuffle-progress');
<a name="l353"><span class="linenum"> 353</span></a>          <a class="var it1057" onMouseOver="hilite(1057)" onMouseOut="lolite()" onClick="logVariable('checkbox')" href="../../../../_variables/checkbox.html">$checkbox</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', <a class="var it40509" onMouseOver="hilite(40509)" onMouseOut="lolite()" onClick="logVariable('checkboxattributes')" href="../../../../_variables/checkboxattributes.html">$checkboxattributes</a>);
<a name="l354"><span class="linenum"> 354</span></a>          <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../../../_variables/label.html">$label</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('label')" href="../../../../_functions/label.html" onMouseOver="funcPopup(event,'label')">label</a>(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('shufflequestions', 'quiz') . ' ' . <a class="var it1310" onMouseOver="hilite(1310)" onMouseOut="lolite()" onClick="logVariable('help')" href="../../../../_variables/help.html">$help</a>,
<a name="l355"><span class="linenum"> 355</span></a>                  <a class="var it40509" onMouseOver="hilite(40509)" onMouseOut="lolite()" onClick="logVariable('checkboxattributes')" href="../../../../_variables/checkboxattributes.html">$checkboxattributes</a>['id'], false);
<a name="l356"><span class="linenum"> 356</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it40510" onMouseOver="hilite(40510)" onMouseOut="lolite()" onClick="logVariable('progressspan')" href="../../../../_variables/progressspan.html">$progressspan</a> . <a class="var it1057" onMouseOver="hilite(1057)" onMouseOut="lolite()" onClick="logVariable('checkbox')" href="../../../../_variables/checkbox.html">$checkbox</a> . <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../../../_variables/label.html">$label</a>,
<a name="l357"><span class="linenum"> 357</span></a>                  'instanceshufflequestions', array('data-action' =&gt; 'shuffle_questions'));
<a name="l358"><span class="linenum"> 358</span></a>      }
<a name="l359"><span class="linenum"> 359</span></a>  
<a name="l360"><span class="linenum"> 360</span></a>      <span class="comment">/**</span>
<a name="l361"><span class="linenum"> 361</span></a>  <span class="comment">     * Display the end of a section, after the questions.</span>
<a name="l362"><span class="linenum"> 362</span></a>  <span class="comment">     *</span>
<a name="l363"><span class="linenum"> 363</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment">     */</span>
<a name="l365"><span class="linenum"> 365</span></a>      protected function <a class="function" onClick="logFunction('end_section')" href="../../../../_functions/end_section.html" onMouseOver="funcPopup(event,'end_section')">end_section</a>() {
<a name="l366"><span class="linenum"> 366</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l367"><span class="linenum"> 367</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('li');
<a name="l368"><span class="linenum"> 368</span></a>  
<a name="l369"><span class="linenum"> 369</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l370"><span class="linenum"> 370</span></a>      }
<a name="l371"><span class="linenum"> 371</span></a>  
<a name="l372"><span class="linenum"> 372</span></a>      <span class="comment">/**</span>
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment">     * Render an icon to remove a section from the quiz.</span>
<a name="l374"><span class="linenum"> 374</span></a>  <span class="comment">     *</span>
<a name="l375"><span class="linenum"> 375</span></a>  <span class="comment">     * @param object $section the section to be removed.</span>
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment">     */</span>
<a name="l378"><span class="linenum"> 378</span></a>      public function <a class="function" onClick="logFunction('section_remove_icon')" href="../../../../_functions/section_remove_icon.html" onMouseOver="funcPopup(event,'section_remove_icon')">section_remove_icon</a>(<a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>) {
<a name="l379"><span class="linenum"> 379</span></a>          <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('sectionheadingremove', 'quiz', <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('heading')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../../_variables/heading.html">heading</a>);
<a name="l380"><span class="linenum"> 380</span></a>          <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../../_variables/url.html">$url</a> = new \moodle_url('<a class="filename" href="../../../../mod/quiz/edit.php.html">/mod/quiz/edit.php</a>',
<a name="l381"><span class="linenum"> 381</span></a>                  array('sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../../../../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>(), 'removesection' =&gt; '1', 'sectionid' =&gt; <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('id')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>));
<a name="l382"><span class="linenum"> 382</span></a>          <a class="var it872" onMouseOver="hilite(872)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../_variables/image.html">$image</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('t/delete', <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a>);
<a name="l383"><span class="linenum"> 383</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('action_link')" href="../../../../_functions/action_link.html" onMouseOver="funcPopup(event,'action_link')">action_link</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../../_variables/url.html">$url</a>, <a class="var it872" onMouseOver="hilite(872)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../_variables/image.html">$image</a>, null, array(
<a name="l384"><span class="linenum"> 384</span></a>                  'class' =&gt; 'cm-edit-action editing_delete', 'data-action' =&gt; 'deletesection'));
<a name="l385"><span class="linenum"> 385</span></a>      }
<a name="l386"><span class="linenum"> 386</span></a>  
<a name="l387"><span class="linenum"> 387</span></a>      <span class="comment">/**</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">     * Renders HTML to display the questions in a section of the quiz.</span>
<a name="l389"><span class="linenum"> 389</span></a>  <span class="comment">     *</span>
<a name="l390"><span class="linenum"> 390</span></a>  <span class="comment">     * This function calls {@link core_course_renderer::quiz_section_question()}</span>
<a name="l391"><span class="linenum"> 391</span></a>  <span class="comment">     *</span>
<a name="l392"><span class="linenum"> 392</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l393"><span class="linenum"> 393</span></a>  <span class="comment">     * @param \stdClass $section information about the section.</span>
<a name="l394"><span class="linenum"> 394</span></a>  <span class="comment">     * @param \question_edit_contexts $contexts the relevant question bank contexts.</span>
<a name="l395"><span class="linenum"> 395</span></a>  <span class="comment">     * @param array $pagevars the variables from {@link \question_edit_setup()}.</span>
<a name="l396"><span class="linenum"> 396</span></a>  <span class="comment">     * @param \moodle_url $pageurl the canonical URL of this page.</span>
<a name="l397"><span class="linenum"> 397</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l398"><span class="linenum"> 398</span></a>  <span class="comment">     */</span>
<a name="l399"><span class="linenum"> 399</span></a>      public function <a class="function" onClick="logFunction('questions_in_section')" href="../../../../_functions/questions_in_section.html" onMouseOver="funcPopup(event,'questions_in_section')">questions_in_section</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>,
<a name="l400"><span class="linenum"> 400</span></a>              <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>) {
<a name="l401"><span class="linenum"> 401</span></a>  
<a name="l402"><span class="linenum"> 402</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = '';
<a name="l403"><span class="linenum"> 403</span></a>          foreach (<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_slots_in_section')" href="../../../../_functions/get_slots_in_section.html" onMouseOver="funcPopup(event,'get_slots_in_section')">get_slots_in_section</a>(<a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('id')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>) as <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>) {
<a name="l404"><span class="linenum"> 404</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('question_row')" href="../../../../_functions/question_row.html" onMouseOver="funcPopup(event,'question_row')">question_row</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>, <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>);
<a name="l405"><span class="linenum"> 405</span></a>          }
<a name="l406"><span class="linenum"> 406</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('ul', <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>, array('class' =&gt; 'section img-text'));
<a name="l407"><span class="linenum"> 407</span></a>      }
<a name="l408"><span class="linenum"> 408</span></a>  
<a name="l409"><span class="linenum"> 409</span></a>      <span class="comment">/**</span>
<a name="l410"><span class="linenum"> 410</span></a>  <span class="comment">     * Displays one question with the surrounding controls.</span>
<a name="l411"><span class="linenum"> 411</span></a>  <span class="comment">     *</span>
<a name="l412"><span class="linenum"> 412</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l413"><span class="linenum"> 413</span></a>  <span class="comment">     * @param int $slot which slot we are outputting.</span>
<a name="l414"><span class="linenum"> 414</span></a>  <span class="comment">     * @param \question_edit_contexts $contexts the relevant question bank contexts.</span>
<a name="l415"><span class="linenum"> 415</span></a>  <span class="comment">     * @param array $pagevars the variables from {@link \question_edit_setup()}.</span>
<a name="l416"><span class="linenum"> 416</span></a>  <span class="comment">     * @param \moodle_url $pageurl the canonical URL of this page.</span>
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l418"><span class="linenum"> 418</span></a>  <span class="comment">     */</span>
<a name="l419"><span class="linenum"> 419</span></a>      public function <a class="function" onClick="logFunction('question_row')" href="../../../../_functions/question_row.html" onMouseOver="funcPopup(event,'question_row')">question_row</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>, <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>) {
<a name="l420"><span class="linenum"> 420</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = '';
<a name="l421"><span class="linenum"> 421</span></a>  
<a name="l422"><span class="linenum"> 422</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('page_row')" href="../../../../_functions/page_row.html" onMouseOver="funcPopup(event,'page_row')">page_row</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>, <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>);
<a name="l423"><span class="linenum"> 423</span></a>  
<a name="l424"><span class="linenum"> 424</span></a>  <span class="comment">        // Page split/join icon.</span>
<a name="l425"><span class="linenum"> 425</span></a>          <a class="var it40511" onMouseOver="hilite(40511)" onMouseOut="lolite()" onClick="logVariable('joinhtml')" href="../../../../_variables/joinhtml.html">$joinhtml</a> = '';
<a name="l426"><span class="linenum"> 426</span></a>          if (<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('can_be_edited')" href="../../../../_functions/can_be_edited.html" onMouseOver="funcPopup(event,'can_be_edited')">can_be_edited</a>() &amp;&amp; !<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('is_last_slot_in_quiz')" href="../../../../_functions/is_last_slot_in_quiz.html" onMouseOver="funcPopup(event,'is_last_slot_in_quiz')">is_last_slot_in_quiz</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>) &amp;&amp;
<a name="l427"><span class="linenum"> 427</span></a>                                              !<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('is_last_slot_in_section')" href="../../../../_functions/is_last_slot_in_section.html" onMouseOver="funcPopup(event,'is_last_slot_in_section')">is_last_slot_in_section</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>)) {
<a name="l428"><span class="linenum"> 428</span></a>              <a class="var it40511" onMouseOver="hilite(40511)" onMouseOut="lolite()" onClick="logVariable('joinhtml')" href="../../../../_variables/joinhtml.html">$joinhtml</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('page_split_join_button')" href="../../../../_functions/page_split_join_button.html" onMouseOver="funcPopup(event,'page_split_join_button')">page_split_join_button</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>);
<a name="l429"><span class="linenum"> 429</span></a>          }
<a name="l430"><span class="linenum"> 430</span></a>  <span class="comment">        // Question HTML.</span>
<a name="l431"><span class="linenum"> 431</span></a>          <a class="var it40512" onMouseOver="hilite(40512)" onMouseOut="lolite()" onClick="logVariable('questionhtml')" href="../../../../_variables/questionhtml.html">$questionhtml</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('question')" href="../../../../_functions/question.html" onMouseOver="funcPopup(event,'question')">question</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>);
<a name="l432"><span class="linenum"> 432</span></a>          <a class="var it260" onMouseOver="hilite(260)" onMouseOut="lolite()" onClick="logVariable('qtype')" href="../../../../_variables/qtype.html">$qtype</a> = <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_question_type_for_slot')" href="../../../../_functions/get_question_type_for_slot.html" onMouseOver="funcPopup(event,'get_question_type_for_slot')">get_question_type_for_slot</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>);
<a name="l433"><span class="linenum"> 433</span></a>          <a class="var it40513" onMouseOver="hilite(40513)" onMouseOut="lolite()" onClick="logVariable('questionclasses')" href="../../../../_variables/questionclasses.html">$questionclasses</a> = 'activity ' . <a class="var it260" onMouseOver="hilite(260)" onMouseOut="lolite()" onClick="logVariable('qtype')" href="../../../../_variables/qtype.html">$qtype</a> . ' qtype_' . <a class="var it260" onMouseOver="hilite(260)" onMouseOut="lolite()" onClick="logVariable('qtype')" href="../../../../_variables/qtype.html">$qtype</a> . ' slot';
<a name="l434"><span class="linenum"> 434</span></a>  
<a name="l435"><span class="linenum"> 435</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('li', <a class="var it40512" onMouseOver="hilite(40512)" onMouseOut="lolite()" onClick="logVariable('questionhtml')" href="../../../../_variables/questionhtml.html">$questionhtml</a> . <a class="var it40511" onMouseOver="hilite(40511)" onMouseOut="lolite()" onClick="logVariable('joinhtml')" href="../../../../_variables/joinhtml.html">$joinhtml</a>,
<a name="l436"><span class="linenum"> 436</span></a>                  array('class' =&gt; <a class="var it40513" onMouseOver="hilite(40513)" onMouseOut="lolite()" onClick="logVariable('questionclasses')" href="../../../../_variables/questionclasses.html">$questionclasses</a>, 'id' =&gt; 'slot-' . <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_slot_id_for_slot')" href="../../../../_functions/get_slot_id_for_slot.html" onMouseOver="funcPopup(event,'get_slot_id_for_slot')">get_slot_id_for_slot</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>),
<a name="l437"><span class="linenum"> 437</span></a>                          'data-canfinish' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('can_finish_during_the_attempt')" href="../../../../_functions/can_finish_during_the_attempt.html" onMouseOver="funcPopup(event,'can_finish_during_the_attempt')">can_finish_during_the_attempt</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>)));
<a name="l438"><span class="linenum"> 438</span></a>  
<a name="l439"><span class="linenum"> 439</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l440"><span class="linenum"> 440</span></a>      }
<a name="l441"><span class="linenum"> 441</span></a>  
<a name="l442"><span class="linenum"> 442</span></a>      <span class="comment">/**</span>
<a name="l443"><span class="linenum"> 443</span></a>  <span class="comment">     * Displays one question with the surrounding controls.</span>
<a name="l444"><span class="linenum"> 444</span></a>  <span class="comment">     *</span>
<a name="l445"><span class="linenum"> 445</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l446"><span class="linenum"> 446</span></a>  <span class="comment">     * @param int $slot the first slot on the page we are outputting.</span>
<a name="l447"><span class="linenum"> 447</span></a>  <span class="comment">     * @param \question_edit_contexts $contexts the relevant question bank contexts.</span>
<a name="l448"><span class="linenum"> 448</span></a>  <span class="comment">     * @param array $pagevars the variables from {@link \question_edit_setup()}.</span>
<a name="l449"><span class="linenum"> 449</span></a>  <span class="comment">     * @param \moodle_url $pageurl the canonical URL of this page.</span>
<a name="l450"><span class="linenum"> 450</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l451"><span class="linenum"> 451</span></a>  <span class="comment">     */</span>
<a name="l452"><span class="linenum"> 452</span></a>      public function <a class="function" onClick="logFunction('page_row')" href="../../../../_functions/page_row.html" onMouseOver="funcPopup(event,'page_row')">page_row</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>, <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>) {
<a name="l453"><span class="linenum"> 453</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = '';
<a name="l454"><span class="linenum"> 454</span></a>  
<a name="l455"><span class="linenum"> 455</span></a>          <a class="var it20856" onMouseOver="hilite(20856)" onMouseOut="lolite()" onClick="logVariable('pagenumber')" href="../../../../_variables/pagenumber.html">$pagenumber</a> = <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_page_number_for_slot')" href="../../../../_functions/get_page_number_for_slot.html" onMouseOver="funcPopup(event,'get_page_number_for_slot')">get_page_number_for_slot</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>);
<a name="l456"><span class="linenum"> 456</span></a>  
<a name="l457"><span class="linenum"> 457</span></a>  <span class="comment">        // Put page in a heading for accessibility and styling.</span>
<a name="l458"><span class="linenum"> 458</span></a>          <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../../../../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('page') . ' ' . <a class="var it20856" onMouseOver="hilite(20856)" onMouseOut="lolite()" onClick="logVariable('pagenumber')" href="../../../../_variables/pagenumber.html">$pagenumber</a>, 4);
<a name="l459"><span class="linenum"> 459</span></a>  
<a name="l460"><span class="linenum"> 460</span></a>          if (<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('is_first_slot_on_page')" href="../../../../_functions/is_first_slot_on_page.html" onMouseOver="funcPopup(event,'is_first_slot_on_page')">is_first_slot_on_page</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>)) {
<a name="l461"><span class="linenum"> 461</span></a>  <span class="comment">            // Add the add-menu at the page level.</span>
<a name="l462"><span class="linenum"> 462</span></a>              <a class="var it40514" onMouseOver="hilite(40514)" onMouseOut="lolite()" onClick="logVariable('addmenu')" href="../../../../_variables/addmenu.html">$addmenu</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_menu_actions')" href="../../../../_functions/add_menu_actions.html" onMouseOver="funcPopup(event,'add_menu_actions')">add_menu_actions</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>,
<a name="l463"><span class="linenum"> 463</span></a>                      <a class="var it20856" onMouseOver="hilite(20856)" onMouseOut="lolite()" onClick="logVariable('pagenumber')" href="../../../../_variables/pagenumber.html">$pagenumber</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>, <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>),
<a name="l464"><span class="linenum"> 464</span></a>                      array('class' =&gt; 'add-menu-outer'));
<a name="l465"><span class="linenum"> 465</span></a>  
<a name="l466"><span class="linenum"> 466</span></a>              <a class="var it40515" onMouseOver="hilite(40515)" onMouseOut="lolite()" onClick="logVariable('addquestionform')" href="../../../../_variables/addquestionform.html">$addquestionform</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_question_form')" href="../../../../_functions/add_question_form.html" onMouseOver="funcPopup(event,'add_question_form')">add_question_form</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>,
<a name="l467"><span class="linenum"> 467</span></a>                      <a class="var it20856" onMouseOver="hilite(20856)" onMouseOut="lolite()" onClick="logVariable('pagenumber')" href="../../../../_variables/pagenumber.html">$pagenumber</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>, <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>);
<a name="l468"><span class="linenum"> 468</span></a>  
<a name="l469"><span class="linenum"> 469</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('li', <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a> . <a class="var it40514" onMouseOver="hilite(40514)" onMouseOut="lolite()" onClick="logVariable('addmenu')" href="../../../../_variables/addmenu.html">$addmenu</a> . <a class="var it40515" onMouseOver="hilite(40515)" onMouseOut="lolite()" onClick="logVariable('addquestionform')" href="../../../../_variables/addquestionform.html">$addquestionform</a>,
<a name="l470"><span class="linenum"> 470</span></a>                      array('class' =&gt; 'pagenumber activity yui3-dd-drop page', 'id' =&gt; 'page-' . <a class="var it20856" onMouseOver="hilite(20856)" onMouseOut="lolite()" onClick="logVariable('pagenumber')" href="../../../../_variables/pagenumber.html">$pagenumber</a>));
<a name="l471"><span class="linenum"> 471</span></a>          }
<a name="l472"><span class="linenum"> 472</span></a>  
<a name="l473"><span class="linenum"> 473</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l474"><span class="linenum"> 474</span></a>      }
<a name="l475"><span class="linenum"> 475</span></a>  
<a name="l476"><span class="linenum"> 476</span></a>      <span class="comment">/**</span>
<a name="l477"><span class="linenum"> 477</span></a>  <span class="comment">     * Returns the add menu that is output once per page.</span>
<a name="l478"><span class="linenum"> 478</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l479"><span class="linenum"> 479</span></a>  <span class="comment">     * @param int $page the page number that this menu will add to.</span>
<a name="l480"><span class="linenum"> 480</span></a>  <span class="comment">     * @param \moodle_url $pageurl the canonical URL of this page.</span>
<a name="l481"><span class="linenum"> 481</span></a>  <span class="comment">     * @param \question_edit_contexts $contexts the relevant question bank contexts.</span>
<a name="l482"><span class="linenum"> 482</span></a>  <span class="comment">     * @param array $pagevars the variables from {@link \question_edit_setup()}.</span>
<a name="l483"><span class="linenum"> 483</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l484"><span class="linenum"> 484</span></a>  <span class="comment">     */</span>
<a name="l485"><span class="linenum"> 485</span></a>      public function <a class="function" onClick="logFunction('add_menu_actions')" href="../../../../_functions/add_menu_actions.html" onMouseOver="funcPopup(event,'add_menu_actions')">add_menu_actions</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a>, \moodle_url <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>,
<a name="l486"><span class="linenum"> 486</span></a>              \question_edit_contexts <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, array <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>) {
<a name="l487"><span class="linenum"> 487</span></a>  
<a name="l488"><span class="linenum"> 488</span></a>          <a class="var it2210" onMouseOver="hilite(2210)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../../../../_variables/actions.html">$actions</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('edit_menu_actions')" href="../../../../_functions/edit_menu_actions.html" onMouseOver="funcPopup(event,'edit_menu_actions')">edit_menu_actions</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>, <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>);
<a name="l489"><span class="linenum"> 489</span></a>          if (empty(<a class="var it2210" onMouseOver="hilite(2210)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../../../../_variables/actions.html">$actions</a>)) {
<a name="l490"><span class="linenum"> 490</span></a>              return '';
<a name="l491"><span class="linenum"> 491</span></a>          }
<a name="l492"><span class="linenum"> 492</span></a>          <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../../../_variables/menu.html">$menu</a> = new \action_menu();
<a name="l493"><span class="linenum"> 493</span></a>          <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../../../_variables/menu.html">$menu</a>-&gt;<a class="function" onClick="logFunction('set_alignment')" href="../../../../_functions/set_alignment.html" onMouseOver="funcPopup(event,'set_alignment')">set_alignment</a>(\<a class="class" onClick="logClass('action_menu')" href="../../../../_classes/action_menu.html" onMouseOver="classPopup(event,'action_menu')">action_menu</a>::TR, \<a class="class" onClick="logClass('action_menu')" href="../../../../_classes/action_menu.html" onMouseOver="classPopup(event,'action_menu')">action_menu</a>::TR);
<a name="l494"><span class="linenum"> 494</span></a>          <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../../../_variables/menu.html">$menu</a>-&gt;<a class="function" onClick="logFunction('set_constraint')" href="../../../../_functions/set_constraint.html" onMouseOver="funcPopup(event,'set_constraint')">set_constraint</a>('.mod-quiz-edit-content');
<a name="l495"><span class="linenum"> 495</span></a>          <a class="var it19636" onMouseOver="hilite(19636)" onMouseOut="lolite()" onClick="logVariable('trigger')" href="../../../../_variables/trigger.html">$trigger</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('add', 'quiz'), array('class' =&gt; 'add-menu'));
<a name="l496"><span class="linenum"> 496</span></a>          <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../../../_variables/menu.html">$menu</a>-&gt;<a class="function" onClick="logFunction('set_menu_trigger')" href="../../../../_functions/set_menu_trigger.html" onMouseOver="funcPopup(event,'set_menu_trigger')">set_menu_trigger</a>(<a class="var it19636" onMouseOver="hilite(19636)" onMouseOut="lolite()" onClick="logVariable('trigger')" href="../../../../_variables/trigger.html">$trigger</a>);
<a name="l497"><span class="linenum"> 497</span></a>  <span class="comment">        // The menu appears within an absolutely positioned element causing width problems.</span>
<a name="l498"><span class="linenum"> 498</span></a>  <span class="comment">        // Make sure no-wrap is set so that we don't get a squashed menu.</span>
<a name="l499"><span class="linenum"> 499</span></a>          <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../../../_variables/menu.html">$menu</a>-&gt;<a class="function" onClick="logFunction('set_nowrap_on_items')" href="../../../../_functions/set_nowrap_on_items.html" onMouseOver="funcPopup(event,'set_nowrap_on_items')">set_nowrap_on_items</a>(true);
<a name="l500"><span class="linenum"> 500</span></a>  
<a name="l501"><span class="linenum"> 501</span></a>  <span class="comment">        // Disable the link if quiz has attempts.</span>
<a name="l502"><span class="linenum"> 502</span></a>          if (!<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('can_be_edited')" href="../../../../_functions/can_be_edited.html" onMouseOver="funcPopup(event,'can_be_edited')">can_be_edited</a>()) {
<a name="l503"><span class="linenum"> 503</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../../../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../../../_variables/menu.html">$menu</a>);
<a name="l504"><span class="linenum"> 504</span></a>          }
<a name="l505"><span class="linenum"> 505</span></a>  
<a name="l506"><span class="linenum"> 506</span></a>          foreach (<a class="var it2210" onMouseOver="hilite(2210)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../../../../_variables/actions.html">$actions</a> as <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../../_variables/action.html">$action</a>) {
<a name="l507"><span class="linenum"> 507</span></a>              if (<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../../_variables/action.html">$action</a> instanceof \action_menu_link) {
<a name="l508"><span class="linenum"> 508</span></a>                  <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../../_variables/action.html">$action</a>-&gt;<a class="function" onClick="logFunction('add_class')" href="../../../../_functions/add_class.html" onMouseOver="funcPopup(event,'add_class')">add_class</a>('add-menu');
<a name="l509"><span class="linenum"> 509</span></a>              }
<a name="l510"><span class="linenum"> 510</span></a>              <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../../../_variables/menu.html">$menu</a>-&gt;<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../../_variables/action.html">$action</a>);
<a name="l511"><span class="linenum"> 511</span></a>          }
<a name="l512"><span class="linenum"> 512</span></a>          <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../../../_variables/menu.html">$menu</a>-&gt;<a onClick="logVariable('attributes')" class="var it43442" onMouseOver="hilite(43442)" onMouseOut="lolite()" href="../../../../_variables/attributes.html">attributes</a>['class'] .= ' page-add-actions commands';
<a name="l513"><span class="linenum"> 513</span></a>  
<a name="l514"><span class="linenum"> 514</span></a>  <span class="comment">        // Prioritise the menu ahead of all other actions.</span>
<a name="l515"><span class="linenum"> 515</span></a>          <a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../../../_variables/menu.html">$menu</a>-&gt;<a onClick="logVariable('prioritise')" class="var it43442" onMouseOver="hilite(43442)" onMouseOut="lolite()" href="../../../../_variables/prioritise.html">prioritise</a> = true;
<a name="l516"><span class="linenum"> 516</span></a>  
<a name="l517"><span class="linenum"> 517</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render')" href="../../../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it2208" onMouseOver="hilite(2208)" onMouseOut="lolite()" onClick="logVariable('menu')" href="../../../../_variables/menu.html">$menu</a>);
<a name="l518"><span class="linenum"> 518</span></a>      }
<a name="l519"><span class="linenum"> 519</span></a>  
<a name="l520"><span class="linenum"> 520</span></a>      <span class="comment">/**</span>
<a name="l521"><span class="linenum"> 521</span></a>  <span class="comment">     * Returns the list of actions to go in the add menu.</span>
<a name="l522"><span class="linenum"> 522</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l523"><span class="linenum"> 523</span></a>  <span class="comment">     * @param int $page the page number that this menu will add to.</span>
<a name="l524"><span class="linenum"> 524</span></a>  <span class="comment">     * @param \moodle_url $pageurl the canonical URL of this page.</span>
<a name="l525"><span class="linenum"> 525</span></a>  <span class="comment">     * @param array $pagevars the variables from {@link \question_edit_setup()}.</span>
<a name="l526"><span class="linenum"> 526</span></a>  <span class="comment">     * @return array the actions.</span>
<a name="l527"><span class="linenum"> 527</span></a>  <span class="comment">     */</span>
<a name="l528"><span class="linenum"> 528</span></a>      public function <a class="function" onClick="logFunction('edit_menu_actions')" href="../../../../_functions/edit_menu_actions.html" onMouseOver="funcPopup(event,'edit_menu_actions')">edit_menu_actions</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a>,
<a name="l529"><span class="linenum"> 529</span></a>              \moodle_url <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>, array <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>) {
<a name="l530"><span class="linenum"> 530</span></a>          <a class="var it34441" onMouseOver="hilite(34441)" onMouseOut="lolite()" onClick="logVariable('questioncategoryid')" href="../../../../_variables/questioncategoryid.html">$questioncategoryid</a> = <a class="function" onClick="logFunction('question_get_category_id_from_pagevars')" href="../../../../_functions/question_get_category_id_from_pagevars.html" onMouseOver="funcPopup(event,'question_get_category_id_from_pagevars')">question_get_category_id_from_pagevars</a>(<a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>);
<a name="l531"><span class="linenum"> 531</span></a>          static <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>;
<a name="l532"><span class="linenum"> 532</span></a>          if (!isset(<a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>)) {
<a name="l533"><span class="linenum"> 533</span></a>              <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a> = <a class="function" onClick="logFunction('get_strings')" href="../../../../_functions/get_strings.html" onMouseOver="funcPopup(event,'get_strings')">get_strings</a>(array('addasection', 'addaquestion', 'addarandomquestion',
<a name="l534"><span class="linenum"> 534</span></a>                      'addarandomselectedquestion', 'questionbank'), 'quiz');
<a name="l535"><span class="linenum"> 535</span></a>          }
<a name="l536"><span class="linenum"> 536</span></a>  
<a name="l537"><span class="linenum"> 537</span></a>  <span class="comment">        // Get section, page, slotnumber and maxmark.</span>
<a name="l538"><span class="linenum"> 538</span></a>          <a class="var it2210" onMouseOver="hilite(2210)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../../../../_variables/actions.html">$actions</a> = array();
<a name="l539"><span class="linenum"> 539</span></a>  
<a name="l540"><span class="linenum"> 540</span></a>  <span class="comment">        // Add a new section to the add_menu if possible. This is always added to the HTML</span>
<a name="l541"><span class="linenum"> 541</span></a>  <span class="comment">        // then hidden with CSS when no needed, so that as things are re-ordered, etc. with</span>
<a name="l542"><span class="linenum"> 542</span></a>  <span class="comment">        // Ajax it can be relevaled again when necessary.</span>
<a name="l543"><span class="linenum"> 543</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a> = array('cmid' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_cmid')" href="../../../../_functions/get_cmid.html" onMouseOver="funcPopup(event,'get_cmid')">get_cmid</a>(), 'addsectionatpage' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a>);
<a name="l544"><span class="linenum"> 544</span></a>  
<a name="l545"><span class="linenum"> 545</span></a>          <a class="var it2210" onMouseOver="hilite(2210)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../../../../_variables/actions.html">$actions</a>['addasection'] = new \action_menu_link_secondary(
<a name="l546"><span class="linenum"> 546</span></a>                  new \moodle_url(<a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a>),
<a name="l547"><span class="linenum"> 547</span></a>                  new \<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('t/add', <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>-&gt;<a onClick="logVariable('addasection')" class="var it43856" onMouseOver="hilite(43856)" onMouseOut="lolite()" href="../../../../_variables/addasection.html">addasection</a>, 'moodle', array('class' =&gt; 'iconsmall', 'title' =&gt; '')),
<a name="l548"><span class="linenum"> 548</span></a>                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>-&gt;<a onClick="logVariable('addasection')" class="var it43856" onMouseOver="hilite(43856)" onMouseOut="lolite()" href="../../../../_variables/addasection.html">addasection</a>, array('class' =&gt; 'cm-edit-action addasection', 'data-action' =&gt; 'addasection')
<a name="l549"><span class="linenum"> 549</span></a>          );
<a name="l550"><span class="linenum"> 550</span></a>  
<a name="l551"><span class="linenum"> 551</span></a>  <span class="comment">        // Add a new question to the quiz.</span>
<a name="l552"><span class="linenum"> 552</span></a>          <a class="var it1440" onMouseOver="hilite(1440)" onMouseOut="lolite()" onClick="logVariable('returnurl')" href="../../../../_variables/returnurl.html">$returnurl</a> = new \moodle_url(<a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>, array('addonpage' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a>));
<a name="l553"><span class="linenum"> 553</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a> = array('returnurl' =&gt; <a class="var it1440" onMouseOver="hilite(1440)" onMouseOut="lolite()" onClick="logVariable('returnurl')" href="../../../../_variables/returnurl.html">$returnurl</a>-&gt;<a class="function" onClick="logFunction('out_as_local_url')" href="../../../../_functions/out_as_local_url.html" onMouseOver="funcPopup(event,'out_as_local_url')">out_as_local_url</a>(false),
<a name="l554"><span class="linenum"> 554</span></a>                  'cmid' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_cmid')" href="../../../../_functions/get_cmid.html" onMouseOver="funcPopup(event,'get_cmid')">get_cmid</a>(), 'category' =&gt; <a class="var it34441" onMouseOver="hilite(34441)" onMouseOut="lolite()" onClick="logVariable('questioncategoryid')" href="../../../../_variables/questioncategoryid.html">$questioncategoryid</a>,
<a name="l555"><span class="linenum"> 555</span></a>                  'addonpage' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a>, 'appendqnumstring' =&gt; 'addquestion');
<a name="l556"><span class="linenum"> 556</span></a>  
<a name="l557"><span class="linenum"> 557</span></a>          <a class="var it2210" onMouseOver="hilite(2210)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../../../../_variables/actions.html">$actions</a>['addaquestion'] = new \action_menu_link_secondary(
<a name="l558"><span class="linenum"> 558</span></a>              new \moodle_url('<a class="filename" href="../../../../question/addquestion.php.html">/question/addquestion.php</a>', <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a>),
<a name="l559"><span class="linenum"> 559</span></a>              new \<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('t/add', <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>-&gt;<a onClick="logVariable('addaquestion')" class="var it43856" onMouseOver="hilite(43856)" onMouseOut="lolite()" href="../../../../_variables/addaquestion.html">addaquestion</a>, 'moodle', array('class' =&gt; 'iconsmall', 'title' =&gt; '')),
<a name="l560"><span class="linenum"> 560</span></a>              <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>-&gt;<a onClick="logVariable('addaquestion')" class="var it43856" onMouseOver="hilite(43856)" onMouseOut="lolite()" href="../../../../_variables/addaquestion.html">addaquestion</a>, array('class' =&gt; 'cm-edit-action addquestion', 'data-action' =&gt; 'addquestion')
<a name="l561"><span class="linenum"> 561</span></a>          );
<a name="l562"><span class="linenum"> 562</span></a>  
<a name="l563"><span class="linenum"> 563</span></a>  <span class="comment">        // Call question bank.</span>
<a name="l564"><span class="linenum"> 564</span></a>          <a class="var it727" onMouseOver="hilite(727)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../../../../_variables/icon.html">$icon</a> = new \<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('t/add', <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>-&gt;<a onClick="logVariable('questionbank')" class="var it43856" onMouseOver="hilite(43856)" onMouseOut="lolite()" href="../../../../_variables/questionbank.html">questionbank</a>, 'moodle', array('class' =&gt; 'iconsmall', 'title' =&gt; ''));
<a name="l565"><span class="linenum"> 565</span></a>          if (<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a>) {
<a name="l566"><span class="linenum"> 566</span></a>              <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addquestionfrombanktopage', 'quiz', <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a>);
<a name="l567"><span class="linenum"> 567</span></a>          } else {
<a name="l568"><span class="linenum"> 568</span></a>              <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addquestionfrombankatend', 'quiz');
<a name="l569"><span class="linenum"> 569</span></a>          }
<a name="l570"><span class="linenum"> 570</span></a>          <a class="var it493" onMouseOver="hilite(493)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../../../_variables/attributes.html">$attributes</a> = array('class' =&gt; 'cm-edit-action questionbank',
<a name="l571"><span class="linenum"> 571</span></a>                  'data-header' =&gt; <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a>, 'data-action' =&gt; 'questionbank', 'data-addonpage' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a>);
<a name="l572"><span class="linenum"> 572</span></a>          <a class="var it2210" onMouseOver="hilite(2210)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../../../../_variables/actions.html">$actions</a>['questionbank'] = new \action_menu_link_secondary(<a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>, <a class="var it727" onMouseOver="hilite(727)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../../../../_variables/icon.html">$icon</a>, <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>-&gt;<a onClick="logVariable('questionbank')" class="var it43856" onMouseOver="hilite(43856)" onMouseOut="lolite()" href="../../../../_variables/questionbank.html">questionbank</a>, <a class="var it493" onMouseOver="hilite(493)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../../../_variables/attributes.html">$attributes</a>);
<a name="l573"><span class="linenum"> 573</span></a>  
<a name="l574"><span class="linenum"> 574</span></a>  <span class="comment">        // Add a random question.</span>
<a name="l575"><span class="linenum"> 575</span></a>          <a class="var it1440" onMouseOver="hilite(1440)" onMouseOut="lolite()" onClick="logVariable('returnurl')" href="../../../../_variables/returnurl.html">$returnurl</a> = new \moodle_url('<a class="filename" href="../../../../mod/quiz/edit.php.html">/mod/quiz/edit.php</a>', array('cmid' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_cmid')" href="../../../../_functions/get_cmid.html" onMouseOver="funcPopup(event,'get_cmid')">get_cmid</a>(), 'data-addonpage' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a>));
<a name="l576"><span class="linenum"> 576</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a> = array('returnurl' =&gt; <a class="var it1440" onMouseOver="hilite(1440)" onMouseOut="lolite()" onClick="logVariable('returnurl')" href="../../../../_variables/returnurl.html">$returnurl</a>, 'cmid' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_cmid')" href="../../../../_functions/get_cmid.html" onMouseOver="funcPopup(event,'get_cmid')">get_cmid</a>(), 'appendqnumstring' =&gt; 'addarandomquestion');
<a name="l577"><span class="linenum"> 577</span></a>          <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../../_variables/url.html">$url</a> = new \moodle_url('<a class="filename" href="../../../../mod/quiz/addrandom.php.html">/mod/quiz/addrandom.php</a>', <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../../_variables/params.html">$params</a>);
<a name="l578"><span class="linenum"> 578</span></a>          <a class="var it727" onMouseOver="hilite(727)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../../../../_variables/icon.html">$icon</a> = new \<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('t/add', <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>-&gt;<a onClick="logVariable('addarandomquestion')" class="var it43856" onMouseOver="hilite(43856)" onMouseOut="lolite()" href="../../../../_variables/addarandomquestion.html">addarandomquestion</a>, 'moodle', array('class' =&gt; 'iconsmall', 'title' =&gt; ''));
<a name="l579"><span class="linenum"> 579</span></a>          <a class="var it493" onMouseOver="hilite(493)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../../../_variables/attributes.html">$attributes</a> = array('class' =&gt; 'cm-edit-action addarandomquestion', 'data-action' =&gt; 'addarandomquestion');
<a name="l580"><span class="linenum"> 580</span></a>          if (<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a>) {
<a name="l581"><span class="linenum"> 581</span></a>              <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addrandomquestiontopage', 'quiz', <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a>);
<a name="l582"><span class="linenum"> 582</span></a>          } else {
<a name="l583"><span class="linenum"> 583</span></a>              <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addrandomquestionatend', 'quiz');
<a name="l584"><span class="linenum"> 584</span></a>          }
<a name="l585"><span class="linenum"> 585</span></a>          <a class="var it493" onMouseOver="hilite(493)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../../../_variables/attributes.html">$attributes</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(array('data-header' =&gt; <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a>, 'data-addonpage' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a>), <a class="var it493" onMouseOver="hilite(493)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../../../_variables/attributes.html">$attributes</a>);
<a name="l586"><span class="linenum"> 586</span></a>          <a class="var it2210" onMouseOver="hilite(2210)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../../../../_variables/actions.html">$actions</a>['addarandomquestion'] = new \action_menu_link_secondary(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../../_variables/url.html">$url</a>, <a class="var it727" onMouseOver="hilite(727)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../../../../_variables/icon.html">$icon</a>, <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../../../_variables/str.html">$str</a>-&gt;<a onClick="logVariable('addarandomquestion')" class="var it43856" onMouseOver="hilite(43856)" onMouseOut="lolite()" href="../../../../_variables/addarandomquestion.html">addarandomquestion</a>, <a class="var it493" onMouseOver="hilite(493)" onMouseOut="lolite()" onClick="logVariable('attributes')" href="../../../../_variables/attributes.html">$attributes</a>);
<a name="l587"><span class="linenum"> 587</span></a>  
<a name="l588"><span class="linenum"> 588</span></a>          return <a class="var it2210" onMouseOver="hilite(2210)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../../../../_variables/actions.html">$actions</a>;
<a name="l589"><span class="linenum"> 589</span></a>      }
<a name="l590"><span class="linenum"> 590</span></a>  
<a name="l591"><span class="linenum"> 591</span></a>      <span class="comment">/**</span>
<a name="l592"><span class="linenum"> 592</span></a>  <span class="comment">     * Render the form that contains the data for adding a new question to the quiz.</span>
<a name="l593"><span class="linenum"> 593</span></a>  <span class="comment">     *</span>
<a name="l594"><span class="linenum"> 594</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l595"><span class="linenum"> 595</span></a>  <span class="comment">     * @param int $page the page number that this menu will add to.</span>
<a name="l596"><span class="linenum"> 596</span></a>  <span class="comment">     * @param \moodle_url $pageurl the canonical URL of this page.</span>
<a name="l597"><span class="linenum"> 597</span></a>  <span class="comment">     * @param array $pagevars the variables from {@link \question_edit_setup()}.</span>
<a name="l598"><span class="linenum"> 598</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l599"><span class="linenum"> 599</span></a>  <span class="comment">     */</span>
<a name="l600"><span class="linenum"> 600</span></a>      protected function <a class="function" onClick="logFunction('add_question_form')" href="../../../../_functions/add_question_form.html" onMouseOver="funcPopup(event,'add_question_form')">add_question_form</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a>, \moodle_url <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>, array <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>) {
<a name="l601"><span class="linenum"> 601</span></a>  
<a name="l602"><span class="linenum"> 602</span></a>          <a class="var it34441" onMouseOver="hilite(34441)" onMouseOut="lolite()" onClick="logVariable('questioncategoryid')" href="../../../../_variables/questioncategoryid.html">$questioncategoryid</a> = <a class="function" onClick="logFunction('question_get_category_id_from_pagevars')" href="../../../../_functions/question_get_category_id_from_pagevars.html" onMouseOver="funcPopup(event,'question_get_category_id_from_pagevars')">question_get_category_id_from_pagevars</a>(<a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>);
<a name="l603"><span class="linenum"> 603</span></a>  
<a name="l604"><span class="linenum"> 604</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('input', null,
<a name="l605"><span class="linenum"> 605</span></a>                  array('type' =&gt; 'hidden', 'name' =&gt; 'returnurl',
<a name="l606"><span class="linenum"> 606</span></a>                          'value' =&gt; <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>-&gt;<a class="function" onClick="logFunction('out_as_local_url')" href="../../../../_functions/out_as_local_url.html" onMouseOver="funcPopup(event,'out_as_local_url')">out_as_local_url</a>(false, array('addonpage' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../../_variables/page.html">$page</a>))));
<a name="l607"><span class="linenum"> 607</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('input', null,
<a name="l608"><span class="linenum"> 608</span></a>                  array('type' =&gt; 'hidden', 'name' =&gt; 'cmid', 'value' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_cmid')" href="../../../../_functions/get_cmid.html" onMouseOver="funcPopup(event,'get_cmid')">get_cmid</a>()));
<a name="l609"><span class="linenum"> 609</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('input', null,
<a name="l610"><span class="linenum"> 610</span></a>                  array('type' =&gt; 'hidden', 'name' =&gt; 'appendqnumstring', 'value' =&gt; 'addquestion'));
<a name="l611"><span class="linenum"> 611</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('input', null,
<a name="l612"><span class="linenum"> 612</span></a>                  array('type' =&gt; 'hidden', 'name' =&gt; 'category', 'value' =&gt; <a class="var it34441" onMouseOver="hilite(34441)" onMouseOut="lolite()" onClick="logVariable('questioncategoryid')" href="../../../../_variables/questioncategoryid.html">$questioncategoryid</a>));
<a name="l613"><span class="linenum"> 613</span></a>  
<a name="l614"><span class="linenum"> 614</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('form', <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../../../../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(<a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>),
<a name="l615"><span class="linenum"> 615</span></a>                  array('class' =&gt; 'addnewquestion', 'method' =&gt; 'post',
<a name="l616"><span class="linenum"> 616</span></a>                          'action' =&gt; new \moodle_url('<a class="filename" href="../../../../question/addquestion.php.html">/question/addquestion.php</a>')));
<a name="l617"><span class="linenum"> 617</span></a>      }
<a name="l618"><span class="linenum"> 618</span></a>  
<a name="l619"><span class="linenum"> 619</span></a>      <span class="comment">/**</span>
<a name="l620"><span class="linenum"> 620</span></a>  <span class="comment">     * Display a question.</span>
<a name="l621"><span class="linenum"> 621</span></a>  <span class="comment">     *</span>
<a name="l622"><span class="linenum"> 622</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l623"><span class="linenum"> 623</span></a>  <span class="comment">     * @param int $slot the first slot on the page we are outputting.</span>
<a name="l624"><span class="linenum"> 624</span></a>  <span class="comment">     * @param \moodle_url $pageurl the canonical URL of this page.</span>
<a name="l625"><span class="linenum"> 625</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l626"><span class="linenum"> 626</span></a>  <span class="comment">     */</span>
<a name="l627"><span class="linenum"> 627</span></a>      public function <a class="function" onClick="logFunction('question')" href="../../../../_functions/question.html" onMouseOver="funcPopup(event,'question')">question</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>, \moodle_url <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>) {
<a name="l628"><span class="linenum"> 628</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = '';
<a name="l629"><span class="linenum"> 629</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../../../../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div');
<a name="l630"><span class="linenum"> 630</span></a>  
<a name="l631"><span class="linenum"> 631</span></a>          if (<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('can_be_edited')" href="../../../../_functions/can_be_edited.html" onMouseOver="funcPopup(event,'can_be_edited')">can_be_edited</a>()) {
<a name="l632"><span class="linenum"> 632</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('question_move_icon')" href="../../../../_functions/question_move_icon.html" onMouseOver="funcPopup(event,'question_move_icon')">question_move_icon</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>);
<a name="l633"><span class="linenum"> 633</span></a>          }
<a name="l634"><span class="linenum"> 634</span></a>  
<a name="l635"><span class="linenum"> 635</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_div')" href="../../../../_functions/start_div.html" onMouseOver="funcPopup(event,'start_div')">start_div</a>('mod-indent-outer');
<a name="l636"><span class="linenum"> 636</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('question_number')" href="../../../../_functions/question_number.html" onMouseOver="funcPopup(event,'question_number')">question_number</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_displayed_number_for_slot')" href="../../../../_functions/get_displayed_number_for_slot.html" onMouseOver="funcPopup(event,'get_displayed_number_for_slot')">get_displayed_number_for_slot</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>));
<a name="l637"><span class="linenum"> 637</span></a>  
<a name="l638"><span class="linenum"> 638</span></a>  <span class="comment">        // This div is used to indent the content.</span>
<a name="l639"><span class="linenum"> 639</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../../../../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>('', 'mod-indent');
<a name="l640"><span class="linenum"> 640</span></a>  
<a name="l641"><span class="linenum"> 641</span></a>  <span class="comment">        // Display the link to the question (or do nothing if question has no url).</span>
<a name="l642"><span class="linenum"> 642</span></a>          if (<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_question_type_for_slot')" href="../../../../_functions/get_question_type_for_slot.html" onMouseOver="funcPopup(event,'get_question_type_for_slot')">get_question_type_for_slot</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>) == 'random') {
<a name="l643"><span class="linenum"> 643</span></a>              <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('questionname')" href="../../../../_variables/questionname.html">$questionname</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('random_question')" href="../../../../_functions/random_question.html" onMouseOver="funcPopup(event,'random_question')">random_question</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>);
<a name="l644"><span class="linenum"> 644</span></a>          } else {
<a name="l645"><span class="linenum"> 645</span></a>              <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('questionname')" href="../../../../_variables/questionname.html">$questionname</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('question_name')" href="../../../../_functions/question_name.html" onMouseOver="funcPopup(event,'question_name')">question_name</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>);
<a name="l646"><span class="linenum"> 646</span></a>          }
<a name="l647"><span class="linenum"> 647</span></a>  
<a name="l648"><span class="linenum"> 648</span></a>  <span class="comment">        // Start the div for the activity title, excluding the edit icons.</span>
<a name="l649"><span class="linenum"> 649</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_div')" href="../../../../_functions/start_div.html" onMouseOver="funcPopup(event,'start_div')">start_div</a>('activityinstance');
<a name="l650"><span class="linenum"> 650</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it546" onMouseOver="hilite(546)" onMouseOut="lolite()" onClick="logVariable('questionname')" href="../../../../_variables/questionname.html">$questionname</a>;
<a name="l651"><span class="linenum"> 651</span></a>  
<a name="l652"><span class="linenum"> 652</span></a>  <span class="comment">        // Closing the tag which contains everything but edit icons. Content part of the module should not be part of this.</span>
<a name="l653"><span class="linenum"> 653</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div'); <span class="comment">// .activityinstance.</span>
<a name="l654"><span class="linenum"> 654</span></a>  
<a name="l655"><span class="linenum"> 655</span></a>  <span class="comment">        // Action icons.</span>
<a name="l656"><span class="linenum"> 656</span></a>          <a class="var it40518" onMouseOver="hilite(40518)" onMouseOut="lolite()" onClick="logVariable('questionicons')" href="../../../../_variables/questionicons.html">$questionicons</a> = '';
<a name="l657"><span class="linenum"> 657</span></a>          <a class="var it40518" onMouseOver="hilite(40518)" onMouseOut="lolite()" onClick="logVariable('questionicons')" href="../../../../_variables/questionicons.html">$questionicons</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('question_preview_icon')" href="../../../../_functions/question_preview_icon.html" onMouseOver="funcPopup(event,'question_preview_icon')">question_preview_icon</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_quiz')" href="../../../../_functions/get_quiz.html" onMouseOver="funcPopup(event,'get_quiz')">get_quiz</a>(), <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_question_in_slot')" href="../../../../_functions/get_question_in_slot.html" onMouseOver="funcPopup(event,'get_question_in_slot')">get_question_in_slot</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>));
<a name="l658"><span class="linenum"> 658</span></a>          if (<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('can_be_edited')" href="../../../../_functions/can_be_edited.html" onMouseOver="funcPopup(event,'can_be_edited')">can_be_edited</a>()) {
<a name="l659"><span class="linenum"> 659</span></a>              <a class="var it40518" onMouseOver="hilite(40518)" onMouseOut="lolite()" onClick="logVariable('questionicons')" href="../../../../_variables/questionicons.html">$questionicons</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('question_remove_icon')" href="../../../../_functions/question_remove_icon.html" onMouseOver="funcPopup(event,'question_remove_icon')">question_remove_icon</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>);
<a name="l660"><span class="linenum"> 660</span></a>          }
<a name="l661"><span class="linenum"> 661</span></a>          <a class="var it40518" onMouseOver="hilite(40518)" onMouseOut="lolite()" onClick="logVariable('questionicons')" href="../../../../_variables/questionicons.html">$questionicons</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('marked_out_of_field')" href="../../../../_functions/marked_out_of_field.html" onMouseOver="funcPopup(event,'marked_out_of_field')">marked_out_of_field</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>);
<a name="l662"><span class="linenum"> 662</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it40518" onMouseOver="hilite(40518)" onMouseOut="lolite()" onClick="logVariable('questionicons')" href="../../../../_variables/questionicons.html">$questionicons</a>, 'actions'); <span class="comment">// Required to add js spinner icon.</span>
<a name="l663"><span class="linenum"> 663</span></a>          if (<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('can_be_edited')" href="../../../../_functions/can_be_edited.html" onMouseOver="funcPopup(event,'can_be_edited')">can_be_edited</a>()) {
<a name="l664"><span class="linenum"> 664</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('question_dependency_icon')" href="../../../../_functions/question_dependency_icon.html" onMouseOver="funcPopup(event,'question_dependency_icon')">question_dependency_icon</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>);
<a name="l665"><span class="linenum"> 665</span></a>          }
<a name="l666"><span class="linenum"> 666</span></a>  
<a name="l667"><span class="linenum"> 667</span></a>  <span class="comment">        // End of indentation div.</span>
<a name="l668"><span class="linenum"> 668</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l669"><span class="linenum"> 669</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l670"><span class="linenum"> 670</span></a>  
<a name="l671"><span class="linenum"> 671</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l672"><span class="linenum"> 672</span></a>      }
<a name="l673"><span class="linenum"> 673</span></a>  
<a name="l674"><span class="linenum"> 674</span></a>      <span class="comment">/**</span>
<a name="l675"><span class="linenum"> 675</span></a>  <span class="comment">     * Render the move icon.</span>
<a name="l676"><span class="linenum"> 676</span></a>  <span class="comment">     *</span>
<a name="l677"><span class="linenum"> 677</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l678"><span class="linenum"> 678</span></a>  <span class="comment">     * @param int $slot the first slot on the page we are outputting.</span>
<a name="l679"><span class="linenum"> 679</span></a>  <span class="comment">     * @return string The markup for the move action.</span>
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment">     */</span>
<a name="l681"><span class="linenum"> 681</span></a>      public function <a class="function" onClick="logFunction('question_move_icon')" href="../../../../_functions/question_move_icon.html" onMouseOver="funcPopup(event,'question_move_icon')">question_move_icon</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>) {
<a name="l682"><span class="linenum"> 682</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../../../../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(new \moodle_url('#'),
<a name="l683"><span class="linenum"> 683</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('i/dragdrop', <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('move'), 'moodle', array('class' =&gt; 'iconsmall', 'title' =&gt; '')),
<a name="l684"><span class="linenum"> 684</span></a>              array('class' =&gt; 'editing_move', 'data-action' =&gt; 'move')
<a name="l685"><span class="linenum"> 685</span></a>          );
<a name="l686"><span class="linenum"> 686</span></a>      }
<a name="l687"><span class="linenum"> 687</span></a>  
<a name="l688"><span class="linenum"> 688</span></a>      <span class="comment">/**</span>
<a name="l689"><span class="linenum"> 689</span></a>  <span class="comment">     * Output the question number.</span>
<a name="l690"><span class="linenum"> 690</span></a>  <span class="comment">     * @param string $number The number, or 'i'.</span>
<a name="l691"><span class="linenum"> 691</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l692"><span class="linenum"> 692</span></a>  <span class="comment">     */</span>
<a name="l693"><span class="linenum"> 693</span></a>      public function <a class="function" onClick="logFunction('question_number')" href="../../../../_functions/question_number.html" onMouseOver="funcPopup(event,'question_number')">question_number</a>(<a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../../../_variables/number.html">$number</a>) {
<a name="l694"><span class="linenum"> 694</span></a>          if (<a class="phpfunction" onClick="logFunction('is_numeric')" href="../../../../_functions/is_numeric.html" onMouseOver="phpfuncPopup(event,'is_numeric')">is_numeric</a>(<a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../../../_variables/number.html">$number</a>)) {
<a name="l695"><span class="linenum"> 695</span></a>              <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../../../_variables/number.html">$number</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('question'), 'accesshide') . ' ' . <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../../../_variables/number.html">$number</a>;
<a name="l696"><span class="linenum"> 696</span></a>          }
<a name="l697"><span class="linenum"> 697</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../../../_variables/number.html">$number</a>, array('class' =&gt; 'slotnumber'));
<a name="l698"><span class="linenum"> 698</span></a>      }
<a name="l699"><span class="linenum"> 699</span></a>  
<a name="l700"><span class="linenum"> 700</span></a>      <span class="comment">/**</span>
<a name="l701"><span class="linenum"> 701</span></a>  <span class="comment">     * Render the preview icon.</span>
<a name="l702"><span class="linenum"> 702</span></a>  <span class="comment">     *</span>
<a name="l703"><span class="linenum"> 703</span></a>  <span class="comment">     * @param \stdClass $quiz the quiz settings from the database.</span>
<a name="l704"><span class="linenum"> 704</span></a>  <span class="comment">     * @param \stdClass $question data from the question and quiz_slots tables.</span>
<a name="l705"><span class="linenum"> 705</span></a>  <span class="comment">     * @param bool $label if true, show the preview question label after the icon</span>
<a name="l706"><span class="linenum"> 706</span></a>  <span class="comment">     * @param int $variant which question variant to preview (optional).</span>
<a name="l707"><span class="linenum"> 707</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l708"><span class="linenum"> 708</span></a>  <span class="comment">     */</span>
<a name="l709"><span class="linenum"> 709</span></a>      public function <a class="function" onClick="logFunction('question_preview_icon')" href="../../../../_functions/question_preview_icon.html" onMouseOver="funcPopup(event,'question_preview_icon')">question_preview_icon</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>, <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>, <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../../../_variables/label.html">$label</a> = null, <a class="var it183" onMouseOver="hilite(183)" onMouseOut="lolite()" onClick="logVariable('variant')" href="../../../../_variables/variant.html">$variant</a> = null) {
<a name="l710"><span class="linenum"> 710</span></a>          <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../../_variables/url.html">$url</a> = <a class="function" onClick="logFunction('quiz_question_preview_url')" href="../../../../_functions/quiz_question_preview_url.html" onMouseOver="funcPopup(event,'quiz_question_preview_url')">quiz_question_preview_url</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>, <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>, <a class="var it183" onMouseOver="hilite(183)" onMouseOut="lolite()" onClick="logVariable('variant')" href="../../../../_variables/variant.html">$variant</a>);
<a name="l711"><span class="linenum"> 711</span></a>  
<a name="l712"><span class="linenum"> 712</span></a>  <span class="comment">        // Do we want a label?</span>
<a name="l713"><span class="linenum"> 713</span></a>          <a class="var it40519" onMouseOver="hilite(40519)" onMouseOut="lolite()" onClick="logVariable('strpreviewlabel')" href="../../../../_variables/strpreviewlabel.html">$strpreviewlabel</a> = '';
<a name="l714"><span class="linenum"> 714</span></a>          if (<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../../../_variables/label.html">$label</a>) {
<a name="l715"><span class="linenum"> 715</span></a>              <a class="var it40519" onMouseOver="hilite(40519)" onMouseOut="lolite()" onClick="logVariable('strpreviewlabel')" href="../../../../_variables/strpreviewlabel.html">$strpreviewlabel</a> = ' ' . <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('preview', 'quiz');
<a name="l716"><span class="linenum"> 716</span></a>          }
<a name="l717"><span class="linenum"> 717</span></a>  
<a name="l718"><span class="linenum"> 718</span></a>  <span class="comment">        // Build the icon.</span>
<a name="l719"><span class="linenum"> 719</span></a>          <a class="var it40520" onMouseOver="hilite(40520)" onMouseOut="lolite()" onClick="logVariable('strpreviewquestion')" href="../../../../_variables/strpreviewquestion.html">$strpreviewquestion</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('previewquestion', 'quiz');
<a name="l720"><span class="linenum"> 720</span></a>          <a class="var it872" onMouseOver="hilite(872)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../_variables/image.html">$image</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('t/preview', <a class="var it40520" onMouseOver="hilite(40520)" onMouseOut="lolite()" onClick="logVariable('strpreviewquestion')" href="../../../../_variables/strpreviewquestion.html">$strpreviewquestion</a>);
<a name="l721"><span class="linenum"> 721</span></a>  
<a name="l722"><span class="linenum"> 722</span></a>          <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../../_variables/action.html">$action</a> = new \popup_action('click', <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../../_variables/url.html">$url</a>, 'questionpreview',
<a name="l723"><span class="linenum"> 723</span></a>                                          <a class="function" onClick="logFunction('question_preview_popup_params')" href="../../../../_functions/question_preview_popup_params.html" onMouseOver="funcPopup(event,'question_preview_popup_params')">question_preview_popup_params</a>());
<a name="l724"><span class="linenum"> 724</span></a>  
<a name="l725"><span class="linenum"> 725</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('action_link')" href="../../../../_functions/action_link.html" onMouseOver="funcPopup(event,'action_link')">action_link</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../../_variables/url.html">$url</a>, <a class="var it872" onMouseOver="hilite(872)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../_variables/image.html">$image</a> . <a class="var it40519" onMouseOver="hilite(40519)" onMouseOut="lolite()" onClick="logVariable('strpreviewlabel')" href="../../../../_variables/strpreviewlabel.html">$strpreviewlabel</a>, <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../../_variables/action.html">$action</a>,
<a name="l726"><span class="linenum"> 726</span></a>                  array('title' =&gt; <a class="var it40520" onMouseOver="hilite(40520)" onMouseOut="lolite()" onClick="logVariable('strpreviewquestion')" href="../../../../_variables/strpreviewquestion.html">$strpreviewquestion</a>, 'class' =&gt; 'preview'));
<a name="l727"><span class="linenum"> 727</span></a>      }
<a name="l728"><span class="linenum"> 728</span></a>  
<a name="l729"><span class="linenum"> 729</span></a>      <span class="comment">/**</span>
<a name="l730"><span class="linenum"> 730</span></a>  <span class="comment">     * Render an icon to remove a question from the quiz.</span>
<a name="l731"><span class="linenum"> 731</span></a>  <span class="comment">     *</span>
<a name="l732"><span class="linenum"> 732</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l733"><span class="linenum"> 733</span></a>  <span class="comment">     * @param int $slot the first slot on the page we are outputting.</span>
<a name="l734"><span class="linenum"> 734</span></a>  <span class="comment">     * @param \moodle_url $pageurl the canonical URL of the edit page.</span>
<a name="l735"><span class="linenum"> 735</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l736"><span class="linenum"> 736</span></a>  <span class="comment">     */</span>
<a name="l737"><span class="linenum"> 737</span></a>      public function <a class="function" onClick="logFunction('question_remove_icon')" href="../../../../_functions/question_remove_icon.html" onMouseOver="funcPopup(event,'question_remove_icon')">question_remove_icon</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>) {
<a name="l738"><span class="linenum"> 738</span></a>          <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../../_variables/url.html">$url</a> = new \moodle_url(<a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>, array('sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../../../../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>(), 'remove' =&gt; <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>));
<a name="l739"><span class="linenum"> 739</span></a>          <a class="var it4880" onMouseOver="hilite(4880)" onMouseOut="lolite()" onClick="logVariable('strdelete')" href="../../../../_variables/strdelete.html">$strdelete</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('delete');
<a name="l740"><span class="linenum"> 740</span></a>  
<a name="l741"><span class="linenum"> 741</span></a>          <a class="var it872" onMouseOver="hilite(872)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../_variables/image.html">$image</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('t/delete', <a class="var it4880" onMouseOver="hilite(4880)" onMouseOut="lolite()" onClick="logVariable('strdelete')" href="../../../../_variables/strdelete.html">$strdelete</a>);
<a name="l742"><span class="linenum"> 742</span></a>  
<a name="l743"><span class="linenum"> 743</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('action_link')" href="../../../../_functions/action_link.html" onMouseOver="funcPopup(event,'action_link')">action_link</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../../_variables/url.html">$url</a>, <a class="var it872" onMouseOver="hilite(872)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../_variables/image.html">$image</a>, null, array('title' =&gt; <a class="var it4880" onMouseOver="hilite(4880)" onMouseOut="lolite()" onClick="logVariable('strdelete')" href="../../../../_variables/strdelete.html">$strdelete</a>,
<a name="l744"><span class="linenum"> 744</span></a>                      'class' =&gt; 'cm-edit-action editing_delete', 'data-action' =&gt; 'delete'));
<a name="l745"><span class="linenum"> 745</span></a>      }
<a name="l746"><span class="linenum"> 746</span></a>  
<a name="l747"><span class="linenum"> 747</span></a>      <span class="comment">/**</span>
<a name="l748"><span class="linenum"> 748</span></a>  <span class="comment">     * Display an icon to split or join two pages of the quiz.</span>
<a name="l749"><span class="linenum"> 749</span></a>  <span class="comment">     *</span>
<a name="l750"><span class="linenum"> 750</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l751"><span class="linenum"> 751</span></a>  <span class="comment">     * @param int $slot the first slot on the page we are outputting.</span>
<a name="l752"><span class="linenum"> 752</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l753"><span class="linenum"> 753</span></a>  <span class="comment">     */</span>
<a name="l754"><span class="linenum"> 754</span></a>      public function <a class="function" onClick="logFunction('page_split_join_button')" href="../../../../_functions/page_split_join_button.html" onMouseOver="funcPopup(event,'page_split_join_button')">page_split_join_button</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>) {
<a name="l755"><span class="linenum"> 755</span></a>          <a class="var it40521" onMouseOver="hilite(40521)" onMouseOut="lolite()" onClick="logVariable('insertpagebreak')" href="../../../../_variables/insertpagebreak.html">$insertpagebreak</a> = !<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('is_last_slot_on_page')" href="../../../../_functions/is_last_slot_on_page.html" onMouseOver="funcPopup(event,'is_last_slot_on_page')">is_last_slot_on_page</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>);
<a name="l756"><span class="linenum"> 756</span></a>          <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../../_variables/url.html">$url</a> = new \moodle_url('repaginate.php', array('quizid' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>(),
<a name="l757"><span class="linenum"> 757</span></a>                  'slot' =&gt; <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>, 'repag' =&gt; <a class="var it40521" onMouseOver="hilite(40521)" onMouseOut="lolite()" onClick="logVariable('insertpagebreak')" href="../../../../_variables/insertpagebreak.html">$insertpagebreak</a> ? 2 : 1, 'sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../../../../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>()));
<a name="l758"><span class="linenum"> 758</span></a>  
<a name="l759"><span class="linenum"> 759</span></a>          if (<a class="var it40521" onMouseOver="hilite(40521)" onMouseOut="lolite()" onClick="logVariable('insertpagebreak')" href="../../../../_variables/insertpagebreak.html">$insertpagebreak</a>) {
<a name="l760"><span class="linenum"> 760</span></a>              <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addpagebreak', 'quiz');
<a name="l761"><span class="linenum"> 761</span></a>              <a class="var it872" onMouseOver="hilite(872)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../_variables/image.html">$image</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('e/insert_page_break', <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a>);
<a name="l762"><span class="linenum"> 762</span></a>              <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../../_variables/action.html">$action</a> = 'addpagebreak';
<a name="l763"><span class="linenum"> 763</span></a>          } else {
<a name="l764"><span class="linenum"> 764</span></a>              <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('removepagebreak', 'quiz');
<a name="l765"><span class="linenum"> 765</span></a>              <a class="var it872" onMouseOver="hilite(872)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../_variables/image.html">$image</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('e/remove_page_break', <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a>);
<a name="l766"><span class="linenum"> 766</span></a>              <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../../_variables/action.html">$action</a> = 'removepagebreak';
<a name="l767"><span class="linenum"> 767</span></a>          }
<a name="l768"><span class="linenum"> 768</span></a>  
<a name="l769"><span class="linenum"> 769</span></a>  <span class="comment">        // Disable the link if quiz has attempts.</span>
<a name="l770"><span class="linenum"> 770</span></a>          <a class="var it1355" onMouseOver="hilite(1355)" onMouseOut="lolite()" onClick="logVariable('disabled')" href="../../../../_variables/disabled.html">$disabled</a> = null;
<a name="l771"><span class="linenum"> 771</span></a>          if (!<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('can_be_edited')" href="../../../../_functions/can_be_edited.html" onMouseOver="funcPopup(event,'can_be_edited')">can_be_edited</a>()) {
<a name="l772"><span class="linenum"> 772</span></a>              <a class="var it1355" onMouseOver="hilite(1355)" onMouseOut="lolite()" onClick="logVariable('disabled')" href="../../../../_variables/disabled.html">$disabled</a> = 'disabled';
<a name="l773"><span class="linenum"> 773</span></a>          }
<a name="l774"><span class="linenum"> 774</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('action_link')" href="../../../../_functions/action_link.html" onMouseOver="funcPopup(event,'action_link')">action_link</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../../_variables/url.html">$url</a>, <a class="var it872" onMouseOver="hilite(872)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../_variables/image.html">$image</a>, null, array('title' =&gt; <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a>,
<a name="l775"><span class="linenum"> 775</span></a>                      'class' =&gt; 'page_split_join cm-edit-action', 'disabled' =&gt; <a class="var it1355" onMouseOver="hilite(1355)" onMouseOut="lolite()" onClick="logVariable('disabled')" href="../../../../_variables/disabled.html">$disabled</a>, 'data-action' =&gt; <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../../_variables/action.html">$action</a>)),
<a name="l776"><span class="linenum"> 776</span></a>                  'page_split_join_wrapper');
<a name="l777"><span class="linenum"> 777</span></a>      }
<a name="l778"><span class="linenum"> 778</span></a>  
<a name="l779"><span class="linenum"> 779</span></a>      <span class="comment">/**</span>
<a name="l780"><span class="linenum"> 780</span></a>  <span class="comment">     * Display the icon for whether this question can only be seen if the previous</span>
<a name="l781"><span class="linenum"> 781</span></a>  <span class="comment">     * one has been answered.</span>
<a name="l782"><span class="linenum"> 782</span></a>  <span class="comment">     *</span>
<a name="l783"><span class="linenum"> 783</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l784"><span class="linenum"> 784</span></a>  <span class="comment">     * @param int $slot the first slot on the page we are outputting.</span>
<a name="l785"><span class="linenum"> 785</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l786"><span class="linenum"> 786</span></a>  <span class="comment">     */</span>
<a name="l787"><span class="linenum"> 787</span></a>      public function <a class="function" onClick="logFunction('question_dependency_icon')" href="../../../../_functions/question_dependency_icon.html" onMouseOver="funcPopup(event,'question_dependency_icon')">question_dependency_icon</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>) {
<a name="l788"><span class="linenum"> 788</span></a>          <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../../../_variables/a.html">$a</a> = array(
<a name="l789"><span class="linenum"> 789</span></a>              'thisq' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_displayed_number_for_slot')" href="../../../../_functions/get_displayed_number_for_slot.html" onMouseOver="funcPopup(event,'get_displayed_number_for_slot')">get_displayed_number_for_slot</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>),
<a name="l790"><span class="linenum"> 790</span></a>              'previousq' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_displayed_number_for_slot')" href="../../../../_functions/get_displayed_number_for_slot.html" onMouseOver="funcPopup(event,'get_displayed_number_for_slot')">get_displayed_number_for_slot</a>(<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a> - 1, 1)),
<a name="l791"><span class="linenum"> 791</span></a>          );
<a name="l792"><span class="linenum"> 792</span></a>          if (<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('is_question_dependent_on_previous_slot')" href="../../../../_functions/is_question_dependent_on_previous_slot.html" onMouseOver="funcPopup(event,'is_question_dependent_on_previous_slot')">is_question_dependent_on_previous_slot</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>)) {
<a name="l793"><span class="linenum"> 793</span></a>              <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('questiondependencyremove', 'quiz', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../../../_variables/a.html">$a</a>);
<a name="l794"><span class="linenum"> 794</span></a>              <a class="var it872" onMouseOver="hilite(872)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../_variables/image.html">$image</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('t/locked', <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('questiondependsonprevious', 'quiz'),
<a name="l795"><span class="linenum"> 795</span></a>                      'moodle', array('title' =&gt; ''));
<a name="l796"><span class="linenum"> 796</span></a>              <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../../_variables/action.html">$action</a> = 'removedependency';
<a name="l797"><span class="linenum"> 797</span></a>          } else {
<a name="l798"><span class="linenum"> 798</span></a>              <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('questiondependencyadd', 'quiz', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../../../_variables/a.html">$a</a>);
<a name="l799"><span class="linenum"> 799</span></a>              <a class="var it872" onMouseOver="hilite(872)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../_variables/image.html">$image</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('t/unlocked', <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('questiondependencyfree', 'quiz'),
<a name="l800"><span class="linenum"> 800</span></a>                      'moodle', array('title' =&gt; ''));
<a name="l801"><span class="linenum"> 801</span></a>              <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../../_variables/action.html">$action</a> = 'adddependency';
<a name="l802"><span class="linenum"> 802</span></a>          }
<a name="l803"><span class="linenum"> 803</span></a>  
<a name="l804"><span class="linenum"> 804</span></a>  <span class="comment">        // Disable the link if quiz has attempts.</span>
<a name="l805"><span class="linenum"> 805</span></a>          <a class="var it1355" onMouseOver="hilite(1355)" onMouseOut="lolite()" onClick="logVariable('disabled')" href="../../../../_variables/disabled.html">$disabled</a> = null;
<a name="l806"><span class="linenum"> 806</span></a>          if (!<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('can_be_edited')" href="../../../../_functions/can_be_edited.html" onMouseOver="funcPopup(event,'can_be_edited')">can_be_edited</a>()) {
<a name="l807"><span class="linenum"> 807</span></a>              <a class="var it1355" onMouseOver="hilite(1355)" onMouseOut="lolite()" onClick="logVariable('disabled')" href="../../../../_variables/disabled.html">$disabled</a> = 'disabled';
<a name="l808"><span class="linenum"> 808</span></a>          }
<a name="l809"><span class="linenum"> 809</span></a>          <a class="var it20965" onMouseOver="hilite(20965)" onMouseOut="lolite()" onClick="logVariable('extraclass')" href="../../../../_variables/extraclass.html">$extraclass</a> = '';
<a name="l810"><span class="linenum"> 810</span></a>          if (!<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('can_question_depend_on_previous_slot')" href="../../../../_functions/can_question_depend_on_previous_slot.html" onMouseOver="funcPopup(event,'can_question_depend_on_previous_slot')">can_question_depend_on_previous_slot</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>)) {
<a name="l811"><span class="linenum"> 811</span></a>              <a class="var it20965" onMouseOver="hilite(20965)" onMouseOut="lolite()" onClick="logVariable('extraclass')" href="../../../../_variables/extraclass.html">$extraclass</a> = ' question_dependency_cannot_depend';
<a name="l812"><span class="linenum"> 812</span></a>          }
<a name="l813"><span class="linenum"> 813</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('action_link')" href="../../../../_functions/action_link.html" onMouseOver="funcPopup(event,'action_link')">action_link</a>('#', <a class="var it872" onMouseOver="hilite(872)" onMouseOut="lolite()" onClick="logVariable('image')" href="../../../../_variables/image.html">$image</a>, null, array('title' =&gt; <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a>,
<a name="l814"><span class="linenum"> 814</span></a>                  'class' =&gt; 'cm-edit-action', 'disabled' =&gt; <a class="var it1355" onMouseOver="hilite(1355)" onMouseOut="lolite()" onClick="logVariable('disabled')" href="../../../../_variables/disabled.html">$disabled</a>, 'data-action' =&gt; <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../../../_variables/action.html">$action</a>)),
<a name="l815"><span class="linenum"> 815</span></a>                  'question_dependency_wrapper' . <a class="var it20965" onMouseOver="hilite(20965)" onMouseOut="lolite()" onClick="logVariable('extraclass')" href="../../../../_variables/extraclass.html">$extraclass</a>);
<a name="l816"><span class="linenum"> 816</span></a>      }
<a name="l817"><span class="linenum"> 817</span></a>  
<a name="l818"><span class="linenum"> 818</span></a>      <span class="comment">/**</span>
<a name="l819"><span class="linenum"> 819</span></a>  <span class="comment">     * Renders html to display a name with the link to the question on a quiz edit page</span>
<a name="l820"><span class="linenum"> 820</span></a>  <span class="comment">     *</span>
<a name="l821"><span class="linenum"> 821</span></a>  <span class="comment">     * If the user does not have permission to edi the question, it is rendered</span>
<a name="l822"><span class="linenum"> 822</span></a>  <span class="comment">     * without a link</span>
<a name="l823"><span class="linenum"> 823</span></a>  <span class="comment">     *</span>
<a name="l824"><span class="linenum"> 824</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l825"><span class="linenum"> 825</span></a>  <span class="comment">     * @param int $slot which slot we are outputting.</span>
<a name="l826"><span class="linenum"> 826</span></a>  <span class="comment">     * @param \moodle_url $pageurl the canonical URL of this page.</span>
<a name="l827"><span class="linenum"> 827</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l828"><span class="linenum"> 828</span></a>  <span class="comment">     */</span>
<a name="l829"><span class="linenum"> 829</span></a>      public function <a class="function" onClick="logFunction('question_name')" href="../../../../_functions/question_name.html" onMouseOver="funcPopup(event,'question_name')">question_name</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>) {
<a name="l830"><span class="linenum"> 830</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = '';
<a name="l831"><span class="linenum"> 831</span></a>  
<a name="l832"><span class="linenum"> 832</span></a>          <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a> = <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_question_in_slot')" href="../../../../_functions/get_question_in_slot.html" onMouseOver="funcPopup(event,'get_question_in_slot')">get_question_in_slot</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>);
<a name="l833"><span class="linenum"> 833</span></a>          <a class="var it8405" onMouseOver="hilite(8405)" onMouseOut="lolite()" onClick="logVariable('editurl')" href="../../../../_variables/editurl.html">$editurl</a> = new \moodle_url('<a class="filename" href="../../../../question/question.php.html">/question/question.php</a>', array(
<a name="l834"><span class="linenum"> 834</span></a>                  'returnurl' =&gt; <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>-&gt;<a class="function" onClick="logFunction('out_as_local_url')" href="../../../../_functions/out_as_local_url.html" onMouseOver="funcPopup(event,'out_as_local_url')">out_as_local_url</a>(),
<a name="l835"><span class="linenum"> 835</span></a>                  'cmid' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_cmid')" href="../../../../_functions/get_cmid.html" onMouseOver="funcPopup(event,'get_cmid')">get_cmid</a>(), 'id' =&gt; <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('id')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>));
<a name="l836"><span class="linenum"> 836</span></a>  
<a name="l837"><span class="linenum"> 837</span></a>          <a class="var it8900" onMouseOver="hilite(8900)" onMouseOut="lolite()" onClick="logVariable('instancename')" href="../../../../_variables/instancename.html">$instancename</a> = <a class="function" onClick="logFunction('quiz_question_tostring')" href="../../../../_functions/quiz_question_tostring.html" onMouseOver="funcPopup(event,'quiz_question_tostring')">quiz_question_tostring</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>);
<a name="l838"><span class="linenum"> 838</span></a>  
<a name="l839"><span class="linenum"> 839</span></a>          <a class="var it260" onMouseOver="hilite(260)" onMouseOut="lolite()" onClick="logVariable('qtype')" href="../../../../_variables/qtype.html">$qtype</a> = \question_bank::<a class="function" onClick="logFunction('get_qtype')" href="../../../../_functions/get_qtype.html" onMouseOver="funcPopup(event,'get_qtype')">get_qtype</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('qtype')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../../_variables/qtype.html">qtype</a>, false);
<a name="l840"><span class="linenum"> 840</span></a>          <a class="var it8610" onMouseOver="hilite(8610)" onMouseOut="lolite()" onClick="logVariable('namestr')" href="../../../../_variables/namestr.html">$namestr</a> = <a class="var it260" onMouseOver="hilite(260)" onMouseOut="lolite()" onClick="logVariable('qtype')" href="../../../../_variables/qtype.html">$qtype</a>-&gt;<a class="function" onClick="logFunction('local_name')" href="../../../../_functions/local_name.html" onMouseOver="funcPopup(event,'local_name')">local_name</a>();
<a name="l841"><span class="linenum"> 841</span></a>  
<a name="l842"><span class="linenum"> 842</span></a>          <a class="var it727" onMouseOver="hilite(727)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../../../../_variables/icon.html">$icon</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('icon', <a class="var it8610" onMouseOver="hilite(8610)" onMouseOut="lolite()" onClick="logVariable('namestr')" href="../../../../_variables/namestr.html">$namestr</a>, <a class="var it260" onMouseOver="hilite(260)" onMouseOut="lolite()" onClick="logVariable('qtype')" href="../../../../_variables/qtype.html">$qtype</a>-&gt;<a class="function" onClick="logFunction('plugin_name')" href="../../../../_functions/plugin_name.html" onMouseOver="funcPopup(event,'plugin_name')">plugin_name</a>(), array('title' =&gt; <a class="var it8610" onMouseOver="hilite(8610)" onMouseOut="lolite()" onClick="logVariable('namestr')" href="../../../../_variables/namestr.html">$namestr</a>,
<a name="l843"><span class="linenum"> 843</span></a>                  'class' =&gt; 'icon activityicon', 'alt' =&gt; ' ', 'role' =&gt; 'presentation'));
<a name="l844"><span class="linenum"> 844</span></a>  
<a name="l845"><span class="linenum"> 845</span></a>          <a class="var it4135" onMouseOver="hilite(4135)" onMouseOut="lolite()" onClick="logVariable('editicon')" href="../../../../_variables/editicon.html">$editicon</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('t/edit', '', 'moodle', array('title' =&gt; ''));
<a name="l846"><span class="linenum"> 846</span></a>  
<a name="l847"><span class="linenum"> 847</span></a>  <span class="comment">        // Need plain question name without html tags for link title.</span>
<a name="l848"><span class="linenum"> 848</span></a>          <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('shorten_text')" href="../../../../_functions/shorten_text.html" onMouseOver="funcPopup(event,'shorten_text')">shorten_text</a>(<a class="function" onClick="logFunction('format_string')" href="../../../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('name')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../../_variables/name.html">name</a>), 100);
<a name="l849"><span class="linenum"> 849</span></a>  
<a name="l850"><span class="linenum"> 850</span></a>  <span class="comment">        // Display the link itself.</span>
<a name="l851"><span class="linenum"> 851</span></a>          <a class="var it1285" onMouseOver="hilite(1285)" onMouseOut="lolite()" onClick="logVariable('activitylink')" href="../../../../_variables/activitylink.html">$activitylink</a> = <a class="var it727" onMouseOver="hilite(727)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../../../../_variables/icon.html">$icon</a> . <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('span', <a class="var it4135" onMouseOver="hilite(4135)" onMouseOut="lolite()" onClick="logVariable('editicon')" href="../../../../_variables/editicon.html">$editicon</a> . <a class="var it8900" onMouseOver="hilite(8900)" onMouseOut="lolite()" onClick="logVariable('instancename')" href="../../../../_variables/instancename.html">$instancename</a>, array('class' =&gt; 'instancename'));
<a name="l852"><span class="linenum"> 852</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../../../../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="var it8405" onMouseOver="hilite(8405)" onMouseOut="lolite()" onClick="logVariable('editurl')" href="../../../../_variables/editurl.html">$editurl</a>, <a class="var it1285" onMouseOver="hilite(1285)" onMouseOut="lolite()" onClick="logVariable('activitylink')" href="../../../../_variables/activitylink.html">$activitylink</a>,
<a name="l853"><span class="linenum"> 853</span></a>                  array('title' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('editquestion', 'quiz').' '.<a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a>));
<a name="l854"><span class="linenum"> 854</span></a>  
<a name="l855"><span class="linenum"> 855</span></a>          return <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l856"><span class="linenum"> 856</span></a>      }
<a name="l857"><span class="linenum"> 857</span></a>  
<a name="l858"><span class="linenum"> 858</span></a>      <span class="comment">/**</span>
<a name="l859"><span class="linenum"> 859</span></a>  <span class="comment">     * Renders html to display a random question the link to edit the configuration</span>
<a name="l860"><span class="linenum"> 860</span></a>  <span class="comment">     * and also to see that category in the question bank.</span>
<a name="l861"><span class="linenum"> 861</span></a>  <span class="comment">     *</span>
<a name="l862"><span class="linenum"> 862</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l863"><span class="linenum"> 863</span></a>  <span class="comment">     * @param int $slot which slot we are outputting.</span>
<a name="l864"><span class="linenum"> 864</span></a>  <span class="comment">     * @param \moodle_url $pageurl the canonical URL of this page.</span>
<a name="l865"><span class="linenum"> 865</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l866"><span class="linenum"> 866</span></a>  <span class="comment">     */</span>
<a name="l867"><span class="linenum"> 867</span></a>      public function <a class="function" onClick="logFunction('random_question')" href="../../../../_functions/random_question.html" onMouseOver="funcPopup(event,'random_question')">random_question</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>) {
<a name="l868"><span class="linenum"> 868</span></a>  
<a name="l869"><span class="linenum"> 869</span></a>          <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a> = <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_question_in_slot')" href="../../../../_functions/get_question_in_slot.html" onMouseOver="funcPopup(event,'get_question_in_slot')">get_question_in_slot</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>);
<a name="l870"><span class="linenum"> 870</span></a>          <a class="var it8405" onMouseOver="hilite(8405)" onMouseOut="lolite()" onClick="logVariable('editurl')" href="../../../../_variables/editurl.html">$editurl</a> = new \moodle_url('<a class="filename" href="../../../../question/question.php.html">/question/question.php</a>', array(
<a name="l871"><span class="linenum"> 871</span></a>                  'returnurl' =&gt; <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>-&gt;<a class="function" onClick="logFunction('out_as_local_url')" href="../../../../_functions/out_as_local_url.html" onMouseOver="funcPopup(event,'out_as_local_url')">out_as_local_url</a>(),
<a name="l872"><span class="linenum"> 872</span></a>                  'cmid' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_cmid')" href="../../../../_functions/get_cmid.html" onMouseOver="funcPopup(event,'get_cmid')">get_cmid</a>(), 'id' =&gt; <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('id')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>));
<a name="l873"><span class="linenum"> 873</span></a>  
<a name="l874"><span class="linenum"> 874</span></a>          <a class="var it797" onMouseOver="hilite(797)" onMouseOut="lolite()" onClick="logVariable('temp')" href="../../../../_variables/temp.html">$temp</a> = <a class="function" onClick="logFunction('clone')" href="../../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>);
<a name="l875"><span class="linenum"> 875</span></a>          <a class="var it797" onMouseOver="hilite(797)" onMouseOut="lolite()" onClick="logVariable('temp')" href="../../../../_variables/temp.html">$temp</a>-&gt;<a onClick="logVariable('questiontext')" class="var it43878" onMouseOver="hilite(43878)" onMouseOut="lolite()" href="../../../../_variables/questiontext.html">questiontext</a> = '';
<a name="l876"><span class="linenum"> 876</span></a>          <a class="var it8900" onMouseOver="hilite(8900)" onMouseOut="lolite()" onClick="logVariable('instancename')" href="../../../../_variables/instancename.html">$instancename</a> = <a class="function" onClick="logFunction('quiz_question_tostring')" href="../../../../_functions/quiz_question_tostring.html" onMouseOver="funcPopup(event,'quiz_question_tostring')">quiz_question_tostring</a>(<a class="var it797" onMouseOver="hilite(797)" onMouseOut="lolite()" onClick="logVariable('temp')" href="../../../../_variables/temp.html">$temp</a>);
<a name="l877"><span class="linenum"> 877</span></a>  
<a name="l878"><span class="linenum"> 878</span></a>          <a class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" onClick="logVariable('configuretitle')" href="../../../../_variables/configuretitle.html">$configuretitle</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('configurerandomquestion', 'quiz');
<a name="l879"><span class="linenum"> 879</span></a>          <a class="var it260" onMouseOver="hilite(260)" onMouseOut="lolite()" onClick="logVariable('qtype')" href="../../../../_variables/qtype.html">$qtype</a> = \question_bank::<a class="function" onClick="logFunction('get_qtype')" href="../../../../_functions/get_qtype.html" onMouseOver="funcPopup(event,'get_qtype')">get_qtype</a>(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('qtype')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../../_variables/qtype.html">qtype</a>, false);
<a name="l880"><span class="linenum"> 880</span></a>          <a class="var it8610" onMouseOver="hilite(8610)" onMouseOut="lolite()" onClick="logVariable('namestr')" href="../../../../_variables/namestr.html">$namestr</a> = <a class="var it260" onMouseOver="hilite(260)" onMouseOut="lolite()" onClick="logVariable('qtype')" href="../../../../_variables/qtype.html">$qtype</a>-&gt;<a class="function" onClick="logFunction('local_name')" href="../../../../_functions/local_name.html" onMouseOver="funcPopup(event,'local_name')">local_name</a>();
<a name="l881"><span class="linenum"> 881</span></a>          <a class="var it727" onMouseOver="hilite(727)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../../../../_variables/icon.html">$icon</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('icon', <a class="var it8610" onMouseOver="hilite(8610)" onMouseOut="lolite()" onClick="logVariable('namestr')" href="../../../../_variables/namestr.html">$namestr</a>, <a class="var it260" onMouseOver="hilite(260)" onMouseOut="lolite()" onClick="logVariable('qtype')" href="../../../../_variables/qtype.html">$qtype</a>-&gt;<a class="function" onClick="logFunction('plugin_name')" href="../../../../_functions/plugin_name.html" onMouseOver="funcPopup(event,'plugin_name')">plugin_name</a>(), array('title' =&gt; <a class="var it8610" onMouseOver="hilite(8610)" onMouseOut="lolite()" onClick="logVariable('namestr')" href="../../../../_variables/namestr.html">$namestr</a>,
<a name="l882"><span class="linenum"> 882</span></a>                  'class' =&gt; 'icon activityicon', 'alt' =&gt; ' ', 'role' =&gt; 'presentation'));
<a name="l883"><span class="linenum"> 883</span></a>  
<a name="l884"><span class="linenum"> 884</span></a>          <a class="var it4135" onMouseOver="hilite(4135)" onMouseOut="lolite()" onClick="logVariable('editicon')" href="../../../../_variables/editicon.html">$editicon</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('t/edit', <a class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" onClick="logVariable('configuretitle')" href="../../../../_variables/configuretitle.html">$configuretitle</a>, 'moodle', array('title' =&gt; ''));
<a name="l885"><span class="linenum"> 885</span></a>  
<a name="l886"><span class="linenum"> 886</span></a>  <span class="comment">        // If this is a random question, display a link to show the questions</span>
<a name="l887"><span class="linenum"> 887</span></a>  <span class="comment">        // selected from in the question bank.</span>
<a name="l888"><span class="linenum"> 888</span></a>          <a class="var it40523" onMouseOver="hilite(40523)" onMouseOut="lolite()" onClick="logVariable('qbankurl')" href="../../../../_variables/qbankurl.html">$qbankurl</a> = new \moodle_url('<a class="filename" href="../../../../question/edit.php.html">/question/edit.php</a>', array(
<a name="l889"><span class="linenum"> 889</span></a>                  'cmid' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_cmid')" href="../../../../_functions/get_cmid.html" onMouseOver="funcPopup(event,'get_cmid')">get_cmid</a>(),
<a name="l890"><span class="linenum"> 890</span></a>                  'cat' =&gt; <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('category')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../../_variables/category.html">category</a> . ',' . <a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('contextid')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../../_variables/contextid.html">contextid</a>,
<a name="l891"><span class="linenum"> 891</span></a>                  'recurse' =&gt; !empty(<a class="var it259" onMouseOver="hilite(259)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('questiontext')" class="var it43018" onMouseOver="hilite(43018)" onMouseOut="lolite()" href="../../../../_variables/questiontext.html">questiontext</a>)));
<a name="l892"><span class="linenum"> 892</span></a>          <a class="var it40524" onMouseOver="hilite(40524)" onMouseOut="lolite()" onClick="logVariable('qbanklink')" href="../../../../_variables/qbanklink.html">$qbanklink</a> = ' ' . \<a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../../../../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="var it40523" onMouseOver="hilite(40523)" onMouseOut="lolite()" onClick="logVariable('qbankurl')" href="../../../../_variables/qbankurl.html">$qbankurl</a>,
<a name="l893"><span class="linenum"> 893</span></a>                  <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('seequestions', 'quiz'), array('class' =&gt; 'mod_quiz_random_qbank_link'));
<a name="l894"><span class="linenum"> 894</span></a>  
<a name="l895"><span class="linenum"> 895</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../../../../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="var it8405" onMouseOver="hilite(8405)" onMouseOut="lolite()" onClick="logVariable('editurl')" href="../../../../_variables/editurl.html">$editurl</a>, <a class="var it727" onMouseOver="hilite(727)" onMouseOut="lolite()" onClick="logVariable('icon')" href="../../../../_variables/icon.html">$icon</a> . <a class="var it4135" onMouseOver="hilite(4135)" onMouseOut="lolite()" onClick="logVariable('editicon')" href="../../../../_variables/editicon.html">$editicon</a>, array('title' =&gt; <a class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" onClick="logVariable('configuretitle')" href="../../../../_variables/configuretitle.html">$configuretitle</a>)) .
<a name="l896"><span class="linenum"> 896</span></a>                  ' ' . <a class="var it8900" onMouseOver="hilite(8900)" onMouseOut="lolite()" onClick="logVariable('instancename')" href="../../../../_variables/instancename.html">$instancename</a> . ' ' . <a class="var it40524" onMouseOver="hilite(40524)" onMouseOut="lolite()" onClick="logVariable('qbanklink')" href="../../../../_variables/qbanklink.html">$qbanklink</a>;
<a name="l897"><span class="linenum"> 897</span></a>      }
<a name="l898"><span class="linenum"> 898</span></a>  
<a name="l899"><span class="linenum"> 899</span></a>      <span class="comment">/**</span>
<a name="l900"><span class="linenum"> 900</span></a>  <span class="comment">     * Display the 'marked out of' information for a question.</span>
<a name="l901"><span class="linenum"> 901</span></a>  <span class="comment">     * Along with the regrade action.</span>
<a name="l902"><span class="linenum"> 902</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l903"><span class="linenum"> 903</span></a>  <span class="comment">     * @param int $slot which slot we are outputting.</span>
<a name="l904"><span class="linenum"> 904</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l905"><span class="linenum"> 905</span></a>  <span class="comment">     */</span>
<a name="l906"><span class="linenum"> 906</span></a>      public function <a class="function" onClick="logFunction('marked_out_of_field')" href="../../../../_functions/marked_out_of_field.html" onMouseOver="funcPopup(event,'marked_out_of_field')">marked_out_of_field</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>) {
<a name="l907"><span class="linenum"> 907</span></a>          if (!<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('is_real_question')" href="../../../../_functions/is_real_question.html" onMouseOver="funcPopup(event,'is_real_question')">is_real_question</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>)) {
<a name="l908"><span class="linenum"> 908</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>('',
<a name="l909"><span class="linenum"> 909</span></a>                      'instancemaxmark decimalplaces_' . <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_decimal_places_for_question_marks')" href="../../../../_functions/get_decimal_places_for_question_marks.html" onMouseOver="funcPopup(event,'get_decimal_places_for_question_marks')">get_decimal_places_for_question_marks</a>());
<a name="l910"><span class="linenum"> 910</span></a>  
<a name="l911"><span class="linenum"> 911</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(
<a name="l912"><span class="linenum"> 912</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('spacer', '', 'moodle', array('class' =&gt; 'editicon visibleifjs', 'title' =&gt; '')),
<a name="l913"><span class="linenum"> 913</span></a>                      'editing_maxmark');
<a name="l914"><span class="linenum"> 914</span></a>              return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>, 'instancemaxmarkcontainer infoitem');
<a name="l915"><span class="linenum"> 915</span></a>          }
<a name="l916"><span class="linenum"> 916</span></a>  
<a name="l917"><span class="linenum"> 917</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('formatted_question_grade')" href="../../../../_functions/formatted_question_grade.html" onMouseOver="funcPopup(event,'formatted_question_grade')">formatted_question_grade</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>),
<a name="l918"><span class="linenum"> 918</span></a>                  'instancemaxmark decimalplaces_' . <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_decimal_places_for_question_marks')" href="../../../../_functions/get_decimal_places_for_question_marks.html" onMouseOver="funcPopup(event,'get_decimal_places_for_question_marks')">get_decimal_places_for_question_marks</a>(),
<a name="l919"><span class="linenum"> 919</span></a>                  array('title' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('maxmark', 'quiz')));
<a name="l920"><span class="linenum"> 920</span></a>  
<a name="l921"><span class="linenum"> 921</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(
<a name="l922"><span class="linenum"> 922</span></a>              <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../../../../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(
<a name="l923"><span class="linenum"> 923</span></a>                  new \moodle_url('#'),
<a name="l924"><span class="linenum"> 924</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_icon')" href="../../../../_functions/pix_icon.html" onMouseOver="funcPopup(event,'pix_icon')">pix_icon</a>('t/editstring', '', 'moodle', array('class' =&gt; 'editicon visibleifjs', 'title' =&gt; '')),
<a name="l925"><span class="linenum"> 925</span></a>                  array(
<a name="l926"><span class="linenum"> 926</span></a>                      'class' =&gt; 'editing_maxmark',
<a name="l927"><span class="linenum"> 927</span></a>                      'data-action' =&gt; 'editmaxmark',
<a name="l928"><span class="linenum"> 928</span></a>                      'title' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('editmaxmark', 'quiz'),
<a name="l929"><span class="linenum"> 929</span></a>                  )
<a name="l930"><span class="linenum"> 930</span></a>              )
<a name="l931"><span class="linenum"> 931</span></a>          );
<a name="l932"><span class="linenum"> 932</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>, 'instancemaxmarkcontainer');
<a name="l933"><span class="linenum"> 933</span></a>      }
<a name="l934"><span class="linenum"> 934</span></a>  
<a name="l935"><span class="linenum"> 935</span></a>      <span class="comment">/**</span>
<a name="l936"><span class="linenum"> 936</span></a>  <span class="comment">     * Render the question type chooser dialogue.</span>
<a name="l937"><span class="linenum"> 937</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l938"><span class="linenum"> 938</span></a>  <span class="comment">     */</span>
<a name="l939"><span class="linenum"> 939</span></a>      public function <a class="function" onClick="logFunction('question_chooser')" href="../../../../_functions/question_chooser.html" onMouseOver="funcPopup(event,'question_chooser')">question_chooser</a>() {
<a name="l940"><span class="linenum"> 940</span></a>          <a class="var it11747" onMouseOver="hilite(11747)" onMouseOut="lolite()" onClick="logVariable('container')" href="../../../../_variables/container.html">$container</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../../../../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(<a class="function" onClick="logFunction('print_choose_qtype_to_add_form')" href="../../../../_functions/print_choose_qtype_to_add_form.html" onMouseOver="funcPopup(event,'print_choose_qtype_to_add_form')">print_choose_qtype_to_add_form</a>(array(), null, false), '',
<a name="l941"><span class="linenum"> 941</span></a>                  array('id' =&gt; 'qtypechoicecontainer'));
<a name="l942"><span class="linenum"> 942</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../../../../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(<a class="var it11747" onMouseOver="hilite(11747)" onMouseOut="lolite()" onClick="logVariable('container')" href="../../../../_variables/container.html">$container</a>, 'createnewquestion');
<a name="l943"><span class="linenum"> 943</span></a>      }
<a name="l944"><span class="linenum"> 944</span></a>  
<a name="l945"><span class="linenum"> 945</span></a>      <span class="comment">/**</span>
<a name="l946"><span class="linenum"> 946</span></a>  <span class="comment">     * Render the contents of the question bank pop-up in its initial state,</span>
<a name="l947"><span class="linenum"> 947</span></a>  <span class="comment">     * when it just contains a loading progress indicator.</span>
<a name="l948"><span class="linenum"> 948</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l949"><span class="linenum"> 949</span></a>  <span class="comment">     */</span>
<a name="l950"><span class="linenum"> 950</span></a>      public function <a class="function" onClick="logFunction('question_bank_loading')" href="../../../../_functions/question_bank_loading.html" onMouseOver="funcPopup(event,'question_bank_loading')">question_bank_loading</a>() {
<a name="l951"><span class="linenum"> 951</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../../../../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(<a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('img',
<a name="l952"><span class="linenum"> 952</span></a>                  array('alt' =&gt; 'loading', 'class' =&gt; 'loading-icon', 'src' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../../../../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('i/loading'))),
<a name="l953"><span class="linenum"> 953</span></a>                  'questionbankloading');
<a name="l954"><span class="linenum"> 954</span></a>      }
<a name="l955"><span class="linenum"> 955</span></a>  
<a name="l956"><span class="linenum"> 956</span></a>      <span class="comment">/**</span>
<a name="l957"><span class="linenum"> 957</span></a>  <span class="comment">     * Return random question form.</span>
<a name="l958"><span class="linenum"> 958</span></a>  <span class="comment">     * @param \moodle_url $thispageurl the canonical URL of this page.</span>
<a name="l959"><span class="linenum"> 959</span></a>  <span class="comment">     * @param \question_edit_contexts $contexts the relevant question bank contexts.</span>
<a name="l960"><span class="linenum"> 960</span></a>  <span class="comment">     * @param array $pagevars the variables from {@link \question_edit_setup()}.</span>
<a name="l961"><span class="linenum"> 961</span></a>  <span class="comment">     * @return string HTML to output.</span>
<a name="l962"><span class="linenum"> 962</span></a>  <span class="comment">     */</span>
<a name="l963"><span class="linenum"> 963</span></a>      protected function <a class="function" onClick="logFunction('random_question_form')" href="../../../../_functions/random_question_form.html" onMouseOver="funcPopup(event,'random_question_form')">random_question_form</a>(\moodle_url <a class="var it5764" onMouseOver="hilite(5764)" onMouseOut="lolite()" onClick="logVariable('thispageurl')" href="../../../../_variables/thispageurl.html">$thispageurl</a>, \question_edit_contexts <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, array <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>) {
<a name="l964"><span class="linenum"> 964</span></a>  
<a name="l965"><span class="linenum"> 965</span></a>          if (!<a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>-&gt;<a class="function" onClick="logFunction('have_cap')" href="../../../../_functions/have_cap.html" onMouseOver="funcPopup(event,'have_cap')">have_cap</a>('moodle/question:useall')) {
<a name="l966"><span class="linenum"> 966</span></a>              return '';
<a name="l967"><span class="linenum"> 967</span></a>          }
<a name="l968"><span class="linenum"> 968</span></a>          <a class="var it40525" onMouseOver="hilite(40525)" onMouseOut="lolite()" onClick="logVariable('randomform')" href="../../../../_variables/randomform.html">$randomform</a> = new \quiz_add_random_form(new \moodle_url('<a class="filename" href="../../../../mod/quiz/addrandom.php.html">/mod/quiz/addrandom.php</a>'),
<a name="l969"><span class="linenum"> 969</span></a>                                   array('contexts' =&gt; <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, 'cat' =&gt; <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>['cat']));
<a name="l970"><span class="linenum"> 970</span></a>          <a class="var it40525" onMouseOver="hilite(40525)" onMouseOut="lolite()" onClick="logVariable('randomform')" href="../../../../_variables/randomform.html">$randomform</a>-&gt;<a class="function" onClick="logFunction('set_data')" href="../../../../_functions/set_data.html" onMouseOver="funcPopup(event,'set_data')">set_data</a>(array(
<a name="l971"><span class="linenum"> 971</span></a>                  'category' =&gt; <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>['cat'],
<a name="l972"><span class="linenum"> 972</span></a>                  'returnurl' =&gt; <a class="var it5764" onMouseOver="hilite(5764)" onMouseOut="lolite()" onClick="logVariable('thispageurl')" href="../../../../_variables/thispageurl.html">$thispageurl</a>-&gt;<a class="function" onClick="logFunction('out_as_local_url')" href="../../../../_functions/out_as_local_url.html" onMouseOver="funcPopup(event,'out_as_local_url')">out_as_local_url</a>(true),
<a name="l973"><span class="linenum"> 973</span></a>                  'randomnumber' =&gt; 1,
<a name="l974"><span class="linenum"> 974</span></a>                  'cmid' =&gt; <a class="var it5764" onMouseOver="hilite(5764)" onMouseOut="lolite()" onClick="logVariable('thispageurl')" href="../../../../_variables/thispageurl.html">$thispageurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('cmid'),
<a name="l975"><span class="linenum"> 975</span></a>          ));
<a name="l976"><span class="linenum"> 976</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../../../../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(<a class="var it40525" onMouseOver="hilite(40525)" onMouseOut="lolite()" onClick="logVariable('randomform')" href="../../../../_variables/randomform.html">$randomform</a>-&gt;<a class="function" onClick="logFunction('render')" href="../../../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(), 'randomquestionformforpopup');
<a name="l977"><span class="linenum"> 977</span></a>      }
<a name="l978"><span class="linenum"> 978</span></a>  
<a name="l979"><span class="linenum"> 979</span></a>      <span class="comment">/**</span>
<a name="l980"><span class="linenum"> 980</span></a>  <span class="comment">     * Initialise the JavaScript for the general editing. (JavaScript for popups</span>
<a name="l981"><span class="linenum"> 981</span></a>  <span class="comment">     * is handled with the specific code for those.)</span>
<a name="l982"><span class="linenum"> 982</span></a>  <span class="comment">     *</span>
<a name="l983"><span class="linenum"> 983</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l984"><span class="linenum"> 984</span></a>  <span class="comment">     * @param \question_edit_contexts $contexts the relevant question bank contexts.</span>
<a name="l985"><span class="linenum"> 985</span></a>  <span class="comment">     * @param array $pagevars the variables from {@link \question_edit_setup()}.</span>
<a name="l986"><span class="linenum"> 986</span></a>  <span class="comment">     * @param \moodle_url $pageurl the canonical URL of this page.</span>
<a name="l987"><span class="linenum"> 987</span></a>  <span class="comment">     * @return bool Always returns true</span>
<a name="l988"><span class="linenum"> 988</span></a>  <span class="comment">     */</span>
<a name="l989"><span class="linenum"> 989</span></a>      protected function <a class="function" onClick="logFunction('initialise_editing_javascript')" href="../../../../_functions/initialise_editing_javascript.html" onMouseOver="funcPopup(event,'initialise_editing_javascript')">initialise_editing_javascript</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>,
<a name="l990"><span class="linenum"> 990</span></a>              \question_edit_contexts <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, array <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>, \moodle_url <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>) {
<a name="l991"><span class="linenum"> 991</span></a>  
<a name="l992"><span class="linenum"> 992</span></a>          <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a> = new \stdClass();
<a name="l993"><span class="linenum"> 993</span></a>          <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('resourceurl')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../../../_variables/resourceurl.html">resourceurl</a> = '<a class="filename" href="../../../../mod/quiz/edit_rest.php.html">/mod/quiz/edit_rest.php</a>';
<a name="l994"><span class="linenum"> 994</span></a>          <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('sectionurl')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../../../_variables/sectionurl.html">sectionurl</a> = '<a class="filename" href="../../../../mod/quiz/edit_rest.php.html">/mod/quiz/edit_rest.php</a>';
<a name="l995"><span class="linenum"> 995</span></a>          <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('pageparams')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../../../_variables/pageparams.html">pageparams</a> = array();
<a name="l996"><span class="linenum"> 996</span></a>          <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('questiondecimalpoints')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../../../_variables/questiondecimalpoints.html">questiondecimalpoints</a> = <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_decimal_places_for_question_marks')" href="../../../../_functions/get_decimal_places_for_question_marks.html" onMouseOver="funcPopup(event,'get_decimal_places_for_question_marks')">get_decimal_places_for_question_marks</a>();
<a name="l997"><span class="linenum"> 997</span></a>          <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('pagehtml')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../../../_variables/pagehtml.html">pagehtml</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('new_page_template')" href="../../../../_functions/new_page_template.html" onMouseOver="funcPopup(event,'new_page_template')">new_page_template</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>);
<a name="l998"><span class="linenum"> 998</span></a>          <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('addpageiconhtml')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../../../_variables/addpageiconhtml.html">addpageiconhtml</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('add_page_icon_template')" href="../../../../_functions/add_page_icon_template.html" onMouseOver="funcPopup(event,'add_page_icon_template')">add_page_icon_template</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>);
<a name="l999"><span class="linenum"> 999</span></a>  
<a name="l1000"><span class="linenum">1000</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('yui_module')" href="../../../../_functions/yui_module.html" onMouseOver="funcPopup(event,'yui_module')">yui_module</a>('moodle-mod_quiz-toolboxes',
<a name="l1001"><span class="linenum">1001</span></a>                  'M.mod_quiz.init_resource_toolbox',
<a name="l1002"><span class="linenum">1002</span></a>                  array(array(
<a name="l1003"><span class="linenum">1003</span></a>                          'courseid' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_courseid')" href="../../../../_functions/get_courseid.html" onMouseOver="funcPopup(event,'get_courseid')">get_courseid</a>(),
<a name="l1004"><span class="linenum">1004</span></a>                          'quizid' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>(),
<a name="l1005"><span class="linenum">1005</span></a>                          'ajaxurl' =&gt; <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('resourceurl')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../../../_variables/resourceurl.html">resourceurl</a>,
<a name="l1006"><span class="linenum">1006</span></a>                          'config' =&gt; <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>,
<a name="l1007"><span class="linenum">1007</span></a>                  ))
<a name="l1008"><span class="linenum">1008</span></a>          );
<a name="l1009"><span class="linenum">1009</span></a>          unset(<a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('pagehtml')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../../../_variables/pagehtml.html">pagehtml</a>);
<a name="l1010"><span class="linenum">1010</span></a>          unset(<a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('addpageiconhtml')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../../../_variables/addpageiconhtml.html">addpageiconhtml</a>);
<a name="l1011"><span class="linenum">1011</span></a>  
<a name="l1012"><span class="linenum">1012</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('yui_module')" href="../../../../_functions/yui_module.html" onMouseOver="funcPopup(event,'yui_module')">yui_module</a>('moodle-mod_quiz-toolboxes',
<a name="l1013"><span class="linenum">1013</span></a>                  'M.mod_quiz.init_section_toolbox',
<a name="l1014"><span class="linenum">1014</span></a>                  array(array(
<a name="l1015"><span class="linenum">1015</span></a>                          'courseid' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>,
<a name="l1016"><span class="linenum">1016</span></a>                          'quizid' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>(),
<a name="l1017"><span class="linenum">1017</span></a>                          'ajaxurl' =&gt; <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('sectionurl')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../../../_variables/sectionurl.html">sectionurl</a>,
<a name="l1018"><span class="linenum">1018</span></a>                          'config' =&gt; <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>,
<a name="l1019"><span class="linenum">1019</span></a>                  ))
<a name="l1020"><span class="linenum">1020</span></a>          );
<a name="l1021"><span class="linenum">1021</span></a>  
<a name="l1022"><span class="linenum">1022</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('yui_module')" href="../../../../_functions/yui_module.html" onMouseOver="funcPopup(event,'yui_module')">yui_module</a>('moodle-mod_quiz-dragdrop', 'M.mod_quiz.init_section_dragdrop',
<a name="l1023"><span class="linenum">1023</span></a>                  array(array(
<a name="l1024"><span class="linenum">1024</span></a>                          'courseid' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>,
<a name="l1025"><span class="linenum">1025</span></a>                          'quizid' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>(),
<a name="l1026"><span class="linenum">1026</span></a>                          'ajaxurl' =&gt; <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('sectionurl')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../../../_variables/sectionurl.html">sectionurl</a>,
<a name="l1027"><span class="linenum">1027</span></a>                          'config' =&gt; <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>,
<a name="l1028"><span class="linenum">1028</span></a>                  )), null, true);
<a name="l1029"><span class="linenum">1029</span></a>  
<a name="l1030"><span class="linenum">1030</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('yui_module')" href="../../../../_functions/yui_module.html" onMouseOver="funcPopup(event,'yui_module')">yui_module</a>('moodle-mod_quiz-dragdrop', 'M.mod_quiz.init_resource_dragdrop',
<a name="l1031"><span class="linenum">1031</span></a>                  array(array(
<a name="l1032"><span class="linenum">1032</span></a>                          'courseid' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>,
<a name="l1033"><span class="linenum">1033</span></a>                          'quizid' =&gt; <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>(),
<a name="l1034"><span class="linenum">1034</span></a>                          'ajaxurl' =&gt; <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('resourceurl')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../../../_variables/resourceurl.html">resourceurl</a>,
<a name="l1035"><span class="linenum">1035</span></a>                          'config' =&gt; <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../../_variables/config.html">$config</a>,
<a name="l1036"><span class="linenum">1036</span></a>                  )), null, true);
<a name="l1037"><span class="linenum">1037</span></a>  
<a name="l1038"><span class="linenum">1038</span></a>  <span class="comment">        // Require various strings for the command toolbox.</span>
<a name="l1039"><span class="linenum">1039</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('strings_for_js')" href="../../../../_functions/strings_for_js.html" onMouseOver="funcPopup(event,'strings_for_js')">strings_for_js</a>(array(
<a name="l1040"><span class="linenum">1040</span></a>                  'clicktohideshow',
<a name="l1041"><span class="linenum">1041</span></a>                  'deletechecktype',
<a name="l1042"><span class="linenum">1042</span></a>                  'deletechecktypename',
<a name="l1043"><span class="linenum">1043</span></a>                  'edittitle',
<a name="l1044"><span class="linenum">1044</span></a>                  'edittitleinstructions',
<a name="l1045"><span class="linenum">1045</span></a>                  'emptydragdropregion',
<a name="l1046"><span class="linenum">1046</span></a>                  'hide',
<a name="l1047"><span class="linenum">1047</span></a>                  'markedthistopic',
<a name="l1048"><span class="linenum">1048</span></a>                  'markthistopic',
<a name="l1049"><span class="linenum">1049</span></a>                  'move',
<a name="l1050"><span class="linenum">1050</span></a>                  'movecontent',
<a name="l1051"><span class="linenum">1051</span></a>                  'moveleft',
<a name="l1052"><span class="linenum">1052</span></a>                  'movesection',
<a name="l1053"><span class="linenum">1053</span></a>                  'page',
<a name="l1054"><span class="linenum">1054</span></a>                  'question',
<a name="l1055"><span class="linenum">1055</span></a>                  'selectall',
<a name="l1056"><span class="linenum">1056</span></a>                  'show',
<a name="l1057"><span class="linenum">1057</span></a>                  'tocontent',
<a name="l1058"><span class="linenum">1058</span></a>          ), 'moodle');
<a name="l1059"><span class="linenum">1059</span></a>  
<a name="l1060"><span class="linenum">1060</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('strings_for_js')" href="../../../../_functions/strings_for_js.html" onMouseOver="funcPopup(event,'strings_for_js')">strings_for_js</a>(array(
<a name="l1061"><span class="linenum">1061</span></a>                  'addpagebreak',
<a name="l1062"><span class="linenum">1062</span></a>                  'confirmremovesectionheading',
<a name="l1063"><span class="linenum">1063</span></a>                  'confirmremovequestion',
<a name="l1064"><span class="linenum">1064</span></a>                  'dragtoafter',
<a name="l1065"><span class="linenum">1065</span></a>                  'dragtostart',
<a name="l1066"><span class="linenum">1066</span></a>                  'numquestionsx',
<a name="l1067"><span class="linenum">1067</span></a>                  'sectionheadingedit',
<a name="l1068"><span class="linenum">1068</span></a>                  'sectionheadingremove',
<a name="l1069"><span class="linenum">1069</span></a>                  'removepagebreak',
<a name="l1070"><span class="linenum">1070</span></a>                  'questiondependencyadd',
<a name="l1071"><span class="linenum">1071</span></a>                  'questiondependencyfree',
<a name="l1072"><span class="linenum">1072</span></a>                  'questiondependencyremove',
<a name="l1073"><span class="linenum">1073</span></a>                  'questiondependsonprevious',
<a name="l1074"><span class="linenum">1074</span></a>          ), 'quiz');
<a name="l1075"><span class="linenum">1075</span></a>  
<a name="l1076"><span class="linenum">1076</span></a>          foreach (\question_bank::<a class="function" onClick="logFunction('get_all_qtypes')" href="../../../../_functions/get_all_qtypes.html" onMouseOver="funcPopup(event,'get_all_qtypes')">get_all_qtypes</a>() as <a class="var it260" onMouseOver="hilite(260)" onMouseOut="lolite()" onClick="logVariable('qtype')" href="../../../../_variables/qtype.html">$qtype</a> =&gt; <a class="var it2687" onMouseOver="hilite(2687)" onMouseOut="lolite()" onClick="logVariable('notused')" href="../../../../_variables/notused.html">$notused</a>) {
<a name="l1077"><span class="linenum">1077</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/page.html">page</a>-&gt;requires-&gt;<a class="function" onClick="logFunction('string_for_js')" href="../../../../_functions/string_for_js.html" onMouseOver="funcPopup(event,'string_for_js')">string_for_js</a>('pluginname', 'qtype_' . <a class="var it260" onMouseOver="hilite(260)" onMouseOut="lolite()" onClick="logVariable('qtype')" href="../../../../_variables/qtype.html">$qtype</a>);
<a name="l1078"><span class="linenum">1078</span></a>          }
<a name="l1079"><span class="linenum">1079</span></a>  
<a name="l1080"><span class="linenum">1080</span></a>          return true;
<a name="l1081"><span class="linenum">1081</span></a>      }
<a name="l1082"><span class="linenum">1082</span></a>  
<a name="l1083"><span class="linenum">1083</span></a>      <span class="comment">/**</span>
<a name="l1084"><span class="linenum">1084</span></a>  <span class="comment">     * HTML for a page, with ids stripped, so it can be used as a javascript template.</span>
<a name="l1085"><span class="linenum">1085</span></a>  <span class="comment">     *</span>
<a name="l1086"><span class="linenum">1086</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l1087"><span class="linenum">1087</span></a>  <span class="comment">     * @param \question_edit_contexts $contexts the relevant question bank contexts.</span>
<a name="l1088"><span class="linenum">1088</span></a>  <span class="comment">     * @param array $pagevars the variables from {@link \question_edit_setup()}.</span>
<a name="l1089"><span class="linenum">1089</span></a>  <span class="comment">     * @param \moodle_url $pageurl the canonical URL of this page.</span>
<a name="l1090"><span class="linenum">1090</span></a>  <span class="comment">     * @return string HTML for a new page.</span>
<a name="l1091"><span class="linenum">1091</span></a>  <span class="comment">     */</span>
<a name="l1092"><span class="linenum">1092</span></a>      protected function <a class="function" onClick="logFunction('new_page_template')" href="../../../../_functions/new_page_template.html" onMouseOver="funcPopup(event,'new_page_template')">new_page_template</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>,
<a name="l1093"><span class="linenum">1093</span></a>              \question_edit_contexts <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, array <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>, \moodle_url <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>) {
<a name="l1094"><span class="linenum">1094</span></a>          if (!<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('has_questions')" href="../../../../_functions/has_questions.html" onMouseOver="funcPopup(event,'has_questions')">has_questions</a>()) {
<a name="l1095"><span class="linenum">1095</span></a>              return '';
<a name="l1096"><span class="linenum">1096</span></a>          }
<a name="l1097"><span class="linenum">1097</span></a>  
<a name="l1098"><span class="linenum">1098</span></a>          <a class="var it36357" onMouseOver="hilite(36357)" onMouseOut="lolite()" onClick="logVariable('pagehtml')" href="../../../../_variables/pagehtml.html">$pagehtml</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('page_row')" href="../../../../_functions/page_row.html" onMouseOver="funcPopup(event,'page_row')">page_row</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, 1, <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../../../_variables/contexts.html">$contexts</a>, <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>, <a class="var it1079" onMouseOver="hilite(1079)" onMouseOut="lolite()" onClick="logVariable('pageurl')" href="../../../../_variables/pageurl.html">$pageurl</a>);
<a name="l1099"><span class="linenum">1099</span></a>  
<a name="l1100"><span class="linenum">1100</span></a>  <span class="comment">        // Normalise the page number.</span>
<a name="l1101"><span class="linenum">1101</span></a>          <a class="var it20856" onMouseOver="hilite(20856)" onMouseOut="lolite()" onClick="logVariable('pagenumber')" href="../../../../_variables/pagenumber.html">$pagenumber</a> = <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('get_page_number_for_slot')" href="../../../../_functions/get_page_number_for_slot.html" onMouseOver="funcPopup(event,'get_page_number_for_slot')">get_page_number_for_slot</a>(1);
<a name="l1102"><span class="linenum">1102</span></a>          <a class="var it40527" onMouseOver="hilite(40527)" onMouseOut="lolite()" onClick="logVariable('strcontexts')" href="../../../../_variables/strcontexts.html">$strcontexts</a> = array();
<a name="l1103"><span class="linenum">1103</span></a>          <a class="var it40527" onMouseOver="hilite(40527)" onMouseOut="lolite()" onClick="logVariable('strcontexts')" href="../../../../_variables/strcontexts.html">$strcontexts</a>[] = 'page-';
<a name="l1104"><span class="linenum">1104</span></a>          <a class="var it40527" onMouseOver="hilite(40527)" onMouseOut="lolite()" onClick="logVariable('strcontexts')" href="../../../../_variables/strcontexts.html">$strcontexts</a>[] = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('page') . ' ';
<a name="l1105"><span class="linenum">1105</span></a>          <a class="var it40527" onMouseOver="hilite(40527)" onMouseOut="lolite()" onClick="logVariable('strcontexts')" href="../../../../_variables/strcontexts.html">$strcontexts</a>[] = 'addonpage%3D';
<a name="l1106"><span class="linenum">1106</span></a>          <a class="var it40527" onMouseOver="hilite(40527)" onMouseOut="lolite()" onClick="logVariable('strcontexts')" href="../../../../_variables/strcontexts.html">$strcontexts</a>[] = 'addonpage=';
<a name="l1107"><span class="linenum">1107</span></a>          <a class="var it40527" onMouseOver="hilite(40527)" onMouseOut="lolite()" onClick="logVariable('strcontexts')" href="../../../../_variables/strcontexts.html">$strcontexts</a>[] = 'addonpage=&quot;';
<a name="l1108"><span class="linenum">1108</span></a>          <a class="var it40527" onMouseOver="hilite(40527)" onMouseOut="lolite()" onClick="logVariable('strcontexts')" href="../../../../_variables/strcontexts.html">$strcontexts</a>[] = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addquestionfrombanktopage', 'quiz', '');
<a name="l1109"><span class="linenum">1109</span></a>          <a class="var it40527" onMouseOver="hilite(40527)" onMouseOut="lolite()" onClick="logVariable('strcontexts')" href="../../../../_variables/strcontexts.html">$strcontexts</a>[] = 'data-addonpage%3D';
<a name="l1110"><span class="linenum">1110</span></a>          <a class="var it40527" onMouseOver="hilite(40527)" onMouseOut="lolite()" onClick="logVariable('strcontexts')" href="../../../../_variables/strcontexts.html">$strcontexts</a>[] = 'action-menu-';
<a name="l1111"><span class="linenum">1111</span></a>  
<a name="l1112"><span class="linenum">1112</span></a>          foreach (<a class="var it40527" onMouseOver="hilite(40527)" onMouseOut="lolite()" onClick="logVariable('strcontexts')" href="../../../../_variables/strcontexts.html">$strcontexts</a> as <a class="var it15897" onMouseOver="hilite(15897)" onMouseOut="lolite()" onClick="logVariable('strcontext')" href="../../../../_variables/strcontext.html">$strcontext</a>) {
<a name="l1113"><span class="linenum">1113</span></a>              <a class="var it36357" onMouseOver="hilite(36357)" onMouseOut="lolite()" onClick="logVariable('pagehtml')" href="../../../../_variables/pagehtml.html">$pagehtml</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(<a class="var it15897" onMouseOver="hilite(15897)" onMouseOut="lolite()" onClick="logVariable('strcontext')" href="../../../../_variables/strcontext.html">$strcontext</a> . <a class="var it20856" onMouseOver="hilite(20856)" onMouseOut="lolite()" onClick="logVariable('pagenumber')" href="../../../../_variables/pagenumber.html">$pagenumber</a>, <a class="var it15897" onMouseOver="hilite(15897)" onMouseOut="lolite()" onClick="logVariable('strcontext')" href="../../../../_variables/strcontext.html">$strcontext</a> . '%%PAGENUMBER%%', <a class="var it36357" onMouseOver="hilite(36357)" onMouseOut="lolite()" onClick="logVariable('pagehtml')" href="../../../../_variables/pagehtml.html">$pagehtml</a>);
<a name="l1114"><span class="linenum">1114</span></a>          }
<a name="l1115"><span class="linenum">1115</span></a>  
<a name="l1116"><span class="linenum">1116</span></a>          return <a class="var it36357" onMouseOver="hilite(36357)" onMouseOut="lolite()" onClick="logVariable('pagehtml')" href="../../../../_variables/pagehtml.html">$pagehtml</a>;
<a name="l1117"><span class="linenum">1117</span></a>      }
<a name="l1118"><span class="linenum">1118</span></a>  
<a name="l1119"><span class="linenum">1119</span></a>      <span class="comment">/**</span>
<a name="l1120"><span class="linenum">1120</span></a>  <span class="comment">     * HTML for a page, with ids stripped, so it can be used as a javascript template.</span>
<a name="l1121"><span class="linenum">1121</span></a>  <span class="comment">     *</span>
<a name="l1122"><span class="linenum">1122</span></a>  <span class="comment">     * @param structure $structure object containing the structure of the quiz.</span>
<a name="l1123"><span class="linenum">1123</span></a>  <span class="comment">     * @return string HTML for a new icon</span>
<a name="l1124"><span class="linenum">1124</span></a>  <span class="comment">     */</span>
<a name="l1125"><span class="linenum">1125</span></a>      protected function <a class="function" onClick="logFunction('add_page_icon_template')" href="../../../../_functions/add_page_icon_template.html" onMouseOver="funcPopup(event,'add_page_icon_template')">add_page_icon_template</a>(structure <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>) {
<a name="l1126"><span class="linenum">1126</span></a>  
<a name="l1127"><span class="linenum">1127</span></a>          if (!<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('has_questions')" href="../../../../_functions/has_questions.html" onMouseOver="funcPopup(event,'has_questions')">has_questions</a>()) {
<a name="l1128"><span class="linenum">1128</span></a>              return '';
<a name="l1129"><span class="linenum">1129</span></a>          }
<a name="l1130"><span class="linenum">1130</span></a>  
<a name="l1131"><span class="linenum">1131</span></a>          <a class="var it475" onMouseOver="hilite(475)" onMouseOut="lolite()" onClick="logVariable('html')" href="../../../../_variables/html.html">$html</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('page_split_join_button')" href="../../../../_functions/page_split_join_button.html" onMouseOver="funcPopup(event,'page_split_join_button')">page_split_join_button</a>(<a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../../_variables/structure.html">$structure</a>, 1);
<a name="l1132"><span class="linenum">1132</span></a>          return <a class="phpfunction" onClick="logFunction('str_replace')" href="../../../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('&amp;amp;slot=1&amp;amp;', '&amp;amp;slot=%%SLOT%%&amp;amp;', <a class="var it475" onMouseOver="hilite(475)" onMouseOut="lolite()" onClick="logVariable('html')" href="../../../../_variables/html.html">$html</a>);
<a name="l1133"><span class="linenum">1133</span></a>      }
<a name="l1134"><span class="linenum">1134</span></a>  
<a name="l1135"><span class="linenum">1135</span></a>      <span class="comment">/**</span>
<a name="l1136"><span class="linenum">1136</span></a>  <span class="comment">     * Return the contents of the question bank, to be displayed in the question-bank pop-up.</span>
<a name="l1137"><span class="linenum">1137</span></a>  <span class="comment">     *</span>
<a name="l1138"><span class="linenum">1138</span></a>  <span class="comment">     * @param \mod_quiz\question\bank\custom_view $questionbank the question bank view object.</span>
<a name="l1139"><span class="linenum">1139</span></a>  <span class="comment">     * @param array $pagevars the variables from {@link \question_edit_setup()}.</span>
<a name="l1140"><span class="linenum">1140</span></a>  <span class="comment">     * @return string HTML to output / send back in response to an AJAX request.</span>
<a name="l1141"><span class="linenum">1141</span></a>  <span class="comment">     */</span>
<a name="l1142"><span class="linenum">1142</span></a>      public function <a class="function" onClick="logFunction('question_bank_contents')" href="../../../../_functions/question_bank_contents.html" onMouseOver="funcPopup(event,'question_bank_contents')">question_bank_contents</a>(\mod_quiz\question\bank\custom_view <a class="var it5767" onMouseOver="hilite(5767)" onMouseOut="lolite()" onClick="logVariable('questionbank')" href="../../../../_variables/questionbank.html">$questionbank</a>, array <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>) {
<a name="l1143"><span class="linenum">1143</span></a>  
<a name="l1144"><span class="linenum">1144</span></a>          <a class="var it2260" onMouseOver="hilite(2260)" onMouseOut="lolite()" onClick="logVariable('qbank')" href="../../../../_variables/qbank.html">$qbank</a> = <a class="var it5767" onMouseOver="hilite(5767)" onMouseOut="lolite()" onClick="logVariable('questionbank')" href="../../../../_variables/questionbank.html">$questionbank</a>-&gt;<a class="function" onClick="logFunction('render')" href="../../../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>('editq', <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>['qpage'], <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>['qperpage'],
<a name="l1145"><span class="linenum">1145</span></a>                  <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>['cat'], <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>['recurse'], <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>['showhidden'], <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../../../_variables/pagevars.html">$pagevars</a>['qbshowtext']);
<a name="l1146"><span class="linenum">1146</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../../../../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(<a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../../../../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(<a class="var it2260" onMouseOver="hilite(2260)" onMouseOut="lolite()" onClick="logVariable('qbank')" href="../../../../_variables/qbank.html">$qbank</a>, 'bd'), 'questionbankformforpopup');
<a name="l1147"><span class="linenum">1147</span></a>      }
<a name="l1148"><span class="linenum">1148</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'strings_for_js': ['strings_for_js', 'Make an array of language strings available for JS. ', [['lib','outputrequirementslib.php',1183],['enrol','locallib.php',1311]], 73],
'param': ['param', '', [['lib/adodb/drivers','adodb-postgres64.inc.php',609],['lib','weblib.php',453],['lib/adodb/drivers','adodb-oci8po.inc.php',39],['lib/adodb','adodb.inc.php',934],['lib/adodb/drivers','adodb-oci8.inc.php',1179],['lib/adodb/drivers','adodb-db2oci.inc.php',163]], 640],
'start_tag': ['start_tag', 'Outputs an opening tag with attributes ', [['lib','outputcomponents.php',1085],['backup/util/xml/parser','progressive_parser.class.php',215]], 701],
'get_edit_page_warnings': ['get_edit_page_warnings', 'Get any warnings to show at the top of the edit page. ', [['mod/quiz/classes','structure.php',514]], 1],
'end_section_list': ['end_section_list', 'Generate the closing container html for a list of sections ', [['course/format/topics','renderer.php',60],['course/format/weeks','renderer.php',47],['mod/quiz/classes/output','edit_renderer.php',268]], 7],
'get_cmid': ['get_cmid', '', [['mod/quiz','attemptlib.php',210],['mod/quiz','attemptlib.php',747],['mod/quiz/classes','structure.php',236]], 43],
'plugin_name': ['plugin_name', '', [['question/type','questiontypebase.php',68],['lib/classes','plugin_manager.php',576]], 33],
'start_div': ['start_div', 'Starts a <div> tag. (Shortcut function.) ', [['lib','outputcomponents.php',1826]], 107],
'set_constraint': ['set_constraint', 'Sets a constraint for the dialogue. ', [['lib','outputcomponents.php',3538]], 5],
'is_first_section': ['is_first_section', 'Is this the first section in the quiz? ', [['mod/quiz/classes','structure.php',365]], 2],
'div': ['div', 'Creates a <div> tag. (Shortcut function.) ', [['lib','outputcomponents.php',1814],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',239]], 207],
'question_dependency_icon': ['question_dependency_icon', 'Display the icon for whether this question can only be seen if the previous one has been answered. ', [['mod/quiz/classes/output','edit_renderer.php',779]], 1],
'maximum_grade_input': ['maximum_grade_input', 'Render the form for setting a quiz\' overall grade ', [['mod/quiz/classes/output','edit_renderer.php',151]], 1],
'is_last_slot_on_page': ['is_last_slot_on_page', 'Is this slot the last one on its page? ', [['mod/quiz/classes','structure.php',324]], 1],
'question_get_category_id_from_pagevars': ['question_get_category_id_from_pagevars', 'Get the category id from $pagevars. ', [['question','editlib.php',374]], 2],
'question_preview_icon': ['question_preview_icon', 'Render the preview icon. ', [['mod/quiz/classes/output','edit_renderer.php',700]], 2],
'end_section': ['end_section', 'Display the end of a section, after the questions. ', [['mod/quiz/classes/output','edit_renderer.php',360]], 1],
'get_dates_summary': ['get_dates_summary', 'Get the date information about the current state of the quiz. ', [['mod/quiz/classes','structure.php',530]], 1],
'heading_with_help': ['heading_with_help', 'Centered heading with attached help button (same title text) and optional icon attached. ', [['lib','outputrenderers.php',2305]], 39],
'quiz_format_grade': ['quiz_format_grade', 'Round a grade to to the correct number of decimal places, and format it for display. ', [['mod/quiz','lib.php',630]], 35],
'help_icon': ['help_icon', 'Returns HTML to display a help icon. ', [['lib','outputrenderers.php',2341]], 79],
'questions_in_section': ['questions_in_section', 'Renders HTML to display the questions in a section of the quiz. ', [['mod/quiz/classes/output','edit_renderer.php',387]], 1],
'format_string': ['format_string', 'Given a simple string, this function returns the string processed by enabled string filters if $CFG->filterall is enabled ', [['lib','weblib.php',1379]], 880],
'repaginate_button': ['repaginate_button', 'Return the repaginate button ', [['mod/quiz/classes/output','edit_renderer.php',179]], 1],
'empty_tag': ['empty_tag', 'Outputs an empty tag with attributes ', [['lib','outputcomponents.php',1106]], 522],
'print_choose_qtype_to_add_form': ['print_choose_qtype_to_add_form', 'Print a form to let the user choose which question type to add. When the form is submitted, it goes to the question.php script. ', [['question','editlib.php',442]], 3],
'can_finish_during_the_attempt': ['can_finish_during_the_attempt', 'Whether it is possible for another question to depend on this one finishing. Note that the answer is not exact, because of random questions, and sometimes questions cannot be depended upon because of quiz options. ', [['mod/quiz/classes','structure.php',168]], 2],
'is_last_section': ['is_last_section', 'Is this the last section in the quiz? ', [['mod/quiz/classes','structure.php',374]], 1],
'question_preview_popup_params': ['question_preview_popup_params', '', [['lib','questionlib.php',676]], 2],
'get_quizid': ['get_quizid', '', [['mod/quiz','attemptlib.php',185],['mod/quiz','attemptlib.php',727],['mod/quiz/classes','structure.php',244]], 45],
'set_nowrap_on_items': ['set_nowrap_on_items', 'Sets nowrap on items. If true menu items should not wrap lines if they are longer than the available space. ', [['lib','outputcomponents.php',3568]], 2],
'sesskey': ['sesskey', 'Makes sure that $USER->sesskey exists, if $USER itself exists. It sets a new sesskey if one does not already exist, but does not overwrite existing sesskeys. Returns the sesskey string if $USER exists, or boolean false if not. ', [['lib','sessionlib.php',28]], 641],
'get_slot_id_for_slot': ['get_slot_id_for_slot', 'Get the slot id of a given slot slot. ', [['mod/quiz/classes','structure.php',139]], 3],
'get_sections': ['get_sections', 'Returns a list of sections used in the course ', [['course/format','lib.php',301],['mod/quiz','attemptlib.php',271],['lib','modinfolib.php',210],['mod/quiz/classes','structure.php',457]], 15],
'formatted_question_grade': ['formatted_question_grade', 'Get the maximum mark for a question, formatted for display. ', [['mod/quiz/classes','structure.php',489]], 1],
'get_all_qtypes': ['get_all_qtypes', '', [['question/engine','bank.php',150]], 9],
'random_question_form': ['random_question_form', 'Return random question form. ', [['mod/quiz/classes/output','edit_renderer.php',956]], 1],
'is_last_slot_in_section': ['is_last_slot_in_section', 'Is this slot the last one in its section? ', [['mod/quiz/classes','structure.php',336]], 1],
'action_link': ['action_link', 'Renders a special html link with attached action ', [['lib','outputrenderers.php',1623],['report/loglive/classes','table_log.php',285],['report/log/classes','table_log.php',332]], 75],
'input_hidden_params': ['input_hidden_params', 'Returns hidden input fields created from url parameters. ', [['lib','outputcomponents.php',1454]], 16],
'edit_page': ['edit_page', 'Edit a page contents. ', [['mod/wiki/classes','external.php',1069],['mod/quiz/classes/output','edit_renderer.php',40]], 5],
'can_question_depend_on_previous_slot': ['can_question_depend_on_previous_slot', 'Whether it would be possible, given the question types, etc. for the question in the given slot to require that the previous question had been answered before this one is displayed. ', [['mod/quiz/classes','structure.php',157]], 1],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'new_page_template': ['new_page_template', 'HTML for a page, with ids stripped, so it can be used as a javascript template. ', [['mod/quiz/classes/output','edit_renderer.php',1083]], 1],
'get_decimal_places_for_question_marks': ['get_decimal_places_for_question_marks', 'Get the number of decimal places for displyaing question marks. ', [['mod/quiz/classes','structure.php',506]], 3],
'can_be_edited': ['can_be_edited', 'Check if plan can be edited. ', [['competency/classes','plan.php',622],['mod/quiz/classes','structure.php',269]], 18],
'is_only_one_slot_in_section': ['is_only_one_slot_in_section', 'Does this section only contain one slot? ', [['mod/quiz/classes','structure.php',383]], 1],
'section_remove_icon': ['section_remove_icon', 'Render an icon to remove a section from the quiz. ', [['mod/quiz/classes/output','edit_renderer.php',372]], 1],
'question_row': ['question_row', 'Displays one question with the surrounding controls. ', [['mod/quiz/classes/output','edit_renderer.php',409]], 1],
'set_menu_trigger': ['set_menu_trigger', '', [['lib','outputcomponents.php',3362]], 10],
'question_number': ['question_number', 'Output the question number. ', [['mod/quiz/classes/output','edit_renderer.php',688]], 1],
'question_bank_contents': ['question_bank_contents', 'Return the contents of the question bank, to be displayed in the question-bank pop-up. ', [['mod/quiz/classes/output','edit_renderer.php',1135]], 1],
'page_split_join_button': ['page_split_join_button', 'Display an icon to split or join two pages of the quiz. ', [['mod/quiz/classes/output','edit_renderer.php',747]], 2],
'get_courseid': ['get_courseid', 'Id of the current course (for site feedbacks only) ', [['mod/feedback/classes','structure.php',80],['course/format','lib.php',222],['mod/quiz','attemptlib.php',175],['mod/quiz','attemptlib.php',717],['backup/util/plan','backup_plan.class.php',78],['comment','lib.php',1002],['mod/quiz/classes','structure.php',228],['question/classes/bank','view.php',217],['backup/util/plan','restore_plan.class.php',81],['backup/controller','backup_controller.class.php',267],['backup/util/plan','base_step.class.php',105],['backup/controller','restore_controller.class.php',269],['backup/util/plan','base_task.class.php',109]], 244],
'out_as_local_url': ['out_as_local_url', 'Returns URL a relative path from $CFG->wwwroot ', [['lib','weblib.php',852]], 44],
'add_question_form': ['add_question_form', 'Render the form that contains the data for adding a new question to the quiz. ', [['mod/quiz/classes/output','edit_renderer.php',591]], 1],
'quiz_question_preview_url': ['quiz_question_preview_url', '', [['mod/quiz','locallib.php',1313]], 2],
'question_remove_icon': ['question_remove_icon', 'Render an icon to remove a question from the quiz. ', [['mod/quiz/classes/output','edit_renderer.php',729]], 1],
'get_quiz_name': ['get_quiz_name', '', [['mod/quiz','attemptlib.php',195],['mod/quiz','attemptlib.php',732]], 14],
'get_question_type_for_slot': ['get_question_type_for_slot', 'Get the question type in a given slot. ', [['mod/quiz/classes','structure.php',148]], 3],
'set_alignment': ['set_alignment', 'Sets the alignment of the dialogue in relation to button used to toggle it. ', [['lib','outputcomponents.php',3499]], 7],
'get_questions_per_page': ['get_questions_per_page', 'How many questions are allowed per page in the quiz. This setting controls how frequently extra page-breaks should be inserted automatically when questions are added to the quiz. ', [['mod/quiz/classes','structure.php',293]], 1],
'question_move_icon': ['question_move_icon', 'Render the move icon. ', [['mod/quiz/classes/output','edit_renderer.php',674]], 1],
'marked_out_of_field': ['marked_out_of_field', 'Display the \'marked out of\' information for a question. Along with the regrade action. ', [['mod/quiz/classes/output','edit_renderer.php',899]], 1],
'is_first_slot_on_page': ['is_first_slot_on_page', 'Is this slot the first one on its page? ', [['mod/quiz/classes','structure.php',312]], 1],
'quiz_state_warnings': ['quiz_state_warnings', 'Render any warnings that might be required about the state of the quiz, e.g. if it has been attempted, or if the shuffle questions option is turned on. ', [['mod/quiz/classes/output','edit_renderer.php',111]], 1],
'quiz_question_tostring': ['quiz_question_tostring', 'Creates a textual representation of a question for display. ', [['mod/quiz','locallib.php',1940]], 4],
'get_slots_in_section': ['get_slots_in_section', 'Get all the slots in a section of the quiz. ', [['mod/quiz/classes','structure.php',442]], 1],
'yui_module': ['yui_module', 'Creates a JavaScript function call that requires one or more modules to be loaded. ', [['lib','outputrequirementslib.php',1023]], 81],
'local_name': ['local_name', '', [['question/type','questiontypebase.php',76]], 12],
'end_div': ['end_div', 'Ends a <div> tag. (Shortcut function.) ', [['lib','outputcomponents.php',1837]], 100],
'start_section': ['start_section', 'Display the start of a section, before the questions. ', [['mod/quiz/classes/output','edit_renderer.php',276]], 1],
'tag': ['tag', 'Outputs a tag with attributes and contents ', [['lib','outputcomponents.php',1073]], 1292],
'is_question_dependent_on_previous_slot': ['is_question_dependent_on_previous_slot', 'Whether it would be possible, given the question types, etc. for the question in the given slot to require that the previous question had been answered before this one is displayed. ', [['mod/quiz/classes','structure.php',208]], 3],
'get_decimal_places_for_grades': ['get_decimal_places_for_grades', 'Get the number of decimal places for displyaing overall quiz grades or marks. ', [['mod/quiz/classes','structure.php',498]], 1],
'page_row': ['page_row', 'Displays one question with the surrounding controls. ', [['mod/quiz/classes/output','edit_renderer.php',442]], 2],
'question_bank_loading': ['question_bank_loading', 'Render the contents of the question bank pop-up in its initial state, when it just contains a loading progress indicator. ', [['mod/quiz/classes/output','edit_renderer.php',945]], 1],
'quiz_information': ['quiz_information', 'Render the status bar. ', [['mod/quiz/classes/output','edit_renderer.php',133]], 1],
'span': ['span', 'Creates a <span> tag. (Shortcut function.) ', [['lib','outputcomponents.php',1846]], 161],
'heading': ['heading', 'Outputs a heading ', [['lib','outputrenderers.php',3072],['lib','outputrenderers.php',4364],['lib','outputrenderers.php',4552],['grade/report/singleview/classes/local/screen','screen.php',197],['grade/report/singleview/classes/local/screen','user.php',264],['grade/report/singleview/classes/local/screen','grade.php',283]], 796],
'get_section_count': ['get_section_count', 'Get the number of questions in the quiz. ', [['mod/quiz/classes','structure.php',473]], 2],
'add_class': ['add_class', 'Adds a CSS class to this action link object ', [['lib','outputcomponents.php',1040],['lib','outputcomponents.php',1787],['lib','outputcomponents.php',2596],['lib','navigationlib.php',458]], 33],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'add': ['add', 'Add HashTable item ', [['lib/phpexcel/PHPExcel','HashTable.php',78],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',95],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',109],['lib/google/src/Google/Http','Batch.php',52],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',37],['lib','csslib.php',1508],['lib/horde/framework/Horde/Mail/Rfc822','List.php',116],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',33],['lib/horde/framework/Horde/Support','ConsistentHash.php',148],['lib/horde/framework/Horde','Variables.php',297],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',29],['lib','outputcomponents.php',2705],['lib','outputcomponents.php',3380],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',436],['lib','adminlib.php',735],['lib','adminlib.php',894],['lib','adminlib.php',1446],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',27],['lib/xhprof/xhprof_html/jquery','jquery-1.2.6.js',3450],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',80],['lib/google/src/Google/Service','Webmasters.php',436],['lib','navigationlib.php',304],['lib','navigationlib.php',761],['lib','navigationlib.php',3305],['lib','navigationlib.php',3583],['lib/horde/framework/Horde/Imap/Client','Ids.php',155],['backup/cc/cc_lib/gral_lib','cssparser.php',121],['lib/xhprof/xhprof_html/jquery','jquery.autocomplete.js',428],['lib/horde/framework/Horde','Stream.php',116],['comment','lib.php',679],['lib/mustache/src/Mustache','HelperCollection.php',56],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',207],['backup/cc/cc_lib','cc_utils.php',395],['backup/cc/cc_lib','cc_utils.php',454],['lib/lessphp/Output','Mapped.php',50],['lib','licenselib.php',32],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',50],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',74],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',14],['lib/horde/framework/Horde/Mail/Rfc822','GroupList.php',25],['lib/htmlpurifier/HTMLPurifier','IDAccumulator.php',31],['tag/classes','tag.php',152],['blog','locallib.php',242],['lib/classes','notification.php',50],['lib/lessphp','Output.php',18],['tag/classes/output','tagfeed.php',61],['backup/cc','validator.php',51],['lib/horde/framework/Horde/Stream','TempString.php',118],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',11]], 6188],
'question_name': ['question_name', 'Random questions always get a question name that is Random (cateogryname). This function is a centralised place to calculate that, given the category. ', [['question/type/random','questiontype.php',122],['mod/quiz/classes/output','edit_renderer.php',818]], 4],
'clone': ['clone', '', [['lib/editor/tinymce/tiny_mce/3.5.11/plugins/media/js','media.js',11]], 370],
'repaginate_form': ['repaginate_form', 'Return the repaginate form ', [['mod/quiz/classes/output','edit_renderer.php',212]], 1],
'render': ['render', 'Renders this element ', [['lib/classes/output','inplace_editable.php',238],['lib/adodb','adodb-pager.inc.php',241],['lib/phpexcel/PHPExcel','Chart.php',656],['lib','formslib.php',948],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/fullscreen','fullscreen.htm',82],['lib','outputrenderers.php',170],['lib','outputrenderers.php',302],['question/behaviour','behaviourbase.php',97],['lib/htmlpurifier/HTMLPurifier/Printer','HTMLDefinition.php',15],['lib/htmlpurifier/HTMLPurifier/Printer','CSSDefinition.php',14],['filter/tex','latex.php',88],['lib','portfoliolib.php',241],['mod/quiz/classes/question/bank','custom_view.php',133],['lib/mustache/src/Mustache','Engine.php',204],['question/engine/tests','helpers.php',797],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',85],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',235],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',298],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',391],['lib/mustache/src/Mustache','Template.php',57],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',790],['question/engine','questionattempt.php',814],['lib/mustache/src/Mustache','LambdaHelper.php',39]], 942],
'have_cap': ['have_cap', 'Has at least one parent context got the cap $cap? ', [['lib','questionlib.php',1583]], 3],
'pix_url': ['pix_url', 'Return the moodle_url for an image. ', [['lib','outputrenderers.php',237],['lib','outputlib.php',1394]], 367],
'string_for_js': ['string_for_js', 'Make a language string available to JavaScript. ', [['lib','outputrequirementslib.php',1120]], 64],
'question': ['question', 'Display a question. ', [['mod/quiz/classes/output','edit_renderer.php',619],['question/engine','renderer.php',71]], 30],
'pix_icon': ['pix_icon', 'Return HTML for a pix_icon. ', [['lib','outputrenderers.php',2161]], 504],
'is_last_slot_in_quiz': ['is_last_slot_in_quiz', 'Is this slot the last one in the quiz? ', [['mod/quiz/classes','structure.php',355]], 3],
'get_strings': ['get_strings', 'Converts an array of strings to their localized value. ', [['lib','moodlelib.php',6862],['lib/external','externallib.php',156]], 56],
'get_displayed_number_for_slot': ['get_displayed_number_for_slot', 'Get the displayed question number (or \'i\') for a given slot. ', [['mod/quiz/classes','structure.php',121]], 3],
'get_quiz': ['get_quiz', '', [['mod/quiz','attemptlib.php',190],['mod/quiz','attemptlib.php',708],['mod/quiz/classes','structure.php',252]], 104],
'get_question_in_slot': ['get_question_in_slot', 'Get the information about the question in a given slot. ', [['mod/quiz/classes','structure.php',111]], 38],
'add_menu_actions': ['add_menu_actions', 'Returns the add menu that is output once per page. ', [['mod/quiz/classes/output','edit_renderer.php',476]], 2],
'total_marks': ['total_marks', 'Render the total marks available for the quiz. ', [['mod/quiz/classes/output','edit_renderer.php',242]], 1],
'get_question_count': ['get_question_count', 'Get the number of questions in the quiz. ', [['mod/quiz/classes','structure.php',93],['question/classes/bank','view.php',401]], 4],
'start_section_list': ['start_section_list', 'Generate the starting container html for a list of sections ', [['course/format/topics','renderer.php',52],['course/format/weeks','renderer.php',39],['mod/quiz/classes/output','edit_renderer.php',255]], 6],
'edit_menu_actions': ['edit_menu_actions', 'Returns the list of actions to go in the add menu. ', [['mod/quiz/classes/output','edit_renderer.php',520]], 1],
'label': ['label', 'Renders form element label ', [['lib','outputcomponents.php',1741]], 107],
'get_page_number_for_slot': ['get_page_number_for_slot', 'Get the page a given slot is on. ', [['mod/quiz/classes','structure.php',130]], 7],
'formatted_quiz_grade': ['formatted_quiz_grade', 'Get the overall quiz grade formatted for display. ', [['mod/quiz/classes','structure.php',481]], 1],
'get_qtype': ['get_qtype', 'Get the question type class for a particular question type. ', [['question/engine','bank.php',80],['question/format/xml','format.php',1009]], 113],
'question_chooser': ['question_chooser', 'Render the question type chooser dialogue. ', [['mod/quiz/classes/output','edit_renderer.php',935]], 1],
'random_question': ['random_question', 'Renders html to display a random question the link to edit the configuration and also to see that category in the question bank. ', [['mod/quiz/classes/output','edit_renderer.php',858]], 1],
'shorten_text': ['shorten_text', 'Given some text (which may contain HTML) and an ideal length, this function truncates the text neatly on a word boundary if possible ', [['lib','moodlelib.php',7822]], 87],
'has_questions': ['has_questions', '', [['mod/quiz','attemptlib.php',238],['mod/quiz/classes','structure.php',85]], 6],
'initialise_editing_javascript': ['initialise_editing_javascript', 'Initialise the JavaScript for the general editing. (JavaScript for popups is handled with the specific code for those.) ', [['mod/quiz/classes/output','edit_renderer.php',979]], 1],
'set_data': ['set_data', '', [['mod/scorm','mod_form.php',456],['mod/feedback/item/multichoicerated','multichoicerated_form.php',84],['backup/util/structure','restore_path_element.class.php',95],['course','moodleform_mod.php',458],['blocks/html','edit_form.php',53],['question/type','edit_question_form.php',450],['question/type/random','edit_random_form.php',68],['lib','formslib.php',456],['question/type/missingtype','edit_missingtype_form.php',52],['badges','edit_form.php',137],['blocks','edit_form.php',255],['course','editsection_form.php',88],['admin/tool/filetypes','edit_form.php',83],['question','category_form.php',73],['lib/classes/message/inbound','address_manager.php',146],['question/type/multianswer','edit_multianswer_form.php',262],['cache','forms.php',242],['question/type/calculated','datasetitems_form.php',360],['mod/feedback/item/multichoice','multichoice_form.php',79]], 235],
'box': ['box', 'Outputs a box. ', [['lib','outputrenderers.php',3089]], 288],
'section_shuffle_questions': ['section_shuffle_questions', 'Display a checkbox for shuffling question within a section. ', [['mod/quiz/classes/output','edit_renderer.php',323]], 1],
'is_real_question': ['is_real_question', 'Is a particular question in this attempt a real question, or something like a description. ', [['mod/quiz','attemptlib.php',1121],['mod/quiz/classes','structure.php',219],['mod/quiz/tests','attempt_test.php',86]], 4],
'add_page_icon_template': ['add_page_icon_template', 'HTML for a page, with ids stripped, so it can be used as a javascript template. ', [['mod/quiz/classes/output','edit_renderer.php',1119]], 1],
'can_be_repaginated': ['can_be_repaginated', 'Quizzes can only be repaginated if they have not been attempted, the questions are not shuffled, and there are two or more questions. ', [['mod/quiz/classes','structure.php',260]], 1],
'select': ['select', '', [['lib/jquery/ui-1.11.4/external/jquery','jquery.js',2845],['lib','outputcomponents.php',1265]], 591],
'end_tag': ['end_tag', 'Outputs a closing tag ', [['lib','outputcomponents.php',1096],['backup/util/xml/parser','progressive_parser.class.php',261],['backup/util/xml','xml_writer.class.php',177]], 867],
'implode': ['implode', '', [], 1281],
'defined': ['defined', '', [], 4731],
'is_numeric': ['is_numeric', '', [], 672],
'array_merge': ['array_merge', '', [], 2944],
'max': ['max', '', [], 1266],
'link': ['link', '', [], 695],
'str_replace': ['str_replace', '', [], 1648]};
CLASS_DATA={
'edit_renderer': ['edit_renderer', 'Renderer outputting the quiz editing UI. ', [['mod/quiz/classes/output','edit_renderer.php',31]], 1],
'action_menu': ['action_menu', 'An action menu. ', [['lib','outputcomponents.php',3234]], 24],
'html_writer': ['html_writer', 'Simple html output class ', [['lib','outputcomponents.php',1062]], 5120]};
CONST_DATA={
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
