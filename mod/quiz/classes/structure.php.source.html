<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/quiz/classes/structure.php source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='mod/quiz/classes';
filename='structure.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/quiz/classes/</a> -> <a href="structure.php.html">structure.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="structure.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="structure.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Defines the \mod_quiz\structure class.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package   mod_quiz</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright 2013 The Open University</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> */</span>
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  namespace mod_quiz;
<a name="l26"><span class="linenum">  26</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">/**</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * Quiz structure class.</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> *</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * The structure of the quiz. That is, which questions it is built up</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * from. This is used on the Edit quiz page (edit.php) and also when</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * starting an attempt at the quiz (startattempt.php). Once an attempt</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * has been started, then the attempt holds the specific set of questions</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * that that student should answer, and we no longer use this class.</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> *</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * @copyright 2014 The Open University</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> */</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('structure')" href="../../../_classes/structure.html" onMouseOver="classPopup(event,'structure')">structure</a> {
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">    /** @var \quiz the quiz this is the structure of. */</span>
<a name="l42"><span class="linenum">  42</span></a>      protected <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a> = null;
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>      <span class="comment">/**</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     * @var \stdClass[] the questions in this quiz. Contains the row from the questions</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     * table, with the data from the quiz_slots table added, and also question_categories.contextid.</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     */</span>
<a name="l48"><span class="linenum">  48</span></a>      protected <a class="var it256" onMouseOver="hilite(256)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../_variables/questions.html">$questions</a> = array();
<a name="l49"><span class="linenum">  49</span></a>  
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">    /** @var \stdClass[] quiz_slots.id =&gt; the quiz_slots rows for this quiz, agumented by sectionid. */</span>
<a name="l51"><span class="linenum">  51</span></a>      protected <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a> = array();
<a name="l52"><span class="linenum">  52</span></a>  
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">    /** @var \stdClass[] quiz_slots.slot =&gt; the quiz_slots rows for this quiz, agumented by sectionid. */</span>
<a name="l54"><span class="linenum">  54</span></a>      protected <a class="var it29388" onMouseOver="hilite(29388)" onMouseOut="lolite()" onClick="logVariable('slotsinorder')" href="../../../_variables/slotsinorder.html">$slotsinorder</a> = array();
<a name="l55"><span class="linenum">  55</span></a>  
<a name="l56"><span class="linenum">  56</span></a>      <span class="comment">/**</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">     * @var \stdClass[] currently a dummy. Holds data that will match the</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">     * quiz_sections, once it exists.</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">     */</span>
<a name="l60"><span class="linenum">  60</span></a>      protected <a class="var it5385" onMouseOver="hilite(5385)" onMouseOut="lolite()" onClick="logVariable('sections')" href="../../../_variables/sections.html">$sections</a> = array();
<a name="l61"><span class="linenum">  61</span></a>  
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">    /** @var bool caches the results of can_be_edited. */</span>
<a name="l63"><span class="linenum">  63</span></a>      protected <a class="var it23618" onMouseOver="hilite(23618)" onMouseOut="lolite()" onClick="logVariable('canbeedited')" href="../../../_variables/canbeedited.html">$canbeedited</a> = null;
<a name="l64"><span class="linenum">  64</span></a>  
<a name="l65"><span class="linenum">  65</span></a>      <span class="comment">/**</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     * Create an instance of this class representing an empty quiz.</span>
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">     * @return structure</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">     */</span>
<a name="l69"><span class="linenum">  69</span></a>      public static function <a class="function" onClick="logFunction('create')" href="../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>() {
<a name="l70"><span class="linenum">  70</span></a>          return new self();
<a name="l71"><span class="linenum">  71</span></a>      }
<a name="l72"><span class="linenum">  72</span></a>  
<a name="l73"><span class="linenum">  73</span></a>      <span class="comment">/**</span>
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment">     * Create an instance of this class representing the structure of a given quiz.</span>
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment">     * @param \quiz $quizobj the quiz.</span>
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">     * @return structure</span>
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment">     */</span>
<a name="l78"><span class="linenum">  78</span></a>      public static function <a class="function" onClick="logFunction('create_for_quiz')" href="../../../_functions/create_for_quiz.html" onMouseOver="funcPopup(event,'create_for_quiz')">create_for_quiz</a>(<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>) {
<a name="l79"><span class="linenum">  79</span></a>          <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../_variables/structure.html">$structure</a> = self::<a class="function" onClick="logFunction('create')" href="../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>();
<a name="l80"><span class="linenum">  80</span></a>          <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../_variables/structure.html">$structure</a>-&gt;<a onClick="logVariable('quizobj')" class="var it43137" onMouseOver="hilite(43137)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a> = <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>;
<a name="l81"><span class="linenum">  81</span></a>          <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('populate_structure')" href="../../../_functions/populate_structure.html" onMouseOver="funcPopup(event,'populate_structure')">populate_structure</a>(<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../../_variables/quizobj.html">$quizobj</a>-&gt;<a class="function" onClick="logFunction('get_quiz')" href="../../../_functions/get_quiz.html" onMouseOver="funcPopup(event,'get_quiz')">get_quiz</a>());
<a name="l82"><span class="linenum">  82</span></a>          return <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../../_variables/structure.html">$structure</a>;
<a name="l83"><span class="linenum">  83</span></a>      }
<a name="l84"><span class="linenum">  84</span></a>  
<a name="l85"><span class="linenum">  85</span></a>      <span class="comment">/**</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment">     * Whether there are any questions in the quiz.</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">     * @return bool true if there is at least one question in the quiz.</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">     */</span>
<a name="l89"><span class="linenum">  89</span></a>      public function <a class="function" onClick="logFunction('has_questions')" href="../../../_functions/has_questions.html" onMouseOver="funcPopup(event,'has_questions')">has_questions</a>() {
<a name="l90"><span class="linenum">  90</span></a>          return !empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('questions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/questions.html">questions</a>);
<a name="l91"><span class="linenum">  91</span></a>      }
<a name="l92"><span class="linenum">  92</span></a>  
<a name="l93"><span class="linenum">  93</span></a>      <span class="comment">/**</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">     * Get the number of questions in the quiz.</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">     * @return int the number of questions in the quiz.</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment">     */</span>
<a name="l97"><span class="linenum">  97</span></a>      public function <a class="function" onClick="logFunction('get_question_count')" href="../../../_functions/get_question_count.html" onMouseOver="funcPopup(event,'get_question_count')">get_question_count</a>() {
<a name="l98"><span class="linenum">  98</span></a>          return <a class="phpfunction" onClick="logFunction('count')" href="../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('questions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/questions.html">questions</a>);
<a name="l99"><span class="linenum">  99</span></a>      }
<a name="l100"><span class="linenum"> 100</span></a>  
<a name="l101"><span class="linenum"> 101</span></a>      <span class="comment">/**</span>
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment">     * Get the information about the question with this id.</span>
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment">     * @param int $questionid The question id.</span>
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">     * @return \stdClass the data from the questions table, augmented with</span>
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment">     * question_category.contextid, and the quiz_slots data for the question in this quiz.</span>
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">     */</span>
<a name="l107"><span class="linenum"> 107</span></a>      public function <a class="function" onClick="logFunction('get_question_by_id')" href="../../../_functions/get_question_by_id.html" onMouseOver="funcPopup(event,'get_question_by_id')">get_question_by_id</a>(<a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../_variables/questionid.html">$questionid</a>) {
<a name="l108"><span class="linenum"> 108</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('questions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/questions.html">questions</a>[<a class="var it530" onMouseOver="hilite(530)" onMouseOut="lolite()" onClick="logVariable('questionid')" href="../../../_variables/questionid.html">$questionid</a>];
<a name="l109"><span class="linenum"> 109</span></a>      }
<a name="l110"><span class="linenum"> 110</span></a>  
<a name="l111"><span class="linenum"> 111</span></a>      <span class="comment">/**</span>
<a name="l112"><span class="linenum"> 112</span></a>  <span class="comment">     * Get the information about the question in a given slot.</span>
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">     * @param int $slotnumber the index of the slot in question.</span>
<a name="l114"><span class="linenum"> 114</span></a>  <span class="comment">     * @return \stdClass the data from the questions table, augmented with</span>
<a name="l115"><span class="linenum"> 115</span></a>  <span class="comment">     * question_category.contextid, and the quiz_slots data for the question in this quiz.</span>
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">     */</span>
<a name="l117"><span class="linenum"> 117</span></a>      public function <a class="function" onClick="logFunction('get_question_in_slot')" href="../../../_functions/get_question_in_slot.html" onMouseOver="funcPopup(event,'get_question_in_slot')">get_question_in_slot</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>) {
<a name="l118"><span class="linenum"> 118</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('questions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/questions.html">questions</a>[<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;questionid];
<a name="l119"><span class="linenum"> 119</span></a>      }
<a name="l120"><span class="linenum"> 120</span></a>  
<a name="l121"><span class="linenum"> 121</span></a>      <span class="comment">/**</span>
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment">     * Get the displayed question number (or 'i') for a given slot.</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">     * @param int $slotnumber the index of the slot in question.</span>
<a name="l124"><span class="linenum"> 124</span></a>  <span class="comment">     * @return string the question number ot display for this slot.</span>
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">     */</span>
<a name="l126"><span class="linenum"> 126</span></a>      public function <a class="function" onClick="logFunction('get_displayed_number_for_slot')" href="../../../_functions/get_displayed_number_for_slot.html" onMouseOver="funcPopup(event,'get_displayed_number_for_slot')">get_displayed_number_for_slot</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>) {
<a name="l127"><span class="linenum"> 127</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;displayednumber;
<a name="l128"><span class="linenum"> 128</span></a>      }
<a name="l129"><span class="linenum"> 129</span></a>  
<a name="l130"><span class="linenum"> 130</span></a>      <span class="comment">/**</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     * Get the page a given slot is on.</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">     * @param int $slotnumber the index of the slot in question.</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">     * @return int the page number of the page that slot is on.</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment">     */</span>
<a name="l135"><span class="linenum"> 135</span></a>      public function <a class="function" onClick="logFunction('get_page_number_for_slot')" href="../../../_functions/get_page_number_for_slot.html" onMouseOver="funcPopup(event,'get_page_number_for_slot')">get_page_number_for_slot</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>) {
<a name="l136"><span class="linenum"> 136</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;page;
<a name="l137"><span class="linenum"> 137</span></a>      }
<a name="l138"><span class="linenum"> 138</span></a>  
<a name="l139"><span class="linenum"> 139</span></a>      <span class="comment">/**</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">     * Get the slot id of a given slot slot.</span>
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment">     * @param int $slotnumber the index of the slot in question.</span>
<a name="l142"><span class="linenum"> 142</span></a>  <span class="comment">     * @return int the page number of the page that slot is on.</span>
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment">     */</span>
<a name="l144"><span class="linenum"> 144</span></a>      public function <a class="function" onClick="logFunction('get_slot_id_for_slot')" href="../../../_functions/get_slot_id_for_slot.html" onMouseOver="funcPopup(event,'get_slot_id_for_slot')">get_slot_id_for_slot</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>) {
<a name="l145"><span class="linenum"> 145</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;id;
<a name="l146"><span class="linenum"> 146</span></a>      }
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>      <span class="comment">/**</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment">     * Get the question type in a given slot.</span>
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">     * @param int $slotnumber the index of the slot in question.</span>
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment">     * @return string the question type (e.g. multichoice).</span>
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment">     */</span>
<a name="l153"><span class="linenum"> 153</span></a>      public function <a class="function" onClick="logFunction('get_question_type_for_slot')" href="../../../_functions/get_question_type_for_slot.html" onMouseOver="funcPopup(event,'get_question_type_for_slot')">get_question_type_for_slot</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>) {
<a name="l154"><span class="linenum"> 154</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('questions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/questions.html">questions</a>[<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;questionid]-&gt;qtype;
<a name="l155"><span class="linenum"> 155</span></a>      }
<a name="l156"><span class="linenum"> 156</span></a>  
<a name="l157"><span class="linenum"> 157</span></a>      <span class="comment">/**</span>
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment">     * Whether it would be possible, given the question types, etc. for the</span>
<a name="l159"><span class="linenum"> 159</span></a>  <span class="comment">     * question in the given slot to require that the previous question had been</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">     * answered before this one is displayed.</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">     * @param int $slotnumber the index of the slot in question.</span>
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">     * @return bool can this question require the previous one.</span>
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment">     */</span>
<a name="l164"><span class="linenum"> 164</span></a>      public function <a class="function" onClick="logFunction('can_question_depend_on_previous_slot')" href="../../../_functions/can_question_depend_on_previous_slot.html" onMouseOver="funcPopup(event,'can_question_depend_on_previous_slot')">can_question_depend_on_previous_slot</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>) {
<a name="l165"><span class="linenum"> 165</span></a>          return <a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a> &gt; 1 &amp;&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('can_finish_during_the_attempt')" href="../../../_functions/can_finish_during_the_attempt.html" onMouseOver="funcPopup(event,'can_finish_during_the_attempt')">can_finish_during_the_attempt</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a> - 1);
<a name="l166"><span class="linenum"> 166</span></a>      }
<a name="l167"><span class="linenum"> 167</span></a>  
<a name="l168"><span class="linenum"> 168</span></a>      <span class="comment">/**</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">     * Whether it is possible for another question to depend on this one finishing.</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">     * Note that the answer is not exact, because of random questions, and sometimes</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">     * questions cannot be depended upon because of quiz options.</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">     * @param int $slotnumber the index of the slot in question.</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">     * @return bool can this question finish naturally during the attempt?</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">     */</span>
<a name="l175"><span class="linenum"> 175</span></a>      public function <a class="function" onClick="logFunction('can_finish_during_the_attempt')" href="../../../_functions/can_finish_during_the_attempt.html" onMouseOver="funcPopup(event,'can_finish_during_the_attempt')">can_finish_during_the_attempt</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>) {
<a name="l176"><span class="linenum"> 176</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quizobj')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a>-&gt;<a class="function" onClick="logFunction('get_navigation_method')" href="../../../_functions/get_navigation_method.html" onMouseOver="funcPopup(event,'get_navigation_method')">get_navigation_method</a>() == <a class="constant" onClick="logConstant('QUIZ_NAVMETHOD_SEQ')" href="../../../_constants/QUIZ_NAVMETHOD_SEQ.html" onMouseOver="constPopup(event,'QUIZ_NAVMETHOD_SEQ')">QUIZ_NAVMETHOD_SEQ</a>) {
<a name="l177"><span class="linenum"> 177</span></a>              return false;
<a name="l178"><span class="linenum"> 178</span></a>          }
<a name="l179"><span class="linenum"> 179</span></a>  
<a name="l180"><span class="linenum"> 180</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;section-&gt;shufflequestions) {
<a name="l181"><span class="linenum"> 181</span></a>              return false;
<a name="l182"><span class="linenum"> 182</span></a>          }
<a name="l183"><span class="linenum"> 183</span></a>  
<a name="l184"><span class="linenum"> 184</span></a>          if (<a class="phpfunction" onClick="logFunction('in_array')" href="../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_question_type_for_slot')" href="../../../_functions/get_question_type_for_slot.html" onMouseOver="funcPopup(event,'get_question_type_for_slot')">get_question_type_for_slot</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>), array('random', 'missingtype'))) {
<a name="l185"><span class="linenum"> 185</span></a>              return \question_engine::<a class="function" onClick="logFunction('can_questions_finish_during_the_attempt')" href="../../../_functions/can_questions_finish_during_the_attempt.html" onMouseOver="funcPopup(event,'can_questions_finish_during_the_attempt')">can_questions_finish_during_the_attempt</a>(
<a name="l186"><span class="linenum"> 186</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quizobj')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a>-&gt;<a class="function" onClick="logFunction('get_quiz')" href="../../../_functions/get_quiz.html" onMouseOver="funcPopup(event,'get_quiz')">get_quiz</a>()-&gt;preferredbehaviour);
<a name="l187"><span class="linenum"> 187</span></a>          }
<a name="l188"><span class="linenum"> 188</span></a>  
<a name="l189"><span class="linenum"> 189</span></a>          if (isset(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;canfinish)) {
<a name="l190"><span class="linenum"> 190</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;canfinish;
<a name="l191"><span class="linenum"> 191</span></a>          }
<a name="l192"><span class="linenum"> 192</span></a>  
<a name="l193"><span class="linenum"> 193</span></a>          try {
<a name="l194"><span class="linenum"> 194</span></a>              <a class="var it4294" onMouseOver="hilite(4294)" onMouseOut="lolite()" onClick="logVariable('quba')" href="../../../_variables/quba.html">$quba</a> = \question_engine::<a class="function" onClick="logFunction('make_questions_usage_by_activity')" href="../../../_functions/make_questions_usage_by_activity.html" onMouseOver="funcPopup(event,'make_questions_usage_by_activity')">make_questions_usage_by_activity</a>('mod_quiz', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quizobj')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a>-&gt;<a class="function" onClick="logFunction('get_context')" href="../../../_functions/get_context.html" onMouseOver="funcPopup(event,'get_context')">get_context</a>());
<a name="l195"><span class="linenum"> 195</span></a>              <a class="var it29389" onMouseOver="hilite(29389)" onMouseOut="lolite()" onClick="logVariable('tempslot')" href="../../../_variables/tempslot.html">$tempslot</a> = <a class="var it4294" onMouseOver="hilite(4294)" onMouseOut="lolite()" onClick="logVariable('quba')" href="../../../_variables/quba.html">$quba</a>-&gt;<a class="function" onClick="logFunction('add_question')" href="../../../_functions/add_question.html" onMouseOver="funcPopup(event,'add_question')">add_question</a>(\question_bank::<a class="function" onClick="logFunction('load_question')" href="../../../_functions/load_question.html" onMouseOver="funcPopup(event,'load_question')">load_question</a>(
<a name="l196"><span class="linenum"> 196</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;questionid));
<a name="l197"><span class="linenum"> 197</span></a>              <a class="var it4294" onMouseOver="hilite(4294)" onMouseOut="lolite()" onClick="logVariable('quba')" href="../../../_variables/quba.html">$quba</a>-&gt;<a class="function" onClick="logFunction('set_preferred_behaviour')" href="../../../_functions/set_preferred_behaviour.html" onMouseOver="funcPopup(event,'set_preferred_behaviour')">set_preferred_behaviour</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quizobj')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a>-&gt;<a class="function" onClick="logFunction('get_quiz')" href="../../../_functions/get_quiz.html" onMouseOver="funcPopup(event,'get_quiz')">get_quiz</a>()-&gt;preferredbehaviour);
<a name="l198"><span class="linenum"> 198</span></a>              <a class="var it4294" onMouseOver="hilite(4294)" onMouseOut="lolite()" onClick="logVariable('quba')" href="../../../_variables/quba.html">$quba</a>-&gt;<a class="function" onClick="logFunction('start_all_questions')" href="../../../_functions/start_all_questions.html" onMouseOver="funcPopup(event,'start_all_questions')">start_all_questions</a>();
<a name="l199"><span class="linenum"> 199</span></a>  
<a name="l200"><span class="linenum"> 200</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;canfinish = <a class="var it4294" onMouseOver="hilite(4294)" onMouseOut="lolite()" onClick="logVariable('quba')" href="../../../_variables/quba.html">$quba</a>-&gt;<a class="function" onClick="logFunction('can_question_finish_during_attempt')" href="../../../_functions/can_question_finish_during_attempt.html" onMouseOver="funcPopup(event,'can_question_finish_during_attempt')">can_question_finish_during_attempt</a>(<a class="var it29389" onMouseOver="hilite(29389)" onMouseOut="lolite()" onClick="logVariable('tempslot')" href="../../../_variables/tempslot.html">$tempslot</a>);
<a name="l201"><span class="linenum"> 201</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;canfinish;
<a name="l202"><span class="linenum"> 202</span></a>          } catch (\Exception <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../../_variables/e.html">$e</a>) {
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment">            // If the question fails to start, this should not block editing.</span>
<a name="l204"><span class="linenum"> 204</span></a>              return false;
<a name="l205"><span class="linenum"> 205</span></a>          }
<a name="l206"><span class="linenum"> 206</span></a>      }
<a name="l207"><span class="linenum"> 207</span></a>  
<a name="l208"><span class="linenum"> 208</span></a>      <span class="comment">/**</span>
<a name="l209"><span class="linenum"> 209</span></a>  <span class="comment">     * Whether it would be possible, given the question types, etc. for the</span>
<a name="l210"><span class="linenum"> 210</span></a>  <span class="comment">     * question in the given slot to require that the previous question had been</span>
<a name="l211"><span class="linenum"> 211</span></a>  <span class="comment">     * answered before this one is displayed.</span>
<a name="l212"><span class="linenum"> 212</span></a>  <span class="comment">     * @param int $slotnumber the index of the slot in question.</span>
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment">     * @return bool can this question require the previous one.</span>
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">     */</span>
<a name="l215"><span class="linenum"> 215</span></a>      public function <a class="function" onClick="logFunction('is_question_dependent_on_previous_slot')" href="../../../_functions/is_question_dependent_on_previous_slot.html" onMouseOver="funcPopup(event,'is_question_dependent_on_previous_slot')">is_question_dependent_on_previous_slot</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>) {
<a name="l216"><span class="linenum"> 216</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;requireprevious;
<a name="l217"><span class="linenum"> 217</span></a>      }
<a name="l218"><span class="linenum"> 218</span></a>  
<a name="l219"><span class="linenum"> 219</span></a>      <span class="comment">/**</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">     * Is a particular question in this attempt a real question, or something like a description.</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment">     * @param int $slotnumber the index of the slot in question.</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment">     * @return bool whether that question is a real question.</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">     */</span>
<a name="l224"><span class="linenum"> 224</span></a>      public function <a class="function" onClick="logFunction('is_real_question')" href="../../../_functions/is_real_question.html" onMouseOver="funcPopup(event,'is_real_question')">is_real_question</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>) {
<a name="l225"><span class="linenum"> 225</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_question_in_slot')" href="../../../_functions/get_question_in_slot.html" onMouseOver="funcPopup(event,'get_question_in_slot')">get_question_in_slot</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>)-&gt;length != 0;
<a name="l226"><span class="linenum"> 226</span></a>      }
<a name="l227"><span class="linenum"> 227</span></a>  
<a name="l228"><span class="linenum"> 228</span></a>      <span class="comment">/**</span>
<a name="l229"><span class="linenum"> 229</span></a>  <span class="comment">     * Get the course id that the quiz belongs to.</span>
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment">     * @return int the course.id for the quiz.</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment">     */</span>
<a name="l232"><span class="linenum"> 232</span></a>      public function <a class="function" onClick="logFunction('get_courseid')" href="../../../_functions/get_courseid.html" onMouseOver="funcPopup(event,'get_courseid')">get_courseid</a>() {
<a name="l233"><span class="linenum"> 233</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quizobj')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a>-&gt;<a class="function" onClick="logFunction('get_courseid')" href="../../../_functions/get_courseid.html" onMouseOver="funcPopup(event,'get_courseid')">get_courseid</a>();
<a name="l234"><span class="linenum"> 234</span></a>      }
<a name="l235"><span class="linenum"> 235</span></a>  
<a name="l236"><span class="linenum"> 236</span></a>      <span class="comment">/**</span>
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment">     * Get the course module id of the quiz.</span>
<a name="l238"><span class="linenum"> 238</span></a>  <span class="comment">     * @return int the course_modules.id for the quiz.</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">     */</span>
<a name="l240"><span class="linenum"> 240</span></a>      public function <a class="function" onClick="logFunction('get_cmid')" href="../../../_functions/get_cmid.html" onMouseOver="funcPopup(event,'get_cmid')">get_cmid</a>() {
<a name="l241"><span class="linenum"> 241</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quizobj')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a>-&gt;<a class="function" onClick="logFunction('get_cmid')" href="../../../_functions/get_cmid.html" onMouseOver="funcPopup(event,'get_cmid')">get_cmid</a>();
<a name="l242"><span class="linenum"> 242</span></a>      }
<a name="l243"><span class="linenum"> 243</span></a>  
<a name="l244"><span class="linenum"> 244</span></a>      <span class="comment">/**</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">     * Get id of the quiz.</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">     * @return int the quiz.id for the quiz.</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">     */</span>
<a name="l248"><span class="linenum"> 248</span></a>      public function <a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>() {
<a name="l249"><span class="linenum"> 249</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quizobj')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>();
<a name="l250"><span class="linenum"> 250</span></a>      }
<a name="l251"><span class="linenum"> 251</span></a>  
<a name="l252"><span class="linenum"> 252</span></a>      <span class="comment">/**</span>
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment">     * Get the quiz object.</span>
<a name="l254"><span class="linenum"> 254</span></a>  <span class="comment">     * @return \stdClass the quiz settings row from the database.</span>
<a name="l255"><span class="linenum"> 255</span></a>  <span class="comment">     */</span>
<a name="l256"><span class="linenum"> 256</span></a>      public function <a class="function" onClick="logFunction('get_quiz')" href="../../../_functions/get_quiz.html" onMouseOver="funcPopup(event,'get_quiz')">get_quiz</a>() {
<a name="l257"><span class="linenum"> 257</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quizobj')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a>-&gt;<a class="function" onClick="logFunction('get_quiz')" href="../../../_functions/get_quiz.html" onMouseOver="funcPopup(event,'get_quiz')">get_quiz</a>();
<a name="l258"><span class="linenum"> 258</span></a>      }
<a name="l259"><span class="linenum"> 259</span></a>  
<a name="l260"><span class="linenum"> 260</span></a>      <span class="comment">/**</span>
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment">     * Quizzes can only be repaginated if they have not been attempted, the</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment">     * questions are not shuffled, and there are two or more questions.</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">     * @return bool whether this quiz can be repaginated.</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">     */</span>
<a name="l265"><span class="linenum"> 265</span></a>      public function <a class="function" onClick="logFunction('can_be_repaginated')" href="../../../_functions/can_be_repaginated.html" onMouseOver="funcPopup(event,'can_be_repaginated')">can_be_repaginated</a>() {
<a name="l266"><span class="linenum"> 266</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('can_be_edited')" href="../../../_functions/can_be_edited.html" onMouseOver="funcPopup(event,'can_be_edited')">can_be_edited</a>() &amp;&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_question_count')" href="../../../_functions/get_question_count.html" onMouseOver="funcPopup(event,'get_question_count')">get_question_count</a>() &gt;= 2;
<a name="l267"><span class="linenum"> 267</span></a>      }
<a name="l268"><span class="linenum"> 268</span></a>  
<a name="l269"><span class="linenum"> 269</span></a>      <span class="comment">/**</span>
<a name="l270"><span class="linenum"> 270</span></a>  <span class="comment">     * Quizzes can only be edited if they have not been attempted.</span>
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment">     * @return bool whether the quiz can be edited.</span>
<a name="l272"><span class="linenum"> 272</span></a>  <span class="comment">     */</span>
<a name="l273"><span class="linenum"> 273</span></a>      public function <a class="function" onClick="logFunction('can_be_edited')" href="../../../_functions/can_be_edited.html" onMouseOver="funcPopup(event,'can_be_edited')">can_be_edited</a>() {
<a name="l274"><span class="linenum"> 274</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('canbeedited')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/canbeedited.html">canbeedited</a> === null) {
<a name="l275"><span class="linenum"> 275</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('canbeedited')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/canbeedited.html">canbeedited</a> = !<a class="function" onClick="logFunction('quiz_has_attempts')" href="../../../_functions/quiz_has_attempts.html" onMouseOver="funcPopup(event,'quiz_has_attempts')">quiz_has_attempts</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quizobj')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>());
<a name="l276"><span class="linenum"> 276</span></a>          }
<a name="l277"><span class="linenum"> 277</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('canbeedited')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/canbeedited.html">canbeedited</a>;
<a name="l278"><span class="linenum"> 278</span></a>      }
<a name="l279"><span class="linenum"> 279</span></a>  
<a name="l280"><span class="linenum"> 280</span></a>      <span class="comment">/**</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment">     * This quiz can only be edited if they have not been attempted.</span>
<a name="l282"><span class="linenum"> 282</span></a>  <span class="comment">     * Throw an exception if this is not the case.</span>
<a name="l283"><span class="linenum"> 283</span></a>  <span class="comment">     */</span>
<a name="l284"><span class="linenum"> 284</span></a>      public function <a class="function" onClick="logFunction('check_can_be_edited')" href="../../../_functions/check_can_be_edited.html" onMouseOver="funcPopup(event,'check_can_be_edited')">check_can_be_edited</a>() {
<a name="l285"><span class="linenum"> 285</span></a>          if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('can_be_edited')" href="../../../_functions/can_be_edited.html" onMouseOver="funcPopup(event,'can_be_edited')">can_be_edited</a>()) {
<a name="l286"><span class="linenum"> 286</span></a>              <a class="var it29390" onMouseOver="hilite(29390)" onMouseOut="lolite()" onClick="logVariable('reportlink')" href="../../../_variables/reportlink.html">$reportlink</a> = <a class="function" onClick="logFunction('quiz_attempt_summary_link_to_reports')" href="../../../_functions/quiz_attempt_summary_link_to_reports.html" onMouseOver="funcPopup(event,'quiz_attempt_summary_link_to_reports')">quiz_attempt_summary_link_to_reports</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quiz')" href="../../../_functions/get_quiz.html" onMouseOver="funcPopup(event,'get_quiz')">get_quiz</a>(),
<a name="l287"><span class="linenum"> 287</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quizobj')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a>-&gt;<a class="function" onClick="logFunction('get_cm')" href="../../../_functions/get_cm.html" onMouseOver="funcPopup(event,'get_cm')">get_cm</a>(), <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quizobj')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a>-&gt;<a class="function" onClick="logFunction('get_context')" href="../../../_functions/get_context.html" onMouseOver="funcPopup(event,'get_context')">get_context</a>());
<a name="l288"><span class="linenum"> 288</span></a>              throw new \moodle_exception('cannoteditafterattempts', 'quiz',
<a name="l289"><span class="linenum"> 289</span></a>                      new \moodle_url('<a class="filename" href="../../../mod/quiz/edit.php.html">/mod/quiz/edit.php</a>', array('cmid' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_cmid')" href="../../../_functions/get_cmid.html" onMouseOver="funcPopup(event,'get_cmid')">get_cmid</a>())), <a class="var it29390" onMouseOver="hilite(29390)" onMouseOut="lolite()" onClick="logVariable('reportlink')" href="../../../_variables/reportlink.html">$reportlink</a>);
<a name="l290"><span class="linenum"> 290</span></a>          }
<a name="l291"><span class="linenum"> 291</span></a>      }
<a name="l292"><span class="linenum"> 292</span></a>  
<a name="l293"><span class="linenum"> 293</span></a>      <span class="comment">/**</span>
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment">     * How many questions are allowed per page in the quiz.</span>
<a name="l295"><span class="linenum"> 295</span></a>  <span class="comment">     * This setting controls how frequently extra page-breaks should be inserted</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment">     * automatically when questions are added to the quiz.</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment">     * @return int the number of questions that should be on each page of the</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment">     * quiz by default.</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment">     */</span>
<a name="l300"><span class="linenum"> 300</span></a>      public function <a class="function" onClick="logFunction('get_questions_per_page')" href="../../../_functions/get_questions_per_page.html" onMouseOver="funcPopup(event,'get_questions_per_page')">get_questions_per_page</a>() {
<a name="l301"><span class="linenum"> 301</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quizobj')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a>-&gt;<a class="function" onClick="logFunction('get_quiz')" href="../../../_functions/get_quiz.html" onMouseOver="funcPopup(event,'get_quiz')">get_quiz</a>()-&gt;questionsperpage;
<a name="l302"><span class="linenum"> 302</span></a>      }
<a name="l303"><span class="linenum"> 303</span></a>  
<a name="l304"><span class="linenum"> 304</span></a>      <span class="comment">/**</span>
<a name="l305"><span class="linenum"> 305</span></a>  <span class="comment">     * Get quiz slots.</span>
<a name="l306"><span class="linenum"> 306</span></a>  <span class="comment">     * @return \stdClass[] the slots in this quiz.</span>
<a name="l307"><span class="linenum"> 307</span></a>  <span class="comment">     */</span>
<a name="l308"><span class="linenum"> 308</span></a>      public function <a class="function" onClick="logFunction('get_slots')" href="../../../_functions/get_slots.html" onMouseOver="funcPopup(event,'get_slots')">get_slots</a>() {
<a name="l309"><span class="linenum"> 309</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slots')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slots.html">slots</a>;
<a name="l310"><span class="linenum"> 310</span></a>      }
<a name="l311"><span class="linenum"> 311</span></a>  
<a name="l312"><span class="linenum"> 312</span></a>      <span class="comment">/**</span>
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment">     * Is this slot the first one on its page?</span>
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment">     * @param int $slotnumber the index of the slot in question.</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">     * @return bool whether this slot the first one on its page.</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">     */</span>
<a name="l317"><span class="linenum"> 317</span></a>      public function <a class="function" onClick="logFunction('is_first_slot_on_page')" href="../../../_functions/is_first_slot_on_page.html" onMouseOver="funcPopup(event,'is_first_slot_on_page')">is_first_slot_on_page</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>) {
<a name="l318"><span class="linenum"> 318</span></a>          if (<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a> == 1) {
<a name="l319"><span class="linenum"> 319</span></a>              return true;
<a name="l320"><span class="linenum"> 320</span></a>          }
<a name="l321"><span class="linenum"> 321</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;page != <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a> - 1]-&gt;page;
<a name="l322"><span class="linenum"> 322</span></a>      }
<a name="l323"><span class="linenum"> 323</span></a>  
<a name="l324"><span class="linenum"> 324</span></a>      <span class="comment">/**</span>
<a name="l325"><span class="linenum"> 325</span></a>  <span class="comment">     * Is this slot the last one on its page?</span>
<a name="l326"><span class="linenum"> 326</span></a>  <span class="comment">     * @param int $slotnumber the index of the slot in question.</span>
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment">     * @return bool whether this slot the last one on its page.</span>
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">     */</span>
<a name="l329"><span class="linenum"> 329</span></a>      public function <a class="function" onClick="logFunction('is_last_slot_on_page')" href="../../../_functions/is_last_slot_on_page.html" onMouseOver="funcPopup(event,'is_last_slot_on_page')">is_last_slot_on_page</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>) {
<a name="l330"><span class="linenum"> 330</span></a>          if (!isset(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a> + 1])) {
<a name="l331"><span class="linenum"> 331</span></a>              return true;
<a name="l332"><span class="linenum"> 332</span></a>          }
<a name="l333"><span class="linenum"> 333</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;page != <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a> + 1]-&gt;page;
<a name="l334"><span class="linenum"> 334</span></a>      }
<a name="l335"><span class="linenum"> 335</span></a>  
<a name="l336"><span class="linenum"> 336</span></a>      <span class="comment">/**</span>
<a name="l337"><span class="linenum"> 337</span></a>  <span class="comment">     * Is this slot the last one in its section?</span>
<a name="l338"><span class="linenum"> 338</span></a>  <span class="comment">     * @param int $slotnumber the index of the slot in question.</span>
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">     * @return bool whether this slot the last one on its section.</span>
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment">     */</span>
<a name="l341"><span class="linenum"> 341</span></a>      public function <a class="function" onClick="logFunction('is_last_slot_in_section')" href="../../../_functions/is_last_slot_in_section.html" onMouseOver="funcPopup(event,'is_last_slot_in_section')">is_last_slot_in_section</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>) {
<a name="l342"><span class="linenum"> 342</span></a>          return <a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a> == <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;section-&gt;lastslot;
<a name="l343"><span class="linenum"> 343</span></a>      }
<a name="l344"><span class="linenum"> 344</span></a>  
<a name="l345"><span class="linenum"> 345</span></a>      <span class="comment">/**</span>
<a name="l346"><span class="linenum"> 346</span></a>  <span class="comment">     * Is this slot the only one in its section?</span>
<a name="l347"><span class="linenum"> 347</span></a>  <span class="comment">     * @param int $slotnumber the index of the slot in question.</span>
<a name="l348"><span class="linenum"> 348</span></a>  <span class="comment">     * @return bool whether this slot the only one on its section.</span>
<a name="l349"><span class="linenum"> 349</span></a>  <span class="comment">     */</span>
<a name="l350"><span class="linenum"> 350</span></a>      public function <a class="function" onClick="logFunction('is_only_slot_in_section')" href="../../../_functions/is_only_slot_in_section.html" onMouseOver="funcPopup(event,'is_only_slot_in_section')">is_only_slot_in_section</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>) {
<a name="l351"><span class="linenum"> 351</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;section-&gt;firstslot ==
<a name="l352"><span class="linenum"> 352</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;section-&gt;lastslot;
<a name="l353"><span class="linenum"> 353</span></a>      }
<a name="l354"><span class="linenum"> 354</span></a>  
<a name="l355"><span class="linenum"> 355</span></a>      <span class="comment">/**</span>
<a name="l356"><span class="linenum"> 356</span></a>  <span class="comment">     * Is this slot the last one in the quiz?</span>
<a name="l357"><span class="linenum"> 357</span></a>  <span class="comment">     * @param int $slotnumber the index of the slot in question.</span>
<a name="l358"><span class="linenum"> 358</span></a>  <span class="comment">     * @return bool whether this slot the last one in the quiz.</span>
<a name="l359"><span class="linenum"> 359</span></a>  <span class="comment">     */</span>
<a name="l360"><span class="linenum"> 360</span></a>      public function <a class="function" onClick="logFunction('is_last_slot_in_quiz')" href="../../../_functions/is_last_slot_in_quiz.html" onMouseOver="funcPopup(event,'is_last_slot_in_quiz')">is_last_slot_in_quiz</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>) {
<a name="l361"><span class="linenum"> 361</span></a>          <a class="phpfunction" onClick="logFunction('end')" href="../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>);
<a name="l362"><span class="linenum"> 362</span></a>          return <a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a> == <a class="phpfunction" onClick="logFunction('key')" href="../../../_functions/key.html" onMouseOver="phpfuncPopup(event,'key')">key</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>);
<a name="l363"><span class="linenum"> 363</span></a>      }
<a name="l364"><span class="linenum"> 364</span></a>  
<a name="l365"><span class="linenum"> 365</span></a>      <span class="comment">/**</span>
<a name="l366"><span class="linenum"> 366</span></a>  <span class="comment">     * Is this the first section in the quiz?</span>
<a name="l367"><span class="linenum"> 367</span></a>  <span class="comment">     * @param \stdClass $section the quiz_sections row.</span>
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment">     * @return bool whether this is first section in the quiz.</span>
<a name="l369"><span class="linenum"> 369</span></a>  <span class="comment">     */</span>
<a name="l370"><span class="linenum"> 370</span></a>      public function <a class="function" onClick="logFunction('is_first_section')" href="../../../_functions/is_first_section.html" onMouseOver="funcPopup(event,'is_first_section')">is_first_section</a>(<a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>) {
<a name="l371"><span class="linenum"> 371</span></a>          return <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('firstslot')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../_variables/firstslot.html">firstslot</a> == 1;
<a name="l372"><span class="linenum"> 372</span></a>      }
<a name="l373"><span class="linenum"> 373</span></a>  
<a name="l374"><span class="linenum"> 374</span></a>      <span class="comment">/**</span>
<a name="l375"><span class="linenum"> 375</span></a>  <span class="comment">     * Is this the last section in the quiz?</span>
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment">     * @param \stdClass $section the quiz_sections row.</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment">     * @return bool whether this is first section in the quiz.</span>
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment">     */</span>
<a name="l379"><span class="linenum"> 379</span></a>      public function <a class="function" onClick="logFunction('is_last_section')" href="../../../_functions/is_last_section.html" onMouseOver="funcPopup(event,'is_last_section')">is_last_section</a>(<a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>) {
<a name="l380"><span class="linenum"> 380</span></a>          return <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('id')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a> == <a class="phpfunction" onClick="logFunction('end')" href="../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sections')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/sections.html">sections</a>)-&gt;id;
<a name="l381"><span class="linenum"> 381</span></a>      }
<a name="l382"><span class="linenum"> 382</span></a>  
<a name="l383"><span class="linenum"> 383</span></a>      <span class="comment">/**</span>
<a name="l384"><span class="linenum"> 384</span></a>  <span class="comment">     * Does this section only contain one slot?</span>
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment">     * @param \stdClass $section the quiz_sections row.</span>
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment">     * @return bool whether this section contains only one slot.</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">     */</span>
<a name="l388"><span class="linenum"> 388</span></a>      public function <a class="function" onClick="logFunction('is_only_one_slot_in_section')" href="../../../_functions/is_only_one_slot_in_section.html" onMouseOver="funcPopup(event,'is_only_one_slot_in_section')">is_only_one_slot_in_section</a>(<a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>) {
<a name="l389"><span class="linenum"> 389</span></a>          return <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('firstslot')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../_variables/firstslot.html">firstslot</a> == <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('lastslot')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../_variables/lastslot.html">lastslot</a>;
<a name="l390"><span class="linenum"> 390</span></a>      }
<a name="l391"><span class="linenum"> 391</span></a>  
<a name="l392"><span class="linenum"> 392</span></a>      <span class="comment">/**</span>
<a name="l393"><span class="linenum"> 393</span></a>  <span class="comment">     * Get the final slot in the quiz.</span>
<a name="l394"><span class="linenum"> 394</span></a>  <span class="comment">     * @return \stdClass the quiz_slots for for the final slot in the quiz.</span>
<a name="l395"><span class="linenum"> 395</span></a>  <span class="comment">     */</span>
<a name="l396"><span class="linenum"> 396</span></a>      public function <a class="function" onClick="logFunction('get_last_slot')" href="../../../_functions/get_last_slot.html" onMouseOver="funcPopup(event,'get_last_slot')">get_last_slot</a>() {
<a name="l397"><span class="linenum"> 397</span></a>          return <a class="phpfunction" onClick="logFunction('end')" href="../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>);
<a name="l398"><span class="linenum"> 398</span></a>      }
<a name="l399"><span class="linenum"> 399</span></a>  
<a name="l400"><span class="linenum"> 400</span></a>      <span class="comment">/**</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">     * Get a slot by it's id. Throws an exception if it is missing.</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">     * @param int $slotid the slot id.</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">     * @return \stdClass the requested quiz_slots row.</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment">     */</span>
<a name="l405"><span class="linenum"> 405</span></a>      public function <a class="function" onClick="logFunction('get_slot_by_id')" href="../../../_functions/get_slot_by_id.html" onMouseOver="funcPopup(event,'get_slot_by_id')">get_slot_by_id</a>(<a class="var it16231" onMouseOver="hilite(16231)" onMouseOut="lolite()" onClick="logVariable('slotid')" href="../../../_variables/slotid.html">$slotid</a>) {
<a name="l406"><span class="linenum"> 406</span></a>          if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it16231" onMouseOver="hilite(16231)" onMouseOut="lolite()" onClick="logVariable('slotid')" href="../../../_variables/slotid.html">$slotid</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slots')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slots.html">slots</a>)) {
<a name="l407"><span class="linenum"> 407</span></a>              throw new \coding_exception('The \'slotid\' could not be found.');
<a name="l408"><span class="linenum"> 408</span></a>          }
<a name="l409"><span class="linenum"> 409</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slots')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slots.html">slots</a>[<a class="var it16231" onMouseOver="hilite(16231)" onMouseOut="lolite()" onClick="logVariable('slotid')" href="../../../_variables/slotid.html">$slotid</a>];
<a name="l410"><span class="linenum"> 410</span></a>      }
<a name="l411"><span class="linenum"> 411</span></a>  
<a name="l412"><span class="linenum"> 412</span></a>      <span class="comment">/**</span>
<a name="l413"><span class="linenum"> 413</span></a>  <span class="comment">     * Check whether adding a section heading is possible</span>
<a name="l414"><span class="linenum"> 414</span></a>  <span class="comment">     * @param int $pagenumber the number of the page.</span>
<a name="l415"><span class="linenum"> 415</span></a>  <span class="comment">     * @return boolean</span>
<a name="l416"><span class="linenum"> 416</span></a>  <span class="comment">     */</span>
<a name="l417"><span class="linenum"> 417</span></a>      public function <a class="function" onClick="logFunction('can_add_section_heading')" href="../../../_functions/can_add_section_heading.html" onMouseOver="funcPopup(event,'can_add_section_heading')">can_add_section_heading</a>(<a class="var it20856" onMouseOver="hilite(20856)" onMouseOut="lolite()" onClick="logVariable('pagenumber')" href="../../../_variables/pagenumber.html">$pagenumber</a>) {
<a name="l418"><span class="linenum"> 418</span></a>  <span class="comment">        // There is a default section heading on this page,</span>
<a name="l419"><span class="linenum"> 419</span></a>  <span class="comment">        // do not show adding new section heading in the Add menu.</span>
<a name="l420"><span class="linenum"> 420</span></a>          if (<a class="var it20856" onMouseOver="hilite(20856)" onMouseOut="lolite()" onClick="logVariable('pagenumber')" href="../../../_variables/pagenumber.html">$pagenumber</a> == 1) {
<a name="l421"><span class="linenum"> 421</span></a>              return false;
<a name="l422"><span class="linenum"> 422</span></a>          }
<a name="l423"><span class="linenum"> 423</span></a>  <span class="comment">        // Get an array of firstslots.</span>
<a name="l424"><span class="linenum"> 424</span></a>          <a class="var it29391" onMouseOver="hilite(29391)" onMouseOut="lolite()" onClick="logVariable('firstslots')" href="../../../_variables/firstslots.html">$firstslots</a> = array();
<a name="l425"><span class="linenum"> 425</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sections')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/sections.html">sections</a> as <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>) {
<a name="l426"><span class="linenum"> 426</span></a>              <a class="var it29391" onMouseOver="hilite(29391)" onMouseOut="lolite()" onClick="logVariable('firstslots')" href="../../../_variables/firstslots.html">$firstslots</a>[] = <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('firstslot')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../_variables/firstslot.html">firstslot</a>;
<a name="l427"><span class="linenum"> 427</span></a>          }
<a name="l428"><span class="linenum"> 428</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a> as <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>) {
<a name="l429"><span class="linenum"> 429</span></a>              if (<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('page')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/page.html">page</a> == <a class="var it20856" onMouseOver="hilite(20856)" onMouseOut="lolite()" onClick="logVariable('pagenumber')" href="../../../_variables/pagenumber.html">$pagenumber</a>) {
<a name="l430"><span class="linenum"> 430</span></a>                  if (<a class="phpfunction" onClick="logFunction('in_array')" href="../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('slot')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/slot.html">slot</a>, <a class="var it29391" onMouseOver="hilite(29391)" onMouseOut="lolite()" onClick="logVariable('firstslots')" href="../../../_variables/firstslots.html">$firstslots</a>)) {
<a name="l431"><span class="linenum"> 431</span></a>                      return false;
<a name="l432"><span class="linenum"> 432</span></a>                  }
<a name="l433"><span class="linenum"> 433</span></a>              }
<a name="l434"><span class="linenum"> 434</span></a>          }
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment">        // Do not show the adding section heading on the last add menu.</span>
<a name="l436"><span class="linenum"> 436</span></a>          if (<a class="var it20856" onMouseOver="hilite(20856)" onMouseOut="lolite()" onClick="logVariable('pagenumber')" href="../../../_variables/pagenumber.html">$pagenumber</a> == 0) {
<a name="l437"><span class="linenum"> 437</span></a>              return false;
<a name="l438"><span class="linenum"> 438</span></a>          }
<a name="l439"><span class="linenum"> 439</span></a>          return true;
<a name="l440"><span class="linenum"> 440</span></a>      }
<a name="l441"><span class="linenum"> 441</span></a>  
<a name="l442"><span class="linenum"> 442</span></a>      <span class="comment">/**</span>
<a name="l443"><span class="linenum"> 443</span></a>  <span class="comment">     * Get all the slots in a section of the quiz.</span>
<a name="l444"><span class="linenum"> 444</span></a>  <span class="comment">     * @param int $sectionid the section id.</span>
<a name="l445"><span class="linenum"> 445</span></a>  <span class="comment">     * @return int[] slot numbers.</span>
<a name="l446"><span class="linenum"> 446</span></a>  <span class="comment">     */</span>
<a name="l447"><span class="linenum"> 447</span></a>      public function <a class="function" onClick="logFunction('get_slots_in_section')" href="../../../_functions/get_slots_in_section.html" onMouseOver="funcPopup(event,'get_slots_in_section')">get_slots_in_section</a>(<a class="var it5386" onMouseOver="hilite(5386)" onMouseOut="lolite()" onClick="logVariable('sectionid')" href="../../../_variables/sectionid.html">$sectionid</a>) {
<a name="l448"><span class="linenum"> 448</span></a>          <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a> = array();
<a name="l449"><span class="linenum"> 449</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a> as <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>) {
<a name="l450"><span class="linenum"> 450</span></a>              if (<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('section')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/section.html">section</a>-&gt;id == <a class="var it5386" onMouseOver="hilite(5386)" onMouseOut="lolite()" onClick="logVariable('sectionid')" href="../../../_variables/sectionid.html">$sectionid</a>) {
<a name="l451"><span class="linenum"> 451</span></a>                  <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a>[] = <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('slot')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/slot.html">slot</a>;
<a name="l452"><span class="linenum"> 452</span></a>              }
<a name="l453"><span class="linenum"> 453</span></a>          }
<a name="l454"><span class="linenum"> 454</span></a>          return <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a>;
<a name="l455"><span class="linenum"> 455</span></a>      }
<a name="l456"><span class="linenum"> 456</span></a>  
<a name="l457"><span class="linenum"> 457</span></a>      <span class="comment">/**</span>
<a name="l458"><span class="linenum"> 458</span></a>  <span class="comment">     * Get all the sections of the quiz.</span>
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment">     * @return \stdClass[] the sections in this quiz.</span>
<a name="l460"><span class="linenum"> 460</span></a>  <span class="comment">     */</span>
<a name="l461"><span class="linenum"> 461</span></a>      public function <a class="function" onClick="logFunction('get_sections')" href="../../../_functions/get_sections.html" onMouseOver="funcPopup(event,'get_sections')">get_sections</a>() {
<a name="l462"><span class="linenum"> 462</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sections')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/sections.html">sections</a>;
<a name="l463"><span class="linenum"> 463</span></a>      }
<a name="l464"><span class="linenum"> 464</span></a>  
<a name="l465"><span class="linenum"> 465</span></a>      <span class="comment">/**</span>
<a name="l466"><span class="linenum"> 466</span></a>  <span class="comment">     * Get a particular section by id.</span>
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment">     * @return \stdClass the section.</span>
<a name="l468"><span class="linenum"> 468</span></a>  <span class="comment">     */</span>
<a name="l469"><span class="linenum"> 469</span></a>      public function <a class="function" onClick="logFunction('get_section_by_id')" href="../../../_functions/get_section_by_id.html" onMouseOver="funcPopup(event,'get_section_by_id')">get_section_by_id</a>(<a class="var it5386" onMouseOver="hilite(5386)" onMouseOut="lolite()" onClick="logVariable('sectionid')" href="../../../_variables/sectionid.html">$sectionid</a>) {
<a name="l470"><span class="linenum"> 470</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sections')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/sections.html">sections</a>[<a class="var it5386" onMouseOver="hilite(5386)" onMouseOut="lolite()" onClick="logVariable('sectionid')" href="../../../_variables/sectionid.html">$sectionid</a>];
<a name="l471"><span class="linenum"> 471</span></a>      }
<a name="l472"><span class="linenum"> 472</span></a>  
<a name="l473"><span class="linenum"> 473</span></a>      <span class="comment">/**</span>
<a name="l474"><span class="linenum"> 474</span></a>  <span class="comment">     * Get the number of questions in the quiz.</span>
<a name="l475"><span class="linenum"> 475</span></a>  <span class="comment">     * @return int the number of questions in the quiz.</span>
<a name="l476"><span class="linenum"> 476</span></a>  <span class="comment">     */</span>
<a name="l477"><span class="linenum"> 477</span></a>      public function <a class="function" onClick="logFunction('get_section_count')" href="../../../_functions/get_section_count.html" onMouseOver="funcPopup(event,'get_section_count')">get_section_count</a>() {
<a name="l478"><span class="linenum"> 478</span></a>          return <a class="phpfunction" onClick="logFunction('count')" href="../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sections')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/sections.html">sections</a>);
<a name="l479"><span class="linenum"> 479</span></a>      }
<a name="l480"><span class="linenum"> 480</span></a>  
<a name="l481"><span class="linenum"> 481</span></a>      <span class="comment">/**</span>
<a name="l482"><span class="linenum"> 482</span></a>  <span class="comment">     * Get the overall quiz grade formatted for display.</span>
<a name="l483"><span class="linenum"> 483</span></a>  <span class="comment">     * @return string the maximum grade for this quiz.</span>
<a name="l484"><span class="linenum"> 484</span></a>  <span class="comment">     */</span>
<a name="l485"><span class="linenum"> 485</span></a>      public function <a class="function" onClick="logFunction('formatted_quiz_grade')" href="../../../_functions/formatted_quiz_grade.html" onMouseOver="funcPopup(event,'formatted_quiz_grade')">formatted_quiz_grade</a>() {
<a name="l486"><span class="linenum"> 486</span></a>          return <a class="function" onClick="logFunction('quiz_format_grade')" href="../../../_functions/quiz_format_grade.html" onMouseOver="funcPopup(event,'quiz_format_grade')">quiz_format_grade</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quiz')" href="../../../_functions/get_quiz.html" onMouseOver="funcPopup(event,'get_quiz')">get_quiz</a>(), <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quiz')" href="../../../_functions/get_quiz.html" onMouseOver="funcPopup(event,'get_quiz')">get_quiz</a>()-&gt;grade);
<a name="l487"><span class="linenum"> 487</span></a>      }
<a name="l488"><span class="linenum"> 488</span></a>  
<a name="l489"><span class="linenum"> 489</span></a>      <span class="comment">/**</span>
<a name="l490"><span class="linenum"> 490</span></a>  <span class="comment">     * Get the maximum mark for a question, formatted for display.</span>
<a name="l491"><span class="linenum"> 491</span></a>  <span class="comment">     * @param int $slotnumber the index of the slot in question.</span>
<a name="l492"><span class="linenum"> 492</span></a>  <span class="comment">     * @return string the maximum mark for the question in this slot.</span>
<a name="l493"><span class="linenum"> 493</span></a>  <span class="comment">     */</span>
<a name="l494"><span class="linenum"> 494</span></a>      public function <a class="function" onClick="logFunction('formatted_question_grade')" href="../../../_functions/formatted_question_grade.html" onMouseOver="funcPopup(event,'formatted_question_grade')">formatted_question_grade</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>) {
<a name="l495"><span class="linenum"> 495</span></a>          return <a class="function" onClick="logFunction('quiz_format_question_grade')" href="../../../_functions/quiz_format_question_grade.html" onMouseOver="funcPopup(event,'quiz_format_question_grade')">quiz_format_question_grade</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quiz')" href="../../../_functions/get_quiz.html" onMouseOver="funcPopup(event,'get_quiz')">get_quiz</a>(), <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>]-&gt;maxmark);
<a name="l496"><span class="linenum"> 496</span></a>      }
<a name="l497"><span class="linenum"> 497</span></a>  
<a name="l498"><span class="linenum"> 498</span></a>      <span class="comment">/**</span>
<a name="l499"><span class="linenum"> 499</span></a>  <span class="comment">     * Get the number of decimal places for displyaing overall quiz grades or marks.</span>
<a name="l500"><span class="linenum"> 500</span></a>  <span class="comment">     * @return int the number of decimal places.</span>
<a name="l501"><span class="linenum"> 501</span></a>  <span class="comment">     */</span>
<a name="l502"><span class="linenum"> 502</span></a>      public function <a class="function" onClick="logFunction('get_decimal_places_for_grades')" href="../../../_functions/get_decimal_places_for_grades.html" onMouseOver="funcPopup(event,'get_decimal_places_for_grades')">get_decimal_places_for_grades</a>() {
<a name="l503"><span class="linenum"> 503</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quiz')" href="../../../_functions/get_quiz.html" onMouseOver="funcPopup(event,'get_quiz')">get_quiz</a>()-&gt;decimalpoints;
<a name="l504"><span class="linenum"> 504</span></a>      }
<a name="l505"><span class="linenum"> 505</span></a>  
<a name="l506"><span class="linenum"> 506</span></a>      <span class="comment">/**</span>
<a name="l507"><span class="linenum"> 507</span></a>  <span class="comment">     * Get the number of decimal places for displyaing question marks.</span>
<a name="l508"><span class="linenum"> 508</span></a>  <span class="comment">     * @return int the number of decimal places.</span>
<a name="l509"><span class="linenum"> 509</span></a>  <span class="comment">     */</span>
<a name="l510"><span class="linenum"> 510</span></a>      public function <a class="function" onClick="logFunction('get_decimal_places_for_question_marks')" href="../../../_functions/get_decimal_places_for_question_marks.html" onMouseOver="funcPopup(event,'get_decimal_places_for_question_marks')">get_decimal_places_for_question_marks</a>() {
<a name="l511"><span class="linenum"> 511</span></a>          return <a class="function" onClick="logFunction('quiz_get_grade_format')" href="../../../_functions/quiz_get_grade_format.html" onMouseOver="funcPopup(event,'quiz_get_grade_format')">quiz_get_grade_format</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quiz')" href="../../../_functions/get_quiz.html" onMouseOver="funcPopup(event,'get_quiz')">get_quiz</a>());
<a name="l512"><span class="linenum"> 512</span></a>      }
<a name="l513"><span class="linenum"> 513</span></a>  
<a name="l514"><span class="linenum"> 514</span></a>      <span class="comment">/**</span>
<a name="l515"><span class="linenum"> 515</span></a>  <span class="comment">     * Get any warnings to show at the top of the edit page.</span>
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment">     * @return string[] array of strings.</span>
<a name="l517"><span class="linenum"> 517</span></a>  <span class="comment">     */</span>
<a name="l518"><span class="linenum"> 518</span></a>      public function <a class="function" onClick="logFunction('get_edit_page_warnings')" href="../../../_functions/get_edit_page_warnings.html" onMouseOver="funcPopup(event,'get_edit_page_warnings')">get_edit_page_warnings</a>() {
<a name="l519"><span class="linenum"> 519</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l520"><span class="linenum"> 520</span></a>  
<a name="l521"><span class="linenum"> 521</span></a>          if (<a class="function" onClick="logFunction('quiz_has_attempts')" href="../../../_functions/quiz_has_attempts.html" onMouseOver="funcPopup(event,'quiz_has_attempts')">quiz_has_attempts</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quizobj')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>())) {
<a name="l522"><span class="linenum"> 522</span></a>              <a class="var it29392" onMouseOver="hilite(29392)" onMouseOut="lolite()" onClick="logVariable('reviewlink')" href="../../../_variables/reviewlink.html">$reviewlink</a> = <a class="function" onClick="logFunction('quiz_attempt_summary_link_to_reports')" href="../../../_functions/quiz_attempt_summary_link_to_reports.html" onMouseOver="funcPopup(event,'quiz_attempt_summary_link_to_reports')">quiz_attempt_summary_link_to_reports</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quizobj')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a>-&gt;<a class="function" onClick="logFunction('get_quiz')" href="../../../_functions/get_quiz.html" onMouseOver="funcPopup(event,'get_quiz')">get_quiz</a>(),
<a name="l523"><span class="linenum"> 523</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quizobj')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a>-&gt;<a class="function" onClick="logFunction('get_cm')" href="../../../_functions/get_cm.html" onMouseOver="funcPopup(event,'get_cm')">get_cm</a>(), <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quizobj')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a>-&gt;<a class="function" onClick="logFunction('get_context')" href="../../../_functions/get_context.html" onMouseOver="funcPopup(event,'get_context')">get_context</a>());
<a name="l524"><span class="linenum"> 524</span></a>              <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>[] = <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('cannoteditafterattempts', 'quiz', <a class="var it29392" onMouseOver="hilite(29392)" onMouseOut="lolite()" onClick="logVariable('reviewlink')" href="../../../_variables/reviewlink.html">$reviewlink</a>);
<a name="l525"><span class="linenum"> 525</span></a>          }
<a name="l526"><span class="linenum"> 526</span></a>  
<a name="l527"><span class="linenum"> 527</span></a>          return <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l528"><span class="linenum"> 528</span></a>      }
<a name="l529"><span class="linenum"> 529</span></a>  
<a name="l530"><span class="linenum"> 530</span></a>      <span class="comment">/**</span>
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment">     * Get the date information about the current state of the quiz.</span>
<a name="l532"><span class="linenum"> 532</span></a>  <span class="comment">     * @return string[] array of two strings. First a short summary, then a longer</span>
<a name="l533"><span class="linenum"> 533</span></a>  <span class="comment">     * explanation of the current state, e.g. for a tool-tip.</span>
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment">     */</span>
<a name="l535"><span class="linenum"> 535</span></a>      public function <a class="function" onClick="logFunction('get_dates_summary')" href="../../../_functions/get_dates_summary.html" onMouseOver="funcPopup(event,'get_dates_summary')">get_dates_summary</a>() {
<a name="l536"><span class="linenum"> 536</span></a>          <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l537"><span class="linenum"> 537</span></a>          <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('quizobj')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/quizobj.html">quizobj</a>-&gt;<a class="function" onClick="logFunction('get_quiz')" href="../../../_functions/get_quiz.html" onMouseOver="funcPopup(event,'get_quiz')">get_quiz</a>();
<a name="l538"><span class="linenum"> 538</span></a>  
<a name="l539"><span class="linenum"> 539</span></a>  <span class="comment">        // Exact open and close dates for the tool-tip.</span>
<a name="l540"><span class="linenum"> 540</span></a>          <a class="var it3591" onMouseOver="hilite(3591)" onMouseOut="lolite()" onClick="logVariable('dates')" href="../../../_variables/dates.html">$dates</a> = array();
<a name="l541"><span class="linenum"> 541</span></a>          if (<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('timeopen')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/timeopen.html">timeopen</a> &gt; 0) {
<a name="l542"><span class="linenum"> 542</span></a>              if (<a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> &gt; <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('timeopen')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/timeopen.html">timeopen</a>) {
<a name="l543"><span class="linenum"> 543</span></a>                  <a class="var it3591" onMouseOver="hilite(3591)" onMouseOut="lolite()" onClick="logVariable('dates')" href="../../../_variables/dates.html">$dates</a>[] = <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('quizopenedon', 'quiz', <a class="function" onClick="logFunction('userdate')" href="../../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('timeopen')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/timeopen.html">timeopen</a>));
<a name="l544"><span class="linenum"> 544</span></a>              } else {
<a name="l545"><span class="linenum"> 545</span></a>                  <a class="var it3591" onMouseOver="hilite(3591)" onMouseOut="lolite()" onClick="logVariable('dates')" href="../../../_variables/dates.html">$dates</a>[] = <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('quizwillopen', 'quiz', <a class="function" onClick="logFunction('userdate')" href="../../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('timeopen')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/timeopen.html">timeopen</a>));
<a name="l546"><span class="linenum"> 546</span></a>              }
<a name="l547"><span class="linenum"> 547</span></a>          }
<a name="l548"><span class="linenum"> 548</span></a>          if (<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a> &gt; 0) {
<a name="l549"><span class="linenum"> 549</span></a>              if (<a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> &gt; <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a>) {
<a name="l550"><span class="linenum"> 550</span></a>                  <a class="var it3591" onMouseOver="hilite(3591)" onMouseOut="lolite()" onClick="logVariable('dates')" href="../../../_variables/dates.html">$dates</a>[] = <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('quizclosed', 'quiz', <a class="function" onClick="logFunction('userdate')" href="../../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a>));
<a name="l551"><span class="linenum"> 551</span></a>              } else {
<a name="l552"><span class="linenum"> 552</span></a>                  <a class="var it3591" onMouseOver="hilite(3591)" onMouseOut="lolite()" onClick="logVariable('dates')" href="../../../_variables/dates.html">$dates</a>[] = <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('quizcloseson', 'quiz', <a class="function" onClick="logFunction('userdate')" href="../../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a>));
<a name="l553"><span class="linenum"> 553</span></a>              }
<a name="l554"><span class="linenum"> 554</span></a>          }
<a name="l555"><span class="linenum"> 555</span></a>          if (empty(<a class="var it3591" onMouseOver="hilite(3591)" onMouseOut="lolite()" onClick="logVariable('dates')" href="../../../_variables/dates.html">$dates</a>)) {
<a name="l556"><span class="linenum"> 556</span></a>              <a class="var it3591" onMouseOver="hilite(3591)" onMouseOut="lolite()" onClick="logVariable('dates')" href="../../../_variables/dates.html">$dates</a>[] = <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('alwaysavailable', 'quiz');
<a name="l557"><span class="linenum"> 557</span></a>          }
<a name="l558"><span class="linenum"> 558</span></a>          <a class="var it14548" onMouseOver="hilite(14548)" onMouseOut="lolite()" onClick="logVariable('explanation')" href="../../../_variables/explanation.html">$explanation</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(', ', <a class="var it3591" onMouseOver="hilite(3591)" onMouseOut="lolite()" onClick="logVariable('dates')" href="../../../_variables/dates.html">$dates</a>);
<a name="l559"><span class="linenum"> 559</span></a>  
<a name="l560"><span class="linenum"> 560</span></a>  <span class="comment">        // Brief summary on the page.</span>
<a name="l561"><span class="linenum"> 561</span></a>          if (<a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> &lt; <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('timeopen')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/timeopen.html">timeopen</a>) {
<a name="l562"><span class="linenum"> 562</span></a>              <a class="var it25285" onMouseOver="hilite(25285)" onMouseOut="lolite()" onClick="logVariable('currentstatus')" href="../../../_variables/currentstatus.html">$currentstatus</a> = <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('quizisclosedwillopen', 'quiz',
<a name="l563"><span class="linenum"> 563</span></a>                      <a class="function" onClick="logFunction('userdate')" href="../../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('timeopen')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/timeopen.html">timeopen</a>, <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('strftimedatetimeshort', 'langconfig')));
<a name="l564"><span class="linenum"> 564</span></a>          } else if (<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a> &amp;&amp; <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> &lt;= <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a>) {
<a name="l565"><span class="linenum"> 565</span></a>              <a class="var it25285" onMouseOver="hilite(25285)" onMouseOut="lolite()" onClick="logVariable('currentstatus')" href="../../../_variables/currentstatus.html">$currentstatus</a> = <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('quizisopenwillclose', 'quiz',
<a name="l566"><span class="linenum"> 566</span></a>                      <a class="function" onClick="logFunction('userdate')" href="../../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a>, <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('strftimedatetimeshort', 'langconfig')));
<a name="l567"><span class="linenum"> 567</span></a>          } else if (<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a> &amp;&amp; <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> &gt; <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a>) {
<a name="l568"><span class="linenum"> 568</span></a>              <a class="var it25285" onMouseOver="hilite(25285)" onMouseOut="lolite()" onClick="logVariable('currentstatus')" href="../../../_variables/currentstatus.html">$currentstatus</a> = <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('quizisclosed', 'quiz');
<a name="l569"><span class="linenum"> 569</span></a>          } else {
<a name="l570"><span class="linenum"> 570</span></a>              <a class="var it25285" onMouseOver="hilite(25285)" onMouseOut="lolite()" onClick="logVariable('currentstatus')" href="../../../_variables/currentstatus.html">$currentstatus</a> = <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('quizisopen', 'quiz');
<a name="l571"><span class="linenum"> 571</span></a>          }
<a name="l572"><span class="linenum"> 572</span></a>  
<a name="l573"><span class="linenum"> 573</span></a>          return array(<a class="var it25285" onMouseOver="hilite(25285)" onMouseOut="lolite()" onClick="logVariable('currentstatus')" href="../../../_variables/currentstatus.html">$currentstatus</a>, <a class="var it14548" onMouseOver="hilite(14548)" onMouseOut="lolite()" onClick="logVariable('explanation')" href="../../../_variables/explanation.html">$explanation</a>);
<a name="l574"><span class="linenum"> 574</span></a>      }
<a name="l575"><span class="linenum"> 575</span></a>  
<a name="l576"><span class="linenum"> 576</span></a>      <span class="comment">/**</span>
<a name="l577"><span class="linenum"> 577</span></a>  <span class="comment">     * Set up this class with the structure for a given quiz.</span>
<a name="l578"><span class="linenum"> 578</span></a>  <span class="comment">     * @param \stdClass $quiz the quiz settings.</span>
<a name="l579"><span class="linenum"> 579</span></a>  <span class="comment">     */</span>
<a name="l580"><span class="linenum"> 580</span></a>      public function <a class="function" onClick="logFunction('populate_structure')" href="../../../_functions/populate_structure.html" onMouseOver="funcPopup(event,'populate_structure')">populate_structure</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>) {
<a name="l581"><span class="linenum"> 581</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l582"><span class="linenum"> 582</span></a>  
<a name="l583"><span class="linenum"> 583</span></a>          <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(&quot;
<a name="l584"><span class="linenum"> 584</span></a>                  SELECT slot.id AS slotid, slot.slot, slot.questionid, slot.page, slot.maxmark,
<a name="l585"><span class="linenum"> 585</span></a>                          slot.requireprevious, q.*, qc.contextid
<a name="l586"><span class="linenum"> 586</span></a>                    FROM {quiz_slots} slot
<a name="l587"><span class="linenum"> 587</span></a>                    LEFT JOIN {question} q ON q.id = slot.questionid
<a name="l588"><span class="linenum"> 588</span></a>                    LEFT JOIN {question_categories} qc ON qc.id = q.category
<a name="l589"><span class="linenum"> 589</span></a>                   WHERE slot.quizid = ?
<a name="l590"><span class="linenum"> 590</span></a>                ORDER BY slot.slot&quot;, array(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>));
<a name="l591"><span class="linenum"> 591</span></a>  
<a name="l592"><span class="linenum"> 592</span></a>          <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('populate_missing_questions')" href="../../../_functions/populate_missing_questions.html" onMouseOver="funcPopup(event,'populate_missing_questions')">populate_missing_questions</a>(<a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a>);
<a name="l593"><span class="linenum"> 593</span></a>  
<a name="l594"><span class="linenum"> 594</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('questions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/questions.html">questions</a> = array();
<a name="l595"><span class="linenum"> 595</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slots')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slots.html">slots</a> = array();
<a name="l596"><span class="linenum"> 596</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a> = array();
<a name="l597"><span class="linenum"> 597</span></a>          foreach (<a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a> as <a class="var it29393" onMouseOver="hilite(29393)" onMouseOut="lolite()" onClick="logVariable('slotdata')" href="../../../_variables/slotdata.html">$slotdata</a>) {
<a name="l598"><span class="linenum"> 598</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('questions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/questions.html">questions</a>[<a class="var it29393" onMouseOver="hilite(29393)" onMouseOut="lolite()" onClick="logVariable('slotdata')" href="../../../_variables/slotdata.html">$slotdata</a>-&gt;<a onClick="logVariable('questionid')" class="var it43548" onMouseOver="hilite(43548)" onMouseOut="lolite()" href="../../../_variables/questionid.html">questionid</a>] = <a class="var it29393" onMouseOver="hilite(29393)" onMouseOut="lolite()" onClick="logVariable('slotdata')" href="../../../_variables/slotdata.html">$slotdata</a>;
<a name="l599"><span class="linenum"> 599</span></a>  
<a name="l600"><span class="linenum"> 600</span></a>              <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a> = new \stdClass();
<a name="l601"><span class="linenum"> 601</span></a>              <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('id')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a> = <a class="var it29393" onMouseOver="hilite(29393)" onMouseOut="lolite()" onClick="logVariable('slotdata')" href="../../../_variables/slotdata.html">$slotdata</a>-&gt;<a onClick="logVariable('slotid')" class="var it43548" onMouseOver="hilite(43548)" onMouseOut="lolite()" href="../../../_variables/slotid.html">slotid</a>;
<a name="l602"><span class="linenum"> 602</span></a>              <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('slot')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/slot.html">slot</a> = <a class="var it29393" onMouseOver="hilite(29393)" onMouseOut="lolite()" onClick="logVariable('slotdata')" href="../../../_variables/slotdata.html">$slotdata</a>-&gt;<a onClick="logVariable('slot')" class="var it43548" onMouseOver="hilite(43548)" onMouseOut="lolite()" href="../../../_variables/slot.html">slot</a>;
<a name="l603"><span class="linenum"> 603</span></a>              <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('quizid')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/quizid.html">quizid</a> = <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l604"><span class="linenum"> 604</span></a>              <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('page')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/page.html">page</a> = <a class="var it29393" onMouseOver="hilite(29393)" onMouseOut="lolite()" onClick="logVariable('slotdata')" href="../../../_variables/slotdata.html">$slotdata</a>-&gt;<a onClick="logVariable('page')" class="var it43548" onMouseOver="hilite(43548)" onMouseOut="lolite()" href="../../../_variables/page.html">page</a>;
<a name="l605"><span class="linenum"> 605</span></a>              <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('questionid')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/questionid.html">questionid</a> = <a class="var it29393" onMouseOver="hilite(29393)" onMouseOut="lolite()" onClick="logVariable('slotdata')" href="../../../_variables/slotdata.html">$slotdata</a>-&gt;<a onClick="logVariable('questionid')" class="var it43548" onMouseOver="hilite(43548)" onMouseOut="lolite()" href="../../../_variables/questionid.html">questionid</a>;
<a name="l606"><span class="linenum"> 606</span></a>              <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('maxmark')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/maxmark.html">maxmark</a> = <a class="var it29393" onMouseOver="hilite(29393)" onMouseOut="lolite()" onClick="logVariable('slotdata')" href="../../../_variables/slotdata.html">$slotdata</a>-&gt;<a onClick="logVariable('maxmark')" class="var it43548" onMouseOver="hilite(43548)" onMouseOut="lolite()" href="../../../_variables/maxmark.html">maxmark</a>;
<a name="l607"><span class="linenum"> 607</span></a>              <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('requireprevious')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/requireprevious.html">requireprevious</a> = <a class="var it29393" onMouseOver="hilite(29393)" onMouseOut="lolite()" onClick="logVariable('slotdata')" href="../../../_variables/slotdata.html">$slotdata</a>-&gt;<a onClick="logVariable('requireprevious')" class="var it43548" onMouseOver="hilite(43548)" onMouseOut="lolite()" href="../../../_variables/requireprevious.html">requireprevious</a>;
<a name="l608"><span class="linenum"> 608</span></a>  
<a name="l609"><span class="linenum"> 609</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slots')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slots.html">slots</a>[<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('id')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>] = <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>;
<a name="l610"><span class="linenum"> 610</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('slot')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/slot.html">slot</a>] = <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>;
<a name="l611"><span class="linenum"> 611</span></a>          }
<a name="l612"><span class="linenum"> 612</span></a>  
<a name="l613"><span class="linenum"> 613</span></a>  <span class="comment">        // Get quiz sections in ascending order of the firstslot.</span>
<a name="l614"><span class="linenum"> 614</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sections')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/sections.html">sections</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('quiz_sections', array('quizid' =&gt; <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>), 'firstslot ASC');
<a name="l615"><span class="linenum"> 615</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('populate_slots_with_sections')" href="../../../_functions/populate_slots_with_sections.html" onMouseOver="funcPopup(event,'populate_slots_with_sections')">populate_slots_with_sections</a>();
<a name="l616"><span class="linenum"> 616</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('populate_question_numbers')" href="../../../_functions/populate_question_numbers.html" onMouseOver="funcPopup(event,'populate_question_numbers')">populate_question_numbers</a>();
<a name="l617"><span class="linenum"> 617</span></a>      }
<a name="l618"><span class="linenum"> 618</span></a>  
<a name="l619"><span class="linenum"> 619</span></a>      <span class="comment">/**</span>
<a name="l620"><span class="linenum"> 620</span></a>  <span class="comment">     * Used by populate. Make up fake data for any missing questions.</span>
<a name="l621"><span class="linenum"> 621</span></a>  <span class="comment">     * @param \stdClass[] $slots the data about the slots and questions in the quiz.</span>
<a name="l622"><span class="linenum"> 622</span></a>  <span class="comment">     * @return \stdClass[] updated $slots array.</span>
<a name="l623"><span class="linenum"> 623</span></a>  <span class="comment">     */</span>
<a name="l624"><span class="linenum"> 624</span></a>      protected function <a class="function" onClick="logFunction('populate_missing_questions')" href="../../../_functions/populate_missing_questions.html" onMouseOver="funcPopup(event,'populate_missing_questions')">populate_missing_questions</a>(<a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a>) {
<a name="l625"><span class="linenum"> 625</span></a>  <span class="comment">        // Address missing question types.</span>
<a name="l626"><span class="linenum"> 626</span></a>          foreach (<a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a> as <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>) {
<a name="l627"><span class="linenum"> 627</span></a>              if (<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('qtype')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/qtype.html">qtype</a> === null) {
<a name="l628"><span class="linenum"> 628</span></a>  <span class="comment">                // If the questiontype is missing change the question type.</span>
<a name="l629"><span class="linenum"> 629</span></a>                  <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('id')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a> = <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('questionid')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/questionid.html">questionid</a>;
<a name="l630"><span class="linenum"> 630</span></a>                  <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('category')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/category.html">category</a> = 0;
<a name="l631"><span class="linenum"> 631</span></a>                  <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('qtype')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/qtype.html">qtype</a> = 'missingtype';
<a name="l632"><span class="linenum"> 632</span></a>                  <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('name')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/name.html">name</a> = <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('missingquestion', 'quiz');
<a name="l633"><span class="linenum"> 633</span></a>                  <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('slot')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/slot.html">slot</a> = <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('slot')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/slot.html">slot</a>;
<a name="l634"><span class="linenum"> 634</span></a>                  <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('maxmark')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/maxmark.html">maxmark</a> = 0;
<a name="l635"><span class="linenum"> 635</span></a>                  <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('requireprevious')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/requireprevious.html">requireprevious</a> = 0;
<a name="l636"><span class="linenum"> 636</span></a>                  <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('questiontext')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/questiontext.html">questiontext</a> = ' ';
<a name="l637"><span class="linenum"> 637</span></a>                  <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('questiontextformat')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/questiontextformat.html">questiontextformat</a> = <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>;
<a name="l638"><span class="linenum"> 638</span></a>                  <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('length')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/length.html">length</a> = 1;
<a name="l639"><span class="linenum"> 639</span></a>  
<a name="l640"><span class="linenum"> 640</span></a>              } else if (!\question_bank::<a class="function" onClick="logFunction('qtype_exists')" href="../../../_functions/qtype_exists.html" onMouseOver="funcPopup(event,'qtype_exists')">qtype_exists</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('qtype')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/qtype.html">qtype</a>)) {
<a name="l641"><span class="linenum"> 641</span></a>                  <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('qtype')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/qtype.html">qtype</a> = 'missingtype';
<a name="l642"><span class="linenum"> 642</span></a>              }
<a name="l643"><span class="linenum"> 643</span></a>          }
<a name="l644"><span class="linenum"> 644</span></a>  
<a name="l645"><span class="linenum"> 645</span></a>          return <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a>;
<a name="l646"><span class="linenum"> 646</span></a>      }
<a name="l647"><span class="linenum"> 647</span></a>  
<a name="l648"><span class="linenum"> 648</span></a>      <span class="comment">/**</span>
<a name="l649"><span class="linenum"> 649</span></a>  <span class="comment">     * Fill in the section ids for each slot.</span>
<a name="l650"><span class="linenum"> 650</span></a>  <span class="comment">     */</span>
<a name="l651"><span class="linenum"> 651</span></a>      public function <a class="function" onClick="logFunction('populate_slots_with_sections')" href="../../../_functions/populate_slots_with_sections.html" onMouseOver="funcPopup(event,'populate_slots_with_sections')">populate_slots_with_sections</a>() {
<a name="l652"><span class="linenum"> 652</span></a>          <a class="var it5385" onMouseOver="hilite(5385)" onMouseOut="lolite()" onClick="logVariable('sections')" href="../../../_variables/sections.html">$sections</a> = <a class="phpfunction" onClick="logFunction('array_values')" href="../../../_functions/array_values.html" onMouseOver="phpfuncPopup(event,'array_values')">array_values</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sections')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/sections.html">sections</a>);
<a name="l653"><span class="linenum"> 653</span></a>          foreach (<a class="var it5385" onMouseOver="hilite(5385)" onMouseOut="lolite()" onClick="logVariable('sections')" href="../../../_variables/sections.html">$sections</a> as <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> =&gt; <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>) {
<a name="l654"><span class="linenum"> 654</span></a>              if (isset(<a class="var it5385" onMouseOver="hilite(5385)" onMouseOut="lolite()" onClick="logVariable('sections')" href="../../../_variables/sections.html">$sections</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> + 1])) {
<a name="l655"><span class="linenum"> 655</span></a>                  <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('lastslot')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../_variables/lastslot.html">lastslot</a> = <a class="var it5385" onMouseOver="hilite(5385)" onMouseOut="lolite()" onClick="logVariable('sections')" href="../../../_variables/sections.html">$sections</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> + 1]-&gt;firstslot - 1;
<a name="l656"><span class="linenum"> 656</span></a>              } else {
<a name="l657"><span class="linenum"> 657</span></a>                  <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('lastslot')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../_variables/lastslot.html">lastslot</a> = <a class="phpfunction" onClick="logFunction('count')" href="../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>);
<a name="l658"><span class="linenum"> 658</span></a>              }
<a name="l659"><span class="linenum"> 659</span></a>              for (<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a> = <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('firstslot')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../_variables/firstslot.html">firstslot</a>; <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a> &lt;= <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('lastslot')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../_variables/lastslot.html">lastslot</a>; <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a> += 1) {
<a name="l660"><span class="linenum"> 660</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slotsinorder')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slotsinorder.html">slotsinorder</a>[<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>]-&gt;section = <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>;
<a name="l661"><span class="linenum"> 661</span></a>              }
<a name="l662"><span class="linenum"> 662</span></a>          }
<a name="l663"><span class="linenum"> 663</span></a>      }
<a name="l664"><span class="linenum"> 664</span></a>  
<a name="l665"><span class="linenum"> 665</span></a>      <span class="comment">/**</span>
<a name="l666"><span class="linenum"> 666</span></a>  <span class="comment">     * Number the questions.</span>
<a name="l667"><span class="linenum"> 667</span></a>  <span class="comment">     */</span>
<a name="l668"><span class="linenum"> 668</span></a>      protected function <a class="function" onClick="logFunction('populate_question_numbers')" href="../../../_functions/populate_question_numbers.html" onMouseOver="funcPopup(event,'populate_question_numbers')">populate_question_numbers</a>() {
<a name="l669"><span class="linenum"> 669</span></a>          <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../../_variables/number.html">$number</a> = 1;
<a name="l670"><span class="linenum"> 670</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slots')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slots.html">slots</a> as <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>) {
<a name="l671"><span class="linenum"> 671</span></a>              if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('questions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/questions.html">questions</a>[<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('questionid')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/questionid.html">questionid</a>]-&gt;length == 0) {
<a name="l672"><span class="linenum"> 672</span></a>                  <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('displayednumber')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/displayednumber.html">displayednumber</a> = <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('infoshort', 'quiz');
<a name="l673"><span class="linenum"> 673</span></a>              } else {
<a name="l674"><span class="linenum"> 674</span></a>                  <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('displayednumber')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/displayednumber.html">displayednumber</a> = <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../../_variables/number.html">$number</a>;
<a name="l675"><span class="linenum"> 675</span></a>                  <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../../_variables/number.html">$number</a> += 1;
<a name="l676"><span class="linenum"> 676</span></a>              }
<a name="l677"><span class="linenum"> 677</span></a>          }
<a name="l678"><span class="linenum"> 678</span></a>      }
<a name="l679"><span class="linenum"> 679</span></a>  
<a name="l680"><span class="linenum"> 680</span></a>      <span class="comment">/**</span>
<a name="l681"><span class="linenum"> 681</span></a>  <span class="comment">     * Move a slot from its current location to a new location.</span>
<a name="l682"><span class="linenum"> 682</span></a>  <span class="comment">     *</span>
<a name="l683"><span class="linenum"> 683</span></a>  <span class="comment">     * After callig this method, this class will be in an invalid state, and</span>
<a name="l684"><span class="linenum"> 684</span></a>  <span class="comment">     * should be discarded if you want to manipulate the structure further.</span>
<a name="l685"><span class="linenum"> 685</span></a>  <span class="comment">     *</span>
<a name="l686"><span class="linenum"> 686</span></a>  <span class="comment">     * @param int $idmove id of slot to be moved</span>
<a name="l687"><span class="linenum"> 687</span></a>  <span class="comment">     * @param int $idmoveafter id of slot to come before slot being moved</span>
<a name="l688"><span class="linenum"> 688</span></a>  <span class="comment">     * @param int $page new page number of slot being moved</span>
<a name="l689"><span class="linenum"> 689</span></a>  <span class="comment">     * @param bool $insection if the question is moving to a place where a new</span>
<a name="l690"><span class="linenum"> 690</span></a>  <span class="comment">     *      section starts, include it in that section.</span>
<a name="l691"><span class="linenum"> 691</span></a>  <span class="comment">     * @return void</span>
<a name="l692"><span class="linenum"> 692</span></a>  <span class="comment">     */</span>
<a name="l693"><span class="linenum"> 693</span></a>      public function <a class="function" onClick="logFunction('move_slot')" href="../../../_functions/move_slot.html" onMouseOver="funcPopup(event,'move_slot')">move_slot</a>(<a class="var it29396" onMouseOver="hilite(29396)" onMouseOut="lolite()" onClick="logVariable('idmove')" href="../../../_variables/idmove.html">$idmove</a>, <a class="var it16229" onMouseOver="hilite(16229)" onMouseOut="lolite()" onClick="logVariable('idmoveafter')" href="../../../_variables/idmoveafter.html">$idmoveafter</a>, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>) {
<a name="l694"><span class="linenum"> 694</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l695"><span class="linenum"> 695</span></a>  
<a name="l696"><span class="linenum"> 696</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('check_can_be_edited')" href="../../../_functions/check_can_be_edited.html" onMouseOver="funcPopup(event,'check_can_be_edited')">check_can_be_edited</a>();
<a name="l697"><span class="linenum"> 697</span></a>  
<a name="l698"><span class="linenum"> 698</span></a>          <a class="var it29397" onMouseOver="hilite(29397)" onMouseOut="lolite()" onClick="logVariable('movingslot')" href="../../../_variables/movingslot.html">$movingslot</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slots')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slots.html">slots</a>[<a class="var it29396" onMouseOver="hilite(29396)" onMouseOut="lolite()" onClick="logVariable('idmove')" href="../../../_variables/idmove.html">$idmove</a>];
<a name="l699"><span class="linenum"> 699</span></a>          if (empty(<a class="var it29397" onMouseOver="hilite(29397)" onMouseOut="lolite()" onClick="logVariable('movingslot')" href="../../../_variables/movingslot.html">$movingslot</a>)) {
<a name="l700"><span class="linenum"> 700</span></a>              throw new \moodle_exception('Bad slot ID ' . <a class="var it29396" onMouseOver="hilite(29396)" onMouseOut="lolite()" onClick="logVariable('idmove')" href="../../../_variables/idmove.html">$idmove</a>);
<a name="l701"><span class="linenum"> 701</span></a>          }
<a name="l702"><span class="linenum"> 702</span></a>          <a class="var it29398" onMouseOver="hilite(29398)" onMouseOut="lolite()" onClick="logVariable('movingslotnumber')" href="../../../_variables/movingslotnumber.html">$movingslotnumber</a> = (int) <a class="var it29397" onMouseOver="hilite(29397)" onMouseOut="lolite()" onClick="logVariable('movingslot')" href="../../../_variables/movingslot.html">$movingslot</a>-&gt;<a onClick="logVariable('slot')" class="var it43549" onMouseOver="hilite(43549)" onMouseOut="lolite()" href="../../../_variables/slot.html">slot</a>;
<a name="l703"><span class="linenum"> 703</span></a>  
<a name="l704"><span class="linenum"> 704</span></a>  <span class="comment">        // Empty target slot means move slot to first.</span>
<a name="l705"><span class="linenum"> 705</span></a>          if (empty(<a class="var it16229" onMouseOver="hilite(16229)" onMouseOut="lolite()" onClick="logVariable('idmoveafter')" href="../../../_variables/idmoveafter.html">$idmoveafter</a>)) {
<a name="l706"><span class="linenum"> 706</span></a>              <a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a> = 0;
<a name="l707"><span class="linenum"> 707</span></a>          } else {
<a name="l708"><span class="linenum"> 708</span></a>              <a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a> = (int) <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slots')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/slots.html">slots</a>[<a class="var it16229" onMouseOver="hilite(16229)" onMouseOut="lolite()" onClick="logVariable('idmoveafter')" href="../../../_variables/idmoveafter.html">$idmoveafter</a>]-&gt;slot;
<a name="l709"><span class="linenum"> 709</span></a>          }
<a name="l710"><span class="linenum"> 710</span></a>  
<a name="l711"><span class="linenum"> 711</span></a>  <span class="comment">        // If the action came in as moving a slot to itself, normalise this to</span>
<a name="l712"><span class="linenum"> 712</span></a>  <span class="comment">        // moving the slot to after the previous slot.</span>
<a name="l713"><span class="linenum"> 713</span></a>          if (<a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a> == <a class="var it29398" onMouseOver="hilite(29398)" onMouseOut="lolite()" onClick="logVariable('movingslotnumber')" href="../../../_variables/movingslotnumber.html">$movingslotnumber</a>) {
<a name="l714"><span class="linenum"> 714</span></a>              <a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a> = <a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a> - 1;
<a name="l715"><span class="linenum"> 715</span></a>          }
<a name="l716"><span class="linenum"> 716</span></a>  
<a name="l717"><span class="linenum"> 717</span></a>          <a class="var it29400" onMouseOver="hilite(29400)" onMouseOut="lolite()" onClick="logVariable('followingslotnumber')" href="../../../_variables/followingslotnumber.html">$followingslotnumber</a> = <a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a> + 1;
<a name="l718"><span class="linenum"> 718</span></a>          if (<a class="var it29400" onMouseOver="hilite(29400)" onMouseOut="lolite()" onClick="logVariable('followingslotnumber')" href="../../../_variables/followingslotnumber.html">$followingslotnumber</a> == <a class="var it29398" onMouseOver="hilite(29398)" onMouseOut="lolite()" onClick="logVariable('movingslotnumber')" href="../../../_variables/movingslotnumber.html">$movingslotnumber</a>) {
<a name="l719"><span class="linenum"> 719</span></a>              <a class="var it29400" onMouseOver="hilite(29400)" onMouseOut="lolite()" onClick="logVariable('followingslotnumber')" href="../../../_variables/followingslotnumber.html">$followingslotnumber</a> += 1;
<a name="l720"><span class="linenum"> 720</span></a>          }
<a name="l721"><span class="linenum"> 721</span></a>  
<a name="l722"><span class="linenum"> 722</span></a>  <span class="comment">        // Check the target page number is OK.</span>
<a name="l723"><span class="linenum"> 723</span></a>          if (<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> == 0) {
<a name="l724"><span class="linenum"> 724</span></a>              <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> = 1;
<a name="l725"><span class="linenum"> 725</span></a>          }
<a name="l726"><span class="linenum"> 726</span></a>          if ((<a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a> &gt; 0 &amp;&amp; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> &lt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_page_number_for_slot')" href="../../../_functions/get_page_number_for_slot.html" onMouseOver="funcPopup(event,'get_page_number_for_slot')">get_page_number_for_slot</a>(<a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a>)) ||
<a name="l727"><span class="linenum"> 727</span></a>                  <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> &lt; 1) {
<a name="l728"><span class="linenum"> 728</span></a>              throw new \coding_exception('The target page number is too small.');
<a name="l729"><span class="linenum"> 729</span></a>          } else if (!<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('is_last_slot_in_quiz')" href="../../../_functions/is_last_slot_in_quiz.html" onMouseOver="funcPopup(event,'is_last_slot_in_quiz')">is_last_slot_in_quiz</a>(<a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a>) &amp;&amp;
<a name="l730"><span class="linenum"> 730</span></a>                  <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> &gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_page_number_for_slot')" href="../../../_functions/get_page_number_for_slot.html" onMouseOver="funcPopup(event,'get_page_number_for_slot')">get_page_number_for_slot</a>(<a class="var it29400" onMouseOver="hilite(29400)" onMouseOut="lolite()" onClick="logVariable('followingslotnumber')" href="../../../_variables/followingslotnumber.html">$followingslotnumber</a>)) {
<a name="l731"><span class="linenum"> 731</span></a>              throw new \coding_exception('The target page number is too large.');
<a name="l732"><span class="linenum"> 732</span></a>          }
<a name="l733"><span class="linenum"> 733</span></a>  
<a name="l734"><span class="linenum"> 734</span></a>  <span class="comment">        // Work out how things are being moved.</span>
<a name="l735"><span class="linenum"> 735</span></a>          <a class="var it29401" onMouseOver="hilite(29401)" onMouseOut="lolite()" onClick="logVariable('slotreorder')" href="../../../_variables/slotreorder.html">$slotreorder</a> = array();
<a name="l736"><span class="linenum"> 736</span></a>          if (<a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a> &gt; <a class="var it29398" onMouseOver="hilite(29398)" onMouseOut="lolite()" onClick="logVariable('movingslotnumber')" href="../../../_variables/movingslotnumber.html">$movingslotnumber</a>) {
<a name="l737"><span class="linenum"> 737</span></a>  <span class="comment">            // Moving down.</span>
<a name="l738"><span class="linenum"> 738</span></a>              <a class="var it29401" onMouseOver="hilite(29401)" onMouseOut="lolite()" onClick="logVariable('slotreorder')" href="../../../_variables/slotreorder.html">$slotreorder</a>[<a class="var it29398" onMouseOver="hilite(29398)" onMouseOut="lolite()" onClick="logVariable('movingslotnumber')" href="../../../_variables/movingslotnumber.html">$movingslotnumber</a>] = <a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a>;
<a name="l739"><span class="linenum"> 739</span></a>              for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> = <a class="var it29398" onMouseOver="hilite(29398)" onMouseOut="lolite()" onClick="logVariable('movingslotnumber')" href="../../../_variables/movingslotnumber.html">$movingslotnumber</a>; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> &lt; <a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a>; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a>++) {
<a name="l740"><span class="linenum"> 740</span></a>                  <a class="var it29401" onMouseOver="hilite(29401)" onMouseOut="lolite()" onClick="logVariable('slotreorder')" href="../../../_variables/slotreorder.html">$slotreorder</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> + 1] = <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a>;
<a name="l741"><span class="linenum"> 741</span></a>              }
<a name="l742"><span class="linenum"> 742</span></a>  
<a name="l743"><span class="linenum"> 743</span></a>              <a class="var it29402" onMouseOver="hilite(29402)" onMouseOut="lolite()" onClick="logVariable('headingmoveafter')" href="../../../_variables/headingmoveafter.html">$headingmoveafter</a> = <a class="var it29398" onMouseOver="hilite(29398)" onMouseOut="lolite()" onClick="logVariable('movingslotnumber')" href="../../../_variables/movingslotnumber.html">$movingslotnumber</a>;
<a name="l744"><span class="linenum"> 744</span></a>              if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('is_last_slot_in_quiz')" href="../../../_functions/is_last_slot_in_quiz.html" onMouseOver="funcPopup(event,'is_last_slot_in_quiz')">is_last_slot_in_quiz</a>(<a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a>) ||
<a name="l745"><span class="linenum"> 745</span></a>                      <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> == <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_page_number_for_slot')" href="../../../_functions/get_page_number_for_slot.html" onMouseOver="funcPopup(event,'get_page_number_for_slot')">get_page_number_for_slot</a>(<a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a> + 1)) {
<a name="l746"><span class="linenum"> 746</span></a>  <span class="comment">                // We are moving to the start of a section, so that heading needs</span>
<a name="l747"><span class="linenum"> 747</span></a>  <span class="comment">                // to be included in the ones that move up.</span>
<a name="l748"><span class="linenum"> 748</span></a>                  <a class="var it29403" onMouseOver="hilite(29403)" onMouseOut="lolite()" onClick="logVariable('headingmovebefore')" href="../../../_variables/headingmovebefore.html">$headingmovebefore</a> = <a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a> + 1;
<a name="l749"><span class="linenum"> 749</span></a>              } else {
<a name="l750"><span class="linenum"> 750</span></a>                  <a class="var it29403" onMouseOver="hilite(29403)" onMouseOut="lolite()" onClick="logVariable('headingmovebefore')" href="../../../_variables/headingmovebefore.html">$headingmovebefore</a> = <a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a>;
<a name="l751"><span class="linenum"> 751</span></a>              }
<a name="l752"><span class="linenum"> 752</span></a>              <a class="var it29404" onMouseOver="hilite(29404)" onMouseOut="lolite()" onClick="logVariable('headingmovedirection')" href="../../../_variables/headingmovedirection.html">$headingmovedirection</a> = -1;
<a name="l753"><span class="linenum"> 753</span></a>  
<a name="l754"><span class="linenum"> 754</span></a>          } else if (<a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a> &lt; <a class="var it29398" onMouseOver="hilite(29398)" onMouseOut="lolite()" onClick="logVariable('movingslotnumber')" href="../../../_variables/movingslotnumber.html">$movingslotnumber</a> - 1) {
<a name="l755"><span class="linenum"> 755</span></a>  <span class="comment">            // Moving up.</span>
<a name="l756"><span class="linenum"> 756</span></a>              <a class="var it29401" onMouseOver="hilite(29401)" onMouseOut="lolite()" onClick="logVariable('slotreorder')" href="../../../_variables/slotreorder.html">$slotreorder</a>[<a class="var it29398" onMouseOver="hilite(29398)" onMouseOut="lolite()" onClick="logVariable('movingslotnumber')" href="../../../_variables/movingslotnumber.html">$movingslotnumber</a>] = <a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a> + 1;
<a name="l757"><span class="linenum"> 757</span></a>              for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> = <a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a> + 1; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> &lt; <a class="var it29398" onMouseOver="hilite(29398)" onMouseOut="lolite()" onClick="logVariable('movingslotnumber')" href="../../../_variables/movingslotnumber.html">$movingslotnumber</a>; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a>++) {
<a name="l758"><span class="linenum"> 758</span></a>                  <a class="var it29401" onMouseOver="hilite(29401)" onMouseOut="lolite()" onClick="logVariable('slotreorder')" href="../../../_variables/slotreorder.html">$slotreorder</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a>] = <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> + 1;
<a name="l759"><span class="linenum"> 759</span></a>              }
<a name="l760"><span class="linenum"> 760</span></a>  
<a name="l761"><span class="linenum"> 761</span></a>              if (<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> == <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_page_number_for_slot')" href="../../../_functions/get_page_number_for_slot.html" onMouseOver="funcPopup(event,'get_page_number_for_slot')">get_page_number_for_slot</a>(<a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a> + 1)) {
<a name="l762"><span class="linenum"> 762</span></a>  <span class="comment">                // Moving to the start of a section, don't move that section.</span>
<a name="l763"><span class="linenum"> 763</span></a>                  <a class="var it29402" onMouseOver="hilite(29402)" onMouseOut="lolite()" onClick="logVariable('headingmoveafter')" href="../../../_variables/headingmoveafter.html">$headingmoveafter</a> = <a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a> + 1;
<a name="l764"><span class="linenum"> 764</span></a>              } else {
<a name="l765"><span class="linenum"> 765</span></a>  <span class="comment">                // Moving tot the end of the previous section, so move the heading down too.</span>
<a name="l766"><span class="linenum"> 766</span></a>                  <a class="var it29402" onMouseOver="hilite(29402)" onMouseOut="lolite()" onClick="logVariable('headingmoveafter')" href="../../../_variables/headingmoveafter.html">$headingmoveafter</a> = <a class="var it29399" onMouseOver="hilite(29399)" onMouseOut="lolite()" onClick="logVariable('moveafterslotnumber')" href="../../../_variables/moveafterslotnumber.html">$moveafterslotnumber</a>;
<a name="l767"><span class="linenum"> 767</span></a>              }
<a name="l768"><span class="linenum"> 768</span></a>              <a class="var it29403" onMouseOver="hilite(29403)" onMouseOut="lolite()" onClick="logVariable('headingmovebefore')" href="../../../_variables/headingmovebefore.html">$headingmovebefore</a> = <a class="var it29398" onMouseOver="hilite(29398)" onMouseOut="lolite()" onClick="logVariable('movingslotnumber')" href="../../../_variables/movingslotnumber.html">$movingslotnumber</a> + 1;
<a name="l769"><span class="linenum"> 769</span></a>              <a class="var it29404" onMouseOver="hilite(29404)" onMouseOut="lolite()" onClick="logVariable('headingmovedirection')" href="../../../_variables/headingmovedirection.html">$headingmovedirection</a> = 1;
<a name="l770"><span class="linenum"> 770</span></a>          } else {
<a name="l771"><span class="linenum"> 771</span></a>  <span class="comment">            // Staying in the same place, but possibly changing page/section.</span>
<a name="l772"><span class="linenum"> 772</span></a>              if (<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> &gt; <a class="var it29397" onMouseOver="hilite(29397)" onMouseOut="lolite()" onClick="logVariable('movingslot')" href="../../../_variables/movingslot.html">$movingslot</a>-&gt;<a onClick="logVariable('page')" class="var it43549" onMouseOver="hilite(43549)" onMouseOut="lolite()" href="../../../_variables/page.html">page</a>) {
<a name="l773"><span class="linenum"> 773</span></a>                  <a class="var it29402" onMouseOver="hilite(29402)" onMouseOut="lolite()" onClick="logVariable('headingmoveafter')" href="../../../_variables/headingmoveafter.html">$headingmoveafter</a> = <a class="var it29398" onMouseOver="hilite(29398)" onMouseOut="lolite()" onClick="logVariable('movingslotnumber')" href="../../../_variables/movingslotnumber.html">$movingslotnumber</a>;
<a name="l774"><span class="linenum"> 774</span></a>                  <a class="var it29403" onMouseOver="hilite(29403)" onMouseOut="lolite()" onClick="logVariable('headingmovebefore')" href="../../../_variables/headingmovebefore.html">$headingmovebefore</a> = <a class="var it29398" onMouseOver="hilite(29398)" onMouseOut="lolite()" onClick="logVariable('movingslotnumber')" href="../../../_variables/movingslotnumber.html">$movingslotnumber</a> + 2;
<a name="l775"><span class="linenum"> 775</span></a>                  <a class="var it29404" onMouseOver="hilite(29404)" onMouseOut="lolite()" onClick="logVariable('headingmovedirection')" href="../../../_variables/headingmovedirection.html">$headingmovedirection</a> = -1;
<a name="l776"><span class="linenum"> 776</span></a>              } else if (<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> &lt; <a class="var it29397" onMouseOver="hilite(29397)" onMouseOut="lolite()" onClick="logVariable('movingslot')" href="../../../_variables/movingslot.html">$movingslot</a>-&gt;<a onClick="logVariable('page')" class="var it43549" onMouseOver="hilite(43549)" onMouseOut="lolite()" href="../../../_variables/page.html">page</a>) {
<a name="l777"><span class="linenum"> 777</span></a>                  <a class="var it29402" onMouseOver="hilite(29402)" onMouseOut="lolite()" onClick="logVariable('headingmoveafter')" href="../../../_variables/headingmoveafter.html">$headingmoveafter</a> = <a class="var it29398" onMouseOver="hilite(29398)" onMouseOut="lolite()" onClick="logVariable('movingslotnumber')" href="../../../_variables/movingslotnumber.html">$movingslotnumber</a> - 1;
<a name="l778"><span class="linenum"> 778</span></a>                  <a class="var it29403" onMouseOver="hilite(29403)" onMouseOut="lolite()" onClick="logVariable('headingmovebefore')" href="../../../_variables/headingmovebefore.html">$headingmovebefore</a> = <a class="var it29398" onMouseOver="hilite(29398)" onMouseOut="lolite()" onClick="logVariable('movingslotnumber')" href="../../../_variables/movingslotnumber.html">$movingslotnumber</a> + 1;
<a name="l779"><span class="linenum"> 779</span></a>                  <a class="var it29404" onMouseOver="hilite(29404)" onMouseOut="lolite()" onClick="logVariable('headingmovedirection')" href="../../../_variables/headingmovedirection.html">$headingmovedirection</a> = 1;
<a name="l780"><span class="linenum"> 780</span></a>              } else {
<a name="l781"><span class="linenum"> 781</span></a>                  return; <span class="comment">// Nothing to do.</span>
<a name="l782"><span class="linenum"> 782</span></a>              }
<a name="l783"><span class="linenum"> 783</span></a>          }
<a name="l784"><span class="linenum"> 784</span></a>  
<a name="l785"><span class="linenum"> 785</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('is_only_slot_in_section')" href="../../../_functions/is_only_slot_in_section.html" onMouseOver="funcPopup(event,'is_only_slot_in_section')">is_only_slot_in_section</a>(<a class="var it29398" onMouseOver="hilite(29398)" onMouseOut="lolite()" onClick="logVariable('movingslotnumber')" href="../../../_variables/movingslotnumber.html">$movingslotnumber</a>)) {
<a name="l786"><span class="linenum"> 786</span></a>              throw new \coding_exception('You cannot remove the last slot in a section.');
<a name="l787"><span class="linenum"> 787</span></a>          }
<a name="l788"><span class="linenum"> 788</span></a>  
<a name="l789"><span class="linenum"> 789</span></a>          <a class="var it18640" onMouseOver="hilite(18640)" onMouseOut="lolite()" onClick="logVariable('trans')" href="../../../_variables/trans.html">$trans</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('start_delegated_transaction')" href="../../../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>();
<a name="l790"><span class="linenum"> 790</span></a>  
<a name="l791"><span class="linenum"> 791</span></a>  <span class="comment">        // Slot has moved record new order.</span>
<a name="l792"><span class="linenum"> 792</span></a>          if (<a class="var it29401" onMouseOver="hilite(29401)" onMouseOut="lolite()" onClick="logVariable('slotreorder')" href="../../../_variables/slotreorder.html">$slotreorder</a>) {
<a name="l793"><span class="linenum"> 793</span></a>              <a class="function" onClick="logFunction('update_field_with_unique_index')" href="../../../_functions/update_field_with_unique_index.html" onMouseOver="funcPopup(event,'update_field_with_unique_index')">update_field_with_unique_index</a>('quiz_slots', 'slot', <a class="var it29401" onMouseOver="hilite(29401)" onMouseOut="lolite()" onClick="logVariable('slotreorder')" href="../../../_variables/slotreorder.html">$slotreorder</a>,
<a name="l794"><span class="linenum"> 794</span></a>                      array('quizid' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>()));
<a name="l795"><span class="linenum"> 795</span></a>          }
<a name="l796"><span class="linenum"> 796</span></a>  
<a name="l797"><span class="linenum"> 797</span></a>  <span class="comment">        // Page has changed. Record it.</span>
<a name="l798"><span class="linenum"> 798</span></a>          if (<a class="var it29397" onMouseOver="hilite(29397)" onMouseOut="lolite()" onClick="logVariable('movingslot')" href="../../../_variables/movingslot.html">$movingslot</a>-&gt;<a onClick="logVariable('page')" class="var it43549" onMouseOver="hilite(43549)" onMouseOut="lolite()" href="../../../_variables/page.html">page</a> != <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>) {
<a name="l799"><span class="linenum"> 799</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../../../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('quiz_slots', 'page', <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>,
<a name="l800"><span class="linenum"> 800</span></a>                      array('id' =&gt; <a class="var it29397" onMouseOver="hilite(29397)" onMouseOut="lolite()" onClick="logVariable('movingslot')" href="../../../_variables/movingslot.html">$movingslot</a>-&gt;<a onClick="logVariable('id')" class="var it43549" onMouseOver="hilite(43549)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>));
<a name="l801"><span class="linenum"> 801</span></a>          }
<a name="l802"><span class="linenum"> 802</span></a>  
<a name="l803"><span class="linenum"> 803</span></a>  <span class="comment">        // Update section fist slots.</span>
<a name="l804"><span class="linenum"> 804</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(&quot;
<a name="l805"><span class="linenum"> 805</span></a>                  UPDATE {quiz_sections}
<a name="l806"><span class="linenum"> 806</span></a>                     SET firstslot = firstslot + ?
<a name="l807"><span class="linenum"> 807</span></a>                   WHERE quizid = ?
<a name="l808"><span class="linenum"> 808</span></a>                     AND firstslot &gt; ?
<a name="l809"><span class="linenum"> 809</span></a>                     AND firstslot &lt; ?
<a name="l810"><span class="linenum"> 810</span></a>                  &quot;, array(<a class="var it29404" onMouseOver="hilite(29404)" onMouseOut="lolite()" onClick="logVariable('headingmovedirection')" href="../../../_variables/headingmovedirection.html">$headingmovedirection</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>(),
<a name="l811"><span class="linenum"> 811</span></a>                          <a class="var it29402" onMouseOver="hilite(29402)" onMouseOut="lolite()" onClick="logVariable('headingmoveafter')" href="../../../_variables/headingmoveafter.html">$headingmoveafter</a>, <a class="var it29403" onMouseOver="hilite(29403)" onMouseOut="lolite()" onClick="logVariable('headingmovebefore')" href="../../../_variables/headingmovebefore.html">$headingmovebefore</a>));
<a name="l812"><span class="linenum"> 812</span></a>  
<a name="l813"><span class="linenum"> 813</span></a>  <span class="comment">        // If any pages are now empty, remove them.</span>
<a name="l814"><span class="linenum"> 814</span></a>          <a class="var it29405" onMouseOver="hilite(29405)" onMouseOut="lolite()" onClick="logVariable('emptypages')" href="../../../_variables/emptypages.html">$emptypages</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_fieldset_sql')" href="../../../_functions/get_fieldset_sql.html" onMouseOver="funcPopup(event,'get_fieldset_sql')">get_fieldset_sql</a>(&quot;
<a name="l815"><span class="linenum"> 815</span></a>                  SELECT DISTINCT page - 1
<a name="l816"><span class="linenum"> 816</span></a>                    FROM {quiz_slots} slot
<a name="l817"><span class="linenum"> 817</span></a>                   WHERE quizid = ?
<a name="l818"><span class="linenum"> 818</span></a>                     AND page &gt; 1
<a name="l819"><span class="linenum"> 819</span></a>                     AND NOT <a class="function" onClick="logFunction('EXISTS')" href="../../../_functions/exists.html" onMouseOver="funcPopup(event,'exists')">EXISTS</a> (SELECT 1 FROM {quiz_slots} WHERE quizid = ? AND page = slot.page - 1)
<a name="l820"><span class="linenum"> 820</span></a>                ORDER BY page - 1 DESC
<a name="l821"><span class="linenum"> 821</span></a>                  &quot;, array(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>(), <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>()));
<a name="l822"><span class="linenum"> 822</span></a>  
<a name="l823"><span class="linenum"> 823</span></a>          foreach (<a class="var it29405" onMouseOver="hilite(29405)" onMouseOut="lolite()" onClick="logVariable('emptypages')" href="../../../_variables/emptypages.html">$emptypages</a> as <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>) {
<a name="l824"><span class="linenum"> 824</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(&quot;
<a name="l825"><span class="linenum"> 825</span></a>                      UPDATE {quiz_slots}
<a name="l826"><span class="linenum"> 826</span></a>                         SET page = page - 1
<a name="l827"><span class="linenum"> 827</span></a>                       WHERE quizid = ?
<a name="l828"><span class="linenum"> 828</span></a>                         AND page &gt; ?
<a name="l829"><span class="linenum"> 829</span></a>                      &quot;, array(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>(), <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>));
<a name="l830"><span class="linenum"> 830</span></a>          }
<a name="l831"><span class="linenum"> 831</span></a>  
<a name="l832"><span class="linenum"> 832</span></a>          <a class="var it18640" onMouseOver="hilite(18640)" onMouseOut="lolite()" onClick="logVariable('trans')" href="../../../_variables/trans.html">$trans</a>-&gt;<a class="function" onClick="logFunction('allow_commit')" href="../../../_functions/allow_commit.html" onMouseOver="funcPopup(event,'allow_commit')">allow_commit</a>();
<a name="l833"><span class="linenum"> 833</span></a>      }
<a name="l834"><span class="linenum"> 834</span></a>  
<a name="l835"><span class="linenum"> 835</span></a>      <span class="comment">/**</span>
<a name="l836"><span class="linenum"> 836</span></a>  <span class="comment">     * Refresh page numbering of quiz slots.</span>
<a name="l837"><span class="linenum"> 837</span></a>  <span class="comment">     * @param \stdClass[] $slots (optional) array of slot objects.</span>
<a name="l838"><span class="linenum"> 838</span></a>  <span class="comment">     * @return \stdClass[] array of slot objects.</span>
<a name="l839"><span class="linenum"> 839</span></a>  <span class="comment">     */</span>
<a name="l840"><span class="linenum"> 840</span></a>      public function <a class="function" onClick="logFunction('refresh_page_numbers')" href="../../../_functions/refresh_page_numbers.html" onMouseOver="funcPopup(event,'refresh_page_numbers')">refresh_page_numbers</a>(<a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a> = array()) {
<a name="l841"><span class="linenum"> 841</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l842"><span class="linenum"> 842</span></a>  <span class="comment">        // Get slots ordered by page then slot.</span>
<a name="l843"><span class="linenum"> 843</span></a>          if (!<a class="phpfunction" onClick="logFunction('count')" href="../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a>)) {
<a name="l844"><span class="linenum"> 844</span></a>              <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('quiz_slots', array('quizid' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>()), 'slot, page');
<a name="l845"><span class="linenum"> 845</span></a>          }
<a name="l846"><span class="linenum"> 846</span></a>  
<a name="l847"><span class="linenum"> 847</span></a>  <span class="comment">        // Loop slots. Start Page number at 1 and increment as required.</span>
<a name="l848"><span class="linenum"> 848</span></a>          <a class="var it29406" onMouseOver="hilite(29406)" onMouseOut="lolite()" onClick="logVariable('pagenumbers')" href="../../../_variables/pagenumbers.html">$pagenumbers</a> = array('new' =&gt; 0, 'old' =&gt; 0);
<a name="l849"><span class="linenum"> 849</span></a>  
<a name="l850"><span class="linenum"> 850</span></a>          foreach (<a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a> as <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>) {
<a name="l851"><span class="linenum"> 851</span></a>              if (<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('page')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/page.html">page</a> !== <a class="var it29406" onMouseOver="hilite(29406)" onMouseOut="lolite()" onClick="logVariable('pagenumbers')" href="../../../_variables/pagenumbers.html">$pagenumbers</a>['old']) {
<a name="l852"><span class="linenum"> 852</span></a>                  <a class="var it29406" onMouseOver="hilite(29406)" onMouseOut="lolite()" onClick="logVariable('pagenumbers')" href="../../../_variables/pagenumbers.html">$pagenumbers</a>['old'] = <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('page')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/page.html">page</a>;
<a name="l853"><span class="linenum"> 853</span></a>                  ++<a class="var it29406" onMouseOver="hilite(29406)" onMouseOut="lolite()" onClick="logVariable('pagenumbers')" href="../../../_variables/pagenumbers.html">$pagenumbers</a>['new'];
<a name="l854"><span class="linenum"> 854</span></a>              }
<a name="l855"><span class="linenum"> 855</span></a>  
<a name="l856"><span class="linenum"> 856</span></a>              if (<a class="var it29406" onMouseOver="hilite(29406)" onMouseOut="lolite()" onClick="logVariable('pagenumbers')" href="../../../_variables/pagenumbers.html">$pagenumbers</a>['new'] == <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('page')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/page.html">page</a>) {
<a name="l857"><span class="linenum"> 857</span></a>                  continue;
<a name="l858"><span class="linenum"> 858</span></a>              }
<a name="l859"><span class="linenum"> 859</span></a>              <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('page')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/page.html">page</a> = <a class="var it29406" onMouseOver="hilite(29406)" onMouseOut="lolite()" onClick="logVariable('pagenumbers')" href="../../../_variables/pagenumbers.html">$pagenumbers</a>['new'];
<a name="l860"><span class="linenum"> 860</span></a>          }
<a name="l861"><span class="linenum"> 861</span></a>  
<a name="l862"><span class="linenum"> 862</span></a>          return <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a>;
<a name="l863"><span class="linenum"> 863</span></a>      }
<a name="l864"><span class="linenum"> 864</span></a>  
<a name="l865"><span class="linenum"> 865</span></a>      <span class="comment">/**</span>
<a name="l866"><span class="linenum"> 866</span></a>  <span class="comment">     * Refresh page numbering of quiz slots and save to the database.</span>
<a name="l867"><span class="linenum"> 867</span></a>  <span class="comment">     * @param \stdClass $quiz the quiz object.</span>
<a name="l868"><span class="linenum"> 868</span></a>  <span class="comment">     * @return \stdClass[] array of slot objects.</span>
<a name="l869"><span class="linenum"> 869</span></a>  <span class="comment">     */</span>
<a name="l870"><span class="linenum"> 870</span></a>      public function <a class="function" onClick="logFunction('refresh_page_numbers_and_update_db')" href="../../../_functions/refresh_page_numbers_and_update_db.html" onMouseOver="funcPopup(event,'refresh_page_numbers_and_update_db')">refresh_page_numbers_and_update_db</a>() {
<a name="l871"><span class="linenum"> 871</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l872"><span class="linenum"> 872</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('check_can_be_edited')" href="../../../_functions/check_can_be_edited.html" onMouseOver="funcPopup(event,'check_can_be_edited')">check_can_be_edited</a>();
<a name="l873"><span class="linenum"> 873</span></a>  
<a name="l874"><span class="linenum"> 874</span></a>          <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('refresh_page_numbers')" href="../../../_functions/refresh_page_numbers.html" onMouseOver="funcPopup(event,'refresh_page_numbers')">refresh_page_numbers</a>();
<a name="l875"><span class="linenum"> 875</span></a>  
<a name="l876"><span class="linenum"> 876</span></a>  <span class="comment">        // Record new page order.</span>
<a name="l877"><span class="linenum"> 877</span></a>          foreach (<a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a> as <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>) {
<a name="l878"><span class="linenum"> 878</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../../../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('quiz_slots', 'page', <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('page')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/page.html">page</a>,
<a name="l879"><span class="linenum"> 879</span></a>                      array('id' =&gt; <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('id')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>));
<a name="l880"><span class="linenum"> 880</span></a>          }
<a name="l881"><span class="linenum"> 881</span></a>  
<a name="l882"><span class="linenum"> 882</span></a>          return <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a>;
<a name="l883"><span class="linenum"> 883</span></a>      }
<a name="l884"><span class="linenum"> 884</span></a>  
<a name="l885"><span class="linenum"> 885</span></a>      <span class="comment">/**</span>
<a name="l886"><span class="linenum"> 886</span></a>  <span class="comment">     * Remove a slot from a quiz</span>
<a name="l887"><span class="linenum"> 887</span></a>  <span class="comment">     * @param int $slotnumber The number of the slot to be deleted.</span>
<a name="l888"><span class="linenum"> 888</span></a>  <span class="comment">     */</span>
<a name="l889"><span class="linenum"> 889</span></a>      public function <a class="function" onClick="logFunction('remove_slot')" href="../../../_functions/remove_slot.html" onMouseOver="funcPopup(event,'remove_slot')">remove_slot</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>) {
<a name="l890"><span class="linenum"> 890</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l891"><span class="linenum"> 891</span></a>  
<a name="l892"><span class="linenum"> 892</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('check_can_be_edited')" href="../../../_functions/check_can_be_edited.html" onMouseOver="funcPopup(event,'check_can_be_edited')">check_can_be_edited</a>();
<a name="l893"><span class="linenum"> 893</span></a>  
<a name="l894"><span class="linenum"> 894</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('is_only_slot_in_section')" href="../../../_functions/is_only_slot_in_section.html" onMouseOver="funcPopup(event,'is_only_slot_in_section')">is_only_slot_in_section</a>(<a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>) &amp;&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_section_count')" href="../../../_functions/get_section_count.html" onMouseOver="funcPopup(event,'get_section_count')">get_section_count</a>() &gt; 1) {
<a name="l895"><span class="linenum"> 895</span></a>              throw new \coding_exception('You cannot remove the last slot in a section.');
<a name="l896"><span class="linenum"> 896</span></a>          }
<a name="l897"><span class="linenum"> 897</span></a>  
<a name="l898"><span class="linenum"> 898</span></a>          <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('quiz_slots', array('quizid' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>(), 'slot' =&gt; <a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>));
<a name="l899"><span class="linenum"> 899</span></a>          if (!<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>) {
<a name="l900"><span class="linenum"> 900</span></a>              return;
<a name="l901"><span class="linenum"> 901</span></a>          }
<a name="l902"><span class="linenum"> 902</span></a>          <a class="var it29407" onMouseOver="hilite(29407)" onMouseOut="lolite()" onClick="logVariable('maxslot')" href="../../../_variables/maxslot.html">$maxslot</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field_sql')" href="../../../_functions/get_field_sql.html" onMouseOver="funcPopup(event,'get_field_sql')">get_field_sql</a>('SELECT <a class="phpfunction" onClick="logFunction('MAX')" href="../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">MAX</a>(slot) FROM {quiz_slots} WHERE quizid = ?', array(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>()));
<a name="l903"><span class="linenum"> 903</span></a>  
<a name="l904"><span class="linenum"> 904</span></a>          <a class="var it18640" onMouseOver="hilite(18640)" onMouseOut="lolite()" onClick="logVariable('trans')" href="../../../_variables/trans.html">$trans</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('start_delegated_transaction')" href="../../../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>();
<a name="l905"><span class="linenum"> 905</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('quiz_slots', array('id' =&gt; <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('id')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>));
<a name="l906"><span class="linenum"> 906</span></a>          for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> = <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('slot')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/slot.html">slot</a> + 1; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> &lt;= <a class="var it29407" onMouseOver="hilite(29407)" onMouseOut="lolite()" onClick="logVariable('maxslot')" href="../../../_variables/maxslot.html">$maxslot</a>; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a>++) {
<a name="l907"><span class="linenum"> 907</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../../../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('quiz_slots', 'slot', <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a> - 1,
<a name="l908"><span class="linenum"> 908</span></a>                      array('quizid' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>(), 'slot' =&gt; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../_variables/i.html">$i</a>));
<a name="l909"><span class="linenum"> 909</span></a>          }
<a name="l910"><span class="linenum"> 910</span></a>  
<a name="l911"><span class="linenum"> 911</span></a>          <a class="var it260" onMouseOver="hilite(260)" onMouseOut="lolite()" onClick="logVariable('qtype')" href="../../../_variables/qtype.html">$qtype</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../../../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('question', 'qtype', array('id' =&gt; <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('questionid')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/questionid.html">questionid</a>));
<a name="l912"><span class="linenum"> 912</span></a>          if (<a class="var it260" onMouseOver="hilite(260)" onMouseOut="lolite()" onClick="logVariable('qtype')" href="../../../_variables/qtype.html">$qtype</a> === 'random') {
<a name="l913"><span class="linenum"> 913</span></a>  <span class="comment">            // This function automatically checks if the question is in use, and won't delete if it is.</span>
<a name="l914"><span class="linenum"> 914</span></a>              <a class="function" onClick="logFunction('question_delete_question')" href="../../../_functions/question_delete_question.html" onMouseOver="funcPopup(event,'question_delete_question')">question_delete_question</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('questionid')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/questionid.html">questionid</a>);
<a name="l915"><span class="linenum"> 915</span></a>          }
<a name="l916"><span class="linenum"> 916</span></a>  
<a name="l917"><span class="linenum"> 917</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(&quot;
<a name="l918"><span class="linenum"> 918</span></a>                  UPDATE {quiz_sections}
<a name="l919"><span class="linenum"> 919</span></a>                     SET firstslot = firstslot - 1
<a name="l920"><span class="linenum"> 920</span></a>                   WHERE quizid = ?
<a name="l921"><span class="linenum"> 921</span></a>                     AND firstslot &gt; ?
<a name="l922"><span class="linenum"> 922</span></a>                  &quot;, array(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>(), <a class="var it934" onMouseOver="hilite(934)" onMouseOut="lolite()" onClick="logVariable('slotnumber')" href="../../../_variables/slotnumber.html">$slotnumber</a>));
<a name="l923"><span class="linenum"> 923</span></a>          unset(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('questions')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../_variables/questions.html">questions</a>[<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('questionid')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/questionid.html">questionid</a>]);
<a name="l924"><span class="linenum"> 924</span></a>  
<a name="l925"><span class="linenum"> 925</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('refresh_page_numbers_and_update_db')" href="../../../_functions/refresh_page_numbers_and_update_db.html" onMouseOver="funcPopup(event,'refresh_page_numbers_and_update_db')">refresh_page_numbers_and_update_db</a>();
<a name="l926"><span class="linenum"> 926</span></a>  
<a name="l927"><span class="linenum"> 927</span></a>          <a class="var it18640" onMouseOver="hilite(18640)" onMouseOut="lolite()" onClick="logVariable('trans')" href="../../../_variables/trans.html">$trans</a>-&gt;<a class="function" onClick="logFunction('allow_commit')" href="../../../_functions/allow_commit.html" onMouseOver="funcPopup(event,'allow_commit')">allow_commit</a>();
<a name="l928"><span class="linenum"> 928</span></a>      }
<a name="l929"><span class="linenum"> 929</span></a>  
<a name="l930"><span class="linenum"> 930</span></a>      <span class="comment">/**</span>
<a name="l931"><span class="linenum"> 931</span></a>  <span class="comment">     * Change the max mark for a slot.</span>
<a name="l932"><span class="linenum"> 932</span></a>  <span class="comment">     *</span>
<a name="l933"><span class="linenum"> 933</span></a>  <span class="comment">     * Saves changes to the question grades in the quiz_slots table and any</span>
<a name="l934"><span class="linenum"> 934</span></a>  <span class="comment">     * corresponding question_attempts.</span>
<a name="l935"><span class="linenum"> 935</span></a>  <span class="comment">     * It does not update 'sumgrades' in the quiz table.</span>
<a name="l936"><span class="linenum"> 936</span></a>  <span class="comment">     *</span>
<a name="l937"><span class="linenum"> 937</span></a>  <span class="comment">     * @param \stdClass $slot row from the quiz_slots table.</span>
<a name="l938"><span class="linenum"> 938</span></a>  <span class="comment">     * @param float $maxmark the new maxmark.</span>
<a name="l939"><span class="linenum"> 939</span></a>  <span class="comment">     * @return bool true if the new grade is different from the old one.</span>
<a name="l940"><span class="linenum"> 940</span></a>  <span class="comment">     */</span>
<a name="l941"><span class="linenum"> 941</span></a>      public function <a class="function" onClick="logFunction('update_slot_maxmark')" href="../../../_functions/update_slot_maxmark.html" onMouseOver="funcPopup(event,'update_slot_maxmark')">update_slot_maxmark</a>(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>, <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../../_variables/maxmark.html">$maxmark</a>) {
<a name="l942"><span class="linenum"> 942</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l943"><span class="linenum"> 943</span></a>  
<a name="l944"><span class="linenum"> 944</span></a>          if (<a class="phpfunction" onClick="logFunction('abs')" href="../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../../_variables/maxmark.html">$maxmark</a> - <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('maxmark')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/maxmark.html">maxmark</a>) &lt; 1e-7) {
<a name="l945"><span class="linenum"> 945</span></a>  <span class="comment">            // Grade has not changed. Nothing to do.</span>
<a name="l946"><span class="linenum"> 946</span></a>              return false;
<a name="l947"><span class="linenum"> 947</span></a>          }
<a name="l948"><span class="linenum"> 948</span></a>  
<a name="l949"><span class="linenum"> 949</span></a>          <a class="var it18640" onMouseOver="hilite(18640)" onMouseOut="lolite()" onClick="logVariable('trans')" href="../../../_variables/trans.html">$trans</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('start_delegated_transaction')" href="../../../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>();
<a name="l950"><span class="linenum"> 950</span></a>          <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('maxmark')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/maxmark.html">maxmark</a> = <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../../_variables/maxmark.html">$maxmark</a>;
<a name="l951"><span class="linenum"> 951</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('quiz_slots', <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>);
<a name="l952"><span class="linenum"> 952</span></a>          \question_engine::<a class="function" onClick="logFunction('set_max_mark_in_attempts')" href="../../../_functions/set_max_mark_in_attempts.html" onMouseOver="funcPopup(event,'set_max_mark_in_attempts')">set_max_mark_in_attempts</a>(new \qubaids_for_quiz(<a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('quizid')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/quizid.html">quizid</a>),
<a name="l953"><span class="linenum"> 953</span></a>                  <a class="var it935" onMouseOver="hilite(935)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../_variables/slot.html">$slot</a>-&gt;<a onClick="logVariable('slot')" class="var it43545" onMouseOver="hilite(43545)" onMouseOut="lolite()" href="../../../_variables/slot.html">slot</a>, <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('maxmark')" href="../../../_variables/maxmark.html">$maxmark</a>);
<a name="l954"><span class="linenum"> 954</span></a>          <a class="var it18640" onMouseOver="hilite(18640)" onMouseOut="lolite()" onClick="logVariable('trans')" href="../../../_variables/trans.html">$trans</a>-&gt;<a class="function" onClick="logFunction('allow_commit')" href="../../../_functions/allow_commit.html" onMouseOver="funcPopup(event,'allow_commit')">allow_commit</a>();
<a name="l955"><span class="linenum"> 955</span></a>  
<a name="l956"><span class="linenum"> 956</span></a>          return true;
<a name="l957"><span class="linenum"> 957</span></a>      }
<a name="l958"><span class="linenum"> 958</span></a>  
<a name="l959"><span class="linenum"> 959</span></a>      <span class="comment">/**</span>
<a name="l960"><span class="linenum"> 960</span></a>  <span class="comment">     * Set whether the question in a particular slot requires the previous one.</span>
<a name="l961"><span class="linenum"> 961</span></a>  <span class="comment">     * @param int $slotid id of slot.</span>
<a name="l962"><span class="linenum"> 962</span></a>  <span class="comment">     * @param bool $requireprevious if true, set this question to require the previous one.</span>
<a name="l963"><span class="linenum"> 963</span></a>  <span class="comment">     */</span>
<a name="l964"><span class="linenum"> 964</span></a>      public function <a class="function" onClick="logFunction('update_question_dependency')" href="../../../_functions/update_question_dependency.html" onMouseOver="funcPopup(event,'update_question_dependency')">update_question_dependency</a>(<a class="var it16231" onMouseOver="hilite(16231)" onMouseOut="lolite()" onClick="logVariable('slotid')" href="../../../_variables/slotid.html">$slotid</a>, <a class="var it29394" onMouseOver="hilite(29394)" onMouseOut="lolite()" onClick="logVariable('requireprevious')" href="../../../_variables/requireprevious.html">$requireprevious</a>) {
<a name="l965"><span class="linenum"> 965</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l966"><span class="linenum"> 966</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../../../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('quiz_slots', 'requireprevious', <a class="var it29394" onMouseOver="hilite(29394)" onMouseOut="lolite()" onClick="logVariable('requireprevious')" href="../../../_variables/requireprevious.html">$requireprevious</a>, array('id' =&gt; <a class="var it16231" onMouseOver="hilite(16231)" onMouseOut="lolite()" onClick="logVariable('slotid')" href="../../../_variables/slotid.html">$slotid</a>));
<a name="l967"><span class="linenum"> 967</span></a>      }
<a name="l968"><span class="linenum"> 968</span></a>  
<a name="l969"><span class="linenum"> 969</span></a>      <span class="comment">/**</span>
<a name="l970"><span class="linenum"> 970</span></a>  <span class="comment">     * Add/Remove a pagebreak.</span>
<a name="l971"><span class="linenum"> 971</span></a>  <span class="comment">     *</span>
<a name="l972"><span class="linenum"> 972</span></a>  <span class="comment">     * Saves changes to the slot page relationship in the quiz_slots table and reorders the paging</span>
<a name="l973"><span class="linenum"> 973</span></a>  <span class="comment">     * for subsequent slots.</span>
<a name="l974"><span class="linenum"> 974</span></a>  <span class="comment">     *</span>
<a name="l975"><span class="linenum"> 975</span></a>  <span class="comment">     * @param int $slotid id of slot.</span>
<a name="l976"><span class="linenum"> 976</span></a>  <span class="comment">     * @param int $type repaginate::LINK or repaginate::UNLINK.</span>
<a name="l977"><span class="linenum"> 977</span></a>  <span class="comment">     * @return \stdClass[] array of slot objects.</span>
<a name="l978"><span class="linenum"> 978</span></a>  <span class="comment">     */</span>
<a name="l979"><span class="linenum"> 979</span></a>      public function <a class="function" onClick="logFunction('update_page_break')" href="../../../_functions/update_page_break.html" onMouseOver="funcPopup(event,'update_page_break')">update_page_break</a>(<a class="var it16231" onMouseOver="hilite(16231)" onMouseOut="lolite()" onClick="logVariable('slotid')" href="../../../_variables/slotid.html">$slotid</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>) {
<a name="l980"><span class="linenum"> 980</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l981"><span class="linenum"> 981</span></a>  
<a name="l982"><span class="linenum"> 982</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('check_can_be_edited')" href="../../../_functions/check_can_be_edited.html" onMouseOver="funcPopup(event,'check_can_be_edited')">check_can_be_edited</a>();
<a name="l983"><span class="linenum"> 983</span></a>  
<a name="l984"><span class="linenum"> 984</span></a>          <a class="var it938" onMouseOver="hilite(938)" onMouseOut="lolite()" onClick="logVariable('quizslots')" href="../../../_variables/quizslots.html">$quizslots</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('quiz_slots', array('quizid' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>()), 'slot');
<a name="l985"><span class="linenum"> 985</span></a>          <a class="var it939" onMouseOver="hilite(939)" onMouseOut="lolite()" onClick="logVariable('repaginate')" href="../../../_variables/repaginate.html">$repaginate</a> = new \mod_quiz\repaginate(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>(), <a class="var it938" onMouseOver="hilite(938)" onMouseOut="lolite()" onClick="logVariable('quizslots')" href="../../../_variables/quizslots.html">$quizslots</a>);
<a name="l986"><span class="linenum"> 986</span></a>          <a class="var it939" onMouseOver="hilite(939)" onMouseOut="lolite()" onClick="logVariable('repaginate')" href="../../../_variables/repaginate.html">$repaginate</a>-&gt;<a class="function" onClick="logFunction('repaginate_slots')" href="../../../_functions/repaginate_slots.html" onMouseOver="funcPopup(event,'repaginate_slots')">repaginate_slots</a>(<a class="var it938" onMouseOver="hilite(938)" onMouseOut="lolite()" onClick="logVariable('quizslots')" href="../../../_variables/quizslots.html">$quizslots</a>[<a class="var it16231" onMouseOver="hilite(16231)" onMouseOut="lolite()" onClick="logVariable('slotid')" href="../../../_variables/slotid.html">$slotid</a>]-&gt;slot, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>);
<a name="l987"><span class="linenum"> 987</span></a>          <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('refresh_page_numbers_and_update_db')" href="../../../_functions/refresh_page_numbers_and_update_db.html" onMouseOver="funcPopup(event,'refresh_page_numbers_and_update_db')">refresh_page_numbers_and_update_db</a>();
<a name="l988"><span class="linenum"> 988</span></a>  
<a name="l989"><span class="linenum"> 989</span></a>          return <a class="var it933" onMouseOver="hilite(933)" onMouseOut="lolite()" onClick="logVariable('slots')" href="../../../_variables/slots.html">$slots</a>;
<a name="l990"><span class="linenum"> 990</span></a>      }
<a name="l991"><span class="linenum"> 991</span></a>  
<a name="l992"><span class="linenum"> 992</span></a>      <span class="comment">/**</span>
<a name="l993"><span class="linenum"> 993</span></a>  <span class="comment">     * Add a section heading on a given page and return the sectionid</span>
<a name="l994"><span class="linenum"> 994</span></a>  <span class="comment">     * @param int $pagenumber the number of the page where the section heading begins.</span>
<a name="l995"><span class="linenum"> 995</span></a>  <span class="comment">     * @param string $heading the heading to add.</span>
<a name="l996"><span class="linenum"> 996</span></a>  <span class="comment">     */</span>
<a name="l997"><span class="linenum"> 997</span></a>      public function <a class="function" onClick="logFunction('add_section_heading')" href="../../../_functions/add_section_heading.html" onMouseOver="funcPopup(event,'add_section_heading')">add_section_heading</a>(<a class="var it20856" onMouseOver="hilite(20856)" onMouseOut="lolite()" onClick="logVariable('pagenumber')" href="../../../_variables/pagenumber.html">$pagenumber</a>, <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../../../_variables/heading.html">$heading</a> = 'Section heading ...') {
<a name="l998"><span class="linenum"> 998</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l999"><span class="linenum"> 999</span></a>          <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a> = new \stdClass();
<a name="l1000"><span class="linenum">1000</span></a>          <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('heading')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../_variables/heading.html">heading</a> = <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../../../_variables/heading.html">$heading</a>;
<a name="l1001"><span class="linenum">1001</span></a>          <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('quizid')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../_variables/quizid.html">quizid</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>();
<a name="l1002"><span class="linenum">1002</span></a>          <a class="var it29408" onMouseOver="hilite(29408)" onMouseOut="lolite()" onClick="logVariable('slotsonpage')" href="../../../_variables/slotsonpage.html">$slotsonpage</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('quiz_slots', array('quizid' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_quizid')" href="../../../_functions/get_quizid.html" onMouseOver="funcPopup(event,'get_quizid')">get_quizid</a>(), 'page' =&gt; <a class="var it20856" onMouseOver="hilite(20856)" onMouseOut="lolite()" onClick="logVariable('pagenumber')" href="../../../_variables/pagenumber.html">$pagenumber</a>), 'slot DESC');
<a name="l1003"><span class="linenum">1003</span></a>          <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('firstslot')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../_variables/firstslot.html">firstslot</a> = <a class="phpfunction" onClick="logFunction('end')" href="../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>(<a class="var it29408" onMouseOver="hilite(29408)" onMouseOut="lolite()" onClick="logVariable('slotsonpage')" href="../../../_variables/slotsonpage.html">$slotsonpage</a>)-&gt;slot;
<a name="l1004"><span class="linenum">1004</span></a>          <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('shufflequestions')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../_variables/shufflequestions.html">shufflequestions</a> = 0;
<a name="l1005"><span class="linenum">1005</span></a>          return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('quiz_sections', <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>);
<a name="l1006"><span class="linenum">1006</span></a>      }
<a name="l1007"><span class="linenum">1007</span></a>  
<a name="l1008"><span class="linenum">1008</span></a>      <span class="comment">/**</span>
<a name="l1009"><span class="linenum">1009</span></a>  <span class="comment">     * Change the heading for a section.</span>
<a name="l1010"><span class="linenum">1010</span></a>  <span class="comment">     * @param int $id the id of the section to change.</span>
<a name="l1011"><span class="linenum">1011</span></a>  <span class="comment">     * @param string $newheading the new heading for this section.</span>
<a name="l1012"><span class="linenum">1012</span></a>  <span class="comment">     */</span>
<a name="l1013"><span class="linenum">1013</span></a>      public function <a class="function" onClick="logFunction('set_section_heading')" href="../../../_functions/set_section_heading.html" onMouseOver="funcPopup(event,'set_section_heading')">set_section_heading</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>, <a class="var it20450" onMouseOver="hilite(20450)" onMouseOut="lolite()" onClick="logVariable('newheading')" href="../../../_variables/newheading.html">$newheading</a>) {
<a name="l1014"><span class="linenum">1014</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l1015"><span class="linenum">1015</span></a>          <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('quiz_sections', array('id' =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l1016"><span class="linenum">1016</span></a>          <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('heading')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../_variables/heading.html">heading</a> = <a class="var it20450" onMouseOver="hilite(20450)" onMouseOut="lolite()" onClick="logVariable('newheading')" href="../../../_variables/newheading.html">$newheading</a>;
<a name="l1017"><span class="linenum">1017</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('quiz_sections', <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>);
<a name="l1018"><span class="linenum">1018</span></a>      }
<a name="l1019"><span class="linenum">1019</span></a>  
<a name="l1020"><span class="linenum">1020</span></a>      <span class="comment">/**</span>
<a name="l1021"><span class="linenum">1021</span></a>  <span class="comment">     * Change the shuffle setting for a section.</span>
<a name="l1022"><span class="linenum">1022</span></a>  <span class="comment">     * @param int $id the id of the section to change.</span>
<a name="l1023"><span class="linenum">1023</span></a>  <span class="comment">     * @param bool $shuffle whether this section should be shuffled.</span>
<a name="l1024"><span class="linenum">1024</span></a>  <span class="comment">     */</span>
<a name="l1025"><span class="linenum">1025</span></a>      public function <a class="function" onClick="logFunction('set_section_shuffle')" href="../../../_functions/set_section_shuffle.html" onMouseOver="funcPopup(event,'set_section_shuffle')">set_section_shuffle</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>, <a class="var it16223" onMouseOver="hilite(16223)" onMouseOut="lolite()" onClick="logVariable('shuffle')" href="../../../_variables/shuffle.html">$shuffle</a>) {
<a name="l1026"><span class="linenum">1026</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l1027"><span class="linenum">1027</span></a>          <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('quiz_sections', array('id' =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l1028"><span class="linenum">1028</span></a>          <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('shufflequestions')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../_variables/shufflequestions.html">shufflequestions</a> = <a class="var it16223" onMouseOver="hilite(16223)" onMouseOut="lolite()" onClick="logVariable('shuffle')" href="../../../_variables/shuffle.html">$shuffle</a>;
<a name="l1029"><span class="linenum">1029</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('quiz_sections', <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>);
<a name="l1030"><span class="linenum">1030</span></a>      }
<a name="l1031"><span class="linenum">1031</span></a>  
<a name="l1032"><span class="linenum">1032</span></a>      <span class="comment">/**</span>
<a name="l1033"><span class="linenum">1033</span></a>  <span class="comment">     * Remove the section heading with the given id</span>
<a name="l1034"><span class="linenum">1034</span></a>  <span class="comment">     * @param int $sectionid the section to remove.</span>
<a name="l1035"><span class="linenum">1035</span></a>  <span class="comment">     */</span>
<a name="l1036"><span class="linenum">1036</span></a>      public function <a class="function" onClick="logFunction('remove_section_heading')" href="../../../_functions/remove_section_heading.html" onMouseOver="funcPopup(event,'remove_section_heading')">remove_section_heading</a>(<a class="var it5386" onMouseOver="hilite(5386)" onMouseOut="lolite()" onClick="logVariable('sectionid')" href="../../../_variables/sectionid.html">$sectionid</a>) {
<a name="l1037"><span class="linenum">1037</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l1038"><span class="linenum">1038</span></a>          <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('quiz_sections', array('id' =&gt; <a class="var it5386" onMouseOver="hilite(5386)" onMouseOut="lolite()" onClick="logVariable('sectionid')" href="../../../_variables/sectionid.html">$sectionid</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l1039"><span class="linenum">1039</span></a>          if (<a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>-&gt;<a onClick="logVariable('firstslot')" class="var it43306" onMouseOver="hilite(43306)" onMouseOut="lolite()" href="../../../_variables/firstslot.html">firstslot</a> == 1) {
<a name="l1040"><span class="linenum">1040</span></a>              throw new \coding_exception('Cannot remove the first section in a quiz.');
<a name="l1041"><span class="linenum">1041</span></a>          }
<a name="l1042"><span class="linenum">1042</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('quiz_sections', array('id' =&gt; <a class="var it5386" onMouseOver="hilite(5386)" onMouseOut="lolite()" onClick="logVariable('sectionid')" href="../../../_variables/sectionid.html">$sectionid</a>));
<a name="l1043"><span class="linenum">1043</span></a>      }
<a name="l1044"><span class="linenum">1044</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'start_delegated_transaction': ['start_delegated_transaction', 'On DBs that support it, switch to transaction mode and begin a transaction you\'ll need to ensure you call allow_commit() on the returned object or your changes *will* be lost. ', [['lib/dml','moodle_database.php',2393]], 145],
'quiz_format_grade': ['quiz_format_grade', 'Round a grade to to the correct number of decimal places, and format it for display. ', [['mod/quiz','lib.php',630]], 35],
'populate_structure': ['populate_structure', 'Set up this class with the structure for a given quiz. ', [['mod/quiz/classes','structure.php',576]], 1],
'can_questions_finish_during_the_attempt': ['can_questions_finish_during_the_attempt', '', [['question/behaviour/interactive','behaviourtype.php',44],['question/behaviour/immediatefeedback','behaviourtype.php',40],['question/engine','lib.php',205],['question/behaviour','behaviourtypebase.php',62],['question/behaviour/immediatecbm','behaviourtype.php',43]], 15],
'populate_missing_questions': ['populate_missing_questions', 'Used by populate. Make up fake data for any missing questions. ', [['mod/quiz/classes','structure.php',619]], 1],
'get_fieldset_sql': ['get_fieldset_sql', 'Selects rows and return values of first column as array. ', [['lib/dml','pdo_moodle_database.php',288],['lib/dml','oci_native_moodle_database.php',1196],['lib/dml','pgsql_native_moodle_database.php',799],['lib/dml','mssql_native_moodle_database.php',839],['lib/dml','mysqli_native_moodle_database.php',1106],['lib/dml','sqlsrv_native_moodle_database.php',925],['lib/dml/tests','dml_test.php',5546]], 58],
'make_questions_usage_by_activity': ['make_questions_usage_by_activity', 'Create a new {@link question_usage_by_activity}. The usage is created in memory. If you want it to persist, you will need to call {@link save_questions_usage_by_activity()}. ', [['question/engine','lib.php',63]], 51],
'is_only_slot_in_section': ['is_only_slot_in_section', 'Is this slot the only one in its section? ', [['mod/quiz/classes','structure.php',345]], 2],
'remove_slot': ['remove_slot', 'Remove a slot from a quiz ', [['mod/quiz/classes','structure.php',885]], 5],
'get_section_count': ['get_section_count', 'Get the number of questions in the quiz. ', [['mod/quiz/classes','structure.php',473]], 2],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'set_max_mark_in_attempts': ['set_max_mark_in_attempts', 'Change the maxmark for the question_attempt with number in usage $slot for all the specified question_attempts. ', [['question/engine','datalib.php',1112],['question/engine','lib.php',121]], 5],
'update_slot_maxmark': ['update_slot_maxmark', 'Change the max mark for a slot. ', [['mod/quiz/classes','structure.php',930]], 1],
'get_dates_summary': ['get_dates_summary', 'Get the date information about the current state of the quiz. ', [['mod/quiz/classes','structure.php',530]], 1],
'get_context': ['get_context', 'Return the course context for new modules, or the module context for existing modules. ', [['course','moodleform_mod.php',148],['availability/classes','info_module.php',72],['availability/classes','info_section.php',55],['competency/classes','user_competency_plan.php',83],['availability/tests/fixtures','mock_info.php',59],['mod/feedback/classes','responses_table.php',146],['competency/classes','competency.php',730],['competency/classes','plan.php',258],['mod/quiz','attemptlib.php',220],['competency/classes','user_competency.php',216],['grade/grading','lib.php',107],['lib','modinfolib.php',1486],['lib','badgeslib.php',157],['competency/classes/external','exporter.php',172],['comment','lib.php',994],['grade/grading/form','lib.php',102],['mod/assign','locallib.php',1307],['competency/classes','user_evidence.php',90],['competency/classes','user_competency_course.php',80],['lib/classes/event','base.php',627],['enrol','locallib.php',921],['lib','coursecatlib.php',2369],['lib','coursecatlib.php',3065],['competency/classes','course_competency_settings.php',133],['lib/tests/behat','behat_data_generators.php',769],['competency/classes','competency_framework.php',70],['competency/classes','template.php',139]], 1033],
'create_for_quiz': ['create_for_quiz', 'Create an instance of this class representing the structure of a given quiz. ', [['mod/quiz/classes','structure.php',73]], 59],
'set_field': ['set_field', 'Set a single field in every table record where all the given conditions met. ', [['lib/dml','moodle_database.php',1737],['availability/condition/profile/tests','condition_test.php',349]], 485],
'userdate': ['userdate', 'Returns a formatted string that represents a date in user time. ', [['lib','moodlelib.php',2155],['lib/adodb','adodb.inc.php',2842],['lib/adodb','adodb.inc.php',3569]], 525],
'is_last_slot_in_quiz': ['is_last_slot_in_quiz', 'Is this slot the last one in the quiz? ', [['mod/quiz/classes','structure.php',355]], 3],
'allow_commit': ['allow_commit', 'Commit delegated transaction. The real database commit SQL is executed only after committing all delegated transactions. ', [['lib/dml','moodle_transaction.php',78]], 135],
'move_slot': ['move_slot', 'Move a slot from its current location to a new location. ', [['mod/quiz/classes','structure.php',680]], 18],
'add_section_heading': ['add_section_heading', 'Add a section heading on a given page and return the sectionid ', [['mod/quiz/classes','structure.php',992]], 2],
'quiz_has_attempts': ['quiz_has_attempts', '', [['mod/quiz','locallib.php',474]], 6],
'get_question_by_id': ['get_question_by_id', 'Get the information about the question with this id. ', [['mod/quiz/classes','structure.php',101]], 0],
'check_can_be_edited': ['check_can_be_edited', 'This quiz can only be edited if they have not been attempted. Throw an exception if this is not the case. ', [['mod/quiz/classes','structure.php',280]], 9],
'get_edit_page_warnings': ['get_edit_page_warnings', 'Get any warnings to show at the top of the edit page. ', [['mod/quiz/classes','structure.php',514]], 1],
'remove_section_heading': ['remove_section_heading', 'Remove the section heading with the given id ', [['mod/quiz/classes','structure.php',1032]], 3],
'get_cmid': ['get_cmid', '', [['mod/quiz','attemptlib.php',210],['mod/quiz','attemptlib.php',747],['mod/quiz/classes','structure.php',236]], 43],
'get_records': ['get_records', 'Load a list of records. ', [['competency/classes','persistent.php',709],['mod/glossary/classes','entry_query_builder.php',295],['lib/dml','moodle_database.php',1285],['lib','coursecatlib.php',651],['question','category_class.php',63]], 965],
'refresh_page_numbers_and_update_db': ['refresh_page_numbers_and_update_db', 'Refresh page numbering of quiz slots and save to the database. ', [['mod/quiz/classes','structure.php',865]], 3],
'is_question_dependent_on_previous_slot': ['is_question_dependent_on_previous_slot', 'Whether it would be possible, given the question types, etc. for the question in the given slot to require that the previous question had been answered before this one is displayed. ', [['mod/quiz/classes','structure.php',208]], 3],
'exists': ['exists', 'Checks whether or not the variable exists. ', [['lib/htmlpurifier/HTMLPurifier','Context.php',73],['lib/horde/framework/Horde','Variables.php',101],['admin/tool/uploadcourse/classes','course.php',252],['admin/tool/health','index.php',139],['admin/tool/health','index.php',160],['admin/tool/health','index.php',184],['admin/tool/health','index.php',208],['admin/tool/health','index.php',229],['admin/tool/health','index.php',248],['admin/tool/health','index.php',267],['admin/tool/health','index.php',313],['admin/tool/health','index.php',334],['admin/tool/health','index.php',420],['admin/tool/health','index.php',444],['admin/tool/health','index.php',481],['admin/tool/health','index.php',506],['admin/tool/health','index.php',554],['admin/tool/health','index.php',617],['admin/tool/health','index.php',707],['admin/tool/health','index.php',777],['lib/horde/framework/Horde/Imap/Client/Data','Fetch.php',468],['question/type/ddmarker','shapes.php',160]], 44],
'is_first_section': ['is_first_section', 'Is this the first section in the quiz? ', [['mod/quiz/classes','structure.php',365]], 2],
'get_decimal_places_for_grades': ['get_decimal_places_for_grades', 'Get the number of decimal places for displyaing overall quiz grades or marks. ', [['mod/quiz/classes','structure.php',498]], 1],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'get_slots_in_section': ['get_slots_in_section', 'Get all the slots in a section of the quiz. ', [['mod/quiz/classes','structure.php',442]], 1],
'get_section_by_id': ['get_section_by_id', 'Get a particular section by id. ', [['mod/quiz/classes','structure.php',465]], 2],
'get_navigation_method': ['get_navigation_method', '', [['mod/quiz','attemptlib.php',200],['mod/quiz','attemptlib.php',737]], 6],
'is_last_slot_on_page': ['is_last_slot_on_page', 'Is this slot the last one on its page? ', [['mod/quiz/classes','structure.php',324]], 1],
'quiz_format_question_grade': ['quiz_format_question_grade', 'Round a grade to the correct number of decimal places, and format it for display. ', [['mod/quiz','lib.php',662]], 15],
'get_field_sql': ['get_field_sql', 'Get a single field value (first field) using a SQL statement. ', [['lib/dml','moodle_database.php',1588]], 138],
'get_slots': ['get_slots', 'Return the list of slot numbers for either a given page of the quiz, or for the whole quiz. ', [['mod/quiz','attemptlib.php',1060],['question/engine','questionusage.php',228],['mod/quiz/classes','structure.php',304]], 23],
'get_cm': ['get_cm', 'Returns the current course module ', [['mod/feedback/classes','complete_form.php',245],['search/classes','base_mod.php',51],['mod/feedback/classes','structure.php',72],['mod/quiz','attemptlib.php',215],['mod/quiz','attemptlib.php',742],['lib','modinfolib.php',222],['comment','lib.php',1010]], 137],
'repaginate_slots': ['repaginate_slots', 'Repaginate, update DB and slots object ', [['mod/quiz/classes','repaginate.php',126]], 2],
'has_questions': ['has_questions', '', [['mod/quiz','attemptlib.php',238],['mod/quiz/classes','structure.php',85]], 6],
'get_courseid': ['get_courseid', 'Id of the current course (for site feedbacks only) ', [['mod/feedback/classes','structure.php',80],['course/format','lib.php',222],['mod/quiz','attemptlib.php',175],['mod/quiz','attemptlib.php',717],['backup/util/plan','backup_plan.class.php',78],['comment','lib.php',1002],['mod/quiz/classes','structure.php',228],['question/classes/bank','view.php',217],['backup/util/plan','restore_plan.class.php',81],['backup/controller','backup_controller.class.php',267],['backup/util/plan','base_step.class.php',105],['backup/controller','restore_controller.class.php',269],['backup/util/plan','base_task.class.php',109]], 244],
'start_all_questions': ['start_all_questions', 'Start the attempt at all questions that has been added to this usage. ', [['question/engine','questionusage.php',558]], 16],
'get_records_sql': ['get_records_sql', 'Get a number of records as an array of objects. ', [['lib/dml','pdo_moodle_database.php',309],['lib/dml','oci_native_moodle_database.php',1145],['lib/dml','pgsql_native_moodle_database.php',732],['lib/dml','mssql_native_moodle_database.php',805],['lib/dml','mysqli_native_moodle_database.php',1057],['lib/dml','sqlsrv_native_moodle_database.php',890],['lib/dml/tests','dml_test.php',5545]], 700],
'get_slot_by_id': ['get_slot_by_id', 'Get a slot by it\'s id. Throws an exception if it is missing. ', [['mod/quiz/classes','structure.php',400]], 2],
'set_section_shuffle': ['set_section_shuffle', 'Change the shuffle setting for a section. ', [['mod/quiz/classes','structure.php',1020]], 3],
'update_page_break': ['update_page_break', 'Add/Remove a pagebreak. ', [['mod/quiz/classes','structure.php',969]], 7],
'quiz_get_grade_format': ['quiz_get_grade_format', 'Determine the correct number of decimal places required to format a grade. ', [['mod/quiz','lib.php',644]], 6],
'update_question_dependency': ['update_question_dependency', 'Set whether the question in a particular slot requires the previous one. ', [['mod/quiz/classes','structure.php',959]], 3],
'get_questions_per_page': ['get_questions_per_page', 'How many questions are allowed per page in the quiz. This setting controls how frequently extra page-breaks should be inserted automatically when questions are added to the quiz. ', [['mod/quiz/classes','structure.php',293]], 1],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pdo_moodle_database.php',461],['lib/dml','oci_native_moodle_database.php',1404],['lib/dml','pgsql_native_moodle_database.php',1089],['lib/dml','mssql_native_moodle_database.php',1067],['lib/dml','mysqli_native_moodle_database.php',1405],['lib/dml','sqlsrv_native_moodle_database.php',1148],['lib/dml/tests','dml_test.php',5551]], 650],
'can_be_repaginated': ['can_be_repaginated', 'Quizzes can only be repaginated if they have not been attempted, the questions are not shuffled, and there are two or more questions. ', [['mod/quiz/classes','structure.php',260]], 1],
'is_first_slot_on_page': ['is_first_slot_on_page', 'Is this slot the first one on its page? ', [['mod/quiz/classes','structure.php',312]], 1],
'populate_question_numbers': ['populate_question_numbers', 'Number the questions. ', [['mod/quiz/classes','structure.php',665]], 1],
'question_delete_question': ['question_delete_question', 'Deletes question and all associated data from the database ', [['lib','questionlib.php',334]], 8],
'set_preferred_behaviour': ['set_preferred_behaviour', '', [['question/engine','questionusage.php',97]], 54],
'set_section_heading': ['set_section_heading', 'Change the heading for a section. ', [['mod/quiz/classes','structure.php',1008]], 2],
'get_last_slot': ['get_last_slot', 'Get the final slot in the quiz. ', [['mod/quiz/classes','structure.php',392]], 0],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'qtype_exists': ['qtype_exists', '', [['question/engine','bank.php',135]], 2],
'get_question_type_for_slot': ['get_question_type_for_slot', 'Get the question type in a given slot. ', [['mod/quiz/classes','structure.php',148]], 3],
'is_real_question': ['is_real_question', 'Is a particular question in this attempt a real question, or something like a description. ', [['mod/quiz','attemptlib.php',1121],['mod/quiz/classes','structure.php',219],['mod/quiz/tests','attempt_test.php',86]], 4],
'quiz_attempt_summary_link_to_reports': ['quiz_attempt_summary_link_to_reports', 'Returns the same as {@link quiz_num_attempt_summary()} but wrapped in a link to the quiz reports. ', [['mod/quiz','lib.php',1592],['mod/quiz','renderer.php',1207]], 5],
'create': ['create', 'Auto-scan an incoming line to determine the response type. ', [['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',65],['lib/google/src/Google/Service','Partners.php',492],['lib/simplepie/library/SimplePie','Cache.php',95],['lib/google/src/Google/Service','YouTubeReporting.php',237],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',81],['lib/google/src/Google/Service','MapsEngine.php',1677],['lib/google/src/Google/Service','MapsEngine.php',1977],['lib/google/src/Google/Service','MapsEngine.php',2253],['lib/google/src/Google/Service','MapsEngine.php',2330],['lib/google/src/Google/Service','MapsEngine.php',2898],['lib/spout/src/Spout/Writer','WriterFactory.php',18],['lib/google/src/Google/Service','Dns.php',290],['lib/google/src/Google/Service','Dns.php',363],['lib/google/src/Google/Service','Appengine.php',438],['tag/classes','collection.php',188],['lib/adodb','adodb-xmlschema.inc.php',152],['lib/adodb','adodb-xmlschema.inc.php',473],['lib/adodb','adodb-xmlschema.inc.php',738],['lib/adodb','adodb-xmlschema.inc.php',884],['lib/adodb','adodb-xmlschema.inc.php',1129],['mod/quiz','attemptlib.php',100],['mod/quiz','attemptlib.php',596],['lib','weblib.php',3206],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',58],['lib/google/src/Google/Service','Dataflow.php',273],['lib/simplepie/library/SimplePie','Registry.php',153],['competency/classes','persistent.php',387],['lib/google/src/Google/Service','Cloudresourcemanager.php',373],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',270],['lib/google/src/Google/Service','TagManager.php',1007],['lib/google/src/Google/Service','TagManager.php',1097],['lib/google/src/Google/Service','TagManager.php',1249],['lib/google/src/Google/Service','TagManager.php',1342],['lib/google/src/Google/Service','TagManager.php',1436],['lib/google/src/Google/Service','TagManager.php',1530],['lib/google/src/Google/Service','TagManager.php',1681],['mod/lesson','locallib.php',1011],['mod/lesson','locallib.php',2163],['mod/lesson','locallib.php',3212],['lib','modinfolib.php',1732],['repository','lib.php',206],['repository','lib.php',1910],['lib','navigationlib.php',268],['lib/htmlpurifier/HTMLPurifier','Config.php',114],['lib/google/src/Google/Service','Container.php',284],['lib/google/src/Google/Service','Genomics.php',632],['lib/google/src/Google/Service','Genomics.php',721],['lib/google/src/Google/Service','Genomics.php',1312],['lib/google/src/Google/Service','Genomics.php',1427],['lib/google/src/Google/Service','Games.php',1649],['lib/google/src/Google/Service','Games.php',2013],['lib/google/src/Google/Service','Fitness.php',377],['lib/google/src/Google/Service','Gmail.php',747],['lib/google/src/Google/Service','Gmail.php',905],['mod/quiz/classes','structure.php',65],['lib/htmlpurifier/HTMLPurifier','ElementDef.php',135],['lib/adodb','adodb-xmlschema03.inc.php',170],['lib/adodb','adodb-xmlschema03.inc.php',514],['lib/adodb','adodb-xmlschema03.inc.php',779],['lib/adodb','adodb-xmlschema03.inc.php',930],['lib/adodb','adodb-xmlschema03.inc.php',1228],['lib/google/src/Google/Service','Proximitybeacon.php',500],['tag/classes','area.php',205],['course','lib.php',3003],['question/type/ddmarker','shapes.php',170],['lib/classes/event','base.php',149],['lib','coursecatlib.php',325],['repository/filesystem','lib.php',498],['lib/google/src/Google/Service','Storagetransfer.php',281],['calendar','lib.php',2686],['lib/htmlpurifier/HTMLPurifier','Lexer.php',53],['lib/google/src/Google/Service','Classroom.php',445],['lib/google/src/Google/Service','Classroom.php',596],['lib/google/src/Google/Service','Classroom.php',673],['lib/google/src/Google/Service','Classroom.php',783],['lib/google/src/Google/Service','Classroom.php',912],['lib/spout/src/Spout/Reader','ReaderFactory.php',18],['lib/google/src/Google/Service','Pubsub.php',220],['lib/google/src/Google/Service','Pubsub.php',365],['lib/google/src/Google/Service','CloudMonitoring.php',258]], 3276],
'update_field_with_unique_index': ['update_field_with_unique_index', 'This method can update the values in mulitple database rows for a colum with a unique index, without violating that constraint. ', [['lib','datalib.php',1843]], 2],
'get_quizid': ['get_quizid', '', [['mod/quiz','attemptlib.php',185],['mod/quiz','attemptlib.php',727],['mod/quiz/classes','structure.php',244]], 45],
'get_slot_id_for_slot': ['get_slot_id_for_slot', 'Get the slot id of a given slot slot. ', [['mod/quiz/classes','structure.php',139]], 3],
'get_sections': ['get_sections', 'Returns a list of sections used in the course ', [['course/format','lib.php',301],['mod/quiz','attemptlib.php',271],['lib','modinfolib.php',210],['mod/quiz/classes','structure.php',457]], 15],
'is_last_slot_in_section': ['is_last_slot_in_section', 'Is this slot the last one in its section? ', [['mod/quiz/classes','structure.php',336]], 1],
'get_question_count': ['get_question_count', 'Get the number of questions in the quiz. ', [['mod/quiz/classes','structure.php',93],['question/classes/bank','view.php',401]], 4],
'load_question': ['load_question', 'Load a question definition from the database. The object returned will actually be of an appropriate {@link question_definition} subclass. ', [['question/engine','bank.php',258],['question/type/randomsamatch/db','upgradelib.php',240],['question/engine/upgrade','upgradelib.php',133],['question/engine/upgrade','upgradelib.php',287],['question/engine/upgrade/tests','helper.php',63]], 47],
'formatted_question_grade': ['formatted_question_grade', 'Get the maximum mark for a question, formatted for display. ', [['mod/quiz/classes','structure.php',489]], 1],
'get_displayed_number_for_slot': ['get_displayed_number_for_slot', 'Get the displayed question number (or \'i\') for a given slot. ', [['mod/quiz/classes','structure.php',121]], 3],
'can_finish_during_the_attempt': ['can_finish_during_the_attempt', 'Whether it is possible for another question to depend on this one finishing. Note that the answer is not exact, because of random questions, and sometimes questions cannot be depended upon because of quiz options. ', [['mod/quiz/classes','structure.php',168]], 2],
'get_quiz': ['get_quiz', '', [['mod/quiz','attemptlib.php',190],['mod/quiz','attemptlib.php',708],['mod/quiz/classes','structure.php',252]], 104],
'execute': ['execute', 'Run langpack update ', [['admin/tool/langimport/classes/task','update_langpacks_task.php',44],['backup/converter/imscc1','lib.php',84],['lib/classes/task','blog_cron_task.php',40],['mod/workshop/allocation/scheduled','lib.php',128],['lib/classes/task','send_new_user_passwords_task.php',40],['admin/tool/log/store/standard/classes/task','cleanup_task.php',40],['lib/dml','pdo_moodle_database.php',227],['lib/classes/task','tag_cron_task.php',42],['enrol/imsenterprise/classes/task','cron_task.php',43],['lib/classes/task','completion_daily_task.php',42],['lib/google/src/Google/Http','Batch.php',61],['lib/dml','oci_native_moodle_database.php',1048],['lib/classes/task','context_cleanup_task.php',41],['backup/util/plan','backup_structure_step.class.php',50],['backup/util/ui','restore_ui.class.php',206],['webservice','lib.php',1319],['lib/classes/task','stats_cron_task.php',40],['lib/htmlpurifier/HTMLPurifier/Strategy','ValidateAttributes.php',16],['lib/htmlpurifier/HTMLPurifier/Strategy','RemoveForeignElements.php',20],['lib/classes/task','legacy_plugin_cron_task.php',42],['backup/moodle2','restore_activity_task.class.php',189],['lib/classes/task','portfolio_cron_task.php',40],['lib/google/src/Google/Http','REST.php',27],['lib/htmlpurifier/HTMLPurifier/Strategy','MakeWellFormed.php',66],['backup/converter/imscc11','backuplib.php',42],['lib/classes/task','question_cron_task.php',40],['lib/classes/task','cache_cron_task.php',40],['admin/tool/log/store/legacy/classes/task','cleanup_task.php',40],['mod/lti/service/memberships/classes/local/resource','linkmemberships.php',62],['admin/tool/messageinbound/classes/task','cleanup_task.php',47],['lib/adodb/drivers','adodb-pdo.inc.php',559],['lib/editor/atto/classes/task','autosave_cleanup_task.php',42],['admin/tool/recyclebin/classes/task','cleanup_category_bin.php',43],['lib/classes/task','completion_regular_task.php',42],['lib/adodb/drivers','adodb-oci8po.inc.php',54],['lib/classes/task','events_cron_task.php',40],['mod/workshop/allocation/random','lib.php',83],['mod/assign/feedback/editpdf/classes/task','convert_submissions.php',47],['auth/cas/classes/task','sync_task.php',43],['admin/tool/recyclebin/classes/task','cleanup_course_bin.php',43],['mod/lti/service/toolsettings/classes/local/resource','contextsettings.php',62],['backup/util/helper','restore_decode_processor.class.php',73],['lib/behat','behat_base.php',840],['enrol/flatfile/classes/task','flatfile_sync_task.php',46],['lib/classes/task','registration_cron_task.php',40],['backup/moodle2','backup_section_task.class.php',97],['lib/classes/task','check_for_updates_task.php',40],['backup/util/plan/tests/fixtures','plan_fixtures.php',48],['backup/util/plan/tests/fixtures','plan_fixtures.php',56],['mod/forum/classes/task','cron_task.php',39],['lib/classes/task','send_failed_login_notifications_task.php',43],['enrol/lti/classes/task','sync_grades.php',45],['lib/dml','pgsql_native_moodle_database.php',665],['lib/htmlpurifier/HTMLPurifier/Strategy','Composite.php',21],['lib/classes/update','validator.php',117],['lib/google/src/Google','Client.php',574],['lib/dml','mssql_native_moodle_database.php',711],['mod/lti/service/profile/classes/local/resource','profile.php',76],['backup/util/plan','backup_plan.class.php',112],['lib/dml','mysqli_native_moodle_database.php',963],['backup/util/ui','backup_ui.class.php',122],['admin/tool/monitor/classes/task','clean_events.php',41],['backup/converter/moodle1','backuplib.php',10],['backup/converter/imscc11','lib.php',85],['lib/classes/task','grade_cron_task.php',40],['lib/classes/task','file_temp_cleanup_task.php',40],['backup/moodle2','restore_section_task.class.php',87],['mod/lti/service/toolsettings/classes/local/resource','linksettings.php',63],['filter/tex','latex.php',70],['lib/adodb','adodb.inc.php',1088],['lib/classes/task','plagiarism_cron_task.php',40],['mod/lti/service/toolproxy/classes/local/resource','toolproxy.php',62],['backup/converter/moodle1','lib.php',142],['backup/util/plan','restore_structure_step.class.php',62],['lib/classes/task','search_index_task.php',44],['enrol/lti/classes/task','sync_members.php',55],['lib/classes/task','session_cleanup_task.php',40],['mod/lti/service/toolsettings/classes/local/resource','systemsettings.php',61],['lib/classes/task','backup_cleanup_task.php',40],['lib/classes/task','delete_unconfirmed_users_task.php',40],['backup/converter/imscc1','backuplib.php',10],['lib/classes/task','badges_cron_task.php',40],['admin/tool/uploadcourse/classes','processor.php',174],['lib/classes/task','calendar_cron_task.php',40],['backup/util/plan','base_plan.class.php',158],['auth/ldap/classes/task','sync_task.php',43],['lib/adodb/drivers','adodb-oci8.inc.php',920],['backup/util/plan','restore_plan.class.php',159],['lib/tests/fixtures','task_fixtures.php',30],['lib/tests/fixtures','task_fixtures.php',39],['lib/tests/fixtures','task_fixtures.php',48],['lib/tests/fixtures','task_fixtures.php',57],['lib/dml','sqlsrv_native_moodle_database.php',795],['lib/classes/task','create_contexts_task.php',40],['lib/classes/task','file_trash_cleanup_task.php',40],['admin/tool/cohortroles/classes/task','cohort_role_sync.php',46],['lib/classes/task','complete_plans_task.php',52],['lib/classes/task','messaging_cleanup_task.php',40],['backup/util/plan','backup_execution_step.class.php',25],['lib/classes/task','cache_cleanup_task.php',40],['backup/moodle2','backup_activity_task.class.php',211],['filter/tex','texdebug.php',287],['lib/classes/task','password_reset_cleanup_task.php',40],['lib/classes/task','search_optimize_task.php',47],['mod/assign','adminlib.php',342],['lib/classes/task','delete_incomplete_users_task.php',40],['lib/classes/task','automated_backup_task.php',40],['admin/tool/messageinbound/classes/task','pickup_task.php',47],['backup/util/plan','restore_execution_step.class.php',25],['lib/classes/task','sync_plans_from_template_cohorts_task.php',50],['admin/tool/monitor/classes','notification_task.php',39],['lib/dml/tests','dml_test.php',5543],['lib/htmlpurifier/HTMLPurifier/Strategy','FixNesting.php',41],['mod/lti/service/memberships/classes/local/resource','contextmemberships.php',60],['admin/tool/monitor/classes/task','check_subscriptions.php',60],['backup/util/interfaces','executable.class.php',32],['backup/util/plan','base_task.class.php',162]], 1058],
'is_last_section': ['is_last_section', 'Is this the last section in the quiz? ', [['mod/quiz/classes','structure.php',374]], 1],
'get_question_in_slot': ['get_question_in_slot', 'Get the information about the question in a given slot. ', [['mod/quiz/classes','structure.php',111]], 38],
'can_be_edited': ['can_be_edited', 'Check if plan can be edited. ', [['competency/classes','plan.php',622],['mod/quiz/classes','structure.php',269]], 18],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','sqlite3_pdo_moodle_database.php',345],['lib/dml','moodle_database.php',1864]], 773],
'is_only_one_slot_in_section': ['is_only_one_slot_in_section', 'Does this section only contain one slot? ', [['mod/quiz/classes','structure.php',383]], 1],
'refresh_page_numbers': ['refresh_page_numbers', 'Refresh page numbering of quiz slots. ', [['mod/quiz/classes','structure.php',835]], 1],
'populate_slots_with_sections': ['populate_slots_with_sections', 'Fill in the section ids for each slot. ', [['mod/quiz/classes','structure.php',648]], 1],
'formatted_quiz_grade': ['formatted_quiz_grade', 'Get the overall quiz grade formatted for display. ', [['mod/quiz/classes','structure.php',481]], 1],
'get_page_number_for_slot': ['get_page_number_for_slot', 'Get the page a given slot is on. ', [['mod/quiz/classes','structure.php',130]], 7],
'can_add_section_heading': ['can_add_section_heading', 'Check whether adding a section heading is possible ', [['mod/quiz/classes','structure.php',412]], 0],
'can_question_depend_on_previous_slot': ['can_question_depend_on_previous_slot', 'Whether it would be possible, given the question types, etc. for the question in the given slot to require that the previous question had been answered before this one is displayed. ', [['mod/quiz/classes','structure.php',157]], 1],
'add_question': ['add_question', 'Add another question to this usage. ', [['question/engine','questionusage.php',156]], 43],
'get_field': ['get_field', 'Gets an instance of the form field. ', [['lib/behat','behat_field_manager.php',248],['mod/quiz/report/statistics/classes','calculated.php',109],['lib/dml','moodle_database.php',1546],['user/filters','lib.php',124]], 536],
'can_question_finish_during_attempt': ['can_question_finish_during_attempt', 'Whether this attempt at a given question could be completed just by the student interacting with the question, before {@link finish_question()} is called. ', [['question/engine','questionusage.php',310]], 2],
'get_decimal_places_for_question_marks': ['get_decimal_places_for_question_marks', 'Get the number of decimal places for displyaing question marks. ', [['mod/quiz/classes','structure.php',506]], 3],
'implode': ['implode', '', [], 1281],
'defined': ['defined', '', [], 4731],
'time': ['time', '', [], 1959],
'end': ['end', '', [], 433],
'count': ['count', '', [], 4095],
'array_values': ['array_values', '', [], 342],
'in_array': ['in_array', '', [], 1234],
'max': ['max', '', [], 1266],
'abs': ['abs', '', [], 560],
'key': ['key', '', [], 204],
'array_key_exists': ['array_key_exists', '', [], 1445]};
CLASS_DATA={
'structure': ['structure', 'Handles calendar functions for the test calendar. ', [['calendar/tests','calendartype_test_example.php',20],['calendar/type/gregorian/classes','structure.php',20],['mod/quiz/classes','structure.php',28]], 59]};
CONST_DATA={
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1384],
'QUIZ_NAVMETHOD_SEQ': ['QUIZ_NAVMETHOD_SEQ', '', [['mod/quiz','lib.php',64]], 7],
'FORMAT_HTML': ['FORMAT_HTML', '', [['lib','weblib.php',47]], 1121],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
