<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/quiz/edit.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='mod/quiz';
filename='edit.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/quiz/</a> -> <a href="edit.php.html">edit.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="edit.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="edit.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment">/**</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> * Page to edit quizzes</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> *</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * This page generally has two columns:</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * The right column lists all available questions in a chosen category and</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * allows them to be edited or more to be added. This column is only there if</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * the quiz does not already have student attempts</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> * The left column lists all questions that have been added to the current quiz.</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> * The lecturer can add questions from the right hand list to the quiz or remove them</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> *</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> * The script also processes a number of actions:</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * Actions affecting a quiz:</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> * up and down  Changes the order of questions and page breaks</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * addquestion  Adds a single question to the quiz</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * add          Adds several selected questions to the quiz</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * addrandom    Adds a certain number of random questions to the quiz</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * repaginate   Re-paginates the quiz</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * delete       Removes a question from the quiz</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * savechanges  Saves the order and grades for questions in the quiz</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> *</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * @package    mod_quiz</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> * @copyright  1999 onwards Martin Dougiamas and others {@link http://moodle.com}</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> */</span>
<a name="l42"><span class="linenum">  42</span></a>  
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>  require_once(__DIR__ . '/../../config.php');
<a name="l45"><span class="linenum">  45</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/quiz/locallib.php.html">/mod/quiz/locallib.php</a>');
<a name="l46"><span class="linenum">  46</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/quiz/addrandomform.php.html">/mod/quiz/addrandomform.php</a>');
<a name="l47"><span class="linenum">  47</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../question/editlib.php.html">/question/editlib.php</a>');
<a name="l48"><span class="linenum">  48</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../question/category_class.php.html">/question/category_class.php</a>');
<a name="l49"><span class="linenum">  49</span></a>  
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">// These params are only passed from page request to request while we stay on</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">// this page otherwise they would go in question_edit_setup.</span>
<a name="l52"><span class="linenum">  52</span></a>  <a class="var it24630" onMouseOver="hilite(24630)" onMouseOut="lolite()" onClick="logVariable('scrollpos')" href="../../_variables/scrollpos.html">$scrollpos</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('scrollpos', '', <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l53"><span class="linenum">  53</span></a>  
<a name="l54"><span class="linenum">  54</span></a>  <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it5764" onMouseOver="hilite(5764)" onMouseOut="lolite()" onClick="logVariable('thispageurl')" href="../../_variables/thispageurl.html">$thispageurl</a>, <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../_variables/contexts.html">$contexts</a>, <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>, <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../_variables/pagevars.html">$pagevars</a>) =
<a name="l55"><span class="linenum">  55</span></a>          <a class="function" onClick="logFunction('question_edit_setup')" href="../../_functions/question_edit_setup.html" onMouseOver="funcPopup(event,'question_edit_setup')">question_edit_setup</a>('editq', '<a class="filename" href="../../mod/quiz/edit.php.html">/mod/quiz/edit.php</a>', true);
<a name="l56"><span class="linenum">  56</span></a>  
<a name="l57"><span class="linenum">  57</span></a>  <a class="var it28853" onMouseOver="hilite(28853)" onMouseOut="lolite()" onClick="logVariable('defaultcategoryobj')" href="../../_variables/defaultcategoryobj.html">$defaultcategoryobj</a> = <a class="function" onClick="logFunction('question_make_default_categories')" href="../../_functions/question_make_default_categories.html" onMouseOver="funcPopup(event,'question_make_default_categories')">question_make_default_categories</a>(<a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../_variables/contexts.html">$contexts</a>-&gt;<a class="function" onClick="logFunction('all')" href="../../_functions/all.html" onMouseOver="funcPopup(event,'all')">all</a>());
<a name="l58"><span class="linenum">  58</span></a>  <a class="var it7666" onMouseOver="hilite(7666)" onMouseOut="lolite()" onClick="logVariable('defaultcategory')" href="../../_variables/defaultcategory.html">$defaultcategory</a> = <a class="var it28853" onMouseOver="hilite(28853)" onMouseOut="lolite()" onClick="logVariable('defaultcategoryobj')" href="../../_variables/defaultcategoryobj.html">$defaultcategoryobj</a>-&gt;<a onClick="logVariable('id')" class="var it44013" onMouseOver="hilite(44013)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> . ',' . <a class="var it28853" onMouseOver="hilite(28853)" onMouseOut="lolite()" onClick="logVariable('defaultcategoryobj')" href="../../_variables/defaultcategoryobj.html">$defaultcategoryobj</a>-&gt;<a onClick="logVariable('contextid')" class="var it44013" onMouseOver="hilite(44013)" onMouseOut="lolite()" href="../../_variables/contextid.html">contextid</a>;
<a name="l59"><span class="linenum">  59</span></a>  
<a name="l60"><span class="linenum">  60</span></a>  <a class="var it29551" onMouseOver="hilite(29551)" onMouseOut="lolite()" onClick="logVariable('quizhasattempts')" href="../../_variables/quizhasattempts.html">$quizhasattempts</a> = <a class="function" onClick="logFunction('quiz_has_attempts')" href="../../_functions/quiz_has_attempts.html" onMouseOver="funcPopup(event,'quiz_has_attempts')">quiz_has_attempts</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l61"><span class="linenum">  61</span></a>  
<a name="l62"><span class="linenum">  62</span></a>  <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_url')" href="../../_functions/set_url.html" onMouseOver="funcPopup(event,'set_url')">set_url</a>(<a class="var it5764" onMouseOver="hilite(5764)" onMouseOut="lolite()" onClick="logVariable('thispageurl')" href="../../_variables/thispageurl.html">$thispageurl</a>);
<a name="l63"><span class="linenum">  63</span></a>  
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">// Get the course object and related bits.</span>
<a name="l65"><span class="linenum">  65</span></a>  <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id' =&gt; <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('course')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l66"><span class="linenum">  66</span></a>  <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../_variables/quizobj.html">$quizobj</a> = <span class="keyword">new </span><a class="class" onClick="logClass('quiz')" href="../../_classes/quiz.html" onMouseOver="classPopup(event,'quiz')">quiz</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l67"><span class="linenum">  67</span></a>  <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../_variables/structure.html">$structure</a> = <a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../_variables/quizobj.html">$quizobj</a>-&gt;<a class="function" onClick="logFunction('get_structure')" href="../../_functions/get_structure.html" onMouseOver="funcPopup(event,'get_structure')">get_structure</a>();
<a name="l68"><span class="linenum">  68</span></a>  
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">// You need mod/quiz:manage in addition to question capabilities to access this page.</span>
<a name="l70"><span class="linenum">  70</span></a>  <a class="function" onClick="logFunction('require_capability')" href="../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('mod/quiz:manage', <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../_variables/contexts.html">$contexts</a>-&gt;<a class="function" onClick="logFunction('lowest')" href="../../_functions/lowest.html" onMouseOver="funcPopup(event,'lowest')">lowest</a>());
<a name="l71"><span class="linenum">  71</span></a>  
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment">// Log this visit.</span>
<a name="l73"><span class="linenum">  73</span></a>  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array(
<a name="l74"><span class="linenum">  74</span></a>      'courseid' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l75"><span class="linenum">  75</span></a>      'context' =&gt; <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../_variables/contexts.html">$contexts</a>-&gt;<a class="function" onClick="logFunction('lowest')" href="../../_functions/lowest.html" onMouseOver="funcPopup(event,'lowest')">lowest</a>(),
<a name="l76"><span class="linenum">  76</span></a>      'other' =&gt; array(
<a name="l77"><span class="linenum">  77</span></a>          'quizid' =&gt; <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>-&gt;id
<a name="l78"><span class="linenum">  78</span></a>      )
<a name="l79"><span class="linenum">  79</span></a>  );
<a name="l80"><span class="linenum">  80</span></a>  <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a> = \mod_quiz\event\<a class="class" onClick="logClass('edit_page_viewed')" href="../../_classes/edit_page_viewed.html" onMouseOver="classPopup(event,'edit_page_viewed')">edit_page_viewed</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l81"><span class="linenum">  81</span></a>  <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('trigger')" href="../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">// Process commands ============================================================.</span>
<a name="l84"><span class="linenum">  84</span></a>  
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">// Get the list of question ids had their check-boxes ticked.</span>
<a name="l86"><span class="linenum">  86</span></a>  <a class="var it35685" onMouseOver="hilite(35685)" onMouseOut="lolite()" onClick="logVariable('selectedslots')" href="../../_variables/selectedslots.html">$selectedslots</a> = array();
<a name="l87"><span class="linenum">  87</span></a>  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = (array) <a class="function" onClick="logFunction('data_submitted')" href="../../_functions/data_submitted.html" onMouseOver="funcPopup(event,'data_submitted')">data_submitted</a>();
<a name="l88"><span class="linenum">  88</span></a>  foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l89"><span class="linenum">  89</span></a>      if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('!^<a class="function" onClick="logFunction('s')" href="../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>([0-9]+)$!', <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>)) {
<a name="l90"><span class="linenum">  90</span></a>          <a class="var it35685" onMouseOver="hilite(35685)" onMouseOut="lolite()" onClick="logVariable('selectedslots')" href="../../_variables/selectedslots.html">$selectedslots</a>[] = <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1];
<a name="l91"><span class="linenum">  91</span></a>      }
<a name="l92"><span class="linenum">  92</span></a>  }
<a name="l93"><span class="linenum">  93</span></a>  
<a name="l94"><span class="linenum">  94</span></a>  <a class="var it35686" onMouseOver="hilite(35686)" onMouseOut="lolite()" onClick="logVariable('afteractionurl')" href="../../_variables/afteractionurl.html">$afteractionurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it5764" onMouseOver="hilite(5764)" onMouseOut="lolite()" onClick="logVariable('thispageurl')" href="../../_variables/thispageurl.html">$thispageurl</a>);
<a name="l95"><span class="linenum">  95</span></a>  if (<a class="var it24630" onMouseOver="hilite(24630)" onMouseOut="lolite()" onClick="logVariable('scrollpos')" href="../../_variables/scrollpos.html">$scrollpos</a>) {
<a name="l96"><span class="linenum">  96</span></a>      <a class="var it35686" onMouseOver="hilite(35686)" onMouseOut="lolite()" onClick="logVariable('afteractionurl')" href="../../_variables/afteractionurl.html">$afteractionurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('scrollpos', <a class="var it24630" onMouseOver="hilite(24630)" onMouseOut="lolite()" onClick="logVariable('scrollpos')" href="../../_variables/scrollpos.html">$scrollpos</a>);
<a name="l97"><span class="linenum">  97</span></a>  }
<a name="l98"><span class="linenum">  98</span></a>  
<a name="l99"><span class="linenum">  99</span></a>  if (<a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('repaginate', false, <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>) &amp;&amp; <a class="function" onClick="logFunction('confirm_sesskey')" href="../../_functions/confirm_sesskey.html" onMouseOver="funcPopup(event,'confirm_sesskey')">confirm_sesskey</a>()) {
<a name="l100"><span class="linenum"> 100</span></a>  <span class="comment">    // Re-paginate the quiz.</span>
<a name="l101"><span class="linenum"> 101</span></a>      <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('check_can_be_edited')" href="../../_functions/check_can_be_edited.html" onMouseOver="funcPopup(event,'check_can_be_edited')">check_can_be_edited</a>();
<a name="l102"><span class="linenum"> 102</span></a>      <a class="var it9780" onMouseOver="hilite(9780)" onMouseOut="lolite()" onClick="logVariable('questionsperpage')" href="../../_variables/questionsperpage.html">$questionsperpage</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('questionsperpage', <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('questionsperpage')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../_variables/questionsperpage.html">questionsperpage</a>, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l103"><span class="linenum"> 103</span></a>      <a class="function" onClick="logFunction('quiz_repaginate_questions')" href="../../_functions/quiz_repaginate_questions.html" onMouseOver="funcPopup(event,'quiz_repaginate_questions')">quiz_repaginate_questions</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it9780" onMouseOver="hilite(9780)" onMouseOut="lolite()" onClick="logVariable('questionsperpage')" href="../../_variables/questionsperpage.html">$questionsperpage</a> );
<a name="l104"><span class="linenum"> 104</span></a>      <a class="function" onClick="logFunction('quiz_delete_previews')" href="../../_functions/quiz_delete_previews.html" onMouseOver="funcPopup(event,'quiz_delete_previews')">quiz_delete_previews</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>);
<a name="l105"><span class="linenum"> 105</span></a>      <a class="function" onClick="logFunction('redirect')" href="../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it35686" onMouseOver="hilite(35686)" onMouseOut="lolite()" onClick="logVariable('afteractionurl')" href="../../_variables/afteractionurl.html">$afteractionurl</a>);
<a name="l106"><span class="linenum"> 106</span></a>  }
<a name="l107"><span class="linenum"> 107</span></a>  
<a name="l108"><span class="linenum"> 108</span></a>  if ((<a class="var it35687" onMouseOver="hilite(35687)" onMouseOut="lolite()" onClick="logVariable('addquestion')" href="../../_variables/addquestion.html">$addquestion</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('addquestion', 0, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>)) &amp;&amp; <a class="function" onClick="logFunction('confirm_sesskey')" href="../../_functions/confirm_sesskey.html" onMouseOver="funcPopup(event,'confirm_sesskey')">confirm_sesskey</a>()) {
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment">    // Add a single question to the current quiz.</span>
<a name="l110"><span class="linenum"> 110</span></a>      <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('check_can_be_edited')" href="../../_functions/check_can_be_edited.html" onMouseOver="funcPopup(event,'check_can_be_edited')">check_can_be_edited</a>();
<a name="l111"><span class="linenum"> 111</span></a>      <a class="function" onClick="logFunction('quiz_require_question_use')" href="../../_functions/quiz_require_question_use.html" onMouseOver="funcPopup(event,'quiz_require_question_use')">quiz_require_question_use</a>(<a class="var it35687" onMouseOver="hilite(35687)" onMouseOut="lolite()" onClick="logVariable('addquestion')" href="../../_variables/addquestion.html">$addquestion</a>);
<a name="l112"><span class="linenum"> 112</span></a>      <a class="var it35688" onMouseOver="hilite(35688)" onMouseOut="lolite()" onClick="logVariable('addonpage')" href="../../_variables/addonpage.html">$addonpage</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('addonpage', 0, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l113"><span class="linenum"> 113</span></a>      <a class="function" onClick="logFunction('quiz_add_quiz_question')" href="../../_functions/quiz_add_quiz_question.html" onMouseOver="funcPopup(event,'quiz_add_quiz_question')">quiz_add_quiz_question</a>(<a class="var it35687" onMouseOver="hilite(35687)" onMouseOut="lolite()" onClick="logVariable('addquestion')" href="../../_variables/addquestion.html">$addquestion</a>, <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>, <a class="var it35688" onMouseOver="hilite(35688)" onMouseOut="lolite()" onClick="logVariable('addonpage')" href="../../_variables/addonpage.html">$addonpage</a>);
<a name="l114"><span class="linenum"> 114</span></a>      <a class="function" onClick="logFunction('quiz_delete_previews')" href="../../_functions/quiz_delete_previews.html" onMouseOver="funcPopup(event,'quiz_delete_previews')">quiz_delete_previews</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>);
<a name="l115"><span class="linenum"> 115</span></a>      <a class="function" onClick="logFunction('quiz_update_sumgrades')" href="../../_functions/quiz_update_sumgrades.html" onMouseOver="funcPopup(event,'quiz_update_sumgrades')">quiz_update_sumgrades</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>);
<a name="l116"><span class="linenum"> 116</span></a>      <a class="var it5764" onMouseOver="hilite(5764)" onMouseOut="lolite()" onClick="logVariable('thispageurl')" href="../../_variables/thispageurl.html">$thispageurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('lastchanged', <a class="var it35687" onMouseOver="hilite(35687)" onMouseOut="lolite()" onClick="logVariable('addquestion')" href="../../_variables/addquestion.html">$addquestion</a>);
<a name="l117"><span class="linenum"> 117</span></a>      <a class="function" onClick="logFunction('redirect')" href="../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it35686" onMouseOver="hilite(35686)" onMouseOut="lolite()" onClick="logVariable('afteractionurl')" href="../../_variables/afteractionurl.html">$afteractionurl</a>);
<a name="l118"><span class="linenum"> 118</span></a>  }
<a name="l119"><span class="linenum"> 119</span></a>  
<a name="l120"><span class="linenum"> 120</span></a>  if (<a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('add', false, <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>) &amp;&amp; <a class="function" onClick="logFunction('confirm_sesskey')" href="../../_functions/confirm_sesskey.html" onMouseOver="funcPopup(event,'confirm_sesskey')">confirm_sesskey</a>()) {
<a name="l121"><span class="linenum"> 121</span></a>      <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('check_can_be_edited')" href="../../_functions/check_can_be_edited.html" onMouseOver="funcPopup(event,'check_can_be_edited')">check_can_be_edited</a>();
<a name="l122"><span class="linenum"> 122</span></a>      <a class="var it35688" onMouseOver="hilite(35688)" onMouseOut="lolite()" onClick="logVariable('addonpage')" href="../../_variables/addonpage.html">$addonpage</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('addonpage', 0, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">    // Add selected questions to the current quiz.</span>
<a name="l124"><span class="linenum"> 124</span></a>      <a class="var it4614" onMouseOver="hilite(4614)" onMouseOut="lolite()" onClick="logVariable('rawdata')" href="../../_variables/rawdata.html">$rawdata</a> = (array) <a class="function" onClick="logFunction('data_submitted')" href="../../_functions/data_submitted.html" onMouseOver="funcPopup(event,'data_submitted')">data_submitted</a>();
<a name="l125"><span class="linenum"> 125</span></a>      foreach (<a class="var it4614" onMouseOver="hilite(4614)" onMouseOut="lolite()" onClick="logVariable('rawdata')" href="../../_variables/rawdata.html">$rawdata</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) { // Parse input for question ids.
<a name="l126"><span class="linenum"> 126</span></a>          if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('!^<a class="function" onClick="logFunction('q')" href="../../_functions/q.html" onMouseOver="funcPopup(event,'q')">q</a>([0-9]+)$!', <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>)) {
<a name="l127"><span class="linenum"> 127</span></a>              <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> = <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1];
<a name="l128"><span class="linenum"> 128</span></a>              <a class="function" onClick="logFunction('quiz_require_question_use')" href="../../_functions/quiz_require_question_use.html" onMouseOver="funcPopup(event,'quiz_require_question_use')">quiz_require_question_use</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>);
<a name="l129"><span class="linenum"> 129</span></a>              <a class="function" onClick="logFunction('quiz_add_quiz_question')" href="../../_functions/quiz_add_quiz_question.html" onMouseOver="funcPopup(event,'quiz_add_quiz_question')">quiz_add_quiz_question</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>, <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>, <a class="var it35688" onMouseOver="hilite(35688)" onMouseOut="lolite()" onClick="logVariable('addonpage')" href="../../_variables/addonpage.html">$addonpage</a>);
<a name="l130"><span class="linenum"> 130</span></a>          }
<a name="l131"><span class="linenum"> 131</span></a>      }
<a name="l132"><span class="linenum"> 132</span></a>      <a class="function" onClick="logFunction('quiz_delete_previews')" href="../../_functions/quiz_delete_previews.html" onMouseOver="funcPopup(event,'quiz_delete_previews')">quiz_delete_previews</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>);
<a name="l133"><span class="linenum"> 133</span></a>      <a class="function" onClick="logFunction('quiz_update_sumgrades')" href="../../_functions/quiz_update_sumgrades.html" onMouseOver="funcPopup(event,'quiz_update_sumgrades')">quiz_update_sumgrades</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>);
<a name="l134"><span class="linenum"> 134</span></a>      <a class="function" onClick="logFunction('redirect')" href="../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it35686" onMouseOver="hilite(35686)" onMouseOut="lolite()" onClick="logVariable('afteractionurl')" href="../../_variables/afteractionurl.html">$afteractionurl</a>);
<a name="l135"><span class="linenum"> 135</span></a>  }
<a name="l136"><span class="linenum"> 136</span></a>  
<a name="l137"><span class="linenum"> 137</span></a>  if (<a class="var it35689" onMouseOver="hilite(35689)" onMouseOut="lolite()" onClick="logVariable('addsectionatpage')" href="../../_variables/addsectionatpage.html">$addsectionatpage</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('addsectionatpage', false, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>)) {
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">    // Add a section to the quiz.</span>
<a name="l139"><span class="linenum"> 139</span></a>      <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('check_can_be_edited')" href="../../_functions/check_can_be_edited.html" onMouseOver="funcPopup(event,'check_can_be_edited')">check_can_be_edited</a>();
<a name="l140"><span class="linenum"> 140</span></a>      <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('add_section_heading')" href="../../_functions/add_section_heading.html" onMouseOver="funcPopup(event,'add_section_heading')">add_section_heading</a>(<a class="var it35689" onMouseOver="hilite(35689)" onMouseOut="lolite()" onClick="logVariable('addsectionatpage')" href="../../_variables/addsectionatpage.html">$addsectionatpage</a>);
<a name="l141"><span class="linenum"> 141</span></a>      <a class="function" onClick="logFunction('quiz_delete_previews')" href="../../_functions/quiz_delete_previews.html" onMouseOver="funcPopup(event,'quiz_delete_previews')">quiz_delete_previews</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>);
<a name="l142"><span class="linenum"> 142</span></a>      <a class="function" onClick="logFunction('redirect')" href="../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it35686" onMouseOver="hilite(35686)" onMouseOut="lolite()" onClick="logVariable('afteractionurl')" href="../../_variables/afteractionurl.html">$afteractionurl</a>);
<a name="l143"><span class="linenum"> 143</span></a>  }
<a name="l144"><span class="linenum"> 144</span></a>  
<a name="l145"><span class="linenum"> 145</span></a>  if ((<a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('addrandom', false, <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>)) &amp;&amp; <a class="function" onClick="logFunction('confirm_sesskey')" href="../../_functions/confirm_sesskey.html" onMouseOver="funcPopup(event,'confirm_sesskey')">confirm_sesskey</a>()) {
<a name="l146"><span class="linenum"> 146</span></a>  <span class="comment">    // Add random questions to the quiz.</span>
<a name="l147"><span class="linenum"> 147</span></a>      <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../_variables/structure.html">$structure</a>-&gt;<a class="function" onClick="logFunction('check_can_be_edited')" href="../../_functions/check_can_be_edited.html" onMouseOver="funcPopup(event,'check_can_be_edited')">check_can_be_edited</a>();
<a name="l148"><span class="linenum"> 148</span></a>      <a class="var it1290" onMouseOver="hilite(1290)" onMouseOut="lolite()" onClick="logVariable('recurse')" href="../../_variables/recurse.html">$recurse</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('recurse', 0, <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>);
<a name="l149"><span class="linenum"> 149</span></a>      <a class="var it35688" onMouseOver="hilite(35688)" onMouseOut="lolite()" onClick="logVariable('addonpage')" href="../../_variables/addonpage.html">$addonpage</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('addonpage', 0, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l150"><span class="linenum"> 150</span></a>      <a class="var it904" onMouseOver="hilite(904)" onMouseOut="lolite()" onClick="logVariable('categoryid')" href="../../_variables/categoryid.html">$categoryid</a> = <a class="function" onClick="logFunction('required_param')" href="../../_functions/required_param.html" onMouseOver="funcPopup(event,'required_param')">required_param</a>('categoryid', <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l151"><span class="linenum"> 151</span></a>      <a class="var it28662" onMouseOver="hilite(28662)" onMouseOut="lolite()" onClick="logVariable('randomcount')" href="../../_variables/randomcount.html">$randomcount</a> = <a class="function" onClick="logFunction('required_param')" href="../../_functions/required_param.html" onMouseOver="funcPopup(event,'required_param')">required_param</a>('randomcount', <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l152"><span class="linenum"> 152</span></a>      <a class="function" onClick="logFunction('quiz_add_random_questions')" href="../../_functions/quiz_add_random_questions.html" onMouseOver="funcPopup(event,'quiz_add_random_questions')">quiz_add_random_questions</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>, <a class="var it35688" onMouseOver="hilite(35688)" onMouseOut="lolite()" onClick="logVariable('addonpage')" href="../../_variables/addonpage.html">$addonpage</a>, <a class="var it904" onMouseOver="hilite(904)" onMouseOut="lolite()" onClick="logVariable('categoryid')" href="../../_variables/categoryid.html">$categoryid</a>, <a class="var it28662" onMouseOver="hilite(28662)" onMouseOut="lolite()" onClick="logVariable('randomcount')" href="../../_variables/randomcount.html">$randomcount</a>, <a class="var it1290" onMouseOver="hilite(1290)" onMouseOut="lolite()" onClick="logVariable('recurse')" href="../../_variables/recurse.html">$recurse</a>);
<a name="l153"><span class="linenum"> 153</span></a>  
<a name="l154"><span class="linenum"> 154</span></a>      <a class="function" onClick="logFunction('quiz_delete_previews')" href="../../_functions/quiz_delete_previews.html" onMouseOver="funcPopup(event,'quiz_delete_previews')">quiz_delete_previews</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>);
<a name="l155"><span class="linenum"> 155</span></a>      <a class="function" onClick="logFunction('quiz_update_sumgrades')" href="../../_functions/quiz_update_sumgrades.html" onMouseOver="funcPopup(event,'quiz_update_sumgrades')">quiz_update_sumgrades</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>);
<a name="l156"><span class="linenum"> 156</span></a>      <a class="function" onClick="logFunction('redirect')" href="../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it35686" onMouseOver="hilite(35686)" onMouseOut="lolite()" onClick="logVariable('afteractionurl')" href="../../_variables/afteractionurl.html">$afteractionurl</a>);
<a name="l157"><span class="linenum"> 157</span></a>  }
<a name="l158"><span class="linenum"> 158</span></a>  
<a name="l159"><span class="linenum"> 159</span></a>  if (<a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('savechanges', false, <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>) &amp;&amp; <a class="function" onClick="logFunction('confirm_sesskey')" href="../../_functions/confirm_sesskey.html" onMouseOver="funcPopup(event,'confirm_sesskey')">confirm_sesskey</a>()) {
<a name="l160"><span class="linenum"> 160</span></a>  
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">    // If rescaling is required save the new maximum.</span>
<a name="l162"><span class="linenum"> 162</span></a>      <a class="var it542" onMouseOver="hilite(542)" onMouseOut="lolite()" onClick="logVariable('maxgrade')" href="../../_variables/maxgrade.html">$maxgrade</a> = <a class="function" onClick="logFunction('unformat_float')" href="../../_functions/unformat_float.html" onMouseOver="funcPopup(event,'unformat_float')">unformat_float</a>(<a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('maxgrade', -1, <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>));
<a name="l163"><span class="linenum"> 163</span></a>      if (<a class="var it542" onMouseOver="hilite(542)" onMouseOut="lolite()" onClick="logVariable('maxgrade')" href="../../_variables/maxgrade.html">$maxgrade</a> &gt;= 0) {
<a name="l164"><span class="linenum"> 164</span></a>          <a class="function" onClick="logFunction('quiz_set_grade')" href="../../_functions/quiz_set_grade.html" onMouseOver="funcPopup(event,'quiz_set_grade')">quiz_set_grade</a>(<a class="var it542" onMouseOver="hilite(542)" onMouseOut="lolite()" onClick="logVariable('maxgrade')" href="../../_variables/maxgrade.html">$maxgrade</a>, <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>);
<a name="l165"><span class="linenum"> 165</span></a>          <a class="function" onClick="logFunction('quiz_update_all_final_grades')" href="../../_functions/quiz_update_all_final_grades.html" onMouseOver="funcPopup(event,'quiz_update_all_final_grades')">quiz_update_all_final_grades</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>);
<a name="l166"><span class="linenum"> 166</span></a>          <a class="function" onClick="logFunction('quiz_update_grades')" href="../../_functions/quiz_update_grades.html" onMouseOver="funcPopup(event,'quiz_update_grades')">quiz_update_grades</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>, 0, true);
<a name="l167"><span class="linenum"> 167</span></a>      }
<a name="l168"><span class="linenum"> 168</span></a>  
<a name="l169"><span class="linenum"> 169</span></a>      <a class="function" onClick="logFunction('redirect')" href="../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it35686" onMouseOver="hilite(35686)" onMouseOut="lolite()" onClick="logVariable('afteractionurl')" href="../../_variables/afteractionurl.html">$afteractionurl</a>);
<a name="l170"><span class="linenum"> 170</span></a>  }
<a name="l171"><span class="linenum"> 171</span></a>  
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">// Get the question bank view.</span>
<a name="l173"><span class="linenum"> 173</span></a>  <a class="var it5767" onMouseOver="hilite(5767)" onMouseOut="lolite()" onClick="logVariable('questionbank')" href="../../_variables/questionbank.html">$questionbank</a> = new mod_quiz\question\bank\custom_view(<a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../_variables/contexts.html">$contexts</a>, <a class="var it5764" onMouseOver="hilite(5764)" onMouseOut="lolite()" onClick="logVariable('thispageurl')" href="../../_variables/thispageurl.html">$thispageurl</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>);
<a name="l174"><span class="linenum"> 174</span></a>  <a class="var it5767" onMouseOver="hilite(5767)" onMouseOut="lolite()" onClick="logVariable('questionbank')" href="../../_variables/questionbank.html">$questionbank</a>-&gt;<a class="function" onClick="logFunction('set_quiz_has_attempts')" href="../../_functions/set_quiz_has_attempts.html" onMouseOver="funcPopup(event,'set_quiz_has_attempts')">set_quiz_has_attempts</a>(<a class="var it29551" onMouseOver="hilite(29551)" onMouseOut="lolite()" onClick="logVariable('quizhasattempts')" href="../../_variables/quizhasattempts.html">$quizhasattempts</a>);
<a name="l175"><span class="linenum"> 175</span></a>  <a class="var it5767" onMouseOver="hilite(5767)" onMouseOut="lolite()" onClick="logVariable('questionbank')" href="../../_variables/questionbank.html">$questionbank</a>-&gt;<a class="function" onClick="logFunction('process_actions')" href="../../_functions/process_actions.html" onMouseOver="funcPopup(event,'process_actions')">process_actions</a>(<a class="var it5764" onMouseOver="hilite(5764)" onMouseOut="lolite()" onClick="logVariable('thispageurl')" href="../../_variables/thispageurl.html">$thispageurl</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>);
<a name="l176"><span class="linenum"> 176</span></a>  
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment">// End of process commands =====================================================.</span>
<a name="l178"><span class="linenum"> 178</span></a>  
<a name="l179"><span class="linenum"> 179</span></a>  <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_pagelayout')" href="../../_functions/set_pagelayout.html" onMouseOver="funcPopup(event,'set_pagelayout')">set_pagelayout</a>('incourse');
<a name="l180"><span class="linenum"> 180</span></a>  <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_pagetype')" href="../../_functions/set_pagetype.html" onMouseOver="funcPopup(event,'set_pagetype')">set_pagetype</a>('mod-quiz-edit');
<a name="l181"><span class="linenum"> 181</span></a>  
<a name="l182"><span class="linenum"> 182</span></a>  <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>('mod_quiz', 'edit');
<a name="l183"><span class="linenum"> 183</span></a>  
<a name="l184"><span class="linenum"> 184</span></a>  <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_title')" href="../../_functions/set_title.html" onMouseOver="funcPopup(event,'set_title')">set_title</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('editingquizx', 'quiz', <a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('name')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>)));
<a name="l185"><span class="linenum"> 185</span></a>  <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_heading')" href="../../_functions/set_heading.html" onMouseOver="funcPopup(event,'set_heading')">set_heading</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/fullname.html">fullname</a>);
<a name="l186"><span class="linenum"> 186</span></a>  <a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../_variables/node.html">$node</a> = <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('settingsnav')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../../_variables/settingsnav.html">settingsnav</a>-&gt;<a class="function" onClick="logFunction('find')" href="../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>('mod_quiz_edit', <a class="class" onClick="logClass('navigation_node')" href="../../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_SETTING);
<a name="l187"><span class="linenum"> 187</span></a>  if (<a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../_variables/node.html">$node</a>) {
<a name="l188"><span class="linenum"> 188</span></a>      <a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../_variables/node.html">$node</a>-&gt;<a class="function" onClick="logFunction('make_active')" href="../../_functions/make_active.html" onMouseOver="funcPopup(event,'make_active')">make_active</a>();
<a name="l189"><span class="linenum"> 189</span></a>  }
<a name="l190"><span class="linenum"> 190</span></a>  echo <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="phpfunction" onClick="logFunction('header')" href="../../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>();
<a name="l191"><span class="linenum"> 191</span></a>  
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment">// Initialise the JavaScript.</span>
<a name="l193"><span class="linenum"> 193</span></a>  <a class="var it35690" onMouseOver="hilite(35690)" onMouseOut="lolite()" onClick="logVariable('quizeditconfig')" href="../../_variables/quizeditconfig.html">$quizeditconfig</a> = new stdClass();
<a name="l194"><span class="linenum"> 194</span></a>  <a class="var it35690" onMouseOver="hilite(35690)" onMouseOut="lolite()" onClick="logVariable('quizeditconfig')" href="../../_variables/quizeditconfig.html">$quizeditconfig</a>-&gt;<a onClick="logVariable('url')" class="var it45185" onMouseOver="hilite(45185)" onMouseOut="lolite()" href="../../_variables/url.html">url</a> = <a class="var it5764" onMouseOver="hilite(5764)" onMouseOut="lolite()" onClick="logVariable('thispageurl')" href="../../_variables/thispageurl.html">$thispageurl</a>-&gt;<a class="function" onClick="logFunction('out')" href="../../_functions/out.html" onMouseOver="funcPopup(event,'out')">out</a>(true, array('qbanktool' =&gt; '0'));
<a name="l195"><span class="linenum"> 195</span></a>  <a class="var it35690" onMouseOver="hilite(35690)" onMouseOut="lolite()" onClick="logVariable('quizeditconfig')" href="../../_variables/quizeditconfig.html">$quizeditconfig</a>-&gt;<a onClick="logVariable('dialoglisteners')" class="var it45185" onMouseOver="hilite(45185)" onMouseOut="lolite()" href="../../_variables/dialoglisteners.html">dialoglisteners</a> = array();
<a name="l196"><span class="linenum"> 196</span></a>  <a class="var it35692" onMouseOver="hilite(35692)" onMouseOut="lolite()" onClick="logVariable('numberoflisteners')" href="../../_variables/numberoflisteners.html">$numberoflisteners</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field_sql')" href="../../_functions/get_field_sql.html" onMouseOver="funcPopup(event,'get_field_sql')">get_field_sql</a>(&quot;
<a name="l197"><span class="linenum"> 197</span></a>      SELECT COALESCE(<a class="phpfunction" onClick="logFunction('MAX')" href="../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">MAX</a>(page), 1)
<a name="l198"><span class="linenum"> 198</span></a>        FROM {quiz_slots}
<a name="l199"><span class="linenum"> 199</span></a>       WHERE quizid = ?&quot;, array(<a class="var it538" onMouseOver="hilite(538)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it43017" onMouseOver="hilite(43017)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l200"><span class="linenum"> 200</span></a>  
<a name="l201"><span class="linenum"> 201</span></a>  for (<a class="var it35693" onMouseOver="hilite(35693)" onMouseOut="lolite()" onClick="logVariable('pageiter')" href="../../_variables/pageiter.html">$pageiter</a> = 1; <a class="var it35693" onMouseOver="hilite(35693)" onMouseOut="lolite()" onClick="logVariable('pageiter')" href="../../_variables/pageiter.html">$pageiter</a> &lt;= <a class="var it35692" onMouseOver="hilite(35692)" onMouseOut="lolite()" onClick="logVariable('numberoflisteners')" href="../../_variables/numberoflisteners.html">$numberoflisteners</a>; <a class="var it35693" onMouseOver="hilite(35693)" onMouseOut="lolite()" onClick="logVariable('pageiter')" href="../../_variables/pageiter.html">$pageiter</a>++) {
<a name="l202"><span class="linenum"> 202</span></a>      <a class="var it35690" onMouseOver="hilite(35690)" onMouseOut="lolite()" onClick="logVariable('quizeditconfig')" href="../../_variables/quizeditconfig.html">$quizeditconfig</a>-&gt;<a onClick="logVariable('dialoglisteners')" class="var it45185" onMouseOver="hilite(45185)" onMouseOut="lolite()" href="../../_variables/dialoglisteners.html">dialoglisteners</a>[] = 'addrandomdialoglaunch_' . <a class="var it35693" onMouseOver="hilite(35693)" onMouseOut="lolite()" onClick="logVariable('pageiter')" href="../../_variables/pageiter.html">$pageiter</a>;
<a name="l203"><span class="linenum"> 203</span></a>  }
<a name="l204"><span class="linenum"> 204</span></a>  
<a name="l205"><span class="linenum"> 205</span></a>  <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('requires')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../../_variables/requires.html">requires</a>-&gt;<a class="function" onClick="logFunction('data_for_js')" href="../../_functions/data_for_js.html" onMouseOver="funcPopup(event,'data_for_js')">data_for_js</a>('quiz_edit_config', <a class="var it35690" onMouseOver="hilite(35690)" onMouseOut="lolite()" onClick="logVariable('quizeditconfig')" href="../../_variables/quizeditconfig.html">$quizeditconfig</a>);
<a name="l206"><span class="linenum"> 206</span></a>  <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('requires')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../../_variables/requires.html">requires</a>-&gt;<a class="function" onClick="logFunction('js')" href="../../_functions/js.html" onMouseOver="funcPopup(event,'js')">js</a>('<a class="filename" href="../../question/qengine.js.html">/question/qengine.js</a>');
<a name="l207"><span class="linenum"> 207</span></a>  
<a name="l208"><span class="linenum"> 208</span></a>  <span class="comment">// Questions wrapper start.</span>
<a name="l209"><span class="linenum"> 209</span></a>  echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('div', array('class' =&gt; 'mod-quiz-edit-content'));
<a name="l210"><span class="linenum"> 210</span></a>  
<a name="l211"><span class="linenum"> 211</span></a>  echo <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>-&gt;<a class="function" onClick="logFunction('edit_page')" href="../../_functions/edit_page.html" onMouseOver="funcPopup(event,'edit_page')">edit_page</a>(<a class="var it745" onMouseOver="hilite(745)" onMouseOut="lolite()" onClick="logVariable('quizobj')" href="../../_variables/quizobj.html">$quizobj</a>, <a class="var it273" onMouseOver="hilite(273)" onMouseOut="lolite()" onClick="logVariable('structure')" href="../../_variables/structure.html">$structure</a>, <a class="var it2537" onMouseOver="hilite(2537)" onMouseOut="lolite()" onClick="logVariable('contexts')" href="../../_variables/contexts.html">$contexts</a>, <a class="var it5764" onMouseOver="hilite(5764)" onMouseOut="lolite()" onClick="logVariable('thispageurl')" href="../../_variables/thispageurl.html">$thispageurl</a>, <a class="var it5765" onMouseOver="hilite(5765)" onMouseOut="lolite()" onClick="logVariable('pagevars')" href="../../_variables/pagevars.html">$pagevars</a>);
<a name="l212"><span class="linenum"> 212</span></a>  
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment">// Questions wrapper end.</span>
<a name="l214"><span class="linenum"> 214</span></a>  echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('div');
<a name="l215"><span class="linenum"> 215</span></a>  
<a name="l216"><span class="linenum"> 216</span></a>  echo <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('footer')" href="../../_functions/footer.html" onMouseOver="funcPopup(event,'footer')">footer</a>();
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'q': ['q', '', [['lib/adodb','adodb.inc.php',841]], 126],
'set_title': ['set_title', 'Sets the title for the node ', [['lib','outputcomponents.php',2820],['backup/cc/cc_lib','cc_weblink.php',41],['backup/cc/cc_lib','cc_basiclti.php',57],['lib','pagelib.php',1157],['blocks/rss_client/classes/output','channel_image.php',110],['blocks/rss_client/classes/output','item.php',182],['backup/cc/cc_lib','cc_asssesment.php',595],['backup/cc/cc_lib','cc_asssesment.php',843],['backup/cc/cc_lib','cc_asssesment.php',1060],['backup/cc/cc_lib','cc_asssesment.php',1829],['backup/cc/cc_lib','cc_page.php',38],['lib/classes','chart_base.php',222],['blocks/rss_client/classes/output','feed.php',113],['backup/cc/cc_lib','cc_metadata.php',225],['mod/wiki','pagelib.php',215],['backup/cc/cc_lib','cc_forum.php',39]], 460],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'set_url': ['set_url', 'Convenience method handling moodle_urls. ', [['competency/classes','evidence.php',151],['lib','outputcomponents.php',2828],['backup/cc/cc_lib','cc_weblink.php',50],['lib','pagelib.php',1227],['blocks/rss_client/classes/output','channel_image.php',89],['backup/util/ui','restore_ui_components.php',141],['mod/wiki','pagelib.php',245],['mod/wiki','pagelib.php',333],['mod/wiki','pagelib.php',425],['mod/wiki','pagelib.php',696],['mod/wiki','pagelib.php',721],['mod/wiki','pagelib.php',835],['mod/wiki','pagelib.php',879],['mod/wiki','pagelib.php',1008],['mod/wiki','pagelib.php',1112],['mod/wiki','pagelib.php',1219],['mod/wiki','pagelib.php',1462],['mod/wiki','pagelib.php',1864],['mod/wiki','pagelib.php',1932],['mod/wiki','pagelib.php',2104],['mod/wiki','pagelib.php',2165],['mod/wiki','pagelib.php',2221],['mod/wiki','pagelib.php',2286],['mod/wiki','pagelib.php',2334],['mod/wiki','pagelib.php',2382],['mod/wiki','pagelib.php',2486]], 596],
'set_pagetype': ['set_pagetype', 'Sets the pagetype to use for this page. ', [['lib','pagelib.php',1071]], 34],
'format_string': ['format_string', 'Given a simple string, this function returns the string processed by enabled string filters if $CFG->filterall is enabled ', [['lib','weblib.php',1379]], 880],
'quiz_add_random_questions': ['quiz_add_random_questions', 'Add a random question to the quiz at a given point. ', [['mod/quiz','locallib.php',2085]], 7],
'required_param': ['required_param', 'Returns a particular value for the named variable, taken from POST or GET.  If the parameter doesn\'t exist then an error is thrown because we require this variable. ', [['lib','moodlelib.php',525]], 815],
'trigger': ['trigger', '', [['lib/evalmath','evalmath.class.php',448],['lib/classes/event','base.php',765]], 964],
'optional_param': ['optional_param', 'Returns a particular value for the named variable, taken from POST or GET, otherwise returning a given default. ', [['lib','moodlelib.php',609]], 2210],
'question_edit_setup': ['question_edit_setup', 'Common setup for all pages for editing questions. ', [['question','editlib.php',258]], 9],
'set_pagelayout': ['set_pagelayout', 'Sets the layout to use for this page. ', [['lib','pagelib.php',1086]], 293],
'lowest': ['lowest', '', [['lib','questionlib.php',1523]], 9],
'out': ['out', 'Returns the selector for use in a CSS rule ', [['lib','csslib.php',1540],['lib','csslib.php',1698],['lib','csslib.php',2078],['lib','csslib.php',2162],['lib','csslib.php',2306],['lib','csslib.php',2495],['lib','csslib.php',3240],['mod/feedback/classes','responses_table.php',332],['lib','moodlelib.php',9729],['lib','weblib.php',545],['lib','tablelib.php',1594],['report/loglive/classes','table_log_ajax.php',37]], 626],
'create': ['create', 'Auto-scan an incoming line to determine the response type. ', [['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',65],['lib/google/src/Google/Service','Partners.php',492],['lib/simplepie/library/SimplePie','Cache.php',95],['lib/google/src/Google/Service','YouTubeReporting.php',237],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',81],['lib/google/src/Google/Service','MapsEngine.php',1677],['lib/google/src/Google/Service','MapsEngine.php',1977],['lib/google/src/Google/Service','MapsEngine.php',2253],['lib/google/src/Google/Service','MapsEngine.php',2330],['lib/google/src/Google/Service','MapsEngine.php',2898],['lib/spout/src/Spout/Writer','WriterFactory.php',18],['lib/google/src/Google/Service','Dns.php',290],['lib/google/src/Google/Service','Dns.php',363],['lib/google/src/Google/Service','Appengine.php',438],['tag/classes','collection.php',188],['lib/adodb','adodb-xmlschema.inc.php',152],['lib/adodb','adodb-xmlschema.inc.php',473],['lib/adodb','adodb-xmlschema.inc.php',738],['lib/adodb','adodb-xmlschema.inc.php',884],['lib/adodb','adodb-xmlschema.inc.php',1129],['mod/quiz','attemptlib.php',100],['mod/quiz','attemptlib.php',596],['lib','weblib.php',3206],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',58],['lib/google/src/Google/Service','Dataflow.php',273],['lib/simplepie/library/SimplePie','Registry.php',153],['competency/classes','persistent.php',387],['lib/google/src/Google/Service','Cloudresourcemanager.php',373],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',270],['lib/google/src/Google/Service','TagManager.php',1007],['lib/google/src/Google/Service','TagManager.php',1097],['lib/google/src/Google/Service','TagManager.php',1249],['lib/google/src/Google/Service','TagManager.php',1342],['lib/google/src/Google/Service','TagManager.php',1436],['lib/google/src/Google/Service','TagManager.php',1530],['lib/google/src/Google/Service','TagManager.php',1681],['mod/lesson','locallib.php',1011],['mod/lesson','locallib.php',2163],['mod/lesson','locallib.php',3212],['lib','modinfolib.php',1732],['repository','lib.php',206],['repository','lib.php',1910],['lib','navigationlib.php',268],['lib/htmlpurifier/HTMLPurifier','Config.php',114],['lib/google/src/Google/Service','Container.php',284],['lib/google/src/Google/Service','Genomics.php',632],['lib/google/src/Google/Service','Genomics.php',721],['lib/google/src/Google/Service','Genomics.php',1312],['lib/google/src/Google/Service','Genomics.php',1427],['lib/google/src/Google/Service','Games.php',1649],['lib/google/src/Google/Service','Games.php',2013],['lib/google/src/Google/Service','Fitness.php',377],['lib/google/src/Google/Service','Gmail.php',747],['lib/google/src/Google/Service','Gmail.php',905],['mod/quiz/classes','structure.php',65],['lib/htmlpurifier/HTMLPurifier','ElementDef.php',135],['lib/adodb','adodb-xmlschema03.inc.php',170],['lib/adodb','adodb-xmlschema03.inc.php',514],['lib/adodb','adodb-xmlschema03.inc.php',779],['lib/adodb','adodb-xmlschema03.inc.php',930],['lib/adodb','adodb-xmlschema03.inc.php',1228],['lib/google/src/Google/Service','Proximitybeacon.php',500],['tag/classes','area.php',205],['course','lib.php',3003],['question/type/ddmarker','shapes.php',170],['lib/classes/event','base.php',149],['lib','coursecatlib.php',325],['repository/filesystem','lib.php',498],['lib/google/src/Google/Service','Storagetransfer.php',281],['calendar','lib.php',2686],['lib/htmlpurifier/HTMLPurifier','Lexer.php',53],['lib/google/src/Google/Service','Classroom.php',445],['lib/google/src/Google/Service','Classroom.php',596],['lib/google/src/Google/Service','Classroom.php',673],['lib/google/src/Google/Service','Classroom.php',783],['lib/google/src/Google/Service','Classroom.php',912],['lib/spout/src/Spout/Reader','ReaderFactory.php',18],['lib/google/src/Google/Service','Pubsub.php',220],['lib/google/src/Google/Service','Pubsub.php',365],['lib/google/src/Google/Service','CloudMonitoring.php',258]], 3276],
'find': ['find', '', [['lib/adodb','adodb-active-record.inc.php',917],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',17964],['lib','outputcomponents.php',3070],['lib','navigationlib.php',369],['lib','navigationlib.php',860],['lib','navigationlib.php',2726],['lib/behat','behat_base.php',92],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/tabfocus','editor_plugin_src.js',24],['lib/mustache/src/Mustache','Context.php',82],['lib/adodb','adodb-active-recordx.inc.php',1032],['lib/lessphp/Tree','Ruleset.php',317],['lib/lessphp/Tree','Directive.php',85],['lib/lessphp/Tree','Media.php',79],['lib/simplepie/library/SimplePie','Locator.php',94]], 715],
'question_make_default_categories': ['question_make_default_categories', 'Gets the default category in the most specific context. If no categories exist yet then default ones are created in all contexts. ', [['lib','questionlib.php',1005]], 6],
'set_quiz_has_attempts': ['set_quiz_has_attempts', 'Let the question bank display know whether the quiz has been attempted, hence whether some bits of UI, like the add this question to the quiz icon, should be displayed. ', [['mod/quiz/classes/question/bank','custom_view.php',108]], 2],
's': ['s', 'Count of attempts selected by $this->whichattempts ', [['mod/quiz/report/statistics/classes','calculated.php',91],['lib','weblib.php',84]], 1072],
'quiz_update_all_final_grades': ['quiz_update_all_final_grades', 'Update the final grade at this quiz for all students. ', [['mod/quiz','locallib.php',821]], 5],
'quiz_update_sumgrades': ['quiz_update_sumgrades', 'Update the sumgrades field of the quiz. This needs to be called whenever the grading structure of the quiz is changed. For example if a question is added or removed, or a question weight is changed. ', [['mod/quiz','locallib.php',615]], 7],
'quiz_has_attempts': ['quiz_has_attempts', '', [['mod/quiz','locallib.php',474]], 6],
'start_tag': ['start_tag', 'Outputs an opening tag with attributes ', [['lib','outputcomponents.php',1085],['backup/util/xml/parser','progressive_parser.class.php',215]], 701],
'end_tag': ['end_tag', 'Outputs a closing tag ', [['lib','outputcomponents.php',1096],['backup/util/xml/parser','progressive_parser.class.php',261],['backup/util/xml','xml_writer.class.php',177]], 867],
'confirm_sesskey': ['confirm_sesskey', 'Check the sesskey and return true of false for whether it is valid. (You might like to imagine this function is called sesskey_is_valid().) ', [['lib','sessionlib.php',52]], 306],
'unformat_float': ['unformat_float', 'Converts locale specific floating point/comma number back to standard PHP float value Do NOT try to do any math operations before this conversion on any user submitted floats! ', [['lib','moodlelib.php',8093]], 62],
'js': ['js', 'Minify JS code. ', [['lib/classes','minify.php',31],['lib','outputrequirementslib.php',407],['grade/report/singleview/classes/local/screen','screen.php',245]], 68],
'quiz_require_question_use': ['quiz_require_question_use', 'Verify that the question exists, and the user has permission to use it. Does not return. Throws an exception if the question cannot be used. ', [['mod/quiz','locallib.php',1970]], 2],
'require_capability': ['require_capability', 'Wrapper round the require_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',929],['lib','accesslib.php',762],['backup/util/ui','restore_ui_components.php',157]], 690],
'all': ['all', '', [['lib','questionlib.php',1516]], 1415],
'quiz_repaginate_questions': ['quiz_repaginate_questions', 'Repaginate the questions in a quiz ', [['mod/quiz','locallib.php',481]], 3],
'get_field_sql': ['get_field_sql', 'Get a single field value (first field) using a SQL statement. ', [['lib/dml','moodle_database.php',1588]], 138],
'redirect': ['redirect', '', [['enrol/lti/ims-blti','blti.php',230],['lib','weblib.php',2659]], 999],
'data_submitted': ['data_submitted', 'Determine if there is data waiting to be processed from a form ', [['lib','weblib.php',947]], 69],
'make_active': ['make_active', 'Marks this node as active and forces it open. ', [['lib','navigationlib.php',416],['grade/grading/form','lib.php',872]], 42],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'get_renderer': ['get_renderer', 'Returns instance of page renderer used by this plugin ', [['course/format','lib.php',905],['question/type/multichoice','question.php',156],['question/type/multichoice','question.php',278],['question/behaviour','behaviourbase.php',135],['question/type','questionbase.php',275],['lib','pagelib.php',802],['lib','outputlib.php',1828],['lib','outputfactories.php',70],['lib','outputfactories.php',292],['lib','outputfactories.php',377],['mod/assign','locallib.php',2987],['grade/grading/form/rubric','lib.php',486],['lib/tests/fixtures','test_renderer_factory.php',49],['grade/grading/form/guide','lib.php',492]], 452],
'add_section_heading': ['add_section_heading', 'Add a section heading on a given page and return the sectionid ', [['mod/quiz/classes','structure.php',992]], 2],
'check_can_be_edited': ['check_can_be_edited', 'This quiz can only be edited if they have not been attempted. Throw an exception if this is not the case. ', [['mod/quiz/classes','structure.php',280]], 9],
'param': ['param', '', [['lib/adodb/drivers','adodb-postgres64.inc.php',609],['lib','weblib.php',453],['lib/adodb/drivers','adodb-oci8po.inc.php',39],['lib/adodb','adodb.inc.php',934],['lib/adodb/drivers','adodb-oci8.inc.php',1179],['lib/adodb/drivers','adodb-db2oci.inc.php',163]], 640],
'set_heading': ['set_heading', 'Sets the heading to use for the page. This is normally used as the main heading at the top of the content. ', [['lib','pagelib.php',1170]], 426],
'quiz_set_grade': ['quiz_set_grade', 'The quiz grade is the maximum that student\'s results are marked out of. When it changes, the corresponding data in quiz_grades and quiz_feedback needs to be rescaled. After calling this function, you probably need to call quiz_update_all_attempt_sumgrades, quiz_update_all_final_grades and quiz_update_grades. ', [['mod/quiz','locallib.php',666]], 2],
'quiz_add_quiz_question': ['quiz_add_quiz_question', 'Add a question to a quiz ', [['mod/quiz','locallib.php',2000]], 39],
'quiz_update_grades': ['quiz_update_grades', 'Update grades in central gradebook ', [['mod/quiz','lib.php',673]], 7],
'get_structure': ['get_structure', 'Get an instance of the {@link \mod_quiz\structure} class for this quiz. ', [['mod/quiz','attemptlib.php',165]], 3],
'edit_page': ['edit_page', 'Edit a page contents. ', [['mod/wiki/classes','external.php',1069],['mod/quiz/classes/output','edit_renderer.php',40]], 5],
'process_actions': ['process_actions', 'process any actions. ', [['lib','listlib.php',390],['mod/quiz/report','attemptsreport.php',276],['mod/quiz/report/overview','report.php',259],['question/classes/bank','view.php',819]], 6],
'footer': ['footer', 'This method is used to render the page footer. It is automatically called by AddPage() and could be overwritten in your own inherited class. ', [['lib/tcpdf','tcpdf.php',3464],['lib','outputrenderers.php',1034],['lib','outputrenderers.php',4427],['lib','outputrenderers.php',4546],['mod/lesson','renderer.php',78]], 810],
'quiz_delete_previews': ['quiz_delete_previews', 'Delete all the preview attempts at a quiz, or possibly all the attempts belonging to one user. ', [['mod/quiz','locallib.php',452]], 11],
'data_for_js': ['data_for_js', '!!!!!!DEPRECATED!!!!!! please use js_init_call() for everything now. ', [['lib','outputrequirementslib.php',1218]], 7],
'preg_match': ['preg_match', '', [], 1286],
'header': ['header', '', [], 1355],
'max': ['max', '', [], 1266]};
CLASS_DATA={
'quiz': ['quiz', '', [['mod/quiz/classes/plugininfo','quiz.php',31],['mod/quiz','attemptlib.php',50]], 54],
'html_writer': ['html_writer', 'Simple html output class ', [['lib','outputcomponents.php',1062]], 5120],
'edit_page_viewed': ['edit_page_viewed', 'The mod_quiz edit page viewed event class. ', [['mod/quiz/classes/event','edit_page_viewed.php',29]], 2],
'navigation_node': ['navigation_node', 'This class is used to represent a node in a navigation tree ', [['lib','navigationlib.php',34]], 348],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',238]], 3088]};
CONST_DATA={
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 921],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1384],
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 802],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 3812]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
