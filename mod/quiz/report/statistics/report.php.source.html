<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/quiz/report/statistics/report.php source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='mod/quiz/report/statistics';
filename='report.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/quiz/report/statistics/</a> -> <a href="report.php.html">report.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="report.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="report.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Quiz statistics report class.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package   quiz_statistics</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright 2014 Open University</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @author    James Pratt &lt;me@jamiep.org&gt;</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../../../mod/quiz/report/statistics/statistics_form.php.html">/mod/quiz/report/statistics/statistics_form.php</a>');
<a name="l29"><span class="linenum">  29</span></a>  require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../../../mod/quiz/report/statistics/statistics_table.php.html">/mod/quiz/report/statistics/statistics_table.php</a>');
<a name="l30"><span class="linenum">  30</span></a>  require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../../../mod/quiz/report/statistics/statistics_question_table.php.html">/mod/quiz/report/statistics/statistics_question_table.php</a>');
<a name="l31"><span class="linenum">  31</span></a>  require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../../../mod/quiz/report/statistics/statisticslib.php.html">/mod/quiz/report/statistics/statisticslib.php</a>');
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">/**</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * The quiz statistics report provides summary information about each question in</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * a quiz, compared to the whole quiz. It also provides a drill-down to more</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * detailed information about each question.</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> *</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * @copyright 2008 Jamie Pratt</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> */</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('quiz_statistics_report')" href="../../../../_classes/quiz_statistics_report.html" onMouseOver="classPopup(event,'quiz_statistics_report')">quiz_statistics_report</a> extends quiz_default_report {
<a name="l41"><span class="linenum">  41</span></a>  
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">    /** @var context_module context of this quiz.*/</span>
<a name="l43"><span class="linenum">  43</span></a>      protected <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../../_variables/context.html">$context</a>;
<a name="l44"><span class="linenum">  44</span></a>  
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">    /** @var quiz_statistics_table instance of table class used for main questions stats table. */</span>
<a name="l46"><span class="linenum">  46</span></a>      protected <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('table')" href="../../../../_variables/table.html">$table</a>;
<a name="l47"><span class="linenum">  47</span></a>  
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">    /** @var \core\progress\base|null $progress Handles progress reporting or not. */</span>
<a name="l49"><span class="linenum">  49</span></a>      protected <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a> = null;
<a name="l50"><span class="linenum">  50</span></a>  
<a name="l51"><span class="linenum">  51</span></a>      <span class="comment">/**</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment">     * Display the report.</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">     */</span>
<a name="l54"><span class="linenum">  54</span></a>      public function <a class="function" onClick="logFunction('display')" href="../../../../_functions/display.html" onMouseOver="funcPopup(event,'display')">display</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../../_variables/cm.html">$cm</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../../_variables/course.html">$course</a>) {
<a name="l55"><span class="linenum">  55</span></a>          global <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l56"><span class="linenum">  56</span></a>  
<a name="l57"><span class="linenum">  57</span></a>          <a class="function" onClick="logFunction('raise_memory_limit')" href="../../../../_functions/raise_memory_limit.html" onMouseOver="funcPopup(event,'raise_memory_limit')">raise_memory_limit</a>(<a class="constant" onClick="logConstant('MEMORY_HUGE')" href="../../../../_constants/MEMORY_HUGE.html" onMouseOver="constPopup(event,'MEMORY_HUGE')">MEMORY_HUGE</a>);
<a name="l58"><span class="linenum">  58</span></a>  
<a name="l59"><span class="linenum">  59</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/context.html">context</a> = <a class="class" onClick="logClass('context_module')" href="../../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>);
<a name="l60"><span class="linenum">  60</span></a>  
<a name="l61"><span class="linenum">  61</span></a>          if (!<a class="function" onClick="logFunction('quiz_has_questions')" href="../../../../_functions/quiz_has_questions.html" onMouseOver="funcPopup(event,'quiz_has_questions')">quiz_has_questions</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it39928" onMouseOver="hilite(39928)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>)) {
<a name="l62"><span class="linenum">  62</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('print_header_and_tabs')" href="../../../../_functions/print_header_and_tabs.html" onMouseOver="funcPopup(event,'print_header_and_tabs')">print_header_and_tabs</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../../_variables/cm.html">$cm</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../../_variables/course.html">$course</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>, 'statistics');
<a name="l63"><span class="linenum">  63</span></a>              echo <a class="function" onClick="logFunction('quiz_no_questions_message')" href="../../../../_functions/quiz_no_questions_message.html" onMouseOver="funcPopup(event,'quiz_no_questions_message')">quiz_no_questions_message</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../../_variables/cm.html">$cm</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/context.html">context</a>);
<a name="l64"><span class="linenum">  64</span></a>              return true;
<a name="l65"><span class="linenum">  65</span></a>          }
<a name="l66"><span class="linenum">  66</span></a>  
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">        // Work out the display options.</span>
<a name="l68"><span class="linenum">  68</span></a>          <a class="var it8780" onMouseOver="hilite(8780)" onMouseOut="lolite()" onClick="logVariable('download')" href="../../../../_variables/download.html">$download</a> = <a class="function" onClick="logFunction('optional_param')" href="../../../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('download', '', <a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../../../../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>);
<a name="l69"><span class="linenum">  69</span></a>          <a class="var it16258" onMouseOver="hilite(16258)" onMouseOut="lolite()" onClick="logVariable('everything')" href="../../../../_variables/everything.html">$everything</a> = <a class="function" onClick="logFunction('optional_param')" href="../../../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('everything', 0, <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>);
<a name="l70"><span class="linenum">  70</span></a>          <a class="var it16259" onMouseOver="hilite(16259)" onMouseOut="lolite()" onClick="logVariable('recalculate')" href="../../../../_variables/recalculate.html">$recalculate</a> = <a class="function" onClick="logFunction('optional_param')" href="../../../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('recalculate', 0, <a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>);
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">        // A qid paramter indicates we should display the detailed analysis of a sub question.</span>
<a name="l72"><span class="linenum">  72</span></a>          <a class="var it10190" onMouseOver="hilite(10190)" onMouseOut="lolite()" onClick="logVariable('qid')" href="../../../../_variables/qid.html">$qid</a> = <a class="function" onClick="logFunction('optional_param')" href="../../../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('qid', 0, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l73"><span class="linenum">  73</span></a>          <a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a> = <a class="function" onClick="logFunction('optional_param')" href="../../../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('slot', 0, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l74"><span class="linenum">  74</span></a>          <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a> = <a class="function" onClick="logFunction('optional_param')" href="../../../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('variant', null, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l75"><span class="linenum">  75</span></a>          <a class="var it16260" onMouseOver="hilite(16260)" onMouseOut="lolite()" onClick="logVariable('whichattempts')" href="../../../../_variables/whichattempts.html">$whichattempts</a> = <a class="function" onClick="logFunction('optional_param')" href="../../../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('whichattempts', <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('grademethod')" class="var it39928" onMouseOver="hilite(39928)" onMouseOut="lolite()" href="../../../../_variables/grademethod.html">grademethod</a>, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l76"><span class="linenum">  76</span></a>          <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a> = <a class="function" onClick="logFunction('optional_param')" href="../../../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('whichtries', <a class="class" onClick="logClass('question_attempt')" href="../../../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a>::LAST_TRY, <a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../../../../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>);
<a name="l77"><span class="linenum">  77</span></a>  
<a name="l78"><span class="linenum">  78</span></a>          <a class="var it16261" onMouseOver="hilite(16261)" onMouseOut="lolite()" onClick="logVariable('pageoptions')" href="../../../../_variables/pageoptions.html">$pageoptions</a> = array();
<a name="l79"><span class="linenum">  79</span></a>          <a class="var it16261" onMouseOver="hilite(16261)" onMouseOut="lolite()" onClick="logVariable('pageoptions')" href="../../../../_variables/pageoptions.html">$pageoptions</a>['id'] = <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>;
<a name="l80"><span class="linenum">  80</span></a>          <a class="var it16261" onMouseOver="hilite(16261)" onMouseOut="lolite()" onClick="logVariable('pageoptions')" href="../../../../_variables/pageoptions.html">$pageoptions</a>['mode'] = 'statistics';
<a name="l81"><span class="linenum">  81</span></a>  
<a name="l82"><span class="linenum">  82</span></a>          <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../../../mod/quiz/report.php.html">/mod/quiz/report.php</a>', <a class="var it16261" onMouseOver="hilite(16261)" onMouseOut="lolite()" onClick="logVariable('pageoptions')" href="../../../../_variables/pageoptions.html">$pageoptions</a>);
<a name="l83"><span class="linenum">  83</span></a>  
<a name="l84"><span class="linenum">  84</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../../../_variables/mform.html">$mform</a> = <span class="keyword">new </span><a class="class" onClick="logClass('quiz_statistics_settings_form')" href="../../../../_classes/quiz_statistics_settings_form.html" onMouseOver="classPopup(event,'quiz_statistics_settings_form')">quiz_statistics_settings_form</a>(<a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>, <a class="phpfunction" onClick="logFunction('compact')" href="../../../../_functions/compact.html" onMouseOver="phpfuncPopup(event,'compact')">compact</a>('quiz'));
<a name="l85"><span class="linenum">  85</span></a>  
<a name="l86"><span class="linenum">  86</span></a>          <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('set_data')" href="../../../../_functions/set_data.html" onMouseOver="funcPopup(event,'set_data')">set_data</a>(array('whichattempts' =&gt; <a class="var it16260" onMouseOver="hilite(16260)" onMouseOut="lolite()" onClick="logVariable('whichattempts')" href="../../../../_variables/whichattempts.html">$whichattempts</a>, 'whichtries' =&gt; <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>));
<a name="l87"><span class="linenum">  87</span></a>  
<a name="l88"><span class="linenum">  88</span></a>          if (<a class="var it16260" onMouseOver="hilite(16260)" onMouseOut="lolite()" onClick="logVariable('whichattempts')" href="../../../../_variables/whichattempts.html">$whichattempts</a> != <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('grademethod')" class="var it39928" onMouseOver="hilite(39928)" onMouseOut="lolite()" href="../../../../_variables/grademethod.html">grademethod</a>) {
<a name="l89"><span class="linenum">  89</span></a>              <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('whichattempts', <a class="var it16260" onMouseOver="hilite(16260)" onMouseOut="lolite()" onClick="logVariable('whichattempts')" href="../../../../_variables/whichattempts.html">$whichattempts</a>);
<a name="l90"><span class="linenum">  90</span></a>          }
<a name="l91"><span class="linenum">  91</span></a>  
<a name="l92"><span class="linenum">  92</span></a>          if (<a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a> != <a class="class" onClick="logClass('question_attempt')" href="../../../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a>::LAST_TRY) {
<a name="l93"><span class="linenum">  93</span></a>              <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('whichtries', <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>);
<a name="l94"><span class="linenum">  94</span></a>          }
<a name="l95"><span class="linenum">  95</span></a>  
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment">        // Find out current groups mode.</span>
<a name="l97"><span class="linenum">  97</span></a>          <a class="var it2906" onMouseOver="hilite(2906)" onMouseOut="lolite()" onClick="logVariable('currentgroup')" href="../../../../_variables/currentgroup.html">$currentgroup</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_current_group')" href="../../../../_functions/get_current_group.html" onMouseOver="funcPopup(event,'get_current_group')">get_current_group</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../../_variables/cm.html">$cm</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../../_variables/course.html">$course</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/context.html">context</a>);
<a name="l98"><span class="linenum">  98</span></a>          <a class="var it16262" onMouseOver="hilite(16262)" onMouseOut="lolite()" onClick="logVariable('nostudentsingroup')" href="../../../../_variables/nostudentsingroup.html">$nostudentsingroup</a> = false; <span class="comment">// True if a group is selected and there is no one in it.</span>
<a name="l99"><span class="linenum">  99</span></a>          if (empty(<a class="var it2906" onMouseOver="hilite(2906)" onMouseOut="lolite()" onClick="logVariable('currentgroup')" href="../../../../_variables/currentgroup.html">$currentgroup</a>)) {
<a name="l100"><span class="linenum"> 100</span></a>              <a class="var it2906" onMouseOver="hilite(2906)" onMouseOut="lolite()" onClick="logVariable('currentgroup')" href="../../../../_variables/currentgroup.html">$currentgroup</a> = 0;
<a name="l101"><span class="linenum"> 101</span></a>              <a class="var it8788" onMouseOver="hilite(8788)" onMouseOut="lolite()" onClick="logVariable('groupstudents')" href="../../../../_variables/groupstudents.html">$groupstudents</a> = array();
<a name="l102"><span class="linenum"> 102</span></a>  
<a name="l103"><span class="linenum"> 103</span></a>          } else if (<a class="var it2906" onMouseOver="hilite(2906)" onMouseOut="lolite()" onClick="logVariable('currentgroup')" href="../../../../_variables/currentgroup.html">$currentgroup</a> == self::NO_GROUPS_ALLOWED) {
<a name="l104"><span class="linenum"> 104</span></a>              <a class="var it8788" onMouseOver="hilite(8788)" onMouseOut="lolite()" onClick="logVariable('groupstudents')" href="../../../../_variables/groupstudents.html">$groupstudents</a> = array();
<a name="l105"><span class="linenum"> 105</span></a>              <a class="var it16262" onMouseOver="hilite(16262)" onMouseOut="lolite()" onClick="logVariable('nostudentsingroup')" href="../../../../_variables/nostudentsingroup.html">$nostudentsingroup</a> = true;
<a name="l106"><span class="linenum"> 106</span></a>  
<a name="l107"><span class="linenum"> 107</span></a>          } else {
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment">            // All users who can attempt quizzes and who are in the currently selected group.</span>
<a name="l109"><span class="linenum"> 109</span></a>              <a class="var it8788" onMouseOver="hilite(8788)" onMouseOut="lolite()" onClick="logVariable('groupstudents')" href="../../../../_variables/groupstudents.html">$groupstudents</a> = <a class="function" onClick="logFunction('get_users_by_capability')" href="../../../../_functions/get_users_by_capability.html" onMouseOver="funcPopup(event,'get_users_by_capability')">get_users_by_capability</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/context.html">context</a>,
<a name="l110"><span class="linenum"> 110</span></a>                      array('mod/quiz:reviewmyattempts', 'mod/quiz:attempt'),
<a name="l111"><span class="linenum"> 111</span></a>                      '', '', '', '', <a class="var it2906" onMouseOver="hilite(2906)" onMouseOut="lolite()" onClick="logVariable('currentgroup')" href="../../../../_variables/currentgroup.html">$currentgroup</a>, '', false);
<a name="l112"><span class="linenum"> 112</span></a>              if (!<a class="var it8788" onMouseOver="hilite(8788)" onMouseOut="lolite()" onClick="logVariable('groupstudents')" href="../../../../_variables/groupstudents.html">$groupstudents</a>) {
<a name="l113"><span class="linenum"> 113</span></a>                  <a class="var it16262" onMouseOver="hilite(16262)" onMouseOut="lolite()" onClick="logVariable('nostudentsingroup')" href="../../../../_variables/nostudentsingroup.html">$nostudentsingroup</a> = true;
<a name="l114"><span class="linenum"> 114</span></a>              }
<a name="l115"><span class="linenum"> 115</span></a>          }
<a name="l116"><span class="linenum"> 116</span></a>  
<a name="l117"><span class="linenum"> 117</span></a>          <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a> = <a class="function" onClick="logFunction('quiz_statistics_qubaids_condition')" href="../../../../_functions/quiz_statistics_qubaids_condition.html" onMouseOver="funcPopup(event,'quiz_statistics_qubaids_condition')">quiz_statistics_qubaids_condition</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it39928" onMouseOver="hilite(39928)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>, <a class="var it8788" onMouseOver="hilite(8788)" onMouseOut="lolite()" onClick="logVariable('groupstudents')" href="../../../../_variables/groupstudents.html">$groupstudents</a>, <a class="var it16260" onMouseOver="hilite(16260)" onMouseOut="lolite()" onClick="logVariable('whichattempts')" href="../../../../_variables/whichattempts.html">$whichattempts</a>);
<a name="l118"><span class="linenum"> 118</span></a>  
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment">        // If recalculate was requested, handle that.</span>
<a name="l120"><span class="linenum"> 120</span></a>          if (<a class="var it16259" onMouseOver="hilite(16259)" onMouseOut="lolite()" onClick="logVariable('recalculate')" href="../../../../_variables/recalculate.html">$recalculate</a> &amp;&amp; <a class="function" onClick="logFunction('confirm_sesskey')" href="../../../../_functions/confirm_sesskey.html" onMouseOver="funcPopup(event,'confirm_sesskey')">confirm_sesskey</a>()) {
<a name="l121"><span class="linenum"> 121</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('clear_cached_data')" href="../../../../_functions/clear_cached_data.html" onMouseOver="funcPopup(event,'clear_cached_data')">clear_cached_data</a>(<a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>);
<a name="l122"><span class="linenum"> 122</span></a>              <a class="function" onClick="logFunction('redirect')" href="../../../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>);
<a name="l123"><span class="linenum"> 123</span></a>          }
<a name="l124"><span class="linenum"> 124</span></a>  
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">        // Set up the main table.</span>
<a name="l126"><span class="linenum"> 126</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a> = <span class="keyword">new </span><a class="class" onClick="logClass('quiz_statistics_table')" href="../../../../_classes/quiz_statistics_table.html" onMouseOver="classPopup(event,'quiz_statistics_table')">quiz_statistics_table</a>();
<a name="l127"><span class="linenum"> 127</span></a>          if (<a class="var it16258" onMouseOver="hilite(16258)" onMouseOut="lolite()" onClick="logVariable('everything')" href="../../../../_variables/everything.html">$everything</a>) {
<a name="l128"><span class="linenum"> 128</span></a>              <a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../../../_variables/report.html">$report</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('completestatsfilename', 'quiz_statistics');
<a name="l129"><span class="linenum"> 129</span></a>          } else {
<a name="l130"><span class="linenum"> 130</span></a>              <a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../../../_variables/report.html">$report</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('questionstatsfilename', 'quiz_statistics');
<a name="l131"><span class="linenum"> 131</span></a>          }
<a name="l132"><span class="linenum"> 132</span></a>          <a class="var it4713" onMouseOver="hilite(4713)" onMouseOut="lolite()" onClick="logVariable('courseshortname')" href="../../../../_variables/courseshortname.html">$courseshortname</a> = <a class="function" onClick="logFunction('format_string')" href="../../../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('shortname')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../../../_variables/shortname.html">shortname</a>, true,
<a name="l133"><span class="linenum"> 133</span></a>                  array('context' =&gt; <a class="class" onClick="logClass('context_course')" href="../../../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>)));
<a name="l134"><span class="linenum"> 134</span></a>          <a class="var it93" onMouseOver="hilite(93)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../_variables/filename.html">$filename</a> = <a class="function" onClick="logFunction('quiz_report_download_filename')" href="../../../../_functions/quiz_report_download_filename.html" onMouseOver="funcPopup(event,'quiz_report_download_filename')">quiz_report_download_filename</a>(<a class="var it153" onMouseOver="hilite(153)" onMouseOut="lolite()" onClick="logVariable('report')" href="../../../../_variables/report.html">$report</a>, <a class="var it4713" onMouseOver="hilite(4713)" onMouseOut="lolite()" onClick="logVariable('courseshortname')" href="../../../../_variables/courseshortname.html">$courseshortname</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('name')" class="var it39928" onMouseOver="hilite(39928)" onMouseOut="lolite()" href="../../../../_variables/name.html">name</a>);
<a name="l135"><span class="linenum"> 135</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('is_downloading')" href="../../../../_functions/is_downloading.html" onMouseOver="funcPopup(event,'is_downloading')">is_downloading</a>(<a class="var it8780" onMouseOver="hilite(8780)" onMouseOut="lolite()" onClick="logVariable('download')" href="../../../../_variables/download.html">$download</a>, <a class="var it93" onMouseOver="hilite(93)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../../../_variables/filename.html">$filename</a>,
<a name="l136"><span class="linenum"> 136</span></a>                  <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('quizstructureanalysis', 'quiz_statistics'));
<a name="l137"><span class="linenum"> 137</span></a>          <a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('load_and_initialise_questions_for_calculations')" href="../../../../_functions/load_and_initialise_questions_for_calculations.html" onMouseOver="funcPopup(event,'load_and_initialise_questions_for_calculations')">load_and_initialise_questions_for_calculations</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>);
<a name="l138"><span class="linenum"> 138</span></a>  
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">        // Print the page header stuff (if not downloading.</span>
<a name="l140"><span class="linenum"> 140</span></a>          if (!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('is_downloading')" href="../../../../_functions/is_downloading.html" onMouseOver="funcPopup(event,'is_downloading')">is_downloading</a>()) {
<a name="l141"><span class="linenum"> 141</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('print_header_and_tabs')" href="../../../../_functions/print_header_and_tabs.html" onMouseOver="funcPopup(event,'print_header_and_tabs')">print_header_and_tabs</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../../_variables/cm.html">$cm</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../../_variables/course.html">$course</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>, 'statistics');
<a name="l142"><span class="linenum"> 142</span></a>          }
<a name="l143"><span class="linenum"> 143</span></a>  
<a name="l144"><span class="linenum"> 144</span></a>          if (!<a class="var it16262" onMouseOver="hilite(16262)" onMouseOut="lolite()" onClick="logVariable('nostudentsingroup')" href="../../../../_variables/nostudentsingroup.html">$nostudentsingroup</a>) {
<a name="l145"><span class="linenum"> 145</span></a>  <span class="comment">            // Get the data to be displayed.</span>
<a name="l146"><span class="linenum"> 146</span></a>              <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_progress_trace_instance')" href="../../../../_functions/get_progress_trace_instance.html" onMouseOver="funcPopup(event,'get_progress_trace_instance')">get_progress_trace_instance</a>();
<a name="l147"><span class="linenum"> 147</span></a>              <a class="function" onClick="logFunction('list')" href="../../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it16263" onMouseOver="hilite(16263)" onMouseOut="lolite()" onClick="logVariable('quizstats')" href="../../../../_variables/quizstats.html">$quizstats</a>, <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>) =
<a name="l148"><span class="linenum"> 148</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_all_stats_and_analysis')" href="../../../../_functions/get_all_stats_and_analysis.html" onMouseOver="funcPopup(event,'get_all_stats_and_analysis')">get_all_stats_and_analysis</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>, <a class="var it16260" onMouseOver="hilite(16260)" onMouseOut="lolite()" onClick="logVariable('whichattempts')" href="../../../../_variables/whichattempts.html">$whichattempts</a>, <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>, <a class="var it8788" onMouseOver="hilite(8788)" onMouseOut="lolite()" onClick="logVariable('groupstudents')" href="../../../../_variables/groupstudents.html">$groupstudents</a>, <a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a>, <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>);
<a name="l149"><span class="linenum"> 149</span></a>          } else {
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">            // Or create empty stats containers.</span>
<a name="l151"><span class="linenum"> 151</span></a>              <a class="var it16263" onMouseOver="hilite(16263)" onMouseOut="lolite()" onClick="logVariable('quizstats')" href="../../../../_variables/quizstats.html">$quizstats</a> = new \quiz_statistics\calculated(<a class="var it16260" onMouseOver="hilite(16260)" onMouseOut="lolite()" onClick="logVariable('whichattempts')" href="../../../../_variables/whichattempts.html">$whichattempts</a>);
<a name="l152"><span class="linenum"> 152</span></a>              <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a> = new \core_question\statistics\questions\all_calculated_for_qubaid_condition();
<a name="l153"><span class="linenum"> 153</span></a>          }
<a name="l154"><span class="linenum"> 154</span></a>  
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment">        // Set up the table, if there is data.</span>
<a name="l156"><span class="linenum"> 156</span></a>          if (<a class="var it16263" onMouseOver="hilite(16263)" onMouseOut="lolite()" onClick="logVariable('quizstats')" href="../../../../_variables/quizstats.html">$quizstats</a>-&gt;<a class="function" onClick="logFunction('s')" href="../../../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>()) {
<a name="l157"><span class="linenum"> 157</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('statistics_setup')" href="../../../../_functions/statistics_setup.html" onMouseOver="funcPopup(event,'statistics_setup')">statistics_setup</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>, <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>, <a class="var it16263" onMouseOver="hilite(16263)" onMouseOut="lolite()" onClick="logVariable('quizstats')" href="../../../../_variables/quizstats.html">$quizstats</a>-&gt;<a class="function" onClick="logFunction('s')" href="../../../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>());
<a name="l158"><span class="linenum"> 158</span></a>          }
<a name="l159"><span class="linenum"> 159</span></a>  
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">        // Print the rest of the page header stuff (if not downloading.</span>
<a name="l161"><span class="linenum"> 161</span></a>          if (!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('is_downloading')" href="../../../../_functions/is_downloading.html" onMouseOver="funcPopup(event,'is_downloading')">is_downloading</a>()) {
<a name="l162"><span class="linenum"> 162</span></a>  
<a name="l163"><span class="linenum"> 163</span></a>              if (<a class="function" onClick="logFunction('groups_get_activity_groupmode')" href="../../../../_functions/groups_get_activity_groupmode.html" onMouseOver="funcPopup(event,'groups_get_activity_groupmode')">groups_get_activity_groupmode</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../../_variables/cm.html">$cm</a>)) {
<a name="l164"><span class="linenum"> 164</span></a>                  <a class="function" onClick="logFunction('groups_print_activity_menu')" href="../../../../_functions/groups_print_activity_menu.html" onMouseOver="funcPopup(event,'groups_print_activity_menu')">groups_print_activity_menu</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../../_variables/cm.html">$cm</a>, <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>-&gt;<a class="function" onClick="logFunction('out')" href="../../../../_functions/out.html" onMouseOver="funcPopup(event,'out')">out</a>());
<a name="l165"><span class="linenum"> 165</span></a>                  if (<a class="var it2906" onMouseOver="hilite(2906)" onMouseOut="lolite()" onClick="logVariable('currentgroup')" href="../../../../_variables/currentgroup.html">$currentgroup</a> &amp;&amp; !<a class="var it8788" onMouseOver="hilite(8788)" onMouseOut="lolite()" onClick="logVariable('groupstudents')" href="../../../../_variables/groupstudents.html">$groupstudents</a>) {
<a name="l166"><span class="linenum"> 166</span></a>                      <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('notification')" href="../../../../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('nostudentsingroup', 'quiz_statistics'));
<a name="l167"><span class="linenum"> 167</span></a>                  }
<a name="l168"><span class="linenum"> 168</span></a>              }
<a name="l169"><span class="linenum"> 169</span></a>  
<a name="l170"><span class="linenum"> 170</span></a>              if (!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('is_downloading')" href="../../../../_functions/is_downloading.html" onMouseOver="funcPopup(event,'is_downloading')">is_downloading</a>() &amp;&amp; <a class="var it16263" onMouseOver="hilite(16263)" onMouseOut="lolite()" onClick="logVariable('quizstats')" href="../../../../_variables/quizstats.html">$quizstats</a>-&gt;<a class="function" onClick="logFunction('s')" href="../../../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>() == 0) {
<a name="l171"><span class="linenum"> 171</span></a>                  echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('notification')" href="../../../../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('noattempts', 'quiz'));
<a name="l172"><span class="linenum"> 172</span></a>              }
<a name="l173"><span class="linenum"> 173</span></a>  
<a name="l174"><span class="linenum"> 174</span></a>              foreach (<a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('any_error_messages')" href="../../../../_functions/any_error_messages.html" onMouseOver="funcPopup(event,'any_error_messages')">any_error_messages</a>() as <a class="var it3102" onMouseOver="hilite(3102)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../../../../_variables/errormessage.html">$errormessage</a>) {
<a name="l175"><span class="linenum"> 175</span></a>                  echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('notification')" href="../../../../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="var it3102" onMouseOver="hilite(3102)" onMouseOut="lolite()" onClick="logVariable('errormessage')" href="../../../../_variables/errormessage.html">$errormessage</a>);
<a name="l176"><span class="linenum"> 176</span></a>              }
<a name="l177"><span class="linenum"> 177</span></a>  
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">            // Print display options form.</span>
<a name="l179"><span class="linenum"> 179</span></a>              <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('display')" href="../../../../_functions/display.html" onMouseOver="funcPopup(event,'display')">display</a>();
<a name="l180"><span class="linenum"> 180</span></a>          }
<a name="l181"><span class="linenum"> 181</span></a>  
<a name="l182"><span class="linenum"> 182</span></a>          if (<a class="var it16258" onMouseOver="hilite(16258)" onMouseOut="lolite()" onClick="logVariable('everything')" href="../../../../_variables/everything.html">$everything</a>) { // Implies is downloading.
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">            // Overall report, then the analysis of each question.</span>
<a name="l184"><span class="linenum"> 184</span></a>              <a class="var it16265" onMouseOver="hilite(16265)" onMouseOut="lolite()" onClick="logVariable('quizinfo')" href="../../../../_variables/quizinfo.html">$quizinfo</a> = <a class="var it16263" onMouseOver="hilite(16263)" onMouseOut="lolite()" onClick="logVariable('quizstats')" href="../../../../_variables/quizstats.html">$quizstats</a>-&gt;<a class="function" onClick="logFunction('get_formatted_quiz_info_data')" href="../../../../_functions/get_formatted_quiz_info_data.html" onMouseOver="funcPopup(event,'get_formatted_quiz_info_data')">get_formatted_quiz_info_data</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../../_variables/course.html">$course</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../../_variables/cm.html">$cm</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>);
<a name="l185"><span class="linenum"> 185</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('download_quiz_info_table')" href="../../../../_functions/download_quiz_info_table.html" onMouseOver="funcPopup(event,'download_quiz_info_table')">download_quiz_info_table</a>(<a class="var it16265" onMouseOver="hilite(16265)" onMouseOut="lolite()" onClick="logVariable('quizinfo')" href="../../../../_variables/quizinfo.html">$quizinfo</a>);
<a name="l186"><span class="linenum"> 186</span></a>  
<a name="l187"><span class="linenum"> 187</span></a>              if (<a class="var it16263" onMouseOver="hilite(16263)" onMouseOut="lolite()" onClick="logVariable('quizstats')" href="../../../../_variables/quizstats.html">$quizstats</a>-&gt;<a class="function" onClick="logFunction('s')" href="../../../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>()) {
<a name="l188"><span class="linenum"> 188</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('output_quiz_structure_analysis_table')" href="../../../../_functions/output_quiz_structure_analysis_table.html" onMouseOver="funcPopup(event,'output_quiz_structure_analysis_table')">output_quiz_structure_analysis_table</a>(<a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>);
<a name="l189"><span class="linenum"> 189</span></a>  
<a name="l190"><span class="linenum"> 190</span></a>                  if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('is_downloading')" href="../../../../_functions/is_downloading.html" onMouseOver="funcPopup(event,'is_downloading')">is_downloading</a>() == 'xhtml' &amp;&amp; <a class="var it16263" onMouseOver="hilite(16263)" onMouseOut="lolite()" onClick="logVariable('quizstats')" href="../../../../_variables/quizstats.html">$quizstats</a>-&gt;<a class="function" onClick="logFunction('s')" href="../../../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>() != 0) {
<a name="l191"><span class="linenum"> 191</span></a>                      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('output_statistics_graph')" href="../../../../_functions/output_statistics_graph.html" onMouseOver="funcPopup(event,'output_statistics_graph')">output_statistics_graph</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it39928" onMouseOver="hilite(39928)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>, <a class="var it2906" onMouseOver="hilite(2906)" onMouseOut="lolite()" onClick="logVariable('currentgroup')" href="../../../../_variables/currentgroup.html">$currentgroup</a>, <a class="var it16260" onMouseOver="hilite(16260)" onMouseOut="lolite()" onClick="logVariable('whichattempts')" href="../../../../_variables/whichattempts.html">$whichattempts</a>);
<a name="l192"><span class="linenum"> 192</span></a>                  }
<a name="l193"><span class="linenum"> 193</span></a>  
<a name="l194"><span class="linenum"> 194</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('output_all_question_response_analysis')" href="../../../../_functions/output_all_question_response_analysis.html" onMouseOver="funcPopup(event,'output_all_question_response_analysis')">output_all_question_response_analysis</a>(<a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>, <a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a>, <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>, <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>, <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>);
<a name="l195"><span class="linenum"> 195</span></a>              }
<a name="l196"><span class="linenum"> 196</span></a>  
<a name="l197"><span class="linenum"> 197</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('export_class_instance')" href="../../../../_functions/export_class_instance.html" onMouseOver="funcPopup(event,'export_class_instance')">export_class_instance</a>()-&gt;<a class="function" onClick="logFunction('finish_document')" href="../../../../_functions/finish_document.html" onMouseOver="funcPopup(event,'finish_document')">finish_document</a>();
<a name="l198"><span class="linenum"> 198</span></a>  
<a name="l199"><span class="linenum"> 199</span></a>          } else if (<a class="var it10190" onMouseOver="hilite(10190)" onMouseOut="lolite()" onClick="logVariable('qid')" href="../../../../_variables/qid.html">$qid</a>) {
<a name="l200"><span class="linenum"> 200</span></a>  <span class="comment">            // Report on an individual sub-question indexed questionid.</span>
<a name="l201"><span class="linenum"> 201</span></a>              if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_subq')" href="../../../../_functions/for_subq.html" onMouseOver="funcPopup(event,'for_subq')">for_subq</a>(<a class="var it10190" onMouseOver="hilite(10190)" onMouseOut="lolite()" onClick="logVariable('qid')" href="../../../../_variables/qid.html">$qid</a>, <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>))) {
<a name="l202"><span class="linenum"> 202</span></a>                  <a class="function" onClick="logFunction('print_error')" href="../../../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('questiondoesnotexist', 'question');
<a name="l203"><span class="linenum"> 203</span></a>              }
<a name="l204"><span class="linenum"> 204</span></a>  
<a name="l205"><span class="linenum"> 205</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('output_individual_question_data')" href="../../../../_functions/output_individual_question_data.html" onMouseOver="funcPopup(event,'output_individual_question_data')">output_individual_question_data</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>, <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_subq')" href="../../../../_functions/for_subq.html" onMouseOver="funcPopup(event,'for_subq')">for_subq</a>(<a class="var it10190" onMouseOver="hilite(10190)" onMouseOut="lolite()" onClick="logVariable('qid')" href="../../../../_variables/qid.html">$qid</a>, <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>));
<a name="l206"><span class="linenum"> 206</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('output_individual_question_response_analysis')" href="../../../../_functions/output_individual_question_response_analysis.html" onMouseOver="funcPopup(event,'output_individual_question_response_analysis')">output_individual_question_response_analysis</a>(<a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_subq')" href="../../../../_functions/for_subq.html" onMouseOver="funcPopup(event,'for_subq')">for_subq</a>(<a class="var it10190" onMouseOver="hilite(10190)" onMouseOut="lolite()" onClick="logVariable('qid')" href="../../../../_variables/qid.html">$qid</a>, <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>)-&gt;question,
<a name="l207"><span class="linenum"> 207</span></a>                                                                  <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>,
<a name="l208"><span class="linenum"> 208</span></a>                                                                  <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_subq')" href="../../../../_functions/for_subq.html" onMouseOver="funcPopup(event,'for_subq')">for_subq</a>(<a class="var it10190" onMouseOver="hilite(10190)" onMouseOut="lolite()" onClick="logVariable('qid')" href="../../../../_variables/qid.html">$qid</a>, <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>)-&gt;s,
<a name="l209"><span class="linenum"> 209</span></a>                                                                  <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>,
<a name="l210"><span class="linenum"> 210</span></a>                                                                  <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>,
<a name="l211"><span class="linenum"> 211</span></a>                                                                  <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>);
<a name="l212"><span class="linenum"> 212</span></a>  <span class="comment">            // Back to overview link.</span>
<a name="l213"><span class="linenum"> 213</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box')" href="../../../../_functions/box.html" onMouseOver="funcPopup(event,'box')">box</a>('&lt;a href=&quot;' . <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>-&gt;<a class="function" onClick="logFunction('out')" href="../../../../_functions/out.html" onMouseOver="funcPopup(event,'out')">out</a>() . '&quot;&gt;' .
<a name="l214"><span class="linenum"> 214</span></a>                                <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('backtoquizreport', 'quiz_statistics') . '&lt;/a&gt;',
<a name="l215"><span class="linenum"> 215</span></a>                                'boxaligncenter generalbox boxwidthnormal mdl-align');
<a name="l216"><span class="linenum"> 216</span></a>          } else if (<a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>) {
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment">            // Report on an individual question indexed by position.</span>
<a name="l218"><span class="linenum"> 218</span></a>              if (!isset(<a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a>[<a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>])) {
<a name="l219"><span class="linenum"> 219</span></a>                  <a class="function" onClick="logFunction('print_error')" href="../../../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('questiondoesnotexist', 'question');
<a name="l220"><span class="linenum"> 220</span></a>              }
<a name="l221"><span class="linenum"> 221</span></a>  
<a name="l222"><span class="linenum"> 222</span></a>              if (<a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a> === null &amp;&amp;
<a name="l223"><span class="linenum"> 223</span></a>                                  (<a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_slot')" href="../../../../_functions/for_slot.html" onMouseOver="funcPopup(event,'for_slot')">for_slot</a>(<a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>)-&gt;<a class="function" onClick="logFunction('get_sub_question_ids')" href="../../../../_functions/get_sub_question_ids.html" onMouseOver="funcPopup(event,'get_sub_question_ids')">get_sub_question_ids</a>()
<a name="l224"><span class="linenum"> 224</span></a>                                  || <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_slot')" href="../../../../_functions/for_slot.html" onMouseOver="funcPopup(event,'for_slot')">for_slot</a>(<a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>)-&gt;<a class="function" onClick="logFunction('get_variants')" href="../../../../_functions/get_variants.html" onMouseOver="funcPopup(event,'get_variants')">get_variants</a>())) {
<a name="l225"><span class="linenum"> 225</span></a>                  if (!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('is_downloading')" href="../../../../_functions/is_downloading.html" onMouseOver="funcPopup(event,'is_downloading')">is_downloading</a>()) {
<a name="l226"><span class="linenum"> 226</span></a>                      <a class="var it2919" onMouseOver="hilite(2919)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../../../_variables/number.html">$number</a> = <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_slot')" href="../../../../_functions/for_slot.html" onMouseOver="funcPopup(event,'for_slot')">for_slot</a>(<a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>)-&gt;question-&gt;number;
<a name="l227"><span class="linenum"> 227</span></a>                      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../../../../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('slotstructureanalysis', 'quiz_statistics', <a class="var it2919" onMouseOver="hilite(2919)" onMouseOut="lolite()" onClick="logVariable('number')" href="../../../../_variables/number.html">$number</a>), 3);
<a name="l228"><span class="linenum"> 228</span></a>                  }
<a name="l229"><span class="linenum"> 229</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('define_baseurl')" href="../../../../_functions/define_baseurl.html" onMouseOver="funcPopup(event,'define_baseurl')">define_baseurl</a>(<span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>, array('slot' =&gt; <a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>)));
<a name="l230"><span class="linenum"> 230</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('format_and_add_array_of_rows')" href="../../../../_functions/format_and_add_array_of_rows.html" onMouseOver="funcPopup(event,'format_and_add_array_of_rows')">format_and_add_array_of_rows</a>(<a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('structure_analysis_for_one_slot')" href="../../../../_functions/structure_analysis_for_one_slot.html" onMouseOver="funcPopup(event,'structure_analysis_for_one_slot')">structure_analysis_for_one_slot</a>(<a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>));
<a name="l231"><span class="linenum"> 231</span></a>              } else {
<a name="l232"><span class="linenum"> 232</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('output_individual_question_data')" href="../../../../_functions/output_individual_question_data.html" onMouseOver="funcPopup(event,'output_individual_question_data')">output_individual_question_data</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>, <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_slot')" href="../../../../_functions/for_slot.html" onMouseOver="funcPopup(event,'for_slot')">for_slot</a>(<a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>, <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>));
<a name="l233"><span class="linenum"> 233</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('output_individual_question_response_analysis')" href="../../../../_functions/output_individual_question_response_analysis.html" onMouseOver="funcPopup(event,'output_individual_question_response_analysis')">output_individual_question_response_analysis</a>(<a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a>[<a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>],
<a name="l234"><span class="linenum"> 234</span></a>                                                                      <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>,
<a name="l235"><span class="linenum"> 235</span></a>                                                                      <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_slot')" href="../../../../_functions/for_slot.html" onMouseOver="funcPopup(event,'for_slot')">for_slot</a>(<a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>, <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>)-&gt;s,
<a name="l236"><span class="linenum"> 236</span></a>                                                                      <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>,
<a name="l237"><span class="linenum"> 237</span></a>                                                                      <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>,
<a name="l238"><span class="linenum"> 238</span></a>                                                                      <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>);
<a name="l239"><span class="linenum"> 239</span></a>              }
<a name="l240"><span class="linenum"> 240</span></a>              if (!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('is_downloading')" href="../../../../_functions/is_downloading.html" onMouseOver="funcPopup(event,'is_downloading')">is_downloading</a>()) {
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">                // Back to overview link.</span>
<a name="l242"><span class="linenum"> 242</span></a>                  echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box')" href="../../../../_functions/box.html" onMouseOver="funcPopup(event,'box')">box</a>('&lt;a href=&quot;' . <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>-&gt;<a class="function" onClick="logFunction('out')" href="../../../../_functions/out.html" onMouseOver="funcPopup(event,'out')">out</a>() . '&quot;&gt;' .
<a name="l243"><span class="linenum"> 243</span></a>                          <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('backtoquizreport', 'quiz_statistics') . '&lt;/a&gt;',
<a name="l244"><span class="linenum"> 244</span></a>                          'backtomainstats boxaligncenter generalbox boxwidthnormal mdl-align');
<a name="l245"><span class="linenum"> 245</span></a>              } else {
<a name="l246"><span class="linenum"> 246</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('finish_output')" href="../../../../_functions/finish_output.html" onMouseOver="funcPopup(event,'finish_output')">finish_output</a>();
<a name="l247"><span class="linenum"> 247</span></a>              }
<a name="l248"><span class="linenum"> 248</span></a>  
<a name="l249"><span class="linenum"> 249</span></a>          } else if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('is_downloading')" href="../../../../_functions/is_downloading.html" onMouseOver="funcPopup(event,'is_downloading')">is_downloading</a>()) {
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">            // Downloading overview report.</span>
<a name="l251"><span class="linenum"> 251</span></a>              <a class="var it16265" onMouseOver="hilite(16265)" onMouseOut="lolite()" onClick="logVariable('quizinfo')" href="../../../../_variables/quizinfo.html">$quizinfo</a> = <a class="var it16263" onMouseOver="hilite(16263)" onMouseOut="lolite()" onClick="logVariable('quizstats')" href="../../../../_variables/quizstats.html">$quizstats</a>-&gt;<a class="function" onClick="logFunction('get_formatted_quiz_info_data')" href="../../../../_functions/get_formatted_quiz_info_data.html" onMouseOver="funcPopup(event,'get_formatted_quiz_info_data')">get_formatted_quiz_info_data</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../../_variables/course.html">$course</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../../_variables/cm.html">$cm</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>);
<a name="l252"><span class="linenum"> 252</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('download_quiz_info_table')" href="../../../../_functions/download_quiz_info_table.html" onMouseOver="funcPopup(event,'download_quiz_info_table')">download_quiz_info_table</a>(<a class="var it16265" onMouseOver="hilite(16265)" onMouseOut="lolite()" onClick="logVariable('quizinfo')" href="../../../../_variables/quizinfo.html">$quizinfo</a>);
<a name="l253"><span class="linenum"> 253</span></a>              if (<a class="var it16263" onMouseOver="hilite(16263)" onMouseOut="lolite()" onClick="logVariable('quizstats')" href="../../../../_variables/quizstats.html">$quizstats</a>-&gt;<a class="function" onClick="logFunction('s')" href="../../../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>()) {
<a name="l254"><span class="linenum"> 254</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('output_quiz_structure_analysis_table')" href="../../../../_functions/output_quiz_structure_analysis_table.html" onMouseOver="funcPopup(event,'output_quiz_structure_analysis_table')">output_quiz_structure_analysis_table</a>(<a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>);
<a name="l255"><span class="linenum"> 255</span></a>              }
<a name="l256"><span class="linenum"> 256</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('finish_output')" href="../../../../_functions/finish_output.html" onMouseOver="funcPopup(event,'finish_output')">finish_output</a>();
<a name="l257"><span class="linenum"> 257</span></a>  
<a name="l258"><span class="linenum"> 258</span></a>          } else {
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment">            // On-screen display of overview report.</span>
<a name="l260"><span class="linenum"> 260</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../../../../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('quizinformation', 'quiz_statistics'), 3);
<a name="l261"><span class="linenum"> 261</span></a>              echo <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('output_caching_info')" href="../../../../_functions/output_caching_info.html" onMouseOver="funcPopup(event,'output_caching_info')">output_caching_info</a>(<a class="var it16263" onMouseOver="hilite(16263)" onMouseOut="lolite()" onClick="logVariable('quizstats')" href="../../../../_variables/quizstats.html">$quizstats</a>-&gt;<a onClick="logVariable('timemodified')" class="var it40881" onMouseOver="hilite(40881)" onMouseOut="lolite()" href="../../../../_variables/timemodified.html">timemodified</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it39928" onMouseOver="hilite(39928)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>, <a class="var it8788" onMouseOver="hilite(8788)" onMouseOut="lolite()" onClick="logVariable('groupstudents')" href="../../../../_variables/groupstudents.html">$groupstudents</a>, <a class="var it16260" onMouseOver="hilite(16260)" onMouseOut="lolite()" onClick="logVariable('whichattempts')" href="../../../../_variables/whichattempts.html">$whichattempts</a>, <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>);
<a name="l262"><span class="linenum"> 262</span></a>              echo <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('everything_download_options')" href="../../../../_functions/everything_download_options.html" onMouseOver="funcPopup(event,'everything_download_options')">everything_download_options</a>();
<a name="l263"><span class="linenum"> 263</span></a>              <a class="var it16265" onMouseOver="hilite(16265)" onMouseOut="lolite()" onClick="logVariable('quizinfo')" href="../../../../_variables/quizinfo.html">$quizinfo</a> = <a class="var it16263" onMouseOver="hilite(16263)" onMouseOut="lolite()" onClick="logVariable('quizstats')" href="../../../../_variables/quizstats.html">$quizstats</a>-&gt;<a class="function" onClick="logFunction('get_formatted_quiz_info_data')" href="../../../../_functions/get_formatted_quiz_info_data.html" onMouseOver="funcPopup(event,'get_formatted_quiz_info_data')">get_formatted_quiz_info_data</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../../_variables/course.html">$course</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../../_variables/cm.html">$cm</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>);
<a name="l264"><span class="linenum"> 264</span></a>              echo <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('output_quiz_info_table')" href="../../../../_functions/output_quiz_info_table.html" onMouseOver="funcPopup(event,'output_quiz_info_table')">output_quiz_info_table</a>(<a class="var it16265" onMouseOver="hilite(16265)" onMouseOut="lolite()" onClick="logVariable('quizinfo')" href="../../../../_variables/quizinfo.html">$quizinfo</a>);
<a name="l265"><span class="linenum"> 265</span></a>              if (<a class="var it16263" onMouseOver="hilite(16263)" onMouseOut="lolite()" onClick="logVariable('quizstats')" href="../../../../_variables/quizstats.html">$quizstats</a>-&gt;<a class="function" onClick="logFunction('s')" href="../../../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>()) {
<a name="l266"><span class="linenum"> 266</span></a>                  echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../../../../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('quizstructureanalysis', 'quiz_statistics'), 3);
<a name="l267"><span class="linenum"> 267</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('output_quiz_structure_analysis_table')" href="../../../../_functions/output_quiz_structure_analysis_table.html" onMouseOver="funcPopup(event,'output_quiz_structure_analysis_table')">output_quiz_structure_analysis_table</a>(<a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>);
<a name="l268"><span class="linenum"> 268</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('output_statistics_graph')" href="../../../../_functions/output_statistics_graph.html" onMouseOver="funcPopup(event,'output_statistics_graph')">output_statistics_graph</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it39928" onMouseOver="hilite(39928)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>, <a class="var it2906" onMouseOver="hilite(2906)" onMouseOut="lolite()" onClick="logVariable('currentgroup')" href="../../../../_variables/currentgroup.html">$currentgroup</a>, <a class="var it16260" onMouseOver="hilite(16260)" onMouseOut="lolite()" onClick="logVariable('whichattempts')" href="../../../../_variables/whichattempts.html">$whichattempts</a>);
<a name="l269"><span class="linenum"> 269</span></a>              }
<a name="l270"><span class="linenum"> 270</span></a>          }
<a name="l271"><span class="linenum"> 271</span></a>  
<a name="l272"><span class="linenum"> 272</span></a>          return true;
<a name="l273"><span class="linenum"> 273</span></a>      }
<a name="l274"><span class="linenum"> 274</span></a>  
<a name="l275"><span class="linenum"> 275</span></a>      <span class="comment">/**</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">     * Display the statistical and introductory information about a question.</span>
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment">     * Only called when not downloading.</span>
<a name="l278"><span class="linenum"> 278</span></a>  <span class="comment">     *</span>
<a name="l279"><span class="linenum"> 279</span></a>  <span class="comment">     * @param object                                         $quiz         the quiz settings.</span>
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment">     * @param \core_question\statistics\questions\calculated $questionstat the question to report on.</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment">     */</span>
<a name="l282"><span class="linenum"> 282</span></a>      protected function <a class="function" onClick="logFunction('output_individual_question_data')" href="../../../../_functions/output_individual_question_data.html" onMouseOver="funcPopup(event,'output_individual_question_data')">output_individual_question_data</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>, <a class="var it16266" onMouseOver="hilite(16266)" onMouseOut="lolite()" onClick="logVariable('questionstat')" href="../../../../_variables/questionstat.html">$questionstat</a>) {
<a name="l283"><span class="linenum"> 283</span></a>          global <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l284"><span class="linenum"> 284</span></a>  
<a name="l285"><span class="linenum"> 285</span></a>  <span class="comment">        // On-screen display. Show a summary of the question's place in the quiz,</span>
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment">        // and the question statistics.</span>
<a name="l287"><span class="linenum"> 287</span></a>          <a class="var it16267" onMouseOver="hilite(16267)" onMouseOut="lolite()" onClick="logVariable('datumfromtable')" href="../../../../_variables/datumfromtable.html">$datumfromtable</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('format_row')" href="../../../../_functions/format_row.html" onMouseOver="funcPopup(event,'format_row')">format_row</a>(<a class="var it16266" onMouseOver="hilite(16266)" onMouseOut="lolite()" onClick="logVariable('questionstat')" href="../../../../_variables/questionstat.html">$questionstat</a>);
<a name="l288"><span class="linenum"> 288</span></a>  
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment">        // Set up the question info table.</span>
<a name="l290"><span class="linenum"> 290</span></a>          <a class="var it16268" onMouseOver="hilite(16268)" onMouseOut="lolite()" onClick="logVariable('questioninfotable')" href="../../../../_variables/questioninfotable.html">$questioninfotable</a> = <span class="keyword">new </span><a class="class" onClick="logClass('html_table')" href="../../../../_classes/html_table.html" onMouseOver="classPopup(event,'html_table')">html_table</a>();
<a name="l291"><span class="linenum"> 291</span></a>          <a class="var it16268" onMouseOver="hilite(16268)" onMouseOut="lolite()" onClick="logVariable('questioninfotable')" href="../../../../_variables/questioninfotable.html">$questioninfotable</a>-&gt;<a onClick="logVariable('align')" class="var it40882" onMouseOver="hilite(40882)" onMouseOut="lolite()" href="../../../../_variables/align.html">align</a> = array('center', 'center');
<a name="l292"><span class="linenum"> 292</span></a>          <a class="var it16268" onMouseOver="hilite(16268)" onMouseOut="lolite()" onClick="logVariable('questioninfotable')" href="../../../../_variables/questioninfotable.html">$questioninfotable</a>-&gt;<a onClick="logVariable('width')" class="var it40882" onMouseOver="hilite(40882)" onMouseOut="lolite()" href="../../../../_variables/width.html">width</a> = '60%';
<a name="l293"><span class="linenum"> 293</span></a>          <a class="var it16268" onMouseOver="hilite(16268)" onMouseOut="lolite()" onClick="logVariable('questioninfotable')" href="../../../../_variables/questioninfotable.html">$questioninfotable</a>-&gt;<a onClick="logVariable('attributes')" class="var it40882" onMouseOver="hilite(40882)" onMouseOut="lolite()" href="../../../../_variables/attributes.html">attributes</a>['class'] = 'generaltable titlesleft';
<a name="l294"><span class="linenum"> 294</span></a>  
<a name="l295"><span class="linenum"> 295</span></a>          <a class="var it16268" onMouseOver="hilite(16268)" onMouseOut="lolite()" onClick="logVariable('questioninfotable')" href="../../../../_variables/questioninfotable.html">$questioninfotable</a>-&gt;<a onClick="logVariable('data')" class="var it40882" onMouseOver="hilite(40882)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a> = array();
<a name="l296"><span class="linenum"> 296</span></a>          <a class="var it16268" onMouseOver="hilite(16268)" onMouseOut="lolite()" onClick="logVariable('questioninfotable')" href="../../../../_variables/questioninfotable.html">$questioninfotable</a>-&gt;<a onClick="logVariable('data')" class="var it40882" onMouseOver="hilite(40882)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>[] = array(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulename', 'quiz'), <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('name')" class="var it39928" onMouseOver="hilite(39928)" onMouseOut="lolite()" href="../../../../_variables/name.html">name</a>);
<a name="l297"><span class="linenum"> 297</span></a>          <a class="var it16268" onMouseOver="hilite(16268)" onMouseOut="lolite()" onClick="logVariable('questioninfotable')" href="../../../../_variables/questioninfotable.html">$questioninfotable</a>-&gt;<a onClick="logVariable('data')" class="var it40882" onMouseOver="hilite(40882)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>[] = array(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('questionname', 'quiz_statistics'),
<a name="l298"><span class="linenum"> 298</span></a>                  <a class="var it16266" onMouseOver="hilite(16266)" onMouseOut="lolite()" onClick="logVariable('questionstat')" href="../../../../_variables/questionstat.html">$questionstat</a>-&gt;<a onClick="logVariable('question')" class="var it40333" onMouseOver="hilite(40333)" onMouseOut="lolite()" href="../../../../_variables/question.html">question</a>-&gt;name.'&amp;nbsp;'.<a class="var it16267" onMouseOver="hilite(16267)" onMouseOut="lolite()" onClick="logVariable('datumfromtable')" href="../../../../_variables/datumfromtable.html">$datumfromtable</a>['actions']);
<a name="l299"><span class="linenum"> 299</span></a>  
<a name="l300"><span class="linenum"> 300</span></a>          if (<a class="var it16266" onMouseOver="hilite(16266)" onMouseOut="lolite()" onClick="logVariable('questionstat')" href="../../../../_variables/questionstat.html">$questionstat</a>-&gt;<a onClick="logVariable('variant')" class="var it40333" onMouseOver="hilite(40333)" onMouseOut="lolite()" href="../../../../_variables/variant.html">variant</a> !== null) {
<a name="l301"><span class="linenum"> 301</span></a>              <a class="var it16268" onMouseOver="hilite(16268)" onMouseOut="lolite()" onClick="logVariable('questioninfotable')" href="../../../../_variables/questioninfotable.html">$questioninfotable</a>-&gt;<a onClick="logVariable('data')" class="var it40882" onMouseOver="hilite(40882)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>[] = array(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('variant', 'quiz_statistics'), <a class="var it16266" onMouseOver="hilite(16266)" onMouseOut="lolite()" onClick="logVariable('questionstat')" href="../../../../_variables/questionstat.html">$questionstat</a>-&gt;<a onClick="logVariable('variant')" class="var it40333" onMouseOver="hilite(40333)" onMouseOut="lolite()" href="../../../../_variables/variant.html">variant</a>);
<a name="l302"><span class="linenum"> 302</span></a>  
<a name="l303"><span class="linenum"> 303</span></a>          }
<a name="l304"><span class="linenum"> 304</span></a>          <a class="var it16268" onMouseOver="hilite(16268)" onMouseOut="lolite()" onClick="logVariable('questioninfotable')" href="../../../../_variables/questioninfotable.html">$questioninfotable</a>-&gt;<a onClick="logVariable('data')" class="var it40882" onMouseOver="hilite(40882)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>[] = array(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('questiontype', 'quiz_statistics'),
<a name="l305"><span class="linenum"> 305</span></a>                  <a class="var it16267" onMouseOver="hilite(16267)" onMouseOut="lolite()" onClick="logVariable('datumfromtable')" href="../../../../_variables/datumfromtable.html">$datumfromtable</a>['icon'] . '&amp;nbsp;' .
<a name="l306"><span class="linenum"> 306</span></a>                  question_bank::<a class="function" onClick="logFunction('get_qtype')" href="../../../../_functions/get_qtype.html" onMouseOver="funcPopup(event,'get_qtype')">get_qtype</a>(<a class="var it16266" onMouseOver="hilite(16266)" onMouseOut="lolite()" onClick="logVariable('questionstat')" href="../../../../_variables/questionstat.html">$questionstat</a>-&gt;<a onClick="logVariable('question')" class="var it40333" onMouseOver="hilite(40333)" onMouseOut="lolite()" href="../../../../_variables/question.html">question</a>-&gt;qtype, false)-&gt;<a class="function" onClick="logFunction('menu_name')" href="../../../../_functions/menu_name.html" onMouseOver="funcPopup(event,'menu_name')">menu_name</a>() . '&amp;nbsp;' .
<a name="l307"><span class="linenum"> 307</span></a>                  <a class="var it16267" onMouseOver="hilite(16267)" onMouseOut="lolite()" onClick="logVariable('datumfromtable')" href="../../../../_variables/datumfromtable.html">$datumfromtable</a>['icon']);
<a name="l308"><span class="linenum"> 308</span></a>          <a class="var it16268" onMouseOver="hilite(16268)" onMouseOut="lolite()" onClick="logVariable('questioninfotable')" href="../../../../_variables/questioninfotable.html">$questioninfotable</a>-&gt;<a onClick="logVariable('data')" class="var it40882" onMouseOver="hilite(40882)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>[] = array(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('positions', 'quiz_statistics'),
<a name="l309"><span class="linenum"> 309</span></a>                  <a class="var it16266" onMouseOver="hilite(16266)" onMouseOut="lolite()" onClick="logVariable('questionstat')" href="../../../../_variables/questionstat.html">$questionstat</a>-&gt;<a onClick="logVariable('positions')" class="var it40333" onMouseOver="hilite(40333)" onMouseOut="lolite()" href="../../../../_variables/positions.html">positions</a>);
<a name="l310"><span class="linenum"> 310</span></a>  
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">        // Set up the question statistics table.</span>
<a name="l312"><span class="linenum"> 312</span></a>          <a class="var it16269" onMouseOver="hilite(16269)" onMouseOut="lolite()" onClick="logVariable('questionstatstable')" href="../../../../_variables/questionstatstable.html">$questionstatstable</a> = <span class="keyword">new </span><a class="class" onClick="logClass('html_table')" href="../../../../_classes/html_table.html" onMouseOver="classPopup(event,'html_table')">html_table</a>();
<a name="l313"><span class="linenum"> 313</span></a>          <a class="var it16269" onMouseOver="hilite(16269)" onMouseOut="lolite()" onClick="logVariable('questionstatstable')" href="../../../../_variables/questionstatstable.html">$questionstatstable</a>-&gt;<a onClick="logVariable('align')" class="var it40883" onMouseOver="hilite(40883)" onMouseOut="lolite()" href="../../../../_variables/align.html">align</a> = array('center', 'center');
<a name="l314"><span class="linenum"> 314</span></a>          <a class="var it16269" onMouseOver="hilite(16269)" onMouseOut="lolite()" onClick="logVariable('questionstatstable')" href="../../../../_variables/questionstatstable.html">$questionstatstable</a>-&gt;<a onClick="logVariable('width')" class="var it40883" onMouseOver="hilite(40883)" onMouseOut="lolite()" href="../../../../_variables/width.html">width</a> = '60%';
<a name="l315"><span class="linenum"> 315</span></a>          <a class="var it16269" onMouseOver="hilite(16269)" onMouseOut="lolite()" onClick="logVariable('questionstatstable')" href="../../../../_variables/questionstatstable.html">$questionstatstable</a>-&gt;<a onClick="logVariable('attributes')" class="var it40883" onMouseOver="hilite(40883)" onMouseOut="lolite()" href="../../../../_variables/attributes.html">attributes</a>['class'] = 'generaltable titlesleft';
<a name="l316"><span class="linenum"> 316</span></a>  
<a name="l317"><span class="linenum"> 317</span></a>          unset(<a class="var it16267" onMouseOver="hilite(16267)" onMouseOut="lolite()" onClick="logVariable('datumfromtable')" href="../../../../_variables/datumfromtable.html">$datumfromtable</a>['number']);
<a name="l318"><span class="linenum"> 318</span></a>          unset(<a class="var it16267" onMouseOver="hilite(16267)" onMouseOut="lolite()" onClick="logVariable('datumfromtable')" href="../../../../_variables/datumfromtable.html">$datumfromtable</a>['icon']);
<a name="l319"><span class="linenum"> 319</span></a>          <a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('actions')" href="../../../../_variables/actions.html">$actions</a> = <a class="var it16267" onMouseOver="hilite(16267)" onMouseOut="lolite()" onClick="logVariable('datumfromtable')" href="../../../../_variables/datumfromtable.html">$datumfromtable</a>['actions'];
<a name="l320"><span class="linenum"> 320</span></a>          unset(<a class="var it16267" onMouseOver="hilite(16267)" onMouseOut="lolite()" onClick="logVariable('datumfromtable')" href="../../../../_variables/datumfromtable.html">$datumfromtable</a>['actions']);
<a name="l321"><span class="linenum"> 321</span></a>          unset(<a class="var it16267" onMouseOver="hilite(16267)" onMouseOut="lolite()" onClick="logVariable('datumfromtable')" href="../../../../_variables/datumfromtable.html">$datumfromtable</a>['name']);
<a name="l322"><span class="linenum"> 322</span></a>          <a class="var it3355" onMouseOver="hilite(3355)" onMouseOut="lolite()" onClick="logVariable('labels')" href="../../../../_variables/labels.html">$labels</a> = array(
<a name="l323"><span class="linenum"> 323</span></a>              's' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('attempts', 'quiz_statistics'),
<a name="l324"><span class="linenum"> 324</span></a>              'facility' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('facility', 'quiz_statistics'),
<a name="l325"><span class="linenum"> 325</span></a>              'sd' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('standarddeviationq', 'quiz_statistics'),
<a name="l326"><span class="linenum"> 326</span></a>              'random_guess_score' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('random_guess_score', 'quiz_statistics'),
<a name="l327"><span class="linenum"> 327</span></a>              'intended_weight' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('intended_weight', 'quiz_statistics'),
<a name="l328"><span class="linenum"> 328</span></a>              'effective_weight' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('effective_weight', 'quiz_statistics'),
<a name="l329"><span class="linenum"> 329</span></a>              'discrimination_index' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('discrimination_index', 'quiz_statistics'),
<a name="l330"><span class="linenum"> 330</span></a>              'discriminative_efficiency' =&gt;
<a name="l331"><span class="linenum"> 331</span></a>                                  <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('discriminative_efficiency', 'quiz_statistics')
<a name="l332"><span class="linenum"> 332</span></a>          );
<a name="l333"><span class="linenum"> 333</span></a>          foreach (<a class="var it16267" onMouseOver="hilite(16267)" onMouseOut="lolite()" onClick="logVariable('datumfromtable')" href="../../../../_variables/datumfromtable.html">$datumfromtable</a> as <a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../../../_variables/item.html">$item</a> =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>) {
<a name="l334"><span class="linenum"> 334</span></a>              <a class="var it16269" onMouseOver="hilite(16269)" onMouseOut="lolite()" onClick="logVariable('questionstatstable')" href="../../../../_variables/questionstatstable.html">$questionstatstable</a>-&gt;<a onClick="logVariable('data')" class="var it40883" onMouseOver="hilite(40883)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>[] = array(<a class="var it3355" onMouseOver="hilite(3355)" onMouseOut="lolite()" onClick="logVariable('labels')" href="../../../../_variables/labels.html">$labels</a>[<a class="var it53" onMouseOver="hilite(53)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../../../_variables/item.html">$item</a>], <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>);
<a name="l335"><span class="linenum"> 335</span></a>          }
<a name="l336"><span class="linenum"> 336</span></a>  
<a name="l337"><span class="linenum"> 337</span></a>  <span class="comment">        // Display the various bits.</span>
<a name="l338"><span class="linenum"> 338</span></a>          echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../../../../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('questioninformation', 'quiz_statistics'), 3);
<a name="l339"><span class="linenum"> 339</span></a>          echo <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('table')" href="../../../../_functions/table.html" onMouseOver="funcPopup(event,'table')">table</a>(<a class="var it16268" onMouseOver="hilite(16268)" onMouseOut="lolite()" onClick="logVariable('questioninfotable')" href="../../../../_variables/questioninfotable.html">$questioninfotable</a>);
<a name="l340"><span class="linenum"> 340</span></a>          echo <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render_question_text')" href="../../../../_functions/render_question_text.html" onMouseOver="funcPopup(event,'render_question_text')">render_question_text</a>(<a class="var it16266" onMouseOver="hilite(16266)" onMouseOut="lolite()" onClick="logVariable('questionstat')" href="../../../../_variables/questionstat.html">$questionstat</a>-&gt;<a onClick="logVariable('question')" class="var it40333" onMouseOver="hilite(40333)" onMouseOut="lolite()" href="../../../../_variables/question.html">question</a>);
<a name="l341"><span class="linenum"> 341</span></a>          echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../../../../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('questionstatistics', 'quiz_statistics'), 3);
<a name="l342"><span class="linenum"> 342</span></a>          echo <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('table')" href="../../../../_functions/table.html" onMouseOver="funcPopup(event,'table')">table</a>(<a class="var it16269" onMouseOver="hilite(16269)" onMouseOut="lolite()" onClick="logVariable('questionstatstable')" href="../../../../_variables/questionstatstable.html">$questionstatstable</a>);
<a name="l343"><span class="linenum"> 343</span></a>      }
<a name="l344"><span class="linenum"> 344</span></a>  
<a name="l345"><span class="linenum"> 345</span></a>      <span class="comment">/**</span>
<a name="l346"><span class="linenum"> 346</span></a>  <span class="comment">     * Output question text in a box with urls appropriate for a preview of the question.</span>
<a name="l347"><span class="linenum"> 347</span></a>  <span class="comment">     *</span>
<a name="l348"><span class="linenum"> 348</span></a>  <span class="comment">     * @param object $question question data.</span>
<a name="l349"><span class="linenum"> 349</span></a>  <span class="comment">     * @return string HTML of question text, ready for display.</span>
<a name="l350"><span class="linenum"> 350</span></a>  <span class="comment">     */</span>
<a name="l351"><span class="linenum"> 351</span></a>      protected function <a class="function" onClick="logFunction('render_question_text')" href="../../../../_functions/render_question_text.html" onMouseOver="funcPopup(event,'render_question_text')">render_question_text</a>(<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>) {
<a name="l352"><span class="linenum"> 352</span></a>          global <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l353"><span class="linenum"> 353</span></a>  
<a name="l354"><span class="linenum"> 354</span></a>          <a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a> = <a class="function" onClick="logFunction('question_rewrite_question_preview_urls')" href="../../../../_functions/question_rewrite_question_preview_urls.html" onMouseOver="funcPopup(event,'question_rewrite_question_preview_urls')">question_rewrite_question_preview_urls</a>(<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('questiontext')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../../../_variables/questiontext.html">questiontext</a>, <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('id')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>,
<a name="l355"><span class="linenum"> 355</span></a>                  <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('contextid')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../../../_variables/contextid.html">contextid</a>, 'question', 'questiontext', <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('id')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>,
<a name="l356"><span class="linenum"> 356</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/context.html">context</a>-&gt;id, 'quiz_statistics');
<a name="l357"><span class="linenum"> 357</span></a>  
<a name="l358"><span class="linenum"> 358</span></a>          return <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box')" href="../../../../_functions/box.html" onMouseOver="funcPopup(event,'box')">box</a>(<a class="function" onClick="logFunction('format_text')" href="../../../../_functions/format_text.html" onMouseOver="funcPopup(event,'format_text')">format_text</a>(<a class="var it72" onMouseOver="hilite(72)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a>, <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('questiontextformat')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../../../_variables/questiontextformat.html">questiontextformat</a>,
<a name="l359"><span class="linenum"> 359</span></a>                  array('noclean' =&gt; true, 'para' =&gt; false, 'overflowdiv' =&gt; true)),
<a name="l360"><span class="linenum"> 360</span></a>                  'questiontext boxaligncenter generalbox boxwidthnormal mdl-align');
<a name="l361"><span class="linenum"> 361</span></a>      }
<a name="l362"><span class="linenum"> 362</span></a>  
<a name="l363"><span class="linenum"> 363</span></a>      <span class="comment">/**</span>
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment">     * Display the response analysis for a question.</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment">     *</span>
<a name="l366"><span class="linenum"> 366</span></a>  <span class="comment">     * @param object           $question  the question to report on.</span>
<a name="l367"><span class="linenum"> 367</span></a>  <span class="comment">     * @param int|null         $variantno the variant</span>
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment">     * @param int              $s</span>
<a name="l369"><span class="linenum"> 369</span></a>  <span class="comment">     * @param moodle_url       $reporturl the URL to redisplay this report.</span>
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment">     * @param qubaid_condition $qubaids</span>
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment">     * @param string           $whichtries</span>
<a name="l372"><span class="linenum"> 372</span></a>  <span class="comment">     */</span>
<a name="l373"><span class="linenum"> 373</span></a>      protected function <a class="function" onClick="logFunction('output_individual_question_response_analysis')" href="../../../../_functions/output_individual_question_response_analysis.html" onMouseOver="funcPopup(event,'output_individual_question_response_analysis')">output_individual_question_response_analysis</a>(<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>, <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>, <a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../../../_variables/s.html">$s</a>, <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>, <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>,
<a name="l374"><span class="linenum"> 374</span></a>                                                                      <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a> = <a class="class" onClick="logClass('question_attempt')" href="../../../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a>::LAST_TRY) {
<a name="l375"><span class="linenum"> 375</span></a>          global <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l376"><span class="linenum"> 376</span></a>  
<a name="l377"><span class="linenum"> 377</span></a>          if (!question_bank::<a class="function" onClick="logFunction('get_qtype')" href="../../../../_functions/get_qtype.html" onMouseOver="funcPopup(event,'get_qtype')">get_qtype</a>(<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('qtype')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../../../_variables/qtype.html">qtype</a>, false)-&gt;<a class="function" onClick="logFunction('can_analyse_responses')" href="../../../../_functions/can_analyse_responses.html" onMouseOver="funcPopup(event,'can_analyse_responses')">can_analyse_responses</a>()) {
<a name="l378"><span class="linenum"> 378</span></a>              return;
<a name="l379"><span class="linenum"> 379</span></a>          }
<a name="l380"><span class="linenum"> 380</span></a>  
<a name="l381"><span class="linenum"> 381</span></a>          <a class="var it16270" onMouseOver="hilite(16270)" onMouseOut="lolite()" onClick="logVariable('qtable')" href="../../../../_variables/qtable.html">$qtable</a> = <span class="keyword">new </span><a class="class" onClick="logClass('quiz_statistics_question_table')" href="../../../../_classes/quiz_statistics_question_table.html" onMouseOver="classPopup(event,'quiz_statistics_question_table')">quiz_statistics_question_table</a>(<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('id')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>);
<a name="l382"><span class="linenum"> 382</span></a>          <a class="var it16271" onMouseOver="hilite(16271)" onMouseOut="lolite()" onClick="logVariable('exportclass')" href="../../../../_variables/exportclass.html">$exportclass</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('export_class_instance')" href="../../../../_functions/export_class_instance.html" onMouseOver="funcPopup(event,'export_class_instance')">export_class_instance</a>();
<a name="l383"><span class="linenum"> 383</span></a>          <a class="var it16270" onMouseOver="hilite(16270)" onMouseOut="lolite()" onClick="logVariable('qtable')" href="../../../../_variables/qtable.html">$qtable</a>-&gt;<a class="function" onClick="logFunction('export_class_instance')" href="../../../../_functions/export_class_instance.html" onMouseOver="funcPopup(event,'export_class_instance')">export_class_instance</a>(<a class="var it16271" onMouseOver="hilite(16271)" onMouseOut="lolite()" onClick="logVariable('exportclass')" href="../../../../_variables/exportclass.html">$exportclass</a>);
<a name="l384"><span class="linenum"> 384</span></a>          if (!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('is_downloading')" href="../../../../_functions/is_downloading.html" onMouseOver="funcPopup(event,'is_downloading')">is_downloading</a>()) {
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment">            // Output an appropriate title.</span>
<a name="l386"><span class="linenum"> 386</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../../../../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('analysisofresponses', 'quiz_statistics'), 3);
<a name="l387"><span class="linenum"> 387</span></a>  
<a name="l388"><span class="linenum"> 388</span></a>          } else {
<a name="l389"><span class="linenum"> 389</span></a>  <span class="comment">            // Work out an appropriate title.</span>
<a name="l390"><span class="linenum"> 390</span></a>              <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../../../_variables/a.html">$a</a> = <a class="function" onClick="logFunction('clone')" href="../../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>(<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>);
<a name="l391"><span class="linenum"> 391</span></a>              <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('variant')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../../../../_variables/variant.html">variant</a> = <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>;
<a name="l392"><span class="linenum"> 392</span></a>  
<a name="l393"><span class="linenum"> 393</span></a>              if (!empty(<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('number')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../../../_variables/number.html">number</a>) &amp;&amp; !<a class="phpfunction" onClick="logFunction('is_null')" href="../../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>)) {
<a name="l394"><span class="linenum"> 394</span></a>                  <a class="var it16272" onMouseOver="hilite(16272)" onMouseOut="lolite()" onClick="logVariable('questiontabletitle')" href="../../../../_variables/questiontabletitle.html">$questiontabletitle</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('analysisnovariant', 'quiz_statistics', <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../../../_variables/a.html">$a</a>);
<a name="l395"><span class="linenum"> 395</span></a>              } else if (!empty(<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('number')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../../../_variables/number.html">number</a>)) {
<a name="l396"><span class="linenum"> 396</span></a>                  <a class="var it16272" onMouseOver="hilite(16272)" onMouseOut="lolite()" onClick="logVariable('questiontabletitle')" href="../../../../_variables/questiontabletitle.html">$questiontabletitle</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('analysisno', 'quiz_statistics', <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../../../_variables/a.html">$a</a>);
<a name="l397"><span class="linenum"> 397</span></a>              } else if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>)) {
<a name="l398"><span class="linenum"> 398</span></a>                  <a class="var it16272" onMouseOver="hilite(16272)" onMouseOut="lolite()" onClick="logVariable('questiontabletitle')" href="../../../../_variables/questiontabletitle.html">$questiontabletitle</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('analysisvariant', 'quiz_statistics', <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../../../_variables/a.html">$a</a>);
<a name="l399"><span class="linenum"> 399</span></a>              } else {
<a name="l400"><span class="linenum"> 400</span></a>                  <a class="var it16272" onMouseOver="hilite(16272)" onMouseOut="lolite()" onClick="logVariable('questiontabletitle')" href="../../../../_variables/questiontabletitle.html">$questiontabletitle</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('analysisnameonly', 'quiz_statistics', <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../../../_variables/a.html">$a</a>);
<a name="l401"><span class="linenum"> 401</span></a>              }
<a name="l402"><span class="linenum"> 402</span></a>  
<a name="l403"><span class="linenum"> 403</span></a>              if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('is_downloading')" href="../../../../_functions/is_downloading.html" onMouseOver="funcPopup(event,'is_downloading')">is_downloading</a>() == 'xhtml') {
<a name="l404"><span class="linenum"> 404</span></a>                  <a class="var it16272" onMouseOver="hilite(16272)" onMouseOut="lolite()" onClick="logVariable('questiontabletitle')" href="../../../../_variables/questiontabletitle.html">$questiontabletitle</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('analysisofresponsesfor', 'quiz_statistics', <a class="var it16272" onMouseOver="hilite(16272)" onMouseOut="lolite()" onClick="logVariable('questiontabletitle')" href="../../../../_variables/questiontabletitle.html">$questiontabletitle</a>);
<a name="l405"><span class="linenum"> 405</span></a>              }
<a name="l406"><span class="linenum"> 406</span></a>  
<a name="l407"><span class="linenum"> 407</span></a>  <span class="comment">            // Set up the table.</span>
<a name="l408"><span class="linenum"> 408</span></a>              <a class="var it16271" onMouseOver="hilite(16271)" onMouseOut="lolite()" onClick="logVariable('exportclass')" href="../../../../_variables/exportclass.html">$exportclass</a>-&gt;<a class="function" onClick="logFunction('start_table')" href="../../../../_functions/start_table.html" onMouseOver="funcPopup(event,'start_table')">start_table</a>(<a class="var it16272" onMouseOver="hilite(16272)" onMouseOut="lolite()" onClick="logVariable('questiontabletitle')" href="../../../../_variables/questiontabletitle.html">$questiontabletitle</a>);
<a name="l409"><span class="linenum"> 409</span></a>  
<a name="l410"><span class="linenum"> 410</span></a>              if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('is_downloading')" href="../../../../_functions/is_downloading.html" onMouseOver="funcPopup(event,'is_downloading')">is_downloading</a>() == 'xhtml') {
<a name="l411"><span class="linenum"> 411</span></a>                  echo <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('render_question_text')" href="../../../../_functions/render_question_text.html" onMouseOver="funcPopup(event,'render_question_text')">render_question_text</a>(<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>);
<a name="l412"><span class="linenum"> 412</span></a>              }
<a name="l413"><span class="linenum"> 413</span></a>          }
<a name="l414"><span class="linenum"> 414</span></a>  
<a name="l415"><span class="linenum"> 415</span></a>          <a class="var it16273" onMouseOver="hilite(16273)" onMouseOut="lolite()" onClick="logVariable('responesanalyser')" href="../../../../_variables/responesanalyser.html">$responesanalyser</a> = new \core_question\statistics\responses\analyser(<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>, <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>);
<a name="l416"><span class="linenum"> 416</span></a>          <a class="var it16274" onMouseOver="hilite(16274)" onMouseOut="lolite()" onClick="logVariable('responseanalysis')" href="../../../../_variables/responseanalysis.html">$responseanalysis</a> = <a class="var it16273" onMouseOver="hilite(16273)" onMouseOut="lolite()" onClick="logVariable('responesanalyser')" href="../../../../_variables/responesanalyser.html">$responesanalyser</a>-&gt;<a class="function" onClick="logFunction('load_cached')" href="../../../../_functions/load_cached.html" onMouseOver="funcPopup(event,'load_cached')">load_cached</a>(<a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>, <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>);
<a name="l417"><span class="linenum"> 417</span></a>  
<a name="l418"><span class="linenum"> 418</span></a>          <a class="var it16270" onMouseOver="hilite(16270)" onMouseOut="lolite()" onClick="logVariable('qtable')" href="../../../../_variables/qtable.html">$qtable</a>-&gt;<a class="function" onClick="logFunction('question_setup')" href="../../../../_functions/question_setup.html" onMouseOver="funcPopup(event,'question_setup')">question_setup</a>(<a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>, <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>, <a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('s')" href="../../../../_variables/s.html">$s</a>, <a class="var it16274" onMouseOver="hilite(16274)" onMouseOut="lolite()" onClick="logVariable('responseanalysis')" href="../../../../_variables/responseanalysis.html">$responseanalysis</a>);
<a name="l419"><span class="linenum"> 419</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('is_downloading')" href="../../../../_functions/is_downloading.html" onMouseOver="funcPopup(event,'is_downloading')">is_downloading</a>()) {
<a name="l420"><span class="linenum"> 420</span></a>              <a class="var it16271" onMouseOver="hilite(16271)" onMouseOut="lolite()" onClick="logVariable('exportclass')" href="../../../../_variables/exportclass.html">$exportclass</a>-&gt;<a class="function" onClick="logFunction('output_headers')" href="../../../../_functions/output_headers.html" onMouseOver="funcPopup(event,'output_headers')">output_headers</a>(<a class="var it16270" onMouseOver="hilite(16270)" onMouseOut="lolite()" onClick="logVariable('qtable')" href="../../../../_variables/qtable.html">$qtable</a>-&gt;<a onClick="logVariable('headers')" class="var it40884" onMouseOver="hilite(40884)" onMouseOut="lolite()" href="../../../../_variables/headers.html">headers</a>);
<a name="l421"><span class="linenum"> 421</span></a>          }
<a name="l422"><span class="linenum"> 422</span></a>  
<a name="l423"><span class="linenum"> 423</span></a>  <span class="comment">        // Where no variant no is specified the variant no is actually one.</span>
<a name="l424"><span class="linenum"> 424</span></a>          if (<a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a> === null) {
<a name="l425"><span class="linenum"> 425</span></a>              <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a> = 1;
<a name="l426"><span class="linenum"> 426</span></a>          }
<a name="l427"><span class="linenum"> 427</span></a>          foreach (<a class="var it16274" onMouseOver="hilite(16274)" onMouseOut="lolite()" onClick="logVariable('responseanalysis')" href="../../../../_variables/responseanalysis.html">$responseanalysis</a>-&gt;<a class="function" onClick="logFunction('get_subpart_ids')" href="../../../../_functions/get_subpart_ids.html" onMouseOver="funcPopup(event,'get_subpart_ids')">get_subpart_ids</a>(<a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>) as <a class="var it16275" onMouseOver="hilite(16275)" onMouseOut="lolite()" onClick="logVariable('partid')" href="../../../../_variables/partid.html">$partid</a>) {
<a name="l428"><span class="linenum"> 428</span></a>              <a class="var it16276" onMouseOver="hilite(16276)" onMouseOut="lolite()" onClick="logVariable('subpart')" href="../../../../_variables/subpart.html">$subpart</a> = <a class="var it16274" onMouseOver="hilite(16274)" onMouseOut="lolite()" onClick="logVariable('responseanalysis')" href="../../../../_variables/responseanalysis.html">$responseanalysis</a>-&gt;<a class="function" onClick="logFunction('get_analysis_for_subpart')" href="../../../../_functions/get_analysis_for_subpart.html" onMouseOver="funcPopup(event,'get_analysis_for_subpart')">get_analysis_for_subpart</a>(<a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>, <a class="var it16275" onMouseOver="hilite(16275)" onMouseOut="lolite()" onClick="logVariable('partid')" href="../../../../_variables/partid.html">$partid</a>);
<a name="l429"><span class="linenum"> 429</span></a>              foreach (<a class="var it16276" onMouseOver="hilite(16276)" onMouseOut="lolite()" onClick="logVariable('subpart')" href="../../../../_variables/subpart.html">$subpart</a>-&gt;<a class="function" onClick="logFunction('get_response_class_ids')" href="../../../../_functions/get_response_class_ids.html" onMouseOver="funcPopup(event,'get_response_class_ids')">get_response_class_ids</a>() as <a class="var it16277" onMouseOver="hilite(16277)" onMouseOut="lolite()" onClick="logVariable('responseclassid')" href="../../../../_variables/responseclassid.html">$responseclassid</a>) {
<a name="l430"><span class="linenum"> 430</span></a>                  <a class="var it15677" onMouseOver="hilite(15677)" onMouseOut="lolite()" onClick="logVariable('responseclass')" href="../../../../_variables/responseclass.html">$responseclass</a> = <a class="var it16276" onMouseOver="hilite(16276)" onMouseOut="lolite()" onClick="logVariable('subpart')" href="../../../../_variables/subpart.html">$subpart</a>-&gt;<a class="function" onClick="logFunction('get_response_class')" href="../../../../_functions/get_response_class.html" onMouseOver="funcPopup(event,'get_response_class')">get_response_class</a>(<a class="var it16277" onMouseOver="hilite(16277)" onMouseOut="lolite()" onClick="logVariable('responseclassid')" href="../../../../_variables/responseclassid.html">$responseclassid</a>);
<a name="l431"><span class="linenum"> 431</span></a>                  <a class="var it2629" onMouseOver="hilite(2629)" onMouseOut="lolite()" onClick="logVariable('tabledata')" href="../../../../_variables/tabledata.html">$tabledata</a> = <a class="var it15677" onMouseOver="hilite(15677)" onMouseOut="lolite()" onClick="logVariable('responseclass')" href="../../../../_variables/responseclass.html">$responseclass</a>-&gt;<a class="function" onClick="logFunction('data_for_question_response_table')" href="../../../../_functions/data_for_question_response_table.html" onMouseOver="funcPopup(event,'data_for_question_response_table')">data_for_question_response_table</a>(<a class="var it16276" onMouseOver="hilite(16276)" onMouseOut="lolite()" onClick="logVariable('subpart')" href="../../../../_variables/subpart.html">$subpart</a>-&gt;<a class="function" onClick="logFunction('has_multiple_response_classes')" href="../../../../_functions/has_multiple_response_classes.html" onMouseOver="funcPopup(event,'has_multiple_response_classes')">has_multiple_response_classes</a>(), <a class="var it16275" onMouseOver="hilite(16275)" onMouseOut="lolite()" onClick="logVariable('partid')" href="../../../../_variables/partid.html">$partid</a>);
<a name="l432"><span class="linenum"> 432</span></a>                  foreach (<a class="var it2629" onMouseOver="hilite(2629)" onMouseOut="lolite()" onClick="logVariable('tabledata')" href="../../../../_variables/tabledata.html">$tabledata</a> as <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../../_variables/row.html">$row</a>) {
<a name="l433"><span class="linenum"> 433</span></a>                      <a class="var it16270" onMouseOver="hilite(16270)" onMouseOut="lolite()" onClick="logVariable('qtable')" href="../../../../_variables/qtable.html">$qtable</a>-&gt;<a class="function" onClick="logFunction('add_data_keyed')" href="../../../../_functions/add_data_keyed.html" onMouseOver="funcPopup(event,'add_data_keyed')">add_data_keyed</a>(<a class="var it16270" onMouseOver="hilite(16270)" onMouseOut="lolite()" onClick="logVariable('qtable')" href="../../../../_variables/qtable.html">$qtable</a>-&gt;<a class="function" onClick="logFunction('format_row')" href="../../../../_functions/format_row.html" onMouseOver="funcPopup(event,'format_row')">format_row</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../../_variables/row.html">$row</a>));
<a name="l434"><span class="linenum"> 434</span></a>                  }
<a name="l435"><span class="linenum"> 435</span></a>              }
<a name="l436"><span class="linenum"> 436</span></a>          }
<a name="l437"><span class="linenum"> 437</span></a>  
<a name="l438"><span class="linenum"> 438</span></a>          <a class="var it16270" onMouseOver="hilite(16270)" onMouseOut="lolite()" onClick="logVariable('qtable')" href="../../../../_variables/qtable.html">$qtable</a>-&gt;<a class="function" onClick="logFunction('finish_output')" href="../../../../_functions/finish_output.html" onMouseOver="funcPopup(event,'finish_output')">finish_output</a>(!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('is_downloading')" href="../../../../_functions/is_downloading.html" onMouseOver="funcPopup(event,'is_downloading')">is_downloading</a>());
<a name="l439"><span class="linenum"> 439</span></a>      }
<a name="l440"><span class="linenum"> 440</span></a>  
<a name="l441"><span class="linenum"> 441</span></a>      <span class="comment">/**</span>
<a name="l442"><span class="linenum"> 442</span></a>  <span class="comment">     * Output the table that lists all the questions in the quiz with their statistics.</span>
<a name="l443"><span class="linenum"> 443</span></a>  <span class="comment">     *</span>
<a name="l444"><span class="linenum"> 444</span></a>  <span class="comment">     * @param \core_question\statistics\questions\all_calculated_for_qubaid_condition $questionstats the stats for all questions in</span>
<a name="l445"><span class="linenum"> 445</span></a>  <span class="comment">     *                                                                                               the quiz including subqs and</span>
<a name="l446"><span class="linenum"> 446</span></a>  <span class="comment">     *                                                                                               variants.</span>
<a name="l447"><span class="linenum"> 447</span></a>  <span class="comment">     */</span>
<a name="l448"><span class="linenum"> 448</span></a>      protected function <a class="function" onClick="logFunction('output_quiz_structure_analysis_table')" href="../../../../_functions/output_quiz_structure_analysis_table.html" onMouseOver="funcPopup(event,'output_quiz_structure_analysis_table')">output_quiz_structure_analysis_table</a>(<a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>) {
<a name="l449"><span class="linenum"> 449</span></a>          <a class="var it16278" onMouseOver="hilite(16278)" onMouseOut="lolite()" onClick="logVariable('tooutput')" href="../../../../_variables/tooutput.html">$tooutput</a> = array();
<a name="l450"><span class="linenum"> 450</span></a>          <a class="var it16279" onMouseOver="hilite(16279)" onMouseOut="lolite()" onClick="logVariable('limitvariants')" href="../../../../_variables/limitvariants.html">$limitvariants</a> = !<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('is_downloading')" href="../../../../_functions/is_downloading.html" onMouseOver="funcPopup(event,'is_downloading')">is_downloading</a>();
<a name="l451"><span class="linenum"> 451</span></a>          foreach (<a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('get_all_slots')" href="../../../../_functions/get_all_slots.html" onMouseOver="funcPopup(event,'get_all_slots')">get_all_slots</a>() as <a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>) {
<a name="l452"><span class="linenum"> 452</span></a>  <span class="comment">            // Output the data for these question statistics.</span>
<a name="l453"><span class="linenum"> 453</span></a>              <a class="var it16278" onMouseOver="hilite(16278)" onMouseOut="lolite()" onClick="logVariable('tooutput')" href="../../../../_variables/tooutput.html">$tooutput</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it16278" onMouseOver="hilite(16278)" onMouseOut="lolite()" onClick="logVariable('tooutput')" href="../../../../_variables/tooutput.html">$tooutput</a>, <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('structure_analysis_for_one_slot')" href="../../../../_functions/structure_analysis_for_one_slot.html" onMouseOver="funcPopup(event,'structure_analysis_for_one_slot')">structure_analysis_for_one_slot</a>(<a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>, <a class="var it16279" onMouseOver="hilite(16279)" onMouseOut="lolite()" onClick="logVariable('limitvariants')" href="../../../../_variables/limitvariants.html">$limitvariants</a>));
<a name="l454"><span class="linenum"> 454</span></a>          }
<a name="l455"><span class="linenum"> 455</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('format_and_add_array_of_rows')" href="../../../../_functions/format_and_add_array_of_rows.html" onMouseOver="funcPopup(event,'format_and_add_array_of_rows')">format_and_add_array_of_rows</a>(<a class="var it16278" onMouseOver="hilite(16278)" onMouseOut="lolite()" onClick="logVariable('tooutput')" href="../../../../_variables/tooutput.html">$tooutput</a>);
<a name="l456"><span class="linenum"> 456</span></a>      }
<a name="l457"><span class="linenum"> 457</span></a>  
<a name="l458"><span class="linenum"> 458</span></a>      <span class="comment">/**</span>
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment">     * Return HTML for table of overall quiz statistics.</span>
<a name="l460"><span class="linenum"> 460</span></a>  <span class="comment">     *</span>
<a name="l461"><span class="linenum"> 461</span></a>  <span class="comment">     * @param array $quizinfo as returned by {@link get_formatted_quiz_info_data()}.</span>
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment">     * @return string the HTML.</span>
<a name="l463"><span class="linenum"> 463</span></a>  <span class="comment">     */</span>
<a name="l464"><span class="linenum"> 464</span></a>      protected function <a class="function" onClick="logFunction('output_quiz_info_table')" href="../../../../_functions/output_quiz_info_table.html" onMouseOver="funcPopup(event,'output_quiz_info_table')">output_quiz_info_table</a>(<a class="var it16265" onMouseOver="hilite(16265)" onMouseOut="lolite()" onClick="logVariable('quizinfo')" href="../../../../_variables/quizinfo.html">$quizinfo</a>) {
<a name="l465"><span class="linenum"> 465</span></a>  
<a name="l466"><span class="linenum"> 466</span></a>          <a class="var it16280" onMouseOver="hilite(16280)" onMouseOut="lolite()" onClick="logVariable('quizinfotable')" href="../../../../_variables/quizinfotable.html">$quizinfotable</a> = <span class="keyword">new </span><a class="class" onClick="logClass('html_table')" href="../../../../_classes/html_table.html" onMouseOver="classPopup(event,'html_table')">html_table</a>();
<a name="l467"><span class="linenum"> 467</span></a>          <a class="var it16280" onMouseOver="hilite(16280)" onMouseOut="lolite()" onClick="logVariable('quizinfotable')" href="../../../../_variables/quizinfotable.html">$quizinfotable</a>-&gt;<a onClick="logVariable('align')" class="var it40885" onMouseOver="hilite(40885)" onMouseOut="lolite()" href="../../../../_variables/align.html">align</a> = array('center', 'center');
<a name="l468"><span class="linenum"> 468</span></a>          <a class="var it16280" onMouseOver="hilite(16280)" onMouseOut="lolite()" onClick="logVariable('quizinfotable')" href="../../../../_variables/quizinfotable.html">$quizinfotable</a>-&gt;<a onClick="logVariable('width')" class="var it40885" onMouseOver="hilite(40885)" onMouseOut="lolite()" href="../../../../_variables/width.html">width</a> = '60%';
<a name="l469"><span class="linenum"> 469</span></a>          <a class="var it16280" onMouseOver="hilite(16280)" onMouseOut="lolite()" onClick="logVariable('quizinfotable')" href="../../../../_variables/quizinfotable.html">$quizinfotable</a>-&gt;<a onClick="logVariable('attributes')" class="var it40885" onMouseOver="hilite(40885)" onMouseOut="lolite()" href="../../../../_variables/attributes.html">attributes</a>['class'] = 'generaltable titlesleft';
<a name="l470"><span class="linenum"> 470</span></a>          <a class="var it16280" onMouseOver="hilite(16280)" onMouseOut="lolite()" onClick="logVariable('quizinfotable')" href="../../../../_variables/quizinfotable.html">$quizinfotable</a>-&gt;<a onClick="logVariable('data')" class="var it40885" onMouseOver="hilite(40885)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a> = array();
<a name="l471"><span class="linenum"> 471</span></a>  
<a name="l472"><span class="linenum"> 472</span></a>          foreach (<a class="var it16265" onMouseOver="hilite(16265)" onMouseOut="lolite()" onClick="logVariable('quizinfo')" href="../../../../_variables/quizinfo.html">$quizinfo</a> as <a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../../../../_variables/heading.html">$heading</a> =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>) {
<a name="l473"><span class="linenum"> 473</span></a>               <a class="var it16280" onMouseOver="hilite(16280)" onMouseOut="lolite()" onClick="logVariable('quizinfotable')" href="../../../../_variables/quizinfotable.html">$quizinfotable</a>-&gt;<a onClick="logVariable('data')" class="var it40885" onMouseOver="hilite(40885)" onMouseOut="lolite()" href="../../../../_variables/data.html">data</a>[] = array(<a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../../../../_variables/heading.html">$heading</a>, <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>);
<a name="l474"><span class="linenum"> 474</span></a>          }
<a name="l475"><span class="linenum"> 475</span></a>  
<a name="l476"><span class="linenum"> 476</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('table')" href="../../../../_functions/table.html" onMouseOver="funcPopup(event,'table')">table</a>(<a class="var it16280" onMouseOver="hilite(16280)" onMouseOut="lolite()" onClick="logVariable('quizinfotable')" href="../../../../_variables/quizinfotable.html">$quizinfotable</a>);
<a name="l477"><span class="linenum"> 477</span></a>      }
<a name="l478"><span class="linenum"> 478</span></a>  
<a name="l479"><span class="linenum"> 479</span></a>      <span class="comment">/**</span>
<a name="l480"><span class="linenum"> 480</span></a>  <span class="comment">     * Download the table of overall quiz statistics.</span>
<a name="l481"><span class="linenum"> 481</span></a>  <span class="comment">     *</span>
<a name="l482"><span class="linenum"> 482</span></a>  <span class="comment">     * @param array $quizinfo as returned by {@link get_formatted_quiz_info_data()}.</span>
<a name="l483"><span class="linenum"> 483</span></a>  <span class="comment">     */</span>
<a name="l484"><span class="linenum"> 484</span></a>      protected function <a class="function" onClick="logFunction('download_quiz_info_table')" href="../../../../_functions/download_quiz_info_table.html" onMouseOver="funcPopup(event,'download_quiz_info_table')">download_quiz_info_table</a>(<a class="var it16265" onMouseOver="hilite(16265)" onMouseOut="lolite()" onClick="logVariable('quizinfo')" href="../../../../_variables/quizinfo.html">$quizinfo</a>) {
<a name="l485"><span class="linenum"> 485</span></a>          global <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l486"><span class="linenum"> 486</span></a>  
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment">        // XHTML download is a special case.</span>
<a name="l488"><span class="linenum"> 488</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('is_downloading')" href="../../../../_functions/is_downloading.html" onMouseOver="funcPopup(event,'is_downloading')">is_downloading</a>() == 'xhtml') {
<a name="l489"><span class="linenum"> 489</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../../../../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('quizinformation', 'quiz_statistics'), 3);
<a name="l490"><span class="linenum"> 490</span></a>              echo <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('output_quiz_info_table')" href="../../../../_functions/output_quiz_info_table.html" onMouseOver="funcPopup(event,'output_quiz_info_table')">output_quiz_info_table</a>(<a class="var it16265" onMouseOver="hilite(16265)" onMouseOut="lolite()" onClick="logVariable('quizinfo')" href="../../../../_variables/quizinfo.html">$quizinfo</a>);
<a name="l491"><span class="linenum"> 491</span></a>              return;
<a name="l492"><span class="linenum"> 492</span></a>          }
<a name="l493"><span class="linenum"> 493</span></a>  
<a name="l494"><span class="linenum"> 494</span></a>  <span class="comment">        // Reformat the data ready for output.</span>
<a name="l495"><span class="linenum"> 495</span></a>          <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../../../_variables/headers.html">$headers</a> = array();
<a name="l496"><span class="linenum"> 496</span></a>          <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../../_variables/row.html">$row</a> = array();
<a name="l497"><span class="linenum"> 497</span></a>          foreach (<a class="var it16265" onMouseOver="hilite(16265)" onMouseOut="lolite()" onClick="logVariable('quizinfo')" href="../../../../_variables/quizinfo.html">$quizinfo</a> as <a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../../../../_variables/heading.html">$heading</a> =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>) {
<a name="l498"><span class="linenum"> 498</span></a>              <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../../../_variables/headers.html">$headers</a>[] = <a class="var it2925" onMouseOver="hilite(2925)" onMouseOut="lolite()" onClick="logVariable('heading')" href="../../../../_variables/heading.html">$heading</a>;
<a name="l499"><span class="linenum"> 499</span></a>              <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../../_variables/row.html">$row</a>[] = <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>;
<a name="l500"><span class="linenum"> 500</span></a>          }
<a name="l501"><span class="linenum"> 501</span></a>  
<a name="l502"><span class="linenum"> 502</span></a>  <span class="comment">        // Do the output.</span>
<a name="l503"><span class="linenum"> 503</span></a>          <a class="var it16271" onMouseOver="hilite(16271)" onMouseOut="lolite()" onClick="logVariable('exportclass')" href="../../../../_variables/exportclass.html">$exportclass</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('export_class_instance')" href="../../../../_functions/export_class_instance.html" onMouseOver="funcPopup(event,'export_class_instance')">export_class_instance</a>();
<a name="l504"><span class="linenum"> 504</span></a>          <a class="var it16271" onMouseOver="hilite(16271)" onMouseOut="lolite()" onClick="logVariable('exportclass')" href="../../../../_variables/exportclass.html">$exportclass</a>-&gt;<a class="function" onClick="logFunction('start_table')" href="../../../../_functions/start_table.html" onMouseOver="funcPopup(event,'start_table')">start_table</a>(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('quizinformation', 'quiz_statistics'));
<a name="l505"><span class="linenum"> 505</span></a>          <a class="var it16271" onMouseOver="hilite(16271)" onMouseOut="lolite()" onClick="logVariable('exportclass')" href="../../../../_variables/exportclass.html">$exportclass</a>-&gt;<a class="function" onClick="logFunction('output_headers')" href="../../../../_functions/output_headers.html" onMouseOver="funcPopup(event,'output_headers')">output_headers</a>(<a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('headers')" href="../../../../_variables/headers.html">$headers</a>);
<a name="l506"><span class="linenum"> 506</span></a>          <a class="var it16271" onMouseOver="hilite(16271)" onMouseOut="lolite()" onClick="logVariable('exportclass')" href="../../../../_variables/exportclass.html">$exportclass</a>-&gt;<a class="function" onClick="logFunction('add_data')" href="../../../../_functions/add_data.html" onMouseOver="funcPopup(event,'add_data')">add_data</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../../_variables/row.html">$row</a>);
<a name="l507"><span class="linenum"> 507</span></a>          <a class="var it16271" onMouseOver="hilite(16271)" onMouseOut="lolite()" onClick="logVariable('exportclass')" href="../../../../_variables/exportclass.html">$exportclass</a>-&gt;<a class="function" onClick="logFunction('finish_table')" href="../../../../_functions/finish_table.html" onMouseOver="funcPopup(event,'finish_table')">finish_table</a>();
<a name="l508"><span class="linenum"> 508</span></a>      }
<a name="l509"><span class="linenum"> 509</span></a>  
<a name="l510"><span class="linenum"> 510</span></a>      <span class="comment">/**</span>
<a name="l511"><span class="linenum"> 511</span></a>  <span class="comment">     * Output the HTML needed to show the statistics graph.</span>
<a name="l512"><span class="linenum"> 512</span></a>  <span class="comment">     *</span>
<a name="l513"><span class="linenum"> 513</span></a>  <span class="comment">     * @param $quizid</span>
<a name="l514"><span class="linenum"> 514</span></a>  <span class="comment">     * @param $currentgroup</span>
<a name="l515"><span class="linenum"> 515</span></a>  <span class="comment">     * @param $whichattempts</span>
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment">     */</span>
<a name="l517"><span class="linenum"> 517</span></a>      protected function <a class="function" onClick="logFunction('output_statistics_graph')" href="../../../../_functions/output_statistics_graph.html" onMouseOver="funcPopup(event,'output_statistics_graph')">output_statistics_graph</a>(<a class="var it1069" onMouseOver="hilite(1069)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../../_variables/quizid.html">$quizid</a>, <a class="var it2906" onMouseOver="hilite(2906)" onMouseOut="lolite()" onClick="logVariable('currentgroup')" href="../../../../_variables/currentgroup.html">$currentgroup</a>, <a class="var it16260" onMouseOver="hilite(16260)" onMouseOut="lolite()" onClick="logVariable('whichattempts')" href="../../../../_variables/whichattempts.html">$whichattempts</a>) {
<a name="l518"><span class="linenum"> 518</span></a>          global <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../../../_variables/PAGE.html">$PAGE</a>;
<a name="l519"><span class="linenum"> 519</span></a>  
<a name="l520"><span class="linenum"> 520</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('get_renderer')" href="../../../../_functions/get_renderer.html" onMouseOver="funcPopup(event,'get_renderer')">get_renderer</a>('mod_quiz');
<a name="l521"><span class="linenum"> 521</span></a>          <a class="var it1168" onMouseOver="hilite(1168)" onMouseOut="lolite()" onClick="logVariable('imageurl')" href="../../../../_variables/imageurl.html">$imageurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../../../mod/quiz/report/statistics/statistics_graph.php.html">/mod/quiz/report/statistics/statistics_graph.php</a>',
<a name="l522"><span class="linenum"> 522</span></a>                                      <a class="phpfunction" onClick="logFunction('compact')" href="../../../../_functions/compact.html" onMouseOver="phpfuncPopup(event,'compact')">compact</a>('quizid', 'currentgroup', 'whichattempts'));
<a name="l523"><span class="linenum"> 523</span></a>          <a class="var it16281" onMouseOver="hilite(16281)" onMouseOut="lolite()" onClick="logVariable('graphname')" href="../../../../_variables/graphname.html">$graphname</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('statisticsreportgraph', 'quiz_statistics');
<a name="l524"><span class="linenum"> 524</span></a>          echo <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>-&gt;<a class="function" onClick="logFunction('graph')" href="../../../../_functions/graph.html" onMouseOver="funcPopup(event,'graph')">graph</a>(<a class="var it1168" onMouseOver="hilite(1168)" onMouseOut="lolite()" onClick="logVariable('imageurl')" href="../../../../_variables/imageurl.html">$imageurl</a>, <a class="var it16281" onMouseOver="hilite(16281)" onMouseOut="lolite()" onClick="logVariable('graphname')" href="../../../../_variables/graphname.html">$graphname</a>);
<a name="l525"><span class="linenum"> 525</span></a>      }
<a name="l526"><span class="linenum"> 526</span></a>  
<a name="l527"><span class="linenum"> 527</span></a>      <span class="comment">/**</span>
<a name="l528"><span class="linenum"> 528</span></a>  <span class="comment">     * Get the quiz and question statistics, either by loading the cached results,</span>
<a name="l529"><span class="linenum"> 529</span></a>  <span class="comment">     * or by recomputing them.</span>
<a name="l530"><span class="linenum"> 530</span></a>  <span class="comment">     *</span>
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment">     * @param object $quiz               the quiz settings.</span>
<a name="l532"><span class="linenum"> 532</span></a>  <span class="comment">     * @param string $whichattempts      which attempts to use, represented internally as one of the constants as used in</span>
<a name="l533"><span class="linenum"> 533</span></a>  <span class="comment">     *                                   $quiz-&gt;grademethod ie.</span>
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment">     *                                   QUIZ_GRADEAVERAGE, QUIZ_GRADEHIGHEST, QUIZ_ATTEMPTLAST or QUIZ_ATTEMPTFIRST</span>
<a name="l535"><span class="linenum"> 535</span></a>  <span class="comment">     *                                   we calculate stats based on which attempts would affect the grade for each student.</span>
<a name="l536"><span class="linenum"> 536</span></a>  <span class="comment">     * @param string $whichtries         which tries to analyse for response analysis. Will be one of</span>
<a name="l537"><span class="linenum"> 537</span></a>  <span class="comment">     *                                   question_attempt::FIRST_TRY, LAST_TRY or ALL_TRIES.</span>
<a name="l538"><span class="linenum"> 538</span></a>  <span class="comment">     * @param array  $groupstudents      students in this group.</span>
<a name="l539"><span class="linenum"> 539</span></a>  <span class="comment">     * @param array  $questions          full question data.</span>
<a name="l540"><span class="linenum"> 540</span></a>  <span class="comment">     * @param \core\progress\base|null   $progress</span>
<a name="l541"><span class="linenum"> 541</span></a>  <span class="comment">     * @return array with 2 elements:    - $quizstats The statistics for overall attempt scores.</span>
<a name="l542"><span class="linenum"> 542</span></a>  <span class="comment">     *                                   - $questionstats \core_question\statistics\questions\all_calculated_for_qubaid_condition</span>
<a name="l543"><span class="linenum"> 543</span></a>  <span class="comment">     */</span>
<a name="l544"><span class="linenum"> 544</span></a>      public function <a class="function" onClick="logFunction('get_all_stats_and_analysis')" href="../../../../_functions/get_all_stats_and_analysis.html" onMouseOver="funcPopup(event,'get_all_stats_and_analysis')">get_all_stats_and_analysis</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>, <a class="var it16260" onMouseOver="hilite(16260)" onMouseOut="lolite()" onClick="logVariable('whichattempts')" href="../../../../_variables/whichattempts.html">$whichattempts</a>, <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>, <a class="var it8788" onMouseOver="hilite(8788)" onMouseOut="lolite()" onClick="logVariable('groupstudents')" href="../../../../_variables/groupstudents.html">$groupstudents</a>, <a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a>, <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a> = null) {
<a name="l545"><span class="linenum"> 545</span></a>  
<a name="l546"><span class="linenum"> 546</span></a>          if (<a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a> === null) {
<a name="l547"><span class="linenum"> 547</span></a>              <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a> = new \core\progress\<a class="function" onClick="logFunction('null')" href="../../../../_functions/null.html" onMouseOver="funcPopup(event,'null')">null</a>();
<a name="l548"><span class="linenum"> 548</span></a>          }
<a name="l549"><span class="linenum"> 549</span></a>  
<a name="l550"><span class="linenum"> 550</span></a>          <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a> = <a class="function" onClick="logFunction('quiz_statistics_qubaids_condition')" href="../../../../_functions/quiz_statistics_qubaids_condition.html" onMouseOver="funcPopup(event,'quiz_statistics_qubaids_condition')">quiz_statistics_qubaids_condition</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it39928" onMouseOver="hilite(39928)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>, <a class="var it8788" onMouseOver="hilite(8788)" onMouseOut="lolite()" onClick="logVariable('groupstudents')" href="../../../../_variables/groupstudents.html">$groupstudents</a>, <a class="var it16260" onMouseOver="hilite(16260)" onMouseOut="lolite()" onClick="logVariable('whichattempts')" href="../../../../_variables/whichattempts.html">$whichattempts</a>);
<a name="l551"><span class="linenum"> 551</span></a>  
<a name="l552"><span class="linenum"> 552</span></a>          <a class="var it16282" onMouseOver="hilite(16282)" onMouseOut="lolite()" onClick="logVariable('qcalc')" href="../../../../_variables/qcalc.html">$qcalc</a> = new \core_question\statistics\questions\calculator(<a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a>, <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>);
<a name="l553"><span class="linenum"> 553</span></a>  
<a name="l554"><span class="linenum"> 554</span></a>          <a class="var it16283" onMouseOver="hilite(16283)" onMouseOut="lolite()" onClick="logVariable('quizcalc')" href="../../../../_variables/quizcalc.html">$quizcalc</a> = new \quiz_statistics\calculator(<a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>);
<a name="l555"><span class="linenum"> 555</span></a>  
<a name="l556"><span class="linenum"> 556</span></a>          <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>-&gt;<a class="function" onClick="logFunction('start_progress')" href="../../../../_functions/start_progress.html" onMouseOver="funcPopup(event,'start_progress')">start_progress</a>('', 3);
<a name="l557"><span class="linenum"> 557</span></a>          if (<a class="var it16283" onMouseOver="hilite(16283)" onMouseOut="lolite()" onClick="logVariable('quizcalc')" href="../../../../_variables/quizcalc.html">$quizcalc</a>-&gt;<a class="function" onClick="logFunction('get_last_calculated_time')" href="../../../../_functions/get_last_calculated_time.html" onMouseOver="funcPopup(event,'get_last_calculated_time')">get_last_calculated_time</a>(<a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>) === false) {
<a name="l558"><span class="linenum"> 558</span></a>  
<a name="l559"><span class="linenum"> 559</span></a>  <span class="comment">            // Recalculate now.</span>
<a name="l560"><span class="linenum"> 560</span></a>              <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a> = <a class="var it16282" onMouseOver="hilite(16282)" onMouseOut="lolite()" onClick="logVariable('qcalc')" href="../../../../_variables/qcalc.html">$qcalc</a>-&gt;<a class="function" onClick="logFunction('calculate')" href="../../../../_functions/calculate.html" onMouseOver="funcPopup(event,'calculate')">calculate</a>(<a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>);
<a name="l561"><span class="linenum"> 561</span></a>              <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>-&gt;<a class="function" onClick="logFunction('progress')" href="../../../../_functions/progress.html" onMouseOver="funcPopup(event,'progress')">progress</a>(1);
<a name="l562"><span class="linenum"> 562</span></a>  
<a name="l563"><span class="linenum"> 563</span></a>              <a class="var it16263" onMouseOver="hilite(16263)" onMouseOut="lolite()" onClick="logVariable('quizstats')" href="../../../../_variables/quizstats.html">$quizstats</a> = <a class="var it16283" onMouseOver="hilite(16283)" onMouseOut="lolite()" onClick="logVariable('quizcalc')" href="../../../../_variables/quizcalc.html">$quizcalc</a>-&gt;<a class="function" onClick="logFunction('calculate')" href="../../../../_functions/calculate.html" onMouseOver="funcPopup(event,'calculate')">calculate</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>-&gt;<a onClick="logVariable('id')" class="var it39928" onMouseOver="hilite(39928)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>, <a class="var it16260" onMouseOver="hilite(16260)" onMouseOut="lolite()" onClick="logVariable('whichattempts')" href="../../../../_variables/whichattempts.html">$whichattempts</a>, <a class="var it8788" onMouseOver="hilite(8788)" onMouseOut="lolite()" onClick="logVariable('groupstudents')" href="../../../../_variables/groupstudents.html">$groupstudents</a>, <a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a>),
<a name="l564"><span class="linenum"> 564</span></a>                                                <a class="var it16282" onMouseOver="hilite(16282)" onMouseOut="lolite()" onClick="logVariable('qcalc')" href="../../../../_variables/qcalc.html">$qcalc</a>-&gt;<a class="function" onClick="logFunction('get_sum_of_mark_variance')" href="../../../../_functions/get_sum_of_mark_variance.html" onMouseOver="funcPopup(event,'get_sum_of_mark_variance')">get_sum_of_mark_variance</a>());
<a name="l565"><span class="linenum"> 565</span></a>              <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>-&gt;<a class="function" onClick="logFunction('progress')" href="../../../../_functions/progress.html" onMouseOver="funcPopup(event,'progress')">progress</a>(2);
<a name="l566"><span class="linenum"> 566</span></a>          } else {
<a name="l567"><span class="linenum"> 567</span></a>              <a class="var it16263" onMouseOver="hilite(16263)" onMouseOut="lolite()" onClick="logVariable('quizstats')" href="../../../../_variables/quizstats.html">$quizstats</a> = <a class="var it16283" onMouseOver="hilite(16283)" onMouseOut="lolite()" onClick="logVariable('quizcalc')" href="../../../../_variables/quizcalc.html">$quizcalc</a>-&gt;<a class="function" onClick="logFunction('get_cached')" href="../../../../_functions/get_cached.html" onMouseOver="funcPopup(event,'get_cached')">get_cached</a>(<a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>);
<a name="l568"><span class="linenum"> 568</span></a>              <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>-&gt;<a class="function" onClick="logFunction('progress')" href="../../../../_functions/progress.html" onMouseOver="funcPopup(event,'progress')">progress</a>(1);
<a name="l569"><span class="linenum"> 569</span></a>              <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a> = <a class="var it16282" onMouseOver="hilite(16282)" onMouseOut="lolite()" onClick="logVariable('qcalc')" href="../../../../_variables/qcalc.html">$qcalc</a>-&gt;<a class="function" onClick="logFunction('get_cached')" href="../../../../_functions/get_cached.html" onMouseOver="funcPopup(event,'get_cached')">get_cached</a>(<a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>);
<a name="l570"><span class="linenum"> 570</span></a>              <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>-&gt;<a class="function" onClick="logFunction('progress')" href="../../../../_functions/progress.html" onMouseOver="funcPopup(event,'progress')">progress</a>(2);
<a name="l571"><span class="linenum"> 571</span></a>          }
<a name="l572"><span class="linenum"> 572</span></a>  
<a name="l573"><span class="linenum"> 573</span></a>          if (<a class="var it16263" onMouseOver="hilite(16263)" onMouseOut="lolite()" onClick="logVariable('quizstats')" href="../../../../_variables/quizstats.html">$quizstats</a>-&gt;<a class="function" onClick="logFunction('s')" href="../../../../_functions/s.html" onMouseOver="funcPopup(event,'s')">s</a>()) {
<a name="l574"><span class="linenum"> 574</span></a>              <a class="var it672" onMouseOver="hilite(672)" onMouseOut="lolite()" onClick="logVariable('subquestions')" href="../../../../_variables/subquestions.html">$subquestions</a> = <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('get_sub_questions')" href="../../../../_functions/get_sub_questions.html" onMouseOver="funcPopup(event,'get_sub_questions')">get_sub_questions</a>();
<a name="l575"><span class="linenum"> 575</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('analyse_responses_for_all_questions_and_subquestions')" href="../../../../_functions/analyse_responses_for_all_questions_and_subquestions.html" onMouseOver="funcPopup(event,'analyse_responses_for_all_questions_and_subquestions')">analyse_responses_for_all_questions_and_subquestions</a>(<a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a>,
<a name="l576"><span class="linenum"> 576</span></a>                                                                          <a class="var it672" onMouseOver="hilite(672)" onMouseOut="lolite()" onClick="logVariable('subquestions')" href="../../../../_variables/subquestions.html">$subquestions</a>,
<a name="l577"><span class="linenum"> 577</span></a>                                                                          <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>,
<a name="l578"><span class="linenum"> 578</span></a>                                                                          <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>,
<a name="l579"><span class="linenum"> 579</span></a>                                                                          <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>);
<a name="l580"><span class="linenum"> 580</span></a>          }
<a name="l581"><span class="linenum"> 581</span></a>          <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>-&gt;<a class="function" onClick="logFunction('progress')" href="../../../../_functions/progress.html" onMouseOver="funcPopup(event,'progress')">progress</a>(3);
<a name="l582"><span class="linenum"> 582</span></a>          <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>-&gt;<a class="function" onClick="logFunction('end_progress')" href="../../../../_functions/end_progress.html" onMouseOver="funcPopup(event,'end_progress')">end_progress</a>();
<a name="l583"><span class="linenum"> 583</span></a>  
<a name="l584"><span class="linenum"> 584</span></a>          return array(<a class="var it16263" onMouseOver="hilite(16263)" onMouseOut="lolite()" onClick="logVariable('quizstats')" href="../../../../_variables/quizstats.html">$quizstats</a>, <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>);
<a name="l585"><span class="linenum"> 585</span></a>      }
<a name="l586"><span class="linenum"> 586</span></a>  
<a name="l587"><span class="linenum"> 587</span></a>      <span class="comment">/**</span>
<a name="l588"><span class="linenum"> 588</span></a>  <span class="comment">     * Appropriate instance depending if we want html output for the user or not.</span>
<a name="l589"><span class="linenum"> 589</span></a>  <span class="comment">     *</span>
<a name="l590"><span class="linenum"> 590</span></a>  <span class="comment">     * @return \core\progress\base child of \core\progress\base to handle the display (or not) of task progress.</span>
<a name="l591"><span class="linenum"> 591</span></a>  <span class="comment">     */</span>
<a name="l592"><span class="linenum"> 592</span></a>      protected function <a class="function" onClick="logFunction('get_progress_trace_instance')" href="../../../../_functions/get_progress_trace_instance.html" onMouseOver="funcPopup(event,'get_progress_trace_instance')">get_progress_trace_instance</a>() {
<a name="l593"><span class="linenum"> 593</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('progress')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/progress.html">progress</a> === null) {
<a name="l594"><span class="linenum"> 594</span></a>              if (!<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('is_downloading')" href="../../../../_functions/is_downloading.html" onMouseOver="funcPopup(event,'is_downloading')">is_downloading</a>()) {
<a name="l595"><span class="linenum"> 595</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('progress')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/progress.html">progress</a> = new \core\progress\display_if_slow(<a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('calculatingallstats', 'quiz_statistics'));
<a name="l596"><span class="linenum"> 596</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('progress')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/progress.html">progress</a>-&gt;<a class="function" onClick="logFunction('set_display_names')" href="../../../../_functions/set_display_names.html" onMouseOver="funcPopup(event,'set_display_names')">set_display_names</a>();
<a name="l597"><span class="linenum"> 597</span></a>              } else {
<a name="l598"><span class="linenum"> 598</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('progress')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/progress.html">progress</a> = new \core\progress\<a class="function" onClick="logFunction('null')" href="../../../../_functions/null.html" onMouseOver="funcPopup(event,'null')">null</a>();
<a name="l599"><span class="linenum"> 599</span></a>              }
<a name="l600"><span class="linenum"> 600</span></a>          }
<a name="l601"><span class="linenum"> 601</span></a>          return <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('progress')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/progress.html">progress</a>;
<a name="l602"><span class="linenum"> 602</span></a>      }
<a name="l603"><span class="linenum"> 603</span></a>  
<a name="l604"><span class="linenum"> 604</span></a>      <span class="comment">/**</span>
<a name="l605"><span class="linenum"> 605</span></a>  <span class="comment">     * Analyse responses for all questions and sub questions in this quiz.</span>
<a name="l606"><span class="linenum"> 606</span></a>  <span class="comment">     *</span>
<a name="l607"><span class="linenum"> 607</span></a>  <span class="comment">     * @param object[] $questions as returned by self::load_and_initialise_questions_for_calculations</span>
<a name="l608"><span class="linenum"> 608</span></a>  <span class="comment">     * @param object[] $subquestions full question objects.</span>
<a name="l609"><span class="linenum"> 609</span></a>  <span class="comment">     * @param qubaid_condition $qubaids the question usages whose responses to analyse.</span>
<a name="l610"><span class="linenum"> 610</span></a>  <span class="comment">     * @param string $whichtries which tries to analyse \question_attempt::FIRST_TRY, LAST_TRY or ALL_TRIES.</span>
<a name="l611"><span class="linenum"> 611</span></a>  <span class="comment">     * @param null|\core\progress\base $progress Used to indicate progress of task.</span>
<a name="l612"><span class="linenum"> 612</span></a>  <span class="comment">     */</span>
<a name="l613"><span class="linenum"> 613</span></a>      protected function <a class="function" onClick="logFunction('analyse_responses_for_all_questions_and_subquestions')" href="../../../../_functions/analyse_responses_for_all_questions_and_subquestions.html" onMouseOver="funcPopup(event,'analyse_responses_for_all_questions_and_subquestions')">analyse_responses_for_all_questions_and_subquestions</a>(<a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a>, <a class="var it672" onMouseOver="hilite(672)" onMouseOut="lolite()" onClick="logVariable('subquestions')" href="../../../../_variables/subquestions.html">$subquestions</a>, <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>,
<a name="l614"><span class="linenum"> 614</span></a>                                                                              <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>, <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a> = null) {
<a name="l615"><span class="linenum"> 615</span></a>          if (<a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a> === null) {
<a name="l616"><span class="linenum"> 616</span></a>              <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a> = new \core\progress\<a class="function" onClick="logFunction('null')" href="../../../../_functions/null.html" onMouseOver="funcPopup(event,'null')">null</a>();
<a name="l617"><span class="linenum"> 617</span></a>          }
<a name="l618"><span class="linenum"> 618</span></a>  
<a name="l619"><span class="linenum"> 619</span></a>  <span class="comment">        // Starting response analysis tasks.</span>
<a name="l620"><span class="linenum"> 620</span></a>          <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>-&gt;<a class="function" onClick="logFunction('start_progress')" href="../../../../_functions/start_progress.html" onMouseOver="funcPopup(event,'start_progress')">start_progress</a>('', <a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a>) + <a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it672" onMouseOver="hilite(672)" onMouseOut="lolite()" onClick="logVariable('subquestions')" href="../../../../_variables/subquestions.html">$subquestions</a>));
<a name="l621"><span class="linenum"> 621</span></a>  
<a name="l622"><span class="linenum"> 622</span></a>          <a class="var it6074" onMouseOver="hilite(6074)" onMouseOut="lolite()" onClick="logVariable('done')" href="../../../../_variables/done.html">$done</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('analyse_responses_for_questions')" href="../../../../_functions/analyse_responses_for_questions.html" onMouseOver="funcPopup(event,'analyse_responses_for_questions')">analyse_responses_for_questions</a>(<a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a>, <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>, <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>, <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>);
<a name="l623"><span class="linenum"> 623</span></a>  
<a name="l624"><span class="linenum"> 624</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('analyse_responses_for_questions')" href="../../../../_functions/analyse_responses_for_questions.html" onMouseOver="funcPopup(event,'analyse_responses_for_questions')">analyse_responses_for_questions</a>(<a class="var it672" onMouseOver="hilite(672)" onMouseOut="lolite()" onClick="logVariable('subquestions')" href="../../../../_variables/subquestions.html">$subquestions</a>, <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>, <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>, <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>, <a class="var it6074" onMouseOver="hilite(6074)" onMouseOut="lolite()" onClick="logVariable('done')" href="../../../../_variables/done.html">$done</a>);
<a name="l625"><span class="linenum"> 625</span></a>  
<a name="l626"><span class="linenum"> 626</span></a>  <span class="comment">        // Finished all response analysis tasks.</span>
<a name="l627"><span class="linenum"> 627</span></a>          <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>-&gt;<a class="function" onClick="logFunction('end_progress')" href="../../../../_functions/end_progress.html" onMouseOver="funcPopup(event,'end_progress')">end_progress</a>();
<a name="l628"><span class="linenum"> 628</span></a>      }
<a name="l629"><span class="linenum"> 629</span></a>  
<a name="l630"><span class="linenum"> 630</span></a>      <span class="comment">/**</span>
<a name="l631"><span class="linenum"> 631</span></a>  <span class="comment">     * Analyse responses for an array of questions or sub questions.</span>
<a name="l632"><span class="linenum"> 632</span></a>  <span class="comment">     *</span>
<a name="l633"><span class="linenum"> 633</span></a>  <span class="comment">     * @param object[] $questions  as returned by self::load_and_initialise_questions_for_calculations.</span>
<a name="l634"><span class="linenum"> 634</span></a>  <span class="comment">     * @param qubaid_condition $qubaids the question usages whose responses to analyse.</span>
<a name="l635"><span class="linenum"> 635</span></a>  <span class="comment">     * @param string $whichtries which tries to analyse \question_attempt::FIRST_TRY, LAST_TRY or ALL_TRIES.</span>
<a name="l636"><span class="linenum"> 636</span></a>  <span class="comment">     * @param null|\core\progress\base $progress Used to indicate progress of task.</span>
<a name="l637"><span class="linenum"> 637</span></a>  <span class="comment">     * @param int[] $done array keys are ids of questions that have been analysed before calling method.</span>
<a name="l638"><span class="linenum"> 638</span></a>  <span class="comment">     * @return array array keys are ids of questions that were analysed after this method call.</span>
<a name="l639"><span class="linenum"> 639</span></a>  <span class="comment">     */</span>
<a name="l640"><span class="linenum"> 640</span></a>      protected function <a class="function" onClick="logFunction('analyse_responses_for_questions')" href="../../../../_functions/analyse_responses_for_questions.html" onMouseOver="funcPopup(event,'analyse_responses_for_questions')">analyse_responses_for_questions</a>(<a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a>, <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>, <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>, <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a> = null, <a class="var it6074" onMouseOver="hilite(6074)" onMouseOut="lolite()" onClick="logVariable('done')" href="../../../../_variables/done.html">$done</a> = array()) {
<a name="l641"><span class="linenum"> 641</span></a>          <a class="var it16284" onMouseOver="hilite(16284)" onMouseOut="lolite()" onClick="logVariable('countquestions')" href="../../../../_variables/countquestions.html">$countquestions</a> = <a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a>);
<a name="l642"><span class="linenum"> 642</span></a>          if (!<a class="var it16284" onMouseOver="hilite(16284)" onMouseOut="lolite()" onClick="logVariable('countquestions')" href="../../../../_variables/countquestions.html">$countquestions</a>) {
<a name="l643"><span class="linenum"> 643</span></a>              return array();
<a name="l644"><span class="linenum"> 644</span></a>          }
<a name="l645"><span class="linenum"> 645</span></a>          if (<a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a> === null) {
<a name="l646"><span class="linenum"> 646</span></a>              <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a> = new \core\progress\<a class="function" onClick="logFunction('null')" href="../../../../_functions/null.html" onMouseOver="funcPopup(event,'null')">null</a>();
<a name="l647"><span class="linenum"> 647</span></a>          }
<a name="l648"><span class="linenum"> 648</span></a>          <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>-&gt;<a class="function" onClick="logFunction('start_progress')" href="../../../../_functions/start_progress.html" onMouseOver="funcPopup(event,'start_progress')">start_progress</a>('', <a class="var it16284" onMouseOver="hilite(16284)" onMouseOut="lolite()" onClick="logVariable('countquestions')" href="../../../../_variables/countquestions.html">$countquestions</a>, <a class="var it16284" onMouseOver="hilite(16284)" onMouseOut="lolite()" onClick="logVariable('countquestions')" href="../../../../_variables/countquestions.html">$countquestions</a>);
<a name="l649"><span class="linenum"> 649</span></a>          foreach (<a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a> as <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>) {
<a name="l650"><span class="linenum"> 650</span></a>              <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>-&gt;<a class="function" onClick="logFunction('increment_progress')" href="../../../../_functions/increment_progress.html" onMouseOver="funcPopup(event,'increment_progress')">increment_progress</a>();
<a name="l651"><span class="linenum"> 651</span></a>              if (question_bank::<a class="function" onClick="logFunction('get_qtype')" href="../../../../_functions/get_qtype.html" onMouseOver="funcPopup(event,'get_qtype')">get_qtype</a>(<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('qtype')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../../../_variables/qtype.html">qtype</a>, false)-&gt;<a class="function" onClick="logFunction('can_analyse_responses')" href="../../../../_functions/can_analyse_responses.html" onMouseOver="funcPopup(event,'can_analyse_responses')">can_analyse_responses</a>()  &amp;&amp; !isset(<a class="var it6074" onMouseOver="hilite(6074)" onMouseOut="lolite()" onClick="logVariable('done')" href="../../../../_variables/done.html">$done</a>[<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('id')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>])) {
<a name="l652"><span class="linenum"> 652</span></a>                  <a class="var it16285" onMouseOver="hilite(16285)" onMouseOut="lolite()" onClick="logVariable('responesstats')" href="../../../../_variables/responesstats.html">$responesstats</a> = new \core_question\statistics\responses\analyser(<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>, <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>);
<a name="l653"><span class="linenum"> 653</span></a>                  if (<a class="var it16285" onMouseOver="hilite(16285)" onMouseOut="lolite()" onClick="logVariable('responesstats')" href="../../../../_variables/responesstats.html">$responesstats</a>-&gt;<a class="function" onClick="logFunction('get_last_analysed_time')" href="../../../../_functions/get_last_analysed_time.html" onMouseOver="funcPopup(event,'get_last_analysed_time')">get_last_analysed_time</a>(<a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>, <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>) === false) {
<a name="l654"><span class="linenum"> 654</span></a>                      <a class="var it16285" onMouseOver="hilite(16285)" onMouseOut="lolite()" onClick="logVariable('responesstats')" href="../../../../_variables/responesstats.html">$responesstats</a>-&gt;<a class="function" onClick="logFunction('calculate')" href="../../../../_functions/calculate.html" onMouseOver="funcPopup(event,'calculate')">calculate</a>(<a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>, <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>);
<a name="l655"><span class="linenum"> 655</span></a>                  }
<a name="l656"><span class="linenum"> 656</span></a>              }
<a name="l657"><span class="linenum"> 657</span></a>              <a class="var it6074" onMouseOver="hilite(6074)" onMouseOut="lolite()" onClick="logVariable('done')" href="../../../../_variables/done.html">$done</a>[<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('id')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>] = 1;
<a name="l658"><span class="linenum"> 658</span></a>          }
<a name="l659"><span class="linenum"> 659</span></a>          <a class="var it3196" onMouseOver="hilite(3196)" onMouseOut="lolite()" onClick="logVariable('progress')" href="../../../../_variables/progress.html">$progress</a>-&gt;<a class="function" onClick="logFunction('end_progress')" href="../../../../_functions/end_progress.html" onMouseOver="funcPopup(event,'end_progress')">end_progress</a>();
<a name="l660"><span class="linenum"> 660</span></a>          return <a class="var it6074" onMouseOver="hilite(6074)" onMouseOut="lolite()" onClick="logVariable('done')" href="../../../../_variables/done.html">$done</a>;
<a name="l661"><span class="linenum"> 661</span></a>      }
<a name="l662"><span class="linenum"> 662</span></a>  
<a name="l663"><span class="linenum"> 663</span></a>      <span class="comment">/**</span>
<a name="l664"><span class="linenum"> 664</span></a>  <span class="comment">     * Return a little form for the user to request to download the full report, including quiz stats and response analysis for</span>
<a name="l665"><span class="linenum"> 665</span></a>  <span class="comment">     * all questions and sub-questions.</span>
<a name="l666"><span class="linenum"> 666</span></a>  <span class="comment">     *</span>
<a name="l667"><span class="linenum"> 667</span></a>  <span class="comment">     * @return string HTML.</span>
<a name="l668"><span class="linenum"> 668</span></a>  <span class="comment">     */</span>
<a name="l669"><span class="linenum"> 669</span></a>      protected function <a class="function" onClick="logFunction('everything_download_options')" href="../../../../_functions/everything_download_options.html" onMouseOver="funcPopup(event,'everything_download_options')">everything_download_options</a>() {
<a name="l670"><span class="linenum"> 670</span></a>          <a class="var it16286" onMouseOver="hilite(16286)" onMouseOut="lolite()" onClick="logVariable('downloadoptions')" href="../../../../_variables/downloadoptions.html">$downloadoptions</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;<a class="function" onClick="logFunction('get_download_menu')" href="../../../../_functions/get_download_menu.html" onMouseOver="funcPopup(event,'get_download_menu')">get_download_menu</a>();
<a name="l671"><span class="linenum"> 671</span></a>  
<a name="l672"><span class="linenum"> 672</span></a>          <a class="var it16287" onMouseOver="hilite(16287)" onMouseOut="lolite()" onClick="logVariable('downloadelements')" href="../../../../_variables/downloadelements.html">$downloadelements</a> = new stdClass();
<a name="l673"><span class="linenum"> 673</span></a>          <a class="var it16287" onMouseOver="hilite(16287)" onMouseOut="lolite()" onClick="logVariable('downloadelements')" href="../../../../_variables/downloadelements.html">$downloadelements</a>-&gt;<a onClick="logVariable('formatsmenu')" class="var it40886" onMouseOver="hilite(40886)" onMouseOut="lolite()" href="../../../../_variables/formatsmenu.html">formatsmenu</a> = <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('select')" href="../../../../_functions/select.html" onMouseOver="funcPopup(event,'select')">select</a>(<a class="var it16286" onMouseOver="hilite(16286)" onMouseOut="lolite()" onClick="logVariable('downloadoptions')" href="../../../../_variables/downloadoptions.html">$downloadoptions</a>, 'download',
<a name="l674"><span class="linenum"> 674</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;defaultdownloadformat, false);
<a name="l675"><span class="linenum"> 675</span></a>          <a class="var it16287" onMouseOver="hilite(16287)" onMouseOut="lolite()" onClick="logVariable('downloadelements')" href="../../../../_variables/downloadelements.html">$downloadelements</a>-&gt;<a onClick="logVariable('downloadbutton')" class="var it40886" onMouseOver="hilite(40886)" onMouseOut="lolite()" href="../../../../_variables/downloadbutton.html">downloadbutton</a> = '&lt;input type=&quot;submit&quot; value=&quot;' .
<a name="l676"><span class="linenum"> 676</span></a>                  <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('download') . '&quot;/&gt;';
<a name="l677"><span class="linenum"> 677</span></a>  
<a name="l678"><span class="linenum"> 678</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = '&lt;form action=&quot;'. <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('table')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../../_variables/table.html">table</a>-&gt;baseurl .'&quot; method=&quot;post&quot;&gt;';
<a name="l679"><span class="linenum"> 679</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= '&lt;div class=&quot;mdl-align&quot;&gt;';
<a name="l680"><span class="linenum"> 680</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= '&lt;input type=&quot;hidden&quot; name=&quot;everything&quot; value=&quot;1&quot;/&gt;';
<a name="l681"><span class="linenum"> 681</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('label', <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('downloadeverything', 'quiz_statistics', <a class="var it16287" onMouseOver="hilite(16287)" onMouseOut="lolite()" onClick="logVariable('downloadelements')" href="../../../../_variables/downloadelements.html">$downloadelements</a>));
<a name="l682"><span class="linenum"> 682</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= '&lt;/div&gt;&lt;/form&gt;';
<a name="l683"><span class="linenum"> 683</span></a>  
<a name="l684"><span class="linenum"> 684</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l685"><span class="linenum"> 685</span></a>      }
<a name="l686"><span class="linenum"> 686</span></a>  
<a name="l687"><span class="linenum"> 687</span></a>      <span class="comment">/**</span>
<a name="l688"><span class="linenum"> 688</span></a>  <span class="comment">     * Return HTML for a message that says when the stats were last calculated and a 'recalculate now' button.</span>
<a name="l689"><span class="linenum"> 689</span></a>  <span class="comment">     *</span>
<a name="l690"><span class="linenum"> 690</span></a>  <span class="comment">     * @param int    $lastcachetime  the time the stats were last cached.</span>
<a name="l691"><span class="linenum"> 691</span></a>  <span class="comment">     * @param int    $quizid         the quiz id.</span>
<a name="l692"><span class="linenum"> 692</span></a>  <span class="comment">     * @param array  $groupstudents  ids of students in the group or empty array if groups not used.</span>
<a name="l693"><span class="linenum"> 693</span></a>  <span class="comment">     * @param string $whichattempts which attempts to use, represented internally as one of the constants as used in</span>
<a name="l694"><span class="linenum"> 694</span></a>  <span class="comment">     *                                   $quiz-&gt;grademethod ie.</span>
<a name="l695"><span class="linenum"> 695</span></a>  <span class="comment">     *                                   QUIZ_GRADEAVERAGE, QUIZ_GRADEHIGHEST, QUIZ_ATTEMPTLAST or QUIZ_ATTEMPTFIRST</span>
<a name="l696"><span class="linenum"> 696</span></a>  <span class="comment">     *                                   we calculate stats based on which attempts would affect the grade for each student.</span>
<a name="l697"><span class="linenum"> 697</span></a>  <span class="comment">     * @param moodle_url $reporturl url for this report</span>
<a name="l698"><span class="linenum"> 698</span></a>  <span class="comment">     * @return string HTML.</span>
<a name="l699"><span class="linenum"> 699</span></a>  <span class="comment">     */</span>
<a name="l700"><span class="linenum"> 700</span></a>      protected function <a class="function" onClick="logFunction('output_caching_info')" href="../../../../_functions/output_caching_info.html" onMouseOver="funcPopup(event,'output_caching_info')">output_caching_info</a>(<a class="var it16290" onMouseOver="hilite(16290)" onMouseOut="lolite()" onClick="logVariable('lastcachetime')" href="../../../../_variables/lastcachetime.html">$lastcachetime</a>, <a class="var it1069" onMouseOver="hilite(1069)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../../_variables/quizid.html">$quizid</a>, <a class="var it8788" onMouseOver="hilite(8788)" onMouseOut="lolite()" onClick="logVariable('groupstudents')" href="../../../../_variables/groupstudents.html">$groupstudents</a>, <a class="var it16260" onMouseOver="hilite(16260)" onMouseOut="lolite()" onClick="logVariable('whichattempts')" href="../../../../_variables/whichattempts.html">$whichattempts</a>, <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>) {
<a name="l701"><span class="linenum"> 701</span></a>          global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l702"><span class="linenum"> 702</span></a>  
<a name="l703"><span class="linenum"> 703</span></a>          if (empty(<a class="var it16290" onMouseOver="hilite(16290)" onMouseOut="lolite()" onClick="logVariable('lastcachetime')" href="../../../../_variables/lastcachetime.html">$lastcachetime</a>)) {
<a name="l704"><span class="linenum"> 704</span></a>              return '';
<a name="l705"><span class="linenum"> 705</span></a>          }
<a name="l706"><span class="linenum"> 706</span></a>  
<a name="l707"><span class="linenum"> 707</span></a>  <span class="comment">        // Find the number of attempts since the cached statistics were computed.</span>
<a name="l708"><span class="linenum"> 708</span></a>          <a class="function" onClick="logFunction('list')" href="../../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it16291" onMouseOver="hilite(16291)" onMouseOut="lolite()" onClick="logVariable('fromqa')" href="../../../../_variables/fromqa.html">$fromqa</a>, <a class="var it16292" onMouseOver="hilite(16292)" onMouseOut="lolite()" onClick="logVariable('whereqa')" href="../../../../_variables/whereqa.html">$whereqa</a>, <a class="var it16293" onMouseOver="hilite(16293)" onMouseOut="lolite()" onClick="logVariable('qaparams')" href="../../../../_variables/qaparams.html">$qaparams</a>) = <a class="function" onClick="logFunction('quiz_statistics_attempts_sql')" href="../../../../_functions/quiz_statistics_attempts_sql.html" onMouseOver="funcPopup(event,'quiz_statistics_attempts_sql')">quiz_statistics_attempts_sql</a>(<a class="var it1069" onMouseOver="hilite(1069)" onMouseOut="lolite()" onClick="logVariable('quizid')" href="../../../../_variables/quizid.html">$quizid</a>, <a class="var it8788" onMouseOver="hilite(8788)" onMouseOut="lolite()" onClick="logVariable('groupstudents')" href="../../../../_variables/groupstudents.html">$groupstudents</a>, <a class="var it16260" onMouseOver="hilite(16260)" onMouseOut="lolite()" onClick="logVariable('whichattempts')" href="../../../../_variables/whichattempts.html">$whichattempts</a>, true);
<a name="l709"><span class="linenum"> 709</span></a>          <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records_sql')" href="../../../../_functions/count_records_sql.html" onMouseOver="funcPopup(event,'count_records_sql')">count_records_sql</a>(&quot;
<a name="l710"><span class="linenum"> 710</span></a>                  SELECT <a class="phpfunction" onClick="logFunction('COUNT')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>(1)
<a name="l711"><span class="linenum"> 711</span></a>                  FROM <a class="var it16291" onMouseOver="hilite(16291)" onMouseOut="lolite()" onClick="logVariable('fromqa')" href="../../../../_variables/fromqa.html">$fromqa</a>
<a name="l712"><span class="linenum"> 712</span></a>                  WHERE <a class="var it16292" onMouseOver="hilite(16292)" onMouseOut="lolite()" onClick="logVariable('whereqa')" href="../../../../_variables/whereqa.html">$whereqa</a>
<a name="l713"><span class="linenum"> 713</span></a>                  AND quiza.timefinish &gt; {<a class="var it16290" onMouseOver="hilite(16290)" onMouseOut="lolite()" onClick="logVariable('lastcachetime')" href="../../../../_variables/lastcachetime.html">$lastcachetime</a>}&quot;, <a class="var it16293" onMouseOver="hilite(16293)" onMouseOut="lolite()" onClick="logVariable('qaparams')" href="../../../../_variables/qaparams.html">$qaparams</a>);
<a name="l714"><span class="linenum"> 714</span></a>  
<a name="l715"><span class="linenum"> 715</span></a>          if (!<a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a>) {
<a name="l716"><span class="linenum"> 716</span></a>              <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a> = 0;
<a name="l717"><span class="linenum"> 717</span></a>          }
<a name="l718"><span class="linenum"> 718</span></a>  
<a name="l719"><span class="linenum"> 719</span></a>  <span class="comment">        // Generate the output.</span>
<a name="l720"><span class="linenum"> 720</span></a>          <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../../../_variables/a.html">$a</a> = new stdClass();
<a name="l721"><span class="linenum"> 721</span></a>          <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('lastcalculated')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../../../../_variables/lastcalculated.html">lastcalculated</a> = <a class="function" onClick="logFunction('format_time')" href="../../../../_functions/format_time.html" onMouseOver="funcPopup(event,'format_time')">format_time</a>(<a class="phpfunction" onClick="logFunction('time')" href="../../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>() - <a class="var it16290" onMouseOver="hilite(16290)" onMouseOut="lolite()" onClick="logVariable('lastcachetime')" href="../../../../_variables/lastcachetime.html">$lastcachetime</a>);
<a name="l722"><span class="linenum"> 722</span></a>          <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../../../_variables/a.html">$a</a>-&gt;<a onClick="logVariable('count')" class="var it39489" onMouseOver="hilite(39489)" onMouseOut="lolite()" href="../../../../_variables/count.html">count</a> = <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../../_variables/count.html">$count</a>;
<a name="l723"><span class="linenum"> 723</span></a>  
<a name="l724"><span class="linenum"> 724</span></a>          <a class="var it16295" onMouseOver="hilite(16295)" onMouseOut="lolite()" onClick="logVariable('recalcualteurl')" href="../../../../_variables/recalcualteurl.html">$recalcualteurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>,
<a name="l725"><span class="linenum"> 725</span></a>                  array('recalculate' =&gt; 1, 'sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../../../../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>()));
<a name="l726"><span class="linenum"> 726</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = '';
<a name="l727"><span class="linenum"> 727</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../../../../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>(
<a name="l728"><span class="linenum"> 728</span></a>                  'boxaligncenter generalbox boxwidthnormal mdl-align', 'cachingnotice');
<a name="l729"><span class="linenum"> 729</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('lastcalculated', 'quiz_statistics', <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../../../_variables/a.html">$a</a>);
<a name="l730"><span class="linenum"> 730</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('single_button')" href="../../../../_functions/single_button.html" onMouseOver="funcPopup(event,'single_button')">single_button</a>(<a class="var it16295" onMouseOver="hilite(16295)" onMouseOut="lolite()" onClick="logVariable('recalcualteurl')" href="../../../../_variables/recalcualteurl.html">$recalcualteurl</a>,
<a name="l731"><span class="linenum"> 731</span></a>                  <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('recalculatenow', 'quiz_statistics'));
<a name="l732"><span class="linenum"> 732</span></a>          <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../../../../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>(true);
<a name="l733"><span class="linenum"> 733</span></a>  
<a name="l734"><span class="linenum"> 734</span></a>          return <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l735"><span class="linenum"> 735</span></a>      }
<a name="l736"><span class="linenum"> 736</span></a>  
<a name="l737"><span class="linenum"> 737</span></a>      <span class="comment">/**</span>
<a name="l738"><span class="linenum"> 738</span></a>  <span class="comment">     * Clear the cached data for a particular report configuration. This will trigger a re-computation the next time the report</span>
<a name="l739"><span class="linenum"> 739</span></a>  <span class="comment">     * is displayed.</span>
<a name="l740"><span class="linenum"> 740</span></a>  <span class="comment">     *</span>
<a name="l741"><span class="linenum"> 741</span></a>  <span class="comment">     * @param $qubaids qubaid_condition</span>
<a name="l742"><span class="linenum"> 742</span></a>  <span class="comment">     */</span>
<a name="l743"><span class="linenum"> 743</span></a>      protected function <a class="function" onClick="logFunction('clear_cached_data')" href="../../../../_functions/clear_cached_data.html" onMouseOver="funcPopup(event,'clear_cached_data')">clear_cached_data</a>(<a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>) {
<a name="l744"><span class="linenum"> 744</span></a>          global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l745"><span class="linenum"> 745</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('quiz_statistics', array('hashcode' =&gt; <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>-&gt;<a class="function" onClick="logFunction('get_hash_code')" href="../../../../_functions/get_hash_code.html" onMouseOver="funcPopup(event,'get_hash_code')">get_hash_code</a>()));
<a name="l746"><span class="linenum"> 746</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('question_statistics', array('hashcode' =&gt; <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>-&gt;<a class="function" onClick="logFunction('get_hash_code')" href="../../../../_functions/get_hash_code.html" onMouseOver="funcPopup(event,'get_hash_code')">get_hash_code</a>()));
<a name="l747"><span class="linenum"> 747</span></a>          <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('question_response_analysis', array('hashcode' =&gt; <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>-&gt;<a class="function" onClick="logFunction('get_hash_code')" href="../../../../_functions/get_hash_code.html" onMouseOver="funcPopup(event,'get_hash_code')">get_hash_code</a>()));
<a name="l748"><span class="linenum"> 748</span></a>      }
<a name="l749"><span class="linenum"> 749</span></a>  
<a name="l750"><span class="linenum"> 750</span></a>      <span class="comment">/**</span>
<a name="l751"><span class="linenum"> 751</span></a>  <span class="comment">     * Load the questions in this quiz and add some properties to the objects needed in the reports.</span>
<a name="l752"><span class="linenum"> 752</span></a>  <span class="comment">     *</span>
<a name="l753"><span class="linenum"> 753</span></a>  <span class="comment">     * @param object $quiz the quiz.</span>
<a name="l754"><span class="linenum"> 754</span></a>  <span class="comment">     * @return array of questions for this quiz.</span>
<a name="l755"><span class="linenum"> 755</span></a>  <span class="comment">     */</span>
<a name="l756"><span class="linenum"> 756</span></a>      public function <a class="function" onClick="logFunction('load_and_initialise_questions_for_calculations')" href="../../../../_functions/load_and_initialise_questions_for_calculations.html" onMouseOver="funcPopup(event,'load_and_initialise_questions_for_calculations')">load_and_initialise_questions_for_calculations</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>) {
<a name="l757"><span class="linenum"> 757</span></a>  <span class="comment">        // Load the questions.</span>
<a name="l758"><span class="linenum"> 758</span></a>          <a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a> = <a class="function" onClick="logFunction('quiz_report_get_significant_questions')" href="../../../../_functions/quiz_report_get_significant_questions.html" onMouseOver="funcPopup(event,'quiz_report_get_significant_questions')">quiz_report_get_significant_questions</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('quiz')" href="../../../../_variables/quiz.html">$quiz</a>);
<a name="l759"><span class="linenum"> 759</span></a>          <a class="var it3258" onMouseOver="hilite(3258)" onMouseOut="lolite()" onClick="logVariable('questionids')" href="../../../../_variables/questionids.html">$questionids</a> = array();
<a name="l760"><span class="linenum"> 760</span></a>          foreach (<a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a> as <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>) {
<a name="l761"><span class="linenum"> 761</span></a>              <a class="var it3258" onMouseOver="hilite(3258)" onMouseOut="lolite()" onClick="logVariable('questionids')" href="../../../../_variables/questionids.html">$questionids</a>[] = <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('id')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>;
<a name="l762"><span class="linenum"> 762</span></a>          }
<a name="l763"><span class="linenum"> 763</span></a>          <a class="var it16296" onMouseOver="hilite(16296)" onMouseOut="lolite()" onClick="logVariable('fullquestions')" href="../../../../_variables/fullquestions.html">$fullquestions</a> = <a class="function" onClick="logFunction('question_load_questions')" href="../../../../_functions/question_load_questions.html" onMouseOver="funcPopup(event,'question_load_questions')">question_load_questions</a>(<a class="var it3258" onMouseOver="hilite(3258)" onMouseOut="lolite()" onClick="logVariable('questionids')" href="../../../../_variables/questionids.html">$questionids</a>);
<a name="l764"><span class="linenum"> 764</span></a>          foreach (<a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a> as <a class="var it16297" onMouseOver="hilite(16297)" onMouseOut="lolite()" onClick="logVariable('qno')" href="../../../../_variables/qno.html">$qno</a> =&gt; <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>) {
<a name="l765"><span class="linenum"> 765</span></a>              <a class="var it583" onMouseOver="hilite(583)" onMouseOut="lolite()" onClick="logVariable('q')" href="../../../../_variables/q.html">$q</a> = <a class="var it16296" onMouseOver="hilite(16296)" onMouseOut="lolite()" onClick="logVariable('fullquestions')" href="../../../../_variables/fullquestions.html">$fullquestions</a>[<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('id')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>];
<a name="l766"><span class="linenum"> 766</span></a>              <a class="var it583" onMouseOver="hilite(583)" onMouseOut="lolite()" onClick="logVariable('q')" href="../../../../_variables/q.html">$q</a>-&gt;<a onClick="logVariable('maxmark')" class="var it39621" onMouseOver="hilite(39621)" onMouseOut="lolite()" href="../../../../_variables/maxmark.html">maxmark</a> = <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('maxmark')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../../../_variables/maxmark.html">maxmark</a>;
<a name="l767"><span class="linenum"> 767</span></a>              <a class="var it583" onMouseOver="hilite(583)" onMouseOut="lolite()" onClick="logVariable('q')" href="../../../../_variables/q.html">$q</a>-&gt;<a onClick="logVariable('slot')" class="var it39621" onMouseOver="hilite(39621)" onMouseOut="lolite()" href="../../../../_variables/slot.html">slot</a> = <a class="var it16297" onMouseOver="hilite(16297)" onMouseOut="lolite()" onClick="logVariable('qno')" href="../../../../_variables/qno.html">$qno</a>;
<a name="l768"><span class="linenum"> 768</span></a>              <a class="var it583" onMouseOver="hilite(583)" onMouseOut="lolite()" onClick="logVariable('q')" href="../../../../_variables/q.html">$q</a>-&gt;<a onClick="logVariable('number')" class="var it39621" onMouseOver="hilite(39621)" onMouseOut="lolite()" href="../../../../_variables/number.html">number</a> = <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('number')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../../../_variables/number.html">number</a>;
<a name="l769"><span class="linenum"> 769</span></a>              <a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a>[<a class="var it16297" onMouseOver="hilite(16297)" onMouseOut="lolite()" onClick="logVariable('qno')" href="../../../../_variables/qno.html">$qno</a>] = <a class="var it583" onMouseOver="hilite(583)" onMouseOut="lolite()" onClick="logVariable('q')" href="../../../../_variables/q.html">$q</a>;
<a name="l770"><span class="linenum"> 770</span></a>          }
<a name="l771"><span class="linenum"> 771</span></a>          return <a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a>;
<a name="l772"><span class="linenum"> 772</span></a>      }
<a name="l773"><span class="linenum"> 773</span></a>  
<a name="l774"><span class="linenum"> 774</span></a>      <span class="comment">/**</span>
<a name="l775"><span class="linenum"> 775</span></a>  <span class="comment">     * Output all response analysis for all questions, sub-questions and variants. For download in a number of formats.</span>
<a name="l776"><span class="linenum"> 776</span></a>  <span class="comment">     *</span>
<a name="l777"><span class="linenum"> 777</span></a>  <span class="comment">     * @param $qubaids</span>
<a name="l778"><span class="linenum"> 778</span></a>  <span class="comment">     * @param $questions</span>
<a name="l779"><span class="linenum"> 779</span></a>  <span class="comment">     * @param $questionstats</span>
<a name="l780"><span class="linenum"> 780</span></a>  <span class="comment">     * @param $reporturl</span>
<a name="l781"><span class="linenum"> 781</span></a>  <span class="comment">     * @param $whichtries string</span>
<a name="l782"><span class="linenum"> 782</span></a>  <span class="comment">     */</span>
<a name="l783"><span class="linenum"> 783</span></a>      protected function <a class="function" onClick="logFunction('output_all_question_response_analysis')" href="../../../../_functions/output_all_question_response_analysis.html" onMouseOver="funcPopup(event,'output_all_question_response_analysis')">output_all_question_response_analysis</a>(<a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>,
<a name="l784"><span class="linenum"> 784</span></a>                                                               <a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a>,
<a name="l785"><span class="linenum"> 785</span></a>                                                               <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>,
<a name="l786"><span class="linenum"> 786</span></a>                                                               <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>,
<a name="l787"><span class="linenum"> 787</span></a>                                                               <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a> = <a class="class" onClick="logClass('question_attempt')" href="../../../../_classes/question_attempt.html" onMouseOver="classPopup(event,'question_attempt')">question_attempt</a>::LAST_TRY) {
<a name="l788"><span class="linenum"> 788</span></a>          foreach (<a class="var it2900" onMouseOver="hilite(2900)" onMouseOut="lolite()" onClick="logVariable('questions')" href="../../../../_variables/questions.html">$questions</a> as <a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a> =&gt; <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>) {
<a name="l789"><span class="linenum"> 789</span></a>              if (question_bank::<a class="function" onClick="logFunction('get_qtype')" href="../../../../_functions/get_qtype.html" onMouseOver="funcPopup(event,'get_qtype')">get_qtype</a>(
<a name="l790"><span class="linenum"> 790</span></a>                  <a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>-&gt;<a onClick="logVariable('qtype')" class="var it39488" onMouseOver="hilite(39488)" onMouseOut="lolite()" href="../../../../_variables/qtype.html">qtype</a>, false)-&gt;<a class="function" onClick="logFunction('can_analyse_responses')" href="../../../../_functions/can_analyse_responses.html" onMouseOver="funcPopup(event,'can_analyse_responses')">can_analyse_responses</a>()
<a name="l791"><span class="linenum"> 791</span></a>              ) {
<a name="l792"><span class="linenum"> 792</span></a>                  if (<a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_slot')" href="../../../../_functions/for_slot.html" onMouseOver="funcPopup(event,'for_slot')">for_slot</a>(<a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>)-&gt;<a class="function" onClick="logFunction('get_variants')" href="../../../../_functions/get_variants.html" onMouseOver="funcPopup(event,'get_variants')">get_variants</a>()) {
<a name="l793"><span class="linenum"> 793</span></a>                      foreach (<a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_slot')" href="../../../../_functions/for_slot.html" onMouseOver="funcPopup(event,'for_slot')">for_slot</a>(<a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>)-&gt;<a class="function" onClick="logFunction('get_variants')" href="../../../../_functions/get_variants.html" onMouseOver="funcPopup(event,'get_variants')">get_variants</a>() as <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>) {
<a name="l794"><span class="linenum"> 794</span></a>                          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('output_individual_question_response_analysis')" href="../../../../_functions/output_individual_question_response_analysis.html" onMouseOver="funcPopup(event,'output_individual_question_response_analysis')">output_individual_question_response_analysis</a>(<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>,
<a name="l795"><span class="linenum"> 795</span></a>                                                                              <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>,
<a name="l796"><span class="linenum"> 796</span></a>                                                                              <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_slot')" href="../../../../_functions/for_slot.html" onMouseOver="funcPopup(event,'for_slot')">for_slot</a>(<a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>, <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>)-&gt;s,
<a name="l797"><span class="linenum"> 797</span></a>                                                                              <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>,
<a name="l798"><span class="linenum"> 798</span></a>                                                                              <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>,
<a name="l799"><span class="linenum"> 799</span></a>                                                                              <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>);
<a name="l800"><span class="linenum"> 800</span></a>                      }
<a name="l801"><span class="linenum"> 801</span></a>                  } else {
<a name="l802"><span class="linenum"> 802</span></a>                      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('output_individual_question_response_analysis')" href="../../../../_functions/output_individual_question_response_analysis.html" onMouseOver="funcPopup(event,'output_individual_question_response_analysis')">output_individual_question_response_analysis</a>(<a class="var it480" onMouseOver="hilite(480)" onMouseOut="lolite()" onClick="logVariable('question')" href="../../../../_variables/question.html">$question</a>,
<a name="l803"><span class="linenum"> 803</span></a>                                                                          null,
<a name="l804"><span class="linenum"> 804</span></a>                                                                          <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_slot')" href="../../../../_functions/for_slot.html" onMouseOver="funcPopup(event,'for_slot')">for_slot</a>(<a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>)-&gt;s,
<a name="l805"><span class="linenum"> 805</span></a>                                                                          <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>,
<a name="l806"><span class="linenum"> 806</span></a>                                                                          <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>,
<a name="l807"><span class="linenum"> 807</span></a>                                                                          <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>);
<a name="l808"><span class="linenum"> 808</span></a>                  }
<a name="l809"><span class="linenum"> 809</span></a>              } else if (<a class="var it16298" onMouseOver="hilite(16298)" onMouseOut="lolite()" onClick="logVariable('subqids')" href="../../../../_variables/subqids.html">$subqids</a> = <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_slot')" href="../../../../_functions/for_slot.html" onMouseOver="funcPopup(event,'for_slot')">for_slot</a>(<a class="var it730" onMouseOver="hilite(730)" onMouseOut="lolite()" onClick="logVariable('slot')" href="../../../../_variables/slot.html">$slot</a>)-&gt;<a class="function" onClick="logFunction('get_sub_question_ids')" href="../../../../_functions/get_sub_question_ids.html" onMouseOver="funcPopup(event,'get_sub_question_ids')">get_sub_question_ids</a>()) {
<a name="l810"><span class="linenum"> 810</span></a>                  foreach (<a class="var it16298" onMouseOver="hilite(16298)" onMouseOut="lolite()" onClick="logVariable('subqids')" href="../../../../_variables/subqids.html">$subqids</a> as <a class="var it6176" onMouseOver="hilite(6176)" onMouseOut="lolite()" onClick="logVariable('subqid')" href="../../../../_variables/subqid.html">$subqid</a>) {
<a name="l811"><span class="linenum"> 811</span></a>                      if (<a class="var it12110" onMouseOver="hilite(12110)" onMouseOut="lolite()" onClick="logVariable('variants')" href="../../../../_variables/variants.html">$variants</a> = <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_subq')" href="../../../../_functions/for_subq.html" onMouseOver="funcPopup(event,'for_subq')">for_subq</a>(<a class="var it6176" onMouseOver="hilite(6176)" onMouseOut="lolite()" onClick="logVariable('subqid')" href="../../../../_variables/subqid.html">$subqid</a>)-&gt;<a class="function" onClick="logFunction('get_variants')" href="../../../../_functions/get_variants.html" onMouseOver="funcPopup(event,'get_variants')">get_variants</a>()) {
<a name="l812"><span class="linenum"> 812</span></a>                          foreach (<a class="var it12110" onMouseOver="hilite(12110)" onMouseOut="lolite()" onClick="logVariable('variants')" href="../../../../_variables/variants.html">$variants</a> as <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>) {
<a name="l813"><span class="linenum"> 813</span></a>                              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('output_individual_question_response_analysis')" href="../../../../_functions/output_individual_question_response_analysis.html" onMouseOver="funcPopup(event,'output_individual_question_response_analysis')">output_individual_question_response_analysis</a>(
<a name="l814"><span class="linenum"> 814</span></a>                                  <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_subq')" href="../../../../_functions/for_subq.html" onMouseOver="funcPopup(event,'for_subq')">for_subq</a>(<a class="var it6176" onMouseOver="hilite(6176)" onMouseOut="lolite()" onClick="logVariable('subqid')" href="../../../../_variables/subqid.html">$subqid</a>, <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>)-&gt;question,
<a name="l815"><span class="linenum"> 815</span></a>                                  <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>,
<a name="l816"><span class="linenum"> 816</span></a>                                  <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_subq')" href="../../../../_functions/for_subq.html" onMouseOver="funcPopup(event,'for_subq')">for_subq</a>(<a class="var it6176" onMouseOver="hilite(6176)" onMouseOut="lolite()" onClick="logVariable('subqid')" href="../../../../_variables/subqid.html">$subqid</a>, <a class="var it9268" onMouseOver="hilite(9268)" onMouseOut="lolite()" onClick="logVariable('variantno')" href="../../../../_variables/variantno.html">$variantno</a>)-&gt;s,
<a name="l817"><span class="linenum"> 817</span></a>                                  <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>,
<a name="l818"><span class="linenum"> 818</span></a>                                  <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>,
<a name="l819"><span class="linenum"> 819</span></a>                                  <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>);
<a name="l820"><span class="linenum"> 820</span></a>                          }
<a name="l821"><span class="linenum"> 821</span></a>                      } else {
<a name="l822"><span class="linenum"> 822</span></a>                          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('output_individual_question_response_analysis')" href="../../../../_functions/output_individual_question_response_analysis.html" onMouseOver="funcPopup(event,'output_individual_question_response_analysis')">output_individual_question_response_analysis</a>(
<a name="l823"><span class="linenum"> 823</span></a>                              <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_subq')" href="../../../../_functions/for_subq.html" onMouseOver="funcPopup(event,'for_subq')">for_subq</a>(<a class="var it6176" onMouseOver="hilite(6176)" onMouseOut="lolite()" onClick="logVariable('subqid')" href="../../../../_variables/subqid.html">$subqid</a>)-&gt;question,
<a name="l824"><span class="linenum"> 824</span></a>                              null,
<a name="l825"><span class="linenum"> 825</span></a>                              <a class="var it16264" onMouseOver="hilite(16264)" onMouseOut="lolite()" onClick="logVariable('questionstats')" href="../../../../_variables/questionstats.html">$questionstats</a>-&gt;<a class="function" onClick="logFunction('for_subq')" href="../../../../_functions/for_subq.html" onMouseOver="funcPopup(event,'for_subq')">for_subq</a>(<a class="var it6176" onMouseOver="hilite(6176)" onMouseOut="lolite()" onClick="logVariable('subqid')" href="../../../../_variables/subqid.html">$subqid</a>)-&gt;s,
<a name="l826"><span class="linenum"> 826</span></a>                              <a class="var it10880" onMouseOver="hilite(10880)" onMouseOut="lolite()" onClick="logVariable('reporturl')" href="../../../../_variables/reporturl.html">$reporturl</a>,
<a name="l827"><span class="linenum"> 827</span></a>                              <a class="var it2911" onMouseOver="hilite(2911)" onMouseOut="lolite()" onClick="logVariable('qubaids')" href="../../../../_variables/qubaids.html">$qubaids</a>,
<a name="l828"><span class="linenum"> 828</span></a>                              <a class="var it9965" onMouseOver="hilite(9965)" onMouseOut="lolite()" onClick="logVariable('whichtries')" href="../../../../_variables/whichtries.html">$whichtries</a>);
<a name="l829"><span class="linenum"> 829</span></a>  
<a name="l830"><span class="linenum"> 830</span></a>                      }
<a name="l831"><span class="linenum"> 831</span></a>                  }
<a name="l832"><span class="linenum"> 832</span></a>              }
<a name="l833"><span class="linenum"> 833</span></a>          }
<a name="l834"><span class="linenum"> 834</span></a>      }
<a name="l835"><span class="linenum"> 835</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_variants': ['get_variants', 'Array of variants that have appeared in the attempt data for this question. Or an empty array if there is only one variant. ', [['question/classes/statistics/questions','calculated.php',272]], 13],
'get_renderer': ['get_renderer', 'Get the renderer for a part of Moodle for this theme. ', [['lib','outputlib.php',1790],['mod/assign','locallib.php',2734],['lib','outputfactories.php',70],['lib','outputfactories.php',292],['lib','outputfactories.php',377],['course/format','lib.php',889],['question/type/multichoice','question.php',137],['question/type/multichoice','question.php',259],['question/type','questionbase.php',275],['grade/grading/form/guide','lib.php',482],['question/behaviour','behaviourbase.php',135],['lib','pagelib.php',797],['grade/grading/form/rubric','lib.php',486],['lib/tests/fixtures','test_renderer_factory.php',49]], 339],
'load_cached': ['load_cached', 'Retrieve the computed response analysis from the question_response_analysis table. ', [['question/classes/statistics/responses','analyser.php',138]], 3],
'start_progress': ['start_progress', 'Marks the start of an operation that will display progress. ', [['lib/classes/progress','base.php',77]], 81],
'any_error_messages': ['any_error_messages', 'Call after calculations to output any error messages. ', [['question/classes/statistics/questions','all_calculated_for_qubaid_condition.php',262]], 1],
'format_string': ['format_string', 'Given a simple string, this function returns the string processed by enabled string filters if $CFG->filterall is enabled ', [['lib','weblib.php',1318]], 854],
'structure_analysis_for_one_slot': ['structure_analysis_for_one_slot', 'Return all stats for one slot, stats for the slot itself, and either : - variants of question - variants of randomly selected questions - randomly selected questions ', [['question/classes/statistics/questions','all_calculated_for_qubaid_condition.php',248]], 2],
'quiz_has_questions': ['quiz_has_questions', 'Are there any questions in this quiz? ', [['mod/quiz/report','reportlib.php',80]], 4],
'notification': ['notification', 'Output a notification (that is, a status message about something that has just happened). ', [['lib','outputrenderers.php',2762],['lib','outputrenderers.php',4128],['lib','outputrenderers.php',4201]], 495],
'statistics_setup': ['statistics_setup', 'Set up the columns and headers and other properties of the table and then call flexible_table::setup() method. ', [['mod/quiz/report/statistics','statistics_table.php',52]], 1],
'output_headers': ['output_headers', '', [['lib','tablelib.php',1644],['lib','tablelib.php',1737],['lib','tablelib.php',1876]], 3],
'box_start': ['box_start', 'Outputs the opening section of a box. ', [['lib','outputrenderers.php',2987]], 351],
'box_end': ['box_end', 'Outputs the closing section of a box. ', [['lib','outputrenderers.php',3002]], 351],
'get_subpart_ids': ['get_subpart_ids', 'Unique ids for sub parts. ', [['question/classes/statistics/responses','analysis_for_question.php',107]], 7],
'add_data_keyed': ['add_data_keyed', 'Add a row of data to the table. This function takes an array or object with column names as keys or property names. ', [['lib','tablelib.php',667]], 11],
'clone': ['clone', '', [['lib/editor/tinymce/tiny_mce/3.5.11/plugins/media/js','media.js',11]], 315],
'param': ['param', 'Returns a placeholder for query parameters e.g. $DB->Param(\'a\') will return - \'?\' for most databases - \':a\' for Oracle - \'$1\', \'$2\', etc. for PostgreSQL ', [['lib/adodb','adodb.inc.php',815],['lib/adodb/drivers','adodb-postgres64.inc.php',591],['lib','weblib.php',455],['lib/adodb/drivers','adodb-oci8po.inc.php',37],['lib/adodb/drivers','adodb-db2oci.inc.php',166],['lib/adodb/drivers','adodb-oci8.inc.php',1014]], 641],
'load_and_initialise_questions_for_calculations': ['load_and_initialise_questions_for_calculations', 'Load the questions in this quiz and add some properties to the objects needed in the reports. ', [['mod/quiz/report/statistics','report.php',750]], 2],
'get_cached': ['get_cached', 'Load cached statistics from the database. ', [['question/classes/statistics/questions','all_calculated_for_qubaid_condition.php',162],['question/classes/statistics/questions','calculator.php',481],['mod/quiz/report/statistics/classes','calculator.php',127]], 3],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'define_baseurl': ['define_baseurl', 'Sets $this->baseurl. ', [['lib','tablelib.php',391]], 49],
'get_response_class': ['get_response_class', 'Get the instance of the class handling the analysis of $classid for this sub part. ', [['question/classes/statistics/responses','analysis_for_subpart.php',77]], 9],
'data_for_question_response_table': ['data_for_question_response_table', 'Return the data to display in the response analysis table. ', [['question/classes/statistics/responses','analysis_for_class.php',153],['question/classes/statistics/responses','analysis_for_actual_response.php',149]], 4],
'question_setup': ['question_setup', 'Set up columns and column names and other table settings. ', [['mod/quiz/report/statistics','statistics_question_table.php',59]], 1],
'get_users_by_capability': ['get_users_by_capability', 'Who has this capability in this context? ', [['lib','accesslib.php',3707],['availability/classes','capability_checker.php',58]], 53],
'get_response_class_ids': ['get_response_class_ids', 'Unique ids for response classes. ', [['question/classes/statistics/responses','analysis_for_subpart.php',68]], 6],
'quiz_report_download_filename': ['quiz_report_download_filename', 'Create a filename for use when downloading data from a quiz report. It is expected that this will be passed to flexible_table::is_downloading, which cleans the filename of bad characters and adds the file extension. ', [['mod/quiz/report','reportlib.php',367]], 3],
'for_subq': ['for_subq', 'Reference for a item stats instance for a questionid and optional variant no. ', [['question/classes/statistics/questions','all_calculated_for_qubaid_condition.php',98]], 37],
'menu_name': ['menu_name', 'The name this question should appear as in the create new question dropdown. Override this method to return false if you don\'t want your question type to be createable, for example if it is an abstract base type, otherwise, you should not need to override this method. ', [['question/type','questiontypebase.php',80],['question/type/random','questiontype.php',49],['question/type/missingtype','questiontype.php',41]], 5],
'table': ['table', '', [['lib/adodb','adodb-perf.inc.php',232],['lib/minify/lib','FirePHP.php',454],['lib','outputcomponents.php',1492]], 255],
'get_current_group': ['get_current_group', 'Gets the current group - either from the session variable or from the database. ', [['lib','deprecatedlib.php',953],['mod/quiz/report','default.php',74]], 3],
'get_last_analysed_time': ['get_last_analysed_time', 'Find time of non-expired analysis in the database. ', [['question/classes/statistics/responses','analyser.php',177]], 2],
'finish_table': ['finish_table', '', [['lib','tablelib.php',1668],['lib','tablelib.php',1746],['lib','tablelib.php',1891]], 2],
'question_rewrite_question_preview_urls': ['question_rewrite_question_preview_urls', 'Rewrite the PLUGINFILE urls in part of the content of a question, for use when viewing the question outside an attempt (for example, in the question bank listing or in the quiz statistics report). ', [['lib','questionlib.php',1691]], 3],
'output_caching_info': ['output_caching_info', 'Return HTML for a message that says when the stats were last calculated and a \'recalculate now\' button. ', [['mod/quiz/report/statistics','report.php',687]], 1],
'get_all_stats_and_analysis': ['get_all_stats_and_analysis', 'Get the quiz and question statistics, either by loading the cached results, or by recomputing them. ', [['mod/quiz/report/statistics','report.php',527]], 2],
'quiz_statistics_qubaids_condition': ['quiz_statistics_qubaids_condition', '', [['mod/quiz/report/statistics','statisticslib.php',105]], 5],
'analyse_responses_for_all_questions_and_subquestions': ['analyse_responses_for_all_questions_and_subquestions', 'Analyse responses for all questions and sub questions in this quiz. ', [['mod/quiz/report/statistics','report.php',604]], 1],
'get_analysis_for_subpart': ['get_analysis_for_subpart', 'Get the response counts etc. for variant $variantno, question sub part $subpartid. ', [['question/classes/statistics/responses','analysis_for_question.php',117]], 11],
'raise_memory_limit': ['raise_memory_limit', 'Function to raise the memory limit to a new value. Will respect the memory limit if it is higher, thus allowing settings in php.ini, apache conf or command line switches to override it. ', [['lib','setuplib.php',1139]], 56],
'has_multiple_response_classes': ['has_multiple_response_classes', 'Used to work out what kind of table is needed to display stats. ', [['question/classes/statistics/responses','analysis_for_question.php',134],['question/classes/statistics/responses','analysis_for_subpart.php',87]], 3],
'graph': ['graph', 'Output a graph, or a message saying that GD is required. ', [['mod/quiz','renderer.php',1197],['lib','graphlib.php',1176]], 19],
'output_quiz_info_table': ['output_quiz_info_table', 'Return HTML for table of overall quiz statistics. ', [['mod/quiz/report/statistics','report.php',458]], 2],
'format_time': ['format_time', 'Format a date/time (seconds) as weeks, days, hours etc as needed ', [['lib','moodlelib.php',2060]], 59],
'quiz_statistics_attempts_sql': ['quiz_statistics_attempts_sql', 'SQL to fetch relevant \'quiz_attempts\' records. ', [['mod/quiz/report/statistics','statisticslib.php',26]], 4],
'end_progress': ['end_progress', 'Marks the end of an operation that will display progress. ', [['lib/classes/progress','base.php',129]], 69],
'confirm_sesskey': ['confirm_sesskey', 'Check the sesskey and return true of false for whether it is valid. (You might like to imagine this function is called sesskey_is_valid().) ', [['lib','sessionlib.php',52]], 315],
'increment_progress': ['increment_progress', 'An alternative to calling progress. This keeps track of the number of items done internally. Call this method with no parameters to increment the internal counter by one or you can use the $incby parameter to specify a positive change in progress. The internal progress counter should not exceed $max as passed to {@link start_progress} for this section. ', [['lib/classes/progress','base.php',219]], 12],
'finish_output': ['finish_output', 'You should call this to finish outputting the table data after adding data to the table with add_data or add_data_keyed. ', [['lib','tablelib.php',746]], 19],
'render_question_text': ['render_question_text', 'Output question text in a box with urls appropriate for a preview of the question. ', [['mod/quiz/report/statistics','report.php',345]], 2],
'sesskey': ['sesskey', 'Makes sure that $USER->sesskey exists, if $USER itself exists. It sets a new sesskey if one does not already exist, but does not overwrite existing sesskeys. Returns the sesskey string if $USER exists, or boolean false if not. ', [['lib','sessionlib.php',28]], 631],
'count_records_sql': ['count_records_sql', 'Get the result of a SQL SELECT COUNT(...) query. ', [['lib/dml','moodle_database.php',1747]], 132],
'add_data': ['add_data', 'Add data to the temporary file in csv format ', [['lib','csvlib.class.php',431],['lib','tablelib.php',716],['lib','tablelib.php',1572],['lib','tablelib.php',1653],['lib','tablelib.php',1741],['lib','tablelib.php',1881]], 50],
'display': ['display', '', [['mod/lesson/pagetypes','matching.php',50],['mod/lesson/pagetypes','cluster.php',39],['lib/minify/lib/Minify/Cache','XCache.php',74],['mod/quiz/report/grading','report.php',51],['question/classes/bank','view.php',451],['mod/scorm/report/objectives/classes','report.php',37],['backup/util/ui','base_ui.class.php',169],['lib/minify/lib/Minify/Cache','Memcache.php',85],['lib/minify/lib/Minify/Cache','APC.php',79],['mod/lesson/pagetypes','numerical.php',50],['mod/scorm/report/interactions/classes','report.php',31],['lib/pear/HTML','Common.php',428],['backup/util/ui','import_extensions.php',154],['mod/quiz/report/responses','report.php',51],['mod/quiz/report/statistics','report.php',51],['question/classes/bank','column_base.php',164],['backup/util/ui','restore_ui.class.php',373],['course/format/singleactivity','renderer.php',36],['mod/lesson/pagetypes','endofcluster.php',39],['user/selector','lib.php',205],['backup/util/ui','base_moodleform.class.php',365],['admin/roles/classes','capability_table_with_risks.php',132],['lib','formslib.php',913],['backup/util/ui','restore_ui_stage.class.php',355],['backup/util/ui','restore_ui_stage.class.php',497],['backup/util/ui','restore_ui_stage.class.php',1025],['backup/util/ui','restore_ui_stage.class.php',1112],['mod/lesson/pagetypes','truefalse.php',50],['repository/flickr_public','image.php',149],['mod/scorm/report/basic/classes','report.php',30],['admin/roles/classes','capability_table_base.php',71],['mod/lesson/pagetypes','endofbranch.php',39],['mod/lesson/pagetypes','essay.php',67],['mod/scorm/classes','report.php',39],['mod/quiz/report/overview','report.php',42],['backup/util/ui','backup_ui_stage.class.php',545],['backup/util/ui','backup_ui_stage.class.php',588],['lib/minify/lib/Minify/Cache','ZendPlatform.php',84],['mod/lesson/pagetypes','shortanswer.php',50],['cohort','upload_form.php',316],['mod/scorm/report/graphs/classes','report.php',36],['backup/util/ui','base_ui_stage.class.php',126],['mod/lesson/pagetypes','multichoice.php',87],['lib/minify/lib/Minify/Cache','File.php',72],['admin/roles/classes','define_role_table_advanced.php',603],['mod/lesson/pagetypes','branchtable.php',105]], 297],
'tag': ['tag', 'Outputs a tag with attributes and contents ', [['lib','outputcomponents.php',1063],['lib/zend/Zend/Service','Technorati.php',228]], 1254],
'format_row': ['format_row', 'Call appropriate methods on this table class to perform any processing on values before displaying in table. Takes raw data from the database and process it into human readable format, perhaps also adding html linking when displaying table as html, adding a div wrap, etc. ', [['lib','tablelib.php',778],['lib','tablelib.php',1755],['mod/assign','gradingtable.php',437]], 6],
'get_sub_questions': ['get_sub_questions', 'Return all sub-questions used. ', [['question/classes/statistics/questions','all_calculated_for_qubaid_condition.php',239]], 1],
'finish_document': ['finish_document', '', [['lib','tablelib.php',1671],['lib','tablelib.php',1750],['lib','tablelib.php',1895]], 2],
'question_load_questions': ['question_load_questions', 'Load a set of questions, given a list of ids. The $join and $extrafields arguments can be used together to pull in extra data. See, for example, the usage in mod/quiz/attempt.php, and read the code below to see how the SQL is assembled. Throws exceptions on error. ', [['lib','questionlib.php',752]], 12],
'export_class_instance': ['export_class_instance', 'Get, and optionally set, the export class. ', [['lib','tablelib.php',168]], 6],
'quiz_report_get_significant_questions': ['quiz_report_get_significant_questions', 'Get the slots of real questions (not descriptions) in this quiz, in order. ', [['mod/quiz/report','reportlib.php',89]], 5],
'is_downloading': ['is_downloading', 'Call this to pass the download type. Use : $download = optional_param(\'download\', \'\', PARAM_ALPHA); To get the download type. We assume that if you call this function with params that this table\'s data is downloadable, so we call is_downloadable for you (even if the param is \'\', which means no download this time. Also you can call this method with no params to get the current set download type. ', [['lib','tablelib.php',144]], 92],
'output_individual_question_response_analysis': ['output_individual_question_response_analysis', 'Display the response analysis for a question. ', [['mod/quiz/report/statistics','report.php',363]], 6],
'output_individual_question_data': ['output_individual_question_data', 'Display the statistical and introductory information about a question. Only called when not downloading. ', [['mod/quiz/report/statistics','report.php',275]], 2],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 1891],
'out': ['out', 'Returns the string ', [['lib','moodlelib.php',9451],['lib','weblib.php',547],['lib','tablelib.php',1526],['lib','csslib.php',1540],['lib','csslib.php',1698],['lib','csslib.php',2078],['lib','csslib.php',2162],['lib','csslib.php',2306],['lib','csslib.php',2495],['lib','csslib.php',3240],['report/loglive/classes','table_log_ajax.php',37]], 549],
'get_last_calculated_time': ['get_last_calculated_time', 'Find time of non-expired statistics in the database. ', [['question/classes/statistics/questions','all_calculated_for_qubaid_condition.php',210],['question/classes/statistics/questions','calculator.php',471],['mod/quiz/report/statistics/classes','calculator.php',144]], 4],
'set_display_names': ['set_display_names', 'By default, the progress section names do not display because these will probably be untranslated and incomprehensible. To make them display, call this method. ', [['lib/classes/progress','display.php',60]], 1],
'get_formatted_quiz_info_data': ['get_formatted_quiz_info_data', '', [['mod/quiz/report/statistics/classes','calculated.php',127]], 3],
'get_sum_of_mark_variance': ['get_sum_of_mark_variance', 'Used when computing Coefficient of Internal Consistency by quiz statistics. ', [['question/classes/statistics/questions','calculator.php',267]], 1],
'optional_param': ['optional_param', 'Returns a particular value for the named variable, taken from POST or GET, otherwise returning a given default. ', [['lib','moodlelib.php',605]], 2167],
'can_analyse_responses': ['can_analyse_responses', '', [['question/type/multianswer','questiontype.php',40],['question/type/randomsamatch','questiontype.php',133],['question/type','questiontypebase.php',124],['question/type/description','questiontype.php',47],['question/type/missingtype','questiontype.php',49]], 16],
'output_quiz_structure_analysis_table': ['output_quiz_structure_analysis_table', 'Output the table that lists all the questions in the quiz with their statistics. ', [['mod/quiz/report/statistics','report.php',441]], 3],
'quiz_no_questions_message': ['quiz_no_questions_message', 'Generate a message saying that this quiz has no questions, with a button to go to the edit page, if the user has the right capability. ', [['mod/quiz/report','reportlib.php',389]], 4],
'analyse_responses_for_questions': ['analyse_responses_for_questions', 'Analyse responses for an array of questions or sub questions. ', [['mod/quiz/report/statistics','report.php',630]], 2],
'instance': ['instance', 'Retrieve sole instance of the registry. ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29],['lib/classes','useragent.php',101],['backup/cc','validator.php',35],['lib/portfolio','exporter.php',251],['lib/tests','update_deployer_test.php',69],['lib/tests','string_manager_standard_test.php',124],['lib','modinfolib.php',373],['','mdeploy.php',96],['cache','disabledlib.php',171],['cache','disabledlib.php',296],['admin/tool/installaddon/classes','validator.php',85],['cache/classes','config.php',87],['course/format','lib.php',156],['lib','accesslib.php',6184],['lib','accesslib.php',6436],['lib','accesslib.php',6614],['lib','accesslib.php',6868],['lib','accesslib.php',7129],['lib','accesslib.php',7341],['cache','locallib.php',52],['lib/htmlpurifier','HTMLPurifier.php',251],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['cache/classes','helper.php',76],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['lib/classes','plugin_manager.php',83],['lib','filterlib.php',81],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/classes/update','deployer.php',54],['admin/tool/installaddon/classes','pluginfo_client.php',37],['admin/tool/installaddon/classes','installer.php',40],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443]], 3942],
'print_header_and_tabs': ['print_header_and_tabs', 'Initialise some parts of $PAGE and start output. ', [['mod/quiz/report','default.php',55]], 6],
'box': ['box', 'Outputs a box. ', [['lib','outputrenderers.php',2974]], 295],
'progress': ['progress', 'Implementation for file_progress interface to display unzip progress. ', [['backup/moodle2','backup_stepslib.php',1817],['backup/util/ui','restore_ui_stage.class.php',334],['lib/filestorage/tests','zip_packer_test.php',520],['lib/filestorage','file_progress.php',35],['lib/classes/progress','base.php',157],['lib/filestorage/tests','tgz_packer_test.php',422]], 111],
'clear_cached_data': ['clear_cached_data', 'Clear the cached data for a particular report configuration. This will trigger a re-computation the next time the report is displayed. ', [['mod/quiz/report/statistics','report.php',737]], 1],
'set_data': ['set_data', '', [['question/type/missingtype','edit_missingtype_form.php',52],['question/type/multianswer','edit_multianswer_form.php',256],['mod/feedback/item/multichoicerated','multichoicerated_form.php',81],['mod/scorm','mod_form.php',444],['question','category_form.php',73],['course','moodleform_mod.php',338],['mod/feedback/item/multichoice','multichoice_form.php',79],['blocks','edit_form.php',255],['badges','edit_form.php',137],['lib','formslib.php',434],['blocks/html','edit_form.php',53],['admin/tool/filetypes','edit_form.php',83],['question/type/random','edit_random_form.php',68],['cache','forms.php',232],['backup/util/structure','restore_path_element.class.php',95],['lib/classes/message/inbound','address_manager.php',146],['course','editsection_form.php',79],['question/type','edit_question_form.php',449],['question/type/calculated','datasetitems_form.php',360]], 234],
'get_all_slots': ['get_all_slots', 'All slots nos that stats have been calculated for. ', [['question/classes/statistics/questions','all_calculated_for_qubaid_condition.php',130]], 9],
'heading': ['heading', 'Get the heading for this page. ', [['grade/report/singleview/classes/local/screen','grade.php',283],['grade/report/singleview/classes/local/screen','user.php',281],['lib','outputrenderers.php',2957],['lib','outputrenderers.php',4080],['lib','outputrenderers.php',4254],['grade/report/singleview/classes/local/screen','screen.php',197]], 763],
'for_slot': ['for_slot', 'Get position stats instance for a slot and optional variant no. ', [['question/classes/statistics/questions','all_calculated_for_qubaid_condition.php',139]], 51],
'output_all_question_response_analysis': ['output_all_question_response_analysis', 'Output all response analysis for all questions, sub-questions and variants. For download in a number of formats. ', [['mod/quiz/report/statistics','report.php',774]], 1],
'download_quiz_info_table': ['download_quiz_info_table', 'Download the table of overall quiz statistics. ', [['mod/quiz/report/statistics','report.php',479]], 2],
's': ['s', 'Count of attempts selected by $this->whichattempts ', [['mod/quiz/report/statistics/classes','calculated.php',91],['lib','weblib.php',84]], 988],
'null': ['null', 'NULL ', [['lib/phpexcel/PHPExcel/Calculation','Functions.php',266]], 16],
'get_sub_question_ids': ['get_sub_question_ids', 'Get any sub question ids for this question. ', [['question/classes/statistics/questions','calculated.php',259]], 8],
'get_hash_code': ['get_hash_code', '', [['question/engine','datalib.php',1850]], 13],
'redirect': ['redirect', 'Redirect the browser ', [['','mdeploy.php',1474],['lib','weblib.php',2514]], 948],
'select': ['select', 'Create a new Zend_Service_WindowsAzure_Storage_TableEntityQuery ', [['lib/zend/Zend/Service/WindowsAzure/Storage','Table.php',455],['lib/zend/Zend/Service/WindowsAzure/Storage','TableEntityQuery.php',74],['lib','outputcomponents.php',1255],['lib/jquery/ui-1.11.4/external/jquery','jquery.js',2845]], 593],
'groups_get_activity_groupmode': ['groups_get_activity_groupmode', 'Returns effective groupmode used in activity, course setting overrides activity setting if groupmodeforce enabled. ', [['lib','grouplib.php',468]], 133],
'format_and_add_array_of_rows': ['format_and_add_array_of_rows', 'Add a number of rows to the table at once. And optionally finish output after they have been added. ', [['lib','tablelib.php',685]], 2],
'get_download_menu': ['get_download_menu', 'This function is not part of the public api. ', [['lib','tablelib.php',996]], 2],
'everything_download_options': ['everything_download_options', 'Return a little form for the user to request to download the full report, including quiz stats and response analysis for all questions and sub-questions. ', [['mod/quiz/report/statistics','report.php',663]], 1],
'print_error': ['print_error', 'Abort execution by throwing of a general exception, default exception handler displays the error message in most cases. ', [['lib','setuplib.php',449]], 1560],
'output_statistics_graph': ['output_statistics_graph', 'Output the HTML needed to show the statistics graph. ', [['mod/quiz/report/statistics','report.php',510]], 2],
'single_button': ['single_button', 'Returns a form with a single button. ', [['lib','outputrenderers.php',1735]], 298],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','moodle_database.php',1815],['lib/dml','sqlite3_pdo_moodle_database.php',337]], 778],
'calculate': ['calculate', 'Calculate cell value (using formula from a cell ID) Retained for backward compatibility ', [['lib/phpexcel/PHPExcel','Calculation.php',2199],['lib/phpexcel/PHPExcel/Shared/trend','trendClass.php',87],['question/type/calculated/db','upgradelib.php',234],['question/type/calculatedmulti/db','upgradelib.php',258],['question/type/calculated','question.php',415],['question/classes/statistics/questions','calculator.php',86],['mod/quiz/report/statistics/classes','calculator.php',46],['question/classes/statistics/responses','analyser.php',111]], 51],
'get_qtype': ['get_qtype', 'Get the question type class for a particular question type. ', [['question/engine','bank.php',80],['question/format/xml','format.php',995]], 100],
'start_table': ['start_table', '', [['question/classes/bank','view.php',760],['lib','tablelib.php',1639],['lib','tablelib.php',1733],['lib','tablelib.php',1869]], 4],
'groups_print_activity_menu': ['groups_print_activity_menu', 'Print group menu selector for activity. ', [['lib','grouplib.php',670]], 37],
'get_progress_trace_instance': ['get_progress_trace_instance', 'Appropriate instance depending if we want html output for the user or not. ', [['mod/quiz/report/statistics','report.php',587]], 1],
'format_text': ['format_text', 'Given text in a variety of format codings, this function returns the text as safe HTML. ', [['lib','weblib.php',1115],['lib','tablelib.php',846],['lib','tablelib.php',1583],['lib','tablelib.php',1900],['question/type','questionbase.php',345],['lib/classes','grading_external.php',182]], 325],
'count': ['count', '', [], 3984],
'time': ['time', '', [], 1768],
'is_null': ['is_null', '', [], 1992],
'array_merge': ['array_merge', '', [], 2320],
'compact': ['compact', '', [], 31],
'defined': ['defined', '', [], 4098]};
CLASS_DATA={
'quiz_statistics_question_table': ['quiz_statistics_question_table', 'This table shows statistics about a particular question. ', [['mod/quiz/report/statistics','statistics_question_table.php',30]], 1],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',240]], 2887],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6766]], 1197],
'quiz_statistics_report': ['quiz_statistics_report', 'The quiz statistics report provides summary information about each question in a quiz, compared to the whole quiz. It also provides a drill-down to more detailed information about each question. ', [['mod/quiz/report/statistics','report.php',32]], 1],
'quiz_statistics_settings_form': ['quiz_statistics_settings_form', 'This is the settings form for the quiz statistics report. ', [['mod/quiz/report/statistics','statistics_form.php',30]], 1],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',6988]], 942],
'quiz_statistics_table': ['quiz_statistics_table', 'This table has one row for each question in the quiz, with sub-rows when random questions and variants appear. ', [['mod/quiz/report/statistics','statistics_table.php',29]], 1],
'html_writer': ['html_writer', 'Simple html output class ', [['lib','outputcomponents.php',1052]], 4832],
'html_table': ['html_table', 'Holds all the information required to render a <table> by {@link core_renderer::table()} ', [['lib','outputcomponents.php',2006]], 224],
'question_attempt': ['question_attempt', 'Tracks an attempt at one particular question in a {@link question_usage_by_activity}. ', [['question/engine','questionattempt.php',30]], 105]};
CONST_DATA={
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 2948],
'PARAM_ALPHA': ['PARAM_ALPHA', '', [['lib','moodlelib.php',77]], 377],
'MEMORY_HUGE': ['MEMORY_HUGE', '', [['lib','setuplib.php',52]], 20],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532],
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 502]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
