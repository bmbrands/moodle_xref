<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of lib.php</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='mod/forum';
filename='lib.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/mod/forum/</a> -> <a href="lib.php.source.html">lib.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="lib.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../../_stats.html">Project Stats</a>]</p>
<p><b>(no description)</b></p>
<table>
<tr><td align="right">Copyright: </td><td>1999 onwards Martin Dougiamas  {@link http://moodle.com}</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>7994 lines (302 kb)</td></tr>
<tr><td align="right">Included or required: </td><td><a href="lib.php.xref.html">7 times</a></td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>14 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>1 file<br>&nbsp;<a href="../../mod/forum/deprecatedlib.php.html">mod/forum/deprecatedlib.php</a>
</td></tr>
</table>
<h3>Defines 130 functions</h3>
<div class="inset">
&nbsp;&nbsp;<a href="#forum_add_instance">forum_add_instance</a>()<br>
&nbsp;&nbsp;<a href="#forum_instance_created">forum_instance_created</a>()<br>
&nbsp;&nbsp;<a href="#forum_update_instance">forum_update_instance</a>()<br>
&nbsp;&nbsp;<a href="#forum_delete_instance">forum_delete_instance</a>()<br>
&nbsp;&nbsp;<a href="#forum_supports">forum_supports</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_completion_state">forum_get_completion_state</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_email_message_id">forum_get_email_message_id</a>()<br>
&nbsp;&nbsp;<a href="#forum_cron_minimise_user_record">forum_cron_minimise_user_record</a>()<br>
&nbsp;&nbsp;<a href="#forum_cron">forum_cron</a>()<br>
&nbsp;&nbsp;<a href="#forum_user_outline">forum_user_outline</a>()<br>
&nbsp;&nbsp;<a href="#forum_user_complete">forum_user_complete</a>()<br>
&nbsp;&nbsp;<a href="#forum_filter_user_groups_discussions">forum_filter_user_groups_discussions</a>()<br>
&nbsp;&nbsp;<a href="#forum_is_user_group_discussion">forum_is_user_group_discussion</a>()<br>
&nbsp;&nbsp;<a href="#forum_print_overview">forum_print_overview</a>()<br>
&nbsp;&nbsp;<a href="#forum_print_recent_activity">forum_print_recent_activity</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_user_grades">forum_get_user_grades</a>()<br>
&nbsp;&nbsp;<a href="#forum_update_grades">forum_update_grades</a>()<br>
&nbsp;&nbsp;<a href="#forum_grade_item_update">forum_grade_item_update</a>()<br>
&nbsp;&nbsp;<a href="#forum_grade_item_delete">forum_grade_item_delete</a>()<br>
&nbsp;&nbsp;<a href="#forum_scale_used">forum_scale_used</a>()<br>
&nbsp;&nbsp;<a href="#forum_scale_used_anywhere">forum_scale_used_anywhere</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_post_full">forum_get_post_full</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_all_discussion_posts">forum_get_all_discussion_posts</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_readable_forums">forum_get_readable_forums</a>()<br>
&nbsp;&nbsp;<a href="#forum_search_posts">forum_search_posts</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_unmailed_posts">forum_get_unmailed_posts</a>()<br>
&nbsp;&nbsp;<a href="#forum_mark_old_posts_as_mailed">forum_mark_old_posts_as_mailed</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_user_posts">forum_get_user_posts</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_user_involved_discussions">forum_get_user_involved_discussions</a>()<br>
&nbsp;&nbsp;<a href="#forum_count_user_posts">forum_count_user_posts</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_post_from_log">forum_get_post_from_log</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_firstpost_from_discussion">forum_get_firstpost_from_discussion</a>()<br>
&nbsp;&nbsp;<a href="#forum_count_discussion_replies">forum_count_discussion_replies</a>()<br>
&nbsp;&nbsp;<a href="#forum_count_discussions">forum_count_discussions</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_discussions">forum_get_discussions</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_discussion_neighbours">forum_get_discussion_neighbours</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_default_sort_order">forum_get_default_sort_order</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_discussions_unread">forum_get_discussions_unread</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_discussions_count">forum_get_discussions_count</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_course_forum">forum_get_course_forum</a>()<br>
&nbsp;&nbsp;<a href="#forum_print_post">forum_print_post</a>()<br>
&nbsp;&nbsp;<a href="#forum_rating_permissions">forum_rating_permissions</a>()<br>
&nbsp;&nbsp;<a href="#forum_rating_validate">forum_rating_validate</a>()<br>
&nbsp;&nbsp;<a href="#mod_forum_rating_can_see_item_ratings">mod_forum_rating_can_see_item_ratings</a>()<br>
&nbsp;&nbsp;<a href="#forum_print_discussion_header">forum_print_discussion_header</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_discussion_subscription_icon">forum_get_discussion_subscription_icon</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_discussion_subscription_icon_preloaders">forum_get_discussion_subscription_icon_preloaders</a>()<br>
&nbsp;&nbsp;<a href="#forum_print_mode_form">forum_print_mode_form</a>()<br>
&nbsp;&nbsp;<a href="#forum_search_form">forum_search_form</a>()<br>
&nbsp;&nbsp;<a href="#forum_set_return">forum_set_return</a>()<br>
&nbsp;&nbsp;<a href="#forum_go_back_to">forum_go_back_to</a>()<br>
&nbsp;&nbsp;<a href="#forum_move_attachments">forum_move_attachments</a>()<br>
&nbsp;&nbsp;<a href="#forum_print_attachments">forum_print_attachments</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_file_areas">forum_get_file_areas</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_file_info">forum_get_file_info</a>()<br>
&nbsp;&nbsp;<a href="#forum_pluginfile">forum_pluginfile</a>()<br>
&nbsp;&nbsp;<a href="#forum_add_attachment">forum_add_attachment</a>()<br>
&nbsp;&nbsp;<a href="#forum_add_new_post">forum_add_new_post</a>()<br>
&nbsp;&nbsp;<a href="#forum_update_post">forum_update_post</a>()<br>
&nbsp;&nbsp;<a href="#forum_add_discussion">forum_add_discussion</a>()<br>
&nbsp;&nbsp;<a href="#forum_delete_discussion">forum_delete_discussion</a>()<br>
&nbsp;&nbsp;<a href="#forum_delete_post">forum_delete_post</a>()<br>
&nbsp;&nbsp;<a href="#forum_trigger_content_uploaded_event">forum_trigger_content_uploaded_event</a>()<br>
&nbsp;&nbsp;<a href="#forum_count_replies">forum_count_replies</a>()<br>
&nbsp;&nbsp;<a href="#forum_post_subscription">forum_post_subscription</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_subscribe_link">forum_get_subscribe_link</a>()<br>
&nbsp;&nbsp;<a href="#forum_user_has_posted_discussion">forum_user_has_posted_discussion</a>()<br>
&nbsp;&nbsp;<a href="#forum_discussions_user_has_posted_in">forum_discussions_user_has_posted_in</a>()<br>
&nbsp;&nbsp;<a href="#forum_user_has_posted">forum_user_has_posted</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_user_posted_time">forum_get_user_posted_time</a>()<br>
&nbsp;&nbsp;<a href="#forum_user_can_post_discussion">forum_user_can_post_discussion</a>()<br>
&nbsp;&nbsp;<a href="#forum_user_can_post">forum_user_can_post</a>()<br>
&nbsp;&nbsp;<a href="#forum_user_can_see_timed_discussion">forum_user_can_see_timed_discussion</a>()<br>
&nbsp;&nbsp;<a href="#forum_user_can_see_group_discussion">forum_user_can_see_group_discussion</a>()<br>
&nbsp;&nbsp;<a href="#forum_user_can_see_discussion">forum_user_can_see_discussion</a>()<br>
&nbsp;&nbsp;<a href="#forum_user_can_see_post">forum_user_can_see_post</a>()<br>
&nbsp;&nbsp;<a href="#forum_print_latest_discussions">forum_print_latest_discussions</a>()<br>
&nbsp;&nbsp;<a href="#forum_print_discussion">forum_print_discussion</a>()<br>
&nbsp;&nbsp;<a href="#forum_print_posts_flat">forum_print_posts_flat</a>()<br>
&nbsp;&nbsp;<a href="#forum_print_posts_threaded">forum_print_posts_threaded</a>()<br>
&nbsp;&nbsp;<a href="#forum_print_posts_nested">forum_print_posts_nested</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_recent_mod_activity">forum_get_recent_mod_activity</a>()<br>
&nbsp;&nbsp;<a href="#forum_print_recent_mod_activity">forum_print_recent_mod_activity</a>()<br>
&nbsp;&nbsp;<a href="#forum_change_discussionid">forum_change_discussionid</a>()<br>
&nbsp;&nbsp;<a href="#forum_update_subscriptions_button">forum_update_subscriptions_button</a>()<br>
&nbsp;&nbsp;<a href="#forum_tp_mark_posts_read">forum_tp_mark_posts_read</a>()<br>
&nbsp;&nbsp;<a href="#forum_tp_add_read_record">forum_tp_add_read_record</a>()<br>
&nbsp;&nbsp;<a href="#forum_tp_mark_post_read">forum_tp_mark_post_read</a>()<br>
&nbsp;&nbsp;<a href="#forum_tp_mark_forum_read">forum_tp_mark_forum_read</a>()<br>
&nbsp;&nbsp;<a href="#forum_tp_mark_discussion_read">forum_tp_mark_discussion_read</a>()<br>
&nbsp;&nbsp;<a href="#forum_tp_is_post_read">forum_tp_is_post_read</a>()<br>
&nbsp;&nbsp;<a href="#forum_tp_is_post_old">forum_tp_is_post_old</a>()<br>
&nbsp;&nbsp;<a href="#forum_tp_get_course_unread_posts">forum_tp_get_course_unread_posts</a>()<br>
&nbsp;&nbsp;<a href="#forum_tp_count_forum_unread_posts">forum_tp_count_forum_unread_posts</a>()<br>
&nbsp;&nbsp;<a href="#forum_tp_delete_read_records">forum_tp_delete_read_records</a>()<br>
&nbsp;&nbsp;<a href="#forum_tp_get_untracked_forums">forum_tp_get_untracked_forums</a>()<br>
&nbsp;&nbsp;<a href="#forum_tp_can_track_forums">forum_tp_can_track_forums</a>()<br>
&nbsp;&nbsp;<a href="#forum_tp_is_tracked">forum_tp_is_tracked</a>()<br>
&nbsp;&nbsp;<a href="#forum_tp_start_tracking">forum_tp_start_tracking</a>()<br>
&nbsp;&nbsp;<a href="#forum_tp_stop_tracking">forum_tp_stop_tracking</a>()<br>
&nbsp;&nbsp;<a href="#forum_tp_clean_read_records">forum_tp_clean_read_records</a>()<br>
&nbsp;&nbsp;<a href="#forum_discussion_update_last_post">forum_discussion_update_last_post</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_view_actions">forum_get_view_actions</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_post_actions">forum_get_post_actions</a>()<br>
&nbsp;&nbsp;<a href="#forum_check_throttling">forum_check_throttling</a>()<br>
&nbsp;&nbsp;<a href="#forum_check_blocking_threshold">forum_check_blocking_threshold</a>()<br>
&nbsp;&nbsp;<a href="#forum_reset_gradebook">forum_reset_gradebook</a>()<br>
&nbsp;&nbsp;<a href="#forum_reset_userdata">forum_reset_userdata</a>()<br>
&nbsp;&nbsp;<a href="#forum_reset_course_form_definition">forum_reset_course_form_definition</a>()<br>
&nbsp;&nbsp;<a href="#forum_reset_course_form_defaults">forum_reset_course_form_defaults</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_layout_modes">forum_get_layout_modes</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_forum_types">forum_get_forum_types</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_forum_types_all">forum_get_forum_types_all</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_extra_capabilities">forum_get_extra_capabilities</a>()<br>
&nbsp;&nbsp;<a href="#forum_extend_settings_navigation">forum_extend_settings_navigation</a>()<br>
&nbsp;&nbsp;<a href="#forum_cm_info_view">forum_cm_info_view</a>()<br>
&nbsp;&nbsp;<a href="#forum_page_type_list">forum_page_type_list</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_courses_user_posted_in">forum_get_courses_user_posted_in</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_forums_user_posted_in">forum_get_forums_user_posted_in</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_posts_by_user">forum_get_posts_by_user</a>()<br>
&nbsp;&nbsp;<a href="#forum_set_user_maildigest">forum_set_user_maildigest</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_user_maildigest_bulk">forum_get_user_maildigest_bulk</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_user_digest_options">forum_get_user_digest_options</a>()<br>
&nbsp;&nbsp;<a href="#forum_get_context">forum_get_context</a>()<br>
&nbsp;&nbsp;<a href="#forum_view">forum_view</a>()<br>
&nbsp;&nbsp;<a href="#forum_discussion_view">forum_discussion_view</a>()<br>
&nbsp;&nbsp;<a href="#forum_discussion_pin">forum_discussion_pin</a>()<br>
&nbsp;&nbsp;<a href="#forum_discussion_unpin">forum_discussion_unpin</a>()<br>
&nbsp;&nbsp;<a href="#mod_forum_myprofile_navigation">mod_forum_myprofile_navigation</a>()<br>
&nbsp;&nbsp;<a href="#forum_is_author_hidden">forum_is_author_hidden</a>()<br>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classtitle"><a name="functions"><b>Functions</b></a></div>
<div class="details-classinfo">
Functions that are not part of a class:<br><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_add_instance" onClick="logFunction('forum_add_instance', 'lib.php.source.html#l77')" href="lib.php.source.html#l77">forum_add_instance</a>(<a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/mform.html">$mform</a> = null)&nbsp;&nbsp;
<a href="../../_functions/forum_add_instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given an object containing all the necessary data,<BR>
(defined by the form in mod_form.php) this function<BR>
will create a new instance and return the id number<BR>
of the new instance.<BR>
</b><BR><b>param:</b> stdClass $forum add forum instance<br>
<b>param:</b> mod_forum_mod_form $mform<br>
<b>return:</b> int intance id<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_instance_created" onClick="logFunction('forum_instance_created', 'lib.php.source.html#l136')" href="lib.php.source.html#l136">forum_instance_created</a>(<a href="../../_variables/context.html">$context</a>, <a href="../../_variables/forum.html">$forum</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_instance_created.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Handle changes following the creation of a forum instance.<BR>
This function is typically called by the course_module_created observer.<BR>
</b><BR><b>param:</b> object $context the forum context<br>
<b>param:</b> stdClass $forum The forum object<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_update_instance" onClick="logFunction('forum_update_instance', 'lib.php.source.html#l153')" href="lib.php.source.html#l153">forum_update_instance</a>(<a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/mform.html">$mform</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_update_instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given an object containing all the necessary data,<BR>
(defined by the form in mod_form.php) this function<BR>
will update an existing instance with new data.<BR>
</b><BR><b>param:</b> object $forum forum instance (with magic quotes)<br>
<b>return:</b> bool success<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_delete_instance" onClick="logFunction('forum_delete_instance', 'lib.php.source.html#l256')" href="lib.php.source.html#l256">forum_delete_instance</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_delete_instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given an ID of an instance of this module,<BR>
this function will permanently delete the instance<BR>
and any data that depends on it.<BR>
</b><BR><b>param:</b> int $id forum instance id<br>
<b>return:</b> bool success<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_supports" onClick="logFunction('forum_supports', 'lib.php.source.html#l311')" href="lib.php.source.html#l311">forum_supports</a>(<a href="../../_variables/feature.html">$feature</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_supports.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Indicates API features that the forum supports.<BR>
</b><BR><b>param:</b> string $feature<br>
<b>return:</b> mixed True if yes (some features may use other values)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_completion_state" onClick="logFunction('forum_get_completion_state', 'lib.php.source.html#l343')" href="lib.php.source.html#l343">forum_get_completion_state</a>(<a href="../../_variables/course.html">$course</a>,<a href="../../_variables/cm.html">$cm</a>,<a href="../../_variables/userid.html">$userid</a>,<a href="../../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_get_completion_state.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Obtains the automatic completion state for this forum based on any conditions<BR>
in forum settings.<BR>
</b><BR><b>param:</b> object $course Course<br>
<b>param:</b> object $cm Course-module<br>
<b>param:</b> int $userid User ID<br>
<b>param:</b> bool $type Type of comparison (or/and; can be used as return value if no conditions)<br>
<b>return:</b> bool True if completed, false if not. (If no conditions, then return<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_email_message_id" onClick="logFunction('forum_get_email_message_id', 'lib.php.source.html#l406')" href="lib.php.source.html#l406">forum_get_email_message_id</a>(<a href="../../_variables/postid.html">$postid</a>, <a href="../../_variables/usertoid.html">$usertoid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_get_email_message_id.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a message-id string to use in the custom headers of forum notification emails<BR>
</b><BR>message-id is used by email clients to identify emails and to nest conversations<BR>
<BR>
<b>param:</b> int $postid The ID of the forum post we are notifying the user about<br>
<b>param:</b> int $usertoid The ID of the user being notified<br>
<b>return:</b> string A unique message-id<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_cron_minimise_user_record" onClick="logFunction('forum_cron_minimise_user_record', 'lib.php.source.html#l419')" href="lib.php.source.html#l419">forum_cron_minimise_user_record</a>(stdClass <a href="../../_variables/user.html">$user</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_cron_minimise_user_record.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Removes properties from user record that are not necessary<BR>
for sending post notifications.<BR>
</b><BR><b>param:</b> stdClass $user<br>
<b>return:</b> void, $user parameter is modified<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_cron" onClick="logFunction('forum_cron', 'lib.php.source.html#l441')" href="lib.php.source.html#l441">forum_cron</a>()&nbsp;&nbsp;
<a href="../../_functions/forum_cron.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Function to be run periodically according to the scheduled task.<BR>
</b><BR>Finds all posts that have yet to be mailed out, and mails them<BR>
out to all subscribers as well as other maintance tasks.<BR>
<BR>
NOTE: Since 2.7.2 this function is run by scheduled task rather<BR>
than standard cron.<BR>
<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_user_outline" onClick="logFunction('forum_user_outline', 'lib.php.source.html#l1241')" href="lib.php.source.html#l1241">forum_user_outline</a>(<a href="../../_variables/course.html">$course</a>, <a href="../../_variables/user.html">$user</a>, <a href="../../_variables/mod.html">$mod</a>, <a href="../../_variables/forum.html">$forum</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_user_outline.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> object $course<br>
<b>param:</b> object $user<br>
<b>param:</b> object $mod TODO this is not used in this function, refactor<br>
<b>param:</b> object $forum<br>
<b>return:</b> object A standard object with 2 variables: info (number of posts for this user) and time (last modified)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_user_complete" onClick="logFunction('forum_user_complete', 'lib.php.source.html#l1288')" href="lib.php.source.html#l1288">forum_user_complete</a>(<a href="../../_variables/course.html">$course</a>, <a href="../../_variables/user.html">$user</a>, <a href="../../_variables/mod.html">$mod</a>, <a href="../../_variables/forum.html">$forum</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_user_complete.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> object $coure<br>
<b>param:</b> object $user<br>
<b>param:</b> object $mod<br>
<b>param:</b> object $forum<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_filter_user_groups_discussions" onClick="logFunction('forum_filter_user_groups_discussions', 'lib.php.source.html#l1321')" href="lib.php.source.html#l1321">forum_filter_user_groups_discussions</a>(<a href="../../_variables/discussions.html">$discussions</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_filter_user_groups_discussions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Filters the forum discussions according to groups membership and config.<BR>
</b><BR><b>param:</b> array $discussions Discussions with new posts array<br>
<b>return:</b> array Forums with the number of new posts<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_is_user_group_discussion" onClick="logFunction('forum_is_user_group_discussion', 'lib.php.source.html#l1358')" href="lib.php.source.html#l1358">forum_is_user_group_discussion</a>(cm_info <a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/discussiongroupid.html">$discussiongroupid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_is_user_group_discussion.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns whether the discussion group is visible by the current user or not.<BR>
</b><BR><b>param:</b> cm_info $cm The discussion course module<br>
<b>param:</b> int $discussiongroupid The discussion groupid<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_print_overview" onClick="logFunction('forum_print_overview', 'lib.php.source.html#l1391')" href="lib.php.source.html#l1391">forum_print_overview</a>(<a href="../../_variables/courses.html">$courses</a>,&amp;<a href="../../_variables/htmlarray.html">$htmlarray</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_print_overview.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> array $courses<br>
<b>param:</b> array $htmlarray<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_print_recent_activity" onClick="logFunction('forum_print_recent_activity', 'lib.php.source.html#l1531')" href="lib.php.source.html#l1531">forum_print_recent_activity</a>(<a href="../../_variables/course.html">$course</a>, <a href="../../_variables/viewfullnames.html">$viewfullnames</a>, <a href="../../_variables/timestart.html">$timestart</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_print_recent_activity.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a course and a date, prints a summary of all the new<BR>
messages posted in the course since that date<BR>
</b><BR><b>param:</b> object $course<br>
<b>param:</b> bool $viewfullnames capability<br>
<b>param:</b> int $timestart<br>
<b>return:</b> bool success<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_user_grades" onClick="logFunction('forum_get_user_grades', 'lib.php.source.html#l1637')" href="lib.php.source.html#l1637">forum_get_user_grades</a>(<a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/userid.html">$userid</a> = 0)&nbsp;&nbsp;
<a href="../../_functions/forum_get_user_grades.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return grade for given user or all users.<BR>
</b><BR><b>param:</b> object $forum<br>
<b>param:</b> int $userid optional user id, 0 means all users<br>
<b>return:</b> array array of grades, false if none<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_update_grades" onClick="logFunction('forum_update_grades', 'lib.php.source.html#l1668')" href="lib.php.source.html#l1668">forum_update_grades</a>(<a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/userid.html">$userid</a>=0, <a href="../../_variables/nullifnone.html">$nullifnone</a>=true)&nbsp;&nbsp;
<a href="../../_functions/forum_update_grades.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Update activity grades<BR>
</b><BR><b>param:</b> object $forum<br>
<b>param:</b> int $userid specific user only, 0 means all<br>
<b>param:</b> boolean $nullifnone return null if grade does not exist<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_grade_item_update" onClick="logFunction('forum_grade_item_update', 'lib.php.source.html#l1698')" href="lib.php.source.html#l1698">forum_grade_item_update</a>(<a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/grades.html">$grades</a>=NULL)&nbsp;&nbsp;
<a href="../../_functions/forum_grade_item_update.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create/update grade item for given forum<BR>
</b><BR><b>param:</b> stdClass $forum Forum object with extra cmidnumber<br>
<b>param:</b> mixed $grades Optional array/object of grade(s); 'reset' means reset grades in gradebook<br>
<b>return:</b> int 0 if ok<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_grade_item_delete" onClick="logFunction('forum_grade_item_delete', 'lib.php.source.html#l1738')" href="lib.php.source.html#l1738">forum_grade_item_delete</a>(<a href="../../_variables/forum.html">$forum</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_grade_item_delete.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete grade item for given forum<BR>
</b><BR><b>param:</b> stdClass $forum Forum object<br>
<b>return:</b> grade_item<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_scale_used" onClick="logFunction('forum_scale_used', 'lib.php.source.html#l1753')" href="lib.php.source.html#l1753">forum_scale_used</a>(<a href="../../_variables/forumid.html">$forumid</a>,<a href="../../_variables/scaleid.html">$scaleid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_scale_used.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function returns if a scale is being used by one forum<BR>
</b><BR><b>param:</b> int $forumid<br>
<b>param:</b> int $scaleid negative number<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_scale_used_anywhere" onClick="logFunction('forum_scale_used_anywhere', 'lib.php.source.html#l1774')" href="lib.php.source.html#l1774">forum_scale_used_anywhere</a>(<a href="../../_variables/scaleid.html">$scaleid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_scale_used_anywhere.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks if scale is being used by any instance of forum<BR>
</b><BR>This is used to find out if scale used anywhere<BR>
<BR>
<b>param:</b> $scaleid int<br>
<b>return:</b> boolean True if the scale is used by any forum<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_post_full" onClick="logFunction('forum_get_post_full', 'lib.php.source.html#l1794')" href="lib.php.source.html#l1794">forum_get_post_full</a>(<a href="../../_variables/postid.html">$postid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_get_post_full.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets a post with all info ready for forum_print_post<BR>
Most of these joins are just to get the forum id<BR>
</b><BR><b>param:</b> int $postid<br>
<b>return:</b> mixed array of posts or false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_all_discussion_posts" onClick="logFunction('forum_get_all_discussion_posts', 'lib.php.source.html#l1814')" href="lib.php.source.html#l1814">forum_get_all_discussion_posts</a>(<a href="../../_variables/discussionid.html">$discussionid</a>, <a href="../../_variables/sort.html">$sort</a>, <a href="../../_variables/tracking.html">$tracking</a>=false)&nbsp;&nbsp;
<a href="../../_functions/forum_get_all_discussion_posts.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets all posts in discussion including top parent.<BR>
</b><BR><b>param:</b> int $discussionid<br>
<b>param:</b> string $sort<br>
<b>param:</b> bool $tracking does user track the forum?<br>
<b>return:</b> array of posts<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_readable_forums" onClick="logFunction('forum_get_readable_forums', 'lib.php.source.html#l1884')" href="lib.php.source.html#l1884">forum_get_readable_forums</a>(<a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/courseid.html">$courseid</a>=0)&nbsp;&nbsp;
<a href="../../_functions/forum_get_readable_forums.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>An array of forum objects that the user is allowed to read/search through.<BR>
</b><BR><b>param:</b> int $userid<br>
<b>param:</b> int $courseid if 0, we look for forums throughout the whole site.<br>
<b>return:</b> array of forum objects, or false if no matches<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_search_posts" onClick="logFunction('forum_search_posts', 'lib.php.source.html#l1983')" href="lib.php.source.html#l1983">forum_search_posts</a>(<a href="../../_variables/searchterms.html">$searchterms</a>, <a href="../../_variables/courseid.html">$courseid</a>=0, <a href="../../_variables/limitfrom.html">$limitfrom</a>=0, <a href="../../_variables/limitnum.html">$limitnum</a>=50,&amp;<a href="../../_variables/totalcount.html">$totalcount</a>, <a href="../../_variables/extrasql.html">$extrasql</a>='')&nbsp;&nbsp;
<a href="../../_functions/forum_search_posts.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a list of posts found using an array of search terms.<BR>
</b><BR><b>param:</b> array $searchterms array of search terms, e.g. word +word -word<br>
<b>param:</b> int $courseid if 0, we search through the whole site<br>
<b>param:</b> int $limitfrom<br>
<b>param:</b> int $limitnum<br>
<b>param:</b> int &amp;$totalcount<br>
<b>param:</b> string $extrasql<br>
<b>return:</b> array|bool Array of posts found or false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_unmailed_posts" onClick="logFunction('forum_get_unmailed_posts', 'lib.php.source.html#l2115')" href="lib.php.source.html#l2115">forum_get_unmailed_posts</a>(<a href="../../_variables/starttime.html">$starttime</a>, <a href="../../_variables/endtime.html">$endtime</a>, <a href="../../_variables/now.html">$now</a>=null)&nbsp;&nbsp;
<a href="../../_functions/forum_get_unmailed_posts.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a list of all new posts that have not been mailed yet<BR>
</b><BR><b>param:</b> int $starttime posts created after this time<br>
<b>param:</b> int $endtime posts created before this<br>
<b>param:</b> int $now used for timed discussions only<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_mark_old_posts_as_mailed" onClick="logFunction('forum_mark_old_posts_as_mailed', 'lib.php.source.html#l2156')" href="lib.php.source.html#l2156">forum_mark_old_posts_as_mailed</a>(<a href="../../_variables/endtime.html">$endtime</a>, <a href="../../_variables/now.html">$now</a>=null)&nbsp;&nbsp;
<a href="../../_functions/forum_mark_old_posts_as_mailed.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Marks posts before a certain time as being mailed already<BR>
</b><BR><b>param:</b> int $endtime<br>
<b>param:</b> int $now Defaults to time()<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_user_posts" onClick="logFunction('forum_get_user_posts', 'lib.php.source.html#l2195')" href="lib.php.source.html#l2195">forum_get_user_posts</a>(<a href="../../_variables/forumid.html">$forumid</a>, <a href="../../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_get_user_posts.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get all the posts for a user in a forum suitable for forum_print_post<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_user_involved_discussions" onClick="logFunction('forum_get_user_involved_discussions', 'lib.php.source.html#l2231')" href="lib.php.source.html#l2231">forum_get_user_involved_discussions</a>(<a href="../../_variables/forumid.html">$forumid</a>, <a href="../../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_get_user_involved_discussions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get all the discussions user participated in<BR>
</b><BR><b>param:</b> int $forumid<br>
<b>param:</b> int $userid<br>
<b>return:</b> array Array or false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_count_user_posts" onClick="logFunction('forum_count_user_posts', 'lib.php.source.html#l2265')" href="lib.php.source.html#l2265">forum_count_user_posts</a>(<a href="../../_variables/forumid.html">$forumid</a>, <a href="../../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_count_user_posts.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get all the posts for a user in a forum suitable for forum_print_post<BR>
</b><BR><b>param:</b> int $forumid<br>
<b>param:</b> int $userid<br>
<b>return:</b> array of counts or false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_post_from_log" onClick="logFunction('forum_get_post_from_log', 'lib.php.source.html#l2299')" href="lib.php.source.html#l2299">forum_get_post_from_log</a>(<a href="../../_variables/log.html">$log</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_get_post_from_log.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a log entry, return the forum post details for it.<BR>
</b><BR><b>param:</b> object $log<br>
<b>return:</b> array|null<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_firstpost_from_discussion" onClick="logFunction('forum_get_firstpost_from_discussion', 'lib.php.source.html#l2341')" href="lib.php.source.html#l2341">forum_get_firstpost_from_discussion</a>(<a href="../../_variables/discussionid.html">$discussionid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_get_firstpost_from_discussion.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a discussion id, return the first post from the discussion<BR>
</b><BR><b>param:</b> int $dicsussionid<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_count_discussion_replies" onClick="logFunction('forum_count_discussion_replies', 'lib.php.source.html#l2359')" href="lib.php.source.html#l2359">forum_count_discussion_replies</a>(<a href="../../_variables/forumid.html">$forumid</a>, <a href="../../_variables/forumsort.html">$forumsort</a>=&quot;&quot;, <a href="../../_variables/limit.html">$limit</a>=-1, <a href="../../_variables/page.html">$page</a>=-1, <a href="../../_variables/perpage.html">$perpage</a>=0)&nbsp;&nbsp;
<a href="../../_functions/forum_count_discussion_replies.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns an array of counts of replies to each discussion<BR>
</b><BR><b>param:</b> int $forumid<br>
<b>param:</b> string $forumsort<br>
<b>param:</b> int $limit<br>
<b>param:</b> int $page<br>
<b>param:</b> int $perpage<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_count_discussions" onClick="logFunction('forum_count_discussions', 'lib.php.source.html#l2424')" href="lib.php.source.html#l2424">forum_count_discussions</a>(<a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/course.html">$course</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_count_discussions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> object $forum<br>
<b>param:</b> object $cm<br>
<b>param:</b> object $course<br>
<b>return:</b> mixed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_discussions" onClick="logFunction('forum_get_discussions', 'lib.php.source.html#l2501')" href="lib.php.source.html#l2501">forum_get_discussions</a>(<a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/forumsort.html">$forumsort</a>=&quot;&quot;, <a href="../../_variables/fullpost.html">$fullpost</a>=true, <a href="../../_variables/unused.html">$unused</a>=-1, <a href="../../_variables/limit.html">$limit</a>=-1,<a href="../../_variables/userlastmodified.html">$userlastmodified</a>=false, <a href="../../_variables/page.html">$page</a>=-1, <a href="../../_variables/perpage.html">$perpage</a>=0, <a href="../../_variables/groupid.html">$groupid</a> = -1)&nbsp;&nbsp;
<a href="../../_functions/forum_get_discussions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get all discussions in a forum<BR>
</b><BR><b>param:</b> object $cm<br>
<b>param:</b> string $forumsort<br>
<b>param:</b> bool $fullpost<br>
<b>param:</b> int $unused<br>
<b>param:</b> int $limit<br>
<b>param:</b> bool $userlastmodified<br>
<b>param:</b> int $page<br>
<b>param:</b> int $perpage<br>
<b>param:</b> int $groupid if groups enabled, get discussions for this group overriding the current group.<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_discussion_neighbours" onClick="logFunction('forum_get_discussion_neighbours', 'lib.php.source.html#l2646')" href="lib.php.source.html#l2646">forum_get_discussion_neighbours</a>(<a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/discussion.html">$discussion</a>, <a href="../../_variables/forum.html">$forum</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_get_discussion_neighbours.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets the neighbours (previous and next) of a discussion.<BR>
</b><BR>The calculation is based on the timemodified when time modified or time created is identical<BR>
It will revert to using the ID to sort consistently. This is better tha skipping a discussion.<BR>
<BR>
For blog-style forums, the calculation is based on the original creation time of the<BR>
blog post.<BR>
<BR>
Please note that this does not check whether or not the discussion passed is accessible<BR>
by the user, it simply uses it as a reference to find the neighbours. On the other hand,<BR>
the returned neighbours are checked and are accessible to the current user.<BR>
<BR>
<b>param:</b> object $cm The CM record.<br>
<b>param:</b> object $discussion The discussion record.<br>
<b>param:</b> object $forum The forum instance record.<br>
<b>return:</b> array That always contains the keys 'prev' and 'next'. When there is a result<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_default_sort_order" onClick="logFunction('forum_get_default_sort_order', 'lib.php.source.html#l2793')" href="lib.php.source.html#l2793">forum_get_default_sort_order</a>(<a href="../../_variables/desc.html">$desc</a> = true, <a href="../../_variables/compare.html">$compare</a> = 'd.timemodified', <a href="../../_variables/prefix.html">$prefix</a> = 'd', <a href="../../_variables/pinned.html">$pinned</a> = true)&nbsp;&nbsp;
<a href="../../_functions/forum_get_default_sort_order.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the sql to use in the ORDER BY clause for forum discussions.<BR>
</b><BR>This has the ordering take timed discussion windows into account.<BR>
<BR>
<b>param:</b> bool $desc True for DESC, False for ASC.<br>
<b>param:</b> string $compare The field in the SQL to compare to normally sort by.<br>
<b>param:</b> string $prefix The prefix being used for the discussion table.<br>
<b>param:</b> bool $pinned sort pinned posts to the top<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_discussions_unread" onClick="logFunction('forum_get_discussions_unread', 'lib.php.source.html#l2839')" href="lib.php.source.html#l2839">forum_get_discussions_unread</a>(<a href="../../_variables/cm.html">$cm</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_get_discussions_unread.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> object $cm<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_discussions_count" onClick="logFunction('forum_get_discussions_count', 'lib.php.source.html#l2911')" href="lib.php.source.html#l2911">forum_get_discussions_count</a>(<a href="../../_variables/cm.html">$cm</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_get_discussions_count.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> object $cm<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_course_forum" onClick="logFunction('forum_get_course_forum', 'lib.php.source.html#l2980')" href="lib.php.source.html#l2980">forum_get_course_forum</a>(<a href="../../_variables/courseid.html">$courseid</a>, <a href="../../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_get_course_forum.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> int $courseid<br>
<b>param:</b> string $type<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_print_post" onClick="logFunction('forum_print_post', 'lib.php.source.html#l3049')" href="lib.php.source.html#l3049">forum_print_post</a>(<a href="../../_variables/post.html">$post</a>, <a href="../../_variables/discussion.html">$discussion</a>, <a href="../../_variables/forum.html">$forum</a>, &amp;<a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/course.html">$course</a>, <a href="../../_variables/ownpost.html">$ownpost</a>=false, <a href="../../_variables/reply.html">$reply</a>=false, <a href="../../_variables/link.html">$link</a>=false,<a href="../../_variables/footer.html">$footer</a>=&quot;&quot;, <a href="../../_variables/highlight.html">$highlight</a>=&quot;&quot;, <a href="../../_variables/postisread.html">$postisread</a>=null, <a href="../../_variables/dummyifcantsee.html">$dummyifcantsee</a>=true, <a href="../../_variables/istracked.html">$istracked</a>=null, <a href="../../_variables/return.html">$return</a>=false)&nbsp;&nbsp;
<a href="../../_functions/forum_print_post.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Print a forum post<BR>
</b><BR><b>param:</b> object $post The post to print.<br>
<b>param:</b> object $discussion<br>
<b>param:</b> object $forum<br>
<b>param:</b> object $cm<br>
<b>param:</b> object $course<br>
<b>param:</b> boolean $ownpost Whether this post belongs to the current user.<br>
<b>param:</b> boolean $reply Whether to print a 'reply' link at the bottom of the message.<br>
<b>param:</b> boolean $link Just print a shortened version of the post as a link to the full post.<br>
<b>param:</b> string $footer Extra stuff to print after the message.<br>
<b>param:</b> string $highlight Space-separated list of terms to highlight.<br>
<b>param:</b> int $post_read true, false or -99. If we already know whether this user<br>
<b>param:</b> boolean $dummyifcantsee When forum_user_can_see_post says that<br>
<b>param:</b> bool|null $istracked<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_rating_permissions" onClick="logFunction('forum_rating_permissions', 'lib.php.source.html#l3496')" href="lib.php.source.html#l3496">forum_rating_permissions</a>(<a href="../../_variables/contextid.html">$contextid</a>, <a href="../../_variables/component.html">$component</a>, <a href="../../_variables/ratingarea.html">$ratingarea</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_rating_permissions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return rating related permissions<BR>
</b><BR><b>param:</b> string $options the context id<br>
<b>return:</b> array an associative array of the user's rating permissions<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_rating_validate" onClick="logFunction('forum_rating_validate', 'lib.php.source.html#l3517')" href="lib.php.source.html#l3517">forum_rating_validate</a>(<a href="../../_variables/params.html">$params</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_rating_validate.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Validates a submitted rating<BR>
</b><BR><b>param:</b> array $params submitted data<br>
<b>return:</b> boolean true if the rating is valid. Will throw rating_exception if not<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="mod_forum_rating_can_see_item_ratings" onClick="logFunction('mod_forum_rating_can_see_item_ratings', 'lib.php.source.html#l3617')" href="lib.php.source.html#l3617">mod_forum_rating_can_see_item_ratings</a>(<a href="../../_variables/params.html">$params</a>)&nbsp;&nbsp;
<a href="../../_functions/mod_forum_rating_can_see_item_ratings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Can the current user see ratings for a given itemid?<BR>
</b><BR><b>param:</b> array $params submitted data<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_print_discussion_header" onClick="logFunction('forum_print_discussion_header', 'lib.php.source.html#l3660')" href="lib.php.source.html#l3660">forum_print_discussion_header</a>(&amp;<a href="../../_variables/post.html">$post</a>, <a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/group.html">$group</a> = -1, <a href="../../_variables/datestring.html">$datestring</a> = &quot;&quot;,<a href="../../_variables/cantrack.html">$cantrack</a> = true, <a href="../../_variables/forumtracked.html">$forumtracked</a> = true, <a href="../../_variables/canviewparticipants.html">$canviewparticipants</a> = true, <a href="../../_variables/modcontext.html">$modcontext</a> = null,<a href="../../_variables/canviewhiddentimedposts.html">$canviewhiddentimedposts</a> = false)&nbsp;&nbsp;
<a href="../../_functions/forum_print_discussion_header.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function prints the overview of a discussion in the forum listing.<BR>
It needs some discussion information and some post information, these<BR>
happen to be combined for efficiency in the $post parameter by the function<BR>
that calls this one: forum_print_latest_discussions()<BR>
</b><BR><b>param:</b> object $post The post object (passed by reference for speed).<br>
<b>param:</b> object $forum The forum object.<br>
<b>param:</b> int $group Current group.<br>
<b>param:</b> string $datestring Format to use for the dates.<br>
<b>param:</b> boolean $cantrack Is tracking enabled for this forum.<br>
<b>param:</b> boolean $forumtracked Is the user tracking this forum.<br>
<b>param:</b> boolean $canviewparticipants True if user has the viewparticipants permission for this course<br>
<b>param:</b> boolean $canviewhiddentimedposts True if user has the viewhiddentimedposts permission for this forum<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_discussion_subscription_icon" onClick="logFunction('forum_get_discussion_subscription_icon', 'lib.php.source.html#l3827')" href="lib.php.source.html#l3827">forum_get_discussion_subscription_icon</a>(<a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/discussionid.html">$discussionid</a>, <a href="../../_variables/returnurl.html">$returnurl</a> = null, <a href="../../_variables/includetext.html">$includetext</a> = false)&nbsp;&nbsp;
<a href="../../_functions/forum_get_discussion_subscription_icon.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return the markup for the discussion subscription toggling icon.<BR>
</b><BR><b>param:</b> stdClass $forum The forum object.<br>
<b>param:</b> int $discussionid The discussion to create an icon for.<br>
<b>return:</b> string The generated markup.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_discussion_subscription_icon_preloaders" onClick="logFunction('forum_get_discussion_subscription_icon_preloaders', 'lib.php.source.html#l3884')" href="lib.php.source.html#l3884">forum_get_discussion_subscription_icon_preloaders</a>()&nbsp;&nbsp;
<a href="../../_functions/forum_get_discussion_subscription_icon_preloaders.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return a pair of spans containing classes to allow the subscribe and<BR>
unsubscribe icons to be pre-loaded by a browser.<BR>
</b><BR><b>return:</b> string The generated markup<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_print_mode_form" onClick="logFunction('forum_print_mode_form', 'lib.php.source.html#l3897')" href="lib.php.source.html#l3897">forum_print_mode_form</a>(<a href="../../_variables/id.html">$id</a>, <a href="../../_variables/mode.html">$mode</a>, <a href="../../_variables/forumtype.html">$forumtype</a>='')&nbsp;&nbsp;
<a href="../../_functions/forum_print_mode_form.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Print the drop down that allows the user to select how they want to have<BR>
the discussion displayed.<BR>
</b><BR><b>param:</b> int $id forum id if $forumtype is 'single',<br>
<b>param:</b> mixed $mode forum layout mode<br>
<b>param:</b> string $forumtype optional<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_search_form" onClick="logFunction('forum_search_form', 'lib.php.source.html#l3925')" href="lib.php.source.html#l3925">forum_search_form</a>(<a href="../../_variables/course.html">$course</a>, <a href="../../_variables/search.html">$search</a>='')&nbsp;&nbsp;
<a href="../../_functions/forum_search_form.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> object $course<br>
<b>param:</b> string $search<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_set_return" onClick="logFunction('forum_set_return', 'lib.php.source.html#l3949')" href="lib.php.source.html#l3949">forum_set_return</a>()&nbsp;&nbsp;
<a href="../../_functions/forum_set_return.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_go_back_to" onClick="logFunction('forum_go_back_to', 'lib.php.source.html#l3967')" href="lib.php.source.html#l3967">forum_go_back_to</a>(<a href="../../_variables/default.html">$default</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_go_back_to.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> string|\moodle_url $default<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_move_attachments" onClick="logFunction('forum_move_attachments', 'lib.php.source.html#l3979')" href="lib.php.source.html#l3979">forum_move_attachments</a>(<a href="../../_variables/discussion.html">$discussion</a>, <a href="../../_variables/forumfrom.html">$forumfrom</a>, <a href="../../_variables/forumto.html">$forumto</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_move_attachments.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a discussion object that is being moved to $forumto,<BR>
this function checks all posts in that discussion<BR>
for attachments, and if any are found, these are<BR>
moved to the new forum directory.<BR>
</b><BR><b>param:</b> object $discussion<br>
<b>param:</b> int $forumfrom source forum id<br>
<b>param:</b> int $forumto target forum id<br>
<b>return:</b> bool success<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_print_attachments" onClick="logFunction('forum_print_attachments', 'lib.php.source.html#l4024')" href="lib.php.source.html#l4024">forum_print_attachments</a>(<a href="../../_variables/post.html">$post</a>, <a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_print_attachments.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns attachments as formated text/html optionally with separate images<BR>
</b><BR><b>param:</b> object $post<br>
<b>param:</b> object $cm<br>
<b>param:</b> string $type html/text/separateimages<br>
<b>return:</b> mixed string or array of (html text withouth images and image HTML)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_file_areas" onClick="logFunction('forum_get_file_areas', 'lib.php.source.html#l4133')" href="lib.php.source.html#l4133">forum_get_file_areas</a>(<a href="../../_variables/course.html">$course</a>, <a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/context.html">$context</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_get_file_areas.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Lists all browsable file areas<BR>
</b><BR><b>param:</b> stdClass $course course object<br>
<b>param:</b> stdClass $cm course module object<br>
<b>param:</b> stdClass $context context object<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_file_info" onClick="logFunction('forum_get_file_info', 'lib.php.source.html#l4150')" href="lib.php.source.html#l4150">forum_get_file_info</a>(<a href="../../_variables/browser.html">$browser</a>, <a href="../../_variables/areas.html">$areas</a>, <a href="../../_variables/course.html">$course</a>, <a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/context.html">$context</a>, <a href="../../_variables/filearea.html">$filearea</a>, <a href="../../_variables/itemid.html">$itemid</a>, <a href="../../_variables/filepath.html">$filepath</a>, <a href="../../_variables/filename.html">$filename</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_get_file_info.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>File browsing support for forum module.<BR>
</b><BR><b>param:</b> stdClass $browser file browser object<br>
<b>param:</b> stdClass $areas file areas<br>
<b>param:</b> stdClass $course course object<br>
<b>param:</b> stdClass $cm course module<br>
<b>param:</b> stdClass $context context module<br>
<b>param:</b> string $filearea file area<br>
<b>param:</b> int $itemid item ID<br>
<b>param:</b> string $filepath file path<br>
<b>param:</b> string $filename file name<br>
<b>return:</b> file_info instance or null if not found<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_pluginfile" onClick="logFunction('forum_pluginfile', 'lib.php.source.html#l4250')" href="lib.php.source.html#l4250">forum_pluginfile</a>(<a href="../../_variables/course.html">$course</a>, <a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/context.html">$context</a>, <a href="../../_variables/filearea.html">$filearea</a>, <a href="../../_variables/args.html">$args</a>, <a href="../../_variables/forcedownload.html">$forcedownload</a>, array <a href="../../_variables/options.html">$options</a>=array()&nbsp;&nbsp;
<a href="../../_functions/forum_pluginfile.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Serves the forum attachments. Implements needed access control ;-)<BR>
</b><BR><b>param:</b> stdClass $course course object<br>
<b>param:</b> stdClass $cm course module object<br>
<b>param:</b> stdClass $context context object<br>
<b>param:</b> string $filearea file area<br>
<b>param:</b> array $args extra arguments<br>
<b>param:</b> bool $forcedownload whether or not force download<br>
<b>param:</b> array $options additional options affecting the file serving<br>
<b>return:</b> bool false if file not found, does not return if found - justsend the file<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_add_attachment" onClick="logFunction('forum_add_attachment', 'lib.php.source.html#l4320')" href="lib.php.source.html#l4320">forum_add_attachment</a>(<a href="../../_variables/post.html">$post</a>, <a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/mform.html">$mform</a>=null, <a href="../../_variables/unused.html">$unused</a>=null)&nbsp;&nbsp;
<a href="../../_functions/forum_add_attachment.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>If successful, this function returns the name of the file<BR>
</b><BR><b>param:</b> object $post is a full post record, including course and forum<br>
<b>param:</b> object $forum<br>
<b>param:</b> object $cm<br>
<b>param:</b> mixed $mform<br>
<b>param:</b> string $unused<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_add_new_post" onClick="logFunction('forum_add_new_post', 'lib.php.source.html#l4354')" href="lib.php.source.html#l4354">forum_add_new_post</a>(<a href="../../_variables/post.html">$post</a>, <a href="../../_variables/mform.html">$mform</a>, <a href="../../_variables/unused.html">$unused</a> = null)&nbsp;&nbsp;
<a href="../../_functions/forum_add_new_post.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add a new post in an existing discussion.<BR>
</b><BR><b>param:</b> object $post<br>
<b>param:</b> mixed $mform<br>
<b>param:</b> string $unused formerly $message, renamed in 2.8 as it was unused.<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_update_post" onClick="logFunction('forum_update_post', 'lib.php.source.html#l4404')" href="lib.php.source.html#l4404">forum_update_post</a>(<a href="../../_variables/post.html">$post</a>, <a href="../../_variables/mform.html">$mform</a>, &amp;<a href="../../_variables/message.html">$message</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_update_post.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Update a post<BR>
</b><BR><b>param:</b> object $post<br>
<b>param:</b> mixed $mform<br>
<b>param:</b> string $message<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_add_discussion" onClick="logFunction('forum_add_discussion', 'lib.php.source.html#l4457')" href="lib.php.source.html#l4457">forum_add_discussion</a>(<a href="../../_variables/discussion.html">$discussion</a>, <a href="../../_variables/mform.html">$mform</a>=null, <a href="../../_variables/unused.html">$unused</a>=null, <a href="../../_variables/userid.html">$userid</a>=null)&nbsp;&nbsp;
<a href="../../_functions/forum_add_discussion.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given an object containing all the necessary data,<BR>
create a new discussion and return the id<BR>
</b><BR><b>param:</b> object $post<br>
<b>param:</b> mixed $mform<br>
<b>param:</b> string $unused<br>
<b>param:</b> int $userid<br>
<b>return:</b> object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_delete_discussion" onClick="logFunction('forum_delete_discussion', 'lib.php.source.html#l4538')" href="lib.php.source.html#l4538">forum_delete_discussion</a>(<a href="../../_variables/discussion.html">$discussion</a>, <a href="../../_variables/fulldelete.html">$fulldelete</a>, <a href="../../_variables/course.html">$course</a>, <a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/forum.html">$forum</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_delete_discussion.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Deletes a discussion and handles all associated cleanup.<BR>
</b><BR><b>param:</b> object $discussion Discussion to delete<br>
<b>param:</b> bool $fulldelete True when deleting entire forum<br>
<b>param:</b> object $course Course<br>
<b>param:</b> object $cm Course-module<br>
<b>param:</b> object $forum Forum<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_delete_post" onClick="logFunction('forum_delete_post', 'lib.php.source.html#l4587')" href="lib.php.source.html#l4587">forum_delete_post</a>(<a href="../../_variables/post.html">$post</a>, <a href="../../_variables/children.html">$children</a>, <a href="../../_variables/course.html">$course</a>, <a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/skipcompletion.html">$skipcompletion</a>=false)&nbsp;&nbsp;
<a href="../../_functions/forum_delete_post.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Deletes a single forum post.<BR>
</b><BR><b>param:</b> object $post Forum post object<br>
<b>param:</b> mixed $children Whether to delete children. If false, returns false<br>
<b>param:</b> object $course Course<br>
<b>param:</b> object $cm Course-module<br>
<b>param:</b> object $forum Forum<br>
<b>param:</b> bool $skipcompletion True to skip updating completion state if it<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_trigger_content_uploaded_event" onClick="logFunction('forum_trigger_content_uploaded_event', 'lib.php.source.html#l4680')" href="lib.php.source.html#l4680">forum_trigger_content_uploaded_event</a>(<a href="../../_variables/post.html">$post</a>, <a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_trigger_content_uploaded_event.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sends post content to plagiarism plugin<BR>
</b><BR><b>param:</b> object $post Forum post object<br>
<b>param:</b> object $cm Course-module<br>
<b>param:</b> string $name<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_count_replies" onClick="logFunction('forum_count_replies', 'lib.php.source.html#l4712')" href="lib.php.source.html#l4712">forum_count_replies</a>(<a href="../../_variables/post.html">$post</a>, <a href="../../_variables/children.html">$children</a>=true)&nbsp;&nbsp;
<a href="../../_functions/forum_count_replies.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> object $post<br>
<b>param:</b> bool $children<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_post_subscription" onClick="logFunction('forum_post_subscription', 'lib.php.source.html#l4730')" href="lib.php.source.html#l4730">forum_post_subscription</a>(<a href="../../_variables/fromform.html">$fromform</a>, <a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/discussion.html">$discussion</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_post_subscription.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a new post, subscribes or unsubscribes as appropriate.<BR>
Returns some text which describes what happened.<BR>
</b><BR><b>param:</b> object $fromform The submitted form<br>
<b>param:</b> stdClass $forum The forum record<br>
<b>param:</b> stdClass $discussion The forum discussion record<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_subscribe_link" onClick="logFunction('forum_get_subscribe_link', 'lib.php.source.html#l4771')" href="lib.php.source.html#l4771">forum_get_subscribe_link</a>(<a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/context.html">$context</a>, <a href="../../_variables/messages.html">$messages</a> = array()&nbsp;&nbsp;
<a href="../../_functions/forum_get_subscribe_link.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generate and return the subscribe or unsubscribe link for a forum.<BR>
</b><BR><b>param:</b> object $forum the forum. Fields used are $forum-&gt;id and $forum-&gt;forcesubscribe.<br>
<b>param:</b> object $context the context object for this forum.<br>
<b>param:</b> array $messages text used for the link in its various states<br>
<b>param:</b> bool $cantaccessagroup<br>
<b>param:</b> bool $fakelink<br>
<b>param:</b> bool $backtoindex<br>
<b>param:</b> array $subscribed_forums<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_user_has_posted_discussion" onClick="logFunction('forum_user_has_posted_discussion', 'lib.php.source.html#l4844')" href="lib.php.source.html#l4844">forum_user_has_posted_discussion</a>(<a href="../../_variables/forumid.html">$forumid</a>, <a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/groupid.html">$groupid</a> = null)&nbsp;&nbsp;
<a href="../../_functions/forum_user_has_posted_discussion.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns true if user created new discussion already.<BR>
</b><BR><b>param:</b> int $forumid&nbsp;&nbsp;The forum to check for postings<br>
<b>param:</b> int $userid&nbsp;&nbsp;&nbsp;The user to check for postings<br>
<b>param:</b> int $groupid&nbsp;&nbsp;The group to restrict the check to<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_discussions_user_has_posted_in" onClick="logFunction('forum_discussions_user_has_posted_in', 'lib.php.source.html#l4876')" href="lib.php.source.html#l4876">forum_discussions_user_has_posted_in</a>(<a href="../../_variables/forumid.html">$forumid</a>, <a href="../../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_discussions_user_has_posted_in.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> int $forumid<br>
<b>param:</b> int $userid<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_user_has_posted" onClick="logFunction('forum_user_has_posted', 'lib.php.source.html#l4898')" href="lib.php.source.html#l4898">forum_user_has_posted</a>(<a href="../../_variables/forumid.html">$forumid</a>, <a href="../../_variables/did.html">$did</a>, <a href="../../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_user_has_posted.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> int $forumid<br>
<b>param:</b> int $did<br>
<b>param:</b> int $userid<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_user_posted_time" onClick="logFunction('forum_get_user_posted_time', 'lib.php.source.html#l4913')" href="lib.php.source.html#l4913">forum_get_user_posted_time</a>(<a href="../../_variables/did.html">$did</a>, <a href="../../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_get_user_posted_time.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns creation time of the first user's post in given discussion<BR>
</b><BR><b>param:</b> int $did Discussion id<br>
<b>param:</b> int $userid User id<br>
<b>return:</b> int|bool post creation time stamp or return false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_user_can_post_discussion" onClick="logFunction('forum_user_can_post_discussion', 'lib.php.source.html#l4939')" href="lib.php.source.html#l4939">forum_user_can_post_discussion</a>(<a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/currentgroup.html">$currentgroup</a>=null, <a href="../../_variables/unused.html">$unused</a>=-1, <a href="../../_variables/cm.html">$cm</a>=NULL, <a href="../../_variables/context.html">$context</a>=NULL)&nbsp;&nbsp;
<a href="../../_functions/forum_user_can_post_discussion.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> object $forum<br>
<b>param:</b> object $currentgroup<br>
<b>param:</b> int $unused<br>
<b>param:</b> object $cm<br>
<b>param:</b> object $context<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_user_can_post" onClick="logFunction('forum_user_can_post', 'lib.php.source.html#l5000')" href="lib.php.source.html#l5000">forum_user_can_post</a>(<a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/discussion.html">$discussion</a>, <a href="../../_variables/user.html">$user</a>=NULL, <a href="../../_variables/cm.html">$cm</a>=NULL, <a href="../../_variables/course.html">$course</a>=NULL, <a href="../../_variables/context.html">$context</a>=NULL)&nbsp;&nbsp;
<a href="../../_functions/forum_user_can_post.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function checks whether the user can reply to posts in a forum<BR>
discussion. Use forum_user_can_post_discussion() to check whether the user<BR>
can start discussions.<BR>
</b><BR><b>param:</b> object $forum forum object<br>
<b>param:</b> object $discussion<br>
<b>param:</b> object $user<br>
<b>param:</b> object $cm<br>
<b>param:</b> object $course<br>
<b>param:</b> object $context<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_user_can_see_timed_discussion" onClick="logFunction('forum_user_can_see_timed_discussion', 'lib.php.source.html#l5091')" href="lib.php.source.html#l5091">forum_user_can_see_timed_discussion</a>(<a href="../../_variables/discussion.html">$discussion</a>, <a href="../../_variables/user.html">$user</a>, <a href="../../_variables/context.html">$context</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_user_can_see_timed_discussion.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check to ensure a user can view a timed discussion.<BR>
</b><BR><b>param:</b> object $discussion<br>
<b>param:</b> object $user<br>
<b>param:</b> object $context<br>
<b>return:</b> boolean returns true if they can view post, false otherwise<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_user_can_see_group_discussion" onClick="logFunction('forum_user_can_see_group_discussion', 'lib.php.source.html#l5116')" href="lib.php.source.html#l5116">forum_user_can_see_group_discussion</a>(<a href="../../_variables/discussion.html">$discussion</a>, <a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/context.html">$context</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_user_can_see_group_discussion.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check to ensure a user can view a group discussion.<BR>
</b><BR><b>param:</b> object $discussion<br>
<b>param:</b> object $cm<br>
<b>param:</b> object $context<br>
<b>return:</b> boolean returns true if they can view post, false otherwise<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_user_can_see_discussion" onClick="logFunction('forum_user_can_see_discussion', 'lib.php.source.html#l5147')" href="lib.php.source.html#l5147">forum_user_can_see_discussion</a>(<a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/discussion.html">$discussion</a>, <a href="../../_variables/context.html">$context</a>, <a href="../../_variables/user.html">$user</a>=NULL)&nbsp;&nbsp;
<a href="../../_functions/forum_user_can_see_discussion.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> object $forum<br>
<b>param:</b> object $discussion<br>
<b>param:</b> object $context<br>
<b>param:</b> object $user<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_user_can_see_post" onClick="logFunction('forum_user_can_see_post', 'lib.php.source.html#l5196')" href="lib.php.source.html#l5196">forum_user_can_see_post</a>(<a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/discussion.html">$discussion</a>, <a href="../../_variables/post.html">$post</a>, <a href="../../_variables/user.html">$user</a>=NULL, <a href="../../_variables/cm.html">$cm</a>=NULL)&nbsp;&nbsp;
<a href="../../_functions/forum_user_can_see_post.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> object $forum<br>
<b>param:</b> object $discussion<br>
<b>param:</b> object $post<br>
<b>param:</b> object $user<br>
<b>param:</b> object $cm<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_print_latest_discussions" onClick="logFunction('forum_print_latest_discussions', 'lib.php.source.html#l5273')" href="lib.php.source.html#l5273">forum_print_latest_discussions</a>(<a href="../../_variables/course.html">$course</a>, <a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/maxdiscussions.html">$maxdiscussions</a> = -1, <a href="../../_variables/displayformat.html">$displayformat</a> = 'plain', <a href="../../_variables/sort.html">$sort</a> = '',<a href="../../_variables/currentgroup.html">$currentgroup</a> = -1, <a href="../../_variables/groupmode.html">$groupmode</a> = -1, <a href="../../_variables/page.html">$page</a> = -1, <a href="../../_variables/perpage.html">$perpage</a> = 100, <a href="../../_variables/cm.html">$cm</a> = null)&nbsp;&nbsp;
<a href="../../_functions/forum_print_latest_discussions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Prints the discussion view screen for a forum.<BR>
</b><BR><b>param:</b> object $course The current course object.<br>
<b>param:</b> object $forum Forum to be printed.<br>
<b>param:</b> int $maxdiscussions .<br>
<b>param:</b> string $displayformat The display format to use (optional).<br>
<b>param:</b> string $sort Sort arguments for database query (optional).<br>
<b>param:</b> int $groupmode Group mode of the forum (optional).<br>
<b>param:</b> void $unused (originally current group)<br>
<b>param:</b> int $page Page mode, page to display (optional).<br>
<b>param:</b> int $perpage The maximum number of discussions per page(optional)<br>
<b>param:</b> boolean $subscriptionstatus Whether the user is currently subscribed to the discussion in some fashion.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_print_discussion" onClick="logFunction('forum_print_discussion', 'lib.php.source.html#l5577')" href="lib.php.source.html#l5577">forum_print_discussion</a>(<a href="../../_variables/course.html">$course</a>, <a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/discussion.html">$discussion</a>, <a href="../../_variables/post.html">$post</a>, <a href="../../_variables/mode.html">$mode</a>, <a href="../../_variables/canreply.html">$canreply</a>=NULL, <a href="../../_variables/canrate.html">$canrate</a>=false)&nbsp;&nbsp;
<a href="../../_functions/forum_print_discussion.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Prints a forum discussion<BR>
</b><BR><b>param:</b> stdClass $course<br>
<b>param:</b> stdClass $cm<br>
<b>param:</b> stdClass $forum<br>
<b>param:</b> stdClass $discussion<br>
<b>param:</b> stdClass $post<br>
<b>param:</b> int $mode<br>
<b>param:</b> mixed $canreply<br>
<b>param:</b> bool $canrate<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_print_posts_flat" onClick="logFunction('forum_print_posts_flat', 'lib.php.source.html#l5707')" href="lib.php.source.html#l5707">forum_print_posts_flat</a>(<a href="../../_variables/course.html">$course</a>, &amp;<a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/discussion.html">$discussion</a>, <a href="../../_variables/post.html">$post</a>, <a href="../../_variables/mode.html">$mode</a>, <a href="../../_variables/reply.html">$reply</a>, <a href="../../_variables/forumtracked.html">$forumtracked</a>, <a href="../../_variables/posts.html">$posts</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_print_posts_flat.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> object $course<br>
<b>param:</b> object $cm<br>
<b>param:</b> object $forum<br>
<b>param:</b> object $discussion<br>
<b>param:</b> object $post<br>
<b>param:</b> object $mode<br>
<b>param:</b> bool $reply<br>
<b>param:</b> bool $forumtracked<br>
<b>param:</b> array $posts<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_print_posts_threaded" onClick="logFunction('forum_print_posts_threaded', 'lib.php.source.html#l5734')" href="lib.php.source.html#l5734">forum_print_posts_threaded</a>(<a href="../../_variables/course.html">$course</a>, &amp;<a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/discussion.html">$discussion</a>, <a href="../../_variables/parent.html">$parent</a>, <a href="../../_variables/depth.html">$depth</a>, <a href="../../_variables/reply.html">$reply</a>, <a href="../../_variables/forumtracked.html">$forumtracked</a>, <a href="../../_variables/posts.html">$posts</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_print_posts_threaded.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_print_posts_nested" onClick="logFunction('forum_print_posts_nested', 'lib.php.source.html#l5792')" href="lib.php.source.html#l5792">forum_print_posts_nested</a>(<a href="../../_variables/course.html">$course</a>, &amp;<a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/discussion.html">$discussion</a>, <a href="../../_variables/parent.html">$parent</a>, <a href="../../_variables/reply.html">$reply</a>, <a href="../../_variables/forumtracked.html">$forumtracked</a>, <a href="../../_variables/posts.html">$posts</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_print_posts_nested.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_recent_mod_activity" onClick="logFunction('forum_get_recent_mod_activity', 'lib.php.source.html#l5820')" href="lib.php.source.html#l5820">forum_get_recent_mod_activity</a>(&amp;<a href="../../_variables/activities.html">$activities</a>, &amp;<a href="../../_variables/index.html">$index</a>, <a href="../../_variables/timestart.html">$timestart</a>, <a href="../../_variables/courseid.html">$courseid</a>, <a href="../../_variables/cmid.html">$cmid</a>, <a href="../../_variables/userid.html">$userid</a>=0, <a href="../../_variables/groupid.html">$groupid</a>=0)&nbsp;&nbsp;
<a href="../../_functions/forum_get_recent_mod_activity.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns all forum posts since a given time in specified forum.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_print_recent_mod_activity" onClick="logFunction('forum_print_recent_mod_activity', 'lib.php.source.html#l5939')" href="lib.php.source.html#l5939">forum_print_recent_mod_activity</a>(<a href="../../_variables/activity.html">$activity</a>, <a href="../../_variables/courseid.html">$courseid</a>, <a href="../../_variables/detail.html">$detail</a>, <a href="../../_variables/modnames.html">$modnames</a>, <a href="../../_variables/viewfullnames.html">$viewfullnames</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_print_recent_mod_activity.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Outputs the forum post indicated by $activity.<BR>
</b><BR><b>param:</b> object $activity&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the activity object the forum resides in<br>
<b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;$courseid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the id of the course the forum resides in<br>
<b>param:</b> bool&nbsp;&nbsp;&nbsp;$detail&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not used, but required for compatibilty with other modules<br>
<b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;$modnames&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not used, but required for compatibilty with other modules<br>
<b>param:</b> bool&nbsp;&nbsp;&nbsp;$viewfullnames not used, but required for compatibilty with other modules<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_change_discussionid" onClick="logFunction('forum_change_discussionid', 'lib.php.source.html#l6021')" href="lib.php.source.html#l6021">forum_change_discussionid</a>(<a href="../../_variables/postid.html">$postid</a>, <a href="../../_variables/discussionid.html">$discussionid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_change_discussionid.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>recursively sets the discussion field to $discussionid on $postid and all its children<BR>
used when pruning a post<BR>
</b><BR><b>param:</b> int $postid<br>
<b>param:</b> int $discussionid<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_update_subscriptions_button" onClick="logFunction('forum_update_subscriptions_button', 'lib.php.source.html#l6041')" href="lib.php.source.html#l6041">forum_update_subscriptions_button</a>(<a href="../../_variables/courseid.html">$courseid</a>, <a href="../../_variables/forumid.html">$forumid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_update_subscriptions_button.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Prints the editing button on subscribers page<BR>
</b><BR><b>param:</b> int $courseid<br>
<b>param:</b> int $forumid<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_tp_mark_posts_read" onClick="logFunction('forum_tp_mark_posts_read', 'lib.php.source.html#l6069')" href="lib.php.source.html#l6069">forum_tp_mark_posts_read</a>(<a href="../../_variables/user.html">$user</a>, <a href="../../_variables/postids.html">$postids</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_tp_mark_posts_read.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Mark posts as read.<BR>
</b><BR><b>param:</b> object $user object<br>
<b>param:</b> array $postids array of post ids<br>
<b>return:</b> boolean success<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_tp_add_read_record" onClick="logFunction('forum_tp_add_read_record', 'lib.php.source.html#l6156')" href="lib.php.source.html#l6156">forum_tp_add_read_record</a>(<a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/postid.html">$postid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_tp_add_read_record.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Mark post as read.<BR>
</b><BR><b>param:</b> int $userid<br>
<b>param:</b> int $postid<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_tp_mark_post_read" onClick="logFunction('forum_tp_mark_post_read', 'lib.php.source.html#l6186')" href="lib.php.source.html#l6186">forum_tp_mark_post_read</a>(<a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/post.html">$post</a>, <a href="../../_variables/forumid.html">$forumid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_tp_mark_post_read.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>If its an old post, do nothing. If the record exists, the maintenance will clear it up later.<BR>
</b><BR><b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_tp_mark_forum_read" onClick="logFunction('forum_tp_mark_forum_read', 'lib.php.source.html#l6199')" href="lib.php.source.html#l6199">forum_tp_mark_forum_read</a>(<a href="../../_variables/user.html">$user</a>, <a href="../../_variables/forumid.html">$forumid</a>, <a href="../../_variables/groupid.html">$groupid</a>=false)&nbsp;&nbsp;
<a href="../../_functions/forum_tp_mark_forum_read.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Marks a whole forum as read, for a given user<BR>
</b><BR><b>param:</b> object $user<br>
<b>param:</b> int $forumid<br>
<b>param:</b> int|bool $groupid<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_tp_mark_discussion_read" onClick="logFunction('forum_tp_mark_discussion_read', 'lib.php.source.html#l6238')" href="lib.php.source.html#l6238">forum_tp_mark_discussion_read</a>(<a href="../../_variables/user.html">$user</a>, <a href="../../_variables/discussionid.html">$discussionid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_tp_mark_discussion_read.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Marks a whole discussion as read, for a given user<BR>
</b><BR><b>param:</b> object $user<br>
<b>param:</b> int $discussionid<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_tp_is_post_read" onClick="logFunction('forum_tp_is_post_read', 'lib.php.source.html#l6271')" href="lib.php.source.html#l6271">forum_tp_is_post_read</a>(<a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/post.html">$post</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_tp_is_post_read.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> int $userid<br>
<b>param:</b> object $post<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_tp_is_post_old" onClick="logFunction('forum_tp_is_post_old', 'lib.php.source.html#l6282')" href="lib.php.source.html#l6282">forum_tp_is_post_old</a>(<a href="../../_variables/post.html">$post</a>, <a href="../../_variables/time.html">$time</a>=null)&nbsp;&nbsp;
<a href="../../_functions/forum_tp_is_post_old.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> object $post<br>
<b>param:</b> int $time Defautls to time()<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_tp_get_course_unread_posts" onClick="logFunction('forum_tp_get_course_unread_posts', 'lib.php.source.html#l6291')" href="lib.php.source.html#l6291">forum_tp_get_course_unread_posts</a>(<a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/courseid.html">$courseid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_tp_get_course_unread_posts.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the count of records for the provided user and course.<BR>
Please note that group access is ignored!<BR>
</b><BR><b>param:</b> int $userid<br>
<b>param:</b> int $courseid<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_tp_count_forum_unread_posts" onClick="logFunction('forum_tp_count_forum_unread_posts', 'lib.php.source.html#l6346')" href="lib.php.source.html#l6346">forum_tp_count_forum_unread_posts</a>(<a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/course.html">$course</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_tp_count_forum_unread_posts.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the count of records for the provided user and forum and [optionally] group.<BR>
</b><BR><b>param:</b> object $cm<br>
<b>param:</b> object $course<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_tp_delete_read_records" onClick="logFunction('forum_tp_delete_read_records', 'lib.php.source.html#l6424')" href="lib.php.source.html#l6424">forum_tp_delete_read_records</a>(<a href="../../_variables/userid.html">$userid</a>=-1, <a href="../../_variables/postid.html">$postid</a>=-1, <a href="../../_variables/discussionid.html">$discussionid</a>=-1, <a href="../../_variables/forumid.html">$forumid</a>=-1)&nbsp;&nbsp;
<a href="../../_functions/forum_tp_delete_read_records.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Deletes read records for the specified index. At least one parameter must be specified.<BR>
</b><BR><b>param:</b> int $userid<br>
<b>param:</b> int $postid<br>
<b>param:</b> int $discussionid<br>
<b>param:</b> int $forumid<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_tp_get_untracked_forums" onClick="logFunction('forum_tp_get_untracked_forums', 'lib.php.source.html#l6466')" href="lib.php.source.html#l6466">forum_tp_get_untracked_forums</a>(<a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/courseid.html">$courseid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_tp_get_untracked_forums.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get a list of forums not tracked by the user.<BR>
</b><BR><b>param:</b> int $userid The id of the user to use.<br>
<b>param:</b> int $courseid The id of the course being checked.<br>
<b>return:</b> mixed An array indexed by forum id, or false.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_tp_can_track_forums" onClick="logFunction('forum_tp_can_track_forums', 'lib.php.source.html#l6506')" href="lib.php.source.html#l6506">forum_tp_can_track_forums</a>(<a href="../../_variables/forum.html">$forum</a>=false, <a href="../../_variables/user.html">$user</a>=false)&nbsp;&nbsp;
<a href="../../_functions/forum_tp_can_track_forums.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Determine if a user can track forums and optionally a particular forum.<BR>
Checks the site settings, the user settings and the forum settings (if<BR>
requested).<BR>
</b><BR><b>param:</b> mixed $forum The forum object to test, or the int id (optional).<br>
<b>param:</b> mixed $userid The user object to check for (optional).<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_tp_is_tracked" onClick="logFunction('forum_tp_is_tracked', 'lib.php.source.html#l6562')" href="lib.php.source.html#l6562">forum_tp_is_tracked</a>(<a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/user.html">$user</a>=false)&nbsp;&nbsp;
<a href="../../_functions/forum_tp_is_tracked.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Tells whether a specific forum is tracked by the user. A user can optionally<BR>
be specified. If not specified, the current user is assumed.<BR>
</b><BR><b>param:</b> mixed $forum If int, the id of the forum being checked; if object, the forum object<br>
<b>param:</b> int $userid The id of the user being checked (optional).<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_tp_start_tracking" onClick="logFunction('forum_tp_start_tracking', 'lib.php.source.html#l6611')" href="lib.php.source.html#l6611">forum_tp_start_tracking</a>(<a href="../../_variables/forumid.html">$forumid</a>, <a href="../../_variables/userid.html">$userid</a>=false)&nbsp;&nbsp;
<a href="../../_functions/forum_tp_start_tracking.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> int $forumid<br>
<b>param:</b> int $userid<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_tp_stop_tracking" onClick="logFunction('forum_tp_stop_tracking', 'lib.php.source.html#l6627')" href="lib.php.source.html#l6627">forum_tp_stop_tracking</a>(<a href="../../_variables/forumid.html">$forumid</a>, <a href="../../_variables/userid.html">$userid</a>=false)&nbsp;&nbsp;
<a href="../../_functions/forum_tp_stop_tracking.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> int $forumid<br>
<b>param:</b> int $userid<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_tp_clean_read_records" onClick="logFunction('forum_tp_clean_read_records', 'lib.php.source.html#l6645')" href="lib.php.source.html#l6645">forum_tp_clean_read_records</a>()&nbsp;&nbsp;
<a href="../../_functions/forum_tp_clean_read_records.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Clean old records from the forum_read table.<BR>
</b><BR><b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_discussion_update_last_post" onClick="logFunction('forum_discussion_update_last_post', 'lib.php.source.html#l6678')" href="lib.php.source.html#l6678">forum_discussion_update_last_post</a>(<a href="../../_variables/discussionid.html">$discussionid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_discussion_update_last_post.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets the last post for a given discussion<BR>
</b><BR><b>param:</b> into $discussionid<br>
<b>return:</b> bool|int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_view_actions" onClick="logFunction('forum_get_view_actions', 'lib.php.source.html#l6717')" href="lib.php.source.html#l6717">forum_get_view_actions</a>()&nbsp;&nbsp;
<a href="../../_functions/forum_get_view_actions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List the actions that correspond to a view of this module.<BR>
This is used by the participation report.<BR>
</b><BR>Note: This is not used by new logging system. Event with<BR>
crud = 'r' and edulevel = LEVEL_PARTICIPATING will<BR>
be considered as view action.<BR>
<BR>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_post_actions" onClick="logFunction('forum_get_post_actions', 'lib.php.source.html#l6731')" href="lib.php.source.html#l6731">forum_get_post_actions</a>()&nbsp;&nbsp;
<a href="../../_functions/forum_get_post_actions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List the actions that correspond to a post of this module.<BR>
This is used by the participation report.<BR>
</b><BR>Note: This is not used by new logging system. Event with<BR>
crud = ('c' || 'u' || 'd') and edulevel = LEVEL_PARTICIPATING<BR>
will be considered as post action.<BR>
<BR>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_check_throttling" onClick="logFunction('forum_check_throttling', 'lib.php.source.html#l6745')" href="lib.php.source.html#l6745">forum_check_throttling</a>(<a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/cm.html">$cm</a> = null)&nbsp;&nbsp;
<a href="../../_functions/forum_check_throttling.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a warning object if a user has reached the number of posts equal to<BR>
the warning/blocking setting, or false if there is no warning to show.<BR>
</b><BR><b>param:</b> int|stdClass $forum the forum id or the forum object<br>
<b>param:</b> stdClass $cm the course module<br>
<b>return:</b> stdClass|bool returns an object with the warning information, else<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_check_blocking_threshold" onClick="logFunction('forum_check_blocking_threshold', 'lib.php.source.html#l6818')" href="lib.php.source.html#l6818">forum_check_blocking_threshold</a>(<a href="../../_variables/thresholdwarning.html">$thresholdwarning</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_check_blocking_threshold.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Throws an error if the user is no longer allowed to post due to having reached<BR>
or exceeded the number of posts specified in 'Post threshold for blocking'<BR>
setting.<BR>
</b><BR><b>param:</b> stdClass $thresholdwarning the warning information returned<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_reset_gradebook" onClick="logFunction('forum_reset_gradebook', 'lib.php.source.html#l6837')" href="lib.php.source.html#l6837">forum_reset_gradebook</a>(<a href="../../_variables/courseid.html">$courseid</a>, <a href="../../_variables/type.html">$type</a>='')&nbsp;&nbsp;
<a href="../../_functions/forum_reset_gradebook.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Removes all grades from gradebook<BR>
</b><BR><b>param:</b> int $courseid<br>
<b>param:</b> string $type optional<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_reset_userdata" onClick="logFunction('forum_reset_userdata', 'lib.php.source.html#l6866')" href="lib.php.source.html#l6866">forum_reset_userdata</a>(<a href="../../_variables/data.html">$data</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_reset_userdata.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function is used by the reset_course_userdata function in moodlelib.<BR>
This function will remove all posts from the specified forum<BR>
and clean up any related data.<BR>
</b><BR><b>param:</b> $data the data submitted from the reset course.<br>
<b>return:</b> array status array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_reset_course_form_definition" onClick="logFunction('forum_reset_course_form_definition', 'lib.php.source.html#l7033')" href="lib.php.source.html#l7033">forum_reset_course_form_definition</a>(&amp;<a href="../../_variables/mform.html">$mform</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_reset_course_form_definition.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Called by course/reset.php<BR>
</b><BR><b>param:</b> $mform form passed by reference<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_reset_course_form_defaults" onClick="logFunction('forum_reset_course_form_defaults', 'lib.php.source.html#l7061')" href="lib.php.source.html#l7061">forum_reset_course_form_defaults</a>(<a href="../../_variables/course.html">$course</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_reset_course_form_defaults.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Course reset form defaults.<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_layout_modes" onClick="logFunction('forum_get_layout_modes', 'lib.php.source.html#l7069')" href="lib.php.source.html#l7069">forum_get_layout_modes</a>()&nbsp;&nbsp;
<a href="../../_functions/forum_get_layout_modes.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns array of forum layout modes<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_forum_types" onClick="logFunction('forum_get_forum_types', 'lib.php.source.html#l7081')" href="lib.php.source.html#l7081">forum_get_forum_types</a>()&nbsp;&nbsp;
<a href="../../_functions/forum_get_forum_types.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns array of forum types chooseable on the forum editing form<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_forum_types_all" onClick="logFunction('forum_get_forum_types_all', 'lib.php.source.html#l7094')" href="lib.php.source.html#l7094">forum_get_forum_types_all</a>()&nbsp;&nbsp;
<a href="../../_functions/forum_get_forum_types_all.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns array of all forum layout modes<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_extra_capabilities" onClick="logFunction('forum_get_extra_capabilities', 'lib.php.source.html#l7109')" href="lib.php.source.html#l7109">forum_get_extra_capabilities</a>()&nbsp;&nbsp;
<a href="../../_functions/forum_get_extra_capabilities.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns all other caps used in module<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_extend_settings_navigation" onClick="logFunction('forum_extend_settings_navigation', 'lib.php.source.html#l7118')" href="lib.php.source.html#l7118">forum_extend_settings_navigation</a>(settings_navigation <a href="../../_variables/settingsnav.html">$settingsnav</a>, navigation_node <a href="../../_variables/forumnode.html">$forumnode</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_extend_settings_navigation.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds module specific settings to the settings block<BR>
</b><BR><b>param:</b> settings_navigation $settings The settings navigation object<br>
<b>param:</b> navigation_node $forumnode The node to add module settings to<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_cm_info_view" onClick="logFunction('forum_cm_info_view', 'lib.php.source.html#l7263')" href="lib.php.source.html#l7263">forum_cm_info_view</a>(cm_info <a href="../../_variables/cm.html">$cm</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_cm_info_view.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds information about unread messages, that is only required for the course view page (and<BR>
similar), to the course-module object.<BR>
</b><BR><b>param:</b> cm_info $cm Course-module object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_page_type_list" onClick="logFunction('forum_page_type_list', 'lib.php.source.html#l7285')" href="lib.php.source.html#l7285">forum_page_type_list</a>(<a href="../../_variables/pagetype.html">$pagetype</a>, <a href="../../_variables/parentcontext.html">$parentcontext</a>, <a href="../../_variables/currentcontext.html">$currentcontext</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_page_type_list.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return a list of page types<BR>
</b><BR><b>param:</b> string $pagetype current page type<br>
<b>param:</b> stdClass $parentcontext Block's parent context<br>
<b>param:</b> stdClass $currentcontext Current context of block<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_courses_user_posted_in" onClick="logFunction('forum_get_courses_user_posted_in', 'lib.php.source.html#l7300')" href="lib.php.source.html#l7300">forum_get_courses_user_posted_in</a>(<a href="../../_variables/user.html">$user</a>, <a href="../../_variables/discussionsonly.html">$discussionsonly</a> = false, <a href="../../_variables/includecontexts.html">$includecontexts</a> = true, <a href="../../_variables/limitfrom.html">$limitfrom</a> = null, <a href="../../_variables/limitnum.html">$limitnum</a> = null)&nbsp;&nbsp;
<a href="../../_functions/forum_get_courses_user_posted_in.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets all of the courses where the provided user has posted in a forum.<BR>
</b><BR><b>param:</b> stdClass $user The user who's posts we are looking for<br>
<b>param:</b> bool $discussionsonly If true only look for discussions started by the user<br>
<b>param:</b> bool $includecontexts If set to trye contexts for the courses will be preloaded<br>
<b>param:</b> int $limitfrom The offset of records to return<br>
<b>param:</b> int $limitnum The number of records to return<br>
<b>return:</b> array An array of courses<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_forums_user_posted_in" onClick="logFunction('forum_get_forums_user_posted_in', 'lib.php.source.html#l7353')" href="lib.php.source.html#l7353">forum_get_forums_user_posted_in</a>(<a href="../../_variables/user.html">$user</a>, array <a href="../../_variables/courseids.html">$courseids</a> = null, <a href="../../_variables/discussionsonly.html">$discussionsonly</a> = false, <a href="../../_variables/limitfrom.html">$limitfrom</a> = null, <a href="../../_variables/limitnum.html">$limitnum</a> = null)&nbsp;&nbsp;
<a href="../../_functions/forum_get_forums_user_posted_in.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets all of the forums a user has posted in for one or more courses.<BR>
</b><BR><b>param:</b> stdClass $user<br>
<b>param:</b> array $courseids An array of courseids to search or if not provided<br>
<b>param:</b> bool $discussionsonly If true then only forums where the user has started<br>
<b>param:</b> int $limitfrom The offset of records to return<br>
<b>param:</b> int $limitnum The number of records to return<br>
<b>return:</b> array An array of forums the user has posted within in the provided courses<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_posts_by_user" onClick="logFunction('forum_get_posts_by_user', 'lib.php.source.html#l7404')" href="lib.php.source.html#l7404">forum_get_posts_by_user</a>(<a href="../../_variables/user.html">$user</a>, array <a href="../../_variables/courses.html">$courses</a>, <a href="../../_variables/musthaveaccess.html">$musthaveaccess</a> = false, <a href="../../_variables/discussionsonly.html">$discussionsonly</a> = false, <a href="../../_variables/limitfrom.html">$limitfrom</a> = 0, <a href="../../_variables/limitnum.html">$limitnum</a> = 50)&nbsp;&nbsp;
<a href="../../_functions/forum_get_posts_by_user.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns posts made by the selected user in the requested courses.<BR>
</b><BR>This method can be used to return all of the posts made by the requested user<BR>
within the given courses.<BR>
For each course the access of the current user and requested user is checked<BR>
and then for each post access to the post and forum is checked as well.<BR>
<BR>
This function is safe to use with usercapabilities.<BR>
<BR>
<b>param:</b> stdClass $user The user whose posts we want to get<br>
<b>param:</b> array $courses The courses to search<br>
<b>param:</b> bool $musthaveaccess If set to true errors will be thrown if the user<br>
<b>param:</b> bool $discussionsonly If set to true only discussion starting posts<br>
<b>param:</b> int $limitfrom The offset of records to return<br>
<b>param:</b> int $limitnum The number of records to return<br>
<b>return:</b> stdClass An object the following properties<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_set_user_maildigest" onClick="logFunction('forum_set_user_maildigest', 'lib.php.source.html#l7702')" href="lib.php.source.html#l7702">forum_set_user_maildigest</a>(<a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/maildigest.html">$maildigest</a>, <a href="../../_variables/user.html">$user</a> = null)&nbsp;&nbsp;
<a href="../../_functions/forum_set_user_maildigest.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set the per-forum maildigest option for the specified user.<BR>
</b><BR><b>param:</b> stdClass $forum The forum to set the option for.<br>
<b>param:</b> int $maildigest The maildigest option.<br>
<b>param:</b> stdClass $user The user object. This defaults to the global $USER object.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_user_maildigest_bulk" onClick="logFunction('forum_get_user_maildigest_bulk', 'lib.php.source.html#l7764')" href="lib.php.source.html#l7764">forum_get_user_maildigest_bulk</a>(<a href="../../_variables/digests.html">$digests</a>, <a href="../../_variables/user.html">$user</a>, <a href="../../_variables/forumid.html">$forumid</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_get_user_maildigest_bulk.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Determine the maildigest setting for the specified user against the<BR>
specified forum.<BR>
</b><BR><b>param:</b> Array $digests An array of forums and user digest settings.<br>
<b>param:</b> stdClass $user The user object containing the id and maildigest default.<br>
<b>param:</b> int $forumid The ID of the forum to check.<br>
<b>return:</b> int The calculated maildigest setting for this user and forum.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_user_digest_options" onClick="logFunction('forum_get_user_digest_options', 'lib.php.source.html#l7785')" href="lib.php.source.html#l7785">forum_get_user_digest_options</a>(<a href="../../_variables/user.html">$user</a> = null)&nbsp;&nbsp;
<a href="../../_functions/forum_get_user_digest_options.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Retrieve the list of available user digest options.<BR>
</b><BR><b>param:</b> stdClass $user The user object. This defaults to the global $USER object.<br>
<b>return:</b> array The mapping of values to digest options.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_get_context" onClick="logFunction('forum_get_context', 'lib.php.source.html#l7815')" href="lib.php.source.html#l7815">forum_get_context</a>(<a href="../../_variables/forumid.html">$forumid</a>, <a href="../../_variables/context.html">$context</a> = null)&nbsp;&nbsp;
<a href="../../_functions/forum_get_context.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Determine the current context if one was not already specified.<BR>
</b><BR>If a context of type context_module is specified, it is immediately<BR>
returned and not checked.<BR>
<BR>
<b>param:</b> int $forumid The ID of the forum<br>
<b>param:</b> context_module $context The current context.<br>
<b>return:</b> context_module The context determined<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_view" onClick="logFunction('forum_view', 'lib.php.source.html#l7842')" href="lib.php.source.html#l7842">forum_view</a>(<a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/course.html">$course</a>, <a href="../../_variables/cm.html">$cm</a>, <a href="../../_variables/context.html">$context</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_view.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Mark the activity completed (if required) and trigger the course_module_viewed event.<BR>
</b><BR><b>param:</b> stdClass $forum&nbsp;&nbsp;&nbsp;forum object<br>
<b>param:</b> stdClass $course&nbsp;&nbsp;course object<br>
<b>param:</b> stdClass $cm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;course module object<br>
<b>param:</b> stdClass $context context object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_discussion_view" onClick="logFunction('forum_discussion_view', 'lib.php.source.html#l7871')" href="lib.php.source.html#l7871">forum_discussion_view</a>(<a href="../../_variables/modcontext.html">$modcontext</a>, <a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/discussion.html">$discussion</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_discussion_view.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Trigger the discussion viewed event<BR>
</b><BR><b>param:</b> stdClass $modcontext module context object<br>
<b>param:</b> stdClass $forum&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forum object<br>
<b>param:</b> stdClass $discussion discussion object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_discussion_pin" onClick="logFunction('forum_discussion_pin', 'lib.php.source.html#l7891')" href="lib.php.source.html#l7891">forum_discussion_pin</a>(<a href="../../_variables/modcontext.html">$modcontext</a>, <a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/discussion.html">$discussion</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_discussion_pin.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set the discussion to pinned and trigger the discussion pinned event<BR>
</b><BR><b>param:</b> stdClass $modcontext module context object<br>
<b>param:</b> stdClass $forum&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forum object<br>
<b>param:</b> stdClass $discussion discussion object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_discussion_unpin" onClick="logFunction('forum_discussion_unpin', 'lib.php.source.html#l7915')" href="lib.php.source.html#l7915">forum_discussion_unpin</a>(<a href="../../_variables/modcontext.html">$modcontext</a>, <a href="../../_variables/forum.html">$forum</a>, <a href="../../_variables/discussion.html">$discussion</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_discussion_unpin.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Set discussion to unpinned and trigger the discussion unpin event<BR>
</b><BR><b>param:</b> stdClass $modcontext module context object<br>
<b>param:</b> stdClass $forum&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forum object<br>
<b>param:</b> stdClass $discussion discussion object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="mod_forum_myprofile_navigation" onClick="logFunction('mod_forum_myprofile_navigation', 'lib.php.source.html#l7939')" href="lib.php.source.html#l7939">mod_forum_myprofile_navigation</a>(core_user\output\myprofile\tree <a href="../../_variables/tree.html">$tree</a>, <a href="../../_variables/user.html">$user</a>, <a href="../../_variables/iscurrentuser.html">$iscurrentuser</a>, <a href="../../_variables/course.html">$course</a>)&nbsp;&nbsp;
<a href="../../_functions/mod_forum_myprofile_navigation.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add nodes to myprofile page.<BR>
</b><BR><b>param:</b> \core_user\output\myprofile\tree $tree Tree object<br>
<b>param:</b> stdClass $user user object<br>
<b>param:</b> bool $iscurrentuser<br>
<b>param:</b> stdClass $course Course object<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="forum_is_author_hidden" onClick="logFunction('forum_is_author_hidden', 'lib.php.source.html#l7975')" href="lib.php.source.html#l7975">forum_is_author_hidden</a>(<a href="../../_variables/post.html">$post</a>, <a href="../../_variables/forum.html">$forum</a>)&nbsp;&nbsp;
<a href="../../_functions/forum_is_author_hidden.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks whether the author's name and picture for a given post should be hidden or not.<BR>
</b><BR><b>param:</b> object $post The forum post.<br>
<b>param:</b> object $forum The forum object.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
</div></div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
