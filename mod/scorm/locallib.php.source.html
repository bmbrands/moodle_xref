<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/scorm/locallib.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='mod/scorm';
filename='locallib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/scorm/</a> -> <a href="locallib.php.html">locallib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="locallib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="locallib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Library of internal classes and functions for module SCORM</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    mod_scorm</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright  1999 onwards Roberto Pinna</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> */</span>
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/scorm/lib.php&quot;);
<a name="l26"><span class="linenum">  26</span></a>  require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>/filelib.php&quot;);
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">// Constants and settings for module scorm.</span>
<a name="l29"><span class="linenum">  29</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SCORM_UPDATE_NEVER')" href="../../_constants/SCORM_UPDATE_NEVER.html" onMouseOver="constPopup(event,'SCORM_UPDATE_NEVER')">SCORM_UPDATE_NEVER</a>', '0');
<a name="l30"><span class="linenum">  30</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SCORM_UPDATE_EVERYDAY')" href="../../_constants/SCORM_UPDATE_EVERYDAY.html" onMouseOver="constPopup(event,'SCORM_UPDATE_EVERYDAY')">SCORM_UPDATE_EVERYDAY</a>', '2');
<a name="l31"><span class="linenum">  31</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SCORM_UPDATE_EVERYTIME')" href="../../_constants/SCORM_UPDATE_EVERYTIME.html" onMouseOver="constPopup(event,'SCORM_UPDATE_EVERYTIME')">SCORM_UPDATE_EVERYTIME</a>', '3');
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SCORM_SKIPVIEW_NEVER')" href="../../_constants/SCORM_SKIPVIEW_NEVER.html" onMouseOver="constPopup(event,'SCORM_SKIPVIEW_NEVER')">SCORM_SKIPVIEW_NEVER</a>', '0');
<a name="l34"><span class="linenum">  34</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SCORM_SKIPVIEW_FIRST')" href="../../_constants/SCORM_SKIPVIEW_FIRST.html" onMouseOver="constPopup(event,'SCORM_SKIPVIEW_FIRST')">SCORM_SKIPVIEW_FIRST</a>', '1');
<a name="l35"><span class="linenum">  35</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SCORM_SKIPVIEW_ALWAYS')" href="../../_constants/SCORM_SKIPVIEW_ALWAYS.html" onMouseOver="constPopup(event,'SCORM_SKIPVIEW_ALWAYS')">SCORM_SKIPVIEW_ALWAYS</a>', '2');
<a name="l36"><span class="linenum">  36</span></a>  
<a name="l37"><span class="linenum">  37</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SCO_ALL')" href="../../_constants/SCO_ALL.html" onMouseOver="constPopup(event,'SCO_ALL')">SCO_ALL</a>', 0);
<a name="l38"><span class="linenum">  38</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SCO_DATA')" href="../../_constants/SCO_DATA.html" onMouseOver="constPopup(event,'SCO_DATA')">SCO_DATA</a>', 1);
<a name="l39"><span class="linenum">  39</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('SCO_ONLY')" href="../../_constants/SCO_ONLY.html" onMouseOver="constPopup(event,'SCO_ONLY')">SCO_ONLY</a>', 2);
<a name="l40"><span class="linenum">  40</span></a>  
<a name="l41"><span class="linenum">  41</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('GRADESCOES')" href="../../_constants/GRADESCOES.html" onMouseOver="constPopup(event,'GRADESCOES')">GRADESCOES</a>', '0');
<a name="l42"><span class="linenum">  42</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('GRADEHIGHEST')" href="../../_constants/GRADEHIGHEST.html" onMouseOver="constPopup(event,'GRADEHIGHEST')">GRADEHIGHEST</a>', '1');
<a name="l43"><span class="linenum">  43</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('GRADEAVERAGE')" href="../../_constants/GRADEAVERAGE.html" onMouseOver="constPopup(event,'GRADEAVERAGE')">GRADEAVERAGE</a>', '2');
<a name="l44"><span class="linenum">  44</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('GRADESUM')" href="../../_constants/GRADESUM.html" onMouseOver="constPopup(event,'GRADESUM')">GRADESUM</a>', '3');
<a name="l45"><span class="linenum">  45</span></a>  
<a name="l46"><span class="linenum">  46</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('HIGHESTATTEMPT')" href="../../_constants/HIGHESTATTEMPT.html" onMouseOver="constPopup(event,'HIGHESTATTEMPT')">HIGHESTATTEMPT</a>', '0');
<a name="l47"><span class="linenum">  47</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('AVERAGEATTEMPT')" href="../../_constants/AVERAGEATTEMPT.html" onMouseOver="constPopup(event,'AVERAGEATTEMPT')">AVERAGEATTEMPT</a>', '1');
<a name="l48"><span class="linenum">  48</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('FIRSTATTEMPT')" href="../../_constants/FIRSTATTEMPT.html" onMouseOver="constPopup(event,'FIRSTATTEMPT')">FIRSTATTEMPT</a>', '2');
<a name="l49"><span class="linenum">  49</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('LASTATTEMPT')" href="../../_constants/LASTATTEMPT.html" onMouseOver="constPopup(event,'LASTATTEMPT')">LASTATTEMPT</a>', '3');
<a name="l50"><span class="linenum">  50</span></a>  
<a name="l51"><span class="linenum">  51</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('TOCJSLINK')" href="../../_constants/TOCJSLINK.html" onMouseOver="constPopup(event,'TOCJSLINK')">TOCJSLINK</a>', 1);
<a name="l52"><span class="linenum">  52</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('TOCFULLURL')" href="../../_constants/TOCFULLURL.html" onMouseOver="constPopup(event,'TOCFULLURL')">TOCFULLURL</a>', 2);
<a name="l53"><span class="linenum">  53</span></a>  
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">// Local Library of functions for module scorm.</span>
<a name="l55"><span class="linenum">  55</span></a>  
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment">/**</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment"> * @package   mod_scorm</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment"> * @copyright 1999 onwards Martin Dougiamas  {@link http://moodle.com}</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment"> */</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('scorm_package_file_info')" href="../../_classes/scorm_package_file_info.html" onMouseOver="classPopup(event,'scorm_package_file_info')">scorm_package_file_info</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('file_info_stored')" href="../../_classes/file_info_stored.html" onMouseOver="classPopup(event,'file_info_stored')">file_info_stored</a> {
<a name="l62"><span class="linenum">  62</span></a>      public function <a class="function" onClick="logFunction('get_parent')" href="../../_functions/get_parent.html" onMouseOver="funcPopup(event,'get_parent')">get_parent</a>() {
<a name="l63"><span class="linenum">  63</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('lf')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/lf.html">lf</a>-&gt;<a class="function" onClick="logFunction('get_filepath')" href="../../_functions/get_filepath.html" onMouseOver="funcPopup(event,'get_filepath')">get_filepath</a>() === '/' and <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('lf')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/lf.html">lf</a>-&gt;<a class="function" onClick="logFunction('get_filename')" href="../../_functions/get_filename.html" onMouseOver="funcPopup(event,'get_filename')">get_filename</a>() === '.') {
<a name="l64"><span class="linenum">  64</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('browser')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/browser.html">browser</a>-&gt;<a class="function" onClick="logFunction('get_file_info')" href="../../_functions/get_file_info.html" onMouseOver="funcPopup(event,'get_file_info')">get_file_info</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('context')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/context.html">context</a>);
<a name="l65"><span class="linenum">  65</span></a>          }
<a name="l66"><span class="linenum">  66</span></a>          return parent::<a class="function" onClick="logFunction('get_parent')" href="../../_functions/get_parent.html" onMouseOver="funcPopup(event,'get_parent')">get_parent</a>();
<a name="l67"><span class="linenum">  67</span></a>      }
<a name="l68"><span class="linenum">  68</span></a>      public function <a class="function" onClick="logFunction('get_visible_name')" href="../../_functions/get_visible_name.html" onMouseOver="funcPopup(event,'get_visible_name')">get_visible_name</a>() {
<a name="l69"><span class="linenum">  69</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('lf')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/lf.html">lf</a>-&gt;<a class="function" onClick="logFunction('get_filepath')" href="../../_functions/get_filepath.html" onMouseOver="funcPopup(event,'get_filepath')">get_filepath</a>() === '/' and <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('lf')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/lf.html">lf</a>-&gt;<a class="function" onClick="logFunction('get_filename')" href="../../_functions/get_filename.html" onMouseOver="funcPopup(event,'get_filename')">get_filename</a>() === '.') {
<a name="l70"><span class="linenum">  70</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('topvisiblename')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/topvisiblename.html">topvisiblename</a>;
<a name="l71"><span class="linenum">  71</span></a>          }
<a name="l72"><span class="linenum">  72</span></a>          return parent::<a class="function" onClick="logFunction('get_visible_name')" href="../../_functions/get_visible_name.html" onMouseOver="funcPopup(event,'get_visible_name')">get_visible_name</a>();
<a name="l73"><span class="linenum">  73</span></a>      }
<a name="l74"><span class="linenum">  74</span></a>  }
<a name="l75"><span class="linenum">  75</span></a>  
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">/**</span>
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment"> * Returns an array of the popup options for SCORM and each options default value</span>
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment"> *</span>
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment"> * @return array an array of popup options as the key and their defaults as the value</span>
<a name="l80"><span class="linenum">  80</span></a>  <span class="comment"> */</span>
<a name="l81"><span class="linenum">  81</span></a>  function <a class="function" onClick="logFunction('scorm_get_popup_options_array')" href="../../_functions/scorm_get_popup_options_array.html" onMouseOver="funcPopup(event,'scorm_get_popup_options_array')">scorm_get_popup_options_array</a>() {
<a name="l82"><span class="linenum">  82</span></a>      <a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a> = <a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('scorm');
<a name="l83"><span class="linenum">  83</span></a>  
<a name="l84"><span class="linenum">  84</span></a>      return array('scrollbars' =&gt; isset(<a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a>-&gt;<a onClick="logVariable('scrollbars')" class="var it43741" onMouseOver="hilite(43741)" onMouseOut="lolite()" href="../../_variables/scrollbars.html">scrollbars</a>) ? <a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a>-&gt;<a onClick="logVariable('scrollbars')" class="var it43741" onMouseOver="hilite(43741)" onMouseOut="lolite()" href="../../_variables/scrollbars.html">scrollbars</a> : 0,
<a name="l85"><span class="linenum">  85</span></a>                   'directories' =&gt; isset(<a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a>-&gt;<a onClick="logVariable('directories')" class="var it43741" onMouseOver="hilite(43741)" onMouseOut="lolite()" href="../../_variables/directories.html">directories</a>) ? <a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a>-&gt;<a onClick="logVariable('directories')" class="var it43741" onMouseOver="hilite(43741)" onMouseOut="lolite()" href="../../_variables/directories.html">directories</a> : 0,
<a name="l86"><span class="linenum">  86</span></a>                   'location' =&gt; isset(<a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a>-&gt;<a onClick="logVariable('location')" class="var it43741" onMouseOver="hilite(43741)" onMouseOut="lolite()" href="../../_variables/location.html">location</a>) ? <a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a>-&gt;<a onClick="logVariable('location')" class="var it43741" onMouseOver="hilite(43741)" onMouseOut="lolite()" href="../../_variables/location.html">location</a> : 0,
<a name="l87"><span class="linenum">  87</span></a>                   'menubar' =&gt; isset(<a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a>-&gt;<a onClick="logVariable('menubar')" class="var it43741" onMouseOver="hilite(43741)" onMouseOut="lolite()" href="../../_variables/menubar.html">menubar</a>) ? <a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a>-&gt;<a onClick="logVariable('menubar')" class="var it43741" onMouseOver="hilite(43741)" onMouseOut="lolite()" href="../../_variables/menubar.html">menubar</a> : 0,
<a name="l88"><span class="linenum">  88</span></a>                   'toolbar' =&gt; isset(<a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a>-&gt;<a onClick="logVariable('toolbar')" class="var it43741" onMouseOver="hilite(43741)" onMouseOut="lolite()" href="../../_variables/toolbar.html">toolbar</a>) ? <a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a>-&gt;<a onClick="logVariable('toolbar')" class="var it43741" onMouseOver="hilite(43741)" onMouseOut="lolite()" href="../../_variables/toolbar.html">toolbar</a> : 0,
<a name="l89"><span class="linenum">  89</span></a>                   'status' =&gt; isset(<a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a>-&gt;<a onClick="logVariable('status')" class="var it43741" onMouseOver="hilite(43741)" onMouseOut="lolite()" href="../../_variables/status.html">status</a>) ? <a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a>-&gt;<a onClick="logVariable('status')" class="var it43741" onMouseOver="hilite(43741)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> : 0);
<a name="l90"><span class="linenum">  90</span></a>  }
<a name="l91"><span class="linenum">  91</span></a>  
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">/**</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment"> * Returns an array of the array of what grade options</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment"> *</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment"> * @return array an array of what grade options</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment"> */</span>
<a name="l97"><span class="linenum">  97</span></a>  function <a class="function" onClick="logFunction('scorm_get_grade_method_array')" href="../../_functions/scorm_get_grade_method_array.html" onMouseOver="funcPopup(event,'scorm_get_grade_method_array')">scorm_get_grade_method_array</a>() {
<a name="l98"><span class="linenum">  98</span></a>      return array (<a class="constant" onClick="logConstant('GRADESCOES')" href="../../_constants/GRADESCOES.html" onMouseOver="constPopup(event,'GRADESCOES')">GRADESCOES</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('gradescoes', 'scorm'),
<a name="l99"><span class="linenum">  99</span></a>                    <a class="constant" onClick="logConstant('GRADEHIGHEST')" href="../../_constants/GRADEHIGHEST.html" onMouseOver="constPopup(event,'GRADEHIGHEST')">GRADEHIGHEST</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('gradehighest', 'scorm'),
<a name="l100"><span class="linenum"> 100</span></a>                    <a class="constant" onClick="logConstant('GRADEAVERAGE')" href="../../_constants/GRADEAVERAGE.html" onMouseOver="constPopup(event,'GRADEAVERAGE')">GRADEAVERAGE</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('gradeaverage', 'scorm'),
<a name="l101"><span class="linenum"> 101</span></a>                    <a class="constant" onClick="logConstant('GRADESUM')" href="../../_constants/GRADESUM.html" onMouseOver="constPopup(event,'GRADESUM')">GRADESUM</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('gradesum', 'scorm'));
<a name="l102"><span class="linenum"> 102</span></a>  }
<a name="l103"><span class="linenum"> 103</span></a>  
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">/**</span>
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment"> * Returns an array of the array of what grade options</span>
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment"> *</span>
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment"> * @return array an array of what grade options</span>
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment"> */</span>
<a name="l109"><span class="linenum"> 109</span></a>  function <a class="function" onClick="logFunction('scorm_get_what_grade_array')" href="../../_functions/scorm_get_what_grade_array.html" onMouseOver="funcPopup(event,'scorm_get_what_grade_array')">scorm_get_what_grade_array</a>() {
<a name="l110"><span class="linenum"> 110</span></a>      return array (<a class="constant" onClick="logConstant('HIGHESTATTEMPT')" href="../../_constants/HIGHESTATTEMPT.html" onMouseOver="constPopup(event,'HIGHESTATTEMPT')">HIGHESTATTEMPT</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('highestattempt', 'scorm'),
<a name="l111"><span class="linenum"> 111</span></a>                    <a class="constant" onClick="logConstant('AVERAGEATTEMPT')" href="../../_constants/AVERAGEATTEMPT.html" onMouseOver="constPopup(event,'AVERAGEATTEMPT')">AVERAGEATTEMPT</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('averageattempt', 'scorm'),
<a name="l112"><span class="linenum"> 112</span></a>                    <a class="constant" onClick="logConstant('FIRSTATTEMPT')" href="../../_constants/FIRSTATTEMPT.html" onMouseOver="constPopup(event,'FIRSTATTEMPT')">FIRSTATTEMPT</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('firstattempt', 'scorm'),
<a name="l113"><span class="linenum"> 113</span></a>                    <a class="constant" onClick="logConstant('LASTATTEMPT')" href="../../_constants/LASTATTEMPT.html" onMouseOver="constPopup(event,'LASTATTEMPT')">LASTATTEMPT</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('lastattempt', 'scorm'));
<a name="l114"><span class="linenum"> 114</span></a>  }
<a name="l115"><span class="linenum"> 115</span></a>  
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">/**</span>
<a name="l117"><span class="linenum"> 117</span></a>  <span class="comment"> * Returns an array of the array of skip view options</span>
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment"> *</span>
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment"> * @return array an array of skip view options</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment"> */</span>
<a name="l121"><span class="linenum"> 121</span></a>  function <a class="function" onClick="logFunction('scorm_get_skip_view_array')" href="../../_functions/scorm_get_skip_view_array.html" onMouseOver="funcPopup(event,'scorm_get_skip_view_array')">scorm_get_skip_view_array</a>() {
<a name="l122"><span class="linenum"> 122</span></a>      return array(<a class="constant" onClick="logConstant('SCORM_SKIPVIEW_NEVER')" href="../../_constants/SCORM_SKIPVIEW_NEVER.html" onMouseOver="constPopup(event,'SCORM_SKIPVIEW_NEVER')">SCORM_SKIPVIEW_NEVER</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('never'),
<a name="l123"><span class="linenum"> 123</span></a>                   <a class="constant" onClick="logConstant('SCORM_SKIPVIEW_FIRST')" href="../../_constants/SCORM_SKIPVIEW_FIRST.html" onMouseOver="constPopup(event,'SCORM_SKIPVIEW_FIRST')">SCORM_SKIPVIEW_FIRST</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('firstaccess', 'scorm'),
<a name="l124"><span class="linenum"> 124</span></a>                   <a class="constant" onClick="logConstant('SCORM_SKIPVIEW_ALWAYS')" href="../../_constants/SCORM_SKIPVIEW_ALWAYS.html" onMouseOver="constPopup(event,'SCORM_SKIPVIEW_ALWAYS')">SCORM_SKIPVIEW_ALWAYS</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('always'));
<a name="l125"><span class="linenum"> 125</span></a>  }
<a name="l126"><span class="linenum"> 126</span></a>  
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment">/**</span>
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment"> * Returns an array of the array of hide table of contents options</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment"> *</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment"> * @return array an array of hide table of contents options</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment"> */</span>
<a name="l132"><span class="linenum"> 132</span></a>  function <a class="function" onClick="logFunction('scorm_get_hidetoc_array')" href="../../_functions/scorm_get_hidetoc_array.html" onMouseOver="funcPopup(event,'scorm_get_hidetoc_array')">scorm_get_hidetoc_array</a>() {
<a name="l133"><span class="linenum"> 133</span></a>       return array(<a class="constant" onClick="logConstant('SCORM_TOC_SIDE')" href="../../_constants/SCORM_TOC_SIDE.html" onMouseOver="constPopup(event,'SCORM_TOC_SIDE')">SCORM_TOC_SIDE</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('sided', 'scorm'),
<a name="l134"><span class="linenum"> 134</span></a>                    <a class="constant" onClick="logConstant('SCORM_TOC_HIDDEN')" href="../../_constants/SCORM_TOC_HIDDEN.html" onMouseOver="constPopup(event,'SCORM_TOC_HIDDEN')">SCORM_TOC_HIDDEN</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('hidden', 'scorm'),
<a name="l135"><span class="linenum"> 135</span></a>                    <a class="constant" onClick="logConstant('SCORM_TOC_POPUP')" href="../../_constants/SCORM_TOC_POPUP.html" onMouseOver="constPopup(event,'SCORM_TOC_POPUP')">SCORM_TOC_POPUP</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('popupmenu', 'scorm'),
<a name="l136"><span class="linenum"> 136</span></a>                    <a class="constant" onClick="logConstant('SCORM_TOC_DISABLED')" href="../../_constants/SCORM_TOC_DISABLED.html" onMouseOver="constPopup(event,'SCORM_TOC_DISABLED')">SCORM_TOC_DISABLED</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('disabled', 'scorm'));
<a name="l137"><span class="linenum"> 137</span></a>  }
<a name="l138"><span class="linenum"> 138</span></a>  
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">/**</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment"> * Returns an array of the array of update frequency options</span>
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment"> *</span>
<a name="l142"><span class="linenum"> 142</span></a>  <span class="comment"> * @return array an array of update frequency options</span>
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment"> */</span>
<a name="l144"><span class="linenum"> 144</span></a>  function <a class="function" onClick="logFunction('scorm_get_updatefreq_array')" href="../../_functions/scorm_get_updatefreq_array.html" onMouseOver="funcPopup(event,'scorm_get_updatefreq_array')">scorm_get_updatefreq_array</a>() {
<a name="l145"><span class="linenum"> 145</span></a>      return array(<a class="constant" onClick="logConstant('SCORM_UPDATE_NEVER')" href="../../_constants/SCORM_UPDATE_NEVER.html" onMouseOver="constPopup(event,'SCORM_UPDATE_NEVER')">SCORM_UPDATE_NEVER</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('never'),
<a name="l146"><span class="linenum"> 146</span></a>                   <a class="constant" onClick="logConstant('SCORM_UPDATE_EVERYDAY')" href="../../_constants/SCORM_UPDATE_EVERYDAY.html" onMouseOver="constPopup(event,'SCORM_UPDATE_EVERYDAY')">SCORM_UPDATE_EVERYDAY</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('everyday', 'scorm'),
<a name="l147"><span class="linenum"> 147</span></a>                   <a class="constant" onClick="logConstant('SCORM_UPDATE_EVERYTIME')" href="../../_constants/SCORM_UPDATE_EVERYTIME.html" onMouseOver="constPopup(event,'SCORM_UPDATE_EVERYTIME')">SCORM_UPDATE_EVERYTIME</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('everytime', 'scorm'));
<a name="l148"><span class="linenum"> 148</span></a>  }
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">/**</span>
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment"> * Returns an array of the array of popup display options</span>
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment"> *</span>
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment"> * @return array an array of popup display options</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment"> */</span>
<a name="l155"><span class="linenum"> 155</span></a>  function <a class="function" onClick="logFunction('scorm_get_popup_display_array')" href="../../_functions/scorm_get_popup_display_array.html" onMouseOver="funcPopup(event,'scorm_get_popup_display_array')">scorm_get_popup_display_array</a>() {
<a name="l156"><span class="linenum"> 156</span></a>      return array(0 =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('currentwindow', 'scorm'),
<a name="l157"><span class="linenum"> 157</span></a>                   1 =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('popup', 'scorm'));
<a name="l158"><span class="linenum"> 158</span></a>  }
<a name="l159"><span class="linenum"> 159</span></a>  
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">/**</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment"> * Returns an array of the array of navigation buttons display options</span>
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment"> *</span>
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment"> * @return array an array of navigation buttons display options</span>
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment"> */</span>
<a name="l165"><span class="linenum"> 165</span></a>  function <a class="function" onClick="logFunction('scorm_get_navigation_display_array')" href="../../_functions/scorm_get_navigation_display_array.html" onMouseOver="funcPopup(event,'scorm_get_navigation_display_array')">scorm_get_navigation_display_array</a>() {
<a name="l166"><span class="linenum"> 166</span></a>      return array(<a class="constant" onClick="logConstant('SCORM_NAV_DISABLED')" href="../../_constants/SCORM_NAV_DISABLED.html" onMouseOver="constPopup(event,'SCORM_NAV_DISABLED')">SCORM_NAV_DISABLED</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('no'),
<a name="l167"><span class="linenum"> 167</span></a>                   <a class="constant" onClick="logConstant('SCORM_NAV_UNDER_CONTENT')" href="../../_constants/SCORM_NAV_UNDER_CONTENT.html" onMouseOver="constPopup(event,'SCORM_NAV_UNDER_CONTENT')">SCORM_NAV_UNDER_CONTENT</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('undercontent', 'scorm'),
<a name="l168"><span class="linenum"> 168</span></a>                   <a class="constant" onClick="logConstant('SCORM_NAV_FLOATING')" href="../../_constants/SCORM_NAV_FLOATING.html" onMouseOver="constPopup(event,'SCORM_NAV_FLOATING')">SCORM_NAV_FLOATING</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('floating', 'scorm'));
<a name="l169"><span class="linenum"> 169</span></a>  }
<a name="l170"><span class="linenum"> 170</span></a>  
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">/**</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment"> * Returns an array of the array of attempt options</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment"> *</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment"> * @return array an array of attempt options</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment"> */</span>
<a name="l176"><span class="linenum"> 176</span></a>  function <a class="function" onClick="logFunction('scorm_get_attempts_array')" href="../../_functions/scorm_get_attempts_array.html" onMouseOver="funcPopup(event,'scorm_get_attempts_array')">scorm_get_attempts_array</a>() {
<a name="l177"><span class="linenum"> 177</span></a>      <a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../_variables/attempts.html">$attempts</a> = array(0 =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('nolimit', 'scorm'),
<a name="l178"><span class="linenum"> 178</span></a>                        1 =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('attempt1', 'scorm'));
<a name="l179"><span class="linenum"> 179</span></a>  
<a name="l180"><span class="linenum"> 180</span></a>      for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 2; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt;= 6; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l181"><span class="linenum"> 181</span></a>          <a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../_variables/attempts.html">$attempts</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>] = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('attemptsx', 'scorm', <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>);
<a name="l182"><span class="linenum"> 182</span></a>      }
<a name="l183"><span class="linenum"> 183</span></a>  
<a name="l184"><span class="linenum"> 184</span></a>      return <a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../_variables/attempts.html">$attempts</a>;
<a name="l185"><span class="linenum"> 185</span></a>  }
<a name="l186"><span class="linenum"> 186</span></a>  
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment">/**</span>
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment"> * Returns an array of the attempt status options</span>
<a name="l189"><span class="linenum"> 189</span></a>  <span class="comment"> *</span>
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment"> * @return array an array of attempt status options</span>
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment"> */</span>
<a name="l192"><span class="linenum"> 192</span></a>  function <a class="function" onClick="logFunction('scorm_get_attemptstatus_array')" href="../../_functions/scorm_get_attemptstatus_array.html" onMouseOver="funcPopup(event,'scorm_get_attemptstatus_array')">scorm_get_attemptstatus_array</a>() {
<a name="l193"><span class="linenum"> 193</span></a>      return array(<a class="constant" onClick="logConstant('SCORM_DISPLAY_ATTEMPTSTATUS_NO')" href="../../_constants/SCORM_DISPLAY_ATTEMPTSTATUS_NO.html" onMouseOver="constPopup(event,'SCORM_DISPLAY_ATTEMPTSTATUS_NO')">SCORM_DISPLAY_ATTEMPTSTATUS_NO</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('no'),
<a name="l194"><span class="linenum"> 194</span></a>                   <a class="constant" onClick="logConstant('SCORM_DISPLAY_ATTEMPTSTATUS_ALL')" href="../../_constants/SCORM_DISPLAY_ATTEMPTSTATUS_ALL.html" onMouseOver="constPopup(event,'SCORM_DISPLAY_ATTEMPTSTATUS_ALL')">SCORM_DISPLAY_ATTEMPTSTATUS_ALL</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('attemptstatusall', 'scorm'),
<a name="l195"><span class="linenum"> 195</span></a>                   <a class="constant" onClick="logConstant('SCORM_DISPLAY_ATTEMPTSTATUS_MY')" href="../../_constants/SCORM_DISPLAY_ATTEMPTSTATUS_MY.html" onMouseOver="constPopup(event,'SCORM_DISPLAY_ATTEMPTSTATUS_MY')">SCORM_DISPLAY_ATTEMPTSTATUS_MY</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('attemptstatusmy', 'scorm'),
<a name="l196"><span class="linenum"> 196</span></a>                   <a class="constant" onClick="logConstant('SCORM_DISPLAY_ATTEMPTSTATUS_ENTRY')" href="../../_constants/SCORM_DISPLAY_ATTEMPTSTATUS_ENTRY.html" onMouseOver="constPopup(event,'SCORM_DISPLAY_ATTEMPTSTATUS_ENTRY')">SCORM_DISPLAY_ATTEMPTSTATUS_ENTRY</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('attemptstatusentry', 'scorm'));
<a name="l197"><span class="linenum"> 197</span></a>  }
<a name="l198"><span class="linenum"> 198</span></a>  
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment">/**</span>
<a name="l200"><span class="linenum"> 200</span></a>  <span class="comment"> * Extracts scrom package, sets up all variables.</span>
<a name="l201"><span class="linenum"> 201</span></a>  <span class="comment"> * Called whenever scorm changes</span>
<a name="l202"><span class="linenum"> 202</span></a>  <span class="comment"> * @param object $scorm instance - fields are updated and changes saved into database</span>
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment"> * @param bool $full force full update if true</span>
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment"> * @return void</span>
<a name="l205"><span class="linenum"> 205</span></a>  <span class="comment"> */</span>
<a name="l206"><span class="linenum"> 206</span></a>  function <a class="function" onClick="logFunction('scorm_parse')" href="../../_functions/scorm_parse.html" onMouseOver="funcPopup(event,'scorm_parse')">scorm_parse</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it2562" onMouseOver="hilite(2562)" onMouseOut="lolite()" onClick="logVariable('full')" href="../../_variables/full.html">$full</a>) {
<a name="l207"><span class="linenum"> 207</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l208"><span class="linenum"> 208</span></a>      <a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a> = <a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('scorm');
<a name="l209"><span class="linenum"> 209</span></a>  
<a name="l210"><span class="linenum"> 210</span></a>      if (!isset(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('cmid')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>)) {
<a name="l211"><span class="linenum"> 211</span></a>          <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('scorm', <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l212"><span class="linenum"> 212</span></a>          <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('cmid')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a> = <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l213"><span class="linenum"> 213</span></a>      }
<a name="l214"><span class="linenum"> 214</span></a>      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('cmid')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>);
<a name="l215"><span class="linenum"> 215</span></a>      <a class="var it9433" onMouseOver="hilite(9433)" onMouseOut="lolite()" onClick="logVariable('newhash')" href="../../_variables/newhash.html">$newhash</a> = <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('sha1hash')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/sha1hash.html">sha1hash</a>;
<a name="l216"><span class="linenum"> 216</span></a>  
<a name="l217"><span class="linenum"> 217</span></a>      if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> === <a class="constant" onClick="logConstant('SCORM_TYPE_LOCAL')" href="../../_constants/SCORM_TYPE_LOCAL.html" onMouseOver="constPopup(event,'SCORM_TYPE_LOCAL')">SCORM_TYPE_LOCAL</a> or <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> === <a class="constant" onClick="logConstant('SCORM_TYPE_LOCALSYNC')" href="../../_constants/SCORM_TYPE_LOCALSYNC.html" onMouseOver="constPopup(event,'SCORM_TYPE_LOCALSYNC')">SCORM_TYPE_LOCALSYNC</a>) {
<a name="l218"><span class="linenum"> 218</span></a>  
<a name="l219"><span class="linenum"> 219</span></a>          <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a> = <a class="function" onClick="logFunction('get_file_storage')" href="../../_functions/get_file_storage.html" onMouseOver="funcPopup(event,'get_file_storage')">get_file_storage</a>();
<a name="l220"><span class="linenum"> 220</span></a>          <a class="var it8007" onMouseOver="hilite(8007)" onMouseOut="lolite()" onClick="logVariable('packagefile')" href="../../_variables/packagefile.html">$packagefile</a> = false;
<a name="l221"><span class="linenum"> 221</span></a>          <a class="var it10740" onMouseOver="hilite(10740)" onMouseOut="lolite()" onClick="logVariable('packagefileimsmanifest')" href="../../_variables/packagefileimsmanifest.html">$packagefileimsmanifest</a> = false;
<a name="l222"><span class="linenum"> 222</span></a>  
<a name="l223"><span class="linenum"> 223</span></a>          if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> === <a class="constant" onClick="logConstant('SCORM_TYPE_LOCAL')" href="../../_constants/SCORM_TYPE_LOCAL.html" onMouseOver="constPopup(event,'SCORM_TYPE_LOCAL')">SCORM_TYPE_LOCAL</a>) {
<a name="l224"><span class="linenum"> 224</span></a>              if (<a class="var it8007" onMouseOver="hilite(8007)" onMouseOut="lolite()" onClick="logVariable('packagefile')" href="../../_variables/packagefile.html">$packagefile</a> = <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a>-&gt;<a class="function" onClick="logFunction('get_file')" href="../../_functions/get_file.html" onMouseOver="funcPopup(event,'get_file')">get_file</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'mod_scorm', 'package', 0, '/', <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('reference')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/reference.html">reference</a>)) {
<a name="l225"><span class="linenum"> 225</span></a>                  if (<a class="var it8007" onMouseOver="hilite(8007)" onMouseOut="lolite()" onClick="logVariable('packagefile')" href="../../_variables/packagefile.html">$packagefile</a>-&gt;<a class="function" onClick="logFunction('is_external_file')" href="../../_functions/is_external_file.html" onMouseOver="funcPopup(event,'is_external_file')">is_external_file</a>()) { // Get zip file so we can check it is correct.
<a name="l226"><span class="linenum"> 226</span></a>                      <a class="var it8007" onMouseOver="hilite(8007)" onMouseOut="lolite()" onClick="logVariable('packagefile')" href="../../_variables/packagefile.html">$packagefile</a>-&gt;<a class="function" onClick="logFunction('import_external_file_contents')" href="../../_functions/import_external_file_contents.html" onMouseOver="funcPopup(event,'import_external_file_contents')">import_external_file_contents</a>();
<a name="l227"><span class="linenum"> 227</span></a>                  }
<a name="l228"><span class="linenum"> 228</span></a>                  <a class="var it9433" onMouseOver="hilite(9433)" onMouseOut="lolite()" onClick="logVariable('newhash')" href="../../_variables/newhash.html">$newhash</a> = <a class="var it8007" onMouseOver="hilite(8007)" onMouseOut="lolite()" onClick="logVariable('packagefile')" href="../../_variables/packagefile.html">$packagefile</a>-&gt;<a class="function" onClick="logFunction('get_contenthash')" href="../../_functions/get_contenthash.html" onMouseOver="funcPopup(event,'get_contenthash')">get_contenthash</a>();
<a name="l229"><span class="linenum"> 229</span></a>                  if (<a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it8007" onMouseOver="hilite(8007)" onMouseOut="lolite()" onClick="logVariable('packagefile')" href="../../_variables/packagefile.html">$packagefile</a>-&gt;<a class="function" onClick="logFunction('get_filename')" href="../../_functions/get_filename.html" onMouseOver="funcPopup(event,'get_filename')">get_filename</a>()) == 'imsmanifest.xml') {
<a name="l230"><span class="linenum"> 230</span></a>                      <a class="var it10740" onMouseOver="hilite(10740)" onMouseOut="lolite()" onClick="logVariable('packagefileimsmanifest')" href="../../_variables/packagefileimsmanifest.html">$packagefileimsmanifest</a> = true;
<a name="l231"><span class="linenum"> 231</span></a>                  }
<a name="l232"><span class="linenum"> 232</span></a>              } else {
<a name="l233"><span class="linenum"> 233</span></a>                  <a class="var it9433" onMouseOver="hilite(9433)" onMouseOut="lolite()" onClick="logVariable('newhash')" href="../../_variables/newhash.html">$newhash</a> = null;
<a name="l234"><span class="linenum"> 234</span></a>              }
<a name="l235"><span class="linenum"> 235</span></a>          } else {
<a name="l236"><span class="linenum"> 236</span></a>              if (!<a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a>-&gt;<a onClick="logVariable('allowtypelocalsync')" class="var it43741" onMouseOver="hilite(43741)" onMouseOut="lolite()" href="../../_variables/allowtypelocalsync.html">allowtypelocalsync</a>) {
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment">                // Sorry - localsync disabled.</span>
<a name="l238"><span class="linenum"> 238</span></a>                  return;
<a name="l239"><span class="linenum"> 239</span></a>              }
<a name="l240"><span class="linenum"> 240</span></a>              if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('reference')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/reference.html">reference</a> !== '') {
<a name="l241"><span class="linenum"> 241</span></a>                  <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a>-&gt;<a class="function" onClick="logFunction('delete_area_files')" href="../../_functions/delete_area_files.html" onMouseOver="funcPopup(event,'delete_area_files')">delete_area_files</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'mod_scorm', 'package');
<a name="l242"><span class="linenum"> 242</span></a>                  <a class="var it833" onMouseOver="hilite(833)" onMouseOut="lolite()" onClick="logVariable('filerecord')" href="../../_variables/filerecord.html">$filerecord</a> = array('contextid' =&gt; <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'component' =&gt; 'mod_scorm', 'filearea' =&gt; 'package',
<a name="l243"><span class="linenum"> 243</span></a>                                      'itemid' =&gt; 0, 'filepath' =&gt; '/');
<a name="l244"><span class="linenum"> 244</span></a>                  if (<a class="var it8007" onMouseOver="hilite(8007)" onMouseOut="lolite()" onClick="logVariable('packagefile')" href="../../_variables/packagefile.html">$packagefile</a> = <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a>-&gt;<a class="function" onClick="logFunction('create_file_from_url')" href="../../_functions/create_file_from_url.html" onMouseOver="funcPopup(event,'create_file_from_url')">create_file_from_url</a>(<a class="var it833" onMouseOver="hilite(833)" onMouseOut="lolite()" onClick="logVariable('filerecord')" href="../../_variables/filerecord.html">$filerecord</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('reference')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/reference.html">reference</a>, array('calctimeout' =&gt; true), true)) {
<a name="l245"><span class="linenum"> 245</span></a>                      <a class="var it9433" onMouseOver="hilite(9433)" onMouseOut="lolite()" onClick="logVariable('newhash')" href="../../_variables/newhash.html">$newhash</a> = <a class="var it8007" onMouseOver="hilite(8007)" onMouseOut="lolite()" onClick="logVariable('packagefile')" href="../../_variables/packagefile.html">$packagefile</a>-&gt;<a class="function" onClick="logFunction('get_contenthash')" href="../../_functions/get_contenthash.html" onMouseOver="funcPopup(event,'get_contenthash')">get_contenthash</a>();
<a name="l246"><span class="linenum"> 246</span></a>                  } else {
<a name="l247"><span class="linenum"> 247</span></a>                      <a class="var it9433" onMouseOver="hilite(9433)" onMouseOut="lolite()" onClick="logVariable('newhash')" href="../../_variables/newhash.html">$newhash</a> = null;
<a name="l248"><span class="linenum"> 248</span></a>                  }
<a name="l249"><span class="linenum"> 249</span></a>              }
<a name="l250"><span class="linenum"> 250</span></a>          }
<a name="l251"><span class="linenum"> 251</span></a>  
<a name="l252"><span class="linenum"> 252</span></a>          if (<a class="var it8007" onMouseOver="hilite(8007)" onMouseOut="lolite()" onClick="logVariable('packagefile')" href="../../_variables/packagefile.html">$packagefile</a>) {
<a name="l253"><span class="linenum"> 253</span></a>              if (!<a class="var it2562" onMouseOver="hilite(2562)" onMouseOut="lolite()" onClick="logVariable('full')" href="../../_variables/full.html">$full</a> and <a class="var it8007" onMouseOver="hilite(8007)" onMouseOut="lolite()" onClick="logVariable('packagefile')" href="../../_variables/packagefile.html">$packagefile</a> and <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('sha1hash')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/sha1hash.html">sha1hash</a> === <a class="var it9433" onMouseOver="hilite(9433)" onMouseOut="lolite()" onClick="logVariable('newhash')" href="../../_variables/newhash.html">$newhash</a>) {
<a name="l254"><span class="linenum"> 254</span></a>                  if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a>, 'SCORM') !== false) {
<a name="l255"><span class="linenum"> 255</span></a>                      if (<a class="var it10740" onMouseOver="hilite(10740)" onMouseOut="lolite()" onClick="logVariable('packagefileimsmanifest')" href="../../_variables/packagefileimsmanifest.html">$packagefileimsmanifest</a> || <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a>-&gt;<a class="function" onClick="logFunction('get_file')" href="../../_functions/get_file.html" onMouseOver="funcPopup(event,'get_file')">get_file</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'mod_scorm', 'content', 0, '/', 'imsmanifest.xml')) {
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment">                        // No need to update.</span>
<a name="l257"><span class="linenum"> 257</span></a>                          return;
<a name="l258"><span class="linenum"> 258</span></a>                      }
<a name="l259"><span class="linenum"> 259</span></a>                  } else if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a>, 'AICC') !== false) {
<a name="l260"><span class="linenum"> 260</span></a>  <span class="comment">                    // TODO: add more sanity checks - something really exists in scorm_content area.</span>
<a name="l261"><span class="linenum"> 261</span></a>                      return;
<a name="l262"><span class="linenum"> 262</span></a>                  }
<a name="l263"><span class="linenum"> 263</span></a>              }
<a name="l264"><span class="linenum"> 264</span></a>              if (!<a class="var it10740" onMouseOver="hilite(10740)" onMouseOut="lolite()" onClick="logVariable('packagefileimsmanifest')" href="../../_variables/packagefileimsmanifest.html">$packagefileimsmanifest</a>) {
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">                // Now extract files.</span>
<a name="l266"><span class="linenum"> 266</span></a>                  <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a>-&gt;<a class="function" onClick="logFunction('delete_area_files')" href="../../_functions/delete_area_files.html" onMouseOver="funcPopup(event,'delete_area_files')">delete_area_files</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'mod_scorm', 'content');
<a name="l267"><span class="linenum"> 267</span></a>  
<a name="l268"><span class="linenum"> 268</span></a>                  <a class="var it246" onMouseOver="hilite(246)" onMouseOut="lolite()" onClick="logVariable('packer')" href="../../_variables/packer.html">$packer</a> = <a class="function" onClick="logFunction('get_file_packer')" href="../../_functions/get_file_packer.html" onMouseOver="funcPopup(event,'get_file_packer')">get_file_packer</a>('application/zip');
<a name="l269"><span class="linenum"> 269</span></a>                  <a class="var it8007" onMouseOver="hilite(8007)" onMouseOut="lolite()" onClick="logVariable('packagefile')" href="../../_variables/packagefile.html">$packagefile</a>-&gt;<a class="function" onClick="logFunction('extract_to_storage')" href="../../_functions/extract_to_storage.html" onMouseOver="funcPopup(event,'extract_to_storage')">extract_to_storage</a>(<a class="var it246" onMouseOver="hilite(246)" onMouseOut="lolite()" onClick="logVariable('packer')" href="../../_variables/packer.html">$packer</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'mod_scorm', 'content', 0, '/');
<a name="l270"><span class="linenum"> 270</span></a>              }
<a name="l271"><span class="linenum"> 271</span></a>  
<a name="l272"><span class="linenum"> 272</span></a>          } else if (!<a class="var it2562" onMouseOver="hilite(2562)" onMouseOut="lolite()" onClick="logVariable('full')" href="../../_variables/full.html">$full</a>) {
<a name="l273"><span class="linenum"> 273</span></a>              return;
<a name="l274"><span class="linenum"> 274</span></a>          }
<a name="l275"><span class="linenum"> 275</span></a>          if (<a class="var it10740" onMouseOver="hilite(10740)" onMouseOut="lolite()" onClick="logVariable('packagefileimsmanifest')" href="../../_variables/packagefileimsmanifest.html">$packagefileimsmanifest</a>) {
<a name="l276"><span class="linenum"> 276</span></a>              require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/scorm/datamodels/scormlib.php&quot;);
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment">            // Direct link to imsmanifest.xml file.</span>
<a name="l278"><span class="linenum"> 278</span></a>              if (!<a class="function" onClick="logFunction('scorm_parse_scorm')" href="../../_functions/scorm_parse_scorm.html" onMouseOver="funcPopup(event,'scorm_parse_scorm')">scorm_parse_scorm</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it8007" onMouseOver="hilite(8007)" onMouseOut="lolite()" onClick="logVariable('packagefile')" href="../../_variables/packagefile.html">$packagefile</a>)) {
<a name="l279"><span class="linenum"> 279</span></a>                  <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a> = 'ERROR';
<a name="l280"><span class="linenum"> 280</span></a>              }
<a name="l281"><span class="linenum"> 281</span></a>  
<a name="l282"><span class="linenum"> 282</span></a>          } else if (<a class="var it1468" onMouseOver="hilite(1468)" onMouseOut="lolite()" onClick="logVariable('manifest')" href="../../_variables/manifest.html">$manifest</a> = <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a>-&gt;<a class="function" onClick="logFunction('get_file')" href="../../_functions/get_file.html" onMouseOver="funcPopup(event,'get_file')">get_file</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'mod_scorm', 'content', 0, '/', 'imsmanifest.xml')) {
<a name="l283"><span class="linenum"> 283</span></a>              require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/scorm/datamodels/scormlib.php&quot;);
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment">            // SCORM.</span>
<a name="l285"><span class="linenum"> 285</span></a>              if (!<a class="function" onClick="logFunction('scorm_parse_scorm')" href="../../_functions/scorm_parse_scorm.html" onMouseOver="funcPopup(event,'scorm_parse_scorm')">scorm_parse_scorm</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it1468" onMouseOver="hilite(1468)" onMouseOut="lolite()" onClick="logVariable('manifest')" href="../../_variables/manifest.html">$manifest</a>)) {
<a name="l286"><span class="linenum"> 286</span></a>                  <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a> = 'ERROR';
<a name="l287"><span class="linenum"> 287</span></a>              }
<a name="l288"><span class="linenum"> 288</span></a>          } else {
<a name="l289"><span class="linenum"> 289</span></a>              require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/scorm/datamodels/aicclib.php&quot;);
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment">            // AICC.</span>
<a name="l291"><span class="linenum"> 291</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="function" onClick="logFunction('scorm_parse_aicc')" href="../../_functions/scorm_parse_aicc.html" onMouseOver="funcPopup(event,'scorm_parse_aicc')">scorm_parse_aicc</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>);
<a name="l292"><span class="linenum"> 292</span></a>              if (!<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>) {
<a name="l293"><span class="linenum"> 293</span></a>                  <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a> = 'ERROR';
<a name="l294"><span class="linenum"> 294</span></a>              } else {
<a name="l295"><span class="linenum"> 295</span></a>                  <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a> = 'AICC';
<a name="l296"><span class="linenum"> 296</span></a>              }
<a name="l297"><span class="linenum"> 297</span></a>          }
<a name="l298"><span class="linenum"> 298</span></a>  
<a name="l299"><span class="linenum"> 299</span></a>      } else if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> === <a class="constant" onClick="logConstant('SCORM_TYPE_EXTERNAL')" href="../../_constants/SCORM_TYPE_EXTERNAL.html" onMouseOver="constPopup(event,'SCORM_TYPE_EXTERNAL')">SCORM_TYPE_EXTERNAL</a> and <a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a>-&gt;<a onClick="logVariable('allowtypeexternal')" class="var it43741" onMouseOver="hilite(43741)" onMouseOut="lolite()" href="../../_variables/allowtypeexternal.html">allowtypeexternal</a>) {
<a name="l300"><span class="linenum"> 300</span></a>          require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/scorm/datamodels/scormlib.php&quot;);
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">        // SCORM only, AICC can not be external.</span>
<a name="l302"><span class="linenum"> 302</span></a>          if (!<a class="function" onClick="logFunction('scorm_parse_scorm')" href="../../_functions/scorm_parse_scorm.html" onMouseOver="funcPopup(event,'scorm_parse_scorm')">scorm_parse_scorm</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('reference')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/reference.html">reference</a>)) {
<a name="l303"><span class="linenum"> 303</span></a>              <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a> = 'ERROR';
<a name="l304"><span class="linenum"> 304</span></a>          }
<a name="l305"><span class="linenum"> 305</span></a>          <a class="var it9433" onMouseOver="hilite(9433)" onMouseOut="lolite()" onClick="logVariable('newhash')" href="../../_variables/newhash.html">$newhash</a> = <a class="phpfunction" onClick="logFunction('sha1')" href="../../_functions/sha1.html" onMouseOver="phpfuncPopup(event,'sha1')">sha1</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('reference')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/reference.html">reference</a>);
<a name="l306"><span class="linenum"> 306</span></a>  
<a name="l307"><span class="linenum"> 307</span></a>      } else if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> === <a class="constant" onClick="logConstant('SCORM_TYPE_AICCURL')" href="../../_constants/SCORM_TYPE_AICCURL.html" onMouseOver="constPopup(event,'SCORM_TYPE_AICCURL')">SCORM_TYPE_AICCURL</a>  and <a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a>-&gt;<a onClick="logVariable('allowtypeexternalaicc')" class="var it43741" onMouseOver="hilite(43741)" onMouseOut="lolite()" href="../../_variables/allowtypeexternalaicc.html">allowtypeexternalaicc</a>) {
<a name="l308"><span class="linenum"> 308</span></a>          require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/scorm/datamodels/aicclib.php&quot;);
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment">        // AICC.</span>
<a name="l310"><span class="linenum"> 310</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="function" onClick="logFunction('scorm_parse_aicc')" href="../../_functions/scorm_parse_aicc.html" onMouseOver="funcPopup(event,'scorm_parse_aicc')">scorm_parse_aicc</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>);
<a name="l311"><span class="linenum"> 311</span></a>          if (!<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>) {
<a name="l312"><span class="linenum"> 312</span></a>              <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a> = 'ERROR';
<a name="l313"><span class="linenum"> 313</span></a>          } else {
<a name="l314"><span class="linenum"> 314</span></a>              <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a> = 'AICC';
<a name="l315"><span class="linenum"> 315</span></a>          }
<a name="l316"><span class="linenum"> 316</span></a>  
<a name="l317"><span class="linenum"> 317</span></a>      } else {
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment">        // Sorry, disabled type.</span>
<a name="l319"><span class="linenum"> 319</span></a>          return;
<a name="l320"><span class="linenum"> 320</span></a>      }
<a name="l321"><span class="linenum"> 321</span></a>  
<a name="l322"><span class="linenum"> 322</span></a>      <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('revision')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/revision.html">revision</a>++;
<a name="l323"><span class="linenum"> 323</span></a>      <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('sha1hash')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/sha1hash.html">sha1hash</a> = <a class="var it9433" onMouseOver="hilite(9433)" onMouseOut="lolite()" onClick="logVariable('newhash')" href="../../_variables/newhash.html">$newhash</a>;
<a name="l324"><span class="linenum"> 324</span></a>      <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('scorm', <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>);
<a name="l325"><span class="linenum"> 325</span></a>  }
<a name="l326"><span class="linenum"> 326</span></a>  
<a name="l327"><span class="linenum"> 327</span></a>  
<a name="l328"><span class="linenum"> 328</span></a>  function <a class="function" onClick="logFunction('scorm_array_search')" href="../../_functions/scorm_array_search.html" onMouseOver="funcPopup(event,'scorm_array_search')">scorm_array_search</a>(<a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>, <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('needle')" href="../../_variables/needle.html">$needle</a>, <a class="var it10741" onMouseOver="hilite(10741)" onMouseOut="lolite()" onClick="logVariable('haystacks')" href="../../_variables/haystacks.html">$haystacks</a>, <a class="var it10742" onMouseOver="hilite(10742)" onMouseOut="lolite()" onClick="logVariable('strict')" href="../../_variables/strict.html">$strict</a>=false) {
<a name="l329"><span class="linenum"> 329</span></a>      if (!empty(<a class="var it10741" onMouseOver="hilite(10741)" onMouseOut="lolite()" onClick="logVariable('haystacks')" href="../../_variables/haystacks.html">$haystacks</a>)) {
<a name="l330"><span class="linenum"> 330</span></a>          foreach (<a class="var it10741" onMouseOver="hilite(10741)" onMouseOut="lolite()" onClick="logVariable('haystacks')" href="../../_variables/haystacks.html">$haystacks</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>) {
<a name="l331"><span class="linenum"> 331</span></a>              if (<a class="var it10742" onMouseOver="hilite(10742)" onMouseOut="lolite()" onClick="logVariable('strict')" href="../../_variables/strict.html">$strict</a>) {
<a name="l332"><span class="linenum"> 332</span></a>                  if (<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>-&gt;{<a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>} === <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('needle')" href="../../_variables/needle.html">$needle</a>) {
<a name="l333"><span class="linenum"> 333</span></a>                      return <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>;
<a name="l334"><span class="linenum"> 334</span></a>                  }
<a name="l335"><span class="linenum"> 335</span></a>              } else {
<a name="l336"><span class="linenum"> 336</span></a>                  if (<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>-&gt;{<a class="var it749" onMouseOver="hilite(749)" onMouseOut="lolite()" onClick="logVariable('item')" href="../../_variables/item.html">$item</a>} == <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('needle')" href="../../_variables/needle.html">$needle</a>) {
<a name="l337"><span class="linenum"> 337</span></a>                      return <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>;
<a name="l338"><span class="linenum"> 338</span></a>                  }
<a name="l339"><span class="linenum"> 339</span></a>              }
<a name="l340"><span class="linenum"> 340</span></a>          }
<a name="l341"><span class="linenum"> 341</span></a>      }
<a name="l342"><span class="linenum"> 342</span></a>      return false;
<a name="l343"><span class="linenum"> 343</span></a>  }
<a name="l344"><span class="linenum"> 344</span></a>  
<a name="l345"><span class="linenum"> 345</span></a>  function <a class="function" onClick="logFunction('scorm_repeater')" href="../../_functions/scorm_repeater.html" onMouseOver="funcPopup(event,'scorm_repeater')">scorm_repeater</a>(<a class="var it10711" onMouseOver="hilite(10711)" onMouseOut="lolite()" onClick="logVariable('what')" href="../../_variables/what.html">$what</a>, <a class="var it4574" onMouseOver="hilite(4574)" onMouseOut="lolite()" onClick="logVariable('times')" href="../../_variables/times.html">$times</a>) {
<a name="l346"><span class="linenum"> 346</span></a>      if (<a class="var it4574" onMouseOver="hilite(4574)" onMouseOut="lolite()" onClick="logVariable('times')" href="../../_variables/times.html">$times</a> &lt;= 0) {
<a name="l347"><span class="linenum"> 347</span></a>          return null;
<a name="l348"><span class="linenum"> 348</span></a>      }
<a name="l349"><span class="linenum"> 349</span></a>      <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> = '';
<a name="l350"><span class="linenum"> 350</span></a>      for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt; <a class="var it4574" onMouseOver="hilite(4574)" onMouseOut="lolite()" onClick="logVariable('times')" href="../../_variables/times.html">$times</a>; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l351"><span class="linenum"> 351</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> .= <a class="var it10711" onMouseOver="hilite(10711)" onMouseOut="lolite()" onClick="logVariable('what')" href="../../_variables/what.html">$what</a>;
<a name="l352"><span class="linenum"> 352</span></a>      }
<a name="l353"><span class="linenum"> 353</span></a>      return <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a>;
<a name="l354"><span class="linenum"> 354</span></a>  }
<a name="l355"><span class="linenum"> 355</span></a>  
<a name="l356"><span class="linenum"> 356</span></a>  function <a class="function" onClick="logFunction('scorm_external_link')" href="../../_functions/scorm_external_link.html" onMouseOver="funcPopup(event,'scorm_external_link')">scorm_external_link</a>(<a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>) {
<a name="l357"><span class="linenum"> 357</span></a>  <span class="comment">    // Check if a link is external.</span>
<a name="l358"><span class="linenum"> 358</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = false;
<a name="l359"><span class="linenum"> 359</span></a>      <a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a> = <a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>);
<a name="l360"><span class="linenum"> 360</span></a>      if (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>, 0, 7) == 'http://') {
<a name="l361"><span class="linenum"> 361</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = true;
<a name="l362"><span class="linenum"> 362</span></a>      } else if (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>, 0, 8) == 'https://') {
<a name="l363"><span class="linenum"> 363</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = true;
<a name="l364"><span class="linenum"> 364</span></a>      } else if (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>, 0, 4) == 'www.') {
<a name="l365"><span class="linenum"> 365</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = true;
<a name="l366"><span class="linenum"> 366</span></a>      }
<a name="l367"><span class="linenum"> 367</span></a>      return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l368"><span class="linenum"> 368</span></a>  }
<a name="l369"><span class="linenum"> 369</span></a>  
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment">/**</span>
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment"> * Returns an object containing all datas relative to the given sco ID</span>
<a name="l372"><span class="linenum"> 372</span></a>  <span class="comment"> *</span>
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment"> * @param integer $id The sco ID</span>
<a name="l374"><span class="linenum"> 374</span></a>  <span class="comment"> * @return mixed (false if sco id does not exists)</span>
<a name="l375"><span class="linenum"> 375</span></a>  <span class="comment"> */</span>
<a name="l376"><span class="linenum"> 376</span></a>  function <a class="function" onClick="logFunction('scorm_get_sco')" href="../../_functions/scorm_get_sco.html" onMouseOver="funcPopup(event,'scorm_get_sco')">scorm_get_sco</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>, <a class="var it10711" onMouseOver="hilite(10711)" onMouseOut="lolite()" onClick="logVariable('what')" href="../../_variables/what.html">$what</a>=<a class="constant" onClick="logConstant('SCO_ALL')" href="../../_constants/SCO_ALL.html" onMouseOver="constPopup(event,'SCO_ALL')">SCO_ALL</a>) {
<a name="l377"><span class="linenum"> 377</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l378"><span class="linenum"> 378</span></a>  
<a name="l379"><span class="linenum"> 379</span></a>      if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('scorm_scoes', array('id' =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>))) {
<a name="l380"><span class="linenum"> 380</span></a>          <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a> = (<a class="var it10711" onMouseOver="hilite(10711)" onMouseOut="lolite()" onClick="logVariable('what')" href="../../_variables/what.html">$what</a> == <a class="constant" onClick="logConstant('SCO_DATA')" href="../../_constants/SCO_DATA.html" onMouseOver="constPopup(event,'SCO_DATA')">SCO_DATA</a>) ? new stdClass() : <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>;
<a name="l381"><span class="linenum"> 381</span></a>          if ((<a class="var it10711" onMouseOver="hilite(10711)" onMouseOut="lolite()" onClick="logVariable('what')" href="../../_variables/what.html">$what</a> != <a class="constant" onClick="logConstant('SCO_ONLY')" href="../../_constants/SCO_ONLY.html" onMouseOver="constPopup(event,'SCO_ONLY')">SCO_ONLY</a>) &amp;&amp; (<a class="var it10743" onMouseOver="hilite(10743)" onMouseOut="lolite()" onClick="logVariable('scodatas')" href="../../_variables/scodatas.html">$scodatas</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('scorm_scoes_data', array('scoid' =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>)))) {
<a name="l382"><span class="linenum"> 382</span></a>              foreach (<a class="var it10743" onMouseOver="hilite(10743)" onMouseOut="lolite()" onClick="logVariable('scodatas')" href="../../_variables/scodatas.html">$scodatas</a> as <a class="var it10744" onMouseOver="hilite(10744)" onMouseOut="lolite()" onClick="logVariable('scodata')" href="../../_variables/scodata.html">$scodata</a>) {
<a name="l383"><span class="linenum"> 383</span></a>                  <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;{<a class="var it10744" onMouseOver="hilite(10744)" onMouseOut="lolite()" onClick="logVariable('scodata')" href="../../_variables/scodata.html">$scodata</a>-&gt;<a onClick="logVariable('name')" class="var it45075" onMouseOver="hilite(45075)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>} = <a class="var it10744" onMouseOver="hilite(10744)" onMouseOut="lolite()" onClick="logVariable('scodata')" href="../../_variables/scodata.html">$scodata</a>-&gt;<a onClick="logVariable('value')" class="var it45075" onMouseOver="hilite(45075)" onMouseOut="lolite()" href="../../_variables/value.html">value</a>;
<a name="l384"><span class="linenum"> 384</span></a>              }
<a name="l385"><span class="linenum"> 385</span></a>          } else if ((<a class="var it10711" onMouseOver="hilite(10711)" onMouseOut="lolite()" onClick="logVariable('what')" href="../../_variables/what.html">$what</a> != <a class="constant" onClick="logConstant('SCO_ONLY')" href="../../_constants/SCO_ONLY.html" onMouseOver="constPopup(event,'SCO_ONLY')">SCO_ONLY</a>) &amp;&amp; (!(<a class="var it10743" onMouseOver="hilite(10743)" onMouseOut="lolite()" onClick="logVariable('scodatas')" href="../../_variables/scodatas.html">$scodatas</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('scorm_scoes_data', array('scoid' =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>))))) {
<a name="l386"><span class="linenum"> 386</span></a>              <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parameters')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parameters.html">parameters</a> = '';
<a name="l387"><span class="linenum"> 387</span></a>          }
<a name="l388"><span class="linenum"> 388</span></a>          return <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>;
<a name="l389"><span class="linenum"> 389</span></a>      } else {
<a name="l390"><span class="linenum"> 390</span></a>          return false;
<a name="l391"><span class="linenum"> 391</span></a>      }
<a name="l392"><span class="linenum"> 392</span></a>  }
<a name="l393"><span class="linenum"> 393</span></a>  
<a name="l394"><span class="linenum"> 394</span></a>  <span class="comment">/**</span>
<a name="l395"><span class="linenum"> 395</span></a>  <span class="comment"> * Returns an object (array) containing all the scoes data related to the given sco ID</span>
<a name="l396"><span class="linenum"> 396</span></a>  <span class="comment"> *</span>
<a name="l397"><span class="linenum"> 397</span></a>  <span class="comment"> * @param integer $id The sco ID</span>
<a name="l398"><span class="linenum"> 398</span></a>  <span class="comment"> * @param integer $organisation an organisation ID - defaults to false if not required</span>
<a name="l399"><span class="linenum"> 399</span></a>  <span class="comment"> * @return mixed (false if there are no scoes or an array)</span>
<a name="l400"><span class="linenum"> 400</span></a>  <span class="comment"> */</span>
<a name="l401"><span class="linenum"> 401</span></a>  function <a class="function" onClick="logFunction('scorm_get_scoes')" href="../../_functions/scorm_get_scoes.html" onMouseOver="funcPopup(event,'scorm_get_scoes')">scorm_get_scoes</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>, <a class="var it10745" onMouseOver="hilite(10745)" onMouseOut="lolite()" onClick="logVariable('organisation')" href="../../_variables/organisation.html">$organisation</a>=false) {
<a name="l402"><span class="linenum"> 402</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l403"><span class="linenum"> 403</span></a>  
<a name="l404"><span class="linenum"> 404</span></a>      <a class="var it10746" onMouseOver="hilite(10746)" onMouseOut="lolite()" onClick="logVariable('queryarray')" href="../../_variables/queryarray.html">$queryarray</a> = array('scorm' =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>);
<a name="l405"><span class="linenum"> 405</span></a>      if (!empty(<a class="var it10745" onMouseOver="hilite(10745)" onMouseOut="lolite()" onClick="logVariable('organisation')" href="../../_variables/organisation.html">$organisation</a>)) {
<a name="l406"><span class="linenum"> 406</span></a>          <a class="var it10746" onMouseOver="hilite(10746)" onMouseOut="lolite()" onClick="logVariable('queryarray')" href="../../_variables/queryarray.html">$queryarray</a>['organization'] = <a class="var it10745" onMouseOver="hilite(10745)" onMouseOut="lolite()" onClick="logVariable('organisation')" href="../../_variables/organisation.html">$organisation</a>;
<a name="l407"><span class="linenum"> 407</span></a>      }
<a name="l408"><span class="linenum"> 408</span></a>      if (<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('scorm_scoes', <a class="var it10746" onMouseOver="hilite(10746)" onMouseOut="lolite()" onClick="logVariable('queryarray')" href="../../_variables/queryarray.html">$queryarray</a>, 'sortorder, id')) {
<a name="l409"><span class="linenum"> 409</span></a>  <span class="comment">        // Drop keys so that it is a simple array as expected.</span>
<a name="l410"><span class="linenum"> 410</span></a>          <a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a> = <a class="phpfunction" onClick="logFunction('array_values')" href="../../_functions/array_values.html" onMouseOver="phpfuncPopup(event,'array_values')">array_values</a>(<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>);
<a name="l411"><span class="linenum"> 411</span></a>          foreach (<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a> as <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>) {
<a name="l412"><span class="linenum"> 412</span></a>              if (<a class="var it10743" onMouseOver="hilite(10743)" onMouseOut="lolite()" onClick="logVariable('scodatas')" href="../../_variables/scodatas.html">$scodatas</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('scorm_scoes_data', array('scoid' =&gt; <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>))) {
<a name="l413"><span class="linenum"> 413</span></a>                  foreach (<a class="var it10743" onMouseOver="hilite(10743)" onMouseOut="lolite()" onClick="logVariable('scodatas')" href="../../_variables/scodatas.html">$scodatas</a> as <a class="var it10744" onMouseOver="hilite(10744)" onMouseOut="lolite()" onClick="logVariable('scodata')" href="../../_variables/scodata.html">$scodata</a>) {
<a name="l414"><span class="linenum"> 414</span></a>                      <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;{<a class="var it10744" onMouseOver="hilite(10744)" onMouseOut="lolite()" onClick="logVariable('scodata')" href="../../_variables/scodata.html">$scodata</a>-&gt;<a onClick="logVariable('name')" class="var it45075" onMouseOver="hilite(45075)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>} = <a class="var it10744" onMouseOver="hilite(10744)" onMouseOut="lolite()" onClick="logVariable('scodata')" href="../../_variables/scodata.html">$scodata</a>-&gt;<a onClick="logVariable('value')" class="var it45075" onMouseOver="hilite(45075)" onMouseOut="lolite()" href="../../_variables/value.html">value</a>;
<a name="l415"><span class="linenum"> 415</span></a>                  }
<a name="l416"><span class="linenum"> 416</span></a>              }
<a name="l417"><span class="linenum"> 417</span></a>          }
<a name="l418"><span class="linenum"> 418</span></a>          return <a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>;
<a name="l419"><span class="linenum"> 419</span></a>      } else {
<a name="l420"><span class="linenum"> 420</span></a>          return false;
<a name="l421"><span class="linenum"> 421</span></a>      }
<a name="l422"><span class="linenum"> 422</span></a>  }
<a name="l423"><span class="linenum"> 423</span></a>  
<a name="l424"><span class="linenum"> 424</span></a>  function <a class="function" onClick="logFunction('scorm_insert_track')" href="../../_functions/scorm_insert_track.html" onMouseOver="funcPopup(event,'scorm_insert_track')">scorm_insert_track</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>, <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>, <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>, <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>, <a class="var it629" onMouseOver="hilite(629)" onMouseOut="lolite()" onClick="logVariable('forcecompleted')" href="../../_variables/forcecompleted.html">$forcecompleted</a>=false, <a class="var it5551" onMouseOver="hilite(5551)" onMouseOut="lolite()" onClick="logVariable('trackdata')" href="../../_variables/trackdata.html">$trackdata</a> = null) {
<a name="l425"><span class="linenum"> 425</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l426"><span class="linenum"> 426</span></a>  
<a name="l427"><span class="linenum"> 427</span></a>      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> = null;
<a name="l428"><span class="linenum"> 428</span></a>  
<a name="l429"><span class="linenum"> 429</span></a>      if (<a class="var it629" onMouseOver="hilite(629)" onMouseOut="lolite()" onClick="logVariable('forcecompleted')" href="../../_variables/forcecompleted.html">$forcecompleted</a>) {
<a name="l430"><span class="linenum"> 430</span></a>  <span class="comment">        // TODO - this could be broadened to encompass SCORM 2004 in future.</span>
<a name="l431"><span class="linenum"> 431</span></a>          if ((<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a> == 'cmi.core.lesson_status') &amp;&amp; (<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> == 'incomplete')) {
<a name="l432"><span class="linenum"> 432</span></a>              if (<a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record_select')" href="../../_functions/get_record_select.html" onMouseOver="funcPopup(event,'get_record_select')">get_record_select</a>('scorm_scoes_track',
<a name="l433"><span class="linenum"> 433</span></a>                                                  'userid=? AND scormid=? AND scoid=? AND attempt=? '.
<a name="l434"><span class="linenum"> 434</span></a>                                                  'AND element=\'cmi.core.score.raw\'',
<a name="l435"><span class="linenum"> 435</span></a>                                                  array(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>, <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>, <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>))) {
<a name="l436"><span class="linenum"> 436</span></a>                  <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = 'completed';
<a name="l437"><span class="linenum"> 437</span></a>              }
<a name="l438"><span class="linenum"> 438</span></a>          }
<a name="l439"><span class="linenum"> 439</span></a>          if (<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a> == 'cmi.core.score.raw') {
<a name="l440"><span class="linenum"> 440</span></a>              if (<a class="var it10747" onMouseOver="hilite(10747)" onMouseOut="lolite()" onClick="logVariable('tracktest')" href="../../_variables/tracktest.html">$tracktest</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record_select')" href="../../_functions/get_record_select.html" onMouseOver="funcPopup(event,'get_record_select')">get_record_select</a>('scorm_scoes_track',
<a name="l441"><span class="linenum"> 441</span></a>                                                      'userid=? AND scormid=? AND scoid=? AND attempt=? '.
<a name="l442"><span class="linenum"> 442</span></a>                                                      'AND element=\'cmi.core.lesson_status\'',
<a name="l443"><span class="linenum"> 443</span></a>                                                      array(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>, <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>, <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>))) {
<a name="l444"><span class="linenum"> 444</span></a>                  if (<a class="var it10747" onMouseOver="hilite(10747)" onMouseOut="lolite()" onClick="logVariable('tracktest')" href="../../_variables/tracktest.html">$tracktest</a>-&gt;<a onClick="logVariable('value')" class="var it45076" onMouseOver="hilite(45076)" onMouseOut="lolite()" href="../../_variables/value.html">value</a> == &quot;incomplete&quot;) {
<a name="l445"><span class="linenum"> 445</span></a>                      <a class="var it10747" onMouseOver="hilite(10747)" onMouseOut="lolite()" onClick="logVariable('tracktest')" href="../../_variables/tracktest.html">$tracktest</a>-&gt;<a onClick="logVariable('value')" class="var it45076" onMouseOver="hilite(45076)" onMouseOut="lolite()" href="../../_variables/value.html">value</a> = &quot;completed&quot;;
<a name="l446"><span class="linenum"> 446</span></a>                      <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('scorm_scoes_track', <a class="var it10747" onMouseOver="hilite(10747)" onMouseOut="lolite()" onClick="logVariable('tracktest')" href="../../_variables/tracktest.html">$tracktest</a>);
<a name="l447"><span class="linenum"> 447</span></a>                  }
<a name="l448"><span class="linenum"> 448</span></a>              }
<a name="l449"><span class="linenum"> 449</span></a>          }
<a name="l450"><span class="linenum"> 450</span></a>          if ((<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a> == 'cmi.success_status') &amp;&amp; (<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> == 'passed' || <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> == 'failed')) {
<a name="l451"><span class="linenum"> 451</span></a>              if (<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('scorm_scoes_data', array('scoid' =&gt; <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>, 'name' =&gt; 'objectivesetbycontent'))) {
<a name="l452"><span class="linenum"> 452</span></a>                  <a class="var it10748" onMouseOver="hilite(10748)" onMouseOut="lolite()" onClick="logVariable('objectiveprogressstatus')" href="../../_variables/objectiveprogressstatus.html">$objectiveprogressstatus</a> = true;
<a name="l453"><span class="linenum"> 453</span></a>                  <a class="var it10749" onMouseOver="hilite(10749)" onMouseOut="lolite()" onClick="logVariable('objectivesatisfiedstatus')" href="../../_variables/objectivesatisfiedstatus.html">$objectivesatisfiedstatus</a> = false;
<a name="l454"><span class="linenum"> 454</span></a>                  if (<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> == 'passed') {
<a name="l455"><span class="linenum"> 455</span></a>                      <a class="var it10749" onMouseOver="hilite(10749)" onMouseOut="lolite()" onClick="logVariable('objectivesatisfiedstatus')" href="../../_variables/objectivesatisfiedstatus.html">$objectivesatisfiedstatus</a> = true;
<a name="l456"><span class="linenum"> 456</span></a>                  }
<a name="l457"><span class="linenum"> 457</span></a>  
<a name="l458"><span class="linenum"> 458</span></a>                  if (<a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('scorm_scoes_track', array('userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>,
<a name="l459"><span class="linenum"> 459</span></a>                                                                          'scormid' =&gt; <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>,
<a name="l460"><span class="linenum"> 460</span></a>                                                                          'scoid' =&gt; <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>,
<a name="l461"><span class="linenum"> 461</span></a>                                                                          'attempt' =&gt; <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>,
<a name="l462"><span class="linenum"> 462</span></a>                                                                          'element' =&gt; 'objectiveprogressstatus'))) {
<a name="l463"><span class="linenum"> 463</span></a>                      <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('value')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/value.html">value</a> = <a class="var it10748" onMouseOver="hilite(10748)" onMouseOut="lolite()" onClick="logVariable('objectiveprogressstatus')" href="../../_variables/objectiveprogressstatus.html">$objectiveprogressstatus</a>;
<a name="l464"><span class="linenum"> 464</span></a>                      <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('timemodified')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l465"><span class="linenum"> 465</span></a>                      <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('scorm_scoes_track', <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>);
<a name="l466"><span class="linenum"> 466</span></a>                      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> = <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('id')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l467"><span class="linenum"> 467</span></a>                  } else {
<a name="l468"><span class="linenum"> 468</span></a>                      <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a> = new stdClass();
<a name="l469"><span class="linenum"> 469</span></a>                      <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('userid')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a> = <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>;
<a name="l470"><span class="linenum"> 470</span></a>                      <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('scormid')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/scormid.html">scormid</a> = <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>;
<a name="l471"><span class="linenum"> 471</span></a>                      <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('scoid')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/scoid.html">scoid</a> = <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>;
<a name="l472"><span class="linenum"> 472</span></a>                      <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('attempt')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/attempt.html">attempt</a> = <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>;
<a name="l473"><span class="linenum"> 473</span></a>                      <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('element')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/element.html">element</a> = 'objectiveprogressstatus';
<a name="l474"><span class="linenum"> 474</span></a>                      <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('value')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/value.html">value</a> = <a class="var it10748" onMouseOver="hilite(10748)" onMouseOut="lolite()" onClick="logVariable('objectiveprogressstatus')" href="../../_variables/objectiveprogressstatus.html">$objectiveprogressstatus</a>;
<a name="l475"><span class="linenum"> 475</span></a>                      <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('timemodified')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l476"><span class="linenum"> 476</span></a>                      <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('scorm_scoes_track', <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>);
<a name="l477"><span class="linenum"> 477</span></a>                  }
<a name="l478"><span class="linenum"> 478</span></a>                  if (<a class="var it10749" onMouseOver="hilite(10749)" onMouseOut="lolite()" onClick="logVariable('objectivesatisfiedstatus')" href="../../_variables/objectivesatisfiedstatus.html">$objectivesatisfiedstatus</a>) {
<a name="l479"><span class="linenum"> 479</span></a>                      if (<a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('scorm_scoes_track', array('userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>,
<a name="l480"><span class="linenum"> 480</span></a>                                                                              'scormid' =&gt; <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>,
<a name="l481"><span class="linenum"> 481</span></a>                                                                              'scoid' =&gt; <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>,
<a name="l482"><span class="linenum"> 482</span></a>                                                                              'attempt' =&gt; <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>,
<a name="l483"><span class="linenum"> 483</span></a>                                                                              'element' =&gt; 'objectivesatisfiedstatus'))) {
<a name="l484"><span class="linenum"> 484</span></a>                          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('value')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/value.html">value</a> = <a class="var it10749" onMouseOver="hilite(10749)" onMouseOut="lolite()" onClick="logVariable('objectivesatisfiedstatus')" href="../../_variables/objectivesatisfiedstatus.html">$objectivesatisfiedstatus</a>;
<a name="l485"><span class="linenum"> 485</span></a>                          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('timemodified')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l486"><span class="linenum"> 486</span></a>                          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('scorm_scoes_track', <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>);
<a name="l487"><span class="linenum"> 487</span></a>                          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> = <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('id')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l488"><span class="linenum"> 488</span></a>                      } else {
<a name="l489"><span class="linenum"> 489</span></a>                          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a> = new stdClass();
<a name="l490"><span class="linenum"> 490</span></a>                          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('userid')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a> = <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>;
<a name="l491"><span class="linenum"> 491</span></a>                          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('scormid')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/scormid.html">scormid</a> = <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>;
<a name="l492"><span class="linenum"> 492</span></a>                          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('scoid')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/scoid.html">scoid</a> = <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>;
<a name="l493"><span class="linenum"> 493</span></a>                          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('attempt')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/attempt.html">attempt</a> = <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>;
<a name="l494"><span class="linenum"> 494</span></a>                          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('element')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/element.html">element</a> = 'objectivesatisfiedstatus';
<a name="l495"><span class="linenum"> 495</span></a>                          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('value')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/value.html">value</a> = <a class="var it10749" onMouseOver="hilite(10749)" onMouseOut="lolite()" onClick="logVariable('objectivesatisfiedstatus')" href="../../_variables/objectivesatisfiedstatus.html">$objectivesatisfiedstatus</a>;
<a name="l496"><span class="linenum"> 496</span></a>                          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('timemodified')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l497"><span class="linenum"> 497</span></a>                          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('scorm_scoes_track', <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>);
<a name="l498"><span class="linenum"> 498</span></a>                      }
<a name="l499"><span class="linenum"> 499</span></a>                  }
<a name="l500"><span class="linenum"> 500</span></a>              }
<a name="l501"><span class="linenum"> 501</span></a>          }
<a name="l502"><span class="linenum"> 502</span></a>  
<a name="l503"><span class="linenum"> 503</span></a>      }
<a name="l504"><span class="linenum"> 504</span></a>  
<a name="l505"><span class="linenum"> 505</span></a>      <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a> = null;
<a name="l506"><span class="linenum"> 506</span></a>      if (<a class="var it5551" onMouseOver="hilite(5551)" onMouseOut="lolite()" onClick="logVariable('trackdata')" href="../../_variables/trackdata.html">$trackdata</a> !== null) {
<a name="l507"><span class="linenum"> 507</span></a>          if (isset(<a class="var it5551" onMouseOver="hilite(5551)" onMouseOut="lolite()" onClick="logVariable('trackdata')" href="../../_variables/trackdata.html">$trackdata</a>[<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>])) {
<a name="l508"><span class="linenum"> 508</span></a>              <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a> = <a class="var it5551" onMouseOver="hilite(5551)" onMouseOut="lolite()" onClick="logVariable('trackdata')" href="../../_variables/trackdata.html">$trackdata</a>[<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>];
<a name="l509"><span class="linenum"> 509</span></a>          }
<a name="l510"><span class="linenum"> 510</span></a>      } else {
<a name="l511"><span class="linenum"> 511</span></a>          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('scorm_scoes_track', array('userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>,
<a name="l512"><span class="linenum"> 512</span></a>                                                              'scormid' =&gt; <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>,
<a name="l513"><span class="linenum"> 513</span></a>                                                              'scoid' =&gt; <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>,
<a name="l514"><span class="linenum"> 514</span></a>                                                              'attempt' =&gt; <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>,
<a name="l515"><span class="linenum"> 515</span></a>                                                              'element' =&gt; <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>));
<a name="l516"><span class="linenum"> 516</span></a>      }
<a name="l517"><span class="linenum"> 517</span></a>      if (<a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>) {
<a name="l518"><span class="linenum"> 518</span></a>          if (<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a> != 'x.start.time' ) { // Don't update x.start.time - keep the original value.
<a name="l519"><span class="linenum"> 519</span></a>              if (<a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('value')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/value.html">value</a> != <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l520"><span class="linenum"> 520</span></a>                  <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('value')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/value.html">value</a> = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l521"><span class="linenum"> 521</span></a>                  <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('timemodified')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l522"><span class="linenum"> 522</span></a>                  <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('scorm_scoes_track', <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>);
<a name="l523"><span class="linenum"> 523</span></a>              }
<a name="l524"><span class="linenum"> 524</span></a>              <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> = <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('id')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l525"><span class="linenum"> 525</span></a>          }
<a name="l526"><span class="linenum"> 526</span></a>      } else {
<a name="l527"><span class="linenum"> 527</span></a>          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a> = new stdClass();
<a name="l528"><span class="linenum"> 528</span></a>          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('userid')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a> = <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>;
<a name="l529"><span class="linenum"> 529</span></a>          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('scormid')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/scormid.html">scormid</a> = <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>;
<a name="l530"><span class="linenum"> 530</span></a>          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('scoid')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/scoid.html">scoid</a> = <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>;
<a name="l531"><span class="linenum"> 531</span></a>          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('attempt')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/attempt.html">attempt</a> = <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>;
<a name="l532"><span class="linenum"> 532</span></a>          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('element')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/element.html">element</a> = <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>;
<a name="l533"><span class="linenum"> 533</span></a>          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('value')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/value.html">value</a> = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l534"><span class="linenum"> 534</span></a>          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('timemodified')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l535"><span class="linenum"> 535</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('scorm_scoes_track', <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>);
<a name="l536"><span class="linenum"> 536</span></a>          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('id')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>;
<a name="l537"><span class="linenum"> 537</span></a>      }
<a name="l538"><span class="linenum"> 538</span></a>  
<a name="l539"><span class="linenum"> 539</span></a>  <span class="comment">    // Trigger updating grades based on a given set of SCORM CMI elements.</span>
<a name="l540"><span class="linenum"> 540</span></a>      <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a> = false;
<a name="l541"><span class="linenum"> 541</span></a>      if (<a class="phpfunction" onClick="logFunction('strstr')" href="../../_functions/strstr.html" onMouseOver="phpfuncPopup(event,'strstr')">strstr</a>(<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, '.score.raw') ||
<a name="l542"><span class="linenum"> 542</span></a>          (<a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, array('cmi.completion_status', 'cmi.core.lesson_status', 'cmi.success_status'))
<a name="l543"><span class="linenum"> 543</span></a>           &amp;&amp; <a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('value')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/value.html">value</a>, array('completed', 'passed')))) {
<a name="l544"><span class="linenum"> 544</span></a>          <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('scorm', array('id' =&gt; <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>));
<a name="l545"><span class="linenum"> 545</span></a>          include_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../../mod/scorm/lib.php.html">/mod/scorm/lib.php</a>');
<a name="l546"><span class="linenum"> 546</span></a>          <a class="function" onClick="logFunction('scorm_update_grades')" href="../../_functions/scorm_update_grades.html" onMouseOver="funcPopup(event,'scorm_update_grades')">scorm_update_grades</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>);
<a name="l547"><span class="linenum"> 547</span></a>      }
<a name="l548"><span class="linenum"> 548</span></a>  
<a name="l549"><span class="linenum"> 549</span></a>  <span class="comment">    // Trigger CMI element events.</span>
<a name="l550"><span class="linenum"> 550</span></a>      if (<a class="phpfunction" onClick="logFunction('strstr')" href="../../_functions/strstr.html" onMouseOver="phpfuncPopup(event,'strstr')">strstr</a>(<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, '.score.raw') ||
<a name="l551"><span class="linenum"> 551</span></a>          (<a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, array('cmi.completion_status', 'cmi.core.lesson_status', 'cmi.success_status'))
<a name="l552"><span class="linenum"> 552</span></a>          &amp;&amp; <a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('value')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/value.html">value</a>, array('completed', 'failed', 'passed')))) {
<a name="l553"><span class="linenum"> 553</span></a>          if (!<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>) {
<a name="l554"><span class="linenum"> 554</span></a>              <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('scorm', array('id' =&gt; <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>));
<a name="l555"><span class="linenum"> 555</span></a>          }
<a name="l556"><span class="linenum"> 556</span></a>          <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('scorm', <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>);
<a name="l557"><span class="linenum"> 557</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a> = array(
<a name="l558"><span class="linenum"> 558</span></a>              'other' =&gt; array('attemptid' =&gt; <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>, 'cmielement' =&gt; <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, 'cmivalue' =&gt; <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('value')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/value.html">value</a>),
<a name="l559"><span class="linenum"> 559</span></a>              'objectid' =&gt; <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l560"><span class="linenum"> 560</span></a>              'context' =&gt; <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>),
<a name="l561"><span class="linenum"> 561</span></a>              'relateduserid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>
<a name="l562"><span class="linenum"> 562</span></a>          );
<a name="l563"><span class="linenum"> 563</span></a>          if (<a class="phpfunction" onClick="logFunction('strstr')" href="../../_functions/strstr.html" onMouseOver="phpfuncPopup(event,'strstr')">strstr</a>(<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, '.score.raw')) {
<a name="l564"><span class="linenum"> 564</span></a>  <span class="comment">            // Create score submitted event.</span>
<a name="l565"><span class="linenum"> 565</span></a>              <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a> = \mod_scorm\event\<a class="class" onClick="logClass('scoreraw_submitted')" href="../../_classes/scoreraw_submitted.html" onMouseOver="classPopup(event,'scoreraw_submitted')">scoreraw_submitted</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>);
<a name="l566"><span class="linenum"> 566</span></a>          } else {
<a name="l567"><span class="linenum"> 567</span></a>  <span class="comment">            // Create status submitted event.</span>
<a name="l568"><span class="linenum"> 568</span></a>              <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a> = \mod_scorm\event\<a class="class" onClick="logClass('status_submitted')" href="../../_classes/status_submitted.html" onMouseOver="classPopup(event,'status_submitted')">status_submitted</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>);
<a name="l569"><span class="linenum"> 569</span></a>          }
<a name="l570"><span class="linenum"> 570</span></a>  <span class="comment">        // Fix the missing track keys when the SCORM track record already exists, see $trackdata in datamodel.php.</span>
<a name="l571"><span class="linenum"> 571</span></a>  <span class="comment">        // There, for performances reasons, columns are limited to: element, id, value, timemodified.</span>
<a name="l572"><span class="linenum"> 572</span></a>  <span class="comment">        // Missing fields are: userid, scormid, scoid, attempt.</span>
<a name="l573"><span class="linenum"> 573</span></a>          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('userid')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a> = <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>;
<a name="l574"><span class="linenum"> 574</span></a>          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('scormid')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/scormid.html">scormid</a> = <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>;
<a name="l575"><span class="linenum"> 575</span></a>          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('scoid')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/scoid.html">scoid</a> = <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>;
<a name="l576"><span class="linenum"> 576</span></a>          <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('attempt')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/attempt.html">attempt</a> = <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>;
<a name="l577"><span class="linenum"> 577</span></a>  <span class="comment">        // Trigger submitted event.</span>
<a name="l578"><span class="linenum"> 578</span></a>          <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('add_record_snapshot')" href="../../_functions/add_record_snapshot.html" onMouseOver="funcPopup(event,'add_record_snapshot')">add_record_snapshot</a>('scorm_scoes_track', <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>);
<a name="l579"><span class="linenum"> 579</span></a>          <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('add_record_snapshot')" href="../../_functions/add_record_snapshot.html" onMouseOver="funcPopup(event,'add_record_snapshot')">add_record_snapshot</a>('course_modules', <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>);
<a name="l580"><span class="linenum"> 580</span></a>          <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('add_record_snapshot')" href="../../_functions/add_record_snapshot.html" onMouseOver="funcPopup(event,'add_record_snapshot')">add_record_snapshot</a>('scorm', <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>);
<a name="l581"><span class="linenum"> 581</span></a>          <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('trigger')" href="../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l582"><span class="linenum"> 582</span></a>      }
<a name="l583"><span class="linenum"> 583</span></a>  
<a name="l584"><span class="linenum"> 584</span></a>      return <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>;
<a name="l585"><span class="linenum"> 585</span></a>  }
<a name="l586"><span class="linenum"> 586</span></a>  
<a name="l587"><span class="linenum"> 587</span></a>  <span class="comment">/**</span>
<a name="l588"><span class="linenum"> 588</span></a>  <span class="comment"> * simple quick function to return true/false if this user has tracks in this scorm</span>
<a name="l589"><span class="linenum"> 589</span></a>  <span class="comment"> *</span>
<a name="l590"><span class="linenum"> 590</span></a>  <span class="comment"> * @param integer $scormid The scorm ID</span>
<a name="l591"><span class="linenum"> 591</span></a>  <span class="comment"> * @param integer $userid the users id</span>
<a name="l592"><span class="linenum"> 592</span></a>  <span class="comment"> * @return boolean (false if there are no tracks)</span>
<a name="l593"><span class="linenum"> 593</span></a>  <span class="comment"> */</span>
<a name="l594"><span class="linenum"> 594</span></a>  function <a class="function" onClick="logFunction('scorm_has_tracks')" href="../../_functions/scorm_has_tracks.html" onMouseOver="funcPopup(event,'scorm_has_tracks')">scorm_has_tracks</a>(<a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>) {
<a name="l595"><span class="linenum"> 595</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l596"><span class="linenum"> 596</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('scorm_scoes_track', array('userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, 'scormid' =&gt; <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>));
<a name="l597"><span class="linenum"> 597</span></a>  }
<a name="l598"><span class="linenum"> 598</span></a>  
<a name="l599"><span class="linenum"> 599</span></a>  function <a class="function" onClick="logFunction('scorm_get_tracks')" href="../../_functions/scorm_get_tracks.html" onMouseOver="funcPopup(event,'scorm_get_tracks')">scorm_get_tracks</a>(<a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>='') {
<a name="l600"><span class="linenum"> 600</span></a>  <span class="comment">    // Gets all tracks of specified sco and user.</span>
<a name="l601"><span class="linenum"> 601</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l602"><span class="linenum"> 602</span></a>  
<a name="l603"><span class="linenum"> 603</span></a>      if (empty(<a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>)) {
<a name="l604"><span class="linenum"> 604</span></a>          if (<a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('scorm_scoes', 'scorm', array('id' =&gt; <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>))) {
<a name="l605"><span class="linenum"> 605</span></a>              <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a> = <a class="function" onClick="logFunction('scorm_get_last_attempt')" href="../../_functions/scorm_get_last_attempt.html" onMouseOver="funcPopup(event,'scorm_get_last_attempt')">scorm_get_last_attempt</a>(<a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>);
<a name="l606"><span class="linenum"> 606</span></a>          } else {
<a name="l607"><span class="linenum"> 607</span></a>              <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a> = 1;
<a name="l608"><span class="linenum"> 608</span></a>          }
<a name="l609"><span class="linenum"> 609</span></a>      }
<a name="l610"><span class="linenum"> 610</span></a>      if (<a class="var it6825" onMouseOver="hilite(6825)" onMouseOut="lolite()" onClick="logVariable('tracks')" href="../../_variables/tracks.html">$tracks</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('scorm_scoes_track', array('userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, 'scoid' =&gt; <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>,
<a name="l611"><span class="linenum"> 611</span></a>                                                                'attempt' =&gt; <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>), 'element ASC')) {
<a name="l612"><span class="linenum"> 612</span></a>          <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a> = <a class="function" onClick="logFunction('scorm_format_interactions')" href="../../_functions/scorm_format_interactions.html" onMouseOver="funcPopup(event,'scorm_format_interactions')">scorm_format_interactions</a>(<a class="var it6825" onMouseOver="hilite(6825)" onMouseOut="lolite()" onClick="logVariable('tracks')" href="../../_variables/tracks.html">$tracks</a>);
<a name="l613"><span class="linenum"> 613</span></a>          <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('userid')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a> = <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>;
<a name="l614"><span class="linenum"> 614</span></a>          <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('scoid')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/scoid.html">scoid</a> = <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>;
<a name="l615"><span class="linenum"> 615</span></a>  
<a name="l616"><span class="linenum"> 616</span></a>          return <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>;
<a name="l617"><span class="linenum"> 617</span></a>      } else {
<a name="l618"><span class="linenum"> 618</span></a>          return false;
<a name="l619"><span class="linenum"> 619</span></a>      }
<a name="l620"><span class="linenum"> 620</span></a>  }
<a name="l621"><span class="linenum"> 621</span></a>  <span class="comment">/**</span>
<a name="l622"><span class="linenum"> 622</span></a>  <span class="comment"> * helper function to return a formatted list of interactions for reports.</span>
<a name="l623"><span class="linenum"> 623</span></a>  <span class="comment"> *</span>
<a name="l624"><span class="linenum"> 624</span></a>  <span class="comment"> * @param array $trackdata the records from scorm_scoes_track table</span>
<a name="l625"><span class="linenum"> 625</span></a>  <span class="comment"> * @return object formatted list of interactions</span>
<a name="l626"><span class="linenum"> 626</span></a>  <span class="comment"> */</span>
<a name="l627"><span class="linenum"> 627</span></a>  function <a class="function" onClick="logFunction('scorm_format_interactions')" href="../../_functions/scorm_format_interactions.html" onMouseOver="funcPopup(event,'scorm_format_interactions')">scorm_format_interactions</a>(<a class="var it5551" onMouseOver="hilite(5551)" onMouseOut="lolite()" onClick="logVariable('trackdata')" href="../../_variables/trackdata.html">$trackdata</a>) {
<a name="l628"><span class="linenum"> 628</span></a>      <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a> = new stdClass();
<a name="l629"><span class="linenum"> 629</span></a>  
<a name="l630"><span class="linenum"> 630</span></a>  <span class="comment">    // Defined in order to unify scorm1.2 and scorm2004.</span>
<a name="l631"><span class="linenum"> 631</span></a>      <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('score_raw')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/score_raw.html">score_raw</a> = '';
<a name="l632"><span class="linenum"> 632</span></a>      <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('status')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> = '';
<a name="l633"><span class="linenum"> 633</span></a>      <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('total_time')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/total_time.html">total_time</a> = '00:00:00';
<a name="l634"><span class="linenum"> 634</span></a>      <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('session_time')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/session_time.html">session_time</a> = '00:00:00';
<a name="l635"><span class="linenum"> 635</span></a>      <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('timemodified')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = 0;
<a name="l636"><span class="linenum"> 636</span></a>  
<a name="l637"><span class="linenum"> 637</span></a>      foreach (<a class="var it5551" onMouseOver="hilite(5551)" onMouseOut="lolite()" onClick="logVariable('trackdata')" href="../../_variables/trackdata.html">$trackdata</a> as <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>) {
<a name="l638"><span class="linenum"> 638</span></a>          <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a> = <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('element')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/element.html">element</a>;
<a name="l639"><span class="linenum"> 639</span></a>          <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;{<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>} = <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('value')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/value.html">value</a>;
<a name="l640"><span class="linenum"> 640</span></a>          switch (<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>) {
<a name="l641"><span class="linenum"> 641</span></a>              case 'cmi.core.lesson_status':
<a name="l642"><span class="linenum"> 642</span></a>              case 'cmi.completion_status':
<a name="l643"><span class="linenum"> 643</span></a>                  if (<a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('value')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/value.html">value</a> == 'not attempted') {
<a name="l644"><span class="linenum"> 644</span></a>                      <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('value')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/value.html">value</a> = 'notattempted';
<a name="l645"><span class="linenum"> 645</span></a>                  }
<a name="l646"><span class="linenum"> 646</span></a>                  <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('status')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> = <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('value')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/value.html">value</a>;
<a name="l647"><span class="linenum"> 647</span></a>                  break;
<a name="l648"><span class="linenum"> 648</span></a>              case 'cmi.core.score.raw':
<a name="l649"><span class="linenum"> 649</span></a>              case 'cmi.score.raw':
<a name="l650"><span class="linenum"> 650</span></a>                  <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('score_raw')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/score_raw.html">score_raw</a> = (float) sprintf('%2.2f', <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('value')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/value.html">value</a>);
<a name="l651"><span class="linenum"> 651</span></a>                  break;
<a name="l652"><span class="linenum"> 652</span></a>              case 'cmi.core.session_time':
<a name="l653"><span class="linenum"> 653</span></a>              case 'cmi.session_time':
<a name="l654"><span class="linenum"> 654</span></a>                  <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('session_time')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/session_time.html">session_time</a> = <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('value')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/value.html">value</a>;
<a name="l655"><span class="linenum"> 655</span></a>                  break;
<a name="l656"><span class="linenum"> 656</span></a>              case 'cmi.core.total_time':
<a name="l657"><span class="linenum"> 657</span></a>              case 'cmi.total_time':
<a name="l658"><span class="linenum"> 658</span></a>                  <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('total_time')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/total_time.html">total_time</a> = <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('value')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/value.html">value</a>;
<a name="l659"><span class="linenum"> 659</span></a>                  break;
<a name="l660"><span class="linenum"> 660</span></a>          }
<a name="l661"><span class="linenum"> 661</span></a>          if (isset(<a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('timemodified')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a>) &amp;&amp; (<a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('timemodified')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> &gt; <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('timemodified')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a>)) {
<a name="l662"><span class="linenum"> 662</span></a>              <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('timemodified')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('timemodified')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a>;
<a name="l663"><span class="linenum"> 663</span></a>          }
<a name="l664"><span class="linenum"> 664</span></a>      }
<a name="l665"><span class="linenum"> 665</span></a>  
<a name="l666"><span class="linenum"> 666</span></a>      return <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>;
<a name="l667"><span class="linenum"> 667</span></a>  }
<a name="l668"><span class="linenum"> 668</span></a>  <span class="comment">/* Find the start and finsh time for a a given SCO attempt</span>
<a name="l669"><span class="linenum"> 669</span></a>  <span class="comment"> *</span>
<a name="l670"><span class="linenum"> 670</span></a>  <span class="comment"> * @param int $scormid SCORM Id</span>
<a name="l671"><span class="linenum"> 671</span></a>  <span class="comment"> * @param int $scoid SCO Id</span>
<a name="l672"><span class="linenum"> 672</span></a>  <span class="comment"> * @param int $userid User Id</span>
<a name="l673"><span class="linenum"> 673</span></a>  <span class="comment"> * @param int $attemt Attempt Id</span>
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment"> *</span>
<a name="l675"><span class="linenum"> 675</span></a>  <span class="comment"> * @return object start and finsh time EPOC secods</span>
<a name="l676"><span class="linenum"> 676</span></a>  <span class="comment"> *</span>
<a name="l677"><span class="linenum"> 677</span></a>  <span class="comment"> */</span>
<a name="l678"><span class="linenum"> 678</span></a>  function <a class="function" onClick="logFunction('scorm_get_sco_runtime')" href="../../_functions/scorm_get_sco_runtime.html" onMouseOver="funcPopup(event,'scorm_get_sco_runtime')">scorm_get_sco_runtime</a>(<a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>, <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>=1) {
<a name="l679"><span class="linenum"> 679</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l680"><span class="linenum"> 680</span></a>  
<a name="l681"><span class="linenum"> 681</span></a>      <a class="var it10754" onMouseOver="hilite(10754)" onMouseOut="lolite()" onClick="logVariable('timedata')" href="../../_variables/timedata.html">$timedata</a> = new stdClass();
<a name="l682"><span class="linenum"> 682</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, 'scormid' =&gt; <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>, 'attempt' =&gt; <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>);
<a name="l683"><span class="linenum"> 683</span></a>      if (!empty(<a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>)) {
<a name="l684"><span class="linenum"> 684</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['scoid'] = <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>;
<a name="l685"><span class="linenum"> 685</span></a>      }
<a name="l686"><span class="linenum"> 686</span></a>      <a class="var it6825" onMouseOver="hilite(6825)" onMouseOut="lolite()" onClick="logVariable('tracks')" href="../../_variables/tracks.html">$tracks</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('scorm_scoes_track', <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, &quot;timemodified ASC&quot;);
<a name="l687"><span class="linenum"> 687</span></a>      if (<a class="var it6825" onMouseOver="hilite(6825)" onMouseOut="lolite()" onClick="logVariable('tracks')" href="../../_variables/tracks.html">$tracks</a>) {
<a name="l688"><span class="linenum"> 688</span></a>          <a class="var it6825" onMouseOver="hilite(6825)" onMouseOut="lolite()" onClick="logVariable('tracks')" href="../../_variables/tracks.html">$tracks</a> = <a class="phpfunction" onClick="logFunction('array_values')" href="../../_functions/array_values.html" onMouseOver="phpfuncPopup(event,'array_values')">array_values</a>(<a class="var it6825" onMouseOver="hilite(6825)" onMouseOut="lolite()" onClick="logVariable('tracks')" href="../../_variables/tracks.html">$tracks</a>);
<a name="l689"><span class="linenum"> 689</span></a>      }
<a name="l690"><span class="linenum"> 690</span></a>  
<a name="l691"><span class="linenum"> 691</span></a>      if (<a class="var it6825" onMouseOver="hilite(6825)" onMouseOut="lolite()" onClick="logVariable('tracks')" href="../../_variables/tracks.html">$tracks</a>) {
<a name="l692"><span class="linenum"> 692</span></a>          <a class="var it10754" onMouseOver="hilite(10754)" onMouseOut="lolite()" onClick="logVariable('timedata')" href="../../_variables/timedata.html">$timedata</a>-&gt;<a onClick="logVariable('start')" class="var it45077" onMouseOver="hilite(45077)" onMouseOut="lolite()" href="../../_variables/start.html">start</a> = <a class="var it6825" onMouseOver="hilite(6825)" onMouseOut="lolite()" onClick="logVariable('tracks')" href="../../_variables/tracks.html">$tracks</a>[0]-&gt;timemodified;
<a name="l693"><span class="linenum"> 693</span></a>      } else {
<a name="l694"><span class="linenum"> 694</span></a>          <a class="var it10754" onMouseOver="hilite(10754)" onMouseOut="lolite()" onClick="logVariable('timedata')" href="../../_variables/timedata.html">$timedata</a>-&gt;<a onClick="logVariable('start')" class="var it45077" onMouseOver="hilite(45077)" onMouseOut="lolite()" href="../../_variables/start.html">start</a> = false;
<a name="l695"><span class="linenum"> 695</span></a>      }
<a name="l696"><span class="linenum"> 696</span></a>      if (<a class="var it6825" onMouseOver="hilite(6825)" onMouseOut="lolite()" onClick="logVariable('tracks')" href="../../_variables/tracks.html">$tracks</a> &amp;&amp; <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a> = <a class="phpfunction" onClick="logFunction('array_pop')" href="../../_functions/array_pop.html" onMouseOver="phpfuncPopup(event,'array_pop')">array_pop</a>(<a class="var it6825" onMouseOver="hilite(6825)" onMouseOut="lolite()" onClick="logVariable('tracks')" href="../../_variables/tracks.html">$tracks</a>)) {
<a name="l697"><span class="linenum"> 697</span></a>          <a class="var it10754" onMouseOver="hilite(10754)" onMouseOut="lolite()" onClick="logVariable('timedata')" href="../../_variables/timedata.html">$timedata</a>-&gt;<a onClick="logVariable('finish')" class="var it45077" onMouseOver="hilite(45077)" onMouseOut="lolite()" href="../../_variables/finish.html">finish</a> = <a class="var it6706" onMouseOver="hilite(6706)" onMouseOut="lolite()" onClick="logVariable('track')" href="../../_variables/track.html">$track</a>-&gt;<a onClick="logVariable('timemodified')" class="var it44620" onMouseOver="hilite(44620)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a>;
<a name="l698"><span class="linenum"> 698</span></a>      } else {
<a name="l699"><span class="linenum"> 699</span></a>          <a class="var it10754" onMouseOver="hilite(10754)" onMouseOut="lolite()" onClick="logVariable('timedata')" href="../../_variables/timedata.html">$timedata</a>-&gt;<a onClick="logVariable('finish')" class="var it45077" onMouseOver="hilite(45077)" onMouseOut="lolite()" href="../../_variables/finish.html">finish</a> = <a class="var it10754" onMouseOver="hilite(10754)" onMouseOut="lolite()" onClick="logVariable('timedata')" href="../../_variables/timedata.html">$timedata</a>-&gt;<a onClick="logVariable('start')" class="var it45077" onMouseOver="hilite(45077)" onMouseOut="lolite()" href="../../_variables/start.html">start</a>;
<a name="l700"><span class="linenum"> 700</span></a>      }
<a name="l701"><span class="linenum"> 701</span></a>      return <a class="var it10754" onMouseOver="hilite(10754)" onMouseOut="lolite()" onClick="logVariable('timedata')" href="../../_variables/timedata.html">$timedata</a>;
<a name="l702"><span class="linenum"> 702</span></a>  }
<a name="l703"><span class="linenum"> 703</span></a>  
<a name="l704"><span class="linenum"> 704</span></a>  function <a class="function" onClick="logFunction('scorm_grade_user_attempt')" href="../../_functions/scorm_grade_user_attempt.html" onMouseOver="funcPopup(event,'scorm_grade_user_attempt')">scorm_grade_user_attempt</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>=1) {
<a name="l705"><span class="linenum"> 705</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l706"><span class="linenum"> 706</span></a>      <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a> = new stdClass();
<a name="l707"><span class="linenum"> 707</span></a>      <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('scoes')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/scoes.html">scoes</a> = 0;
<a name="l708"><span class="linenum"> 708</span></a>      <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('values')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/values.html">values</a> = 0;
<a name="l709"><span class="linenum"> 709</span></a>      <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('max')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/max.html">max</a> = 0;
<a name="l710"><span class="linenum"> 710</span></a>      <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('sum')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/sum.html">sum</a> = 0;
<a name="l711"><span class="linenum"> 711</span></a>      <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('lastmodify')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/lastmodify.html">lastmodify</a> = 0;
<a name="l712"><span class="linenum"> 712</span></a>  
<a name="l713"><span class="linenum"> 713</span></a>      if (!<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('scorm_scoes', array('scorm' =&gt; <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>), 'sortorder, id')) {
<a name="l714"><span class="linenum"> 714</span></a>          return null;
<a name="l715"><span class="linenum"> 715</span></a>      }
<a name="l716"><span class="linenum"> 716</span></a>  
<a name="l717"><span class="linenum"> 717</span></a>      foreach (<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a> as <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>) {
<a name="l718"><span class="linenum"> 718</span></a>          if (<a class="var it7917" onMouseOver="hilite(7917)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../../_variables/userdata.html">$userdata</a> = <a class="function" onClick="logFunction('scorm_get_tracks')" href="../../_functions/scorm_get_tracks.html" onMouseOver="funcPopup(event,'scorm_get_tracks')">scorm_get_tracks</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>)) {
<a name="l719"><span class="linenum"> 719</span></a>              if ((<a class="var it7917" onMouseOver="hilite(7917)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../../_variables/userdata.html">$userdata</a>-&gt;<a onClick="logVariable('status')" class="var it43313" onMouseOver="hilite(43313)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> == 'completed') || (<a class="var it7917" onMouseOver="hilite(7917)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../../_variables/userdata.html">$userdata</a>-&gt;<a onClick="logVariable('status')" class="var it43313" onMouseOver="hilite(43313)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> == 'passed')) {
<a name="l720"><span class="linenum"> 720</span></a>                  <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('scoes')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/scoes.html">scoes</a>++;
<a name="l721"><span class="linenum"> 721</span></a>              }
<a name="l722"><span class="linenum"> 722</span></a>              if (!empty(<a class="var it7917" onMouseOver="hilite(7917)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../../_variables/userdata.html">$userdata</a>-&gt;<a onClick="logVariable('score_raw')" class="var it43313" onMouseOver="hilite(43313)" onMouseOut="lolite()" href="../../_variables/score_raw.html">score_raw</a>) || (isset(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('type')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/type.html">type</a>) &amp;&amp; <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('type')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/type.html">type</a> == 'sco' &amp;&amp; isset(<a class="var it7917" onMouseOver="hilite(7917)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../../_variables/userdata.html">$userdata</a>-&gt;<a onClick="logVariable('score_raw')" class="var it43313" onMouseOver="hilite(43313)" onMouseOut="lolite()" href="../../_variables/score_raw.html">score_raw</a>))) {
<a name="l723"><span class="linenum"> 723</span></a>                  <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('values')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/values.html">values</a>++;
<a name="l724"><span class="linenum"> 724</span></a>                  <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('sum')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/sum.html">sum</a> += <a class="var it7917" onMouseOver="hilite(7917)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../../_variables/userdata.html">$userdata</a>-&gt;<a onClick="logVariable('score_raw')" class="var it43313" onMouseOver="hilite(43313)" onMouseOut="lolite()" href="../../_variables/score_raw.html">score_raw</a>;
<a name="l725"><span class="linenum"> 725</span></a>                  <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('max')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/max.html">max</a> = (<a class="var it7917" onMouseOver="hilite(7917)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../../_variables/userdata.html">$userdata</a>-&gt;<a onClick="logVariable('score_raw')" class="var it43313" onMouseOver="hilite(43313)" onMouseOut="lolite()" href="../../_variables/score_raw.html">score_raw</a> &gt; <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('max')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/max.html">max</a>) ? <a class="var it7917" onMouseOver="hilite(7917)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../../_variables/userdata.html">$userdata</a>-&gt;<a onClick="logVariable('score_raw')" class="var it43313" onMouseOver="hilite(43313)" onMouseOut="lolite()" href="../../_variables/score_raw.html">score_raw</a> : <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('max')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/max.html">max</a>;
<a name="l726"><span class="linenum"> 726</span></a>                  if (isset(<a class="var it7917" onMouseOver="hilite(7917)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../../_variables/userdata.html">$userdata</a>-&gt;<a onClick="logVariable('timemodified')" class="var it43313" onMouseOver="hilite(43313)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a>) &amp;&amp; (<a class="var it7917" onMouseOver="hilite(7917)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../../_variables/userdata.html">$userdata</a>-&gt;<a onClick="logVariable('timemodified')" class="var it43313" onMouseOver="hilite(43313)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> &gt; <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('lastmodify')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/lastmodify.html">lastmodify</a>)) {
<a name="l727"><span class="linenum"> 727</span></a>                      <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('lastmodify')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/lastmodify.html">lastmodify</a> = <a class="var it7917" onMouseOver="hilite(7917)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../../_variables/userdata.html">$userdata</a>-&gt;<a onClick="logVariable('timemodified')" class="var it43313" onMouseOver="hilite(43313)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a>;
<a name="l728"><span class="linenum"> 728</span></a>                  } else {
<a name="l729"><span class="linenum"> 729</span></a>                      <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('lastmodify')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/lastmodify.html">lastmodify</a> = 0;
<a name="l730"><span class="linenum"> 730</span></a>                  }
<a name="l731"><span class="linenum"> 731</span></a>              }
<a name="l732"><span class="linenum"> 732</span></a>          }
<a name="l733"><span class="linenum"> 733</span></a>      }
<a name="l734"><span class="linenum"> 734</span></a>      switch (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('grademethod')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/grademethod.html">grademethod</a>) {
<a name="l735"><span class="linenum"> 735</span></a>          case <a class="constant" onClick="logConstant('GRADEHIGHEST')" href="../../_constants/GRADEHIGHEST.html" onMouseOver="constPopup(event,'GRADEHIGHEST')">GRADEHIGHEST</a>:
<a name="l736"><span class="linenum"> 736</span></a>              <a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('score')" href="../../_variables/score.html">$score</a> = (float) <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('max')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/max.html">max</a>;
<a name="l737"><span class="linenum"> 737</span></a>          break;
<a name="l738"><span class="linenum"> 738</span></a>          case <a class="constant" onClick="logConstant('GRADEAVERAGE')" href="../../_constants/GRADEAVERAGE.html" onMouseOver="constPopup(event,'GRADEAVERAGE')">GRADEAVERAGE</a>:
<a name="l739"><span class="linenum"> 739</span></a>              if (<a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('values')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/values.html">values</a> &gt; 0) {
<a name="l740"><span class="linenum"> 740</span></a>                  <a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('score')" href="../../_variables/score.html">$score</a> = <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('sum')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/sum.html">sum</a> / <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('values')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/values.html">values</a>;
<a name="l741"><span class="linenum"> 741</span></a>              } else {
<a name="l742"><span class="linenum"> 742</span></a>                  <a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('score')" href="../../_variables/score.html">$score</a> = 0;
<a name="l743"><span class="linenum"> 743</span></a>              }
<a name="l744"><span class="linenum"> 744</span></a>          break;
<a name="l745"><span class="linenum"> 745</span></a>          case <a class="constant" onClick="logConstant('GRADESUM')" href="../../_constants/GRADESUM.html" onMouseOver="constPopup(event,'GRADESUM')">GRADESUM</a>:
<a name="l746"><span class="linenum"> 746</span></a>              <a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('score')" href="../../_variables/score.html">$score</a> = <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('sum')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/sum.html">sum</a>;
<a name="l747"><span class="linenum"> 747</span></a>          break;
<a name="l748"><span class="linenum"> 748</span></a>          case <a class="constant" onClick="logConstant('GRADESCOES')" href="../../_constants/GRADESCOES.html" onMouseOver="constPopup(event,'GRADESCOES')">GRADESCOES</a>:
<a name="l749"><span class="linenum"> 749</span></a>              <a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('score')" href="../../_variables/score.html">$score</a> = <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('scoes')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/scoes.html">scoes</a>;
<a name="l750"><span class="linenum"> 750</span></a>          break;
<a name="l751"><span class="linenum"> 751</span></a>          default:
<a name="l752"><span class="linenum"> 752</span></a>              <a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('score')" href="../../_variables/score.html">$score</a> = <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>-&gt;<a onClick="logVariable('max')" class="var it45078" onMouseOver="hilite(45078)" onMouseOut="lolite()" href="../../_variables/max.html">max</a>;   <span class="comment">// Remote Learner GRADEHIGHEST is default.</span>
<a name="l753"><span class="linenum"> 753</span></a>      }
<a name="l754"><span class="linenum"> 754</span></a>  
<a name="l755"><span class="linenum"> 755</span></a>      return <a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('score')" href="../../_variables/score.html">$score</a>;
<a name="l756"><span class="linenum"> 756</span></a>  }
<a name="l757"><span class="linenum"> 757</span></a>  
<a name="l758"><span class="linenum"> 758</span></a>  function <a class="function" onClick="logFunction('scorm_grade_user')" href="../../_functions/scorm_grade_user.html" onMouseOver="funcPopup(event,'scorm_grade_user')">scorm_grade_user</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>) {
<a name="l759"><span class="linenum"> 759</span></a>  
<a name="l760"><span class="linenum"> 760</span></a>  <span class="comment">    // Ensure we dont grade user beyond $scorm-&gt;maxattempt settings.</span>
<a name="l761"><span class="linenum"> 761</span></a>      <a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('lastattempt')" href="../../_variables/lastattempt.html">$lastattempt</a> = <a class="function" onClick="logFunction('scorm_get_last_attempt')" href="../../_functions/scorm_get_last_attempt.html" onMouseOver="funcPopup(event,'scorm_get_last_attempt')">scorm_get_last_attempt</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>);
<a name="l762"><span class="linenum"> 762</span></a>      if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('maxattempt')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/maxattempt.html">maxattempt</a> != 0 &amp;&amp; <a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('lastattempt')" href="../../_variables/lastattempt.html">$lastattempt</a> &gt;= <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('maxattempt')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/maxattempt.html">maxattempt</a>) {
<a name="l763"><span class="linenum"> 763</span></a>          <a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('lastattempt')" href="../../_variables/lastattempt.html">$lastattempt</a> = <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('maxattempt')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/maxattempt.html">maxattempt</a>;
<a name="l764"><span class="linenum"> 764</span></a>      }
<a name="l765"><span class="linenum"> 765</span></a>  
<a name="l766"><span class="linenum"> 766</span></a>      switch (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('whatgrade')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/whatgrade.html">whatgrade</a>) {
<a name="l767"><span class="linenum"> 767</span></a>          case <a class="constant" onClick="logConstant('FIRSTATTEMPT')" href="../../_constants/FIRSTATTEMPT.html" onMouseOver="constPopup(event,'FIRSTATTEMPT')">FIRSTATTEMPT</a>:
<a name="l768"><span class="linenum"> 768</span></a>              return <a class="function" onClick="logFunction('scorm_grade_user_attempt')" href="../../_functions/scorm_grade_user_attempt.html" onMouseOver="funcPopup(event,'scorm_grade_user_attempt')">scorm_grade_user_attempt</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, 1);
<a name="l769"><span class="linenum"> 769</span></a>          break;
<a name="l770"><span class="linenum"> 770</span></a>          case <a class="constant" onClick="logConstant('LASTATTEMPT')" href="../../_constants/LASTATTEMPT.html" onMouseOver="constPopup(event,'LASTATTEMPT')">LASTATTEMPT</a>:
<a name="l771"><span class="linenum"> 771</span></a>              return <a class="function" onClick="logFunction('scorm_grade_user_attempt')" href="../../_functions/scorm_grade_user_attempt.html" onMouseOver="funcPopup(event,'scorm_grade_user_attempt')">scorm_grade_user_attempt</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="function" onClick="logFunction('scorm_get_last_completed_attempt')" href="../../_functions/scorm_get_last_completed_attempt.html" onMouseOver="funcPopup(event,'scorm_get_last_completed_attempt')">scorm_get_last_completed_attempt</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>));
<a name="l772"><span class="linenum"> 772</span></a>          break;
<a name="l773"><span class="linenum"> 773</span></a>          case <a class="constant" onClick="logConstant('HIGHESTATTEMPT')" href="../../_constants/HIGHESTATTEMPT.html" onMouseOver="constPopup(event,'HIGHESTATTEMPT')">HIGHESTATTEMPT</a>:
<a name="l774"><span class="linenum"> 774</span></a>              <a class="var it3860" onMouseOver="hilite(3860)" onMouseOut="lolite()" onClick="logVariable('maxscore')" href="../../_variables/maxscore.html">$maxscore</a> = 0;
<a name="l775"><span class="linenum"> 775</span></a>              for (<a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a> = 1; <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a> &lt;= <a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('lastattempt')" href="../../_variables/lastattempt.html">$lastattempt</a>; <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>++) {
<a name="l776"><span class="linenum"> 776</span></a>                  <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a> = <a class="function" onClick="logFunction('scorm_grade_user_attempt')" href="../../_functions/scorm_grade_user_attempt.html" onMouseOver="funcPopup(event,'scorm_grade_user_attempt')">scorm_grade_user_attempt</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>);
<a name="l777"><span class="linenum"> 777</span></a>                  <a class="var it3860" onMouseOver="hilite(3860)" onMouseOut="lolite()" onClick="logVariable('maxscore')" href="../../_variables/maxscore.html">$maxscore</a> = <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a> &gt; <a class="var it3860" onMouseOver="hilite(3860)" onMouseOut="lolite()" onClick="logVariable('maxscore')" href="../../_variables/maxscore.html">$maxscore</a> ? <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a> : <a class="var it3860" onMouseOver="hilite(3860)" onMouseOut="lolite()" onClick="logVariable('maxscore')" href="../../_variables/maxscore.html">$maxscore</a>;
<a name="l778"><span class="linenum"> 778</span></a>              }
<a name="l779"><span class="linenum"> 779</span></a>              return <a class="var it3860" onMouseOver="hilite(3860)" onMouseOut="lolite()" onClick="logVariable('maxscore')" href="../../_variables/maxscore.html">$maxscore</a>;
<a name="l780"><span class="linenum"> 780</span></a>  
<a name="l781"><span class="linenum"> 781</span></a>          break;
<a name="l782"><span class="linenum"> 782</span></a>          case <a class="constant" onClick="logConstant('AVERAGEATTEMPT')" href="../../_constants/AVERAGEATTEMPT.html" onMouseOver="constPopup(event,'AVERAGEATTEMPT')">AVERAGEATTEMPT</a>:
<a name="l783"><span class="linenum"> 783</span></a>              <a class="var it10757" onMouseOver="hilite(10757)" onMouseOut="lolite()" onClick="logVariable('attemptcount')" href="../../_variables/attemptcount.html">$attemptcount</a> = <a class="function" onClick="logFunction('scorm_get_attempt_count')" href="../../_functions/scorm_get_attempt_count.html" onMouseOver="funcPopup(event,'scorm_get_attempt_count')">scorm_get_attempt_count</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, true, true);
<a name="l784"><span class="linenum"> 784</span></a>              if (empty(<a class="var it10757" onMouseOver="hilite(10757)" onMouseOut="lolite()" onClick="logVariable('attemptcount')" href="../../_variables/attemptcount.html">$attemptcount</a>)) {
<a name="l785"><span class="linenum"> 785</span></a>                  return 0;
<a name="l786"><span class="linenum"> 786</span></a>              } else {
<a name="l787"><span class="linenum"> 787</span></a>                  <a class="var it10757" onMouseOver="hilite(10757)" onMouseOut="lolite()" onClick="logVariable('attemptcount')" href="../../_variables/attemptcount.html">$attemptcount</a> = <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it10757" onMouseOver="hilite(10757)" onMouseOut="lolite()" onClick="logVariable('attemptcount')" href="../../_variables/attemptcount.html">$attemptcount</a>);
<a name="l788"><span class="linenum"> 788</span></a>              }
<a name="l789"><span class="linenum"> 789</span></a>              <a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('lastattempt')" href="../../_variables/lastattempt.html">$lastattempt</a> = <a class="function" onClick="logFunction('scorm_get_last_attempt')" href="../../_functions/scorm_get_last_attempt.html" onMouseOver="funcPopup(event,'scorm_get_last_attempt')">scorm_get_last_attempt</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>);
<a name="l790"><span class="linenum"> 790</span></a>              <a class="var it10758" onMouseOver="hilite(10758)" onMouseOut="lolite()" onClick="logVariable('sumscore')" href="../../_variables/sumscore.html">$sumscore</a> = 0;
<a name="l791"><span class="linenum"> 791</span></a>              for (<a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a> = 1; <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a> &lt;= <a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('lastattempt')" href="../../_variables/lastattempt.html">$lastattempt</a>; <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>++) {
<a name="l792"><span class="linenum"> 792</span></a>                  <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a> = <a class="function" onClick="logFunction('scorm_grade_user_attempt')" href="../../_functions/scorm_grade_user_attempt.html" onMouseOver="funcPopup(event,'scorm_grade_user_attempt')">scorm_grade_user_attempt</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>);
<a name="l793"><span class="linenum"> 793</span></a>                  <a class="var it10758" onMouseOver="hilite(10758)" onMouseOut="lolite()" onClick="logVariable('sumscore')" href="../../_variables/sumscore.html">$sumscore</a> += <a class="var it10755" onMouseOver="hilite(10755)" onMouseOut="lolite()" onClick="logVariable('attemptscore')" href="../../_variables/attemptscore.html">$attemptscore</a>;
<a name="l794"><span class="linenum"> 794</span></a>              }
<a name="l795"><span class="linenum"> 795</span></a>  
<a name="l796"><span class="linenum"> 796</span></a>              return <a class="phpfunction" onClick="logFunction('round')" href="../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(<a class="var it10758" onMouseOver="hilite(10758)" onMouseOut="lolite()" onClick="logVariable('sumscore')" href="../../_variables/sumscore.html">$sumscore</a> / <a class="var it10757" onMouseOver="hilite(10757)" onMouseOut="lolite()" onClick="logVariable('attemptcount')" href="../../_variables/attemptcount.html">$attemptcount</a>);
<a name="l797"><span class="linenum"> 797</span></a>          break;
<a name="l798"><span class="linenum"> 798</span></a>      }
<a name="l799"><span class="linenum"> 799</span></a>  }
<a name="l800"><span class="linenum"> 800</span></a>  
<a name="l801"><span class="linenum"> 801</span></a>  function <a class="function" onClick="logFunction('scorm_count_launchable')" href="../../_functions/scorm_count_launchable.html" onMouseOver="funcPopup(event,'scorm_count_launchable')">scorm_count_launchable</a>(<a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>, <a class="var it7989" onMouseOver="hilite(7989)" onMouseOut="lolite()" onClick="logVariable('organization')" href="../../_variables/organization.html">$organization</a>='') {
<a name="l802"><span class="linenum"> 802</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l803"><span class="linenum"> 803</span></a>  
<a name="l804"><span class="linenum"> 804</span></a>      <a class="var it10759" onMouseOver="hilite(10759)" onMouseOut="lolite()" onClick="logVariable('sqlorganization')" href="../../_variables/sqlorganization.html">$sqlorganization</a> = '';
<a name="l805"><span class="linenum"> 805</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array(<a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>);
<a name="l806"><span class="linenum"> 806</span></a>      if (!empty(<a class="var it7989" onMouseOver="hilite(7989)" onMouseOut="lolite()" onClick="logVariable('organization')" href="../../_variables/organization.html">$organization</a>)) {
<a name="l807"><span class="linenum"> 807</span></a>          <a class="var it10759" onMouseOver="hilite(10759)" onMouseOut="lolite()" onClick="logVariable('sqlorganization')" href="../../_variables/sqlorganization.html">$sqlorganization</a> = &quot; AND organization=?&quot;;
<a name="l808"><span class="linenum"> 808</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>[] = <a class="var it7989" onMouseOver="hilite(7989)" onMouseOut="lolite()" onClick="logVariable('organization')" href="../../_variables/organization.html">$organization</a>;
<a name="l809"><span class="linenum"> 809</span></a>      }
<a name="l810"><span class="linenum"> 810</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records_select')" href="../../_functions/count_records_select.html" onMouseOver="funcPopup(event,'count_records_select')">count_records_select</a>('scorm_scoes', &quot;scorm = ? <a class="var it10759" onMouseOver="hilite(10759)" onMouseOut="lolite()" onClick="logVariable('sqlorganization')" href="../../_variables/sqlorganization.html">$sqlorganization</a> AND &quot;.
<a name="l811"><span class="linenum"> 811</span></a>                                          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_isnotempty')" href="../../_functions/sql_isnotempty.html" onMouseOver="funcPopup(event,'sql_isnotempty')">sql_isnotempty</a>('scorm_scoes', 'launch', false, true),
<a name="l812"><span class="linenum"> 812</span></a>                                          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l813"><span class="linenum"> 813</span></a>  }
<a name="l814"><span class="linenum"> 814</span></a>  
<a name="l815"><span class="linenum"> 815</span></a>  <span class="comment">/**</span>
<a name="l816"><span class="linenum"> 816</span></a>  <span class="comment"> * Returns the last attempt used - if no attempts yet, returns 1 for first attempt</span>
<a name="l817"><span class="linenum"> 817</span></a>  <span class="comment"> *</span>
<a name="l818"><span class="linenum"> 818</span></a>  <span class="comment"> * @param int $scormid the id of the scorm.</span>
<a name="l819"><span class="linenum"> 819</span></a>  <span class="comment"> * @param int $userid the id of the user.</span>
<a name="l820"><span class="linenum"> 820</span></a>  <span class="comment"> *</span>
<a name="l821"><span class="linenum"> 821</span></a>  <span class="comment"> * @return int The attempt number to use.</span>
<a name="l822"><span class="linenum"> 822</span></a>  <span class="comment"> */</span>
<a name="l823"><span class="linenum"> 823</span></a>  function <a class="function" onClick="logFunction('scorm_get_last_attempt')" href="../../_functions/scorm_get_last_attempt.html" onMouseOver="funcPopup(event,'scorm_get_last_attempt')">scorm_get_last_attempt</a>(<a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>) {
<a name="l824"><span class="linenum"> 824</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l825"><span class="linenum"> 825</span></a>  
<a name="l826"><span class="linenum"> 826</span></a>  <span class="comment">    // Find the last attempt number for the given user id and scorm id.</span>
<a name="l827"><span class="linenum"> 827</span></a>      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;SELECT <a class="phpfunction" onClick="logFunction('MAX')" href="../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">MAX</a>(attempt)
<a name="l828"><span class="linenum"> 828</span></a>                FROM {scorm_scoes_track}
<a name="l829"><span class="linenum"> 829</span></a>               WHERE userid = ? AND scormid = ?&quot;;
<a name="l830"><span class="linenum"> 830</span></a>      <a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('lastattempt')" href="../../_variables/lastattempt.html">$lastattempt</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field_sql')" href="../../_functions/get_field_sql.html" onMouseOver="funcPopup(event,'get_field_sql')">get_field_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>));
<a name="l831"><span class="linenum"> 831</span></a>      if (empty(<a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('lastattempt')" href="../../_variables/lastattempt.html">$lastattempt</a>)) {
<a name="l832"><span class="linenum"> 832</span></a>          return '1';
<a name="l833"><span class="linenum"> 833</span></a>      } else {
<a name="l834"><span class="linenum"> 834</span></a>          return <a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('lastattempt')" href="../../_variables/lastattempt.html">$lastattempt</a>;
<a name="l835"><span class="linenum"> 835</span></a>      }
<a name="l836"><span class="linenum"> 836</span></a>  }
<a name="l837"><span class="linenum"> 837</span></a>  
<a name="l838"><span class="linenum"> 838</span></a>  <span class="comment">/**</span>
<a name="l839"><span class="linenum"> 839</span></a>  <span class="comment"> * Returns the last completed attempt used - if no completed attempts yet, returns 1 for first attempt</span>
<a name="l840"><span class="linenum"> 840</span></a>  <span class="comment"> *</span>
<a name="l841"><span class="linenum"> 841</span></a>  <span class="comment"> * @param int $scormid the id of the scorm.</span>
<a name="l842"><span class="linenum"> 842</span></a>  <span class="comment"> * @param int $userid the id of the user.</span>
<a name="l843"><span class="linenum"> 843</span></a>  <span class="comment"> *</span>
<a name="l844"><span class="linenum"> 844</span></a>  <span class="comment"> * @return int The attempt number to use.</span>
<a name="l845"><span class="linenum"> 845</span></a>  <span class="comment"> */</span>
<a name="l846"><span class="linenum"> 846</span></a>  function <a class="function" onClick="logFunction('scorm_get_last_completed_attempt')" href="../../_functions/scorm_get_last_completed_attempt.html" onMouseOver="funcPopup(event,'scorm_get_last_completed_attempt')">scorm_get_last_completed_attempt</a>(<a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>) {
<a name="l847"><span class="linenum"> 847</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l848"><span class="linenum"> 848</span></a>  
<a name="l849"><span class="linenum"> 849</span></a>  <span class="comment">    // Find the last completed attempt number for the given user id and scorm id.</span>
<a name="l850"><span class="linenum"> 850</span></a>      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;SELECT <a class="phpfunction" onClick="logFunction('MAX')" href="../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">MAX</a>(attempt)
<a name="l851"><span class="linenum"> 851</span></a>                FROM {scorm_scoes_track}
<a name="l852"><span class="linenum"> 852</span></a>               WHERE userid = ? AND scormid = ?
<a name="l853"><span class="linenum"> 853</span></a>                 AND (&quot;.<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_compare_text')" href="../../_functions/sql_compare_text.html" onMouseOver="funcPopup(event,'sql_compare_text')">sql_compare_text</a>('value').&quot; = &quot;.<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_compare_text')" href="../../_functions/sql_compare_text.html" onMouseOver="funcPopup(event,'sql_compare_text')">sql_compare_text</a>('?').&quot; OR &quot;.
<a name="l854"><span class="linenum"> 854</span></a>                        <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_compare_text')" href="../../_functions/sql_compare_text.html" onMouseOver="funcPopup(event,'sql_compare_text')">sql_compare_text</a>('value').&quot; = &quot;.<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_compare_text')" href="../../_functions/sql_compare_text.html" onMouseOver="funcPopup(event,'sql_compare_text')">sql_compare_text</a>('?').&quot;)&quot;;
<a name="l855"><span class="linenum"> 855</span></a>      <a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('lastattempt')" href="../../_variables/lastattempt.html">$lastattempt</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field_sql')" href="../../_functions/get_field_sql.html" onMouseOver="funcPopup(event,'get_field_sql')">get_field_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>, 'completed', 'passed'));
<a name="l856"><span class="linenum"> 856</span></a>      if (empty(<a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('lastattempt')" href="../../_variables/lastattempt.html">$lastattempt</a>)) {
<a name="l857"><span class="linenum"> 857</span></a>          return '1';
<a name="l858"><span class="linenum"> 858</span></a>      } else {
<a name="l859"><span class="linenum"> 859</span></a>          return <a class="var it1284" onMouseOver="hilite(1284)" onMouseOut="lolite()" onClick="logVariable('lastattempt')" href="../../_variables/lastattempt.html">$lastattempt</a>;
<a name="l860"><span class="linenum"> 860</span></a>      }
<a name="l861"><span class="linenum"> 861</span></a>  }
<a name="l862"><span class="linenum"> 862</span></a>  
<a name="l863"><span class="linenum"> 863</span></a>  <span class="comment">/**</span>
<a name="l864"><span class="linenum"> 864</span></a>  <span class="comment"> * Returns the full list of attempts a user has made.</span>
<a name="l865"><span class="linenum"> 865</span></a>  <span class="comment"> *</span>
<a name="l866"><span class="linenum"> 866</span></a>  <span class="comment"> * @param int $scormid the id of the scorm.</span>
<a name="l867"><span class="linenum"> 867</span></a>  <span class="comment"> * @param int $userid the id of the user.</span>
<a name="l868"><span class="linenum"> 868</span></a>  <span class="comment"> *</span>
<a name="l869"><span class="linenum"> 869</span></a>  <span class="comment"> * @return array array of attemptids</span>
<a name="l870"><span class="linenum"> 870</span></a>  <span class="comment"> */</span>
<a name="l871"><span class="linenum"> 871</span></a>  function <a class="function" onClick="logFunction('scorm_get_all_attempts')" href="../../_functions/scorm_get_all_attempts.html" onMouseOver="funcPopup(event,'scorm_get_all_attempts')">scorm_get_all_attempts</a>(<a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>) {
<a name="l872"><span class="linenum"> 872</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l873"><span class="linenum"> 873</span></a>      <a class="var it5514" onMouseOver="hilite(5514)" onMouseOut="lolite()" onClick="logVariable('attemptids')" href="../../_variables/attemptids.html">$attemptids</a> = array();
<a name="l874"><span class="linenum"> 874</span></a>      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;SELECT DISTINCT attempt FROM {scorm_scoes_track} WHERE userid = ? AND scormid = ? ORDER BY attempt&quot;;
<a name="l875"><span class="linenum"> 875</span></a>      <a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../_variables/attempts.html">$attempts</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, array(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>));
<a name="l876"><span class="linenum"> 876</span></a>      foreach (<a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../_variables/attempts.html">$attempts</a> as <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>) {
<a name="l877"><span class="linenum"> 877</span></a>          <a class="var it5514" onMouseOver="hilite(5514)" onMouseOut="lolite()" onClick="logVariable('attemptids')" href="../../_variables/attemptids.html">$attemptids</a>[] = <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>-&gt;<a onClick="logVariable('attempt')" class="var it43015" onMouseOver="hilite(43015)" onMouseOut="lolite()" href="../../_variables/attempt.html">attempt</a>;
<a name="l878"><span class="linenum"> 878</span></a>      }
<a name="l879"><span class="linenum"> 879</span></a>      return <a class="var it5514" onMouseOver="hilite(5514)" onMouseOut="lolite()" onClick="logVariable('attemptids')" href="../../_variables/attemptids.html">$attemptids</a>;
<a name="l880"><span class="linenum"> 880</span></a>  }
<a name="l881"><span class="linenum"> 881</span></a>  
<a name="l882"><span class="linenum"> 882</span></a>  <span class="comment">/**</span>
<a name="l883"><span class="linenum"> 883</span></a>  <span class="comment"> * Displays the entry form and toc if required.</span>
<a name="l884"><span class="linenum"> 884</span></a>  <span class="comment"> *</span>
<a name="l885"><span class="linenum"> 885</span></a>  <span class="comment"> * @param  stdClass $user   user object</span>
<a name="l886"><span class="linenum"> 886</span></a>  <span class="comment"> * @param  stdClass $scorm  scorm object</span>
<a name="l887"><span class="linenum"> 887</span></a>  <span class="comment"> * @param  string   $action base URL for the organizations select box</span>
<a name="l888"><span class="linenum"> 888</span></a>  <span class="comment"> * @param  stdClass $cm     course module object</span>
<a name="l889"><span class="linenum"> 889</span></a>  <span class="comment"> */</span>
<a name="l890"><span class="linenum"> 890</span></a>  function <a class="function" onClick="logFunction('scorm_print_launch')" href="../../_functions/scorm_print_launch.html" onMouseOver="funcPopup(event,'scorm_print_launch')">scorm_print_launch</a> (<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../_variables/action.html">$action</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>) {
<a name="l891"><span class="linenum"> 891</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>, <a class="var it586" onMouseOver="hilite(586)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../../_variables/COURSE.html">$COURSE</a>;
<a name="l892"><span class="linenum"> 892</span></a>  
<a name="l893"><span class="linenum"> 893</span></a>      if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('updatefreq')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/updatefreq.html">updatefreq</a> == <a class="constant" onClick="logConstant('SCORM_UPDATE_EVERYTIME')" href="../../_constants/SCORM_UPDATE_EVERYTIME.html" onMouseOver="constPopup(event,'SCORM_UPDATE_EVERYTIME')">SCORM_UPDATE_EVERYTIME</a>) {
<a name="l894"><span class="linenum"> 894</span></a>          <a class="function" onClick="logFunction('scorm_parse')" href="../../_functions/scorm_parse.html" onMouseOver="funcPopup(event,'scorm_parse')">scorm_parse</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, false);
<a name="l895"><span class="linenum"> 895</span></a>      }
<a name="l896"><span class="linenum"> 896</span></a>  
<a name="l897"><span class="linenum"> 897</span></a>      <a class="var it7989" onMouseOver="hilite(7989)" onMouseOut="lolite()" onClick="logVariable('organization')" href="../../_variables/organization.html">$organization</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('organization', '', <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l898"><span class="linenum"> 898</span></a>  
<a name="l899"><span class="linenum"> 899</span></a>      if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('displaycoursestructure')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/displaycoursestructure.html">displaycoursestructure</a> == 1) {
<a name="l900"><span class="linenum"> 900</span></a>          echo <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('generalbox boxaligncenter toc', 'toc');
<a name="l901"><span class="linenum"> 901</span></a>          echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('contents', 'scorm'), 'structurehead');
<a name="l902"><span class="linenum"> 902</span></a>      }
<a name="l903"><span class="linenum"> 903</span></a>      if (empty(<a class="var it7989" onMouseOver="hilite(7989)" onMouseOut="lolite()" onClick="logVariable('organization')" href="../../_variables/organization.html">$organization</a>)) {
<a name="l904"><span class="linenum"> 904</span></a>          <a class="var it7989" onMouseOver="hilite(7989)" onMouseOut="lolite()" onClick="logVariable('organization')" href="../../_variables/organization.html">$organization</a> = <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('launch')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/launch.html">launch</a>;
<a name="l905"><span class="linenum"> 905</span></a>      }
<a name="l906"><span class="linenum"> 906</span></a>      if (<a class="var it10760" onMouseOver="hilite(10760)" onMouseOut="lolite()" onClick="logVariable('orgs')" href="../../_variables/orgs.html">$orgs</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_select_menu')" href="../../_functions/get_records_select_menu.html" onMouseOver="funcPopup(event,'get_records_select_menu')">get_records_select_menu</a>('scorm_scoes', 'scorm = ? AND '.
<a name="l907"><span class="linenum"> 907</span></a>                                           <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_isempty')" href="../../_functions/sql_isempty.html" onMouseOver="funcPopup(event,'sql_isempty')">sql_isempty</a>('scorm_scoes', 'launch', false, true).' AND '.
<a name="l908"><span class="linenum"> 908</span></a>                                           <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_isempty')" href="../../_functions/sql_isempty.html" onMouseOver="funcPopup(event,'sql_isempty')">sql_isempty</a>('scorm_scoes', 'organization', false, false),
<a name="l909"><span class="linenum"> 909</span></a>                                           array(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>), 'sortorder, id', 'id,title')) {
<a name="l910"><span class="linenum"> 910</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it10760" onMouseOver="hilite(10760)" onMouseOut="lolite()" onClick="logVariable('orgs')" href="../../_variables/orgs.html">$orgs</a>) &gt; 1) {
<a name="l911"><span class="linenum"> 911</span></a>              <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> = <span class="keyword">new </span><a class="class" onClick="logClass('single_select')" href="../../_classes/single_select.html" onMouseOver="classPopup(event,'single_select')">single_select</a>(<span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it280" onMouseOver="hilite(280)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../_variables/action.html">$action</a>), 'organization', <a class="var it10760" onMouseOver="hilite(10760)" onMouseOut="lolite()" onClick="logVariable('orgs')" href="../../_variables/orgs.html">$orgs</a>, <a class="var it7989" onMouseOver="hilite(7989)" onMouseOut="lolite()" onClick="logVariable('organization')" href="../../_variables/organization.html">$organization</a>, null);
<a name="l912"><span class="linenum"> 912</span></a>              <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('label')" class="var it43232" onMouseOver="hilite(43232)" onMouseOut="lolite()" href="../../_variables/label.html">label</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('organizations', 'scorm');
<a name="l913"><span class="linenum"> 913</span></a>              <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>-&gt;<a onClick="logVariable('class')" class="var it43232" onMouseOver="hilite(43232)" onMouseOut="lolite()" href="../../_variables/class.html">class</a> = 'scorm-center';
<a name="l914"><span class="linenum"> 914</span></a>              echo <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('render')" href="../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>(<a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>);
<a name="l915"><span class="linenum"> 915</span></a>          }
<a name="l916"><span class="linenum"> 916</span></a>      }
<a name="l917"><span class="linenum"> 917</span></a>      <a class="var it10761" onMouseOver="hilite(10761)" onMouseOut="lolite()" onClick="logVariable('orgidentifier')" href="../../_variables/orgidentifier.html">$orgidentifier</a> = '';
<a name="l918"><span class="linenum"> 918</span></a>      if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a> = <a class="function" onClick="logFunction('scorm_get_sco')" href="../../_functions/scorm_get_sco.html" onMouseOver="funcPopup(event,'scorm_get_sco')">scorm_get_sco</a>(<a class="var it7989" onMouseOver="hilite(7989)" onMouseOut="lolite()" onClick="logVariable('organization')" href="../../_variables/organization.html">$organization</a>, <a class="constant" onClick="logConstant('SCO_ONLY')" href="../../_constants/SCO_ONLY.html" onMouseOver="constPopup(event,'SCO_ONLY')">SCO_ONLY</a>)) {
<a name="l919"><span class="linenum"> 919</span></a>          if ((<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('organization')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/organization.html">organization</a> == '') &amp;&amp; (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('launch')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/launch.html">launch</a> == '')) {
<a name="l920"><span class="linenum"> 920</span></a>              <a class="var it10761" onMouseOver="hilite(10761)" onMouseOut="lolite()" onClick="logVariable('orgidentifier')" href="../../_variables/orgidentifier.html">$orgidentifier</a> = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('identifier')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>;
<a name="l921"><span class="linenum"> 921</span></a>          } else {
<a name="l922"><span class="linenum"> 922</span></a>              <a class="var it10761" onMouseOver="hilite(10761)" onMouseOut="lolite()" onClick="logVariable('orgidentifier')" href="../../_variables/orgidentifier.html">$orgidentifier</a> = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('organization')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/organization.html">organization</a>;
<a name="l923"><span class="linenum"> 923</span></a>          }
<a name="l924"><span class="linenum"> 924</span></a>      }
<a name="l925"><span class="linenum"> 925</span></a>  
<a name="l926"><span class="linenum"> 926</span></a>      <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a> = <a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="function" onClick="logFunction('clean_param')" href="../../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a>, <a class="constant" onClick="logConstant('PARAM_SAFEDIR')" href="../../_constants/PARAM_SAFEDIR.html" onMouseOver="constPopup(event,'PARAM_SAFEDIR')">PARAM_SAFEDIR</a>));   <span class="comment">// Just to be safe.</span>
<a name="l927"><span class="linenum"> 927</span></a>      if (!<a class="phpfunction" onClick="logFunction('file_exists')" href="../../_functions/file_exists.html" onMouseOver="phpfuncPopup(event,'file_exists')">file_exists</a>(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'/mod/scorm/datamodels/'.<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a>.'lib.php')) {
<a name="l928"><span class="linenum"> 928</span></a>          <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a> = 'scorm_12';
<a name="l929"><span class="linenum"> 929</span></a>      }
<a name="l930"><span class="linenum"> 930</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'/mod/scorm/datamodels/'.<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a>.'lib.php');
<a name="l931"><span class="linenum"> 931</span></a>  
<a name="l932"><span class="linenum"> 932</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="function" onClick="logFunction('scorm_get_toc')" href="../../_functions/scorm_get_toc.html" onMouseOver="funcPopup(event,'scorm_get_toc')">scorm_get_toc</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="constant" onClick="logConstant('TOCFULLURL')" href="../../_constants/TOCFULLURL.html" onMouseOver="constPopup(event,'TOCFULLURL')">TOCFULLURL</a>, <a class="var it10761" onMouseOver="hilite(10761)" onMouseOut="lolite()" onClick="logVariable('orgidentifier')" href="../../_variables/orgidentifier.html">$orgidentifier</a>);
<a name="l933"><span class="linenum"> 933</span></a>      <a class="var it10762" onMouseOver="hilite(10762)" onMouseOut="lolite()" onClick="logVariable('incomplete')" href="../../_variables/incomplete.html">$incomplete</a> = <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('incomplete')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/incomplete.html">incomplete</a>;
<a name="l934"><span class="linenum"> 934</span></a>  
<a name="l935"><span class="linenum"> 935</span></a>  <span class="comment">    // Do we want the TOC to be displayed?</span>
<a name="l936"><span class="linenum"> 936</span></a>      if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('displaycoursestructure')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/displaycoursestructure.html">displaycoursestructure</a> == 1) {
<a name="l937"><span class="linenum"> 937</span></a>          echo <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a>;
<a name="l938"><span class="linenum"> 938</span></a>          echo <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l939"><span class="linenum"> 939</span></a>      }
<a name="l940"><span class="linenum"> 940</span></a>  
<a name="l941"><span class="linenum"> 941</span></a>  <span class="comment">    // Is this the first attempt ?</span>
<a name="l942"><span class="linenum"> 942</span></a>      <a class="var it10757" onMouseOver="hilite(10757)" onMouseOut="lolite()" onClick="logVariable('attemptcount')" href="../../_variables/attemptcount.html">$attemptcount</a> = <a class="function" onClick="logFunction('scorm_get_attempt_count')" href="../../_functions/scorm_get_attempt_count.html" onMouseOver="funcPopup(event,'scorm_get_attempt_count')">scorm_get_attempt_count</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>);
<a name="l943"><span class="linenum"> 943</span></a>  
<a name="l944"><span class="linenum"> 944</span></a>  <span class="comment">    // Do not give the player launch FORM if the SCORM object is locked after the final attempt.</span>
<a name="l945"><span class="linenum"> 945</span></a>      if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('lastattemptlock')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/lastattemptlock.html">lastattemptlock</a> == 0 || <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('attemptleft')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/attemptleft.html">attemptleft</a> &gt; 0) {
<a name="l946"><span class="linenum"> 946</span></a>              echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_div')" href="../../_functions/start_div.html" onMouseOver="funcPopup(event,'start_div')">start_div</a>('scorm-center');
<a name="l947"><span class="linenum"> 947</span></a>              echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('form', array('id' =&gt; 'scormviewform',
<a name="l948"><span class="linenum"> 948</span></a>                                                          'method' =&gt; 'post',
<a name="l949"><span class="linenum"> 949</span></a>                                                          'action' =&gt; <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>.'<a class="filename" href="../../mod/scorm/player.php.html">/mod/scorm/player.php</a>'));
<a name="l950"><span class="linenum"> 950</span></a>          if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('hidebrowse')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/hidebrowse.html">hidebrowse</a> == 0) {
<a name="l951"><span class="linenum"> 951</span></a>              <a class="function" onClick="logFunction('print_string')" href="../../_functions/print_string.html" onMouseOver="funcPopup(event,'print_string')">print_string</a>('mode', 'scorm');
<a name="l952"><span class="linenum"> 952</span></a>              echo ': '.<a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type' =&gt; 'radio', 'id' =&gt; 'b', 'name' =&gt; 'mode', 'value' =&gt; 'browse')).
<a name="l953"><span class="linenum"> 953</span></a>                          <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('label')" href="../../_functions/label.html" onMouseOver="funcPopup(event,'label')">label</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('browse', 'scorm'), 'b');
<a name="l954"><span class="linenum"> 954</span></a>              echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type' =&gt; 'radio',
<a name="l955"><span class="linenum"> 955</span></a>                                                          'id' =&gt; 'n', 'name' =&gt; 'mode',
<a name="l956"><span class="linenum"> 956</span></a>                                                          'value' =&gt; 'normal', 'checked' =&gt; 'checked')).
<a name="l957"><span class="linenum"> 957</span></a>                      <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('label')" href="../../_functions/label.html" onMouseOver="funcPopup(event,'label')">label</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('normal', 'scorm'), 'n');
<a name="l958"><span class="linenum"> 958</span></a>  
<a name="l959"><span class="linenum"> 959</span></a>          } else {
<a name="l960"><span class="linenum"> 960</span></a>              echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type' =&gt; 'hidden', 'name' =&gt; 'mode', 'value' =&gt; 'normal'));
<a name="l961"><span class="linenum"> 961</span></a>          }
<a name="l962"><span class="linenum"> 962</span></a>          if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('forcenewattempt')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/forcenewattempt.html">forcenewattempt</a> == 1) {
<a name="l963"><span class="linenum"> 963</span></a>              if (<a class="var it10762" onMouseOver="hilite(10762)" onMouseOut="lolite()" onClick="logVariable('incomplete')" href="../../_variables/incomplete.html">$incomplete</a> === false) {
<a name="l964"><span class="linenum"> 964</span></a>                  echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type' =&gt; 'hidden', 'name' =&gt; 'newattempt', 'value' =&gt; 'on'));
<a name="l965"><span class="linenum"> 965</span></a>              }
<a name="l966"><span class="linenum"> 966</span></a>          } else if (!empty(<a class="var it10757" onMouseOver="hilite(10757)" onMouseOut="lolite()" onClick="logVariable('attemptcount')" href="../../_variables/attemptcount.html">$attemptcount</a>) &amp;&amp; (<a class="var it10762" onMouseOver="hilite(10762)" onMouseOut="lolite()" onClick="logVariable('incomplete')" href="../../_variables/incomplete.html">$incomplete</a> === false) &amp;&amp; ((<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('attemptleft')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/attemptleft.html">attemptleft</a> &gt; 0)||(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('maxattempt')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/maxattempt.html">maxattempt</a> == 0))) {
<a name="l967"><span class="linenum"> 967</span></a>                  echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('br');
<a name="l968"><span class="linenum"> 968</span></a>                  echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('checkbox')" href="../../_functions/checkbox.html" onMouseOver="funcPopup(event,'checkbox')">checkbox</a>('newattempt', 'on', false, '', array('id' =&gt; 'a'));
<a name="l969"><span class="linenum"> 969</span></a>                  echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('label')" href="../../_functions/label.html" onMouseOver="funcPopup(event,'label')">label</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('newattempt', 'scorm'), 'a');
<a name="l970"><span class="linenum"> 970</span></a>          }
<a name="l971"><span class="linenum"> 971</span></a>          if (!empty(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('popup')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/popup.html">popup</a>)) {
<a name="l972"><span class="linenum"> 972</span></a>              echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type' =&gt; 'hidden', 'name' =&gt; 'display', 'value' =&gt; 'popup'));
<a name="l973"><span class="linenum"> 973</span></a>          }
<a name="l974"><span class="linenum"> 974</span></a>  
<a name="l975"><span class="linenum"> 975</span></a>          echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('br');
<a name="l976"><span class="linenum"> 976</span></a>          echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type' =&gt; 'hidden', 'name' =&gt; 'scoid', 'value' =&gt; <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('launch')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/launch.html">launch</a>));
<a name="l977"><span class="linenum"> 977</span></a>          echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type' =&gt; 'hidden', 'name' =&gt; 'cm', 'value' =&gt; <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l978"><span class="linenum"> 978</span></a>          echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type' =&gt; 'hidden', 'name' =&gt; 'currentorg', 'value' =&gt; <a class="var it10761" onMouseOver="hilite(10761)" onMouseOut="lolite()" onClick="logVariable('orgidentifier')" href="../../_variables/orgidentifier.html">$orgidentifier</a>));
<a name="l979"><span class="linenum"> 979</span></a>          echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('input', array('type' =&gt; 'submit', 'value' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('enter', 'scorm')));
<a name="l980"><span class="linenum"> 980</span></a>          echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('form');
<a name="l981"><span class="linenum"> 981</span></a>          echo <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_div')" href="../../_functions/end_div.html" onMouseOver="funcPopup(event,'end_div')">end_div</a>();
<a name="l982"><span class="linenum"> 982</span></a>      }
<a name="l983"><span class="linenum"> 983</span></a>  }
<a name="l984"><span class="linenum"> 984</span></a>  
<a name="l985"><span class="linenum"> 985</span></a>  function <a class="function" onClick="logFunction('scorm_simple_play')" href="../../_functions/scorm_simple_play.html" onMouseOver="funcPopup(event,'scorm_simple_play')">scorm_simple_play</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>) {
<a name="l986"><span class="linenum"> 986</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l987"><span class="linenum"> 987</span></a>  
<a name="l988"><span class="linenum"> 988</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = false;
<a name="l989"><span class="linenum"> 989</span></a>  
<a name="l990"><span class="linenum"> 990</span></a>      if (<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/scorm:viewreport', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l991"><span class="linenum"> 991</span></a>  <span class="comment">        // If this user can view reports, don't skipview so they can see links to reports.</span>
<a name="l992"><span class="linenum"> 992</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l993"><span class="linenum"> 993</span></a>      }
<a name="l994"><span class="linenum"> 994</span></a>  
<a name="l995"><span class="linenum"> 995</span></a>      if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('updatefreq')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/updatefreq.html">updatefreq</a> == <a class="constant" onClick="logConstant('SCORM_UPDATE_EVERYTIME')" href="../../_constants/SCORM_UPDATE_EVERYTIME.html" onMouseOver="constPopup(event,'SCORM_UPDATE_EVERYTIME')">SCORM_UPDATE_EVERYTIME</a>) {
<a name="l996"><span class="linenum"> 996</span></a>          <a class="function" onClick="logFunction('scorm_parse')" href="../../_functions/scorm_parse.html" onMouseOver="funcPopup(event,'scorm_parse')">scorm_parse</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, false);
<a name="l997"><span class="linenum"> 997</span></a>      }
<a name="l998"><span class="linenum"> 998</span></a>      <a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_select')" href="../../_functions/get_records_select.html" onMouseOver="funcPopup(event,'get_records_select')">get_records_select</a>('scorm_scoes', 'scorm = ? AND '.
<a name="l999"><span class="linenum"> 999</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_isnotempty')" href="../../_functions/sql_isnotempty.html" onMouseOver="funcPopup(event,'sql_isnotempty')">sql_isnotempty</a>('scorm_scoes', 'launch', false, true), array(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>), 'sortorder, id', 'id');
<a name="l1000"><span class="linenum">1000</span></a>  
<a name="l1001"><span class="linenum">1001</span></a>      if (<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>) {
<a name="l1002"><span class="linenum">1002</span></a>          <a class="var it10761" onMouseOver="hilite(10761)" onMouseOut="lolite()" onClick="logVariable('orgidentifier')" href="../../_variables/orgidentifier.html">$orgidentifier</a> = '';
<a name="l1003"><span class="linenum">1003</span></a>          if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a> = <a class="function" onClick="logFunction('scorm_get_sco')" href="../../_functions/scorm_get_sco.html" onMouseOver="funcPopup(event,'scorm_get_sco')">scorm_get_sco</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('launch')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/launch.html">launch</a>, <a class="constant" onClick="logConstant('SCO_ONLY')" href="../../_constants/SCO_ONLY.html" onMouseOver="constPopup(event,'SCO_ONLY')">SCO_ONLY</a>)) {
<a name="l1004"><span class="linenum">1004</span></a>              if ((<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('organization')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/organization.html">organization</a> == '') &amp;&amp; (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('launch')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/launch.html">launch</a> == '')) {
<a name="l1005"><span class="linenum">1005</span></a>                  <a class="var it10761" onMouseOver="hilite(10761)" onMouseOut="lolite()" onClick="logVariable('orgidentifier')" href="../../_variables/orgidentifier.html">$orgidentifier</a> = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('identifier')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>;
<a name="l1006"><span class="linenum">1006</span></a>              } else {
<a name="l1007"><span class="linenum">1007</span></a>                  <a class="var it10761" onMouseOver="hilite(10761)" onMouseOut="lolite()" onClick="logVariable('orgidentifier')" href="../../_variables/orgidentifier.html">$orgidentifier</a> = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('organization')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/organization.html">organization</a>;
<a name="l1008"><span class="linenum">1008</span></a>              }
<a name="l1009"><span class="linenum">1009</span></a>          }
<a name="l1010"><span class="linenum">1010</span></a>          if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('skipview')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/skipview.html">skipview</a> &gt;= <a class="constant" onClick="logConstant('SCORM_SKIPVIEW_FIRST')" href="../../_constants/SCORM_SKIPVIEW_FIRST.html" onMouseOver="constPopup(event,'SCORM_SKIPVIEW_FIRST')">SCORM_SKIPVIEW_FIRST</a>) {
<a name="l1011"><span class="linenum">1011</span></a>              <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a> = <a class="phpfunction" onClick="logFunction('current')" href="../../_functions/current.html" onMouseOver="phpfuncPopup(event,'current')">current</a>(<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>);
<a name="l1012"><span class="linenum">1012</span></a>              <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../mod/scorm/player.php.html">/mod/scorm/player.php</a>', array('a' =&gt; <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l1013"><span class="linenum">1013</span></a>                                                                  'currentorg' =&gt; <a class="var it10761" onMouseOver="hilite(10761)" onMouseOut="lolite()" onClick="logVariable('orgidentifier')" href="../../_variables/orgidentifier.html">$orgidentifier</a>,
<a name="l1014"><span class="linenum">1014</span></a>                                                                  'scoid' =&gt; <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l1015"><span class="linenum">1015</span></a>              if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('skipview')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/skipview.html">skipview</a> == <a class="constant" onClick="logConstant('SCORM_SKIPVIEW_ALWAYS')" href="../../_constants/SCORM_SKIPVIEW_ALWAYS.html" onMouseOver="constPopup(event,'SCORM_SKIPVIEW_ALWAYS')">SCORM_SKIPVIEW_ALWAYS</a> || !<a class="function" onClick="logFunction('scorm_has_tracks')" href="../../_functions/scorm_has_tracks.html" onMouseOver="funcPopup(event,'scorm_has_tracks')">scorm_has_tracks</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>)) {
<a name="l1016"><span class="linenum">1016</span></a>                  if (!empty(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('forcenewattempt')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/forcenewattempt.html">forcenewattempt</a>)) {
<a name="l1017"><span class="linenum">1017</span></a>                      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="function" onClick="logFunction('scorm_get_toc')" href="../../_functions/scorm_get_toc.html" onMouseOver="funcPopup(event,'scorm_get_toc')">scorm_get_toc</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>, <a class="constant" onClick="logConstant('TOCFULLURL')" href="../../_constants/TOCFULLURL.html" onMouseOver="constPopup(event,'TOCFULLURL')">TOCFULLURL</a>, <a class="var it10761" onMouseOver="hilite(10761)" onMouseOut="lolite()" onClick="logVariable('orgidentifier')" href="../../_variables/orgidentifier.html">$orgidentifier</a>);
<a name="l1018"><span class="linenum">1018</span></a>                      if (<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('incomplete')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/incomplete.html">incomplete</a> === false) {
<a name="l1019"><span class="linenum">1019</span></a>                          <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('param')" href="../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('newattempt', 'on');
<a name="l1020"><span class="linenum">1020</span></a>                      }
<a name="l1021"><span class="linenum">1021</span></a>                  }
<a name="l1022"><span class="linenum">1022</span></a>                  <a class="function" onClick="logFunction('redirect')" href="../../_functions/redirect.html" onMouseOver="funcPopup(event,'redirect')">redirect</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>);
<a name="l1023"><span class="linenum">1023</span></a>              }
<a name="l1024"><span class="linenum">1024</span></a>          }
<a name="l1025"><span class="linenum">1025</span></a>      }
<a name="l1026"><span class="linenum">1026</span></a>      return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l1027"><span class="linenum">1027</span></a>  }
<a name="l1028"><span class="linenum">1028</span></a>  
<a name="l1029"><span class="linenum">1029</span></a>  function <a class="function" onClick="logFunction('scorm_get_count_users')" href="../../_functions/scorm_get_count_users.html" onMouseOver="funcPopup(event,'scorm_get_count_users')">scorm_get_count_users</a>(<a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>, <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('groupingid')" href="../../_variables/groupingid.html">$groupingid</a>=null) {
<a name="l1030"><span class="linenum">1030</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l1031"><span class="linenum">1031</span></a>  
<a name="l1032"><span class="linenum">1032</span></a>      if (!empty(<a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('groupingid')" href="../../_variables/groupingid.html">$groupingid</a>)) {
<a name="l1033"><span class="linenum">1033</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;SELECT <a class="phpfunction" onClick="logFunction('COUNT')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>(DISTINCT st.userid)
<a name="l1034"><span class="linenum">1034</span></a>                  FROM {scorm_scoes_track} st
<a name="l1035"><span class="linenum">1035</span></a>                      INNER JOIN {groups_members} gm ON st.userid = gm.userid
<a name="l1036"><span class="linenum">1036</span></a>                      INNER JOIN {groupings_groups} gg ON gm.groupid = gg.groupid
<a name="l1037"><span class="linenum">1037</span></a>                  WHERE st.scormid = ? AND gg.groupingid = ?
<a name="l1038"><span class="linenum">1038</span></a>                  &quot;;
<a name="l1039"><span class="linenum">1039</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array(<a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>, <a class="var it680" onMouseOver="hilite(680)" onMouseOut="lolite()" onClick="logVariable('groupingid')" href="../../_variables/groupingid.html">$groupingid</a>);
<a name="l1040"><span class="linenum">1040</span></a>      } else {
<a name="l1041"><span class="linenum">1041</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;SELECT <a class="phpfunction" onClick="logFunction('COUNT')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>(DISTINCT st.userid)
<a name="l1042"><span class="linenum">1042</span></a>                  FROM {scorm_scoes_track} st
<a name="l1043"><span class="linenum">1043</span></a>                  WHERE st.scormid = ?
<a name="l1044"><span class="linenum">1044</span></a>                  &quot;;
<a name="l1045"><span class="linenum">1045</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array(<a class="var it7861" onMouseOver="hilite(7861)" onMouseOut="lolite()" onClick="logVariable('scormid')" href="../../_variables/scormid.html">$scormid</a>);
<a name="l1046"><span class="linenum">1046</span></a>      }
<a name="l1047"><span class="linenum">1047</span></a>  
<a name="l1048"><span class="linenum">1048</span></a>      return (<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records_sql')" href="../../_functions/count_records_sql.html" onMouseOver="funcPopup(event,'count_records_sql')">count_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>));
<a name="l1049"><span class="linenum">1049</span></a>  }
<a name="l1050"><span class="linenum">1050</span></a>  
<a name="l1051"><span class="linenum">1051</span></a>  <span class="comment">/**</span>
<a name="l1052"><span class="linenum">1052</span></a>  <span class="comment"> * Build up the JavaScript representation of an array element</span>
<a name="l1053"><span class="linenum">1053</span></a>  <span class="comment"> *</span>
<a name="l1054"><span class="linenum">1054</span></a>  <span class="comment"> * @param string $sversion SCORM API version</span>
<a name="l1055"><span class="linenum">1055</span></a>  <span class="comment"> * @param array $userdata User track data</span>
<a name="l1056"><span class="linenum">1056</span></a>  <span class="comment"> * @param string $elementname Name of array element to get values for</span>
<a name="l1057"><span class="linenum">1057</span></a>  <span class="comment"> * @param array $children list of sub elements of this array element that also need instantiating</span>
<a name="l1058"><span class="linenum">1058</span></a>  <span class="comment"> * @return Javascript array elements</span>
<a name="l1059"><span class="linenum">1059</span></a>  <span class="comment"> */</span>
<a name="l1060"><span class="linenum">1060</span></a>  function <a class="function" onClick="logFunction('scorm_reconstitute_array_element')" href="../../_functions/scorm_reconstitute_array_element.html" onMouseOver="funcPopup(event,'scorm_reconstitute_array_element')">scorm_reconstitute_array_element</a>(<a class="var it10764" onMouseOver="hilite(10764)" onMouseOut="lolite()" onClick="logVariable('sversion')" href="../../_variables/sversion.html">$sversion</a>, <a class="var it7917" onMouseOver="hilite(7917)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../../_variables/userdata.html">$userdata</a>, <a class="var it515" onMouseOver="hilite(515)" onMouseOut="lolite()" onClick="logVariable('elementname')" href="../../_variables/elementname.html">$elementname</a>, <a class="var it922" onMouseOver="hilite(922)" onMouseOut="lolite()" onClick="logVariable('children')" href="../../_variables/children.html">$children</a>) {
<a name="l1061"><span class="linenum">1061</span></a>  <span class="comment">    // Reconstitute comments_from_learner and comments_from_lms.</span>
<a name="l1062"><span class="linenum">1062</span></a>      <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a> = '';
<a name="l1063"><span class="linenum">1063</span></a>      <a class="var it10765" onMouseOver="hilite(10765)" onMouseOut="lolite()" onClick="logVariable('currentsubelement')" href="../../_variables/currentsubelement.html">$currentsubelement</a> = '';
<a name="l1064"><span class="linenum">1064</span></a>      <a class="var it10766" onMouseOver="hilite(10766)" onMouseOut="lolite()" onClick="logVariable('currentsub')" href="../../_variables/currentsub.html">$currentsub</a> = '';
<a name="l1065"><span class="linenum">1065</span></a>      <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> = 0;
<a name="l1066"><span class="linenum">1066</span></a>      <a class="var it10767" onMouseOver="hilite(10767)" onMouseOut="lolite()" onClick="logVariable('countsub')" href="../../_variables/countsub.html">$countsub</a> = 0;
<a name="l1067"><span class="linenum">1067</span></a>      <a class="var it10768" onMouseOver="hilite(10768)" onMouseOut="lolite()" onClick="logVariable('scormseperator')" href="../../_variables/scormseperator.html">$scormseperator</a> = '_';
<a name="l1068"><span class="linenum">1068</span></a>      <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> = '';
<a name="l1069"><span class="linenum">1069</span></a>      if (<a class="function" onClick="logFunction('scorm_version_check')" href="../../_functions/scorm_version_check.html" onMouseOver="funcPopup(event,'scorm_version_check')">scorm_version_check</a>(<a class="var it10764" onMouseOver="hilite(10764)" onMouseOut="lolite()" onClick="logVariable('sversion')" href="../../_variables/sversion.html">$sversion</a>, <a class="constant" onClick="logConstant('SCORM_13')" href="../../_constants/SCORM_13.html" onMouseOver="constPopup(event,'SCORM_13')">SCORM_13</a>)) { // Scorm 1.3 elements use a . instead of an _ .
<a name="l1070"><span class="linenum">1070</span></a>          <a class="var it10768" onMouseOver="hilite(10768)" onMouseOut="lolite()" onClick="logVariable('scormseperator')" href="../../_variables/scormseperator.html">$scormseperator</a> = '.';
<a name="l1071"><span class="linenum">1071</span></a>      }
<a name="l1072"><span class="linenum">1072</span></a>  <span class="comment">    // Filter out the ones we want.</span>
<a name="l1073"><span class="linenum">1073</span></a>      <a class="var it10769" onMouseOver="hilite(10769)" onMouseOut="lolite()" onClick="logVariable('elementlist')" href="../../_variables/elementlist.html">$elementlist</a> = array();
<a name="l1074"><span class="linenum">1074</span></a>      foreach (<a class="var it7917" onMouseOver="hilite(7917)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../../_variables/userdata.html">$userdata</a> as <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1075"><span class="linenum">1075</span></a>          if (<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, 0, <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it515" onMouseOver="hilite(515)" onMouseOut="lolite()" onClick="logVariable('elementname')" href="../../_variables/elementname.html">$elementname</a>)) == <a class="var it515" onMouseOver="hilite(515)" onMouseOut="lolite()" onClick="logVariable('elementname')" href="../../_variables/elementname.html">$elementname</a>) {
<a name="l1076"><span class="linenum">1076</span></a>              <a class="var it10769" onMouseOver="hilite(10769)" onMouseOut="lolite()" onClick="logVariable('elementlist')" href="../../_variables/elementlist.html">$elementlist</a>[<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>] = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l1077"><span class="linenum">1077</span></a>          }
<a name="l1078"><span class="linenum">1078</span></a>      }
<a name="l1079"><span class="linenum">1079</span></a>  
<a name="l1080"><span class="linenum">1080</span></a>  <span class="comment">    // Sort elements in .n array order.</span>
<a name="l1081"><span class="linenum">1081</span></a>      <a class="phpfunction" onClick="logFunction('uksort')" href="../../_functions/uksort.html" onMouseOver="phpfuncPopup(event,'uksort')">uksort</a>(<a class="var it10769" onMouseOver="hilite(10769)" onMouseOut="lolite()" onClick="logVariable('elementlist')" href="../../_variables/elementlist.html">$elementlist</a>, &quot;scorm_element_cmp&quot;);
<a name="l1082"><span class="linenum">1082</span></a>  
<a name="l1083"><span class="linenum">1083</span></a>  <span class="comment">    // Generate JavaScript.</span>
<a name="l1084"><span class="linenum">1084</span></a>      foreach (<a class="var it10769" onMouseOver="hilite(10769)" onMouseOut="lolite()" onClick="logVariable('elementlist')" href="../../_variables/elementlist.html">$elementlist</a> as <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1085"><span class="linenum">1085</span></a>          if (<a class="function" onClick="logFunction('scorm_version_check')" href="../../_functions/scorm_version_check.html" onMouseOver="funcPopup(event,'scorm_version_check')">scorm_version_check</a>(<a class="var it10764" onMouseOver="hilite(10764)" onMouseOut="lolite()" onClick="logVariable('sversion')" href="../../_variables/sversion.html">$sversion</a>, <a class="constant" onClick="logConstant('SCORM_13')" href="../../_constants/SCORM_13.html" onMouseOver="constPopup(event,'SCORM_13')">SCORM_13</a>)) {
<a name="l1086"><span class="linenum">1086</span></a>              <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/\.(\d+)\./', &quot;.N\<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a>.&quot;, <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>);
<a name="l1087"><span class="linenum">1087</span></a>              <a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/\.(N\d+)\./', <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>);
<a name="l1088"><span class="linenum">1088</span></a>          } else {
<a name="l1089"><span class="linenum">1089</span></a>              <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/\.(\d+)\./', &quot;_\<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a>.&quot;, <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>);
<a name="l1090"><span class="linenum">1090</span></a>              <a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/\_(\d+)\./', <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>);
<a name="l1091"><span class="linenum">1091</span></a>          }
<a name="l1092"><span class="linenum">1092</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>) &gt; 0 &amp;&amp; <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a> != <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1]) {
<a name="l1093"><span class="linenum">1093</span></a>              if (<a class="var it10767" onMouseOver="hilite(10767)" onMouseOut="lolite()" onClick="logVariable('countsub')" href="../../_variables/countsub.html">$countsub</a> &gt; 0) {
<a name="l1094"><span class="linenum">1094</span></a>                  <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> .= '    '.<a class="var it515" onMouseOver="hilite(515)" onMouseOut="lolite()" onClick="logVariable('elementname')" href="../../_variables/elementname.html">$elementname</a>.<a class="var it10768" onMouseOver="hilite(10768)" onMouseOut="lolite()" onClick="logVariable('scormseperator')" href="../../_variables/scormseperator.html">$scormseperator</a>.<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>.'.'.<a class="var it10765" onMouseOver="hilite(10765)" onMouseOut="lolite()" onClick="logVariable('currentsubelement')" href="../../_variables/currentsubelement.html">$currentsubelement</a>.'._count = '.<a class="var it10767" onMouseOver="hilite(10767)" onMouseOut="lolite()" onClick="logVariable('countsub')" href="../../_variables/countsub.html">$countsub</a>.&quot;;\n&quot;;
<a name="l1095"><span class="linenum">1095</span></a>              }
<a name="l1096"><span class="linenum">1096</span></a>              <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a> = <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1];
<a name="l1097"><span class="linenum">1097</span></a>              <a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a>++;
<a name="l1098"><span class="linenum">1098</span></a>              <a class="var it10765" onMouseOver="hilite(10765)" onMouseOut="lolite()" onClick="logVariable('currentsubelement')" href="../../_variables/currentsubelement.html">$currentsubelement</a> = '';
<a name="l1099"><span class="linenum">1099</span></a>              <a class="var it10766" onMouseOver="hilite(10766)" onMouseOut="lolite()" onClick="logVariable('currentsub')" href="../../_variables/currentsub.html">$currentsub</a> = '';
<a name="l1100"><span class="linenum">1100</span></a>              <a class="var it10767" onMouseOver="hilite(10767)" onMouseOut="lolite()" onClick="logVariable('countsub')" href="../../_variables/countsub.html">$countsub</a> = 0;
<a name="l1101"><span class="linenum">1101</span></a>              <a class="var it1128" onMouseOver="hilite(1128)" onMouseOut="lolite()" onClick="logVariable('end')" href="../../_variables/end.html">$end</a> = <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1]) + <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1]);
<a name="l1102"><span class="linenum">1102</span></a>              <a class="var it10770" onMouseOver="hilite(10770)" onMouseOut="lolite()" onClick="logVariable('subelement')" href="../../_variables/subelement.html">$subelement</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, 0, <a class="var it1128" onMouseOver="hilite(1128)" onMouseOut="lolite()" onClick="logVariable('end')" href="../../_variables/end.html">$end</a>);
<a name="l1103"><span class="linenum">1103</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> .= '    '.<a class="var it10770" onMouseOver="hilite(10770)" onMouseOut="lolite()" onClick="logVariable('subelement')" href="../../_variables/subelement.html">$subelement</a>.&quot; = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();\n&quot;;
<a name="l1104"><span class="linenum">1104</span></a>  <span class="comment">            // Now add the children.</span>
<a name="l1105"><span class="linenum">1105</span></a>              foreach (<a class="var it922" onMouseOver="hilite(922)" onMouseOut="lolite()" onClick="logVariable('children')" href="../../_variables/children.html">$children</a> as <a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>) {
<a name="l1106"><span class="linenum">1106</span></a>                  <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> .= '    '.<a class="var it10770" onMouseOver="hilite(10770)" onMouseOut="lolite()" onClick="logVariable('subelement')" href="../../_variables/subelement.html">$subelement</a>.&quot;.&quot;.<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>.&quot; = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();\n&quot;;
<a name="l1107"><span class="linenum">1107</span></a>                  <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> .= '    '.<a class="var it10770" onMouseOver="hilite(10770)" onMouseOut="lolite()" onClick="logVariable('subelement')" href="../../_variables/subelement.html">$subelement</a>.&quot;.&quot;.<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>.&quot;._children = &quot;.<a class="var it3285" onMouseOver="hilite(3285)" onMouseOut="lolite()" onClick="logVariable('child')" href="../../_variables/child.html">$child</a>.&quot;_children;\n&quot;;
<a name="l1108"><span class="linenum">1108</span></a>              }
<a name="l1109"><span class="linenum">1109</span></a>          }
<a name="l1110"><span class="linenum">1110</span></a>  
<a name="l1111"><span class="linenum">1111</span></a>  <span class="comment">        // Now - flesh out the second level elements if there are any.</span>
<a name="l1112"><span class="linenum">1112</span></a>          if (<a class="function" onClick="logFunction('scorm_version_check')" href="../../_functions/scorm_version_check.html" onMouseOver="funcPopup(event,'scorm_version_check')">scorm_version_check</a>(<a class="var it10764" onMouseOver="hilite(10764)" onMouseOut="lolite()" onClick="logVariable('sversion')" href="../../_variables/sversion.html">$sversion</a>, <a class="constant" onClick="logConstant('SCORM_13')" href="../../_constants/SCORM_13.html" onMouseOver="constPopup(event,'SCORM_13')">SCORM_13</a>)) {
<a name="l1113"><span class="linenum">1113</span></a>              <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/(.*?\.N\d+\..*?)\.(\d+)\./', &quot;\<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a>.N\<a class="var it2020" onMouseOver="hilite(2020)" onMouseOut="lolite()" onClick="logVariable('2')" href="../../_variables/2.html">$2</a>.&quot;, <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>);
<a name="l1114"><span class="linenum">1114</span></a>              <a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/.*?\.N\d+\.(.*?)\.(N\d+)\./', <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>);
<a name="l1115"><span class="linenum">1115</span></a>          } else {
<a name="l1116"><span class="linenum">1116</span></a>              <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/(.*?\_\d+\..*?)\.(\d+)\./', &quot;\<a class="var it8949" onMouseOver="hilite(8949)" onMouseOut="lolite()" onClick="logVariable('1_')" href="../../_variables/1_.html">$1_</a>\<a class="var it2020" onMouseOver="hilite(2020)" onMouseOut="lolite()" onClick="logVariable('2')" href="../../_variables/2.html">$2</a>.&quot;, <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>);
<a name="l1117"><span class="linenum">1117</span></a>              <a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/.*?\_\d+\.(.*?)\_(\d+)\./', <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>);
<a name="l1118"><span class="linenum">1118</span></a>          }
<a name="l1119"><span class="linenum">1119</span></a>  
<a name="l1120"><span class="linenum">1120</span></a>  <span class="comment">        // Check the sub element type.</span>
<a name="l1121"><span class="linenum">1121</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>) &gt; 0 &amp;&amp; <a class="var it10765" onMouseOver="hilite(10765)" onMouseOut="lolite()" onClick="logVariable('currentsubelement')" href="../../_variables/currentsubelement.html">$currentsubelement</a> != <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1]) {
<a name="l1122"><span class="linenum">1122</span></a>              if (<a class="var it10767" onMouseOver="hilite(10767)" onMouseOut="lolite()" onClick="logVariable('countsub')" href="../../_variables/countsub.html">$countsub</a> &gt; 0) {
<a name="l1123"><span class="linenum">1123</span></a>                  <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> .= '    '.<a class="var it515" onMouseOver="hilite(515)" onMouseOut="lolite()" onClick="logVariable('elementname')" href="../../_variables/elementname.html">$elementname</a>.<a class="var it10768" onMouseOver="hilite(10768)" onMouseOut="lolite()" onClick="logVariable('scormseperator')" href="../../_variables/scormseperator.html">$scormseperator</a>.<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>.'.'.<a class="var it10765" onMouseOver="hilite(10765)" onMouseOut="lolite()" onClick="logVariable('currentsubelement')" href="../../_variables/currentsubelement.html">$currentsubelement</a>.'._count = '.<a class="var it10767" onMouseOver="hilite(10767)" onMouseOut="lolite()" onClick="logVariable('countsub')" href="../../_variables/countsub.html">$countsub</a>.&quot;;\n&quot;;
<a name="l1124"><span class="linenum">1124</span></a>              }
<a name="l1125"><span class="linenum">1125</span></a>              <a class="var it10765" onMouseOver="hilite(10765)" onMouseOut="lolite()" onClick="logVariable('currentsubelement')" href="../../_variables/currentsubelement.html">$currentsubelement</a> = <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1];
<a name="l1126"><span class="linenum">1126</span></a>              <a class="var it10766" onMouseOver="hilite(10766)" onMouseOut="lolite()" onClick="logVariable('currentsub')" href="../../_variables/currentsub.html">$currentsub</a> = '';
<a name="l1127"><span class="linenum">1127</span></a>              <a class="var it10767" onMouseOver="hilite(10767)" onMouseOut="lolite()" onClick="logVariable('countsub')" href="../../_variables/countsub.html">$countsub</a> = 0;
<a name="l1128"><span class="linenum">1128</span></a>              <a class="var it1128" onMouseOver="hilite(1128)" onMouseOut="lolite()" onClick="logVariable('end')" href="../../_variables/end.html">$end</a> = <a class="phpfunction" onClick="logFunction('strpos')" href="../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1]) + <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1]);
<a name="l1129"><span class="linenum">1129</span></a>              <a class="var it10770" onMouseOver="hilite(10770)" onMouseOut="lolite()" onClick="logVariable('subelement')" href="../../_variables/subelement.html">$subelement</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, 0, <a class="var it1128" onMouseOver="hilite(1128)" onMouseOut="lolite()" onClick="logVariable('end')" href="../../_variables/end.html">$end</a>);
<a name="l1130"><span class="linenum">1130</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> .= '    '.<a class="var it10770" onMouseOver="hilite(10770)" onMouseOut="lolite()" onClick="logVariable('subelement')" href="../../_variables/subelement.html">$subelement</a>.&quot; = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();\n&quot;;
<a name="l1131"><span class="linenum">1131</span></a>          }
<a name="l1132"><span class="linenum">1132</span></a>  
<a name="l1133"><span class="linenum">1133</span></a>  <span class="comment">        // Now check the subelement subscript.</span>
<a name="l1134"><span class="linenum">1134</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>) &gt; 0 &amp;&amp; <a class="var it10766" onMouseOver="hilite(10766)" onMouseOut="lolite()" onClick="logVariable('currentsub')" href="../../_variables/currentsub.html">$currentsub</a> != <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[2]) {
<a name="l1135"><span class="linenum">1135</span></a>              <a class="var it10766" onMouseOver="hilite(10766)" onMouseOut="lolite()" onClick="logVariable('currentsub')" href="../../_variables/currentsub.html">$currentsub</a> = <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[2];
<a name="l1136"><span class="linenum">1136</span></a>              <a class="var it10767" onMouseOver="hilite(10767)" onMouseOut="lolite()" onClick="logVariable('countsub')" href="../../_variables/countsub.html">$countsub</a>++;
<a name="l1137"><span class="linenum">1137</span></a>              <a class="var it1128" onMouseOver="hilite(1128)" onMouseOut="lolite()" onClick="logVariable('end')" href="../../_variables/end.html">$end</a> = <a class="phpfunction" onClick="logFunction('strrpos')" href="../../_functions/strrpos.html" onMouseOver="phpfuncPopup(event,'strrpos')">strrpos</a>(<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[2]) + <a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[2]);
<a name="l1138"><span class="linenum">1138</span></a>              <a class="var it10770" onMouseOver="hilite(10770)" onMouseOut="lolite()" onClick="logVariable('subelement')" href="../../_variables/subelement.html">$subelement</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>, 0, <a class="var it1128" onMouseOver="hilite(1128)" onMouseOut="lolite()" onClick="logVariable('end')" href="../../_variables/end.html">$end</a>);
<a name="l1139"><span class="linenum">1139</span></a>              <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> .= '    '.<a class="var it10770" onMouseOver="hilite(10770)" onMouseOut="lolite()" onClick="logVariable('subelement')" href="../../_variables/subelement.html">$subelement</a>.&quot; = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();\n&quot;;
<a name="l1140"><span class="linenum">1140</span></a>          }
<a name="l1141"><span class="linenum">1141</span></a>  
<a name="l1142"><span class="linenum">1142</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> .= '    '.<a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>.' = '.<a class="function" onClick="logFunction('json_encode')" href="../../_functions/json_encode.html" onMouseOver="funcPopup(event,'json_encode')">json_encode</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>).&quot;;\n&quot;;
<a name="l1143"><span class="linenum">1143</span></a>      }
<a name="l1144"><span class="linenum">1144</span></a>      if (<a class="var it10767" onMouseOver="hilite(10767)" onMouseOut="lolite()" onClick="logVariable('countsub')" href="../../_variables/countsub.html">$countsub</a> &gt; 0) {
<a name="l1145"><span class="linenum">1145</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> .= '    '.<a class="var it515" onMouseOver="hilite(515)" onMouseOut="lolite()" onClick="logVariable('elementname')" href="../../_variables/elementname.html">$elementname</a>.<a class="var it10768" onMouseOver="hilite(10768)" onMouseOut="lolite()" onClick="logVariable('scormseperator')" href="../../_variables/scormseperator.html">$scormseperator</a>.<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('current')" href="../../_variables/current.html">$current</a>.'.'.<a class="var it10765" onMouseOver="hilite(10765)" onMouseOut="lolite()" onClick="logVariable('currentsubelement')" href="../../_variables/currentsubelement.html">$currentsubelement</a>.'._count = '.<a class="var it10767" onMouseOver="hilite(10767)" onMouseOut="lolite()" onClick="logVariable('countsub')" href="../../_variables/countsub.html">$countsub</a>.&quot;;\n&quot;;
<a name="l1146"><span class="linenum">1146</span></a>      }
<a name="l1147"><span class="linenum">1147</span></a>      if (<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a> &gt; 0) {
<a name="l1148"><span class="linenum">1148</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> .= '    '.<a class="var it515" onMouseOver="hilite(515)" onMouseOut="lolite()" onClick="logVariable('elementname')" href="../../_variables/elementname.html">$elementname</a>.'._count = '.<a class="var it191" onMouseOver="hilite(191)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../_variables/count.html">$count</a>.&quot;;\n&quot;;
<a name="l1149"><span class="linenum">1149</span></a>      }
<a name="l1150"><span class="linenum">1150</span></a>      return <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a>;
<a name="l1151"><span class="linenum">1151</span></a>  }
<a name="l1152"><span class="linenum">1152</span></a>  
<a name="l1153"><span class="linenum">1153</span></a>  <span class="comment">/**</span>
<a name="l1154"><span class="linenum">1154</span></a>  <span class="comment"> * Build up the JavaScript representation of an array element</span>
<a name="l1155"><span class="linenum">1155</span></a>  <span class="comment"> *</span>
<a name="l1156"><span class="linenum">1156</span></a>  <span class="comment"> * @param string $a left array element</span>
<a name="l1157"><span class="linenum">1157</span></a>  <span class="comment"> * @param string $b right array element</span>
<a name="l1158"><span class="linenum">1158</span></a>  <span class="comment"> * @return comparator - 0,1,-1</span>
<a name="l1159"><span class="linenum">1159</span></a>  <span class="comment"> */</span>
<a name="l1160"><span class="linenum">1160</span></a>  function <a class="function" onClick="logFunction('scorm_element_cmp')" href="../../_functions/scorm_element_cmp.html" onMouseOver="funcPopup(event,'scorm_element_cmp')">scorm_element_cmp</a>(<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>, <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../../_variables/b.html">$b</a>) {
<a name="l1161"><span class="linenum">1161</span></a>      <a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/.*?(\d+)\./', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>);
<a name="l1162"><span class="linenum">1162</span></a>      <a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../_variables/left.html">$left</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1]);
<a name="l1163"><span class="linenum">1163</span></a>      <a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/.?(\d+)\./', <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../../_variables/b.html">$b</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>);
<a name="l1164"><span class="linenum">1164</span></a>      <a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../_variables/right.html">$right</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[1]);
<a name="l1165"><span class="linenum">1165</span></a>      if (<a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../_variables/left.html">$left</a> &lt; <a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../_variables/right.html">$right</a>) {
<a name="l1166"><span class="linenum">1166</span></a>          return -1; <span class="comment">// Smaller.</span>
<a name="l1167"><span class="linenum">1167</span></a>      } else if (<a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../_variables/left.html">$left</a> &gt; <a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../_variables/right.html">$right</a>) {
<a name="l1168"><span class="linenum">1168</span></a>          return 1;  <span class="comment">// Bigger.</span>
<a name="l1169"><span class="linenum">1169</span></a>      } else {
<a name="l1170"><span class="linenum">1170</span></a>  <span class="comment">        // Look for a second level qualifier eg cmi.interactions_0.correct_responses_0.pattern.</span>
<a name="l1171"><span class="linenum">1171</span></a>          if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/.*?(\d+)\.(.*?)\.(\d+)\./', <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('a')" href="../../_variables/a.html">$a</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>)) {
<a name="l1172"><span class="linenum">1172</span></a>              <a class="var it10771" onMouseOver="hilite(10771)" onMouseOut="lolite()" onClick="logVariable('leftterm')" href="../../_variables/leftterm.html">$leftterm</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[2]);
<a name="l1173"><span class="linenum">1173</span></a>              <a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../_variables/left.html">$left</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[3]);
<a name="l1174"><span class="linenum">1174</span></a>              if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/.*?(\d+)\.(.*?)\.(\d+)\./', <a class="var it71" onMouseOver="hilite(71)" onMouseOut="lolite()" onClick="logVariable('b')" href="../../_variables/b.html">$b</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>)) {
<a name="l1175"><span class="linenum">1175</span></a>                  <a class="var it10772" onMouseOver="hilite(10772)" onMouseOut="lolite()" onClick="logVariable('rightterm')" href="../../_variables/rightterm.html">$rightterm</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[2]);
<a name="l1176"><span class="linenum">1176</span></a>                  <a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../_variables/right.html">$right</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('matches')" href="../../_variables/matches.html">$matches</a>[3]);
<a name="l1177"><span class="linenum">1177</span></a>                  if (<a class="var it10771" onMouseOver="hilite(10771)" onMouseOut="lolite()" onClick="logVariable('leftterm')" href="../../_variables/leftterm.html">$leftterm</a> &lt; <a class="var it10772" onMouseOver="hilite(10772)" onMouseOut="lolite()" onClick="logVariable('rightterm')" href="../../_variables/rightterm.html">$rightterm</a>) {
<a name="l1178"><span class="linenum">1178</span></a>                      return -1; <span class="comment">// Smaller.</span>
<a name="l1179"><span class="linenum">1179</span></a>                  } else if (<a class="var it10771" onMouseOver="hilite(10771)" onMouseOut="lolite()" onClick="logVariable('leftterm')" href="../../_variables/leftterm.html">$leftterm</a> &gt; <a class="var it10772" onMouseOver="hilite(10772)" onMouseOut="lolite()" onClick="logVariable('rightterm')" href="../../_variables/rightterm.html">$rightterm</a>) {
<a name="l1180"><span class="linenum">1180</span></a>                      return 1;  <span class="comment">// Bigger.</span>
<a name="l1181"><span class="linenum">1181</span></a>                  } else {
<a name="l1182"><span class="linenum">1182</span></a>                      if (<a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../_variables/left.html">$left</a> &lt; <a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../_variables/right.html">$right</a>) {
<a name="l1183"><span class="linenum">1183</span></a>                          return -1; <span class="comment">// Smaller.</span>
<a name="l1184"><span class="linenum">1184</span></a>                      } else if (<a class="var it141" onMouseOver="hilite(141)" onMouseOut="lolite()" onClick="logVariable('left')" href="../../_variables/left.html">$left</a> &gt; <a class="var it142" onMouseOver="hilite(142)" onMouseOut="lolite()" onClick="logVariable('right')" href="../../_variables/right.html">$right</a>) {
<a name="l1185"><span class="linenum">1185</span></a>                          return 1;  <span class="comment">// Bigger.</span>
<a name="l1186"><span class="linenum">1186</span></a>                      }
<a name="l1187"><span class="linenum">1187</span></a>                  }
<a name="l1188"><span class="linenum">1188</span></a>              }
<a name="l1189"><span class="linenum">1189</span></a>          }
<a name="l1190"><span class="linenum">1190</span></a>  <span class="comment">        // Fall back for no second level matches or second level matches are equal.</span>
<a name="l1191"><span class="linenum">1191</span></a>          return 0;  <span class="comment">// Equal to.</span>
<a name="l1192"><span class="linenum">1192</span></a>      }
<a name="l1193"><span class="linenum">1193</span></a>  }
<a name="l1194"><span class="linenum">1194</span></a>  
<a name="l1195"><span class="linenum">1195</span></a>  <span class="comment">/**</span>
<a name="l1196"><span class="linenum">1196</span></a>  <span class="comment"> * Generate the user attempt status string</span>
<a name="l1197"><span class="linenum">1197</span></a>  <span class="comment"> *</span>
<a name="l1198"><span class="linenum">1198</span></a>  <span class="comment"> * @param object $user Current context user</span>
<a name="l1199"><span class="linenum">1199</span></a>  <span class="comment"> * @param object $scorm a moodle scrom object - mdl_scorm</span>
<a name="l1200"><span class="linenum">1200</span></a>  <span class="comment"> * @return string - Attempt status string</span>
<a name="l1201"><span class="linenum">1201</span></a>  <span class="comment"> */</span>
<a name="l1202"><span class="linenum">1202</span></a>  function <a class="function" onClick="logFunction('scorm_get_attempt_status')" href="../../_functions/scorm_get_attempt_status.html" onMouseOver="funcPopup(event,'scorm_get_attempt_status')">scorm_get_attempt_status</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>='') {
<a name="l1203"><span class="linenum">1203</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1204"><span class="linenum">1204</span></a>  
<a name="l1205"><span class="linenum">1205</span></a>      <a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../_variables/attempts.html">$attempts</a> = <a class="function" onClick="logFunction('scorm_get_attempt_count')" href="../../_functions/scorm_get_attempt_count.html" onMouseOver="funcPopup(event,'scorm_get_attempt_count')">scorm_get_attempt_count</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, true);
<a name="l1206"><span class="linenum">1206</span></a>      if (empty(<a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../_variables/attempts.html">$attempts</a>)) {
<a name="l1207"><span class="linenum">1207</span></a>          <a class="var it10757" onMouseOver="hilite(10757)" onMouseOut="lolite()" onClick="logVariable('attemptcount')" href="../../_variables/attemptcount.html">$attemptcount</a> = 0;
<a name="l1208"><span class="linenum">1208</span></a>      } else {
<a name="l1209"><span class="linenum">1209</span></a>          <a class="var it10757" onMouseOver="hilite(10757)" onMouseOut="lolite()" onClick="logVariable('attemptcount')" href="../../_variables/attemptcount.html">$attemptcount</a> = <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../_variables/attempts.html">$attempts</a>);
<a name="l1210"><span class="linenum">1210</span></a>      }
<a name="l1211"><span class="linenum">1211</span></a>  
<a name="l1212"><span class="linenum">1212</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('p').<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('noattemptsallowed', 'scorm').': ';
<a name="l1213"><span class="linenum">1213</span></a>      if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('maxattempt')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/maxattempt.html">maxattempt</a> &gt; 0) {
<a name="l1214"><span class="linenum">1214</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> .= <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('maxattempt')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/maxattempt.html">maxattempt</a> . <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('br');
<a name="l1215"><span class="linenum">1215</span></a>      } else {
<a name="l1216"><span class="linenum">1216</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> .= <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('unlimited').<a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('br');
<a name="l1217"><span class="linenum">1217</span></a>      }
<a name="l1218"><span class="linenum">1218</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> .= <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('noattemptsmade', 'scorm').': ' . <a class="var it10757" onMouseOver="hilite(10757)" onMouseOut="lolite()" onClick="logVariable('attemptcount')" href="../../_variables/attemptcount.html">$attemptcount</a> . <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('br');
<a name="l1219"><span class="linenum">1219</span></a>  
<a name="l1220"><span class="linenum">1220</span></a>      if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('maxattempt')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/maxattempt.html">maxattempt</a> == 1) {
<a name="l1221"><span class="linenum">1221</span></a>          switch (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('grademethod')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/grademethod.html">grademethod</a>) {
<a name="l1222"><span class="linenum">1222</span></a>              case <a class="constant" onClick="logConstant('GRADEHIGHEST')" href="../../_constants/GRADEHIGHEST.html" onMouseOver="constPopup(event,'GRADEHIGHEST')">GRADEHIGHEST</a>:
<a name="l1223"><span class="linenum">1223</span></a>                  <a class="var it623" onMouseOver="hilite(623)" onMouseOut="lolite()" onClick="logVariable('grademethod')" href="../../_variables/grademethod.html">$grademethod</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('gradehighest', 'scorm');
<a name="l1224"><span class="linenum">1224</span></a>              break;
<a name="l1225"><span class="linenum">1225</span></a>              case <a class="constant" onClick="logConstant('GRADEAVERAGE')" href="../../_constants/GRADEAVERAGE.html" onMouseOver="constPopup(event,'GRADEAVERAGE')">GRADEAVERAGE</a>:
<a name="l1226"><span class="linenum">1226</span></a>                  <a class="var it623" onMouseOver="hilite(623)" onMouseOut="lolite()" onClick="logVariable('grademethod')" href="../../_variables/grademethod.html">$grademethod</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('gradeaverage', 'scorm');
<a name="l1227"><span class="linenum">1227</span></a>              break;
<a name="l1228"><span class="linenum">1228</span></a>              case <a class="constant" onClick="logConstant('GRADESUM')" href="../../_constants/GRADESUM.html" onMouseOver="constPopup(event,'GRADESUM')">GRADESUM</a>:
<a name="l1229"><span class="linenum">1229</span></a>                  <a class="var it623" onMouseOver="hilite(623)" onMouseOut="lolite()" onClick="logVariable('grademethod')" href="../../_variables/grademethod.html">$grademethod</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('gradesum', 'scorm');
<a name="l1230"><span class="linenum">1230</span></a>              break;
<a name="l1231"><span class="linenum">1231</span></a>              case <a class="constant" onClick="logConstant('GRADESCOES')" href="../../_constants/GRADESCOES.html" onMouseOver="constPopup(event,'GRADESCOES')">GRADESCOES</a>:
<a name="l1232"><span class="linenum">1232</span></a>                  <a class="var it623" onMouseOver="hilite(623)" onMouseOut="lolite()" onClick="logVariable('grademethod')" href="../../_variables/grademethod.html">$grademethod</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('gradescoes', 'scorm');
<a name="l1233"><span class="linenum">1233</span></a>              break;
<a name="l1234"><span class="linenum">1234</span></a>          }
<a name="l1235"><span class="linenum">1235</span></a>      } else {
<a name="l1236"><span class="linenum">1236</span></a>          switch (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('whatgrade')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/whatgrade.html">whatgrade</a>) {
<a name="l1237"><span class="linenum">1237</span></a>              case <a class="constant" onClick="logConstant('HIGHESTATTEMPT')" href="../../_constants/HIGHESTATTEMPT.html" onMouseOver="constPopup(event,'HIGHESTATTEMPT')">HIGHESTATTEMPT</a>:
<a name="l1238"><span class="linenum">1238</span></a>                  <a class="var it623" onMouseOver="hilite(623)" onMouseOut="lolite()" onClick="logVariable('grademethod')" href="../../_variables/grademethod.html">$grademethod</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('highestattempt', 'scorm');
<a name="l1239"><span class="linenum">1239</span></a>              break;
<a name="l1240"><span class="linenum">1240</span></a>              case <a class="constant" onClick="logConstant('AVERAGEATTEMPT')" href="../../_constants/AVERAGEATTEMPT.html" onMouseOver="constPopup(event,'AVERAGEATTEMPT')">AVERAGEATTEMPT</a>:
<a name="l1241"><span class="linenum">1241</span></a>                  <a class="var it623" onMouseOver="hilite(623)" onMouseOut="lolite()" onClick="logVariable('grademethod')" href="../../_variables/grademethod.html">$grademethod</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('averageattempt', 'scorm');
<a name="l1242"><span class="linenum">1242</span></a>              break;
<a name="l1243"><span class="linenum">1243</span></a>              case <a class="constant" onClick="logConstant('FIRSTATTEMPT')" href="../../_constants/FIRSTATTEMPT.html" onMouseOver="constPopup(event,'FIRSTATTEMPT')">FIRSTATTEMPT</a>:
<a name="l1244"><span class="linenum">1244</span></a>                  <a class="var it623" onMouseOver="hilite(623)" onMouseOut="lolite()" onClick="logVariable('grademethod')" href="../../_variables/grademethod.html">$grademethod</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('firstattempt', 'scorm');
<a name="l1245"><span class="linenum">1245</span></a>              break;
<a name="l1246"><span class="linenum">1246</span></a>              case <a class="constant" onClick="logConstant('LASTATTEMPT')" href="../../_constants/LASTATTEMPT.html" onMouseOver="constPopup(event,'LASTATTEMPT')">LASTATTEMPT</a>:
<a name="l1247"><span class="linenum">1247</span></a>                  <a class="var it623" onMouseOver="hilite(623)" onMouseOut="lolite()" onClick="logVariable('grademethod')" href="../../_variables/grademethod.html">$grademethod</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('lastattempt', 'scorm');
<a name="l1248"><span class="linenum">1248</span></a>              break;
<a name="l1249"><span class="linenum">1249</span></a>          }
<a name="l1250"><span class="linenum">1250</span></a>      }
<a name="l1251"><span class="linenum">1251</span></a>  
<a name="l1252"><span class="linenum">1252</span></a>      if (!empty(<a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../_variables/attempts.html">$attempts</a>)) {
<a name="l1253"><span class="linenum">1253</span></a>          <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 1;
<a name="l1254"><span class="linenum">1254</span></a>          foreach (<a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../_variables/attempts.html">$attempts</a> as <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>) {
<a name="l1255"><span class="linenum">1255</span></a>              <a class="var it10773" onMouseOver="hilite(10773)" onMouseOut="lolite()" onClick="logVariable('gradereported')" href="../../_variables/gradereported.html">$gradereported</a> = <a class="function" onClick="logFunction('scorm_grade_user_attempt')" href="../../_functions/scorm_grade_user_attempt.html" onMouseOver="funcPopup(event,'scorm_grade_user_attempt')">scorm_grade_user_attempt</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>-&gt;<a onClick="logVariable('attemptnumber')" class="var it43015" onMouseOver="hilite(43015)" onMouseOut="lolite()" href="../../_variables/attemptnumber.html">attemptnumber</a>);
<a name="l1256"><span class="linenum">1256</span></a>              if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('grademethod')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/grademethod.html">grademethod</a> !== <a class="constant" onClick="logConstant('GRADESCOES')" href="../../_constants/GRADESCOES.html" onMouseOver="constPopup(event,'GRADESCOES')">GRADESCOES</a> &amp;&amp; !empty(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('maxgrade')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/maxgrade.html">maxgrade</a>)) {
<a name="l1257"><span class="linenum">1257</span></a>                  <a class="var it10773" onMouseOver="hilite(10773)" onMouseOut="lolite()" onClick="logVariable('gradereported')" href="../../_variables/gradereported.html">$gradereported</a> = <a class="var it10773" onMouseOver="hilite(10773)" onMouseOut="lolite()" onClick="logVariable('gradereported')" href="../../_variables/gradereported.html">$gradereported</a> / <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('maxgrade')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/maxgrade.html">maxgrade</a>;
<a name="l1258"><span class="linenum">1258</span></a>                  <a class="var it10773" onMouseOver="hilite(10773)" onMouseOut="lolite()" onClick="logVariable('gradereported')" href="../../_variables/gradereported.html">$gradereported</a> = <a class="phpfunction" onClick="logFunction('number_format')" href="../../_functions/number_format.html" onMouseOver="phpfuncPopup(event,'number_format')">number_format</a>(<a class="var it10773" onMouseOver="hilite(10773)" onMouseOut="lolite()" onClick="logVariable('gradereported')" href="../../_variables/gradereported.html">$gradereported</a> * 100, 0) .'%';
<a name="l1259"><span class="linenum">1259</span></a>              }
<a name="l1260"><span class="linenum">1260</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> .= <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('gradeforattempt', 'scorm').' ' . <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> . ': ' . <a class="var it10773" onMouseOver="hilite(10773)" onMouseOut="lolite()" onClick="logVariable('gradereported')" href="../../_variables/gradereported.html">$gradereported</a> .<a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('br');
<a name="l1261"><span class="linenum">1261</span></a>              <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++;
<a name="l1262"><span class="linenum">1262</span></a>          }
<a name="l1263"><span class="linenum">1263</span></a>      }
<a name="l1264"><span class="linenum">1264</span></a>      <a class="var it10774" onMouseOver="hilite(10774)" onMouseOut="lolite()" onClick="logVariable('calculatedgrade')" href="../../_variables/calculatedgrade.html">$calculatedgrade</a> = <a class="function" onClick="logFunction('scorm_grade_user')" href="../../_functions/scorm_grade_user.html" onMouseOver="funcPopup(event,'scorm_grade_user')">scorm_grade_user</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1265"><span class="linenum">1265</span></a>      if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('grademethod')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/grademethod.html">grademethod</a> !== <a class="constant" onClick="logConstant('GRADESCOES')" href="../../_constants/GRADESCOES.html" onMouseOver="constPopup(event,'GRADESCOES')">GRADESCOES</a> &amp;&amp; !empty(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('maxgrade')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/maxgrade.html">maxgrade</a>)) {
<a name="l1266"><span class="linenum">1266</span></a>          <a class="var it10774" onMouseOver="hilite(10774)" onMouseOut="lolite()" onClick="logVariable('calculatedgrade')" href="../../_variables/calculatedgrade.html">$calculatedgrade</a> = <a class="var it10774" onMouseOver="hilite(10774)" onMouseOut="lolite()" onClick="logVariable('calculatedgrade')" href="../../_variables/calculatedgrade.html">$calculatedgrade</a> / <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('maxgrade')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/maxgrade.html">maxgrade</a>;
<a name="l1267"><span class="linenum">1267</span></a>          <a class="var it10774" onMouseOver="hilite(10774)" onMouseOut="lolite()" onClick="logVariable('calculatedgrade')" href="../../_variables/calculatedgrade.html">$calculatedgrade</a> = <a class="phpfunction" onClick="logFunction('number_format')" href="../../_functions/number_format.html" onMouseOver="phpfuncPopup(event,'number_format')">number_format</a>(<a class="var it10774" onMouseOver="hilite(10774)" onMouseOut="lolite()" onClick="logVariable('calculatedgrade')" href="../../_variables/calculatedgrade.html">$calculatedgrade</a> * 100, 0) .'%';
<a name="l1268"><span class="linenum">1268</span></a>      }
<a name="l1269"><span class="linenum">1269</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> .= <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('grademethod', 'scorm'). ': ' . <a class="var it623" onMouseOver="hilite(623)" onMouseOut="lolite()" onClick="logVariable('grademethod')" href="../../_variables/grademethod.html">$grademethod</a>;
<a name="l1270"><span class="linenum">1270</span></a>      if (empty(<a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../_variables/attempts.html">$attempts</a>)) {
<a name="l1271"><span class="linenum">1271</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('br').<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('gradereported', 'scorm').
<a name="l1272"><span class="linenum">1272</span></a>                      ': '.<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('none').<a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('br');
<a name="l1273"><span class="linenum">1273</span></a>      } else {
<a name="l1274"><span class="linenum">1274</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('br').<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('gradereported', 'scorm').
<a name="l1275"><span class="linenum">1275</span></a>                      ': '.<a class="var it10774" onMouseOver="hilite(10774)" onMouseOut="lolite()" onClick="logVariable('calculatedgrade')" href="../../_variables/calculatedgrade.html">$calculatedgrade</a>.<a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('br');
<a name="l1276"><span class="linenum">1276</span></a>      }
<a name="l1277"><span class="linenum">1277</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('p');
<a name="l1278"><span class="linenum">1278</span></a>      if (<a class="var it10757" onMouseOver="hilite(10757)" onMouseOut="lolite()" onClick="logVariable('attemptcount')" href="../../_variables/attemptcount.html">$attemptcount</a> &gt;= <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('maxattempt')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/maxattempt.html">maxattempt</a> and <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('maxattempt')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/maxattempt.html">maxattempt</a> &gt; 0) {
<a name="l1279"><span class="linenum">1279</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('p', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('exceededmaxattempts', 'scorm'), array('class' =&gt; 'exceededmaxattempts'));
<a name="l1280"><span class="linenum">1280</span></a>      }
<a name="l1281"><span class="linenum">1281</span></a>      if (!empty(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>)) {
<a name="l1282"><span class="linenum">1282</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1283"><span class="linenum">1283</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/scorm:deleteownresponses', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>) &amp;&amp;
<a name="l1284"><span class="linenum">1284</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('scorm_scoes_track', array('userid' =&gt; <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'scormid' =&gt; <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>))) {
<a name="l1285"><span class="linenum">1285</span></a>  <span class="comment">            // Check to see if any data is stored for this user.</span>
<a name="l1286"><span class="linenum">1286</span></a>              <a class="var it10029" onMouseOver="hilite(10029)" onMouseOut="lolite()" onClick="logVariable('deleteurl')" href="../../_variables/deleteurl.html">$deleteurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('url')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../../_variables/url.html">url</a>, array('action' =&gt; 'delete', 'sesskey' =&gt; <a class="function" onClick="logFunction('sesskey')" href="../../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>()));
<a name="l1287"><span class="linenum">1287</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> .= <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('single_button')" href="../../_functions/single_button.html" onMouseOver="funcPopup(event,'single_button')">single_button</a>(<a class="var it10029" onMouseOver="hilite(10029)" onMouseOut="lolite()" onClick="logVariable('deleteurl')" href="../../_variables/deleteurl.html">$deleteurl</a>, <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('deleteallattempts', 'scorm'));
<a name="l1288"><span class="linenum">1288</span></a>          }
<a name="l1289"><span class="linenum">1289</span></a>      }
<a name="l1290"><span class="linenum">1290</span></a>  
<a name="l1291"><span class="linenum">1291</span></a>      return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l1292"><span class="linenum">1292</span></a>  }
<a name="l1293"><span class="linenum">1293</span></a>  
<a name="l1294"><span class="linenum">1294</span></a>  <span class="comment">/**</span>
<a name="l1295"><span class="linenum">1295</span></a>  <span class="comment"> * Get SCORM attempt count</span>
<a name="l1296"><span class="linenum">1296</span></a>  <span class="comment"> *</span>
<a name="l1297"><span class="linenum">1297</span></a>  <span class="comment"> * @param object $user Current context user</span>
<a name="l1298"><span class="linenum">1298</span></a>  <span class="comment"> * @param object $scorm a moodle scrom object - mdl_scorm</span>
<a name="l1299"><span class="linenum">1299</span></a>  <span class="comment"> * @param bool $returnobjects if true returns a object with attempts, if false returns count of attempts.</span>
<a name="l1300"><span class="linenum">1300</span></a>  <span class="comment"> * @param bool $ignoremissingcompletion - ignores attempts that haven't reported a grade/completion.</span>
<a name="l1301"><span class="linenum">1301</span></a>  <span class="comment"> * @return int - no. of attempts so far</span>
<a name="l1302"><span class="linenum">1302</span></a>  <span class="comment"> */</span>
<a name="l1303"><span class="linenum">1303</span></a>  function <a class="function" onClick="logFunction('scorm_get_attempt_count')" href="../../_functions/scorm_get_attempt_count.html" onMouseOver="funcPopup(event,'scorm_get_attempt_count')">scorm_get_attempt_count</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it10775" onMouseOver="hilite(10775)" onMouseOut="lolite()" onClick="logVariable('returnobjects')" href="../../_variables/returnobjects.html">$returnobjects</a> = false, <a class="var it10776" onMouseOver="hilite(10776)" onMouseOut="lolite()" onClick="logVariable('ignoremissingcompletion')" href="../../_variables/ignoremissingcompletion.html">$ignoremissingcompletion</a> = false) {
<a name="l1304"><span class="linenum">1304</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l1305"><span class="linenum">1305</span></a>  
<a name="l1306"><span class="linenum">1306</span></a>  <span class="comment">    // Historically attempts that don't report these elements haven't been included in the average attempts grading method</span>
<a name="l1307"><span class="linenum">1307</span></a>  <span class="comment">    // we may want to change this in future, but to avoid unexpected grade decreases we're leaving this in. MDL-43222 .</span>
<a name="l1308"><span class="linenum">1308</span></a>      if (<a class="function" onClick="logFunction('scorm_version_check')" href="../../_functions/scorm_version_check.html" onMouseOver="funcPopup(event,'scorm_version_check')">scorm_version_check</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a>, <a class="constant" onClick="logConstant('SCORM_13')" href="../../_constants/SCORM_13.html" onMouseOver="constPopup(event,'SCORM_13')">SCORM_13</a>)) {
<a name="l1309"><span class="linenum">1309</span></a>          <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a> = 'cmi.score.raw';
<a name="l1310"><span class="linenum">1310</span></a>      } else if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('grademethod')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/grademethod.html">grademethod</a> == <a class="constant" onClick="logConstant('GRADESCOES')" href="../../_constants/GRADESCOES.html" onMouseOver="constPopup(event,'GRADESCOES')">GRADESCOES</a>) {
<a name="l1311"><span class="linenum">1311</span></a>          <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a> = 'cmi.core.lesson_status';
<a name="l1312"><span class="linenum">1312</span></a>      } else {
<a name="l1313"><span class="linenum">1313</span></a>          <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a> = 'cmi.core.score.raw';
<a name="l1314"><span class="linenum">1314</span></a>      }
<a name="l1315"><span class="linenum">1315</span></a>  
<a name="l1316"><span class="linenum">1316</span></a>      if (<a class="var it10775" onMouseOver="hilite(10775)" onMouseOut="lolite()" onClick="logVariable('returnobjects')" href="../../_variables/returnobjects.html">$returnobjects</a>) {
<a name="l1317"><span class="linenum">1317</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, 'scormid' =&gt; <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1318"><span class="linenum">1318</span></a>          if (<a class="var it10776" onMouseOver="hilite(10776)" onMouseOut="lolite()" onClick="logVariable('ignoremissingcompletion')" href="../../_variables/ignoremissingcompletion.html">$ignoremissingcompletion</a>) { // Exclude attempts that don't have the completion element requested.
<a name="l1319"><span class="linenum">1319</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['element'] = <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>;
<a name="l1320"><span class="linenum">1320</span></a>          }
<a name="l1321"><span class="linenum">1321</span></a>          <a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../_variables/attempts.html">$attempts</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('scorm_scoes_track', <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, 'attempt', 'DISTINCT attempt AS attemptnumber');
<a name="l1322"><span class="linenum">1322</span></a>          return <a class="var it744" onMouseOver="hilite(744)" onMouseOut="lolite()" onClick="logVariable('attempts')" href="../../_variables/attempts.html">$attempts</a>;
<a name="l1323"><span class="linenum">1323</span></a>      } else {
<a name="l1324"><span class="linenum">1324</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1325"><span class="linenum">1325</span></a>          <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;SELECT <a class="phpfunction" onClick="logFunction('COUNT')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>(DISTINCT attempt)
<a name="l1326"><span class="linenum">1326</span></a>                    FROM {scorm_scoes_track}
<a name="l1327"><span class="linenum">1327</span></a>                   WHERE userid = ? AND scormid = ?&quot;;
<a name="l1328"><span class="linenum">1328</span></a>          if (<a class="var it10776" onMouseOver="hilite(10776)" onMouseOut="lolite()" onClick="logVariable('ignoremissingcompletion')" href="../../_variables/ignoremissingcompletion.html">$ignoremissingcompletion</a>) { // Exclude attempts that don't have the completion element requested.
<a name="l1329"><span class="linenum">1329</span></a>              <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> .= ' AND element = ?';
<a name="l1330"><span class="linenum">1330</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>[] = <a class="var it634" onMouseOver="hilite(634)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../_variables/element.html">$element</a>;
<a name="l1331"><span class="linenum">1331</span></a>          }
<a name="l1332"><span class="linenum">1332</span></a>  
<a name="l1333"><span class="linenum">1333</span></a>          <a class="var it2445" onMouseOver="hilite(2445)" onMouseOut="lolite()" onClick="logVariable('attemptscount')" href="../../_variables/attemptscount.html">$attemptscount</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records_sql')" href="../../_functions/count_records_sql.html" onMouseOver="funcPopup(event,'count_records_sql')">count_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l1334"><span class="linenum">1334</span></a>          return <a class="var it2445" onMouseOver="hilite(2445)" onMouseOut="lolite()" onClick="logVariable('attemptscount')" href="../../_variables/attemptscount.html">$attemptscount</a>;
<a name="l1335"><span class="linenum">1335</span></a>      }
<a name="l1336"><span class="linenum">1336</span></a>  }
<a name="l1337"><span class="linenum">1337</span></a>  
<a name="l1338"><span class="linenum">1338</span></a>  <span class="comment">/**</span>
<a name="l1339"><span class="linenum">1339</span></a>  <span class="comment"> * Figure out with this is a debug situation</span>
<a name="l1340"><span class="linenum">1340</span></a>  <span class="comment"> *</span>
<a name="l1341"><span class="linenum">1341</span></a>  <span class="comment"> * @param object $scorm a moodle scrom object - mdl_scorm</span>
<a name="l1342"><span class="linenum">1342</span></a>  <span class="comment"> * @return boolean - debugging true/false</span>
<a name="l1343"><span class="linenum">1343</span></a>  <span class="comment"> */</span>
<a name="l1344"><span class="linenum">1344</span></a>  function <a class="function" onClick="logFunction('scorm_debugging')" href="../../_functions/scorm_debugging.html" onMouseOver="funcPopup(event,'scorm_debugging')">scorm_debugging</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>) {
<a name="l1345"><span class="linenum">1345</span></a>      global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>;
<a name="l1346"><span class="linenum">1346</span></a>      <a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a> = <a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('scorm');
<a name="l1347"><span class="linenum">1347</span></a>  
<a name="l1348"><span class="linenum">1348</span></a>      if (!<a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a>-&gt;<a onClick="logVariable('allowapidebug')" class="var it43741" onMouseOver="hilite(43741)" onMouseOut="lolite()" href="../../_variables/allowapidebug.html">allowapidebug</a>) {
<a name="l1349"><span class="linenum">1349</span></a>          return false;
<a name="l1350"><span class="linenum">1350</span></a>      }
<a name="l1351"><span class="linenum">1351</span></a>      <a class="var it724" onMouseOver="hilite(724)" onMouseOut="lolite()" onClick="logVariable('identifier')" href="../../_variables/identifier.html">$identifier</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('username')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/username.html">username</a>.':'.<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('name')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>;
<a name="l1352"><span class="linenum">1352</span></a>      <a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a> = <a class="var it587" onMouseOver="hilite(587)" onMouseOut="lolite()" onClick="logVariable('cfgscorm')" href="../../_variables/cfgscorm.html">$cfgscorm</a>-&gt;<a onClick="logVariable('apidebugmask')" class="var it43741" onMouseOver="hilite(43741)" onMouseOut="lolite()" href="../../_variables/apidebugmask.html">apidebugmask</a>;
<a name="l1353"><span class="linenum">1353</span></a>  <span class="comment">    // Check the regex is only a short list of safe characters.</span>
<a name="l1354"><span class="linenum">1354</span></a>      if (!<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^[\w\s\*\.\?\+\:\_\\\]+$/', <a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a>)) {
<a name="l1355"><span class="linenum">1355</span></a>          return false;
<a name="l1356"><span class="linenum">1356</span></a>      }
<a name="l1357"><span class="linenum">1357</span></a>  
<a name="l1358"><span class="linenum">1358</span></a>      if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('/^'.<a class="var it3797" onMouseOver="hilite(3797)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../_variables/test.html">$test</a>.'/', <a class="var it724" onMouseOver="hilite(724)" onMouseOut="lolite()" onClick="logVariable('identifier')" href="../../_variables/identifier.html">$identifier</a>)) {
<a name="l1359"><span class="linenum">1359</span></a>          return true;
<a name="l1360"><span class="linenum">1360</span></a>      }
<a name="l1361"><span class="linenum">1361</span></a>      return false;
<a name="l1362"><span class="linenum">1362</span></a>  }
<a name="l1363"><span class="linenum">1363</span></a>  
<a name="l1364"><span class="linenum">1364</span></a>  <span class="comment">/**</span>
<a name="l1365"><span class="linenum">1365</span></a>  <span class="comment"> * Delete Scorm tracks for selected users</span>
<a name="l1366"><span class="linenum">1366</span></a>  <span class="comment"> *</span>
<a name="l1367"><span class="linenum">1367</span></a>  <span class="comment"> * @param array $attemptids list of attempts that need to be deleted</span>
<a name="l1368"><span class="linenum">1368</span></a>  <span class="comment"> * @param stdClass $scorm instance</span>
<a name="l1369"><span class="linenum">1369</span></a>  <span class="comment"> *</span>
<a name="l1370"><span class="linenum">1370</span></a>  <span class="comment"> * @return bool true deleted all responses, false failed deleting an attempt - stopped here</span>
<a name="l1371"><span class="linenum">1371</span></a>  <span class="comment"> */</span>
<a name="l1372"><span class="linenum">1372</span></a>  function <a class="function" onClick="logFunction('scorm_delete_responses')" href="../../_functions/scorm_delete_responses.html" onMouseOver="funcPopup(event,'scorm_delete_responses')">scorm_delete_responses</a>(<a class="var it5514" onMouseOver="hilite(5514)" onMouseOut="lolite()" onClick="logVariable('attemptids')" href="../../_variables/attemptids.html">$attemptids</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>) {
<a name="l1373"><span class="linenum">1373</span></a>      if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it5514" onMouseOver="hilite(5514)" onMouseOut="lolite()" onClick="logVariable('attemptids')" href="../../_variables/attemptids.html">$attemptids</a>) || empty(<a class="var it5514" onMouseOver="hilite(5514)" onMouseOut="lolite()" onClick="logVariable('attemptids')" href="../../_variables/attemptids.html">$attemptids</a>)) {
<a name="l1374"><span class="linenum">1374</span></a>          return false;
<a name="l1375"><span class="linenum">1375</span></a>      }
<a name="l1376"><span class="linenum">1376</span></a>  
<a name="l1377"><span class="linenum">1377</span></a>      foreach (<a class="var it5514" onMouseOver="hilite(5514)" onMouseOut="lolite()" onClick="logVariable('attemptids')" href="../../_variables/attemptids.html">$attemptids</a> as <a class="var it1844" onMouseOver="hilite(1844)" onMouseOut="lolite()" onClick="logVariable('num')" href="../../_variables/num.html">$num</a> =&gt; <a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../_variables/attemptid.html">$attemptid</a>) {
<a name="l1378"><span class="linenum">1378</span></a>          if (empty(<a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../_variables/attemptid.html">$attemptid</a>)) {
<a name="l1379"><span class="linenum">1379</span></a>              unset(<a class="var it5514" onMouseOver="hilite(5514)" onMouseOut="lolite()" onClick="logVariable('attemptids')" href="../../_variables/attemptids.html">$attemptids</a>[<a class="var it1844" onMouseOver="hilite(1844)" onMouseOut="lolite()" onClick="logVariable('num')" href="../../_variables/num.html">$num</a>]);
<a name="l1380"><span class="linenum">1380</span></a>          }
<a name="l1381"><span class="linenum">1381</span></a>      }
<a name="l1382"><span class="linenum">1382</span></a>  
<a name="l1383"><span class="linenum">1383</span></a>      foreach (<a class="var it5514" onMouseOver="hilite(5514)" onMouseOut="lolite()" onClick="logVariable('attemptids')" href="../../_variables/attemptids.html">$attemptids</a> as <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>) {
<a name="l1384"><span class="linenum">1384</span></a>          <a class="var it408" onMouseOver="hilite(408)" onMouseOut="lolite()" onClick="logVariable('keys')" href="../../_variables/keys.html">$keys</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(':', <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>);
<a name="l1385"><span class="linenum">1385</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it408" onMouseOver="hilite(408)" onMouseOut="lolite()" onClick="logVariable('keys')" href="../../_variables/keys.html">$keys</a>) == 2) {
<a name="l1386"><span class="linenum">1386</span></a>              <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = <a class="function" onClick="logFunction('clean_param')" href="../../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="var it408" onMouseOver="hilite(408)" onMouseOut="lolite()" onClick="logVariable('keys')" href="../../_variables/keys.html">$keys</a>[0], <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l1387"><span class="linenum">1387</span></a>              <a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../_variables/attemptid.html">$attemptid</a> = <a class="function" onClick="logFunction('clean_param')" href="../../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="var it408" onMouseOver="hilite(408)" onMouseOut="lolite()" onClick="logVariable('keys')" href="../../_variables/keys.html">$keys</a>[1], <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l1388"><span class="linenum">1388</span></a>              if (!<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> || !<a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../_variables/attemptid.html">$attemptid</a> || !<a class="function" onClick="logFunction('scorm_delete_attempt')" href="../../_functions/scorm_delete_attempt.html" onMouseOver="funcPopup(event,'scorm_delete_attempt')">scorm_delete_attempt</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../_variables/attemptid.html">$attemptid</a>)) {
<a name="l1389"><span class="linenum">1389</span></a>                      return false;
<a name="l1390"><span class="linenum">1390</span></a>              }
<a name="l1391"><span class="linenum">1391</span></a>          } else {
<a name="l1392"><span class="linenum">1392</span></a>              return false;
<a name="l1393"><span class="linenum">1393</span></a>          }
<a name="l1394"><span class="linenum">1394</span></a>      }
<a name="l1395"><span class="linenum">1395</span></a>      return true;
<a name="l1396"><span class="linenum">1396</span></a>  }
<a name="l1397"><span class="linenum">1397</span></a>  
<a name="l1398"><span class="linenum">1398</span></a>  <span class="comment">/**</span>
<a name="l1399"><span class="linenum">1399</span></a>  <span class="comment"> * Delete Scorm tracks for selected users</span>
<a name="l1400"><span class="linenum">1400</span></a>  <span class="comment"> *</span>
<a name="l1401"><span class="linenum">1401</span></a>  <span class="comment"> * @param int $userid ID of User</span>
<a name="l1402"><span class="linenum">1402</span></a>  <span class="comment"> * @param stdClass $scorm Scorm object</span>
<a name="l1403"><span class="linenum">1403</span></a>  <span class="comment"> * @param int $attemptid user attempt that need to be deleted</span>
<a name="l1404"><span class="linenum">1404</span></a>  <span class="comment"> *</span>
<a name="l1405"><span class="linenum">1405</span></a>  <span class="comment"> * @return bool true suceeded</span>
<a name="l1406"><span class="linenum">1406</span></a>  <span class="comment"> */</span>
<a name="l1407"><span class="linenum">1407</span></a>  function <a class="function" onClick="logFunction('scorm_delete_attempt')" href="../../_functions/scorm_delete_attempt.html" onMouseOver="funcPopup(event,'scorm_delete_attempt')">scorm_delete_attempt</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../_variables/attemptid.html">$attemptid</a>) {
<a name="l1408"><span class="linenum">1408</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l1409"><span class="linenum">1409</span></a>  
<a name="l1410"><span class="linenum">1410</span></a>      <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('scorm_scoes_track', array('userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, 'scormid' =&gt; <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'attempt' =&gt; <a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../_variables/attemptid.html">$attemptid</a>));
<a name="l1411"><span class="linenum">1411</span></a>      <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('scorm', <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1412"><span class="linenum">1412</span></a>  
<a name="l1413"><span class="linenum">1413</span></a>  <span class="comment">    // Trigger instances list viewed event.</span>
<a name="l1414"><span class="linenum">1414</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a> = \mod_scorm\event\<a class="class" onClick="logClass('attempt_deleted')" href="../../_classes/attempt_deleted.html" onMouseOver="classPopup(event,'attempt_deleted')">attempt_deleted</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(array(
<a name="l1415"><span class="linenum">1415</span></a>           'other' =&gt; array('attemptid' =&gt; <a class="var it531" onMouseOver="hilite(531)" onMouseOut="lolite()" onClick="logVariable('attemptid')" href="../../_variables/attemptid.html">$attemptid</a>),
<a name="l1416"><span class="linenum">1416</span></a>           'context' =&gt; <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>),
<a name="l1417"><span class="linenum">1417</span></a>           'relateduserid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>
<a name="l1418"><span class="linenum">1418</span></a>      ));
<a name="l1419"><span class="linenum">1419</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('add_record_snapshot')" href="../../_functions/add_record_snapshot.html" onMouseOver="funcPopup(event,'add_record_snapshot')">add_record_snapshot</a>('course_modules', <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>);
<a name="l1420"><span class="linenum">1420</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('add_record_snapshot')" href="../../_functions/add_record_snapshot.html" onMouseOver="funcPopup(event,'add_record_snapshot')">add_record_snapshot</a>('scorm', <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>);
<a name="l1421"><span class="linenum">1421</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('trigger')" href="../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l1422"><span class="linenum">1422</span></a>  
<a name="l1423"><span class="linenum">1423</span></a>      <span class="keyword">include_once</span> <a class="filename" href="../../group/lib.php.html" onMouseOver="reqPopup(event, 'lib.php', '../../group/lib.php')">('lib.php')</a>;
<a name="l1424"><span class="linenum">1424</span></a>      <a class="function" onClick="logFunction('scorm_update_grades')" href="../../_functions/scorm_update_grades.html" onMouseOver="funcPopup(event,'scorm_update_grades')">scorm_update_grades</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, true);
<a name="l1425"><span class="linenum">1425</span></a>      return true;
<a name="l1426"><span class="linenum">1426</span></a>  }
<a name="l1427"><span class="linenum">1427</span></a>  
<a name="l1428"><span class="linenum">1428</span></a>  <span class="comment">/**</span>
<a name="l1429"><span class="linenum">1429</span></a>  <span class="comment"> * Converts SCORM duration notation to human-readable format</span>
<a name="l1430"><span class="linenum">1430</span></a>  <span class="comment"> * The function works with both SCORM 1.2 and SCORM 2004 time formats</span>
<a name="l1431"><span class="linenum">1431</span></a>  <span class="comment"> * @param $duration string SCORM duration</span>
<a name="l1432"><span class="linenum">1432</span></a>  <span class="comment"> * @return string human-readable date/time</span>
<a name="l1433"><span class="linenum">1433</span></a>  <span class="comment"> */</span>
<a name="l1434"><span class="linenum">1434</span></a>  function <a class="function" onClick="logFunction('scorm_format_duration')" href="../../_functions/scorm_format_duration.html" onMouseOver="funcPopup(event,'scorm_format_duration')">scorm_format_duration</a>(<a class="var it1221" onMouseOver="hilite(1221)" onMouseOut="lolite()" onClick="logVariable('duration')" href="../../_variables/duration.html">$duration</a>) {
<a name="l1435"><span class="linenum">1435</span></a>  <span class="comment">    // Fetch date/time strings.</span>
<a name="l1436"><span class="linenum">1436</span></a>      <a class="var it10779" onMouseOver="hilite(10779)" onMouseOut="lolite()" onClick="logVariable('stryears')" href="../../_variables/stryears.html">$stryears</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('years');
<a name="l1437"><span class="linenum">1437</span></a>      <a class="var it10780" onMouseOver="hilite(10780)" onMouseOut="lolite()" onClick="logVariable('strmonths')" href="../../_variables/strmonths.html">$strmonths</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('nummonths');
<a name="l1438"><span class="linenum">1438</span></a>      <a class="var it10781" onMouseOver="hilite(10781)" onMouseOut="lolite()" onClick="logVariable('strdays')" href="../../_variables/strdays.html">$strdays</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('days');
<a name="l1439"><span class="linenum">1439</span></a>      <a class="var it10782" onMouseOver="hilite(10782)" onMouseOut="lolite()" onClick="logVariable('strhours')" href="../../_variables/strhours.html">$strhours</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('hours');
<a name="l1440"><span class="linenum">1440</span></a>      <a class="var it10783" onMouseOver="hilite(10783)" onMouseOut="lolite()" onClick="logVariable('strminutes')" href="../../_variables/strminutes.html">$strminutes</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('minutes');
<a name="l1441"><span class="linenum">1441</span></a>      <a class="var it10784" onMouseOver="hilite(10784)" onMouseOut="lolite()" onClick="logVariable('strseconds')" href="../../_variables/strseconds.html">$strseconds</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('seconds');
<a name="l1442"><span class="linenum">1442</span></a>  
<a name="l1443"><span class="linenum">1443</span></a>      if (<a class="var it1221" onMouseOver="hilite(1221)" onMouseOut="lolite()" onClick="logVariable('duration')" href="../../_variables/duration.html">$duration</a>[0] == 'P') {
<a name="l1444"><span class="linenum">1444</span></a>  <span class="comment">        // If timestamp starts with 'P' - it's a SCORM 2004 format</span>
<a name="l1445"><span class="linenum">1445</span></a>  <span class="comment">        // this regexp discards empty sections, takes Month/Minute ambiguity into consideration,</span>
<a name="l1446"><span class="linenum">1446</span></a>  <span class="comment">        // and outputs filled sections, discarding leading zeroes and any format literals</span>
<a name="l1447"><span class="linenum">1447</span></a>  <span class="comment">        // also saves the only zero before seconds decimals (if there are any) and discards decimals if they are zero.</span>
<a name="l1448"><span class="linenum">1448</span></a>          <a class="var it1833" onMouseOver="hilite(1833)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../../_variables/pattern.html">$pattern</a> = array( '#([A-Z])0+Y#', '#([A-Z])0+M#', '#([A-Z])0+D#', '#<a class="function" onClick="logFunction('P')" href="../../_functions/p.html" onMouseOver="funcPopup(event,'p')">P</a>(|\d+Y)0*(\d+)M#',
<a name="l1449"><span class="linenum">1449</span></a>                              '#0*(\d+)Y#', '#0*(\d+)D#', '#P#', '#([A-Z])0+H#', '#([A-Z])[0.]+S#',
<a name="l1450"><span class="linenum">1450</span></a>                              '#\.0+S#', '#<a class="function" onClick="logFunction('T')" href="../../_functions/t.html" onMouseOver="funcPopup(event,'t')">T</a>(|\d+H)0*(\d+)M#', '#0*(\d+)H#', '#0+\.(\d+)S#',
<a name="l1451"><span class="linenum">1451</span></a>                              '#0*([\d.]+)S#', '#T#' );
<a name="l1452"><span class="linenum">1452</span></a>          <a class="var it2782" onMouseOver="hilite(2782)" onMouseOut="lolite()" onClick="logVariable('replace')" href="../../_variables/replace.html">$replace</a> = array( '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a>', '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a>', '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a>', '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a><a class="var it2020" onMouseOver="hilite(2020)" onMouseOut="lolite()" onClick="logVariable('2')" href="../../_variables/2.html">$2</a> '.<a class="var it10780" onMouseOver="hilite(10780)" onMouseOut="lolite()" onClick="logVariable('strmonths')" href="../../_variables/strmonths.html">$strmonths</a>.' ', '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a> '.<a class="var it10779" onMouseOver="hilite(10779)" onMouseOut="lolite()" onClick="logVariable('stryears')" href="../../_variables/stryears.html">$stryears</a>.' ', '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a> '.<a class="var it10781" onMouseOver="hilite(10781)" onMouseOut="lolite()" onClick="logVariable('strdays')" href="../../_variables/strdays.html">$strdays</a>.' ',
<a name="l1453"><span class="linenum">1453</span></a>                              '', '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a>', '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a>', 'S', '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a><a class="var it2020" onMouseOver="hilite(2020)" onMouseOut="lolite()" onClick="logVariable('2')" href="../../_variables/2.html">$2</a> '.<a class="var it10783" onMouseOver="hilite(10783)" onMouseOut="lolite()" onClick="logVariable('strminutes')" href="../../_variables/strminutes.html">$strminutes</a>.' ', '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a> '.<a class="var it10782" onMouseOver="hilite(10782)" onMouseOut="lolite()" onClick="logVariable('strhours')" href="../../_variables/strhours.html">$strhours</a>.' ',
<a name="l1454"><span class="linenum">1454</span></a>                              '0.<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a> '.<a class="var it10784" onMouseOver="hilite(10784)" onMouseOut="lolite()" onClick="logVariable('strseconds')" href="../../_variables/strseconds.html">$strseconds</a>, '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a> '.<a class="var it10784" onMouseOver="hilite(10784)" onMouseOut="lolite()" onClick="logVariable('strseconds')" href="../../_variables/strseconds.html">$strseconds</a>, '');
<a name="l1455"><span class="linenum">1455</span></a>      } else {
<a name="l1456"><span class="linenum">1456</span></a>  <span class="comment">        // Else we have SCORM 1.2 format there</span>
<a name="l1457"><span class="linenum">1457</span></a>  <span class="comment">        // first convert the timestamp to some SCORM 2004-like format for conveniency.</span>
<a name="l1458"><span class="linenum">1458</span></a>          <a class="var it1221" onMouseOver="hilite(1221)" onMouseOut="lolite()" onClick="logVariable('duration')" href="../../_variables/duration.html">$duration</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('#^(\d+):(\d+):([\d.]+)$#', 'T<a class="var it10785" onMouseOver="hilite(10785)" onMouseOut="lolite()" onClick="logVariable('1H')" href="../../_variables/1H.html">$1H</a><a class="var it10786" onMouseOver="hilite(10786)" onMouseOut="lolite()" onClick="logVariable('2M')" href="../../_variables/2M.html">$2M</a><a class="var it10787" onMouseOver="hilite(10787)" onMouseOut="lolite()" onClick="logVariable('3S')" href="../../_variables/3S.html">$3S</a>', <a class="var it1221" onMouseOver="hilite(1221)" onMouseOut="lolite()" onClick="logVariable('duration')" href="../../_variables/duration.html">$duration</a>);
<a name="l1459"><span class="linenum">1459</span></a>  <span class="comment">        // Then convert in the same way as SCORM 2004.</span>
<a name="l1460"><span class="linenum">1460</span></a>          <a class="var it1833" onMouseOver="hilite(1833)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../../_variables/pattern.html">$pattern</a> = array( '#T0+H#', '#([A-Z])0+M#', '#([A-Z])[0.]+S#', '#\.0+S#', '#0*(\d+)H#',
<a name="l1461"><span class="linenum">1461</span></a>                              '#0*(\d+)M#', '#0+\.(\d+)S#', '#0*([\d.]+)S#', '#T#' );
<a name="l1462"><span class="linenum">1462</span></a>          <a class="var it2782" onMouseOver="hilite(2782)" onMouseOut="lolite()" onClick="logVariable('replace')" href="../../_variables/replace.html">$replace</a> = array( 'T', '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a>', '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a>', 'S', '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a> '.<a class="var it10782" onMouseOver="hilite(10782)" onMouseOut="lolite()" onClick="logVariable('strhours')" href="../../_variables/strhours.html">$strhours</a>.' ', '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a> '.<a class="var it10783" onMouseOver="hilite(10783)" onMouseOut="lolite()" onClick="logVariable('strminutes')" href="../../_variables/strminutes.html">$strminutes</a>.' ',
<a name="l1463"><span class="linenum">1463</span></a>                              '0.<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a> '.<a class="var it10784" onMouseOver="hilite(10784)" onMouseOut="lolite()" onClick="logVariable('strseconds')" href="../../_variables/strseconds.html">$strseconds</a>, '<a class="var it1197" onMouseOver="hilite(1197)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../_variables/1.html">$1</a> '.<a class="var it10784" onMouseOver="hilite(10784)" onMouseOut="lolite()" onClick="logVariable('strseconds')" href="../../_variables/strseconds.html">$strseconds</a>, '' );
<a name="l1464"><span class="linenum">1464</span></a>      }
<a name="l1465"><span class="linenum">1465</span></a>  
<a name="l1466"><span class="linenum">1466</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>(<a class="var it1833" onMouseOver="hilite(1833)" onMouseOut="lolite()" onClick="logVariable('pattern')" href="../../_variables/pattern.html">$pattern</a>, <a class="var it2782" onMouseOver="hilite(2782)" onMouseOut="lolite()" onClick="logVariable('replace')" href="../../_variables/replace.html">$replace</a>, <a class="var it1221" onMouseOver="hilite(1221)" onMouseOut="lolite()" onClick="logVariable('duration')" href="../../_variables/duration.html">$duration</a>);
<a name="l1467"><span class="linenum">1467</span></a>  
<a name="l1468"><span class="linenum">1468</span></a>      return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l1469"><span class="linenum">1469</span></a>  }
<a name="l1470"><span class="linenum">1470</span></a>  
<a name="l1471"><span class="linenum">1471</span></a>  function <a class="function" onClick="logFunction('scorm_get_toc_object')" href="../../_functions/scorm_get_toc_object.html" onMouseOver="funcPopup(event,'scorm_get_toc_object')">scorm_get_toc_object</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>='', <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>='', <a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a>='normal', <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>='',
<a name="l1472"><span class="linenum">1472</span></a>                                  <a class="var it10789" onMouseOver="hilite(10789)" onMouseOut="lolite()" onClick="logVariable('play')" href="../../_variables/play.html">$play</a>=false, <a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a>=null) {
<a name="l1473"><span class="linenum">1473</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1474"><span class="linenum">1474</span></a>  
<a name="l1475"><span class="linenum">1475</span></a>  <span class="comment">    // Always pass the mode even if empty as that is what is done elsewhere and the urls have to match.</span>
<a name="l1476"><span class="linenum">1476</span></a>      <a class="var it3708" onMouseOver="hilite(3708)" onMouseOut="lolite()" onClick="logVariable('modestr')" href="../../_variables/modestr.html">$modestr</a> = '&amp;mode=';
<a name="l1477"><span class="linenum">1477</span></a>      if (<a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a> != 'normal') {
<a name="l1478"><span class="linenum">1478</span></a>          <a class="var it3708" onMouseOver="hilite(3708)" onMouseOut="lolite()" onClick="logVariable('modestr')" href="../../_variables/modestr.html">$modestr</a> = '&amp;mode='.<a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a>;
<a name="l1479"><span class="linenum">1479</span></a>      }
<a name="l1480"><span class="linenum">1480</span></a>  
<a name="l1481"><span class="linenum">1481</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = array();
<a name="l1482"><span class="linenum">1482</span></a>      <a class="var it10762" onMouseOver="hilite(10762)" onMouseOut="lolite()" onClick="logVariable('incomplete')" href="../../_variables/incomplete.html">$incomplete</a> = false;
<a name="l1483"><span class="linenum">1483</span></a>  
<a name="l1484"><span class="linenum">1484</span></a>      if (!empty(<a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a>)) {
<a name="l1485"><span class="linenum">1485</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>[0] = <a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a>;
<a name="l1486"><span class="linenum">1486</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>[0]-&gt;isvisible = 'true';
<a name="l1487"><span class="linenum">1487</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>[0]-&gt;statusicon = '';
<a name="l1488"><span class="linenum">1488</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>[0]-&gt;url = '';
<a name="l1489"><span class="linenum">1489</span></a>      }
<a name="l1490"><span class="linenum">1490</span></a>  
<a name="l1491"><span class="linenum">1491</span></a>      if (<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a> = <a class="function" onClick="logFunction('scorm_get_scoes')" href="../../_functions/scorm_get_scoes.html" onMouseOver="funcPopup(event,'scorm_get_scoes')">scorm_get_scoes</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>)) {
<a name="l1492"><span class="linenum">1492</span></a>  <span class="comment">        // Retrieve user tracking data for each learning object.</span>
<a name="l1493"><span class="linenum">1493</span></a>          <a class="var it10791" onMouseOver="hilite(10791)" onMouseOut="lolite()" onClick="logVariable('usertracks')" href="../../_variables/usertracks.html">$usertracks</a> = array();
<a name="l1494"><span class="linenum">1494</span></a>          foreach (<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a> as <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>) {
<a name="l1495"><span class="linenum">1495</span></a>              if (!empty(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('launch')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/launch.html">launch</a>)) {
<a name="l1496"><span class="linenum">1496</span></a>                  if (<a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a> = <a class="function" onClick="logFunction('scorm_get_tracks')" href="../../_functions/scorm_get_tracks.html" onMouseOver="funcPopup(event,'scorm_get_tracks')">scorm_get_tracks</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>)) {
<a name="l1497"><span class="linenum">1497</span></a>                      if (<a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('status')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> == '') {
<a name="l1498"><span class="linenum">1498</span></a>                          <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('status')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> = 'notattempted';
<a name="l1499"><span class="linenum">1499</span></a>                      }
<a name="l1500"><span class="linenum">1500</span></a>                      <a class="var it10791" onMouseOver="hilite(10791)" onMouseOut="lolite()" onClick="logVariable('usertracks')" href="../../_variables/usertracks.html">$usertracks</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('identifier')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>] = <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>;
<a name="l1501"><span class="linenum">1501</span></a>                  }
<a name="l1502"><span class="linenum">1502</span></a>              }
<a name="l1503"><span class="linenum">1503</span></a>          }
<a name="l1504"><span class="linenum">1504</span></a>          foreach (<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a> as <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>) {
<a name="l1505"><span class="linenum">1505</span></a>              if (!isset(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('isvisible')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/isvisible.html">isvisible</a>)) {
<a name="l1506"><span class="linenum">1506</span></a>                  <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('isvisible')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/isvisible.html">isvisible</a> = 'true';
<a name="l1507"><span class="linenum">1507</span></a>              }
<a name="l1508"><span class="linenum">1508</span></a>  
<a name="l1509"><span class="linenum">1509</span></a>              if (empty(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>)) {
<a name="l1510"><span class="linenum">1510</span></a>                  <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a> = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('identifier')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>;
<a name="l1511"><span class="linenum">1511</span></a>              }
<a name="l1512"><span class="linenum">1512</span></a>  
<a name="l1513"><span class="linenum">1513</span></a>              if (<a class="function" onClick="logFunction('scorm_version_check')" href="../../_functions/scorm_version_check.html" onMouseOver="funcPopup(event,'scorm_version_check')">scorm_version_check</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a>, <a class="constant" onClick="logConstant('SCORM_13')" href="../../_constants/SCORM_13.html" onMouseOver="constPopup(event,'SCORM_13')">SCORM_13</a>)) {
<a name="l1514"><span class="linenum">1514</span></a>                  <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('prereq')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/prereq.html">prereq</a> = true;
<a name="l1515"><span class="linenum">1515</span></a>              } else {
<a name="l1516"><span class="linenum">1516</span></a>                  <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('prereq')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/prereq.html">prereq</a> = empty(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('prerequisites')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/prerequisites.html">prerequisites</a>) || <a class="function" onClick="logFunction('scorm_eval_prerequisites')" href="../../_functions/scorm_eval_prerequisites.html" onMouseOver="funcPopup(event,'scorm_eval_prerequisites')">scorm_eval_prerequisites</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('prerequisites')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/prerequisites.html">prerequisites</a>, <a class="var it10791" onMouseOver="hilite(10791)" onMouseOut="lolite()" onClick="logVariable('usertracks')" href="../../_variables/usertracks.html">$usertracks</a>);
<a name="l1517"><span class="linenum">1517</span></a>              }
<a name="l1518"><span class="linenum">1518</span></a>  
<a name="l1519"><span class="linenum">1519</span></a>              if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('isvisible')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/isvisible.html">isvisible</a> === 'true') {
<a name="l1520"><span class="linenum">1520</span></a>                  if (!empty(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('launch')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/launch.html">launch</a>)) {
<a name="l1521"><span class="linenum">1521</span></a>                      if (empty(<a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>) &amp;&amp; (<a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a> != 'normal')) {
<a name="l1522"><span class="linenum">1522</span></a>                          <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a> = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l1523"><span class="linenum">1523</span></a>                      }
<a name="l1524"><span class="linenum">1524</span></a>  
<a name="l1525"><span class="linenum">1525</span></a>                      if (isset(<a class="var it10791" onMouseOver="hilite(10791)" onMouseOut="lolite()" onClick="logVariable('usertracks')" href="../../_variables/usertracks.html">$usertracks</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('identifier')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>])) {
<a name="l1526"><span class="linenum">1526</span></a>                          <a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a> = <a class="var it10791" onMouseOver="hilite(10791)" onMouseOut="lolite()" onClick="logVariable('usertracks')" href="../../_variables/usertracks.html">$usertracks</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('identifier')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>];
<a name="l1527"><span class="linenum">1527</span></a>                          <a class="var it5552" onMouseOver="hilite(5552)" onMouseOut="lolite()" onClick="logVariable('strstatus')" href="../../_variables/strstatus.html">$strstatus</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(<a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('status')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/status.html">status</a>, 'scorm');
<a name="l1528"><span class="linenum">1528</span></a>  
<a name="l1529"><span class="linenum">1529</span></a>                          if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> == 'sco') {
<a name="l1530"><span class="linenum">1530</span></a>                              <a class="var it10793" onMouseOver="hilite(10793)" onMouseOut="lolite()" onClick="logVariable('statusicon')" href="../../_variables/statusicon.html">$statusicon</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('img')" href="../../_functions/img.html" onMouseOver="funcPopup(event,'img')">img</a>(<a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>(<a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('status')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/status.html">status</a>, 'scorm'), <a class="var it5552" onMouseOver="hilite(5552)" onMouseOut="lolite()" onClick="logVariable('strstatus')" href="../../_variables/strstatus.html">$strstatus</a>,
<a name="l1531"><span class="linenum">1531</span></a>                                                              array('title' =&gt; <a class="var it5552" onMouseOver="hilite(5552)" onMouseOut="lolite()" onClick="logVariable('strstatus')" href="../../_variables/strstatus.html">$strstatus</a>));
<a name="l1532"><span class="linenum">1532</span></a>                          } else {
<a name="l1533"><span class="linenum">1533</span></a>                              <a class="var it10793" onMouseOver="hilite(10793)" onMouseOut="lolite()" onClick="logVariable('statusicon')" href="../../_variables/statusicon.html">$statusicon</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('img')" href="../../_functions/img.html" onMouseOver="funcPopup(event,'img')">img</a>(<a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('asset', 'scorm'), <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('assetlaunched', 'scorm'),
<a name="l1534"><span class="linenum">1534</span></a>                                                              array('title' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('assetlaunched', 'scorm')));
<a name="l1535"><span class="linenum">1535</span></a>                          }
<a name="l1536"><span class="linenum">1536</span></a>  
<a name="l1537"><span class="linenum">1537</span></a>                          if ((<a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('status')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> == 'notattempted') ||
<a name="l1538"><span class="linenum">1538</span></a>                                  (<a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('status')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> == 'incomplete') ||
<a name="l1539"><span class="linenum">1539</span></a>                                  (<a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;<a onClick="logVariable('status')" class="var it45074" onMouseOver="hilite(45074)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> == 'browsed')) {
<a name="l1540"><span class="linenum">1540</span></a>                              <a class="var it10762" onMouseOver="hilite(10762)" onMouseOut="lolite()" onClick="logVariable('incomplete')" href="../../_variables/incomplete.html">$incomplete</a> = true;
<a name="l1541"><span class="linenum">1541</span></a>                              if (<a class="var it10789" onMouseOver="hilite(10789)" onMouseOut="lolite()" onClick="logVariable('play')" href="../../_variables/play.html">$play</a> &amp;&amp; empty(<a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>)) {
<a name="l1542"><span class="linenum">1542</span></a>                                  <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a> = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l1543"><span class="linenum">1543</span></a>                              }
<a name="l1544"><span class="linenum">1544</span></a>                          }
<a name="l1545"><span class="linenum">1545</span></a>  
<a name="l1546"><span class="linenum">1546</span></a>                          <a class="var it10794" onMouseOver="hilite(10794)" onMouseOut="lolite()" onClick="logVariable('strsuspended')" href="../../_variables/strsuspended.html">$strsuspended</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('suspended', 'scorm');
<a name="l1547"><span class="linenum">1547</span></a>  
<a name="l1548"><span class="linenum">1548</span></a>                          <a class="var it10795" onMouseOver="hilite(10795)" onMouseOut="lolite()" onClick="logVariable('exitvar')" href="../../_variables/exitvar.html">$exitvar</a> = 'cmi.core.exit';
<a name="l1549"><span class="linenum">1549</span></a>  
<a name="l1550"><span class="linenum">1550</span></a>                          if (<a class="function" onClick="logFunction('scorm_version_check')" href="../../_functions/scorm_version_check.html" onMouseOver="funcPopup(event,'scorm_version_check')">scorm_version_check</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a>, <a class="constant" onClick="logConstant('SCORM_13')" href="../../_constants/SCORM_13.html" onMouseOver="constPopup(event,'SCORM_13')">SCORM_13</a>)) {
<a name="l1551"><span class="linenum">1551</span></a>                              <a class="var it10795" onMouseOver="hilite(10795)" onMouseOut="lolite()" onClick="logVariable('exitvar')" href="../../_variables/exitvar.html">$exitvar</a> = 'cmi.exit';
<a name="l1552"><span class="linenum">1552</span></a>                          }
<a name="l1553"><span class="linenum">1553</span></a>  
<a name="l1554"><span class="linenum">1554</span></a>                          if (<a class="var it10762" onMouseOver="hilite(10762)" onMouseOut="lolite()" onClick="logVariable('incomplete')" href="../../_variables/incomplete.html">$incomplete</a> &amp;&amp; isset(<a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;{<a class="var it10795" onMouseOver="hilite(10795)" onMouseOut="lolite()" onClick="logVariable('exitvar')" href="../../_variables/exitvar.html">$exitvar</a>}) &amp;&amp; (<a class="var it10750" onMouseOver="hilite(10750)" onMouseOut="lolite()" onClick="logVariable('usertrack')" href="../../_variables/usertrack.html">$usertrack</a>-&gt;{<a class="var it10795" onMouseOver="hilite(10795)" onMouseOut="lolite()" onClick="logVariable('exitvar')" href="../../_variables/exitvar.html">$exitvar</a>} == 'suspend')) {
<a name="l1555"><span class="linenum">1555</span></a>                              <a class="var it10793" onMouseOver="hilite(10793)" onMouseOut="lolite()" onClick="logVariable('statusicon')" href="../../_variables/statusicon.html">$statusicon</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('img')" href="../../_functions/img.html" onMouseOver="funcPopup(event,'img')">img</a>(<a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('suspend', 'scorm'), <a class="var it5552" onMouseOver="hilite(5552)" onMouseOut="lolite()" onClick="logVariable('strstatus')" href="../../_variables/strstatus.html">$strstatus</a>.' - '.<a class="var it10794" onMouseOver="hilite(10794)" onMouseOut="lolite()" onClick="logVariable('strsuspended')" href="../../_variables/strsuspended.html">$strsuspended</a>,
<a name="l1556"><span class="linenum">1556</span></a>                                                              array('title' =&gt; <a class="var it5552" onMouseOver="hilite(5552)" onMouseOut="lolite()" onClick="logVariable('strstatus')" href="../../_variables/strstatus.html">$strstatus</a>.' - '.<a class="var it10794" onMouseOver="hilite(10794)" onMouseOut="lolite()" onClick="logVariable('strsuspended')" href="../../_variables/strsuspended.html">$strsuspended</a>));
<a name="l1557"><span class="linenum">1557</span></a>                          }
<a name="l1558"><span class="linenum">1558</span></a>  
<a name="l1559"><span class="linenum">1559</span></a>                      } else {
<a name="l1560"><span class="linenum">1560</span></a>                          if (<a class="var it10789" onMouseOver="hilite(10789)" onMouseOut="lolite()" onClick="logVariable('play')" href="../../_variables/play.html">$play</a> &amp;&amp; empty(<a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>)) {
<a name="l1561"><span class="linenum">1561</span></a>                              <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a> = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l1562"><span class="linenum">1562</span></a>                          }
<a name="l1563"><span class="linenum">1563</span></a>  
<a name="l1564"><span class="linenum">1564</span></a>                          <a class="var it10762" onMouseOver="hilite(10762)" onMouseOut="lolite()" onClick="logVariable('incomplete')" href="../../_variables/incomplete.html">$incomplete</a> = true;
<a name="l1565"><span class="linenum">1565</span></a>  
<a name="l1566"><span class="linenum">1566</span></a>                          if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> == 'sco') {
<a name="l1567"><span class="linenum">1567</span></a>                              <a class="var it10793" onMouseOver="hilite(10793)" onMouseOut="lolite()" onClick="logVariable('statusicon')" href="../../_variables/statusicon.html">$statusicon</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('img')" href="../../_functions/img.html" onMouseOver="funcPopup(event,'img')">img</a>(<a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('notattempted', 'scorm'),
<a name="l1568"><span class="linenum">1568</span></a>                                                              <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('notattempted', 'scorm'),
<a name="l1569"><span class="linenum">1569</span></a>                                                              array('title' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('notattempted', 'scorm')));
<a name="l1570"><span class="linenum">1570</span></a>                          } else {
<a name="l1571"><span class="linenum">1571</span></a>                              <a class="var it10793" onMouseOver="hilite(10793)" onMouseOut="lolite()" onClick="logVariable('statusicon')" href="../../_variables/statusicon.html">$statusicon</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('img')" href="../../_functions/img.html" onMouseOver="funcPopup(event,'img')">img</a>(<a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('asset', 'scorm'), <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('asset', 'scorm'),
<a name="l1572"><span class="linenum">1572</span></a>                                                              array('title' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('asset', 'scorm')));
<a name="l1573"><span class="linenum">1573</span></a>                          }
<a name="l1574"><span class="linenum">1574</span></a>                      }
<a name="l1575"><span class="linenum">1575</span></a>                  }
<a name="l1576"><span class="linenum">1576</span></a>              }
<a name="l1577"><span class="linenum">1577</span></a>  
<a name="l1578"><span class="linenum">1578</span></a>              if (empty(<a class="var it10793" onMouseOver="hilite(10793)" onMouseOut="lolite()" onClick="logVariable('statusicon')" href="../../_variables/statusicon.html">$statusicon</a>)) {
<a name="l1579"><span class="linenum">1579</span></a>                  <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('statusicon')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/statusicon.html">statusicon</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('img')" href="../../_functions/img.html" onMouseOver="funcPopup(event,'img')">img</a>(<a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('notattempted', 'scorm'), <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('notattempted', 'scorm'),
<a name="l1580"><span class="linenum">1580</span></a>                                                      array('title' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('notattempted', 'scorm')));
<a name="l1581"><span class="linenum">1581</span></a>              } else {
<a name="l1582"><span class="linenum">1582</span></a>                  <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('statusicon')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/statusicon.html">statusicon</a> = <a class="var it10793" onMouseOver="hilite(10793)" onMouseOut="lolite()" onClick="logVariable('statusicon')" href="../../_variables/statusicon.html">$statusicon</a>;
<a name="l1583"><span class="linenum">1583</span></a>              }
<a name="l1584"><span class="linenum">1584</span></a>  
<a name="l1585"><span class="linenum">1585</span></a>              <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('url')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/url.html">url</a> = 'a='.<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>.'&amp;scoid='.<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>.'&amp;currentorg='.<a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>.<a class="var it3708" onMouseOver="hilite(3708)" onMouseOut="lolite()" onClick="logVariable('modestr')" href="../../_variables/modestr.html">$modestr</a>.'&amp;attempt='.<a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>;
<a name="l1586"><span class="linenum">1586</span></a>              <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('incomplete')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/incomplete.html">incomplete</a> = <a class="var it10762" onMouseOver="hilite(10762)" onMouseOut="lolite()" onClick="logVariable('incomplete')" href="../../_variables/incomplete.html">$incomplete</a>;
<a name="l1587"><span class="linenum">1587</span></a>  
<a name="l1588"><span class="linenum">1588</span></a>              if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="phpfunction" onClick="logFunction('array_keys')" href="../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>))) {
<a name="l1589"><span class="linenum">1589</span></a>                  <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>;
<a name="l1590"><span class="linenum">1590</span></a>              }
<a name="l1591"><span class="linenum">1591</span></a>          }
<a name="l1592"><span class="linenum">1592</span></a>      }
<a name="l1593"><span class="linenum">1593</span></a>  
<a name="l1594"><span class="linenum">1594</span></a>  <span class="comment">    // Get the parent scoes!</span>
<a name="l1595"><span class="linenum">1595</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="function" onClick="logFunction('scorm_get_toc_get_parent_child')" href="../../_functions/scorm_get_toc_get_parent_child.html" onMouseOver="funcPopup(event,'scorm_get_toc_get_parent_child')">scorm_get_toc_get_parent_child</a>(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>, <a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>);
<a name="l1596"><span class="linenum">1596</span></a>  
<a name="l1597"><span class="linenum">1597</span></a>  <span class="comment">    // Be safe, prevent warnings from showing up while returning array.</span>
<a name="l1598"><span class="linenum">1598</span></a>      if (!isset(<a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>)) {
<a name="l1599"><span class="linenum">1599</span></a>          <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a> = '';
<a name="l1600"><span class="linenum">1600</span></a>      }
<a name="l1601"><span class="linenum">1601</span></a>  
<a name="l1602"><span class="linenum">1602</span></a>      return array('scoes' =&gt; <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>, 'usertracks' =&gt; <a class="var it10791" onMouseOver="hilite(10791)" onMouseOut="lolite()" onClick="logVariable('usertracks')" href="../../_variables/usertracks.html">$usertracks</a>, 'scoid' =&gt; <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>);
<a name="l1603"><span class="linenum">1603</span></a>  }
<a name="l1604"><span class="linenum">1604</span></a>  
<a name="l1605"><span class="linenum">1605</span></a>  function <a class="function" onClick="logFunction('scorm_get_toc_get_parent_child')" href="../../_functions/scorm_get_toc_get_parent_child.html" onMouseOver="funcPopup(event,'scorm_get_toc_get_parent_child')">scorm_get_toc_get_parent_child</a>(&amp;<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>, <a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>) {
<a name="l1606"><span class="linenum">1606</span></a>      <a class="var it4448" onMouseOver="hilite(4448)" onMouseOut="lolite()" onClick="logVariable('final')" href="../../_variables/final.html">$final</a> = array();
<a name="l1607"><span class="linenum">1607</span></a>      <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a> = 0;
<a name="l1608"><span class="linenum">1608</span></a>  <span class="comment">    // Organization is always the root, prevparent.</span>
<a name="l1609"><span class="linenum">1609</span></a>      if (!empty(<a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>)) {
<a name="l1610"><span class="linenum">1610</span></a>          <a class="var it10796" onMouseOver="hilite(10796)" onMouseOut="lolite()" onClick="logVariable('prevparent')" href="../../_variables/prevparent.html">$prevparent</a> = <a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>;
<a name="l1611"><span class="linenum">1611</span></a>      } else {
<a name="l1612"><span class="linenum">1612</span></a>          <a class="var it10796" onMouseOver="hilite(10796)" onMouseOut="lolite()" onClick="logVariable('prevparent')" href="../../_variables/prevparent.html">$prevparent</a> = '/';
<a name="l1613"><span class="linenum">1613</span></a>      }
<a name="l1614"><span class="linenum">1614</span></a>  
<a name="l1615"><span class="linenum">1615</span></a>      foreach (<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> as <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>) {
<a name="l1616"><span class="linenum">1616</span></a>          if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parent')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parent.html">parent</a> == '/') {
<a name="l1617"><span class="linenum">1617</span></a>              <a class="var it4448" onMouseOver="hilite(4448)" onMouseOut="lolite()" onClick="logVariable('final')" href="../../_variables/final.html">$final</a>[<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>][<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('identifier')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>;
<a name="l1618"><span class="linenum">1618</span></a>              <a class="var it10796" onMouseOver="hilite(10796)" onMouseOut="lolite()" onClick="logVariable('prevparent')" href="../../_variables/prevparent.html">$prevparent</a> = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('identifier')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>;
<a name="l1619"><span class="linenum">1619</span></a>              unset(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]);
<a name="l1620"><span class="linenum">1620</span></a>          } else {
<a name="l1621"><span class="linenum">1621</span></a>              if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parent')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parent.html">parent</a> == <a class="var it10796" onMouseOver="hilite(10796)" onMouseOut="lolite()" onClick="logVariable('prevparent')" href="../../_variables/prevparent.html">$prevparent</a>) {
<a name="l1622"><span class="linenum">1622</span></a>                  <a class="var it4448" onMouseOver="hilite(4448)" onMouseOut="lolite()" onClick="logVariable('final')" href="../../_variables/final.html">$final</a>[<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>][<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('identifier')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>;
<a name="l1623"><span class="linenum">1623</span></a>                  <a class="var it10796" onMouseOver="hilite(10796)" onMouseOut="lolite()" onClick="logVariable('prevparent')" href="../../_variables/prevparent.html">$prevparent</a> = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('identifier')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>;
<a name="l1624"><span class="linenum">1624</span></a>                  unset(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]);
<a name="l1625"><span class="linenum">1625</span></a>              } else {
<a name="l1626"><span class="linenum">1626</span></a>                  if (!empty(<a class="var it4448" onMouseOver="hilite(4448)" onMouseOut="lolite()" onClick="logVariable('final')" href="../../_variables/final.html">$final</a>[<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>])) {
<a name="l1627"><span class="linenum">1627</span></a>                      <a class="var it811" onMouseOver="hilite(811)" onMouseOut="lolite()" onClick="logVariable('found')" href="../../_variables/found.html">$found</a> = false;
<a name="l1628"><span class="linenum">1628</span></a>                      foreach (<a class="var it4448" onMouseOver="hilite(4448)" onMouseOut="lolite()" onClick="logVariable('final')" href="../../_variables/final.html">$final</a>[<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>] as <a class="var it10797" onMouseOver="hilite(10797)" onMouseOut="lolite()" onClick="logVariable('fin')" href="../../_variables/fin.html">$fin</a>) {
<a name="l1629"><span class="linenum">1629</span></a>                          if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parent')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parent.html">parent</a> == <a class="var it10797" onMouseOver="hilite(10797)" onMouseOut="lolite()" onClick="logVariable('fin')" href="../../_variables/fin.html">$fin</a>-&gt;<a onClick="logVariable('identifier')" class="var it45079" onMouseOver="hilite(45079)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>) {
<a name="l1630"><span class="linenum">1630</span></a>                              <a class="var it811" onMouseOver="hilite(811)" onMouseOut="lolite()" onClick="logVariable('found')" href="../../_variables/found.html">$found</a> = true;
<a name="l1631"><span class="linenum">1631</span></a>                          }
<a name="l1632"><span class="linenum">1632</span></a>                      }
<a name="l1633"><span class="linenum">1633</span></a>  
<a name="l1634"><span class="linenum">1634</span></a>                      if (<a class="var it811" onMouseOver="hilite(811)" onMouseOut="lolite()" onClick="logVariable('found')" href="../../_variables/found.html">$found</a>) {
<a name="l1635"><span class="linenum">1635</span></a>                          <a class="var it4448" onMouseOver="hilite(4448)" onMouseOut="lolite()" onClick="logVariable('final')" href="../../_variables/final.html">$final</a>[<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>][<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('identifier')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>;
<a name="l1636"><span class="linenum">1636</span></a>                          unset(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]);
<a name="l1637"><span class="linenum">1637</span></a>                          <a class="var it811" onMouseOver="hilite(811)" onMouseOut="lolite()" onClick="logVariable('found')" href="../../_variables/found.html">$found</a> = false;
<a name="l1638"><span class="linenum">1638</span></a>                      } else {
<a name="l1639"><span class="linenum">1639</span></a>                          <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>++;
<a name="l1640"><span class="linenum">1640</span></a>                          <a class="var it4448" onMouseOver="hilite(4448)" onMouseOut="lolite()" onClick="logVariable('final')" href="../../_variables/final.html">$final</a>[<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>][<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('identifier')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>;
<a name="l1641"><span class="linenum">1641</span></a>                          unset(<a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]);
<a name="l1642"><span class="linenum">1642</span></a>                      }
<a name="l1643"><span class="linenum">1643</span></a>                  }
<a name="l1644"><span class="linenum">1644</span></a>              }
<a name="l1645"><span class="linenum">1645</span></a>          }
<a name="l1646"><span class="linenum">1646</span></a>      }
<a name="l1647"><span class="linenum">1647</span></a>  
<a name="l1648"><span class="linenum">1648</span></a>      for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt;= <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l1649"><span class="linenum">1649</span></a>          <a class="var it10796" onMouseOver="hilite(10796)" onMouseOut="lolite()" onClick="logVariable('prevparent')" href="../../_variables/prevparent.html">$prevparent</a> = '';
<a name="l1650"><span class="linenum">1650</span></a>          foreach (<a class="var it4448" onMouseOver="hilite(4448)" onMouseOut="lolite()" onClick="logVariable('final')" href="../../_variables/final.html">$final</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>] as <a class="var it3636" onMouseOver="hilite(3636)" onMouseOut="lolite()" onClick="logVariable('ident')" href="../../_variables/ident.html">$ident</a> =&gt; <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>) {
<a name="l1651"><span class="linenum">1651</span></a>              if (empty(<a class="var it10796" onMouseOver="hilite(10796)" onMouseOut="lolite()" onClick="logVariable('prevparent')" href="../../_variables/prevparent.html">$prevparent</a>)) {
<a name="l1652"><span class="linenum">1652</span></a>                  <a class="var it10796" onMouseOver="hilite(10796)" onMouseOut="lolite()" onClick="logVariable('prevparent')" href="../../_variables/prevparent.html">$prevparent</a> = <a class="var it3636" onMouseOver="hilite(3636)" onMouseOut="lolite()" onClick="logVariable('ident')" href="../../_variables/ident.html">$ident</a>;
<a name="l1653"><span class="linenum">1653</span></a>              }
<a name="l1654"><span class="linenum">1654</span></a>              if (!isset(<a class="var it4448" onMouseOver="hilite(4448)" onMouseOut="lolite()" onClick="logVariable('final')" href="../../_variables/final.html">$final</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>][<a class="var it10796" onMouseOver="hilite(10796)" onMouseOut="lolite()" onClick="logVariable('prevparent')" href="../../_variables/prevparent.html">$prevparent</a>]-&gt;children)) {
<a name="l1655"><span class="linenum">1655</span></a>                  <a class="var it4448" onMouseOver="hilite(4448)" onMouseOut="lolite()" onClick="logVariable('final')" href="../../_variables/final.html">$final</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>][<a class="var it10796" onMouseOver="hilite(10796)" onMouseOut="lolite()" onClick="logVariable('prevparent')" href="../../_variables/prevparent.html">$prevparent</a>]-&gt;children = array();
<a name="l1656"><span class="linenum">1656</span></a>              }
<a name="l1657"><span class="linenum">1657</span></a>              if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parent')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parent.html">parent</a> == <a class="var it10796" onMouseOver="hilite(10796)" onMouseOut="lolite()" onClick="logVariable('prevparent')" href="../../_variables/prevparent.html">$prevparent</a>) {
<a name="l1658"><span class="linenum">1658</span></a>                  <a class="var it4448" onMouseOver="hilite(4448)" onMouseOut="lolite()" onClick="logVariable('final')" href="../../_variables/final.html">$final</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>][<a class="var it10796" onMouseOver="hilite(10796)" onMouseOut="lolite()" onClick="logVariable('prevparent')" href="../../_variables/prevparent.html">$prevparent</a>]-&gt;children[] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>;
<a name="l1659"><span class="linenum">1659</span></a>                  <a class="var it10796" onMouseOver="hilite(10796)" onMouseOut="lolite()" onClick="logVariable('prevparent')" href="../../_variables/prevparent.html">$prevparent</a> = <a class="var it3636" onMouseOver="hilite(3636)" onMouseOut="lolite()" onClick="logVariable('ident')" href="../../_variables/ident.html">$ident</a>;
<a name="l1660"><span class="linenum">1660</span></a>              } else {
<a name="l1661"><span class="linenum">1661</span></a>                  <a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../_variables/parent.html">$parent</a> = false;
<a name="l1662"><span class="linenum">1662</span></a>                  foreach (<a class="var it4448" onMouseOver="hilite(4448)" onMouseOut="lolite()" onClick="logVariable('final')" href="../../_variables/final.html">$final</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>] as <a class="var it724" onMouseOver="hilite(724)" onMouseOut="lolite()" onClick="logVariable('identifier')" href="../../_variables/identifier.html">$identifier</a> =&gt; <a class="var it10798" onMouseOver="hilite(10798)" onMouseOut="lolite()" onClick="logVariable('scoobj')" href="../../_variables/scoobj.html">$scoobj</a>) {
<a name="l1663"><span class="linenum">1663</span></a>                      if (<a class="var it724" onMouseOver="hilite(724)" onMouseOut="lolite()" onClick="logVariable('identifier')" href="../../_variables/identifier.html">$identifier</a> == <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parent')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parent.html">parent</a>) {
<a name="l1664"><span class="linenum">1664</span></a>                          <a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../_variables/parent.html">$parent</a> = <a class="var it724" onMouseOver="hilite(724)" onMouseOut="lolite()" onClick="logVariable('identifier')" href="../../_variables/identifier.html">$identifier</a>;
<a name="l1665"><span class="linenum">1665</span></a>                      }
<a name="l1666"><span class="linenum">1666</span></a>                  }
<a name="l1667"><span class="linenum">1667</span></a>  
<a name="l1668"><span class="linenum">1668</span></a>                  if (<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../_variables/parent.html">$parent</a> !== false) {
<a name="l1669"><span class="linenum">1669</span></a>                      <a class="var it4448" onMouseOver="hilite(4448)" onMouseOut="lolite()" onClick="logVariable('final')" href="../../_variables/final.html">$final</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>][<a class="var it311" onMouseOver="hilite(311)" onMouseOut="lolite()" onClick="logVariable('parent')" href="../../_variables/parent.html">$parent</a>]-&gt;children[] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>;
<a name="l1670"><span class="linenum">1670</span></a>                  }
<a name="l1671"><span class="linenum">1671</span></a>              }
<a name="l1672"><span class="linenum">1672</span></a>          }
<a name="l1673"><span class="linenum">1673</span></a>      }
<a name="l1674"><span class="linenum">1674</span></a>  
<a name="l1675"><span class="linenum">1675</span></a>      <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();
<a name="l1676"><span class="linenum">1676</span></a>      for (<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = 0; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &lt;= <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>; <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>++) {
<a name="l1677"><span class="linenum">1677</span></a>          <a class="var it408" onMouseOver="hilite(408)" onMouseOut="lolite()" onClick="logVariable('keys')" href="../../_variables/keys.html">$keys</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it4448" onMouseOver="hilite(4448)" onMouseOut="lolite()" onClick="logVariable('final')" href="../../_variables/final.html">$final</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>]);
<a name="l1678"><span class="linenum">1678</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = <a class="var it4448" onMouseOver="hilite(4448)" onMouseOut="lolite()" onClick="logVariable('final')" href="../../_variables/final.html">$final</a>[<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>][<a class="var it408" onMouseOver="hilite(408)" onMouseOut="lolite()" onClick="logVariable('keys')" href="../../_variables/keys.html">$keys</a>[0]];
<a name="l1679"><span class="linenum">1679</span></a>      }
<a name="l1680"><span class="linenum">1680</span></a>  
<a name="l1681"><span class="linenum">1681</span></a>      return <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l1682"><span class="linenum">1682</span></a>  }
<a name="l1683"><span class="linenum">1683</span></a>  
<a name="l1684"><span class="linenum">1684</span></a>  function <a class="function" onClick="logFunction('scorm_format_toc_for_treeview')" href="../../_functions/scorm_format_toc_for_treeview.html" onMouseOver="funcPopup(event,'scorm_format_toc_for_treeview')">scorm_format_toc_for_treeview</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>, <a class="var it10791" onMouseOver="hilite(10791)" onMouseOut="lolite()" onClick="logVariable('usertracks')" href="../../_variables/usertracks.html">$usertracks</a>, <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>, <a class="var it10799" onMouseOver="hilite(10799)" onMouseOut="lolite()" onClick="logVariable('toclink')" href="../../_variables/toclink.html">$toclink</a>=<a class="constant" onClick="logConstant('TOCJSLINK')" href="../../_constants/TOCJSLINK.html" onMouseOver="constPopup(event,'TOCJSLINK')">TOCJSLINK</a>, <a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>='',
<a name="l1685"><span class="linenum">1685</span></a>                                          <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>='', <a class="var it10789" onMouseOver="hilite(10789)" onMouseOut="lolite()" onClick="logVariable('play')" href="../../_variables/play.html">$play</a>=false, <a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a>=null, <a class="var it922" onMouseOver="hilite(922)" onMouseOut="lolite()" onClick="logVariable('children')" href="../../_variables/children.html">$children</a>=false) {
<a name="l1686"><span class="linenum">1686</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1687"><span class="linenum">1687</span></a>  
<a name="l1688"><span class="linenum">1688</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = new stdClass();
<a name="l1689"><span class="linenum">1689</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('prerequisites')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/prerequisites.html">prerequisites</a> = true;
<a name="l1690"><span class="linenum">1690</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('incomplete')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/incomplete.html">incomplete</a> = true;
<a name="l1691"><span class="linenum">1691</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> = '';
<a name="l1692"><span class="linenum">1692</span></a>  
<a name="l1693"><span class="linenum">1693</span></a>      if (!<a class="var it922" onMouseOver="hilite(922)" onMouseOut="lolite()" onClick="logVariable('children')" href="../../_variables/children.html">$children</a>) {
<a name="l1694"><span class="linenum">1694</span></a>          <a class="var it10800" onMouseOver="hilite(10800)" onMouseOut="lolite()" onClick="logVariable('attemptsmade')" href="../../_variables/attemptsmade.html">$attemptsmade</a> = <a class="function" onClick="logFunction('scorm_get_attempt_count')" href="../../_functions/scorm_get_attempt_count.html" onMouseOver="funcPopup(event,'scorm_get_attempt_count')">scorm_get_attempt_count</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>);
<a name="l1695"><span class="linenum">1695</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('attemptleft')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/attemptleft.html">attemptleft</a> = <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('maxattempt')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/maxattempt.html">maxattempt</a> == 0 ? 1 : <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('maxattempt')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/maxattempt.html">maxattempt</a> - <a class="var it10800" onMouseOver="hilite(10800)" onMouseOut="lolite()" onClick="logVariable('attemptsmade')" href="../../_variables/attemptsmade.html">$attemptsmade</a>;
<a name="l1696"><span class="linenum">1696</span></a>      }
<a name="l1697"><span class="linenum">1697</span></a>  
<a name="l1698"><span class="linenum">1698</span></a>      if (!<a class="var it922" onMouseOver="hilite(922)" onMouseOut="lolite()" onClick="logVariable('children')" href="../../_variables/children.html">$children</a>) {
<a name="l1699"><span class="linenum">1699</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('ul');
<a name="l1700"><span class="linenum">1700</span></a>  
<a name="l1701"><span class="linenum">1701</span></a>          if (!<a class="var it10789" onMouseOver="hilite(10789)" onMouseOut="lolite()" onClick="logVariable('play')" href="../../_variables/play.html">$play</a> &amp;&amp; !empty(<a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a>)) {
<a name="l1702"><span class="linenum">1702</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('li').<a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a>-&gt;<a onClick="logVariable('title')" class="var it45080" onMouseOver="hilite(45080)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>.<a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('li');
<a name="l1703"><span class="linenum">1703</span></a>          }
<a name="l1704"><span class="linenum">1704</span></a>      }
<a name="l1705"><span class="linenum">1705</span></a>  
<a name="l1706"><span class="linenum">1706</span></a>      <a class="var it10801" onMouseOver="hilite(10801)" onMouseOut="lolite()" onClick="logVariable('prevsco')" href="../../_variables/prevsco.html">$prevsco</a> = '';
<a name="l1707"><span class="linenum">1707</span></a>      if (!empty(<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>)) {
<a name="l1708"><span class="linenum">1708</span></a>          foreach (<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a> as <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>) {
<a name="l1709"><span class="linenum">1709</span></a>  
<a name="l1710"><span class="linenum">1710</span></a>              if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('isvisible')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/isvisible.html">isvisible</a> === 'false') {
<a name="l1711"><span class="linenum">1711</span></a>                  continue;
<a name="l1712"><span class="linenum">1712</span></a>              }
<a name="l1713"><span class="linenum">1713</span></a>  
<a name="l1714"><span class="linenum">1714</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('li');
<a name="l1715"><span class="linenum">1715</span></a>              <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a> = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l1716"><span class="linenum">1716</span></a>  
<a name="l1717"><span class="linenum">1717</span></a>              <a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('score')" href="../../_variables/score.html">$score</a> = '';
<a name="l1718"><span class="linenum">1718</span></a>  
<a name="l1719"><span class="linenum">1719</span></a>              if (isset(<a class="var it10791" onMouseOver="hilite(10791)" onMouseOut="lolite()" onClick="logVariable('usertracks')" href="../../_variables/usertracks.html">$usertracks</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('identifier')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>])) {
<a name="l1720"><span class="linenum">1720</span></a>                  <a class="var it10802" onMouseOver="hilite(10802)" onMouseOut="lolite()" onClick="logVariable('viewscore')" href="../../_variables/viewscore.html">$viewscore</a> = <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/scorm:viewscores', <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>));
<a name="l1721"><span class="linenum">1721</span></a>                  if (isset(<a class="var it10791" onMouseOver="hilite(10791)" onMouseOut="lolite()" onClick="logVariable('usertracks')" href="../../_variables/usertracks.html">$usertracks</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('identifier')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>]-&gt;score_raw) &amp;&amp; <a class="var it10802" onMouseOver="hilite(10802)" onMouseOut="lolite()" onClick="logVariable('viewscore')" href="../../_variables/viewscore.html">$viewscore</a>) {
<a name="l1722"><span class="linenum">1722</span></a>                      if (<a class="var it10791" onMouseOver="hilite(10791)" onMouseOut="lolite()" onClick="logVariable('usertracks')" href="../../_variables/usertracks.html">$usertracks</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('identifier')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>]-&gt;score_raw != '') {
<a name="l1723"><span class="linenum">1723</span></a>                          <a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('score')" href="../../_variables/score.html">$score</a> = '('.<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('score', 'scorm').':&amp;nbsp;'.<a class="var it10791" onMouseOver="hilite(10791)" onMouseOut="lolite()" onClick="logVariable('usertracks')" href="../../_variables/usertracks.html">$usertracks</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('identifier')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>]-&gt;score_raw.')';
<a name="l1724"><span class="linenum">1724</span></a>                      }
<a name="l1725"><span class="linenum">1725</span></a>                  }
<a name="l1726"><span class="linenum">1726</span></a>              }
<a name="l1727"><span class="linenum">1727</span></a>  
<a name="l1728"><span class="linenum">1728</span></a>              if (!empty(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('prereq')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/prereq.html">prereq</a>)) {
<a name="l1729"><span class="linenum">1729</span></a>                  if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> == <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>) {
<a name="l1730"><span class="linenum">1730</span></a>                      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('prerequisites')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/prerequisites.html">prerequisites</a> = true;
<a name="l1731"><span class="linenum">1731</span></a>                  }
<a name="l1732"><span class="linenum">1732</span></a>  
<a name="l1733"><span class="linenum">1733</span></a>                  if (!empty(<a class="var it10801" onMouseOver="hilite(10801)" onMouseOut="lolite()" onClick="logVariable('prevsco')" href="../../_variables/prevsco.html">$prevsco</a>) &amp;&amp; <a class="function" onClick="logFunction('scorm_version_check')" href="../../_functions/scorm_version_check.html" onMouseOver="funcPopup(event,'scorm_version_check')">scorm_version_check</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a>, <a class="constant" onClick="logConstant('SCORM_13')" href="../../_constants/SCORM_13.html" onMouseOver="constPopup(event,'SCORM_13')">SCORM_13</a>) &amp;&amp; !empty(<a class="var it10801" onMouseOver="hilite(10801)" onMouseOut="lolite()" onClick="logVariable('prevsco')" href="../../_variables/prevsco.html">$prevsco</a>-&gt;<a onClick="logVariable('hidecontinue')" class="var it45081" onMouseOver="hilite(45081)" onMouseOut="lolite()" href="../../_variables/hidecontinue.html">hidecontinue</a>)) {
<a name="l1734"><span class="linenum">1734</span></a>                      if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> == 'sco') {
<a name="l1735"><span class="linenum">1735</span></a>                          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('statusicon')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/statusicon.html">statusicon</a>.'&amp;nbsp;'.<a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>));
<a name="l1736"><span class="linenum">1736</span></a>                      } else {
<a name="l1737"><span class="linenum">1737</span></a>                          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>('&amp;nbsp;'.<a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>));
<a name="l1738"><span class="linenum">1738</span></a>                      }
<a name="l1739"><span class="linenum">1739</span></a>                  } else if (<a class="var it10799" onMouseOver="hilite(10799)" onMouseOut="lolite()" onClick="logVariable('toclink')" href="../../_variables/toclink.html">$toclink</a> == <a class="constant" onClick="logConstant('TOCFULLURL')" href="../../_constants/TOCFULLURL.html" onMouseOver="constPopup(event,'TOCFULLURL')">TOCFULLURL</a>) {
<a name="l1740"><span class="linenum">1740</span></a>                      <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>.'/mod/scorm/player.php?'.<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('url')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/url.html">url</a>;
<a name="l1741"><span class="linenum">1741</span></a>                      if (!empty(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('launch')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/launch.html">launch</a>)) {
<a name="l1742"><span class="linenum">1742</span></a>                          if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> == 'sco') {
<a name="l1743"><span class="linenum">1743</span></a>                              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('statusicon')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/statusicon.html">statusicon</a>.'&amp;nbsp;';
<a name="l1744"><span class="linenum">1744</span></a>                              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>, <a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>)).<a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('score')" href="../../_variables/score.html">$score</a>;
<a name="l1745"><span class="linenum">1745</span></a>                          } else {
<a name="l1746"><span class="linenum">1746</span></a>                              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= '&amp;nbsp;'.<a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>, <a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>),
<a name="l1747"><span class="linenum">1747</span></a>                                                                          array('data-scoid' =&gt; <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>)).<a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('score')" href="../../_variables/score.html">$score</a>;
<a name="l1748"><span class="linenum">1748</span></a>                          }
<a name="l1749"><span class="linenum">1749</span></a>                      } else {
<a name="l1750"><span class="linenum">1750</span></a>                          if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> == 'sco') {
<a name="l1751"><span class="linenum">1751</span></a>                              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('statusicon')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/statusicon.html">statusicon</a>.'&amp;nbsp;'.<a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>).<a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('score')" href="../../_variables/score.html">$score</a>;
<a name="l1752"><span class="linenum">1752</span></a>                          } else {
<a name="l1753"><span class="linenum">1753</span></a>                              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= '&amp;nbsp;'.<a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>).<a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('score')" href="../../_variables/score.html">$score</a>;
<a name="l1754"><span class="linenum">1754</span></a>                          }
<a name="l1755"><span class="linenum">1755</span></a>                      }
<a name="l1756"><span class="linenum">1756</span></a>                  } else {
<a name="l1757"><span class="linenum">1757</span></a>                      if (!empty(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('launch')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/launch.html">launch</a>)) {
<a name="l1758"><span class="linenum">1758</span></a>                          if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> == 'sco') {
<a name="l1759"><span class="linenum">1759</span></a>                              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('a', <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('statusicon')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/statusicon.html">statusicon</a>.'&amp;nbsp;'.
<a name="l1760"><span class="linenum">1760</span></a>                                                                  <a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>).'&amp;nbsp;'.<a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('score')" href="../../_variables/score.html">$score</a>,
<a name="l1761"><span class="linenum">1761</span></a>                                                                  array('data-scoid' =&gt; <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'title' =&gt; <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('url')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/url.html">url</a>));
<a name="l1762"><span class="linenum">1762</span></a>                          } else {
<a name="l1763"><span class="linenum">1763</span></a>                              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('a', '&amp;nbsp;'.<a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>).'&amp;nbsp;'.<a class="var it647" onMouseOver="hilite(647)" onMouseOut="lolite()" onClick="logVariable('score')" href="../../_variables/score.html">$score</a>,
<a name="l1764"><span class="linenum">1764</span></a>                                                                  array('data-scoid' =&gt; <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'title' =&gt; <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('url')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/url.html">url</a>));
<a name="l1765"><span class="linenum">1765</span></a>                          }
<a name="l1766"><span class="linenum">1766</span></a>                      } else {
<a name="l1767"><span class="linenum">1767</span></a>                          if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> == 'sco') {
<a name="l1768"><span class="linenum">1768</span></a>                              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('statusicon')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/statusicon.html">statusicon</a>.'&amp;nbsp;'.<a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>));
<a name="l1769"><span class="linenum">1769</span></a>                          } else {
<a name="l1770"><span class="linenum">1770</span></a>                              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>('&amp;nbsp;'.<a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>));
<a name="l1771"><span class="linenum">1771</span></a>                          }
<a name="l1772"><span class="linenum">1772</span></a>                      }
<a name="l1773"><span class="linenum">1773</span></a>                  }
<a name="l1774"><span class="linenum">1774</span></a>  
<a name="l1775"><span class="linenum">1775</span></a>              } else {
<a name="l1776"><span class="linenum">1776</span></a>                  if (<a class="var it10789" onMouseOver="hilite(10789)" onMouseOut="lolite()" onClick="logVariable('play')" href="../../_variables/play.html">$play</a>) {
<a name="l1777"><span class="linenum">1777</span></a>                      if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> == 'sco') {
<a name="l1778"><span class="linenum">1778</span></a>                          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('span')" href="../../_functions/span.html" onMouseOver="funcPopup(event,'span')">span</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('statusicon')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/statusicon.html">statusicon</a>.'&amp;nbsp;'.<a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>));
<a name="l1779"><span class="linenum">1779</span></a>                      } else {
<a name="l1780"><span class="linenum">1780</span></a>                          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= '&amp;nbsp;'.<a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>).<a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_span')" href="../../_functions/end_span.html" onMouseOver="funcPopup(event,'end_span')">end_span</a>();
<a name="l1781"><span class="linenum">1781</span></a>                      }
<a name="l1782"><span class="linenum">1782</span></a>                  } else {
<a name="l1783"><span class="linenum">1783</span></a>                      if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> == 'sco') {
<a name="l1784"><span class="linenum">1784</span></a>                          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('statusicon')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/statusicon.html">statusicon</a>.'&amp;nbsp;'.<a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>);
<a name="l1785"><span class="linenum">1785</span></a>                      } else {
<a name="l1786"><span class="linenum">1786</span></a>                          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= '&amp;nbsp;'.<a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>);
<a name="l1787"><span class="linenum">1787</span></a>                      }
<a name="l1788"><span class="linenum">1788</span></a>                  }
<a name="l1789"><span class="linenum">1789</span></a>              }
<a name="l1790"><span class="linenum">1790</span></a>  
<a name="l1791"><span class="linenum">1791</span></a>              if (!empty(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('children')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/children.html">children</a>)) {
<a name="l1792"><span class="linenum">1792</span></a>                  <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_tag')" href="../../_functions/start_tag.html" onMouseOver="funcPopup(event,'start_tag')">start_tag</a>('ul');
<a name="l1793"><span class="linenum">1793</span></a>                  <a class="var it10804" onMouseOver="hilite(10804)" onMouseOut="lolite()" onClick="logVariable('childresult')" href="../../_variables/childresult.html">$childresult</a> = <a class="function" onClick="logFunction('scorm_format_toc_for_treeview')" href="../../_functions/scorm_format_toc_for_treeview.html" onMouseOver="funcPopup(event,'scorm_format_toc_for_treeview')">scorm_format_toc_for_treeview</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('children')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/children.html">children</a>, <a class="var it10791" onMouseOver="hilite(10791)" onMouseOut="lolite()" onClick="logVariable('usertracks')" href="../../_variables/usertracks.html">$usertracks</a>, <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>,
<a name="l1794"><span class="linenum">1794</span></a>                                                                  <a class="var it10799" onMouseOver="hilite(10799)" onMouseOut="lolite()" onClick="logVariable('toclink')" href="../../_variables/toclink.html">$toclink</a>, <a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>, <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>, <a class="var it10789" onMouseOver="hilite(10789)" onMouseOut="lolite()" onClick="logVariable('play')" href="../../_variables/play.html">$play</a>, <a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a>, true);
<a name="l1795"><span class="linenum">1795</span></a>  
<a name="l1796"><span class="linenum">1796</span></a>  <span class="comment">                // Is any of the children incomplete?</span>
<a name="l1797"><span class="linenum">1797</span></a>                  <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('incomplete')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/incomplete.html">incomplete</a> = <a class="var it10804" onMouseOver="hilite(10804)" onMouseOut="lolite()" onClick="logVariable('childresult')" href="../../_variables/childresult.html">$childresult</a>-&gt;<a onClick="logVariable('incomplete')" class="var it45082" onMouseOver="hilite(45082)" onMouseOut="lolite()" href="../../_variables/incomplete.html">incomplete</a>;
<a name="l1798"><span class="linenum">1798</span></a>                  <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="var it10804" onMouseOver="hilite(10804)" onMouseOut="lolite()" onClick="logVariable('childresult')" href="../../_variables/childresult.html">$childresult</a>-&gt;<a onClick="logVariable('toc')" class="var it45082" onMouseOver="hilite(45082)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a>;
<a name="l1799"><span class="linenum">1799</span></a>                  <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('ul');
<a name="l1800"><span class="linenum">1800</span></a>                  <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('li');
<a name="l1801"><span class="linenum">1801</span></a>              } else {
<a name="l1802"><span class="linenum">1802</span></a>                  <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('li');
<a name="l1803"><span class="linenum">1803</span></a>              }
<a name="l1804"><span class="linenum">1804</span></a>              <a class="var it10801" onMouseOver="hilite(10801)" onMouseOut="lolite()" onClick="logVariable('prevsco')" href="../../_variables/prevsco.html">$prevsco</a> = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>;
<a name="l1805"><span class="linenum">1805</span></a>          }
<a name="l1806"><span class="linenum">1806</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('incomplete')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/incomplete.html">incomplete</a> = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('incomplete')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/incomplete.html">incomplete</a>;
<a name="l1807"><span class="linenum">1807</span></a>      }
<a name="l1808"><span class="linenum">1808</span></a>  
<a name="l1809"><span class="linenum">1809</span></a>      if (!<a class="var it922" onMouseOver="hilite(922)" onMouseOut="lolite()" onClick="logVariable('children')" href="../../_variables/children.html">$children</a>) {
<a name="l1810"><span class="linenum">1810</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_tag')" href="../../_functions/end_tag.html" onMouseOver="funcPopup(event,'end_tag')">end_tag</a>('ul');
<a name="l1811"><span class="linenum">1811</span></a>      }
<a name="l1812"><span class="linenum">1812</span></a>  
<a name="l1813"><span class="linenum">1813</span></a>      return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l1814"><span class="linenum">1814</span></a>  }
<a name="l1815"><span class="linenum">1815</span></a>  
<a name="l1816"><span class="linenum">1816</span></a>  function <a class="function" onClick="logFunction('scorm_format_toc_for_droplist')" href="../../_functions/scorm_format_toc_for_droplist.html" onMouseOver="funcPopup(event,'scorm_format_toc_for_droplist')">scorm_format_toc_for_droplist</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>, <a class="var it10791" onMouseOver="hilite(10791)" onMouseOut="lolite()" onClick="logVariable('usertracks')" href="../../_variables/usertracks.html">$usertracks</a>, <a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>='', <a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a>=null,
<a name="l1817"><span class="linenum">1817</span></a>                                          <a class="var it922" onMouseOver="hilite(922)" onMouseOut="lolite()" onClick="logVariable('children')" href="../../_variables/children.html">$children</a>=false, <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>=0, <a class="var it10805" onMouseOver="hilite(10805)" onMouseOut="lolite()" onClick="logVariable('tocmenus')" href="../../_variables/tocmenus.html">$tocmenus</a>=array()) {
<a name="l1818"><span class="linenum">1818</span></a>      if (!empty(<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>)) {
<a name="l1819"><span class="linenum">1819</span></a>          if (!empty(<a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a>) &amp;&amp; !<a class="var it922" onMouseOver="hilite(922)" onMouseOut="lolite()" onClick="logVariable('children')" href="../../_variables/children.html">$children</a>) {
<a name="l1820"><span class="linenum">1820</span></a>              <a class="var it10805" onMouseOver="hilite(10805)" onMouseOut="lolite()" onClick="logVariable('tocmenus')" href="../../_variables/tocmenus.html">$tocmenus</a>[<a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a>-&gt;<a onClick="logVariable('id')" class="var it45080" onMouseOver="hilite(45080)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>] = <a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a>-&gt;<a onClick="logVariable('title')" class="var it45080" onMouseOver="hilite(45080)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>;
<a name="l1821"><span class="linenum">1821</span></a>          }
<a name="l1822"><span class="linenum">1822</span></a>  
<a name="l1823"><span class="linenum">1823</span></a>          <a class="var it2400" onMouseOver="hilite(2400)" onMouseOut="lolite()" onClick="logVariable('parents')" href="../../_variables/parents.html">$parents</a>[<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>] = '/';
<a name="l1824"><span class="linenum">1824</span></a>          foreach (<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a> as <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>) {
<a name="l1825"><span class="linenum">1825</span></a>              if (<a class="var it2400" onMouseOver="hilite(2400)" onMouseOut="lolite()" onClick="logVariable('parents')" href="../../_variables/parents.html">$parents</a>[<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>] != <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parent')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parent.html">parent</a>) {
<a name="l1826"><span class="linenum">1826</span></a>                  if (<a class="var it10806" onMouseOver="hilite(10806)" onMouseOut="lolite()" onClick="logVariable('newlevel')" href="../../_variables/newlevel.html">$newlevel</a> = <a class="phpfunction" onClick="logFunction('array_search')" href="../../_functions/array_search.html" onMouseOver="phpfuncPopup(event,'array_search')">array_search</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parent')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parent.html">parent</a>, <a class="var it2400" onMouseOver="hilite(2400)" onMouseOut="lolite()" onClick="logVariable('parents')" href="../../_variables/parents.html">$parents</a>)) {
<a name="l1827"><span class="linenum">1827</span></a>                      <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a> = <a class="var it10806" onMouseOver="hilite(10806)" onMouseOut="lolite()" onClick="logVariable('newlevel')" href="../../_variables/newlevel.html">$newlevel</a>;
<a name="l1828"><span class="linenum">1828</span></a>                  } else {
<a name="l1829"><span class="linenum">1829</span></a>                      <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> = <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>;
<a name="l1830"><span class="linenum">1830</span></a>                      while ((<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> &gt; 0) &amp;&amp; (<a class="var it2400" onMouseOver="hilite(2400)" onMouseOut="lolite()" onClick="logVariable('parents')" href="../../_variables/parents.html">$parents</a>[<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>] != <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parent')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parent.html">parent</a>)) {
<a name="l1831"><span class="linenum">1831</span></a>                          <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>--;
<a name="l1832"><span class="linenum">1832</span></a>                      }
<a name="l1833"><span class="linenum">1833</span></a>  
<a name="l1834"><span class="linenum">1834</span></a>                      if ((<a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a> == 0) &amp;&amp; (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parent')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parent.html">parent</a> != <a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>)) {
<a name="l1835"><span class="linenum">1835</span></a>                          <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>++;
<a name="l1836"><span class="linenum">1836</span></a>                      } else {
<a name="l1837"><span class="linenum">1837</span></a>                          <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a> = <a class="var it107" onMouseOver="hilite(107)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../_variables/i.html">$i</a>;
<a name="l1838"><span class="linenum">1838</span></a>                      }
<a name="l1839"><span class="linenum">1839</span></a>  
<a name="l1840"><span class="linenum">1840</span></a>                      <a class="var it2400" onMouseOver="hilite(2400)" onMouseOut="lolite()" onClick="logVariable('parents')" href="../../_variables/parents.html">$parents</a>[<a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parent')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parent.html">parent</a>;
<a name="l1841"><span class="linenum">1841</span></a>                  }
<a name="l1842"><span class="linenum">1842</span></a>              }
<a name="l1843"><span class="linenum">1843</span></a>  
<a name="l1844"><span class="linenum">1844</span></a>              if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> == 'sco') {
<a name="l1845"><span class="linenum">1845</span></a>                  <a class="var it10805" onMouseOver="hilite(10805)" onMouseOut="lolite()" onClick="logVariable('tocmenus')" href="../../_variables/tocmenus.html">$tocmenus</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>] = <a class="function" onClick="logFunction('scorm_repeater')" href="../../_functions/scorm_repeater.html" onMouseOver="funcPopup(event,'scorm_repeater')">scorm_repeater</a>('&amp;minus;', <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>) . '&amp;gt;' . <a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>);
<a name="l1846"><span class="linenum">1846</span></a>              }
<a name="l1847"><span class="linenum">1847</span></a>  
<a name="l1848"><span class="linenum">1848</span></a>              if (!empty(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('children')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/children.html">children</a>)) {
<a name="l1849"><span class="linenum">1849</span></a>                  <a class="var it10805" onMouseOver="hilite(10805)" onMouseOut="lolite()" onClick="logVariable('tocmenus')" href="../../_variables/tocmenus.html">$tocmenus</a> = <a class="function" onClick="logFunction('scorm_format_toc_for_droplist')" href="../../_functions/scorm_format_toc_for_droplist.html" onMouseOver="funcPopup(event,'scorm_format_toc_for_droplist')">scorm_format_toc_for_droplist</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('children')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/children.html">children</a>, <a class="var it10791" onMouseOver="hilite(10791)" onMouseOut="lolite()" onClick="logVariable('usertracks')" href="../../_variables/usertracks.html">$usertracks</a>, <a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>,
<a name="l1850"><span class="linenum">1850</span></a>                                                              <a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a>, true, <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('level')" href="../../_variables/level.html">$level</a>, <a class="var it10805" onMouseOver="hilite(10805)" onMouseOut="lolite()" onClick="logVariable('tocmenus')" href="../../_variables/tocmenus.html">$tocmenus</a>);
<a name="l1851"><span class="linenum">1851</span></a>              }
<a name="l1852"><span class="linenum">1852</span></a>          }
<a name="l1853"><span class="linenum">1853</span></a>      }
<a name="l1854"><span class="linenum">1854</span></a>  
<a name="l1855"><span class="linenum">1855</span></a>      return <a class="var it10805" onMouseOver="hilite(10805)" onMouseOut="lolite()" onClick="logVariable('tocmenus')" href="../../_variables/tocmenus.html">$tocmenus</a>;
<a name="l1856"><span class="linenum">1856</span></a>  }
<a name="l1857"><span class="linenum">1857</span></a>  
<a name="l1858"><span class="linenum">1858</span></a>  function <a class="function" onClick="logFunction('scorm_get_toc')" href="../../_functions/scorm_get_toc.html" onMouseOver="funcPopup(event,'scorm_get_toc')">scorm_get_toc</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>, <a class="var it10799" onMouseOver="hilite(10799)" onMouseOut="lolite()" onClick="logVariable('toclink')" href="../../_variables/toclink.html">$toclink</a>=<a class="constant" onClick="logConstant('TOCJSLINK')" href="../../_constants/TOCJSLINK.html" onMouseOver="constPopup(event,'TOCJSLINK')">TOCJSLINK</a>, <a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>='', <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>='', <a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a>='normal',
<a name="l1859"><span class="linenum">1859</span></a>                          <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>='', <a class="var it10789" onMouseOver="hilite(10789)" onMouseOut="lolite()" onClick="logVariable('play')" href="../../_variables/play.html">$play</a>=false, <a class="var it10807" onMouseOver="hilite(10807)" onMouseOut="lolite()" onClick="logVariable('tocheader')" href="../../_variables/tocheader.html">$tocheader</a>=false) {
<a name="l1860"><span class="linenum">1860</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l1861"><span class="linenum">1861</span></a>  
<a name="l1862"><span class="linenum">1862</span></a>      if (empty(<a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>)) {
<a name="l1863"><span class="linenum">1863</span></a>          <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a> = <a class="function" onClick="logFunction('scorm_get_last_attempt')" href="../../_functions/scorm_get_last_attempt.html" onMouseOver="funcPopup(event,'scorm_get_last_attempt')">scorm_get_last_attempt</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1864"><span class="linenum">1864</span></a>      }
<a name="l1865"><span class="linenum">1865</span></a>  
<a name="l1866"><span class="linenum">1866</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = new stdClass();
<a name="l1867"><span class="linenum">1867</span></a>      <a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a> = null;
<a name="l1868"><span class="linenum">1868</span></a>  
<a name="l1869"><span class="linenum">1869</span></a>      if (<a class="var it10807" onMouseOver="hilite(10807)" onMouseOut="lolite()" onClick="logVariable('tocheader')" href="../../_variables/tocheader.html">$tocheader</a>) {
<a name="l1870"><span class="linenum">1870</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_div')" href="../../_functions/start_div.html" onMouseOver="funcPopup(event,'start_div')">start_div</a>('yui3-g-r', array('id' =&gt; 'scorm_layout'));
<a name="l1871"><span class="linenum">1871</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_div')" href="../../_functions/start_div.html" onMouseOver="funcPopup(event,'start_div')">start_div</a>('yui3-u-1-5', array('id' =&gt; 'scorm_toc'));
<a name="l1872"><span class="linenum">1872</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>('', '', array('id' =&gt; 'scorm_toc_title'));
<a name="l1873"><span class="linenum">1873</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_div')" href="../../_functions/start_div.html" onMouseOver="funcPopup(event,'start_div')">start_div</a>('', array('id' =&gt; 'scorm_tree'));
<a name="l1874"><span class="linenum">1874</span></a>      }
<a name="l1875"><span class="linenum">1875</span></a>  
<a name="l1876"><span class="linenum">1876</span></a>      if (!empty(<a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>)) {
<a name="l1877"><span class="linenum">1877</span></a>          <a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('scorm_scoes', array('scorm' =&gt; <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'identifier' =&gt; <a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>));
<a name="l1878"><span class="linenum">1878</span></a>          if (!empty(<a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a>-&gt;<a onClick="logVariable('title')" class="var it45080" onMouseOver="hilite(45080)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>)) {
<a name="l1879"><span class="linenum">1879</span></a>              if (<a class="var it10789" onMouseOver="hilite(10789)" onMouseOut="lolite()" onClick="logVariable('play')" href="../../_variables/play.html">$play</a>) {
<a name="l1880"><span class="linenum">1880</span></a>                  <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toctitle')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toctitle.html">toctitle</a> = <a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a>-&gt;<a onClick="logVariable('title')" class="var it45080" onMouseOver="hilite(45080)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>;
<a name="l1881"><span class="linenum">1881</span></a>              }
<a name="l1882"><span class="linenum">1882</span></a>          }
<a name="l1883"><span class="linenum">1883</span></a>      }
<a name="l1884"><span class="linenum">1884</span></a>  
<a name="l1885"><span class="linenum">1885</span></a>      <a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a> = <a class="function" onClick="logFunction('scorm_get_toc_object')" href="../../_functions/scorm_get_toc_object.html" onMouseOver="funcPopup(event,'scorm_get_toc_object')">scorm_get_toc_object</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>, <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>, <a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a>, <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>, <a class="var it10789" onMouseOver="hilite(10789)" onMouseOut="lolite()" onClick="logVariable('play')" href="../../_variables/play.html">$play</a>, <a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a>);
<a name="l1886"><span class="linenum">1886</span></a>  
<a name="l1887"><span class="linenum">1887</span></a>      <a class="var it10809" onMouseOver="hilite(10809)" onMouseOut="lolite()" onClick="logVariable('treeview')" href="../../_variables/treeview.html">$treeview</a> = <a class="function" onClick="logFunction('scorm_format_toc_for_treeview')" href="../../_functions/scorm_format_toc_for_treeview.html" onMouseOver="funcPopup(event,'scorm_format_toc_for_treeview')">scorm_format_toc_for_treeview</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>['scoes'][0]-&gt;children, <a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>['usertracks'], <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>,
<a name="l1888"><span class="linenum">1888</span></a>                                                  <a class="var it10799" onMouseOver="hilite(10799)" onMouseOut="lolite()" onClick="logVariable('toclink')" href="../../_variables/toclink.html">$toclink</a>, <a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>, <a class="var it550" onMouseOver="hilite(550)" onMouseOut="lolite()" onClick="logVariable('attempt')" href="../../_variables/attempt.html">$attempt</a>, <a class="var it10789" onMouseOver="hilite(10789)" onMouseOut="lolite()" onClick="logVariable('play')" href="../../_variables/play.html">$play</a>, <a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a>, false);
<a name="l1889"><span class="linenum">1889</span></a>  
<a name="l1890"><span class="linenum">1890</span></a>      if (<a class="var it10807" onMouseOver="hilite(10807)" onMouseOut="lolite()" onClick="logVariable('tocheader')" href="../../_variables/tocheader.html">$tocheader</a>) {
<a name="l1891"><span class="linenum">1891</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="var it10809" onMouseOver="hilite(10809)" onMouseOut="lolite()" onClick="logVariable('treeview')" href="../../_variables/treeview.html">$treeview</a>-&gt;<a onClick="logVariable('toc')" class="var it45083" onMouseOver="hilite(45083)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a>;
<a name="l1892"><span class="linenum">1892</span></a>      } else {
<a name="l1893"><span class="linenum">1893</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> = <a class="var it10809" onMouseOver="hilite(10809)" onMouseOut="lolite()" onClick="logVariable('treeview')" href="../../_variables/treeview.html">$treeview</a>-&gt;<a onClick="logVariable('toc')" class="var it45083" onMouseOver="hilite(45083)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a>;
<a name="l1894"><span class="linenum">1894</span></a>      }
<a name="l1895"><span class="linenum">1895</span></a>  
<a name="l1896"><span class="linenum">1896</span></a>      if (!empty(<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>['scoid'])) {
<a name="l1897"><span class="linenum">1897</span></a>          <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a> = <a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>['scoid'];
<a name="l1898"><span class="linenum">1898</span></a>      }
<a name="l1899"><span class="linenum">1899</span></a>  
<a name="l1900"><span class="linenum">1900</span></a>      if (empty(<a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>)) {
<a name="l1901"><span class="linenum">1901</span></a>  <span class="comment">        // If this is a normal package with an org sco and child scos get the first child.</span>
<a name="l1902"><span class="linenum">1902</span></a>          if (!empty(<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>['scoes'][0]-&gt;children)) {
<a name="l1903"><span class="linenum">1903</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('sco')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/sco.html">sco</a> = <a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>['scoes'][0]-&gt;children[0];
<a name="l1904"><span class="linenum">1904</span></a>          } else { // This package only has one sco - it may be a simple external AICC package.
<a name="l1905"><span class="linenum">1905</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('sco')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/sco.html">sco</a> = <a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>['scoes'][0];
<a name="l1906"><span class="linenum">1906</span></a>          }
<a name="l1907"><span class="linenum">1907</span></a>  
<a name="l1908"><span class="linenum">1908</span></a>      } else {
<a name="l1909"><span class="linenum">1909</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('sco')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/sco.html">sco</a> = <a class="function" onClick="logFunction('scorm_get_sco')" href="../../_functions/scorm_get_sco.html" onMouseOver="funcPopup(event,'scorm_get_sco')">scorm_get_sco</a>(<a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>);
<a name="l1910"><span class="linenum">1910</span></a>      }
<a name="l1911"><span class="linenum">1911</span></a>  
<a name="l1912"><span class="linenum">1912</span></a>      if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('hidetoc')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/hidetoc.html">hidetoc</a> == <a class="constant" onClick="logConstant('SCORM_TOC_POPUP')" href="../../_constants/SCORM_TOC_POPUP.html" onMouseOver="constPopup(event,'SCORM_TOC_POPUP')">SCORM_TOC_POPUP</a>) {
<a name="l1913"><span class="linenum">1913</span></a>          <a class="var it10810" onMouseOver="hilite(10810)" onMouseOut="lolite()" onClick="logVariable('tocmenu')" href="../../_variables/tocmenu.html">$tocmenu</a> = <a class="function" onClick="logFunction('scorm_format_toc_for_droplist')" href="../../_functions/scorm_format_toc_for_droplist.html" onMouseOver="funcPopup(event,'scorm_format_toc_for_droplist')">scorm_format_toc_for_droplist</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>['scoes'][0]-&gt;children, <a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>['usertracks'],
<a name="l1914"><span class="linenum">1914</span></a>                                                      <a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>, <a class="var it10790" onMouseOver="hilite(10790)" onMouseOut="lolite()" onClick="logVariable('organizationsco')" href="../../_variables/organizationsco.html">$organizationsco</a>);
<a name="l1915"><span class="linenum">1915</span></a>  
<a name="l1916"><span class="linenum">1916</span></a>          <a class="var it3708" onMouseOver="hilite(3708)" onMouseOut="lolite()" onClick="logVariable('modestr')" href="../../_variables/modestr.html">$modestr</a> = '';
<a name="l1917"><span class="linenum">1917</span></a>          if (<a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a> != 'normal') {
<a name="l1918"><span class="linenum">1918</span></a>              <a class="var it3708" onMouseOver="hilite(3708)" onMouseOut="lolite()" onClick="logVariable('modestr')" href="../../_variables/modestr.html">$modestr</a> = '&amp;mode='.<a class="var it109" onMouseOver="hilite(109)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../_variables/mode.html">$mode</a>;
<a name="l1919"><span class="linenum">1919</span></a>          }
<a name="l1920"><span class="linenum">1920</span></a>  
<a name="l1921"><span class="linenum">1921</span></a>          <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('/mod/scorm/player.php?a='.<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>.'&amp;currentorg='.<a class="var it10788" onMouseOver="hilite(10788)" onMouseOut="lolite()" onClick="logVariable('currentorg')" href="../../_variables/currentorg.html">$currentorg</a>.<a class="var it3708" onMouseOver="hilite(3708)" onMouseOut="lolite()" onClick="logVariable('modestr')" href="../../_variables/modestr.html">$modestr</a>);
<a name="l1922"><span class="linenum">1922</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('tocmenu')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/tocmenu.html">tocmenu</a> = <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('single_select')" href="../../_functions/single_select.html" onMouseOver="funcPopup(event,'single_select')">single_select</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>, 'scoid', <a class="var it10810" onMouseOver="hilite(10810)" onMouseOut="lolite()" onClick="logVariable('tocmenu')" href="../../_variables/tocmenu.html">$tocmenu</a>, <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('sco')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/sco.html">sco</a>-&gt;id, null, &quot;tocmenu&quot;);
<a name="l1923"><span class="linenum">1923</span></a>      }
<a name="l1924"><span class="linenum">1924</span></a>  
<a name="l1925"><span class="linenum">1925</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('prerequisites')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/prerequisites.html">prerequisites</a> = <a class="var it10809" onMouseOver="hilite(10809)" onMouseOut="lolite()" onClick="logVariable('treeview')" href="../../_variables/treeview.html">$treeview</a>-&gt;<a onClick="logVariable('prerequisites')" class="var it45083" onMouseOver="hilite(45083)" onMouseOut="lolite()" href="../../_variables/prerequisites.html">prerequisites</a>;
<a name="l1926"><span class="linenum">1926</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('incomplete')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/incomplete.html">incomplete</a> = <a class="var it10809" onMouseOver="hilite(10809)" onMouseOut="lolite()" onClick="logVariable('treeview')" href="../../_variables/treeview.html">$treeview</a>-&gt;<a onClick="logVariable('incomplete')" class="var it45083" onMouseOver="hilite(45083)" onMouseOut="lolite()" href="../../_variables/incomplete.html">incomplete</a>;
<a name="l1927"><span class="linenum">1927</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('attemptleft')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/attemptleft.html">attemptleft</a> = <a class="var it10809" onMouseOver="hilite(10809)" onMouseOut="lolite()" onClick="logVariable('treeview')" href="../../_variables/treeview.html">$treeview</a>-&gt;<a onClick="logVariable('attemptleft')" class="var it45083" onMouseOver="hilite(45083)" onMouseOut="lolite()" href="../../_variables/attemptleft.html">attemptleft</a>;
<a name="l1928"><span class="linenum">1928</span></a>  
<a name="l1929"><span class="linenum">1929</span></a>      if (<a class="var it10807" onMouseOver="hilite(10807)" onMouseOut="lolite()" onClick="logVariable('tocheader')" href="../../_variables/tocheader.html">$tocheader</a>) {
<a name="l1930"><span class="linenum">1930</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_div')" href="../../_functions/end_div.html" onMouseOver="funcPopup(event,'end_div')">end_div</a>().<a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_div')" href="../../_functions/end_div.html" onMouseOver="funcPopup(event,'end_div')">end_div</a>();
<a name="l1931"><span class="linenum">1931</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_div')" href="../../_functions/start_div.html" onMouseOver="funcPopup(event,'start_div')">start_div</a>('', array('id' =&gt; 'scorm_toc_toggle'));
<a name="l1932"><span class="linenum">1932</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('button', '', array('id' =&gt; 'scorm_toc_toggle_btn')).<a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_div')" href="../../_functions/end_div.html" onMouseOver="funcPopup(event,'end_div')">end_div</a>();
<a name="l1933"><span class="linenum">1933</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('start_div')" href="../../_functions/start_div.html" onMouseOver="funcPopup(event,'start_div')">start_div</a>('', array('id' =&gt; 'scorm_content'));
<a name="l1934"><span class="linenum">1934</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('div')" href="../../_functions/div.html" onMouseOver="funcPopup(event,'div')">div</a>('', '', array('id' =&gt; 'scorm_navpanel'));
<a name="l1935"><span class="linenum">1935</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('toc')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/toc.html">toc</a> .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_div')" href="../../_functions/end_div.html" onMouseOver="funcPopup(event,'end_div')">end_div</a>().<a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('end_div')" href="../../_functions/end_div.html" onMouseOver="funcPopup(event,'end_div')">end_div</a>();
<a name="l1936"><span class="linenum">1936</span></a>      }
<a name="l1937"><span class="linenum">1937</span></a>  
<a name="l1938"><span class="linenum">1938</span></a>      return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l1939"><span class="linenum">1939</span></a>  }
<a name="l1940"><span class="linenum">1940</span></a>  
<a name="l1941"><span class="linenum">1941</span></a>  function <a class="function" onClick="logFunction('scorm_get_adlnav_json')" href="../../_functions/scorm_get_adlnav_json.html" onMouseOver="funcPopup(event,'scorm_get_adlnav_json')">scorm_get_adlnav_json</a> (<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>, &amp;<a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a> = array(), <a class="var it10812" onMouseOver="hilite(10812)" onMouseOut="lolite()" onClick="logVariable('parentscoid')" href="../../_variables/parentscoid.html">$parentscoid</a> = null) {
<a name="l1942"><span class="linenum">1942</span></a>      if (<a class="phpfunction" onClick="logFunction('is_object')" href="../../_functions/is_object.html" onMouseOver="phpfuncPopup(event,'is_object')">is_object</a>(<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>)) {
<a name="l1943"><span class="linenum">1943</span></a>          <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a> = <a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>;
<a name="l1944"><span class="linenum">1944</span></a>          if (isset(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('url')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/url.html">url</a>)) {
<a name="l1945"><span class="linenum">1945</span></a>              <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['identifier'] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('identifier')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/identifier.html">identifier</a>;
<a name="l1946"><span class="linenum">1946</span></a>              <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['launch'] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('launch')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/launch.html">launch</a>;
<a name="l1947"><span class="linenum">1947</span></a>              <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['title'] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('title')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/title.html">title</a>;
<a name="l1948"><span class="linenum">1948</span></a>              <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['url'] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('url')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/url.html">url</a>;
<a name="l1949"><span class="linenum">1949</span></a>              <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['parent'] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parent')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parent.html">parent</a>;
<a name="l1950"><span class="linenum">1950</span></a>              if (isset(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('choice')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/choice.html">choice</a>)) {
<a name="l1951"><span class="linenum">1951</span></a>                  <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['choice'] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('choice')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/choice.html">choice</a>;
<a name="l1952"><span class="linenum">1952</span></a>              }
<a name="l1953"><span class="linenum">1953</span></a>              if (isset(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('flow')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/flow.html">flow</a>)) {
<a name="l1954"><span class="linenum">1954</span></a>                  <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['flow'] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('flow')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/flow.html">flow</a>;
<a name="l1955"><span class="linenum">1955</span></a>              } else if (isset(<a class="var it10812" onMouseOver="hilite(10812)" onMouseOut="lolite()" onClick="logVariable('parentscoid')" href="../../_variables/parentscoid.html">$parentscoid</a>) &amp;&amp; isset(<a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it10812" onMouseOver="hilite(10812)" onMouseOut="lolite()" onClick="logVariable('parentscoid')" href="../../_variables/parentscoid.html">$parentscoid</a>]['flow'])) {
<a name="l1956"><span class="linenum">1956</span></a>                  <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['flow'] = <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it10812" onMouseOver="hilite(10812)" onMouseOut="lolite()" onClick="logVariable('parentscoid')" href="../../_variables/parentscoid.html">$parentscoid</a>]['flow'];
<a name="l1957"><span class="linenum">1957</span></a>              }
<a name="l1958"><span class="linenum">1958</span></a>              if (isset(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('isvisible')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/isvisible.html">isvisible</a>)) {
<a name="l1959"><span class="linenum">1959</span></a>                  <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['isvisible'] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('isvisible')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/isvisible.html">isvisible</a>;
<a name="l1960"><span class="linenum">1960</span></a>              }
<a name="l1961"><span class="linenum">1961</span></a>              if (isset(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parameters')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parameters.html">parameters</a>)) {
<a name="l1962"><span class="linenum">1962</span></a>                  <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['parameters'] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parameters')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parameters.html">parameters</a>;
<a name="l1963"><span class="linenum">1963</span></a>              }
<a name="l1964"><span class="linenum">1964</span></a>              if (isset(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('hidecontinue')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/hidecontinue.html">hidecontinue</a>)) {
<a name="l1965"><span class="linenum">1965</span></a>                  <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['hidecontinue'] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('hidecontinue')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/hidecontinue.html">hidecontinue</a>;
<a name="l1966"><span class="linenum">1966</span></a>              }
<a name="l1967"><span class="linenum">1967</span></a>              if (isset(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('hideprevious')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/hideprevious.html">hideprevious</a>)) {
<a name="l1968"><span class="linenum">1968</span></a>                  <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['hideprevious'] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('hideprevious')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/hideprevious.html">hideprevious</a>;
<a name="l1969"><span class="linenum">1969</span></a>              }
<a name="l1970"><span class="linenum">1970</span></a>              if (isset(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('hidesuspendall')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/hidesuspendall.html">hidesuspendall</a>)) {
<a name="l1971"><span class="linenum">1971</span></a>                  <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['hidesuspendall'] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('hidesuspendall')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/hidesuspendall.html">hidesuspendall</a>;
<a name="l1972"><span class="linenum">1972</span></a>              }
<a name="l1973"><span class="linenum">1973</span></a>              if (!empty(<a class="var it10812" onMouseOver="hilite(10812)" onMouseOut="lolite()" onClick="logVariable('parentscoid')" href="../../_variables/parentscoid.html">$parentscoid</a>)) {
<a name="l1974"><span class="linenum">1974</span></a>                  <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['parentscoid'] = <a class="var it10812" onMouseOver="hilite(10812)" onMouseOut="lolite()" onClick="logVariable('parentscoid')" href="../../_variables/parentscoid.html">$parentscoid</a>;
<a name="l1975"><span class="linenum">1975</span></a>              }
<a name="l1976"><span class="linenum">1976</span></a>              if (isset(<a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>['prevscoid'])) {
<a name="l1977"><span class="linenum">1977</span></a>                  <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['prevscoid'] = <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>['prevscoid'];
<a name="l1978"><span class="linenum">1978</span></a>                  <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>['prevscoid']]['nextscoid'] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l1979"><span class="linenum">1979</span></a>                  if (isset(<a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>['prevparent']) &amp;&amp; <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>['prevparent'] == <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parent')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parent.html">parent</a>) {
<a name="l1980"><span class="linenum">1980</span></a>                      <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['prevsibling'] = <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>['prevscoid'];
<a name="l1981"><span class="linenum">1981</span></a>                      <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>[<a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>['prevscoid']]['nextsibling'] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l1982"><span class="linenum">1982</span></a>                  }
<a name="l1983"><span class="linenum">1983</span></a>              }
<a name="l1984"><span class="linenum">1984</span></a>              <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>['prevscoid'] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l1985"><span class="linenum">1985</span></a>              <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>['prevparent'] = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parent')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parent.html">parent</a>;
<a name="l1986"><span class="linenum">1986</span></a>          }
<a name="l1987"><span class="linenum">1987</span></a>          if (isset(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('children')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/children.html">children</a>)) {
<a name="l1988"><span class="linenum">1988</span></a>              foreach (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('children')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/children.html">children</a> as <a class="var it922" onMouseOver="hilite(922)" onMouseOut="lolite()" onClick="logVariable('children')" href="../../_variables/children.html">$children</a>) {
<a name="l1989"><span class="linenum">1989</span></a>                  <a class="function" onClick="logFunction('scorm_get_adlnav_json')" href="../../_functions/scorm_get_adlnav_json.html" onMouseOver="funcPopup(event,'scorm_get_adlnav_json')">scorm_get_adlnav_json</a>(<a class="var it922" onMouseOver="hilite(922)" onMouseOut="lolite()" onClick="logVariable('children')" href="../../_variables/children.html">$children</a>, <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>, <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1990"><span class="linenum">1990</span></a>              }
<a name="l1991"><span class="linenum">1991</span></a>          }
<a name="l1992"><span class="linenum">1992</span></a>      } else {
<a name="l1993"><span class="linenum">1993</span></a>          foreach (<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a> as <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>) {
<a name="l1994"><span class="linenum">1994</span></a>              <a class="function" onClick="logFunction('scorm_get_adlnav_json')" href="../../_functions/scorm_get_adlnav_json.html" onMouseOver="funcPopup(event,'scorm_get_adlnav_json')">scorm_get_adlnav_json</a> (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>, <a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>);
<a name="l1995"><span class="linenum">1995</span></a>          }
<a name="l1996"><span class="linenum">1996</span></a>          unset(<a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>['prevscoid']);
<a name="l1997"><span class="linenum">1997</span></a>          unset(<a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>['prevparent']);
<a name="l1998"><span class="linenum">1998</span></a>      }
<a name="l1999"><span class="linenum">1999</span></a>      return <a class="function" onClick="logFunction('json_encode')" href="../../_functions/json_encode.html" onMouseOver="funcPopup(event,'json_encode')">json_encode</a>(<a class="var it10811" onMouseOver="hilite(10811)" onMouseOut="lolite()" onClick="logVariable('adlnav')" href="../../_variables/adlnav.html">$adlnav</a>);
<a name="l2000"><span class="linenum">2000</span></a>  }
<a name="l2001"><span class="linenum">2001</span></a>  
<a name="l2002"><span class="linenum">2002</span></a>  <span class="comment">/**</span>
<a name="l2003"><span class="linenum">2003</span></a>  <span class="comment"> * Check for the availability of a resource by URL.</span>
<a name="l2004"><span class="linenum">2004</span></a>  <span class="comment"> *</span>
<a name="l2005"><span class="linenum">2005</span></a>  <span class="comment"> * Check is performed using an HTTP HEAD call.</span>
<a name="l2006"><span class="linenum">2006</span></a>  <span class="comment"> *</span>
<a name="l2007"><span class="linenum">2007</span></a>  <span class="comment"> * @param $url string A valid URL</span>
<a name="l2008"><span class="linenum">2008</span></a>  <span class="comment"> * @return bool|string True if no issue is found. The error string message, otherwise</span>
<a name="l2009"><span class="linenum">2009</span></a>  <span class="comment"> */</span>
<a name="l2010"><span class="linenum">2010</span></a>  function <a class="function" onClick="logFunction('scorm_check_url')" href="../../_functions/scorm_check_url.html" onMouseOver="funcPopup(event,'scorm_check_url')">scorm_check_url</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>) {
<a name="l2011"><span class="linenum">2011</span></a>      <a class="var it6381" onMouseOver="hilite(6381)" onMouseOut="lolite()" onClick="logVariable('curl')" href="../../_variables/curl.html">$curl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('curl')" href="../../_classes/curl.html" onMouseOver="classPopup(event,'curl')">curl</a>;
<a name="l2012"><span class="linenum">2012</span></a>  <span class="comment">    // Same options as in {@link download_file_content()}, used in {@link scorm_parse_scorm()}.</span>
<a name="l2013"><span class="linenum">2013</span></a>      <a class="var it6381" onMouseOver="hilite(6381)" onMouseOut="lolite()" onClick="logVariable('curl')" href="../../_variables/curl.html">$curl</a>-&gt;<a class="function" onClick="logFunction('setopt')" href="../../_functions/setopt.html" onMouseOver="funcPopup(event,'setopt')">setopt</a>(array('CURLOPT_FOLLOWLOCATION' =&gt; true, 'CURLOPT_MAXREDIRS' =&gt; 5));
<a name="l2014"><span class="linenum">2014</span></a>      <a class="var it10816" onMouseOver="hilite(10816)" onMouseOut="lolite()" onClick="logVariable('cmsg')" href="../../_variables/cmsg.html">$cmsg</a> = <a class="var it6381" onMouseOver="hilite(6381)" onMouseOut="lolite()" onClick="logVariable('curl')" href="../../_variables/curl.html">$curl</a>-&gt;<a class="function" onClick="logFunction('head')" href="../../_functions/head.html" onMouseOver="funcPopup(event,'head')">head</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>);
<a name="l2015"><span class="linenum">2015</span></a>      <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a> = <a class="var it6381" onMouseOver="hilite(6381)" onMouseOut="lolite()" onClick="logVariable('curl')" href="../../_variables/curl.html">$curl</a>-&gt;<a class="function" onClick="logFunction('get_info')" href="../../_functions/get_info.html" onMouseOver="funcPopup(event,'get_info')">get_info</a>();
<a name="l2016"><span class="linenum">2016</span></a>      if (empty(<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['http_code']) || <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>['http_code'] != 200) {
<a name="l2017"><span class="linenum">2017</span></a>          return <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('invalidurlhttpcheck', 'scorm', array('cmsg' =&gt; <a class="var it10816" onMouseOver="hilite(10816)" onMouseOut="lolite()" onClick="logVariable('cmsg')" href="../../_variables/cmsg.html">$cmsg</a>));
<a name="l2018"><span class="linenum">2018</span></a>      }
<a name="l2019"><span class="linenum">2019</span></a>  
<a name="l2020"><span class="linenum">2020</span></a>      return true;
<a name="l2021"><span class="linenum">2021</span></a>  }
<a name="l2022"><span class="linenum">2022</span></a>  
<a name="l2023"><span class="linenum">2023</span></a>  <span class="comment">/**</span>
<a name="l2024"><span class="linenum">2024</span></a>  <span class="comment"> * Check for a parameter in userdata and return it if it's set</span>
<a name="l2025"><span class="linenum">2025</span></a>  <span class="comment"> * or return the value from $ifempty if its empty</span>
<a name="l2026"><span class="linenum">2026</span></a>  <span class="comment"> *</span>
<a name="l2027"><span class="linenum">2027</span></a>  <span class="comment"> * @param stdClass $userdata Contains user's data</span>
<a name="l2028"><span class="linenum">2028</span></a>  <span class="comment"> * @param string $param parameter that should be checked</span>
<a name="l2029"><span class="linenum">2029</span></a>  <span class="comment"> * @param string $ifempty value to be replaced with if $param is not set</span>
<a name="l2030"><span class="linenum">2030</span></a>  <span class="comment"> * @return string value from $userdata-&gt;$param if its not empty, or $ifempty</span>
<a name="l2031"><span class="linenum">2031</span></a>  <span class="comment"> */</span>
<a name="l2032"><span class="linenum">2032</span></a>  function <a class="function" onClick="logFunction('scorm_isset')" href="../../_functions/scorm_isset.html" onMouseOver="funcPopup(event,'scorm_isset')">scorm_isset</a>(<a class="var it7917" onMouseOver="hilite(7917)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../../_variables/userdata.html">$userdata</a>, <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>, <a class="var it10817" onMouseOver="hilite(10817)" onMouseOut="lolite()" onClick="logVariable('ifempty')" href="../../_variables/ifempty.html">$ifempty</a> = '') {
<a name="l2033"><span class="linenum">2033</span></a>      if (isset(<a class="var it7917" onMouseOver="hilite(7917)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../../_variables/userdata.html">$userdata</a>-&gt;<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>)) {
<a name="l2034"><span class="linenum">2034</span></a>          return <a class="var it7917" onMouseOver="hilite(7917)" onMouseOut="lolite()" onClick="logVariable('userdata')" href="../../_variables/userdata.html">$userdata</a>-&gt;<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>;
<a name="l2035"><span class="linenum">2035</span></a>      } else {
<a name="l2036"><span class="linenum">2036</span></a>          return <a class="var it10817" onMouseOver="hilite(10817)" onMouseOut="lolite()" onClick="logVariable('ifempty')" href="../../_variables/ifempty.html">$ifempty</a>;
<a name="l2037"><span class="linenum">2037</span></a>      }
<a name="l2038"><span class="linenum">2038</span></a>  }
<a name="l2039"><span class="linenum">2039</span></a>  
<a name="l2040"><span class="linenum">2040</span></a>  <span class="comment">/**</span>
<a name="l2041"><span class="linenum">2041</span></a>  <span class="comment"> * Check if the current sco is launchable</span>
<a name="l2042"><span class="linenum">2042</span></a>  <span class="comment"> * If not, find the next launchable sco</span>
<a name="l2043"><span class="linenum">2043</span></a>  <span class="comment"> *</span>
<a name="l2044"><span class="linenum">2044</span></a>  <span class="comment"> * @param stdClass $scorm Scorm object</span>
<a name="l2045"><span class="linenum">2045</span></a>  <span class="comment"> * @param integer $scoid id of scorm_scoes record.</span>
<a name="l2046"><span class="linenum">2046</span></a>  <span class="comment"> * @return integer scoid of correct sco to launch or empty if one cannot be found, which will trigger first sco.</span>
<a name="l2047"><span class="linenum">2047</span></a>  <span class="comment"> */</span>
<a name="l2048"><span class="linenum">2048</span></a>  function <a class="function" onClick="logFunction('scorm_check_launchable_sco')" href="../../_functions/scorm_check_launchable_sco.html" onMouseOver="funcPopup(event,'scorm_check_launchable_sco')">scorm_check_launchable_sco</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>) {
<a name="l2049"><span class="linenum">2049</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l2050"><span class="linenum">2050</span></a>      if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a> = <a class="function" onClick="logFunction('scorm_get_sco')" href="../../_functions/scorm_get_sco.html" onMouseOver="funcPopup(event,'scorm_get_sco')">scorm_get_sco</a>(<a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>, <a class="constant" onClick="logConstant('SCO_ONLY')" href="../../_constants/SCO_ONLY.html" onMouseOver="constPopup(event,'SCO_ONLY')">SCO_ONLY</a>)) {
<a name="l2051"><span class="linenum">2051</span></a>          if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('launch')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/launch.html">launch</a> == '') {
<a name="l2052"><span class="linenum">2052</span></a>  <span class="comment">            // This scoid might be a top level org that can't be launched, find the first launchable sco after this sco.</span>
<a name="l2053"><span class="linenum">2053</span></a>              <a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_select')" href="../../_functions/get_records_select.html" onMouseOver="funcPopup(event,'get_records_select')">get_records_select</a>('scorm_scoes',
<a name="l2054"><span class="linenum">2054</span></a>                                               'scorm = ? AND '.<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_isnotempty')" href="../../_functions/sql_isnotempty.html" onMouseOver="funcPopup(event,'sql_isnotempty')">sql_isnotempty</a>('scorm_scoes', 'launch', false, true).
<a name="l2055"><span class="linenum">2055</span></a>                                               ' AND id &gt; ?', array(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>), 'sortorder, id', 'id', 0, 1);
<a name="l2056"><span class="linenum">2056</span></a>              if (!empty(<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>)) {
<a name="l2057"><span class="linenum">2057</span></a>                  <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a> = <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>); <span class="comment">// Get first item from the list.</span>
<a name="l2058"><span class="linenum">2058</span></a>                  return <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l2059"><span class="linenum">2059</span></a>              }
<a name="l2060"><span class="linenum">2060</span></a>          } else {
<a name="l2061"><span class="linenum">2061</span></a>              return <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l2062"><span class="linenum">2062</span></a>          }
<a name="l2063"><span class="linenum">2063</span></a>      }
<a name="l2064"><span class="linenum">2064</span></a>  <span class="comment">    // Returning 0 will cause default behaviour which will find the first launchable sco in the package.</span>
<a name="l2065"><span class="linenum">2065</span></a>      return 0;
<a name="l2066"><span class="linenum">2066</span></a>  }
<a name="l2067"><span class="linenum">2067</span></a>  
<a name="l2068"><span class="linenum">2068</span></a>  <span class="comment">/**</span>
<a name="l2069"><span class="linenum">2069</span></a>  <span class="comment"> * Check if a SCORM is available for the current user.</span>
<a name="l2070"><span class="linenum">2070</span></a>  <span class="comment"> *</span>
<a name="l2071"><span class="linenum">2071</span></a>  <span class="comment"> * @param  stdClass  $scorm            SCORM record</span>
<a name="l2072"><span class="linenum">2072</span></a>  <span class="comment"> * @param  boolean $checkviewreportcap Check the scorm:viewreport cap</span>
<a name="l2073"><span class="linenum">2073</span></a>  <span class="comment"> * @param  stdClass  $context          Module context, required if $checkviewreportcap is set to true</span>
<a name="l2074"><span class="linenum">2074</span></a>  <span class="comment"> * @return array                       status (available or not and possible warnings)</span>
<a name="l2075"><span class="linenum">2075</span></a>  <span class="comment"> * @since  Moodle 3.0</span>
<a name="l2076"><span class="linenum">2076</span></a>  <span class="comment"> */</span>
<a name="l2077"><span class="linenum">2077</span></a>  function <a class="function" onClick="logFunction('scorm_get_availability_status')" href="../../_functions/scorm_get_availability_status.html" onMouseOver="funcPopup(event,'scorm_get_availability_status')">scorm_get_availability_status</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it10818" onMouseOver="hilite(10818)" onMouseOut="lolite()" onClick="logVariable('checkviewreportcap')" href="../../_variables/checkviewreportcap.html">$checkviewreportcap</a> = false, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = null) {
<a name="l2078"><span class="linenum">2078</span></a>      <a class="var it10819" onMouseOver="hilite(10819)" onMouseOut="lolite()" onClick="logVariable('open')" href="../../_variables/open.html">$open</a> = true;
<a name="l2079"><span class="linenum">2079</span></a>      <a class="var it10820" onMouseOver="hilite(10820)" onMouseOut="lolite()" onClick="logVariable('closed')" href="../../_variables/closed.html">$closed</a> = false;
<a name="l2080"><span class="linenum">2080</span></a>      <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a> = array();
<a name="l2081"><span class="linenum">2081</span></a>  
<a name="l2082"><span class="linenum">2082</span></a>      <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../_variables/timenow.html">$timenow</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l2083"><span class="linenum">2083</span></a>      if (!empty(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('timeopen')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/timeopen.html">timeopen</a>) and <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('timeopen')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/timeopen.html">timeopen</a> &gt; <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../_variables/timenow.html">$timenow</a>) {
<a name="l2084"><span class="linenum">2084</span></a>          <a class="var it10819" onMouseOver="hilite(10819)" onMouseOut="lolite()" onClick="logVariable('open')" href="../../_variables/open.html">$open</a> = false;
<a name="l2085"><span class="linenum">2085</span></a>      }
<a name="l2086"><span class="linenum">2086</span></a>      if (!empty(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('timeclose')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/timeclose.html">timeclose</a>) and <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../_variables/timenow.html">$timenow</a> &gt; <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('timeclose')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/timeclose.html">timeclose</a>) {
<a name="l2087"><span class="linenum">2087</span></a>          <a class="var it10820" onMouseOver="hilite(10820)" onMouseOut="lolite()" onClick="logVariable('closed')" href="../../_variables/closed.html">$closed</a> = true;
<a name="l2088"><span class="linenum">2088</span></a>      }
<a name="l2089"><span class="linenum">2089</span></a>  
<a name="l2090"><span class="linenum">2090</span></a>      if (!<a class="var it10819" onMouseOver="hilite(10819)" onMouseOut="lolite()" onClick="logVariable('open')" href="../../_variables/open.html">$open</a> or <a class="var it10820" onMouseOver="hilite(10820)" onMouseOut="lolite()" onClick="logVariable('closed')" href="../../_variables/closed.html">$closed</a>) {
<a name="l2091"><span class="linenum">2091</span></a>          if (<a class="var it10818" onMouseOver="hilite(10818)" onMouseOut="lolite()" onClick="logVariable('checkviewreportcap')" href="../../_variables/checkviewreportcap.html">$checkviewreportcap</a> and !empty(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>) and <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/scorm:viewreport', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l2092"><span class="linenum">2092</span></a>              return array(true, <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>);
<a name="l2093"><span class="linenum">2093</span></a>          }
<a name="l2094"><span class="linenum">2094</span></a>  
<a name="l2095"><span class="linenum">2095</span></a>          if (!<a class="var it10819" onMouseOver="hilite(10819)" onMouseOut="lolite()" onClick="logVariable('open')" href="../../_variables/open.html">$open</a>) {
<a name="l2096"><span class="linenum">2096</span></a>              <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>['notopenyet'] = <a class="function" onClick="logFunction('userdate')" href="../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('timeopen')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/timeopen.html">timeopen</a>);
<a name="l2097"><span class="linenum">2097</span></a>          }
<a name="l2098"><span class="linenum">2098</span></a>          if (<a class="var it10820" onMouseOver="hilite(10820)" onMouseOut="lolite()" onClick="logVariable('closed')" href="../../_variables/closed.html">$closed</a>) {
<a name="l2099"><span class="linenum">2099</span></a>              <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>['expired'] = <a class="function" onClick="logFunction('userdate')" href="../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('timeclose')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/timeclose.html">timeclose</a>);
<a name="l2100"><span class="linenum">2100</span></a>          }
<a name="l2101"><span class="linenum">2101</span></a>          return array(false, <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>);
<a name="l2102"><span class="linenum">2102</span></a>      }
<a name="l2103"><span class="linenum">2103</span></a>  
<a name="l2104"><span class="linenum">2104</span></a>  <span class="comment">    // Scorm is available.</span>
<a name="l2105"><span class="linenum">2105</span></a>      return array(true, <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>);
<a name="l2106"><span class="linenum">2106</span></a>  }
<a name="l2107"><span class="linenum">2107</span></a>  
<a name="l2108"><span class="linenum">2108</span></a>  <span class="comment">/**</span>
<a name="l2109"><span class="linenum">2109</span></a>  <span class="comment"> * Requires a SCORM package to be available for the current user.</span>
<a name="l2110"><span class="linenum">2110</span></a>  <span class="comment"> *</span>
<a name="l2111"><span class="linenum">2111</span></a>  <span class="comment"> * @param  stdClass  $scorm            SCORM record</span>
<a name="l2112"><span class="linenum">2112</span></a>  <span class="comment"> * @param  boolean $checkviewreportcap Check the scorm:viewreport cap</span>
<a name="l2113"><span class="linenum">2113</span></a>  <span class="comment"> * @param  stdClass  $context          Module context, required if $checkviewreportcap is set to true</span>
<a name="l2114"><span class="linenum">2114</span></a>  <span class="comment"> * @throws moodle_exception</span>
<a name="l2115"><span class="linenum">2115</span></a>  <span class="comment"> * @since  Moodle 3.0</span>
<a name="l2116"><span class="linenum">2116</span></a>  <span class="comment"> */</span>
<a name="l2117"><span class="linenum">2117</span></a>  function <a class="function" onClick="logFunction('scorm_require_available')" href="../../_functions/scorm_require_available.html" onMouseOver="funcPopup(event,'scorm_require_available')">scorm_require_available</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it10818" onMouseOver="hilite(10818)" onMouseOut="lolite()" onClick="logVariable('checkviewreportcap')" href="../../_variables/checkviewreportcap.html">$checkviewreportcap</a> = false, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = null) {
<a name="l2118"><span class="linenum">2118</span></a>  
<a name="l2119"><span class="linenum">2119</span></a>      <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1211" onMouseOver="hilite(1211)" onMouseOut="lolite()" onClick="logVariable('available')" href="../../_variables/available.html">$available</a>, <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>) = <a class="function" onClick="logFunction('scorm_get_availability_status')" href="../../_functions/scorm_get_availability_status.html" onMouseOver="funcPopup(event,'scorm_get_availability_status')">scorm_get_availability_status</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it10818" onMouseOver="hilite(10818)" onMouseOut="lolite()" onClick="logVariable('checkviewreportcap')" href="../../_variables/checkviewreportcap.html">$checkviewreportcap</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l2120"><span class="linenum">2120</span></a>  
<a name="l2121"><span class="linenum">2121</span></a>      if (!<a class="var it1211" onMouseOver="hilite(1211)" onMouseOut="lolite()" onClick="logVariable('available')" href="../../_variables/available.html">$available</a>) {
<a name="l2122"><span class="linenum">2122</span></a>          <a class="var it838" onMouseOver="hilite(838)" onMouseOut="lolite()" onClick="logVariable('reason')" href="../../_variables/reason.html">$reason</a> = <a class="phpfunction" onClick="logFunction('current')" href="../../_functions/current.html" onMouseOver="phpfuncPopup(event,'current')">current</a>(<a class="phpfunction" onClick="logFunction('array_keys')" href="../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>));
<a name="l2123"><span class="linenum">2123</span></a>          throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>(<a class="var it838" onMouseOver="hilite(838)" onMouseOut="lolite()" onClick="logVariable('reason')" href="../../_variables/reason.html">$reason</a>, 'scorm', '', <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[<a class="var it838" onMouseOver="hilite(838)" onMouseOut="lolite()" onClick="logVariable('reason')" href="../../_variables/reason.html">$reason</a>]);
<a name="l2124"><span class="linenum">2124</span></a>      }
<a name="l2125"><span class="linenum">2125</span></a>  
<a name="l2126"><span class="linenum">2126</span></a>  }
<a name="l2127"><span class="linenum">2127</span></a>  
<a name="l2128"><span class="linenum">2128</span></a>  <span class="comment">/**</span>
<a name="l2129"><span class="linenum">2129</span></a>  <span class="comment"> * Return a SCO object and the SCO launch URL</span>
<a name="l2130"><span class="linenum">2130</span></a>  <span class="comment"> *</span>
<a name="l2131"><span class="linenum">2131</span></a>  <span class="comment"> * @param  stdClass $scorm SCORM object</span>
<a name="l2132"><span class="linenum">2132</span></a>  <span class="comment"> * @param  int $scoid The SCO id in database</span>
<a name="l2133"><span class="linenum">2133</span></a>  <span class="comment"> * @param  stdClass $context context object</span>
<a name="l2134"><span class="linenum">2134</span></a>  <span class="comment"> * @return array the SCO object and URL</span>
<a name="l2135"><span class="linenum">2135</span></a>  <span class="comment"> * @since  Moodle 3.1</span>
<a name="l2136"><span class="linenum">2136</span></a>  <span class="comment"> */</span>
<a name="l2137"><span class="linenum">2137</span></a>  function <a class="function" onClick="logFunction('scorm_get_sco_and_launch_url')" href="../../_functions/scorm_get_sco_and_launch_url.html" onMouseOver="funcPopup(event,'scorm_get_sco_and_launch_url')">scorm_get_sco_and_launch_url</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>) {
<a name="l2138"><span class="linenum">2138</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l2139"><span class="linenum">2139</span></a>  
<a name="l2140"><span class="linenum">2140</span></a>      if (!empty(<a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>)) {
<a name="l2141"><span class="linenum">2141</span></a>  <span class="comment">        // Direct SCO request.</span>
<a name="l2142"><span class="linenum">2142</span></a>          if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a> = <a class="function" onClick="logFunction('scorm_get_sco')" href="../../_functions/scorm_get_sco.html" onMouseOver="funcPopup(event,'scorm_get_sco')">scorm_get_sco</a>(<a class="var it7856" onMouseOver="hilite(7856)" onMouseOut="lolite()" onClick="logVariable('scoid')" href="../../_variables/scoid.html">$scoid</a>)) {
<a name="l2143"><span class="linenum">2143</span></a>              if (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('launch')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/launch.html">launch</a> == '') {
<a name="l2144"><span class="linenum">2144</span></a>  <span class="comment">                // Search for the next launchable sco.</span>
<a name="l2145"><span class="linenum">2145</span></a>                  if (<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_select')" href="../../_functions/get_records_select.html" onMouseOver="funcPopup(event,'get_records_select')">get_records_select</a>(
<a name="l2146"><span class="linenum">2146</span></a>                          'scorm_scoes',
<a name="l2147"><span class="linenum">2147</span></a>                          'scorm = ? AND '.<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_isnotempty')" href="../../_functions/sql_isnotempty.html" onMouseOver="funcPopup(event,'sql_isnotempty')">sql_isnotempty</a>('scorm_scoes', 'launch', false, true).' AND id &gt; ?',
<a name="l2148"><span class="linenum">2148</span></a>                          array(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>),
<a name="l2149"><span class="linenum">2149</span></a>                          'sortorder, id')) {
<a name="l2150"><span class="linenum">2150</span></a>                      <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a> = <a class="phpfunction" onClick="logFunction('current')" href="../../_functions/current.html" onMouseOver="phpfuncPopup(event,'current')">current</a>(<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>);
<a name="l2151"><span class="linenum">2151</span></a>                  }
<a name="l2152"><span class="linenum">2152</span></a>              }
<a name="l2153"><span class="linenum">2153</span></a>          }
<a name="l2154"><span class="linenum">2154</span></a>      }
<a name="l2155"><span class="linenum">2155</span></a>  
<a name="l2156"><span class="linenum">2156</span></a>  <span class="comment">    // If no sco was found get the first of SCORM package.</span>
<a name="l2157"><span class="linenum">2157</span></a>      if (!isset(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>)) {
<a name="l2158"><span class="linenum">2158</span></a>          <a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_select')" href="../../_functions/get_records_select.html" onMouseOver="funcPopup(event,'get_records_select')">get_records_select</a>(
<a name="l2159"><span class="linenum">2159</span></a>              'scorm_scoes',
<a name="l2160"><span class="linenum">2160</span></a>              'scorm = ? AND '.<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('sql_isnotempty')" href="../../_functions/sql_isnotempty.html" onMouseOver="funcPopup(event,'sql_isnotempty')">sql_isnotempty</a>('scorm_scoes', 'launch', false, true),
<a name="l2161"><span class="linenum">2161</span></a>              array(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>),
<a name="l2162"><span class="linenum">2162</span></a>              'sortorder, id'
<a name="l2163"><span class="linenum">2163</span></a>          );
<a name="l2164"><span class="linenum">2164</span></a>          <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a> = <a class="phpfunction" onClick="logFunction('current')" href="../../_functions/current.html" onMouseOver="phpfuncPopup(event,'current')">current</a>(<a class="var it5526" onMouseOver="hilite(5526)" onMouseOut="lolite()" onClick="logVariable('scoes')" href="../../_variables/scoes.html">$scoes</a>);
<a name="l2165"><span class="linenum">2165</span></a>      }
<a name="l2166"><span class="linenum">2166</span></a>  
<a name="l2167"><span class="linenum">2167</span></a>      <a class="var it10821" onMouseOver="hilite(10821)" onMouseOut="lolite()" onClick="logVariable('connector')" href="../../_variables/connector.html">$connector</a> = '';
<a name="l2168"><span class="linenum">2168</span></a>      <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../../_variables/version.html">$version</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('version')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/version.html">version</a>, 0, 4);
<a name="l2169"><span class="linenum">2169</span></a>      if ((isset(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parameters')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parameters.html">parameters</a>) &amp;&amp; (!empty(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parameters')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parameters.html">parameters</a>))) || (<a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../../_variables/version.html">$version</a> == 'AICC')) {
<a name="l2170"><span class="linenum">2170</span></a>          if (<a class="phpfunction" onClick="logFunction('stripos')" href="../../_functions/stripos.html" onMouseOver="phpfuncPopup(event,'stripos')">stripos</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('launch')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/launch.html">launch</a>, '?') !== false) {
<a name="l2171"><span class="linenum">2171</span></a>              <a class="var it10821" onMouseOver="hilite(10821)" onMouseOut="lolite()" onClick="logVariable('connector')" href="../../_variables/connector.html">$connector</a> = '&amp;';
<a name="l2172"><span class="linenum">2172</span></a>          } else {
<a name="l2173"><span class="linenum">2173</span></a>              <a class="var it10821" onMouseOver="hilite(10821)" onMouseOut="lolite()" onClick="logVariable('connector')" href="../../_variables/connector.html">$connector</a> = '?';
<a name="l2174"><span class="linenum">2174</span></a>          }
<a name="l2175"><span class="linenum">2175</span></a>          if ((isset(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parameters')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parameters.html">parameters</a>) &amp;&amp; (!empty(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parameters')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parameters.html">parameters</a>))) &amp;&amp; (<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parameters')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parameters.html">parameters</a>[0] == '?')) {
<a name="l2176"><span class="linenum">2176</span></a>              <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parameters')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parameters.html">parameters</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parameters')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parameters.html">parameters</a>, 1);
<a name="l2177"><span class="linenum">2177</span></a>          }
<a name="l2178"><span class="linenum">2178</span></a>      }
<a name="l2179"><span class="linenum">2179</span></a>  
<a name="l2180"><span class="linenum">2180</span></a>      if (<a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../../_variables/version.html">$version</a> == 'AICC') {
<a name="l2181"><span class="linenum">2181</span></a>          require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/scorm/datamodels/aicclib.php&quot;);
<a name="l2182"><span class="linenum">2182</span></a>          <a class="var it10822" onMouseOver="hilite(10822)" onMouseOut="lolite()" onClick="logVariable('aiccsid')" href="../../_variables/aiccsid.html">$aiccsid</a> = <a class="function" onClick="logFunction('scorm_aicc_get_hacp_session')" href="../../_functions/scorm_aicc_get_hacp_session.html" onMouseOver="funcPopup(event,'scorm_aicc_get_hacp_session')">scorm_aicc_get_hacp_session</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l2183"><span class="linenum">2183</span></a>          if (empty(<a class="var it10822" onMouseOver="hilite(10822)" onMouseOut="lolite()" onClick="logVariable('aiccsid')" href="../../_variables/aiccsid.html">$aiccsid</a>)) {
<a name="l2184"><span class="linenum">2184</span></a>              <a class="var it10822" onMouseOver="hilite(10822)" onMouseOut="lolite()" onClick="logVariable('aiccsid')" href="../../_variables/aiccsid.html">$aiccsid</a> = <a class="function" onClick="logFunction('sesskey')" href="../../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>();
<a name="l2185"><span class="linenum">2185</span></a>          }
<a name="l2186"><span class="linenum">2186</span></a>          <a class="var it10823" onMouseOver="hilite(10823)" onMouseOut="lolite()" onClick="logVariable('scoparams')" href="../../_variables/scoparams.html">$scoparams</a> = '';
<a name="l2187"><span class="linenum">2187</span></a>          if (isset(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parameters')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parameters.html">parameters</a>) &amp;&amp; (!empty(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parameters')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parameters.html">parameters</a>))) {
<a name="l2188"><span class="linenum">2188</span></a>              <a class="var it10823" onMouseOver="hilite(10823)" onMouseOut="lolite()" onClick="logVariable('scoparams')" href="../../_variables/scoparams.html">$scoparams</a> = '&amp;'. <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parameters')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parameters.html">parameters</a>;
<a name="l2189"><span class="linenum">2189</span></a>          }
<a name="l2190"><span class="linenum">2190</span></a>          <a class="var it10824" onMouseOver="hilite(10824)" onMouseOut="lolite()" onClick="logVariable('launcher')" href="../../_variables/launcher.html">$launcher</a> = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('launch')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/launch.html">launch</a>.<a class="var it10821" onMouseOver="hilite(10821)" onMouseOut="lolite()" onClick="logVariable('connector')" href="../../_variables/connector.html">$connector</a>.'aicc_sid='.<a class="var it10822" onMouseOver="hilite(10822)" onMouseOut="lolite()" onClick="logVariable('aiccsid')" href="../../_variables/aiccsid.html">$aiccsid</a>.'&amp;aicc_url='.<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>.'<a class="filename" href="../../mod/scorm/aicc.php.html">/mod/scorm/aicc.php</a>'.<a class="var it10823" onMouseOver="hilite(10823)" onMouseOut="lolite()" onClick="logVariable('scoparams')" href="../../_variables/scoparams.html">$scoparams</a>;
<a name="l2191"><span class="linenum">2191</span></a>      } else {
<a name="l2192"><span class="linenum">2192</span></a>          if (isset(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parameters')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parameters.html">parameters</a>) &amp;&amp; (!empty(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parameters')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parameters.html">parameters</a>))) {
<a name="l2193"><span class="linenum">2193</span></a>              <a class="var it10824" onMouseOver="hilite(10824)" onMouseOut="lolite()" onClick="logVariable('launcher')" href="../../_variables/launcher.html">$launcher</a> = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('launch')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/launch.html">launch</a>.<a class="var it10821" onMouseOver="hilite(10821)" onMouseOut="lolite()" onClick="logVariable('connector')" href="../../_variables/connector.html">$connector</a>.<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('parameters')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/parameters.html">parameters</a>;
<a name="l2194"><span class="linenum">2194</span></a>          } else {
<a name="l2195"><span class="linenum">2195</span></a>              <a class="var it10824" onMouseOver="hilite(10824)" onMouseOut="lolite()" onClick="logVariable('launcher')" href="../../_variables/launcher.html">$launcher</a> = <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('launch')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/launch.html">launch</a>;
<a name="l2196"><span class="linenum">2196</span></a>          }
<a name="l2197"><span class="linenum">2197</span></a>      }
<a name="l2198"><span class="linenum">2198</span></a>  
<a name="l2199"><span class="linenum">2199</span></a>      if (<a class="function" onClick="logFunction('scorm_external_link')" href="../../_functions/scorm_external_link.html" onMouseOver="funcPopup(event,'scorm_external_link')">scorm_external_link</a>(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('launch')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/launch.html">launch</a>)) {
<a name="l2200"><span class="linenum">2200</span></a>  <span class="comment">        // TODO: does this happen?</span>
<a name="l2201"><span class="linenum">2201</span></a>          <a class="var it10825" onMouseOver="hilite(10825)" onMouseOut="lolite()" onClick="logVariable('scolaunchurl')" href="../../_variables/scolaunchurl.html">$scolaunchurl</a> = <a class="var it10824" onMouseOver="hilite(10824)" onMouseOut="lolite()" onClick="logVariable('launcher')" href="../../_variables/launcher.html">$launcher</a>;
<a name="l2202"><span class="linenum">2202</span></a>      } else if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> === <a class="constant" onClick="logConstant('SCORM_TYPE_EXTERNAL')" href="../../_constants/SCORM_TYPE_EXTERNAL.html" onMouseOver="constPopup(event,'SCORM_TYPE_EXTERNAL')">SCORM_TYPE_EXTERNAL</a>) {
<a name="l2203"><span class="linenum">2203</span></a>  <span class="comment">        // Remote learning activity.</span>
<a name="l2204"><span class="linenum">2204</span></a>          <a class="var it10825" onMouseOver="hilite(10825)" onMouseOut="lolite()" onClick="logVariable('scolaunchurl')" href="../../_variables/scolaunchurl.html">$scolaunchurl</a> = <a class="phpfunction" onClick="logFunction('dirname')" href="../../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('reference')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/reference.html">reference</a>).'/'.<a class="var it10824" onMouseOver="hilite(10824)" onMouseOut="lolite()" onClick="logVariable('launcher')" href="../../_variables/launcher.html">$launcher</a>;
<a name="l2205"><span class="linenum">2205</span></a>      } else if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> === <a class="constant" onClick="logConstant('SCORM_TYPE_LOCAL')" href="../../_constants/SCORM_TYPE_LOCAL.html" onMouseOver="constPopup(event,'SCORM_TYPE_LOCAL')">SCORM_TYPE_LOCAL</a> &amp;&amp; <a class="phpfunction" onClick="logFunction('strtolower')" href="../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('reference')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/reference.html">reference</a>) == 'imsmanifest.xml') {
<a name="l2206"><span class="linenum">2206</span></a>  <span class="comment">        // This SCORM content sits in a repository that allows relative links.</span>
<a name="l2207"><span class="linenum">2207</span></a>          <a class="var it10825" onMouseOver="hilite(10825)" onMouseOut="lolite()" onClick="logVariable('scolaunchurl')" href="../../_variables/scolaunchurl.html">$scolaunchurl</a> = &quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>/pluginfile.php/<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>/mod_scorm/imsmanifest/<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('revision')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/revision.html">revision</a>/<a class="var it10824" onMouseOver="hilite(10824)" onMouseOut="lolite()" onClick="logVariable('launcher')" href="../../_variables/launcher.html">$launcher</a>&quot;;
<a name="l2208"><span class="linenum">2208</span></a>      } else if (<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> === <a class="constant" onClick="logConstant('SCORM_TYPE_LOCAL')" href="../../_constants/SCORM_TYPE_LOCAL.html" onMouseOver="constPopup(event,'SCORM_TYPE_LOCAL')">SCORM_TYPE_LOCAL</a> or <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('scormtype')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/scormtype.html">scormtype</a> === <a class="constant" onClick="logConstant('SCORM_TYPE_LOCALSYNC')" href="../../_constants/SCORM_TYPE_LOCALSYNC.html" onMouseOver="constPopup(event,'SCORM_TYPE_LOCALSYNC')">SCORM_TYPE_LOCALSYNC</a>) {
<a name="l2209"><span class="linenum">2209</span></a>  <span class="comment">        // Note: do not convert this to use moodle_url().</span>
<a name="l2210"><span class="linenum">2210</span></a>  <span class="comment">        // SCORM does not work without slasharguments and moodle_url() encodes querystring vars.</span>
<a name="l2211"><span class="linenum">2211</span></a>          <a class="var it10825" onMouseOver="hilite(10825)" onMouseOut="lolite()" onClick="logVariable('scolaunchurl')" href="../../_variables/scolaunchurl.html">$scolaunchurl</a> = &quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>/pluginfile.php/<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>/mod_scorm/content/<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('revision')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/revision.html">revision</a>/<a class="var it10824" onMouseOver="hilite(10824)" onMouseOut="lolite()" onClick="logVariable('launcher')" href="../../_variables/launcher.html">$launcher</a>&quot;;
<a name="l2212"><span class="linenum">2212</span></a>      }
<a name="l2213"><span class="linenum">2213</span></a>      return array(<a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>, <a class="var it10825" onMouseOver="hilite(10825)" onMouseOut="lolite()" onClick="logVariable('scolaunchurl')" href="../../_variables/scolaunchurl.html">$scolaunchurl</a>);
<a name="l2214"><span class="linenum">2214</span></a>  }
<a name="l2215"><span class="linenum">2215</span></a>  
<a name="l2216"><span class="linenum">2216</span></a>  <span class="comment">/**</span>
<a name="l2217"><span class="linenum">2217</span></a>  <span class="comment"> * Trigger the scorm_launched event.</span>
<a name="l2218"><span class="linenum">2218</span></a>  <span class="comment"> *</span>
<a name="l2219"><span class="linenum">2219</span></a>  <span class="comment"> * @param  stdClass $scorm   scorm object</span>
<a name="l2220"><span class="linenum">2220</span></a>  <span class="comment"> * @param  stdClass $sco     sco object</span>
<a name="l2221"><span class="linenum">2221</span></a>  <span class="comment"> * @param  stdClass $cm      course module object</span>
<a name="l2222"><span class="linenum">2222</span></a>  <span class="comment"> * @param  stdClass $context context object</span>
<a name="l2223"><span class="linenum">2223</span></a>  <span class="comment"> * @param  string $scourl    SCO URL</span>
<a name="l2224"><span class="linenum">2224</span></a>  <span class="comment"> * @since Moodle 3.1</span>
<a name="l2225"><span class="linenum">2225</span></a>  <span class="comment"> */</span>
<a name="l2226"><span class="linenum">2226</span></a>  function <a class="function" onClick="logFunction('scorm_launch_sco')" href="../../_functions/scorm_launch_sco.html" onMouseOver="funcPopup(event,'scorm_launch_sco')">scorm_launch_sco</a>(<a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>, <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it10826" onMouseOver="hilite(10826)" onMouseOut="lolite()" onClick="logVariable('scourl')" href="../../_variables/scourl.html">$scourl</a>) {
<a name="l2227"><span class="linenum">2227</span></a>  
<a name="l2228"><span class="linenum">2228</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a> = \mod_scorm\event\<a class="class" onClick="logClass('sco_launched')" href="../../_classes/sco_launched.html" onMouseOver="classPopup(event,'sco_launched')">sco_launched</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(array(
<a name="l2229"><span class="linenum">2229</span></a>          'objectid' =&gt; <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>-&gt;<a onClick="logVariable('id')" class="var it44009" onMouseOver="hilite(44009)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l2230"><span class="linenum">2230</span></a>          'context' =&gt; <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>,
<a name="l2231"><span class="linenum">2231</span></a>          'other' =&gt; array('instanceid' =&gt; <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>-&gt;<a onClick="logVariable('id')" class="var it44007" onMouseOver="hilite(44007)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'loadedcontent' =&gt; <a class="var it10826" onMouseOver="hilite(10826)" onMouseOut="lolite()" onClick="logVariable('scourl')" href="../../_variables/scourl.html">$scourl</a>)
<a name="l2232"><span class="linenum">2232</span></a>      ));
<a name="l2233"><span class="linenum">2233</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('add_record_snapshot')" href="../../_functions/add_record_snapshot.html" onMouseOver="funcPopup(event,'add_record_snapshot')">add_record_snapshot</a>('course_modules', <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>);
<a name="l2234"><span class="linenum">2234</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('add_record_snapshot')" href="../../_functions/add_record_snapshot.html" onMouseOver="funcPopup(event,'add_record_snapshot')">add_record_snapshot</a>('scorm', <a class="var it5512" onMouseOver="hilite(5512)" onMouseOut="lolite()" onClick="logVariable('scorm')" href="../../_variables/scorm.html">$scorm</a>);
<a name="l2235"><span class="linenum">2235</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('add_record_snapshot')" href="../../_functions/add_record_snapshot.html" onMouseOver="funcPopup(event,'add_record_snapshot')">add_record_snapshot</a>('scorm_scoes', <a class="var it5527" onMouseOver="hilite(5527)" onMouseOut="lolite()" onClick="logVariable('sco')" href="../../_variables/sco.html">$sco</a>);
<a name="l2236"><span class="linenum">2236</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('trigger')" href="../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l2237"><span class="linenum">2237</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'strlen': ['strlen', 'Counts the number of characters. Unit-tested by Kasper (single byte charsets only) ', [['lib/typo3','class.t3lib_cs.php',1520],['lib/classes','text.php',305]], 1649],
'scorm_get_sco': ['scorm_get_sco', 'Returns an object containing all datas relative to the given sco ID ', [['mod/scorm','locallib.php',370]], 35],
'get_file_packer': ['get_file_packer', 'Returns file packer ', [['lib','moodlelib.php',6198]], 74],
'import_external_file_contents': ['import_external_file_contents', 'Downloads the file from external repository and saves it in moodle filepool. This function is different from {@link repository::sync_reference()} because it has bigger request timeout and always downloads the content. ', [['repository','lib.php',1682],['lib/filestorage','stored_file.php',1011]], 7],
'box_end': ['box_end', 'Outputs the closing section of a box. ', [['lib','outputrenderers.php',3117]], 257],
'get_field': ['get_field', 'Gets an instance of the form field. ', [['lib/behat','behat_field_manager.php',248],['mod/quiz/report/statistics/classes','calculated.php',109],['lib/dml','moodle_database.php',1546],['user/filters','lib.php',124]], 536],
'get_file': ['get_file', 'Downloads a repository file and saves to a path. ', [['repository/boxnet','lib.php',179],['repository/flickr_public','lib.php',453],['repository/dropbox','lib.php',410],['repository/skydrive','lib.php',130],['repository','lib.php',1647],['repository/s3','lib.php',227],['repository/equella','lib.php',166],['mod/data/field/picture','field.class.php',126],['mod/data/field/file','field.class.php',123],['repository/googledocs','lib.php',408],['lib/filestorage','file_storage.php',700],['repository/webdav','lib.php',73],['repository/filesystem','lib.php',398],['repository/flickr','lib.php',277],['lib','externallib.php',1076],['repository/dropbox','locallib.php',114],['lib','webdavlib.php',391]], 169],
'label': ['label', 'Renders form element label ', [['lib','outputcomponents.php',1741]], 107],
'scorm_get_what_grade_array': ['scorm_get_what_grade_array', 'Returns an array of the array of what grade options ', [['mod/scorm','locallib.php',104]], 2],
'record_exists': ['record_exists', 'Check if a record exists by ID. ', [['competency/classes','persistent.php',842],['lib/dml','moodle_database.php',1817]], 901],
'scorm_count_launchable': ['scorm_count_launchable', '', [['mod/scorm','locallib.php',801]], 0],
'count_records_sql': ['count_records_sql', 'Get the result of a SQL SELECT COUNT(...) query. ', [['lib/dml','moodle_database.php',1796]], 155],
'print_string': ['print_string', 'Prints out a translated string. ', [['lib','moodlelib.php',6877]], 458],
'scorm_has_tracks': ['scorm_has_tracks', 'simple quick function to return true/false if this user has tracks in this scorm ', [['mod/scorm','locallib.php',587]], 2],
'scorm_get_sco_and_launch_url': ['scorm_get_sco_and_launch_url', 'Return a SCO object and the SCO launch URL ', [['mod/scorm','locallib.php',2128]], 2],
'checkbox': ['checkbox', 'Creates a CheckBox field ', [['lib/tcpdf','tcpdf.php',13017],['lib','outputcomponents.php',1219]], 31],
'scorm_update_grades': ['scorm_update_grades', 'Update grades in central gradebook ', [['mod/scorm','lib.php',607]], 6],
'scorm_get_popup_display_array': ['scorm_get_popup_display_array', 'Returns an array of the array of popup display options ', [['mod/scorm','locallib.php',150]], 2],
'scorm_array_search': ['scorm_array_search', '', [['mod/scorm','locallib.php',328]], 3],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'single_select': ['single_select', 'Returns a form with a single select widget. ', [['lib','outputrenderers.php',1854]], 67],
'scorm_get_availability_status': ['scorm_get_availability_status', 'Check if a SCORM is available for the current user. ', [['mod/scorm','locallib.php',2068]], 15],
'create': ['create', 'Auto-scan an incoming line to determine the response type. ', [['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',65],['lib/google/src/Google/Service','Partners.php',492],['lib/simplepie/library/SimplePie','Cache.php',95],['lib/google/src/Google/Service','YouTubeReporting.php',237],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',81],['lib/google/src/Google/Service','MapsEngine.php',1677],['lib/google/src/Google/Service','MapsEngine.php',1977],['lib/google/src/Google/Service','MapsEngine.php',2253],['lib/google/src/Google/Service','MapsEngine.php',2330],['lib/google/src/Google/Service','MapsEngine.php',2898],['lib/spout/src/Spout/Writer','WriterFactory.php',18],['lib/google/src/Google/Service','Dns.php',290],['lib/google/src/Google/Service','Dns.php',363],['lib/google/src/Google/Service','Appengine.php',438],['tag/classes','collection.php',188],['lib/adodb','adodb-xmlschema.inc.php',152],['lib/adodb','adodb-xmlschema.inc.php',473],['lib/adodb','adodb-xmlschema.inc.php',738],['lib/adodb','adodb-xmlschema.inc.php',884],['lib/adodb','adodb-xmlschema.inc.php',1129],['mod/quiz','attemptlib.php',100],['mod/quiz','attemptlib.php',596],['lib','weblib.php',3206],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',58],['lib/google/src/Google/Service','Dataflow.php',273],['lib/simplepie/library/SimplePie','Registry.php',153],['competency/classes','persistent.php',387],['lib/google/src/Google/Service','Cloudresourcemanager.php',373],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',270],['lib/google/src/Google/Service','TagManager.php',1007],['lib/google/src/Google/Service','TagManager.php',1097],['lib/google/src/Google/Service','TagManager.php',1249],['lib/google/src/Google/Service','TagManager.php',1342],['lib/google/src/Google/Service','TagManager.php',1436],['lib/google/src/Google/Service','TagManager.php',1530],['lib/google/src/Google/Service','TagManager.php',1681],['mod/lesson','locallib.php',1011],['mod/lesson','locallib.php',2163],['mod/lesson','locallib.php',3212],['lib','modinfolib.php',1732],['repository','lib.php',206],['repository','lib.php',1910],['lib','navigationlib.php',268],['lib/htmlpurifier/HTMLPurifier','Config.php',114],['lib/google/src/Google/Service','Container.php',284],['lib/google/src/Google/Service','Genomics.php',632],['lib/google/src/Google/Service','Genomics.php',721],['lib/google/src/Google/Service','Genomics.php',1312],['lib/google/src/Google/Service','Genomics.php',1427],['lib/google/src/Google/Service','Games.php',1649],['lib/google/src/Google/Service','Games.php',2013],['lib/google/src/Google/Service','Fitness.php',377],['lib/google/src/Google/Service','Gmail.php',747],['lib/google/src/Google/Service','Gmail.php',905],['mod/quiz/classes','structure.php',65],['lib/htmlpurifier/HTMLPurifier','ElementDef.php',135],['lib/adodb','adodb-xmlschema03.inc.php',170],['lib/adodb','adodb-xmlschema03.inc.php',514],['lib/adodb','adodb-xmlschema03.inc.php',779],['lib/adodb','adodb-xmlschema03.inc.php',930],['lib/adodb','adodb-xmlschema03.inc.php',1228],['lib/google/src/Google/Service','Proximitybeacon.php',500],['tag/classes','area.php',205],['course','lib.php',3003],['question/type/ddmarker','shapes.php',170],['lib/classes/event','base.php',149],['lib','coursecatlib.php',325],['repository/filesystem','lib.php',498],['lib/google/src/Google/Service','Storagetransfer.php',281],['calendar','lib.php',2686],['lib/htmlpurifier/HTMLPurifier','Lexer.php',53],['lib/google/src/Google/Service','Classroom.php',445],['lib/google/src/Google/Service','Classroom.php',596],['lib/google/src/Google/Service','Classroom.php',673],['lib/google/src/Google/Service','Classroom.php',783],['lib/google/src/Google/Service','Classroom.php',912],['lib/spout/src/Spout/Reader','ReaderFactory.php',18],['lib/google/src/Google/Service','Pubsub.php',220],['lib/google/src/Google/Service','Pubsub.php',365],['lib/google/src/Google/Service','CloudMonitoring.php',258]], 3276],
'scorm_format_toc_for_droplist': ['scorm_format_toc_for_droplist', '', [['mod/scorm','locallib.php',1816]], 2],
'p': ['p', 'Add quotes to HTML characters. ', [['lib','weblib.php',105],['lib/html2text','Html2Text.php',302]], 355],
'get_contenthash': ['get_contenthash', 'Returns sha1 hash code ', [['lib/filebrowser','virtual_root_file.php',299],['lib/filestorage','stored_file.php',795]], 78],
'scorm_check_url': ['scorm_check_url', 'Check for the availability of a resource by URL. ', [['mod/scorm','locallib.php',2002]], 3],
'get_file_info': ['get_file_info', 'Return information about this specific part of context level ', [['lib/filebrowser','file_info_context_system.php',47],['lib/filebrowser','file_info_context_coursecat.php',51],['lib/filebrowser','file_info_context_user.php',51],['lib','boxlib.php',85],['lib/filebrowser','file_browser.php',63],['lib/filebrowser','file_info_context_module.php',81],['mod/assign','assignmentplugin.php',558],['lib/filebrowser','file_info_context_course.php',51]], 79],
'scorm_get_attemptstatus_array': ['scorm_get_attemptstatus_array', 'Returns an array of the attempt status options ', [['mod/scorm','locallib.php',187]], 1],
'end_tag': ['end_tag', 'Outputs a closing tag ', [['lib','outputcomponents.php',1096],['backup/util/xml/parser','progressive_parser.class.php',261],['backup/util/xml','xml_writer.class.php',177]], 867],
'get_coursemodule_from_instance': ['get_coursemodule_from_instance', 'Given an instance number of a module, finds the coursemodule description ', [['lib','datalib.php',1300]], 441],
'add_record_snapshot': ['add_record_snapshot', 'Add cached data that will be most probably used in event observers. ', [['lib/classes/event','base.php',840]], 332],
'get_parent': ['get_parent', '', [['mod/resource','locallib.php',507],['lib/filebrowser','file_info_context_system.php',207],['mod/lesson/classes','file_info.php',187],['mod/imscp','locallib.php',414],['lib/filebrowser','file_info_context_coursecat.php',254],['mod/book','locallib.php',554],['lib/filebrowser','file_info_context_user.php',298],['mod/scorm','locallib.php',62],['competency/classes','competency.php',252],['mod/data','locallib.php',574],['lib/filebrowser','file_info_stored.php',431],['lib','outputcomponents.php',2789],['backup/util/structure','base_final_element.class.php',164],['mod/page','locallib.php',37],['mod/workshop','fileinfolib.php',174],['mod/workshop','fileinfolib.php',335],['lib/filebrowser','file_info_context_module.php',349],['mod/glossary','locallib.php',629],['lib/filebrowser','file_info_context_course.php',472],['lib/filebrowser','file_info_context_course.php',721],['lib/filebrowser','file_info_context_course.php',867],['mod/folder','locallib.php',35],['mod/forum','locallib.php',560]], 58],
'scorm_get_toc_get_parent_child': ['scorm_get_toc_get_parent_child', '', [['mod/scorm','locallib.php',1605]], 1],
'end_div': ['end_div', 'Ends a <div> tag. (Shortcut function.) ', [['lib','outputcomponents.php',1837]], 100],
'sql_compare_text': ['sql_compare_text', 'Returns the SQL text to be used to compare one TEXT (clob) column with one varchar column, because some RDBMS doesn\'t support such direct comparisons. ', [['lib/dml','moodle_database.php',2040]], 95],
'scorm_aicc_get_hacp_session': ['scorm_aicc_get_hacp_session', 'Given a scormid creates an AICC Session record to allow HACP ', [['mod/scorm/datamodels','aicclib.php',391]], 1],
'extract_to_storage': ['extract_to_storage', 'Extract file to given file path (real OS filesystem), existing files are overwrited ', [['lib/filebrowser','virtual_root_file.php',146],['lib/filestorage','tgz_packer.php',671],['lib/filestorage','stored_file.php',530],['lib/filestorage','zip_packer.php',380],['lib/filestorage','mbz_packer.php',109]], 22],
'scorm_get_sco_runtime': ['scorm_get_sco_runtime', '', [['mod/scorm','locallib.php',678]], 4],
'get_records': ['get_records', 'Load a list of records. ', [['competency/classes','persistent.php',709],['mod/glossary/classes','entry_query_builder.php',295],['lib/dml','moodle_database.php',1285],['lib','coursecatlib.php',651],['question','category_class.php',63]], 965],
'tag': ['tag', 'Outputs a tag with attributes and contents ', [['lib','outputcomponents.php',1073]], 1292],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'scorm_get_toc': ['scorm_get_toc', '', [['mod/scorm','locallib.php',1858]], 4],
'scorm_version_check': ['scorm_version_check', 'Returns the SCORM version used. ', [['mod/scorm','lib.php',1149]], 11],
'scorm_get_scoes': ['scorm_get_scoes', 'Returns an object (array) containing all the scoes data related to the given sco ID ', [['mod/scorm','locallib.php',394]], 12],
'single_button': ['single_button', 'Returns a form with a single button. ', [['lib','outputrenderers.php',1772]], 316],
'get_field_sql': ['get_field_sql', 'Get a single field value (first field) using a SQL statement. ', [['lib/dml','moodle_database.php',1588]], 138],
't': ['t', 'Returns the translation of a message. ', [['lib/horde/framework/Horde/Translation/Handler','Gettext.php',53],['lib/horde/framework/Horde','Translation.php',84],['lib/horde/framework/Horde/Imap/Client','Translation.php',25],['lib/xhprof/xhprof_html/jquery','jquery-1.2.6.js',3222],['lib/horde/framework/Horde/Mime','Translation.php',25],['lib/horde/framework/Horde/Exception','Translation.php',19],['lib/horde/framework/Horde/Translation','Handler.php',20]], 327],
'scorm_launch_sco': ['scorm_launch_sco', 'Trigger the scorm_launched event. ', [['mod/scorm','locallib.php',2216]], 2],
'scorm_element_cmp': ['scorm_element_cmp', 'Build up the JavaScript representation of an array element ', [['mod/scorm','locallib.php',1153]], 0],
'span': ['span', 'Creates a <span> tag. (Shortcut function.) ', [['lib','outputcomponents.php',1846]], 161],
'get_record_select': ['get_record_select', 'Get a single database record as an object which match a particular WHERE clause. ', [['lib/dml','moodle_database.php',1481]], 19],
'scorm_format_toc_for_treeview': ['scorm_format_toc_for_treeview', '', [['mod/scorm','locallib.php',1684]], 2],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'end_span': ['end_span', 'Ends a <span> tag. (Shortcut function.) ', [['lib','outputcomponents.php',1869]], 2],
'scorm_eval_prerequisites': ['scorm_eval_prerequisites', 'This is really a little language parser for AICC_SCRIPT evaluates the expression and returns a boolean answer see 2.3.2.5.1. Sequencing/Navigation Today  - from the SCORM 1.2 spec (CAM). ', [['mod/scorm/datamodels','scorm_12lib.php',17]], 1],
'get_filename': ['get_filename', 'Returns file name ', [['lib/filebrowser','virtual_root_file.php',227],['lib/filestorage','stored_file.php',699],['lib','medialib.php',169]], 248],
'scorm_repeater': ['scorm_repeater', '', [['mod/scorm','locallib.php',345]], 1],
'scorm_parse_scorm': ['scorm_parse_scorm', 'Sets up SCORM 1.2/2004 packages using the manifest file. Called whenever SCORM changes ', [['mod/scorm/datamodels','scormlib.php',539]], 3],
'head': ['head', 'HTTP HEAD method ', [['lib','filelib.php',3338]], 8],
'sql_isempty': ['sql_isempty', 'Returns the SQL to know if one field is empty. ', [['lib/dml','oci_native_moodle_database.php',1729],['lib/dml','mssql_native_moodle_database.php',1277],['lib/dml','moodle_database.php',2191],['lib/dml','sqlsrv_native_moodle_database.php',1345]], 11],
'render': ['render', 'Renders this element ', [['lib/classes/output','inplace_editable.php',238],['lib/adodb','adodb-pager.inc.php',241],['lib/phpexcel/PHPExcel','Chart.php',656],['lib','formslib.php',948],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/fullscreen','fullscreen.htm',82],['lib','outputrenderers.php',170],['lib','outputrenderers.php',302],['question/behaviour','behaviourbase.php',97],['lib/htmlpurifier/HTMLPurifier/Printer','HTMLDefinition.php',15],['lib/htmlpurifier/HTMLPurifier/Printer','CSSDefinition.php',14],['filter/tex','latex.php',88],['lib','portfoliolib.php',241],['mod/quiz/classes/question/bank','custom_view.php',133],['lib/mustache/src/Mustache','Engine.php',204],['question/engine/tests','helpers.php',797],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',85],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',235],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',298],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',391],['lib/mustache/src/Mustache','Template.php',57],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',790],['question/engine','questionattempt.php',814],['lib/mustache/src/Mustache','LambdaHelper.php',39]], 942],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',922],['lib','accesslib.php',344]], 2064],
'scorm_grade_user': ['scorm_grade_user', '', [['mod/scorm','locallib.php',758]], 4],
'scorm_get_grade_method_array': ['scorm_get_grade_method_array', 'Returns an array of the array of what grade options ', [['mod/scorm','locallib.php',92]], 2],
'scorm_get_skip_view_array': ['scorm_get_skip_view_array', 'Returns an array of the array of skip view options ', [['mod/scorm','locallib.php',116]], 2],
'pix_url': ['pix_url', 'Return the moodle_url for an image. ', [['lib','outputrenderers.php',237],['lib','outputlib.php',1394]], 367],
'scorm_get_attempt_status': ['scorm_get_attempt_status', 'Generate the user attempt status string ', [['mod/scorm','locallib.php',1195]], 2],
'scorm_get_count_users': ['scorm_get_count_users', '', [['mod/scorm','locallib.php',1029]], 1],
'get_records_select_menu': ['get_records_select_menu', 'Get the first two columns from a number of records as an associative array which match a particular WHERE clause. ', [['lib/dml','moodle_database.php',1407]], 15],
'img': ['img', 'Generates a simple image tag with attributes. ', [['lib','outputcomponents.php',1169]], 54],
'scorm_get_navigation_display_array': ['scorm_get_navigation_display_array', 'Returns an array of the array of navigation buttons display options ', [['mod/scorm','locallib.php',160]], 2],
'sql_isnotempty': ['sql_isnotempty', 'Returns the proper SQL to know if one field is not empty. ', [['lib/dml','moodle_database.php',2228]], 21],
'box_start': ['box_start', 'Outputs the opening section of a box. ', [['lib','outputrenderers.php',3102]], 259],
'clean_param': ['clean_param', 'Used by {@link optional_param()} and {@link required_param()} to clean the variables and/or cast to specific types, based on an options field. <code> $course->format = clean_param($course->format, PARAM_ALPHA); $selectedgradeitem = clean_param($selectedgradeitem, PARAM_INT); </code> ', [['lib','moodlelib.php',769]], 635],
'sesskey': ['sesskey', 'Makes sure that $USER->sesskey exists, if $USER itself exists. It sets a new sesskey if one does not already exist, but does not overwrite existing sesskeys. Returns the sesskey string if $USER exists, or boolean false if not. ', [['lib','sessionlib.php',28]], 641],
'scorm_format_duration': ['scorm_format_duration', 'Converts SCORM duration notation to human-readable format The function works with both SCORM 1.2 and SCORM 2004 time formats ', [['mod/scorm','locallib.php',1428]], 4],
'scorm_parse_aicc': ['scorm_parse_aicc', 'Sets up AICC packages Called whenever package changes ', [['mod/scorm/datamodels','aicclib.php',117]], 2],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'scorm_simple_play': ['scorm_simple_play', '', [['mod/scorm','locallib.php',985]], 1],
'scorm_delete_attempt': ['scorm_delete_attempt', 'Delete Scorm tracks for selected users ', [['mod/scorm','locallib.php',1398]], 2],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','sqlite3_pdo_moodle_database.php',345],['lib/dml','moodle_database.php',1864]], 773],
'scorm_get_updatefreq_array': ['scorm_get_updatefreq_array', 'Returns an array of the array of update frequency options ', [['mod/scorm','locallib.php',139]], 2],
'scorm_delete_responses': ['scorm_delete_responses', 'Delete Scorm tracks for selected users ', [['mod/scorm','locallib.php',1364]], 3],
'redirect': ['redirect', '', [['enrol/lti/ims-blti','blti.php',230],['lib','weblib.php',2659]], 999],
'get_records_sql': ['get_records_sql', 'Get a number of records as an array of objects. ', [['lib/dml','pdo_moodle_database.php',309],['lib/dml','oci_native_moodle_database.php',1145],['lib/dml','pgsql_native_moodle_database.php',732],['lib/dml','mssql_native_moodle_database.php',805],['lib/dml','mysqli_native_moodle_database.php',1057],['lib/dml','sqlsrv_native_moodle_database.php',890],['lib/dml/tests','dml_test.php',5545]], 700],
'get_visible_name': ['get_visible_name', '', [['mod/resource','locallib.php',513],['lib/filebrowser','file_info_context_system.php',115],['mod/lesson/classes','file_info.php',78],['mod/imscp','locallib.php',312],['lib/filebrowser','file_info_context_coursecat.php',128],['mod/book','locallib.php',447],['lib/filebrowser','file_info_context_user.php',247],['mod/scorm','locallib.php',68],['mod/data','locallib.php',486],['lib/filebrowser','file_info_stored.php',92],['mod/page','locallib.php',43],['mod/workshop','fileinfolib.php',66],['mod/workshop','fileinfolib.php',223],['search/classes','base.php',132],['lib/filebrowser','file_info_context_module.php',203],['mod/glossary','locallib.php',534],['lib/filebrowser','file_info_context_course.php',354],['lib/filebrowser','file_info_context_course.php',626],['lib/filebrowser','file_info_context_course.php',775],['mod/folder','locallib.php',41],['mod/forum','locallib.php',472]], 34],
'setopt': ['setopt', 'Set curl options. ', [['lib','filelib.php',2865],['lib/phpexcel/PHPExcel/Shared/Escher','DggContainer.php',152],['lib/phpexcel/PHPExcel/Shared/Escher/DgContainer/SpgrContainer','SpContainer.php',214]], 27],
'scorm_get_tracks': ['scorm_get_tracks', '', [['mod/scorm','locallib.php',599]], 14],
'scorm_isset': ['scorm_isset', 'Check for a parameter in userdata and return it if it\'s set or return the value from $ifempty if its empty ', [['mod/scorm','locallib.php',2023]], 53],
'count_records_select': ['count_records_select', 'Count a list of records. ', [['competency/classes','persistent.php',828],['lib/dml','moodle_database.php',1779]], 73],
'create_file_from_url': ['create_file_from_url', 'Add new local file. ', [['lib/filestorage','file_storage.php',1312]], 5],
'scorm_get_last_attempt': ['scorm_get_last_attempt', 'Returns the last attempt used - if no attempts yet, returns 1 for first attempt ', [['mod/scorm','locallib.php',815]], 7],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pdo_moodle_database.php',461],['lib/dml','oci_native_moodle_database.php',1404],['lib/dml','pgsql_native_moodle_database.php',1089],['lib/dml','mssql_native_moodle_database.php',1067],['lib/dml','mysqli_native_moodle_database.php',1405],['lib/dml','sqlsrv_native_moodle_database.php',1148],['lib/dml/tests','dml_test.php',5551]], 650],
'scorm_get_attempts_array': ['scorm_get_attempts_array', 'Returns an array of the array of attempt options ', [['mod/scorm','locallib.php',171]], 2],
'trigger': ['trigger', '', [['lib/evalmath','evalmath.class.php',448],['lib/classes/event','base.php',765]], 964],
'param': ['param', '', [['lib/adodb/drivers','adodb-postgres64.inc.php',609],['lib','weblib.php',453],['lib/adodb/drivers','adodb-oci8po.inc.php',39],['lib/adodb','adodb.inc.php',934],['lib/adodb/drivers','adodb-oci8.inc.php',1179],['lib/adodb/drivers','adodb-db2oci.inc.php',163]], 640],
'get_filepath': ['get_filepath', 'Returns file path ', [['lib/filebrowser','virtual_root_file.php',218],['lib/filestorage','stored_file.php',690],['backup/util/ui','restore_ui_stage.class.php',547]], 147],
'start_tag': ['start_tag', 'Outputs an opening tag with attributes ', [['lib','outputcomponents.php',1085],['backup/util/xml/parser','progressive_parser.class.php',215]], 701],
'optional_param': ['optional_param', 'Returns a particular value for the named variable, taken from POST or GET, otherwise returning a given default. ', [['lib','moodlelib.php',609]], 2210],
'scorm_debugging': ['scorm_debugging', 'Figure out with this is a debug situation ', [['mod/scorm','locallib.php',1338]], 4],
'get_info': ['get_info', 'Returns file information. ', [['lib/filestorage','zip_archive.php',250],['lib','filelib.php',3524],['backup/util/plan','restore_task.class.php',46],['mod/feedback/item/multichoice','lib.php',411],['backup/util/plan','restore_plan.class.php',107],['mod/feedback/item/multichoicerated','lib.php',359],['backup/controller','restore_controller.class.php',317]], 67],
'is_external_file': ['is_external_file', 'Whether or not this is a external resource ', [['lib/filebrowser','file_info.php',339],['lib/filebrowser','file_info_stored.php',312],['lib/filestorage','stored_file.php',94]], 35],
'start_div': ['start_div', 'Starts a <div> tag. (Shortcut function.) ', [['lib','outputcomponents.php',1826]], 107],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'div': ['div', 'Creates a <div> tag. (Shortcut function.) ', [['lib','outputcomponents.php',1814],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',239]], 207],
'scorm_format_interactions': ['scorm_format_interactions', 'helper function to return a formatted list of interactions for reports. ', [['mod/scorm','locallib.php',621]], 2],
'scorm_insert_track': ['scorm_insert_track', '', [['mod/scorm','locallib.php',424]], 35],
'delete_area_files': ['delete_area_files', 'Delete all area files (optionally limited by itemid). ', [['lib/filestorage','file_storage.php',992]], 123],
'json_encode': ['json_encode', 'encodes an arbitrary variable into JSON format ', [['lib/minify/lib','FirePHP.php',1124]], 307],
'get_file_storage': ['get_file_storage', 'Returns local file storage instance ', [['lib','moodlelib.php',6144]], 546],
'scorm_get_attempt_count': ['scorm_get_attempt_count', 'Get SCORM attempt count ', [['mod/scorm','locallib.php',1294]], 5],
'get_records_select': ['get_records_select', 'Load a list of records based on a select query. ', [['competency/classes','persistent.php',751],['lib/dml','moodle_database.php',1332]], 166],
'scorm_reconstitute_array_element': ['scorm_reconstitute_array_element', 'Build up the JavaScript representation of an array element ', [['mod/scorm','locallib.php',1051]], 6],
'scorm_get_last_completed_attempt': ['scorm_get_last_completed_attempt', 'Returns the last completed attempt used - if no completed attempts yet, returns 1 for first attempt ', [['mod/scorm','locallib.php',838]], 2],
'scorm_grade_user_attempt': ['scorm_grade_user_attempt', '', [['mod/scorm','locallib.php',704]], 8],
'scorm_get_hidetoc_array': ['scorm_get_hidetoc_array', 'Returns an array of the array of hide table of contents options ', [['mod/scorm','locallib.php',127]], 2],
'scorm_get_all_attempts': ['scorm_get_all_attempts', 'Returns the full list of attempts a user has made. ', [['mod/scorm','locallib.php',863]], 2],
'scorm_get_popup_options_array': ['scorm_get_popup_options_array', 'Returns an array of the popup options for SCORM and each options default value ', [['mod/scorm','locallib.php',76]], 3],
'scorm_require_available': ['scorm_require_available', 'Requires a SCORM package to be available for the current user. ', [['mod/scorm','locallib.php',2108]], 9],
'scorm_external_link': ['scorm_external_link', '', [['mod/scorm','locallib.php',356]], 1],
'scorm_print_launch': ['scorm_print_launch', 'Displays the entry form and toc if required. ', [['mod/scorm','locallib.php',882]], 1],
'scorm_get_adlnav_json': ['scorm_get_adlnav_json', '', [['mod/scorm','locallib.php',1941]], 3],
'scorm_get_toc_object': ['scorm_get_toc_object', '', [['mod/scorm','locallib.php',1471]], 2],
'format_string': ['format_string', 'Given a simple string, this function returns the string processed by enabled string filters if $CFG->filterall is enabled ', [['lib','weblib.php',1379]], 880],
'scorm_check_launchable_sco': ['scorm_check_launchable_sco', 'Check if the current sco is launchable If not, find the next launchable sco ', [['mod/scorm','locallib.php',2040]], 1],
'scorm_parse': ['scorm_parse', 'Extracts scrom package, sets up all variables. Called whenever scorm changes ', [['mod/scorm','locallib.php',199]], 5],
'get_config': ['get_config', 'Config get method. ', [['lib/classes/antivirus','scanner.php',54],['competency/classes','competency_rule.php',59],['question/engine','bank.php',109],['admin/tool/log/classes/helper','store.php',63],['lib','moodlelib.php',1409],['lib','enrollib.php',1142],['lib/editor/tinymce/classes','plugin.php',73],['competency/classes','competency_rule_points.php',43],['search/classes','base.php',169],['mod/assign','assignmentplugin.php',345],['lib/portfolio','plugin.php',546]], 934],
'empty_tag': ['empty_tag', 'Outputs an empty tag with attributes ', [['lib','outputcomponents.php',1106]], 522],
'userdate': ['userdate', 'Returns a formatted string that represents a date in user time. ', [['lib','moodlelib.php',2155],['lib/adodb','adodb.inc.php',2842],['lib/adodb','adodb.inc.php',3569]], 525],
'array_keys': ['array_keys', '', [], 1256],
'preg_match': ['preg_match', '', [], 1286],
'preg_replace': ['preg_replace', '', [], 917],
'sha1': ['sha1', '', [], 186],
'reset': ['reset', '', [], 1213],
'strstr': ['strstr', '', [], 54],
'round': ['round', '', [], 1002],
'substr': ['substr', '', [], 2823],
'link': ['link', '', [], 695],
'dirname': ['dirname', '', [], 335],
'is_object': ['is_object', '', [], 544],
'strrpos': ['strrpos', '', [], 75],
'in_array': ['in_array', '', [], 1234],
'max': ['max', '', [], 1266],
'strtolower': ['strtolower', '', [], 817],
'intval': ['intval', '', [], 455],
'current': ['current', '', [], 155],
'explode': ['explode', '', [], 1572],
'stripos': ['stripos', '', [], 88],
'is_array': ['is_array', '', [], 1608],
'strpos': ['strpos', '', [], 1604],
'array_pop': ['array_pop', '', [], 483],
'time': ['time', '', [], 1959],
'count': ['count', '', [], 4095],
'file_exists': ['file_exists', '', [], 867],
'define': ['define', '', [], 2373],
'array_values': ['array_values', '', [], 342],
'array_search': ['array_search', '', [], 170],
'uksort': ['uksort', '', [], 15],
'number_format': ['number_format', '', [], 37]};
CLASS_DATA={
'curl': ['curl', 'RESTful cURL class ', [['lib','filelib.php',2656]], 74],
'scoreraw_submitted': ['scoreraw_submitted', 'The mod_scorm raw score submitted event class. ', [['mod/scorm/classes/event','scoreraw_submitted.php',28]], 3],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',7039]], 1106],
'object': ['object', 'Simple class. It is usually used instead of stdClass because it looks more familiar to Java developers ;-) Do not use for type checking of function parameters. Please use stdClass instead. ', [['lib','setuplib.php',55]], 72],
'html_writer': ['html_writer', 'Simple html output class ', [['lib','outputcomponents.php',1062]], 5120],
'file_info_stored': ['file_info_stored', 'Represents an actual file or folder - a row in the file table in the tree navigated by {@link file_browser}. ', [['lib/filebrowser','file_info_stored.php',28]], 33],
'single_select': ['single_select', 'Simple form with just one select field that gets submitted automatically. ', [['lib','outputcomponents.php',697]], 50],
'sco_launched': ['sco_launched', 'The mod_scorm sco launched event class. ', [['mod/scorm/classes/event','sco_launched.php',28]], 3],
'status_submitted': ['status_submitted', 'The mod_scorm status submitted event class. ', [['mod/scorm/classes/event','status_submitted.php',28]], 3],
'attempt_deleted': ['attempt_deleted', 'The mod_scorm attempt deleted event class. ', [['mod/scorm/classes/event','attempt_deleted.php',28],['mod/quiz/classes/event','attempt_deleted.php',28]], 3],
'scorm_package_file_info': ['scorm_package_file_info', '', [['mod/scorm','locallib.php',61]], 1],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',238]], 3088],
'moodle_exception': ['moodle_exception', 'Base Moodle Exception class ', [['lib','setuplib.php',75]], 606]};
CONST_DATA={
'FIRSTATTEMPT': ['FIRSTATTEMPT', '', [['mod/scorm','locallib.php',48]], 4],
'TOCJSLINK': ['TOCJSLINK', '', [['mod/scorm','locallib.php',51]], 5],
'SCORM_SKIPVIEW_FIRST': ['SCORM_SKIPVIEW_FIRST', '', [['mod/scorm','locallib.php',34]], 5],
'SCORM_DISPLAY_ATTEMPTSTATUS_ALL': ['SCORM_DISPLAY_ATTEMPTSTATUS_ALL', '', [['mod/scorm','lib.php',49]], 4],
'SCORM_TYPE_AICCURL': ['SCORM_TYPE_AICCURL', '', [['mod/scorm','lib.php',30]], 9],
'SCORM_TOC_POPUP': ['SCORM_TOC_POPUP', '', [['mod/scorm','lib.php',34]], 5],
'SCORM_TOC_SIDE': ['SCORM_TOC_SIDE', '', [['mod/scorm','lib.php',32]], 5],
'GRADESUM': ['GRADESUM', '', [['mod/scorm','locallib.php',44]], 4],
'SCORM_DISPLAY_ATTEMPTSTATUS_MY': ['SCORM_DISPLAY_ATTEMPTSTATUS_MY', '', [['mod/scorm','lib.php',50]], 3],
'GRADEAVERAGE': ['GRADEAVERAGE', '', [['mod/scorm','locallib.php',43]], 4],
'AVERAGEATTEMPT': ['AVERAGEATTEMPT', '', [['mod/scorm','locallib.php',47]], 4],
'PARAM_SAFEDIR': ['PARAM_SAFEDIR', '', [['lib','moodlelib.php',203]], 46],
'SCORM_NAV_UNDER_CONTENT': ['SCORM_NAV_UNDER_CONTENT', '', [['mod/scorm','lib.php',39]], 3],
'SCORM_UPDATE_EVERYTIME': ['SCORM_UPDATE_EVERYTIME', '', [['mod/scorm','locallib.php',31]], 4],
'HIGHESTATTEMPT': ['HIGHESTATTEMPT', '', [['mod/scorm','locallib.php',46]], 5],
'SCORM_TOC_DISABLED': ['SCORM_TOC_DISABLED', '', [['mod/scorm','lib.php',35]], 4],
'GRADESCOES': ['GRADESCOES', '', [['mod/scorm','locallib.php',41]], 10],
'SCO_DATA': ['SCO_DATA', '', [['mod/scorm','locallib.php',38]], 5],
'SCORM_NAV_DISABLED': ['SCORM_NAV_DISABLED', '', [['mod/scorm','lib.php',38]], 2],
'SCORM_DISPLAY_ATTEMPTSTATUS_ENTRY': ['SCORM_DISPLAY_ATTEMPTSTATUS_ENTRY', '', [['mod/scorm','lib.php',51]], 3],
'SCORM_UPDATE_EVERYDAY': ['SCORM_UPDATE_EVERYDAY', '', [['mod/scorm','locallib.php',30]], 3],
'SCO_ALL': ['SCO_ALL', '', [['mod/scorm','locallib.php',37]], 2],
'LASTATTEMPT': ['LASTATTEMPT', '', [['mod/scorm','locallib.php',49]], 4],
'SCORM_DISPLAY_ATTEMPTSTATUS_NO': ['SCORM_DISPLAY_ATTEMPTSTATUS_NO', '', [['mod/scorm','lib.php',48]], 2],
'SCORM_NAV_FLOATING': ['SCORM_NAV_FLOATING', '', [['mod/scorm','lib.php',40]], 4],
'SCORM_UPDATE_NEVER': ['SCORM_UPDATE_NEVER', '', [['mod/scorm','locallib.php',29]], 3],
'SCORM_SKIPVIEW_ALWAYS': ['SCORM_SKIPVIEW_ALWAYS', '', [['mod/scorm','locallib.php',35]], 6],
'SCORM_TYPE_LOCAL': ['SCORM_TYPE_LOCAL', '', [['mod/scorm','lib.php',24]], 16],
'SCO_ONLY': ['SCO_ONLY', '', [['mod/scorm','locallib.php',39]], 11],
'SCORM_TYPE_EXTERNAL': ['SCORM_TYPE_EXTERNAL', '', [['mod/scorm','lib.php',28]], 8],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 3812],
'SCORM_SKIPVIEW_NEVER': ['SCORM_SKIPVIEW_NEVER', '', [['mod/scorm','locallib.php',33]], 2],
'TOCFULLURL': ['TOCFULLURL', '', [['mod/scorm','locallib.php',52]], 4],
'GRADEHIGHEST': ['GRADEHIGHEST', '', [['mod/scorm','locallib.php',42]], 5],
'SCORM_TOC_HIDDEN': ['SCORM_TOC_HIDDEN', '', [['mod/scorm','lib.php',33]], 2],
'SCORM_TYPE_LOCALSYNC': ['SCORM_TYPE_LOCALSYNC', '', [['mod/scorm','lib.php',26]], 8],
'SCORM_13': ['SCORM_13', '', [['mod/scorm','lib.php',44]], 14]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
