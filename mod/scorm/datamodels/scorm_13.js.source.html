<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/scorm/datamodels/scorm_13.js source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='mod/scorm/datamodels';
filename='scorm_13.js.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/scorm/datamodels/</a> -> <a href="scorm_13.js.html">scorm_13.js</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="scorm_13.js.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="scorm_13.js.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">//</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">//</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">//</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l15"><span class="linenum">  15</span></a>  
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment">// Used need to debug cmi content (if you uncomment this, you must comment the definition inside SCORMapi1_3)</span>
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">//var cmi = new Object();</span>
<a name="l18"><span class="linenum">  18</span></a>  
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment">//</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment">// SCORM 1.3 API Implementation</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment">//</span>
<a name="l22"><span class="linenum">  22</span></a>  function <a class="function" onClick="logFunction('SCORMapi1_3')" href="../../../_functions/scormapi1_3.html" onMouseOver="funcPopup(event,'scormapi1_3')">SCORMapi1_3</a>(def, cmiobj, cmiint, cmicommentsuser, cmicommentslms, scormdebugging, scormauto, scormid, cfgwwwroot, sesskey, scoid, attempt, viewmode, cmid, currentorg, autocommit) {
<a name="l23"><span class="linenum">  23</span></a>  
<a name="l24"><span class="linenum">  24</span></a>      var prerequrl = cfgwwwroot + &quot;/mod/scorm/prereqs.php?a=&quot; + scormid + &quot;&amp;scoid=&quot; + scoid + &quot;&amp;attempt=&quot; + attempt + &quot;&amp;mode=&quot; + viewmode + &quot;&amp;currentorg=&quot; + currentorg + &quot;&amp;sesskey=&quot; + sesskey;
<a name="l25"><span class="linenum">  25</span></a>      var datamodelurl = cfgwwwroot + "<a class="filename" href="../../../mod/scorm/datamodel.php.html">/mod/scorm/datamodel.php</a>";
<a name="l26"><span class="linenum">  26</span></a>      var datamodelurlparams = &quot;id=&quot; + cmid + &quot;&amp;a=&quot; + scormid + &quot;&amp;sesskey=&quot; + sesskey + &quot;&amp;attempt=&quot; + attempt + &quot;&amp;scoid=&quot; + scoid;
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">    // Standard Data Type Definition</span>
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">    // language key has to be checked for language dependent strings</span>
<a name="l31"><span class="linenum">  31</span></a>      var validLanguages = {'aa':'aa', 'ab':'ab', 'ae':'ae', 'af':'af', 'ak':'ak', 'am':'am', 'an':'an', 'ar':'ar', 'as':'as', 'av':'av', 'ay':'ay', 'az':'az',
<a name="l32"><span class="linenum">  32</span></a>                            'ba':'ba', 'be':'be', 'bg':'bg', 'bh':'bh', 'bi':'bi', 'bm':'bm', 'bn':'bn', 'bo':'bo', 'br':'br', 'bs':'bs',
<a name="l33"><span class="linenum">  33</span></a>                            'ca':'ca', 'ce':'ce', 'ch':'ch', 'co':'co', 'cr':'cr', 'cs':'cs', 'cu':'cu', 'cv':'cv', 'cy':'cy',
<a name="l34"><span class="linenum">  34</span></a>                            'da':'da', 'de':'de', 'dv':'dv', 'dz':'dz', 'ee':'ee', 'el':'el', 'en':'en', 'eo':'eo', 'es':'es', 'et':'et', 'eu':'eu',
<a name="l35"><span class="linenum">  35</span></a>                            'fa':'fa', 'ff':'ff', 'fi':'fi', 'fj':'fj', 'fo':'fo', 'fr':'fr', 'fy':'fy', 'ga':'ga', 'gd':'gd', 'gl':'gl', 'gn':'gn', 'gu':'gu', 'gv':'gv',
<a name="l36"><span class="linenum">  36</span></a>                            'ha':'ha', 'he':'he', 'hi':'hi', 'ho':'ho', 'hr':'hr', 'ht':'ht', 'hu':'hu', 'hy':'hy', 'hz':'hz',
<a name="l37"><span class="linenum">  37</span></a>                            'ia':'ia', 'id':'id', 'ie':'ie', 'ig':'ig', 'ii':'ii', 'ik':'ik', 'io':'io', 'is':'is', 'it':'it', 'iu':'iu',
<a name="l38"><span class="linenum">  38</span></a>                            'ja':'ja', 'jv':'jv', 'ka':'ka', 'kg':'kg', 'ki':'ki', 'kj':'kj', 'kk':'kk', 'kl':'kl', 'km':'km', 'kn':'kn', 'ko':'ko', 'kr':'kr', 'ks':'ks', 'ku':'ku', 'kv':'kv', 'kw':'kw', 'ky':'ky',
<a name="l39"><span class="linenum">  39</span></a>                            'la':'la', 'lb':'lb', 'lg':'lg', 'li':'li', 'ln':'ln', 'lo':'lo', 'lt':'lt', 'lu':'lu', 'lv':'lv',
<a name="l40"><span class="linenum">  40</span></a>                            'mg':'mg', 'mh':'mh', 'mi':'mi', 'mk':'mk', 'ml':'ml', 'mn':'mn', 'mo':'mo', 'mr':'mr', 'ms':'ms', 'mt':'mt', 'my':'my',
<a name="l41"><span class="linenum">  41</span></a>                            'na':'na', 'nb':'nb', 'nd':'nd', 'ne':'ne', 'ng':'ng', 'nl':'nl', 'nn':'nn', 'no':'no', 'nr':'nr', 'nv':'nv', 'ny':'ny',
<a name="l42"><span class="linenum">  42</span></a>                            'oc':'oc', 'oj':'oj', 'om':'om', 'or':'or', 'os':'os', 'pa':'pa', 'pi':'pi', 'pl':'pl', 'ps':'ps', 'pt':'pt',
<a name="l43"><span class="linenum">  43</span></a>                            'qu':'qu', 'rm':'rm', 'rn':'rn', 'ro':'ro', 'ru':'ru', 'rw':'rw',
<a name="l44"><span class="linenum">  44</span></a>                            'sa':'sa', 'sc':'sc', 'sd':'sd', 'se':'se', 'sg':'sg', 'sh':'sh', 'si':'si', 'sk':'sk', 'sl':'sl', 'sm':'sm', 'sn':'sn', 'so':'so', 'sq':'sq', 'sr':'sr', 'ss':'ss', 'st':'st', 'su':'su', 'sv':'sv', 'sw':'sw',
<a name="l45"><span class="linenum">  45</span></a>                            'ta':'ta', 'te':'te', 'tg':'tg', 'th':'th', 'ti':'ti', 'tk':'tk', 'tl':'tl', 'tn':'tn', 'to':'to', 'tr':'tr', 'ts':'ts', 'tt':'tt', 'tw':'tw', 'ty':'ty',
<a name="l46"><span class="linenum">  46</span></a>                            'ug':'ug', 'uk':'uk', 'ur':'ur', 'uz':'uz', 've':'ve', 'vi':'vi', 'vo':'vo',
<a name="l47"><span class="linenum">  47</span></a>                            'wa':'wa', 'wo':'wo', 'xh':'xh', 'yi':'yi', 'yo':'yo', 'za':'za', 'zh':'zh', 'zu':'zu',
<a name="l48"><span class="linenum">  48</span></a>                            'aar':'aar', 'abk':'abk', 'ave':'ave', 'afr':'afr', 'aka':'aka', 'amh':'amh', 'arg':'arg', 'ara':'ara', 'asm':'asm', 'ava':'ava', 'aym':'aym', 'aze':'aze',
<a name="l49"><span class="linenum">  49</span></a>                            'bak':'bak', 'bel':'bel', 'bul':'bul', 'bih':'bih', 'bis':'bis', 'bam':'bam', 'ben':'ben', 'tib':'tib', 'bod':'bod', 'bre':'bre', 'bos':'bos',
<a name="l50"><span class="linenum">  50</span></a>                            'cat':'cat', 'che':'che', 'cha':'cha', 'cos':'cos', 'cre':'cre', 'cze':'cze', 'ces':'ces', 'chu':'chu', 'chv':'chv', 'wel':'wel', 'cym':'cym',
<a name="l51"><span class="linenum">  51</span></a>                            'dan':'dan', 'ger':'ger', 'deu':'deu', 'div':'div', 'dzo':'dzo', 'ewe':'ewe', 'gre':'gre', 'ell':'ell', 'eng':'eng', 'epo':'epo', 'spa':'spa', 'est':'est', 'baq':'baq', 'eus':'eus', 'per':'per',
<a name="l52"><span class="linenum">  52</span></a>                            'fas':'fas', 'ful':'ful', 'fin':'fin', 'fij':'fij', 'fao':'fao', 'fre':'fre', 'fra':'fra', 'fry':'fry', 'gle':'gle', 'gla':'gla', 'glg':'glg', 'grn':'grn', 'guj':'guj', 'glv':'glv',
<a name="l53"><span class="linenum">  53</span></a>                            'hau':'hau', 'heb':'heb', 'hin':'hin', 'hmo':'hmo', 'hrv':'hrv', 'hat':'hat', 'hun':'hun', 'arm':'arm', 'hye':'hye', 'her':'her',
<a name="l54"><span class="linenum">  54</span></a>                            'ina':'ina', 'ind':'ind', 'ile':'ile', 'ibo':'ibo', 'iii':'iii', 'ipk':'ipk', 'ido':'ido', 'ice':'ice', 'isl':'isl', 'ita':'ita', 'iku':'iku',
<a name="l55"><span class="linenum">  55</span></a>                            'jpn':'jpn', 'jav':'jav', 'geo':'geo', 'kat':'kat', 'kon':'kon', 'kik':'kik', 'kua':'kua', 'kaz':'kaz', 'kal':'kal', 'khm':'khm', 'kan':'kan', 'kor':'kor', 'kau':'kau', 'kas':'kas', 'kur':'kur', 'kom':'kom', 'cor':'cor', 'kir':'kir',
<a name="l56"><span class="linenum">  56</span></a>                            'lat':'lat', 'ltz':'ltz', 'lug':'lug', 'lim':'lim', 'lin':'lin', 'lao':'lao', 'lit':'lit', 'lub':'lub', 'lav':'lav',
<a name="l57"><span class="linenum">  57</span></a>                            'mlg':'mlg', 'mah':'mah', 'mao':'mao', 'mri':'mri', 'mac':'mac', 'mkd':'mkd', 'mal':'mal', 'mon':'mon', 'mol':'mol', 'mar':'mar', 'may':'may', 'msa':'msa', 'mlt':'mlt', 'bur':'bur', 'mya':'mya',
<a name="l58"><span class="linenum">  58</span></a>                            'nau':'nau', 'nob':'nob', 'nde':'nde', 'nep':'nep', 'ndo':'ndo', 'dut':'dut', 'nld':'nld', 'nno':'nno', 'nor':'nor', 'nbl':'nbl', 'nav':'nav', 'nya':'nya',
<a name="l59"><span class="linenum">  59</span></a>                            'oci':'oci', 'oji':'oji', 'orm':'orm', 'ori':'ori', 'oss':'oss', 'pan':'pan', 'pli':'pli', 'pol':'pol', 'pus':'pus', 'por':'por', 'que':'que',
<a name="l60"><span class="linenum">  60</span></a>                            'roh':'roh', 'run':'run', 'rum':'rum', 'ron':'ron', 'rus':'rus', 'kin':'kin', 'san':'san', 'srd':'srd', 'snd':'snd', 'sme':'sme', 'sag':'sag', 'slo':'slo', 'sin':'sin', 'slk':'slk', 'slv':'slv', 'smo':'smo', 'sna':'sna', 'som':'som', 'alb':'alb', 'sqi':'sqi', 'srp':'srp', 'ssw':'ssw', 'sot':'sot', 'sun':'sun', 'swe':'swe', 'swa':'swa',
<a name="l61"><span class="linenum">  61</span></a>                            'tam':'tam', 'tel':'tel', 'tgk':'tgk', 'tha':'tha', 'tir':'tir', 'tuk':'tuk', 'tgl':'tgl', 'tsn':'tsn', 'ton':'ton', 'tur':'tur', 'tso':'tso', 'tat':'tat', 'twi':'twi', 'tah':'tah',
<a name="l62"><span class="linenum">  62</span></a>                            'uig':'uig', 'ukr':'ukr', 'urd':'urd', 'uzb':'uzb', 'ven':'ven', 'vie':'vie', 'vol':'vol', 'wln':'wln', 'wol':'wol', 'xho':'xho', 'yid':'yid', 'yor':'yor', 'zha':'zha', 'chi':'chi', 'zho':'zho', 'zul':'zul'};
<a name="l63"><span class="linenum">  63</span></a>  
<a name="l64"><span class="linenum">  64</span></a>      var CMIString200 = '^[\\u0000-\\uFFFF]{0,200}$';
<a name="l65"><span class="linenum">  65</span></a>      var CMIString250 = '^[\\u0000-\\uFFFF]{0,250}$';
<a name="l66"><span class="linenum">  66</span></a>      var CMIString1000 = '^[\\u0000-\\uFFFF]{0,1000}$';
<a name="l67"><span class="linenum">  67</span></a>      var CMIString4000 = '^[\\u0000-\\uFFFF]{0,4000}$';
<a name="l68"><span class="linenum">  68</span></a>      var CMIString64000 = '^[\\u0000-\\uFFFF]{0,64000}$';
<a name="l69"><span class="linenum">  69</span></a>      var CMILang = '^([a-zA-Z]{2,3}|i|x)(\-[a-zA-Z0-9\-]{2,8})?$|^$';
<a name="l70"><span class="linenum">  70</span></a>      var CMILangString250 = '^(\{lang=([a-zA-Z]{2,3}|i|x)(\-[a-zA-Z0-9\-]{2,8})?\})?([^\{].{0,250}$)?';
<a name="l71"><span class="linenum">  71</span></a>      var CMILangcr = '^((\{lang=([a-zA-Z]{2,3}|i|x)?(\-[a-zA-Z0-9\-]{2,8})?\}))(.*?)$';
<a name="l72"><span class="linenum">  72</span></a>      var CMILangString250cr = '^((\{lang=([a-zA-Z]{2,3}|i|x)?(\-[a-zA-Z0-9\-]{2,8})?\})?(.{0,250})?)?$';
<a name="l73"><span class="linenum">  73</span></a>      var CMILangString4000 = '^(\{lang=([a-zA-Z]{2,3}|i|x)(\-[a-zA-Z0-9\-]{2,8})?\})?([^\{].{0,4000}$)?';
<a name="l74"><span class="linenum">  74</span></a>      var CMITime = '^(19[7-9]{1}[0-9]{1}|20[0-2]{1}[0-9]{1}|203[0-8]{1})((-(0[1-9]{1}|1[0-2]{1}))((-(0[1-9]{1}|[1-2]{1}[0-9]{1}|3[0-1]{1}))(<a class="function" onClick="logFunction('T')" href="../../../_functions/t.html" onMouseOver="funcPopup(event,'t')">T</a>([0-1]{1}[0-9]{1}|2[0-3]{1})((:[0-5]{1}[0-9]{1})((:[0-5]{1}[0-9]{1})((\\.[0-9]{1,2})((Z|([+|-]([0-1]{1}[0-9]{1}|2[0-3]{1})))(:[0-5]{1}[0-9]{1})?)?)?)?)?)?)?)?$';
<a name="l75"><span class="linenum">  75</span></a>      var CMITimespan = '^<a class="function" onClick="logFunction('P')" href="../../../_functions/p.html" onMouseOver="funcPopup(event,'p')">P</a>(\\d+Y)?(\\d+M)?(\\d+D)?(<a class="function" onClick="logFunction('T')" href="../../../_functions/t.html" onMouseOver="funcPopup(event,'t')">T</a>(((\\d+H)(\\d+M)?(\\d+(\.\\d{1,2})?S)?)|((\\d+M)(\\d+(\.\\d{1,2})?S)?)|((\\d+(\.\\d{1,2})?S))))?$';
<a name="l76"><span class="linenum">  76</span></a>      var CMIInteger = '^\\d+$';
<a name="l77"><span class="linenum">  77</span></a>      var CMISInteger = '^-?([0-9]+)$';
<a name="l78"><span class="linenum">  78</span></a>      var CMIDecimal = '^-?([0-9]{1,5})(\\.[0-9]{1,18})?$';
<a name="l79"><span class="linenum">  79</span></a>      var CMIIdentifier = '^\\S{1,250}[a-zA-Z0-9]$';
<a name="l80"><span class="linenum">  80</span></a>      var CMIShortIdentifier = '^[\\w\.]{1,250}$';
<a name="l81"><span class="linenum">  81</span></a>      var CMILongIdentifier = '^(?:(?!urn:)\\S{1,4000}|urn:[A-Za-z0-9-]{1,31}:\\S{1,4000})$';
<a name="l82"><span class="linenum">  82</span></a>      var CMIFeedback = '^.*$'; <span class="comment">// This must be redefined</span>
<a name="l83"><span class="linenum">  83</span></a>      var CMIIndex = '[._](\\d+).';
<a name="l84"><span class="linenum">  84</span></a>      var CMIIndexStore = '.<a class="function" onClick="logFunction('N')" href="../../../_functions/n.html" onMouseOver="funcPopup(event,'n')">N</a>(\\d+).';
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">    // Vocabulary Data Type Definition</span>
<a name="l86"><span class="linenum">  86</span></a>      var CMICStatus = '^completed$|^incomplete$|^not attempted$|^unknown$';
<a name="l87"><span class="linenum">  87</span></a>      var CMISStatus = '^passed$|^failed$|^unknown$';
<a name="l88"><span class="linenum">  88</span></a>      var CMIExit = '^time-out$|^suspend$|^logout$|^normal$|^$';
<a name="l89"><span class="linenum">  89</span></a>      var CMIType = '^true-false$|^choice$|^(long-)?fill-in$|^matching$|^performance$|^sequencing$|^likert$|^numeric$|^other$';
<a name="l90"><span class="linenum">  90</span></a>      var CMIResult = '^correct$|^incorrect$|^unanticipated$|^neutral$|^-?([0-9]{1,4})(\\.[0-9]{1,18})?$';
<a name="l91"><span class="linenum">  91</span></a>      var NAVEvent = '^previous$|^continue$|^exit$|^exitAll$|^abandon$|^abandonAll$|^suspendAll$|^\{target=\\S{0,200}[a-zA-Z0-9]\}choice|jump$';
<a name="l92"><span class="linenum">  92</span></a>      var NAVBoolean = '^unknown$|^true$|^false$';
<a name="l93"><span class="linenum">  93</span></a>      var NAVTarget = '^previous$|^continue$|^choice.{target=\\S{0,200}[a-zA-Z0-9]}$'
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">    // Children lists</span>
<a name="l95"><span class="linenum">  95</span></a>      var cmi_children = '_version,comments_from_learner,comments_from_lms,completion_status,credit,entry,exit,interactions,launch_data,learner_id,learner_name,learner_preference,location,max_time_allowed,mode,objectives,progress_measure,scaled_passing_score,score,session_time,success_status,suspend_data,time_limit_action,total_time';
<a name="l96"><span class="linenum">  96</span></a>      var comments_children = 'comment,timestamp,location';
<a name="l97"><span class="linenum">  97</span></a>      var score_children = 'max,raw,scaled,min';
<a name="l98"><span class="linenum">  98</span></a>      var objectives_children = 'progress_measure,completion_status,success_status,description,score,id';
<a name="l99"><span class="linenum">  99</span></a>      var correct_responses_children = 'pattern';
<a name="l100"><span class="linenum"> 100</span></a>      var student_data_children = 'mastery_score,max_time_allowed,time_limit_action';
<a name="l101"><span class="linenum"> 101</span></a>      var student_preference_children = 'audio_level,audio_captioning,delivery_speed,language';
<a name="l102"><span class="linenum"> 102</span></a>      var interactions_children = 'id,type,objectives,timestamp,correct_responses,weighting,learner_response,result,latency,description';
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment">    // Data ranges</span>
<a name="l104"><span class="linenum"> 104</span></a>      var scaled_range = '-1#1';
<a name="l105"><span class="linenum"> 105</span></a>      var audio_range = '0#*';
<a name="l106"><span class="linenum"> 106</span></a>      var speed_range = '0#*';
<a name="l107"><span class="linenum"> 107</span></a>      var text_range = '-1#1';
<a name="l108"><span class="linenum"> 108</span></a>      var progress_range = '0#1';
<a name="l109"><span class="linenum"> 109</span></a>      var learner_response = {
<a name="l110"><span class="linenum"> 110</span></a>          'true-false':{'format':'^true$|^false$', 'max':1, 'delimiter':'', 'unique':false},
<a name="l111"><span class="linenum"> 111</span></a>          'choice':{'format':CMIShortIdentifier, 'max':36, 'delimiter':'[,]', 'unique':true},
<a name="l112"><span class="linenum"> 112</span></a>          'fill-in':{'format':CMILangString250, 'max':10, 'delimiter':'[,]', 'unique':false},
<a name="l113"><span class="linenum"> 113</span></a>          'long-fill-in':{'format':CMILangString4000, 'max':1, 'delimiter':'', 'unique':false},
<a name="l114"><span class="linenum"> 114</span></a>          'matching':{'format':CMIShortIdentifier, 'format2':CMIShortIdentifier, 'max':36, 'delimiter':'[,]', 'delimiter2':'[.]', 'unique':false},
<a name="l115"><span class="linenum"> 115</span></a>          'performance':{'format':'^$|' + CMIShortIdentifier, 'format2':CMIDecimal + '|^$|' + CMIShortIdentifier, 'max':250, 'delimiter':'[,]', 'delimiter2':'[.]', 'unique':false},
<a name="l116"><span class="linenum"> 116</span></a>          'sequencing':{'format':CMIShortIdentifier, 'max':36, 'delimiter':'[,]', 'unique':false},
<a name="l117"><span class="linenum"> 117</span></a>          'likert':{'format':CMIShortIdentifier, 'max':1, 'delimiter':'', 'unique':false},
<a name="l118"><span class="linenum"> 118</span></a>          'numeric':{'format':CMIDecimal, 'max':1, 'delimiter':'', 'unique':false},
<a name="l119"><span class="linenum"> 119</span></a>          'other':{'format':CMIString4000, 'max':1, 'delimiter':'', 'unique':false}
<a name="l120"><span class="linenum"> 120</span></a>      }
<a name="l121"><span class="linenum"> 121</span></a>  
<a name="l122"><span class="linenum"> 122</span></a>      var correct_responses = {
<a name="l123"><span class="linenum"> 123</span></a>          'true-false':{'pre':'', 'max':1, 'delimiter':'', 'unique':false, 'duplicate':false,
<a name="l124"><span class="linenum"> 124</span></a>                        'format':'^true$|^false$',
<a name="l125"><span class="linenum"> 125</span></a>                        'limit':1},
<a name="l126"><span class="linenum"> 126</span></a>          'choice':{'pre':'', 'max':36, 'delimiter':'[,]', 'unique':true, 'duplicate':false,
<a name="l127"><span class="linenum"> 127</span></a>                    'format':CMIShortIdentifier},
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment">//        'fill-in':{'pre':'^(((\{case_matters=(true|false)\})(\{order_matters=(true|false)\})?)|((\{order_matters=(true|false)\})(\{case_matters=(true|false)\})?))(.*?)$',</span>
<a name="l129"><span class="linenum"> 129</span></a>          'fill-in':{'pre':'',
<a name="l130"><span class="linenum"> 130</span></a>                     'max':10, 'delimiter':'[,]', 'unique':false, 'duplicate':false,
<a name="l131"><span class="linenum"> 131</span></a>                     'format':CMILangString250cr},
<a name="l132"><span class="linenum"> 132</span></a>          'long-fill-in':{'pre':'^(\{case_matters=(true|false)\})?', 'max':1, 'delimiter':'', 'unique':false, 'duplicate':true,
<a name="l133"><span class="linenum"> 133</span></a>                          'format':CMILangString4000},
<a name="l134"><span class="linenum"> 134</span></a>          'matching':{'pre':'', 'max':36, 'delimiter':'[,]', 'delimiter2':'[.]', 'unique':false, 'duplicate':false,
<a name="l135"><span class="linenum"> 135</span></a>                      'format':CMIShortIdentifier, 'format2':CMIShortIdentifier},
<a name="l136"><span class="linenum"> 136</span></a>          'performance':{'pre':'^(\{order_matters=(true|false)\})?',
<a name="l137"><span class="linenum"> 137</span></a>                         'max':250, 'delimiter':'[,]', 'delimiter2':'[.]', 'unique':false, 'duplicate':false,
<a name="l138"><span class="linenum"> 138</span></a>                         'format':'^$|' + CMIShortIdentifier, 'format2':CMIDecimal + '|^$|' + CMIShortIdentifier},
<a name="l139"><span class="linenum"> 139</span></a>          'sequencing':{'pre':'', 'max':36, 'delimiter':'[,]', 'unique':false, 'duplicate':false,
<a name="l140"><span class="linenum"> 140</span></a>                        'format':CMIShortIdentifier},
<a name="l141"><span class="linenum"> 141</span></a>          'likert':{'pre':'', 'max':1, 'delimiter':'', 'unique':false, 'duplicate':false,
<a name="l142"><span class="linenum"> 142</span></a>                    'format':CMIShortIdentifier,
<a name="l143"><span class="linenum"> 143</span></a>                    'limit':1},
<a name="l144"><span class="linenum"> 144</span></a>          'numeric':{'pre':'', 'max':2, 'delimiter':'[:]', 'unique':false, 'duplicate':false,
<a name="l145"><span class="linenum"> 145</span></a>                     'format':CMIDecimal,
<a name="l146"><span class="linenum"> 146</span></a>                     'limit':1},
<a name="l147"><span class="linenum"> 147</span></a>          'other':{'pre':'', 'max':1, 'delimiter':'', 'unique':false, 'duplicate':false,
<a name="l148"><span class="linenum"> 148</span></a>                   'format':CMIString4000,
<a name="l149"><span class="linenum"> 149</span></a>                   'limit':1}
<a name="l150"><span class="linenum"> 150</span></a>      }
<a name="l151"><span class="linenum"> 151</span></a>  
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment">    // The SCORM 1.3 data model</span>
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment">    // Set up data model for each sco</span>
<a name="l154"><span class="linenum"> 154</span></a>      var datamodel = {};
<a name="l155"><span class="linenum"> 155</span></a>      for(scoid in def){
<a name="l156"><span class="linenum"> 156</span></a>          datamodel[scoid] = {
<a name="l157"><span class="linenum"> 157</span></a>              'cmi._children':{'defaultvalue':cmi_children, 'mod':'r'},
<a name="l158"><span class="linenum"> 158</span></a>              'cmi._version':{'defaultvalue':'1.0', 'mod':'r'},
<a name="l159"><span class="linenum"> 159</span></a>              'cmi.comments_from_learner._children':{'defaultvalue':comments_children, 'mod':'r'},
<a name="l160"><span class="linenum"> 160</span></a>              'cmi.comments_from_learner._count':{'mod':'r', 'defaultvalue':'0'},
<a name="l161"><span class="linenum"> 161</span></a>              'cmi.comments_from_learner.n.comment':{'format':CMILangString4000, 'mod':'rw'},
<a name="l162"><span class="linenum"> 162</span></a>              'cmi.comments_from_learner.n.location':{'format':CMIString250, 'mod':'rw'},
<a name="l163"><span class="linenum"> 163</span></a>              'cmi.comments_from_learner.n.timestamp':{'format':CMITime, 'mod':'rw'},
<a name="l164"><span class="linenum"> 164</span></a>              'cmi.comments_from_lms._children':{'defaultvalue':comments_children, 'mod':'r'},
<a name="l165"><span class="linenum"> 165</span></a>              'cmi.comments_from_lms._count':{'mod':'r', 'defaultvalue':'0'},
<a name="l166"><span class="linenum"> 166</span></a>              'cmi.comments_from_lms.n.comment':{'format':CMILangString4000, 'mod':'r'},
<a name="l167"><span class="linenum"> 167</span></a>              'cmi.comments_from_lms.n.location':{'format':CMIString250, 'mod':'r'},
<a name="l168"><span class="linenum"> 168</span></a>              'cmi.comments_from_lms.n.timestamp':{'format':CMITime, 'mod':'r'},
<a name="l169"><span class="linenum"> 169</span></a>              'cmi.completion_status':{'defaultvalue':def[scoid]['cmi.completion_status'], 'format':CMICStatus, 'mod':'rw'},
<a name="l170"><span class="linenum"> 170</span></a>              'cmi.completion_threshold':{'defaultvalue':def[scoid]['cmi.completion_threshold'], 'mod':'r'},
<a name="l171"><span class="linenum"> 171</span></a>              'cmi.credit':{'defaultvalue':def[scoid]['cmi.credit'], 'mod':'r'},
<a name="l172"><span class="linenum"> 172</span></a>              'cmi.entry':{'defaultvalue':def[scoid]['cmi.entry'], 'mod':'r'},
<a name="l173"><span class="linenum"> 173</span></a>              'cmi.exit':{'defaultvalue':def[scoid]['cmi.exit'], 'format':CMIExit, 'mod':'w'},
<a name="l174"><span class="linenum"> 174</span></a>              'cmi.interactions._children':{'defaultvalue':interactions_children, 'mod':'r'},
<a name="l175"><span class="linenum"> 175</span></a>              'cmi.interactions._count':{'mod':'r', 'defaultvalue':'0'},
<a name="l176"><span class="linenum"> 176</span></a>              'cmi.interactions.n.id':{'pattern':CMIIndex, 'format':CMILongIdentifier, 'mod':'rw'},
<a name="l177"><span class="linenum"> 177</span></a>              'cmi.interactions.n.type':{'pattern':CMIIndex, 'format':CMIType, 'mod':'rw'},
<a name="l178"><span class="linenum"> 178</span></a>              'cmi.interactions.n.objectives._count':{'pattern':CMIIndex, 'mod':'r', 'defaultvalue':'0'},
<a name="l179"><span class="linenum"> 179</span></a>              'cmi.interactions.n.objectives.n.id':{'pattern':CMIIndex, 'format':CMILongIdentifier, 'mod':'rw'},
<a name="l180"><span class="linenum"> 180</span></a>              'cmi.interactions.n.timestamp':{'pattern':CMIIndex, 'format':CMITime, 'mod':'rw'},
<a name="l181"><span class="linenum"> 181</span></a>              'cmi.interactions.n.correct_responses._count':{'defaultvalue':'0', 'pattern':CMIIndex, 'mod':'r'},
<a name="l182"><span class="linenum"> 182</span></a>              'cmi.interactions.n.correct_responses.n.pattern':{'pattern':CMIIndex, 'format':'CMIFeedback', 'mod':'rw'},
<a name="l183"><span class="linenum"> 183</span></a>              'cmi.interactions.n.weighting':{'pattern':CMIIndex, 'format':CMIDecimal, 'mod':'rw'},
<a name="l184"><span class="linenum"> 184</span></a>              'cmi.interactions.n.learner_response':{'pattern':CMIIndex, 'format':'CMIFeedback', 'mod':'rw'},
<a name="l185"><span class="linenum"> 185</span></a>              'cmi.interactions.n.result':{'pattern':CMIIndex, 'format':CMIResult, 'mod':'rw'},
<a name="l186"><span class="linenum"> 186</span></a>              'cmi.interactions.n.latency':{'pattern':CMIIndex, 'format':CMITimespan, 'mod':'rw'},
<a name="l187"><span class="linenum"> 187</span></a>              'cmi.interactions.n.description':{'pattern':CMIIndex, 'format':CMILangString250, 'mod':'rw'},
<a name="l188"><span class="linenum"> 188</span></a>              'cmi.launch_data':{'defaultvalue':def[scoid]['cmi.exit'], 'mod':'r'},
<a name="l189"><span class="linenum"> 189</span></a>              'cmi.learner_id':{'defaultvalue':def[scoid]['cmi.learner_id'], 'mod':'r'},
<a name="l190"><span class="linenum"> 190</span></a>              'cmi.learner_name':{'defaultvalue':def[scoid]['cmi.learner_name'], 'mod':'r'},
<a name="l191"><span class="linenum"> 191</span></a>              'cmi.learner_preference._children':{'defaultvalue':student_preference_children, 'mod':'r'},
<a name="l192"><span class="linenum"> 192</span></a>              'cmi.learner_preference.audio_level':{'defaultvalue':def[scoid]['cmi.learner_preference.audio_level'], 'format':CMIDecimal, 'range':audio_range, 'mod':'rw'},
<a name="l193"><span class="linenum"> 193</span></a>              'cmi.learner_preference.language':{'defaultvalue':def[scoid]['cmi.learner_preference.language'], 'format':CMILang, 'mod':'rw'},
<a name="l194"><span class="linenum"> 194</span></a>              'cmi.learner_preference.delivery_speed':{'defaultvalue':def[scoid]['cmi.learner_preference.delivery_speed'], 'format':CMIDecimal, 'range':speed_range, 'mod':'rw'},
<a name="l195"><span class="linenum"> 195</span></a>              'cmi.learner_preference.audio_captioning':{'defaultvalue':def[scoid]['cmi.learner_preference.audio_captioning'], 'format':CMISInteger, 'range':text_range, 'mod':'rw'},
<a name="l196"><span class="linenum"> 196</span></a>              'cmi.location':{'defaultvalue':def[scoid]['cmi.location'], 'format':CMIString1000, 'mod':'rw'},
<a name="l197"><span class="linenum"> 197</span></a>              'cmi.max_time_allowed':{'defaultvalue':def[scoid]['cmi.max_time_allowed'], 'mod':'r'},
<a name="l198"><span class="linenum"> 198</span></a>              'cmi.mode':{'defaultvalue':def[scoid]['cmi.mode'], 'mod':'r'},
<a name="l199"><span class="linenum"> 199</span></a>              'cmi.objectives._children':{'defaultvalue':objectives_children, 'mod':'r'},
<a name="l200"><span class="linenum"> 200</span></a>              'cmi.objectives._count':{'mod':'r', 'defaultvalue':'0'},
<a name="l201"><span class="linenum"> 201</span></a>              'cmi.objectives.n.id':{'pattern':CMIIndex, 'format':CMILongIdentifier, 'mod':'rw'},
<a name="l202"><span class="linenum"> 202</span></a>              'cmi.objectives.n.score._children':{'defaultvalue':score_children, 'pattern':CMIIndex, 'mod':'r'},
<a name="l203"><span class="linenum"> 203</span></a>              'cmi.objectives.n.score.scaled':{'defaultvalue':null, 'pattern':CMIIndex, 'format':CMIDecimal, 'range':scaled_range, 'mod':'rw'},
<a name="l204"><span class="linenum"> 204</span></a>              'cmi.objectives.n.score.raw':{'defaultvalue':null, 'pattern':CMIIndex, 'format':CMIDecimal, 'mod':'rw'},
<a name="l205"><span class="linenum"> 205</span></a>              'cmi.objectives.n.score.min':{'defaultvalue':null, 'pattern':CMIIndex, 'format':CMIDecimal, 'mod':'rw'},
<a name="l206"><span class="linenum"> 206</span></a>              'cmi.objectives.n.score.max':{'defaultvalue':null, 'pattern':CMIIndex, 'format':CMIDecimal, 'mod':'rw'},
<a name="l207"><span class="linenum"> 207</span></a>              'cmi.objectives.n.success_status':{'defaultvalue':'unknown', 'pattern':CMIIndex, 'format':CMISStatus, 'mod':'rw'},
<a name="l208"><span class="linenum"> 208</span></a>              'cmi.objectives.n.completion_status':{'defaultvalue':'unknown', 'pattern':CMIIndex, 'format':CMICStatus, 'mod':'rw'},
<a name="l209"><span class="linenum"> 209</span></a>              'cmi.objectives.n.progress_measure':{'defaultvalue':null, 'format':CMIDecimal, 'range':progress_range, 'mod':'rw'},
<a name="l210"><span class="linenum"> 210</span></a>              'cmi.objectives.n.description':{'pattern':CMIIndex, 'format':CMILangString250, 'mod':'rw'},
<a name="l211"><span class="linenum"> 211</span></a>              'cmi.progress_measure':{'defaultvalue':def[scoid]['cmi.progress_measure'], 'format':CMIDecimal, 'range':progress_range, 'mod':'rw'},
<a name="l212"><span class="linenum"> 212</span></a>              'cmi.scaled_passing_score':{'defaultvalue':def[scoid]['cmi.scaled_passing_score'], 'format':CMIDecimal, 'range':scaled_range, 'mod':'r'},
<a name="l213"><span class="linenum"> 213</span></a>              'cmi.score._children':{'defaultvalue':score_children, 'mod':'r'},
<a name="l214"><span class="linenum"> 214</span></a>              'cmi.score.scaled':{'defaultvalue':def[scoid]['cmi.score.scaled'], 'format':CMIDecimal, 'range':scaled_range, 'mod':'rw'},
<a name="l215"><span class="linenum"> 215</span></a>              'cmi.score.raw':{'defaultvalue':def[scoid]['cmi.score.raw'], 'format':CMIDecimal, 'mod':'rw'},
<a name="l216"><span class="linenum"> 216</span></a>              'cmi.score.min':{'defaultvalue':def[scoid]['cmi.score.min'], 'format':CMIDecimal, 'mod':'rw'},
<a name="l217"><span class="linenum"> 217</span></a>              'cmi.score.max':{'defaultvalue':def[scoid]['cmi.score.max'], 'format':CMIDecimal, 'mod':'rw'},
<a name="l218"><span class="linenum"> 218</span></a>              'cmi.session_time':{'format':CMITimespan, 'mod':'w', 'defaultvalue':'PT0H0M0S'},
<a name="l219"><span class="linenum"> 219</span></a>              'cmi.success_status':{'defaultvalue':def[scoid]['cmi.success_status'], 'format':CMISStatus, 'mod':'rw'},
<a name="l220"><span class="linenum"> 220</span></a>              'cmi.suspend_data':{'defaultvalue':def[scoid]['cmi.suspend_data'], 'format':CMIString64000, 'mod':'rw'},
<a name="l221"><span class="linenum"> 221</span></a>              'cmi.time_limit_action':{'defaultvalue':def[scoid]['cmi.time_limit_action'], 'mod':'r'},
<a name="l222"><span class="linenum"> 222</span></a>              'cmi.total_time':{'defaultvalue':def[scoid]['cmi.total_time'], 'mod':'r'},
<a name="l223"><span class="linenum"> 223</span></a>              'adl.nav.request':{'defaultvalue':'_none_', 'format':NAVEvent, 'mod':'rw'}
<a name="l224"><span class="linenum"> 224</span></a>          };
<a name="l225"><span class="linenum"> 225</span></a>      }
<a name="l226"><span class="linenum"> 226</span></a>  
<a name="l227"><span class="linenum"> 227</span></a>      var cmi, adl;
<a name="l228"><span class="linenum"> 228</span></a>      function <a class="function" onClick="logFunction('initdatamodel')" href="../../../_functions/initdatamodel.html" onMouseOver="funcPopup(event,'initdatamodel')">initdatamodel</a>(scoid){
<a name="l229"><span class="linenum"> 229</span></a>  
<a name="l230"><span class="linenum"> 230</span></a>          prerequrl = cfgwwwroot + &quot;/mod/scorm/prereqs.php?a=&quot; + scormid + &quot;&amp;scoid=&quot; + scoid + &quot;&amp;attempt=&quot; + attempt + &quot;&amp;mode=&quot; + viewmode + &quot;&amp;currentorg=&quot; + currentorg + &quot;&amp;sesskey=&quot; + sesskey;
<a name="l231"><span class="linenum"> 231</span></a>          datamodelurlparams = &quot;id=&quot; + cmid + &quot;&amp;a=&quot; + scormid + &quot;&amp;sesskey=&quot; + sesskey + &quot;&amp;attempt=&quot; + attempt + &quot;&amp;scoid=&quot; + scoid;
<a name="l232"><span class="linenum"> 232</span></a>  
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment">        //</span>
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment">        // Datamodel inizialization</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">        //</span>
<a name="l236"><span class="linenum"> 236</span></a>          cmi = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();
<a name="l237"><span class="linenum"> 237</span></a>              cmi.comments_from_learner = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();
<a name="l238"><span class="linenum"> 238</span></a>              cmi.comments_from_learner._count = 0;
<a name="l239"><span class="linenum"> 239</span></a>              cmi.comments_from_lms = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();
<a name="l240"><span class="linenum"> 240</span></a>              cmi.comments_from_lms._count = 0;
<a name="l241"><span class="linenum"> 241</span></a>              cmi.interactions = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();
<a name="l242"><span class="linenum"> 242</span></a>              cmi.interactions._count = 0;
<a name="l243"><span class="linenum"> 243</span></a>              cmi.learner_preference = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();
<a name="l244"><span class="linenum"> 244</span></a>              cmi.objectives = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();
<a name="l245"><span class="linenum"> 245</span></a>              cmi.objectives._count = 0;
<a name="l246"><span class="linenum"> 246</span></a>              cmi.score = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();
<a name="l247"><span class="linenum"> 247</span></a>  
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment">        // Navigation Object</span>
<a name="l249"><span class="linenum"> 249</span></a>          adl = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();
<a name="l250"><span class="linenum"> 250</span></a>              adl.nav = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();
<a name="l251"><span class="linenum"> 251</span></a>              adl.nav.request_valid = new Array();
<a name="l252"><span class="linenum"> 252</span></a>  
<a name="l253"><span class="linenum"> 253</span></a>          for (element in datamodel[scoid]) {
<a name="l254"><span class="linenum"> 254</span></a>              if (element.<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(/\.n\./) == null) {
<a name="l255"><span class="linenum"> 255</span></a>                  if ((typeof eval('datamodel[&quot;' + scoid + '&quot;][&quot;' + element + '&quot;].defaultvalue')) != 'undefined') {
<a name="l256"><span class="linenum"> 256</span></a>                      eval(element + ' = datamodel[&quot;' + scoid + '&quot;][&quot;' + element + '&quot;].defaultvalue;');
<a name="l257"><span class="linenum"> 257</span></a>                  } else {
<a name="l258"><span class="linenum"> 258</span></a>                      eval(element + ' = &quot;&quot;;');
<a name="l259"><span class="linenum"> 259</span></a>                  }
<a name="l260"><span class="linenum"> 260</span></a>              }
<a name="l261"><span class="linenum"> 261</span></a>          }
<a name="l262"><span class="linenum"> 262</span></a>  
<a name="l263"><span class="linenum"> 263</span></a>          eval(cmiobj[scoid]);
<a name="l264"><span class="linenum"> 264</span></a>          eval(cmiint[scoid]);
<a name="l265"><span class="linenum"> 265</span></a>          eval(cmicommentsuser[scoid]);
<a name="l266"><span class="linenum"> 266</span></a>          eval(cmicommentslms[scoid]);
<a name="l267"><span class="linenum"> 267</span></a>  
<a name="l268"><span class="linenum"> 268</span></a>          if (cmi.completion_status == '') {
<a name="l269"><span class="linenum"> 269</span></a>              cmi.completion_status = 'not attempted';
<a name="l270"><span class="linenum"> 270</span></a>          }
<a name="l271"><span class="linenum"> 271</span></a>      }
<a name="l272"><span class="linenum"> 272</span></a>  
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment">    //</span>
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment">    // API Methods definition</span>
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment">    //</span>
<a name="l276"><span class="linenum"> 276</span></a>      var Initialized = false;
<a name="l277"><span class="linenum"> 277</span></a>      var Terminated = false;
<a name="l278"><span class="linenum"> 278</span></a>      var diagnostic = &quot;&quot;;
<a name="l279"><span class="linenum"> 279</span></a>      var errorCode = &quot;0&quot;;
<a name="l280"><span class="linenum"> 280</span></a>  
<a name="l281"><span class="linenum"> 281</span></a>      function <a class="function" onClick="logFunction('Initialize')" href="../../../_functions/initialize.html" onMouseOver="funcPopup(event,'initialize')">Initialize</a> (param) {
<a name="l282"><span class="linenum"> 282</span></a>          scoid = scorm_current_node ? scorm_current_node.scoid : scoid;
<a name="l283"><span class="linenum"> 283</span></a>          <a class="function" onClick="logFunction('initdatamodel')" href="../../../_functions/initdatamodel.html" onMouseOver="funcPopup(event,'initdatamodel')">initdatamodel</a>(scoid);
<a name="l284"><span class="linenum"> 284</span></a>  
<a name="l285"><span class="linenum"> 285</span></a>          errorCode = &quot;0&quot;;
<a name="l286"><span class="linenum"> 286</span></a>          if (param == &quot;&quot;) {
<a name="l287"><span class="linenum"> 287</span></a>              if ((!Initialized) &amp;&amp; (!Terminated)) {
<a name="l288"><span class="linenum"> 288</span></a>                  Initialized = true;
<a name="l289"><span class="linenum"> 289</span></a>                  errorCode = &quot;0&quot;;
<a name="l290"><span class="linenum"> 290</span></a>                  if (scormdebugging) {
<a name="l291"><span class="linenum"> 291</span></a>                      LogAPICall(&quot;Initialize&quot;, param, &quot;&quot;, errorCode);
<a name="l292"><span class="linenum"> 292</span></a>                  }
<a name="l293"><span class="linenum"> 293</span></a>                  return &quot;true&quot;;
<a name="l294"><span class="linenum"> 294</span></a>              } else {
<a name="l295"><span class="linenum"> 295</span></a>                  if (Initialized) {
<a name="l296"><span class="linenum"> 296</span></a>                      errorCode = &quot;103&quot;;
<a name="l297"><span class="linenum"> 297</span></a>                  } else {
<a name="l298"><span class="linenum"> 298</span></a>                      errorCode = &quot;104&quot;;
<a name="l299"><span class="linenum"> 299</span></a>                  }
<a name="l300"><span class="linenum"> 300</span></a>              }
<a name="l301"><span class="linenum"> 301</span></a>          } else {
<a name="l302"><span class="linenum"> 302</span></a>              errorCode = &quot;201&quot;;
<a name="l303"><span class="linenum"> 303</span></a>          }
<a name="l304"><span class="linenum"> 304</span></a>          if (scormdebugging) {
<a name="l305"><span class="linenum"> 305</span></a>              LogAPICall(&quot;Initialize&quot;, param, &quot;&quot;, errorCode);
<a name="l306"><span class="linenum"> 306</span></a>          }
<a name="l307"><span class="linenum"> 307</span></a>          return &quot;false&quot;;
<a name="l308"><span class="linenum"> 308</span></a>      }
<a name="l309"><span class="linenum"> 309</span></a>  
<a name="l310"><span class="linenum"> 310</span></a>      function <a class="function" onClick="logFunction('Terminate')" href="../../../_functions/terminate.html" onMouseOver="funcPopup(event,'terminate')">Terminate</a> (param) {
<a name="l311"><span class="linenum"> 311</span></a>          errorCode = &quot;0&quot;;
<a name="l312"><span class="linenum"> 312</span></a>          if (param == &quot;&quot;) {
<a name="l313"><span class="linenum"> 313</span></a>              if ((Initialized) &amp;&amp; (!Terminated)) {
<a name="l314"><span class="linenum"> 314</span></a>                  var AJAXResult = <a class="function" onClick="logFunction('StoreData')" href="../../../_functions/storedata.html" onMouseOver="funcPopup(event,'storedata')">StoreData</a>(cmi,true);
<a name="l315"><span class="linenum"> 315</span></a>                  if (scormdebugging) {
<a name="l316"><span class="linenum"> 316</span></a>                      LogAPICall(&quot;Terminate&quot;, &quot;AJAXResult&quot;, AJAXResult, 0);
<a name="l317"><span class="linenum"> 317</span></a>                  }
<a name="l318"><span class="linenum"> 318</span></a>                  result = ('true' == AJAXResult) ? 'true' : 'false';
<a name="l319"><span class="linenum"> 319</span></a>                  errorCode = ('true' == result) ? '0' : '101'; <span class="comment">// General exception for any AJAX fault.</span>
<a name="l320"><span class="linenum"> 320</span></a>                  if (scormdebugging) {
<a name="l321"><span class="linenum"> 321</span></a>                      LogAPICall(&quot;Terminate&quot;, &quot;result&quot;, result, errorCode);
<a name="l322"><span class="linenum"> 322</span></a>                  }
<a name="l323"><span class="linenum"> 323</span></a>                  if ('true' == result) {
<a name="l324"><span class="linenum"> 324</span></a>                      Initialized = false;
<a name="l325"><span class="linenum"> 325</span></a>                      Terminated = true;
<a name="l326"><span class="linenum"> 326</span></a>                      if (adl.nav.request != '_none_') {
<a name="l327"><span class="linenum"> 327</span></a>                          switch (adl.nav.request) {
<a name="l328"><span class="linenum"> 328</span></a>                              case 'continue':
<a name="l329"><span class="linenum"> 329</span></a>                                  <a class="function" onClick="logFunction('setTimeout')" href="../../../_functions/settimeout.html" onMouseOver="funcPopup(event,'settimeout')">setTimeout</a>('mod_scorm_launch_next_sco();',500);
<a name="l330"><span class="linenum"> 330</span></a>                              break;
<a name="l331"><span class="linenum"> 331</span></a>                              case 'previous':
<a name="l332"><span class="linenum"> 332</span></a>                                  <a class="function" onClick="logFunction('setTimeout')" href="../../../_functions/settimeout.html" onMouseOver="funcPopup(event,'settimeout')">setTimeout</a>('mod_scorm_launch_prev_sco();',500);
<a name="l333"><span class="linenum"> 333</span></a>                              break;
<a name="l334"><span class="linenum"> 334</span></a>                              case 'choice':
<a name="l335"><span class="linenum"> 335</span></a>                              break;
<a name="l336"><span class="linenum"> 336</span></a>                              case 'exit':
<a name="l337"><span class="linenum"> 337</span></a>                              break;
<a name="l338"><span class="linenum"> 338</span></a>                              case 'exitAll':
<a name="l339"><span class="linenum"> 339</span></a>                              break;
<a name="l340"><span class="linenum"> 340</span></a>                              case 'abandon':
<a name="l341"><span class="linenum"> 341</span></a>                              break;
<a name="l342"><span class="linenum"> 342</span></a>                              case 'abandonAll':
<a name="l343"><span class="linenum"> 343</span></a>                              break;
<a name="l344"><span class="linenum"> 344</span></a>                          }
<a name="l345"><span class="linenum"> 345</span></a>                      } else {
<a name="l346"><span class="linenum"> 346</span></a>                          if (scormauto == 1) {
<a name="l347"><span class="linenum"> 347</span></a>                              <a class="function" onClick="logFunction('setTimeout')" href="../../../_functions/settimeout.html" onMouseOver="funcPopup(event,'settimeout')">setTimeout</a>('mod_scorm_launch_next_sco();',500);
<a name="l348"><span class="linenum"> 348</span></a>                          }
<a name="l349"><span class="linenum"> 349</span></a>                      }
<a name="l350"><span class="linenum"> 350</span></a>  <span class="comment">                    // trigger TOC update</span>
<a name="l351"><span class="linenum"> 351</span></a>                      var callback = M.mod_scorm.connectPrereqCallback;
<a name="l352"><span class="linenum"> 352</span></a>                      YUI().use('io-base', function(Y) {
<a name="l353"><span class="linenum"> 353</span></a>                          Y.<a class="function" onClick="logFunction('on')" href="../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('io:complete', callback.success, Y);
<a name="l354"><span class="linenum"> 354</span></a>                          Y.<a class="function" onClick="logFunction('io')" href="../../../_functions/io.html" onMouseOver="funcPopup(event,'io')">io</a>(prerequrl);
<a name="l355"><span class="linenum"> 355</span></a>                      });
<a name="l356"><span class="linenum"> 356</span></a>                  } else {
<a name="l357"><span class="linenum"> 357</span></a>                      diagnostic = &quot;Failure calling the Terminate remote callback: the server replied with HTTP Status &quot; + AJAXResult;
<a name="l358"><span class="linenum"> 358</span></a>                  }
<a name="l359"><span class="linenum"> 359</span></a>                  return result;
<a name="l360"><span class="linenum"> 360</span></a>              } else {
<a name="l361"><span class="linenum"> 361</span></a>                  if (Terminated) {
<a name="l362"><span class="linenum"> 362</span></a>                      errorCode = &quot;113&quot;;
<a name="l363"><span class="linenum"> 363</span></a>                  } else {
<a name="l364"><span class="linenum"> 364</span></a>                      errorCode = &quot;112&quot;;
<a name="l365"><span class="linenum"> 365</span></a>                  }
<a name="l366"><span class="linenum"> 366</span></a>              }
<a name="l367"><span class="linenum"> 367</span></a>          } else {
<a name="l368"><span class="linenum"> 368</span></a>              errorCode = &quot;201&quot;;
<a name="l369"><span class="linenum"> 369</span></a>          }
<a name="l370"><span class="linenum"> 370</span></a>          if (scormdebugging) {
<a name="l371"><span class="linenum"> 371</span></a>              LogAPICall(&quot;Terminate&quot;, param, &quot;&quot;, errorCode);
<a name="l372"><span class="linenum"> 372</span></a>          }
<a name="l373"><span class="linenum"> 373</span></a>          return &quot;false&quot;;
<a name="l374"><span class="linenum"> 374</span></a>      }
<a name="l375"><span class="linenum"> 375</span></a>  
<a name="l376"><span class="linenum"> 376</span></a>      function <a class="function" onClick="logFunction('GetValue')" href="../../../_functions/getvalue.html" onMouseOver="funcPopup(event,'getvalue')">GetValue</a> (element) {
<a name="l377"><span class="linenum"> 377</span></a>          errorCode = &quot;0&quot;;
<a name="l378"><span class="linenum"> 378</span></a>          diagnostic = &quot;&quot;;
<a name="l379"><span class="linenum"> 379</span></a>          if ((Initialized) &amp;&amp; (!Terminated)) {
<a name="l380"><span class="linenum"> 380</span></a>              if (element != &quot;&quot;) {
<a name="l381"><span class="linenum"> 381</span></a>                  var expression = new RegExp(CMIIndex,'g');
<a name="l382"><span class="linenum"> 382</span></a>                  var elementmodel = String(element).<a class="function" onClick="logFunction('replace')" href="../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(expression,'.n.');
<a name="l383"><span class="linenum"> 383</span></a>                  if ((typeof eval('datamodel[&quot;' + scoid + '&quot;][&quot;' + elementmodel + '&quot;]')) != &quot;undefined&quot;) {
<a name="l384"><span class="linenum"> 384</span></a>                      if (eval('datamodel[&quot;' + scoid + '&quot;][&quot;' + elementmodel + '&quot;].mod') != 'w') {
<a name="l385"><span class="linenum"> 385</span></a>  
<a name="l386"><span class="linenum"> 386</span></a>                          element = String(element).<a class="function" onClick="logFunction('replace')" href="../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(/\.(\d+)\./, &quot;.N<a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../../_variables/1.html">$1</a>.&quot;);
<a name="l387"><span class="linenum"> 387</span></a>                          element = element.<a class="function" onClick="logFunction('replace')" href="../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(/\.(\d+)\./, &quot;.N<a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../../_variables/1.html">$1</a>.&quot;);
<a name="l388"><span class="linenum"> 388</span></a>  
<a name="l389"><span class="linenum"> 389</span></a>                          var elementIndexes = element.<a class="phpfunction" onClick="logFunction('split')" href="../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>('.');
<a name="l390"><span class="linenum"> 390</span></a>                          var subelement = element.<a class="phpfunction" onClick="logFunction('substr')" href="../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(0,3);
<a name="l391"><span class="linenum"> 391</span></a>                          var i = 1;
<a name="l392"><span class="linenum"> 392</span></a>                          while ((i &lt; elementIndexes.length) &amp;&amp; (typeof eval(subelement) != &quot;undefined&quot;)) {
<a name="l393"><span class="linenum"> 393</span></a>                              subelement += '.' + elementIndexes[i++];
<a name="l394"><span class="linenum"> 394</span></a>                          }
<a name="l395"><span class="linenum"> 395</span></a>  
<a name="l396"><span class="linenum"> 396</span></a>                          if (subelement == element) {
<a name="l397"><span class="linenum"> 397</span></a>  
<a name="l398"><span class="linenum"> 398</span></a>                              if ((typeof eval(subelement) != &quot;undefined&quot;) &amp;&amp; (eval(subelement) != null)) {
<a name="l399"><span class="linenum"> 399</span></a>                                  errorCode = &quot;0&quot;;
<a name="l400"><span class="linenum"> 400</span></a>                                  if (scormdebugging) {
<a name="l401"><span class="linenum"> 401</span></a>                                      LogAPICall(&quot;GetValue&quot;, element, eval(element), 0);
<a name="l402"><span class="linenum"> 402</span></a>                                  }
<a name="l403"><span class="linenum"> 403</span></a>                                  return eval(element);
<a name="l404"><span class="linenum"> 404</span></a>                              } else {
<a name="l405"><span class="linenum"> 405</span></a>                                  errorCode = &quot;403&quot;;
<a name="l406"><span class="linenum"> 406</span></a>                              }
<a name="l407"><span class="linenum"> 407</span></a>                          } else {
<a name="l408"><span class="linenum"> 408</span></a>                              errorCode = &quot;301&quot;;
<a name="l409"><span class="linenum"> 409</span></a>                          }
<a name="l410"><span class="linenum"> 410</span></a>                      } else {
<a name="l411"><span class="linenum"> 411</span></a>  <span class="comment">                        //errorCode = eval('datamodel[&quot;' + scoid + '&quot;][&quot;' + elementmodel + '&quot;].readerror');</span>
<a name="l412"><span class="linenum"> 412</span></a>                          errorCode = &quot;405&quot;;
<a name="l413"><span class="linenum"> 413</span></a>                      }
<a name="l414"><span class="linenum"> 414</span></a>                  } else {
<a name="l415"><span class="linenum"> 415</span></a>                      var childrenstr = '._children';
<a name="l416"><span class="linenum"> 416</span></a>                      var countstr = '._count';
<a name="l417"><span class="linenum"> 417</span></a>                      var parentmodel = '';
<a name="l418"><span class="linenum"> 418</span></a>                      if (elementmodel.<a class="phpfunction" onClick="logFunction('substr')" href="../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(elementmodel.length - childrenstr.length,elementmodel.length) == childrenstr) {
<a name="l419"><span class="linenum"> 419</span></a>                          parentmodel = elementmodel.<a class="phpfunction" onClick="logFunction('substr')" href="../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(0,elementmodel.length - childrenstr.length);
<a name="l420"><span class="linenum"> 420</span></a>                          if ((typeof eval('datamodel[&quot;' + scoid + '&quot;][&quot;' + parentmodel + '&quot;]')) != &quot;undefined&quot;) {
<a name="l421"><span class="linenum"> 421</span></a>                              errorCode = &quot;301&quot;;
<a name="l422"><span class="linenum"> 422</span></a>                              diagnostic = &quot;Data Model Element Does Not Have Children&quot;;
<a name="l423"><span class="linenum"> 423</span></a>                          } else {
<a name="l424"><span class="linenum"> 424</span></a>                              errorCode = &quot;401&quot;;
<a name="l425"><span class="linenum"> 425</span></a>                          }
<a name="l426"><span class="linenum"> 426</span></a>                      } else if (elementmodel.<a class="phpfunction" onClick="logFunction('substr')" href="../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(elementmodel.length - countstr.length,elementmodel.length) == countstr) {
<a name="l427"><span class="linenum"> 427</span></a>                          parentmodel = elementmodel.<a class="phpfunction" onClick="logFunction('substr')" href="../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(0,elementmodel.length - countstr.length);
<a name="l428"><span class="linenum"> 428</span></a>                          if ((typeof eval('datamodel[&quot;' + scoid + '&quot;][&quot;' + parentmodel + '&quot;]')) != &quot;undefined&quot;) {
<a name="l429"><span class="linenum"> 429</span></a>                              errorCode = &quot;301&quot;;
<a name="l430"><span class="linenum"> 430</span></a>                              diagnostic = &quot;Data Model Element Cannot Have Count&quot;;
<a name="l431"><span class="linenum"> 431</span></a>                          } else {
<a name="l432"><span class="linenum"> 432</span></a>                              errorCode = &quot;401&quot;;
<a name="l433"><span class="linenum"> 433</span></a>                          }
<a name="l434"><span class="linenum"> 434</span></a>                      } else {
<a name="l435"><span class="linenum"> 435</span></a>                          parentmodel = 'adl.nav.request_valid.';
<a name="l436"><span class="linenum"> 436</span></a>                          if (element.<a class="phpfunction" onClick="logFunction('substr')" href="../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(0,parentmodel.length) == parentmodel) {
<a name="l437"><span class="linenum"> 437</span></a>                              if (element.<a class="phpfunction" onClick="logFunction('substr')" href="../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(parentmodel.length).<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(NAVTarget) == null) {
<a name="l438"><span class="linenum"> 438</span></a>                                  errorCode = &quot;301&quot;;
<a name="l439"><span class="linenum"> 439</span></a>                              } else {
<a name="l440"><span class="linenum"> 440</span></a>                                  if (adl.nav.request == element.<a class="phpfunction" onClick="logFunction('substr')" href="../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(parentmodel.length)) {
<a name="l441"><span class="linenum"> 441</span></a>                                      return &quot;true&quot;;
<a name="l442"><span class="linenum"> 442</span></a>                                  } else if (adl.nav.request == '_none_') {
<a name="l443"><span class="linenum"> 443</span></a>                                      return &quot;unknown&quot;;
<a name="l444"><span class="linenum"> 444</span></a>                                  } else {
<a name="l445"><span class="linenum"> 445</span></a>                                      return &quot;false&quot;;
<a name="l446"><span class="linenum"> 446</span></a>                                  }
<a name="l447"><span class="linenum"> 447</span></a>                              }
<a name="l448"><span class="linenum"> 448</span></a>                          } else {
<a name="l449"><span class="linenum"> 449</span></a>                              errorCode = &quot;401&quot;;
<a name="l450"><span class="linenum"> 450</span></a>                          }
<a name="l451"><span class="linenum"> 451</span></a>                      }
<a name="l452"><span class="linenum"> 452</span></a>                  }
<a name="l453"><span class="linenum"> 453</span></a>              } else {
<a name="l454"><span class="linenum"> 454</span></a>                  errorCode = &quot;301&quot;;
<a name="l455"><span class="linenum"> 455</span></a>              }
<a name="l456"><span class="linenum"> 456</span></a>          } else {
<a name="l457"><span class="linenum"> 457</span></a>              if (Terminated) {
<a name="l458"><span class="linenum"> 458</span></a>                  errorCode = &quot;123&quot;;
<a name="l459"><span class="linenum"> 459</span></a>              } else {
<a name="l460"><span class="linenum"> 460</span></a>                  errorCode = &quot;122&quot;;
<a name="l461"><span class="linenum"> 461</span></a>              }
<a name="l462"><span class="linenum"> 462</span></a>          }
<a name="l463"><span class="linenum"> 463</span></a>          if (scormdebugging) {
<a name="l464"><span class="linenum"> 464</span></a>              LogAPICall(&quot;GetValue&quot;, element, &quot;&quot;, errorCode);
<a name="l465"><span class="linenum"> 465</span></a>          }
<a name="l466"><span class="linenum"> 466</span></a>          return &quot;&quot;;
<a name="l467"><span class="linenum"> 467</span></a>      }
<a name="l468"><span class="linenum"> 468</span></a>  
<a name="l469"><span class="linenum"> 469</span></a>      function <a class="function" onClick="logFunction('SetValue')" href="../../../_functions/setvalue.html" onMouseOver="funcPopup(event,'setvalue')">SetValue</a> (element,value) {
<a name="l470"><span class="linenum"> 470</span></a>          errorCode = &quot;0&quot;;
<a name="l471"><span class="linenum"> 471</span></a>          diagnostic = &quot;&quot;;
<a name="l472"><span class="linenum"> 472</span></a>          if ((Initialized) &amp;&amp; (!Terminated)) {
<a name="l473"><span class="linenum"> 473</span></a>              if (element != &quot;&quot;) {
<a name="l474"><span class="linenum"> 474</span></a>                  var expression = new RegExp(CMIIndex,'g');
<a name="l475"><span class="linenum"> 475</span></a>                  var elementmodel = String(element).<a class="function" onClick="logFunction('replace')" href="../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(expression,'.n.');
<a name="l476"><span class="linenum"> 476</span></a>                  if ((typeof eval('datamodel[&quot;' + scoid + '&quot;][&quot;' + elementmodel + '&quot;]')) != &quot;undefined&quot;) {
<a name="l477"><span class="linenum"> 477</span></a>                      if (eval('datamodel[&quot;' + scoid + '&quot;][&quot;' + elementmodel + '&quot;].mod') != 'r') {
<a name="l478"><span class="linenum"> 478</span></a>                          if (eval('datamodel[&quot;' + scoid + '&quot;][&quot;' + elementmodel + '&quot;].format') != 'CMIFeedback') {
<a name="l479"><span class="linenum"> 479</span></a>                              expression = new RegExp(eval('datamodel[&quot;' + scoid + '&quot;][&quot;' + elementmodel + '&quot;].format'));
<a name="l480"><span class="linenum"> 480</span></a>                          } else {
<a name="l481"><span class="linenum"> 481</span></a>  <span class="comment">                            // cmi.interactions.n.type depending format accept everything at this stage</span>
<a name="l482"><span class="linenum"> 482</span></a>                              expression = new RegExp(CMIFeedback);
<a name="l483"><span class="linenum"> 483</span></a>                          }
<a name="l484"><span class="linenum"> 484</span></a>                          value = value + '';
<a name="l485"><span class="linenum"> 485</span></a>                          var matches = value.<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(expression);
<a name="l486"><span class="linenum"> 486</span></a>                          if ((matches != null) &amp;&amp; ((matches.<a class="function" onClick="logFunction('join')" href="../../../_functions/join.html" onMouseOver="funcPopup(event,'join')">join</a>('').length &gt; 0) || (value.length == 0))) {
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment">                            // Value match dataelement format</span>
<a name="l488"><span class="linenum"> 488</span></a>  
<a name="l489"><span class="linenum"> 489</span></a>                              if (element != elementmodel) {
<a name="l490"><span class="linenum"> 490</span></a>  <span class="comment">                                //This is a dynamic datamodel element</span>
<a name="l491"><span class="linenum"> 491</span></a>  
<a name="l492"><span class="linenum"> 492</span></a>                                  var elementIndexes = element.<a class="phpfunction" onClick="logFunction('split')" href="../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>('.');
<a name="l493"><span class="linenum"> 493</span></a>                                  var subelement = 'cmi';
<a name="l494"><span class="linenum"> 494</span></a>                                  var parentelement = 'cmi';
<a name="l495"><span class="linenum"> 495</span></a>                                  for (var i = 1; (i &lt; elementIndexes.length - 1) &amp;&amp; (errorCode == &quot;0&quot;); i++) {
<a name="l496"><span class="linenum"> 496</span></a>                                      var elementIndex = elementIndexes[i];
<a name="l497"><span class="linenum"> 497</span></a>                                      if (elementIndexes[i + 1].<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(/^\d+$/)) {
<a name="l498"><span class="linenum"> 498</span></a>                                          if ((parseInt(elementIndexes[i + 1]) &gt; 0) &amp;&amp; (elementIndexes[i + 1].charAt(0) == 0)) {
<a name="l499"><span class="linenum"> 499</span></a>  <span class="comment">                                            // Index has a leading 0 (zero), this is not a number</span>
<a name="l500"><span class="linenum"> 500</span></a>                                              errorCode = &quot;351&quot;;
<a name="l501"><span class="linenum"> 501</span></a>                                          }
<a name="l502"><span class="linenum"> 502</span></a>                                          parentelement = subelement + '.' + elementIndex;
<a name="l503"><span class="linenum"> 503</span></a>                                          if ((typeof eval(parentelement) == &quot;undefined&quot;) || (typeof eval(parentelement + '._count') == &quot;undefined&quot;)) {
<a name="l504"><span class="linenum"> 504</span></a>                                              errorCode = &quot;408&quot;;
<a name="l505"><span class="linenum"> 505</span></a>                                          } else {
<a name="l506"><span class="linenum"> 506</span></a>                                              if (elementIndexes[i + 1] &gt; eval(parentelement + '._count')) {
<a name="l507"><span class="linenum"> 507</span></a>                                                  errorCode = &quot;351&quot;;
<a name="l508"><span class="linenum"> 508</span></a>                                                  diagnostic = &quot;Data Model Element Collection Set Out Of Order&quot;;
<a name="l509"><span class="linenum"> 509</span></a>                                              }
<a name="l510"><span class="linenum"> 510</span></a>                                              subelement = subelement.<a class="function" onClick="logFunction('concat')" href="../../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>('.' + elementIndex + '.N' + elementIndexes[i + 1]);
<a name="l511"><span class="linenum"> 511</span></a>                                              i++;
<a name="l512"><span class="linenum"> 512</span></a>  
<a name="l513"><span class="linenum"> 513</span></a>                                              if (((typeof eval(subelement)) == &quot;undefined&quot;) &amp;&amp; (i &lt; elementIndexes.length - 2)) {
<a name="l514"><span class="linenum"> 514</span></a>                                                  errorCode = &quot;408&quot;;
<a name="l515"><span class="linenum"> 515</span></a>                                              }
<a name="l516"><span class="linenum"> 516</span></a>                                          }
<a name="l517"><span class="linenum"> 517</span></a>                                      } else {
<a name="l518"><span class="linenum"> 518</span></a>                                          subelement = subelement.<a class="function" onClick="logFunction('concat')" href="../../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>('.' + elementIndex);
<a name="l519"><span class="linenum"> 519</span></a>                                      }
<a name="l520"><span class="linenum"> 520</span></a>                                  }
<a name="l521"><span class="linenum"> 521</span></a>  
<a name="l522"><span class="linenum"> 522</span></a>                                  if (errorCode == &quot;0&quot;) {
<a name="l523"><span class="linenum"> 523</span></a>  <span class="comment">                                    // Till now it's a real datamodel element</span>
<a name="l524"><span class="linenum"> 524</span></a>  
<a name="l525"><span class="linenum"> 525</span></a>                                      element = subelement.<a class="function" onClick="logFunction('concat')" href="../../../_functions/concat.html" onMouseOver="funcPopup(event,'concat')">concat</a>('.' + elementIndexes[elementIndexes.length - 1]);
<a name="l526"><span class="linenum"> 526</span></a>  
<a name="l527"><span class="linenum"> 527</span></a>                                      if ((typeof eval(subelement)) == &quot;undefined&quot;) {
<a name="l528"><span class="linenum"> 528</span></a>                                          switch (elementmodel) {
<a name="l529"><span class="linenum"> 529</span></a>                                              case 'cmi.objectives.n.id':
<a name="l530"><span class="linenum"> 530</span></a>                                                  if (!<a class="function" onClick="logFunction('duplicatedID')" href="../../../_functions/duplicatedid.html" onMouseOver="funcPopup(event,'duplicatedid')">duplicatedID</a>(element,parentelement,value)) {
<a name="l531"><span class="linenum"> 531</span></a>                                                      if (elementIndexes[elementIndexes.length - 2] == eval(parentelement + '._count')) {
<a name="l532"><span class="linenum"> 532</span></a>                                                          eval(parentelement + '._count++;');
<a name="l533"><span class="linenum"> 533</span></a>                                                          eval(subelement + ' = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();');
<a name="l534"><span class="linenum"> 534</span></a>                                                          var subobject = eval(subelement);
<a name="l535"><span class="linenum"> 535</span></a>                                                          subobject.success_status = datamodel[scoid][&quot;cmi.objectives.n.success_status&quot;].defaultvalue;
<a name="l536"><span class="linenum"> 536</span></a>                                                          subobject.completion_status = datamodel[scoid][&quot;cmi.objectives.n.completion_status&quot;].defaultvalue;
<a name="l537"><span class="linenum"> 537</span></a>                                                          subobject.progress_measure = datamodel[scoid][&quot;cmi.objectives.n.progress_measure&quot;].defaultvalue;
<a name="l538"><span class="linenum"> 538</span></a>                                                          subobject.score = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();
<a name="l539"><span class="linenum"> 539</span></a>                                                          subobject.score._children = score_children;
<a name="l540"><span class="linenum"> 540</span></a>                                                          subobject.score.scaled = datamodel[scoid][&quot;cmi.objectives.n.score.scaled&quot;].defaultvalue;
<a name="l541"><span class="linenum"> 541</span></a>                                                          subobject.score.raw = datamodel[scoid][&quot;cmi.objectives.n.score.raw&quot;].defaultvalue;
<a name="l542"><span class="linenum"> 542</span></a>                                                          subobject.score.min = datamodel[scoid][&quot;cmi.objectives.n.score.min&quot;].defaultvalue;
<a name="l543"><span class="linenum"> 543</span></a>                                                          subobject.score.max = datamodel[scoid][&quot;cmi.objectives.n.score.max&quot;].defaultvalue;
<a name="l544"><span class="linenum"> 544</span></a>                                                      }
<a name="l545"><span class="linenum"> 545</span></a>                                                  } else {
<a name="l546"><span class="linenum"> 546</span></a>                                                      errorCode = &quot;351&quot;;
<a name="l547"><span class="linenum"> 547</span></a>                                                      diagnostic = &quot;Data Model Element ID Already Exists&quot;;
<a name="l548"><span class="linenum"> 548</span></a>                                                  }
<a name="l549"><span class="linenum"> 549</span></a>                                              break;
<a name="l550"><span class="linenum"> 550</span></a>                                              case 'cmi.interactions.n.id':
<a name="l551"><span class="linenum"> 551</span></a>                                                  if (elementIndexes[elementIndexes.length - 2] == eval(parentelement + '._count')) {
<a name="l552"><span class="linenum"> 552</span></a>                                                      eval(parentelement + '._count++;');
<a name="l553"><span class="linenum"> 553</span></a>                                                      eval(subelement + ' = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();');
<a name="l554"><span class="linenum"> 554</span></a>                                                      var subobject = eval(subelement);
<a name="l555"><span class="linenum"> 555</span></a>                                                      subobject.objectives = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();
<a name="l556"><span class="linenum"> 556</span></a>                                                      subobject.objectives._count = 0;
<a name="l557"><span class="linenum"> 557</span></a>                                                  }
<a name="l558"><span class="linenum"> 558</span></a>                                              break;
<a name="l559"><span class="linenum"> 559</span></a>                                              case 'cmi.interactions.n.objectives.n.id':
<a name="l560"><span class="linenum"> 560</span></a>                                                  if (typeof eval(parentelement) != &quot;undefined&quot;) {
<a name="l561"><span class="linenum"> 561</span></a>                                                      if (!<a class="function" onClick="logFunction('duplicatedID')" href="../../../_functions/duplicatedid.html" onMouseOver="funcPopup(event,'duplicatedid')">duplicatedID</a>(element,parentelement,value)) {
<a name="l562"><span class="linenum"> 562</span></a>                                                          if (elementIndexes[elementIndexes.length - 2] == eval(parentelement + '._count')) {
<a name="l563"><span class="linenum"> 563</span></a>                                                              eval(parentelement + '._count++;');
<a name="l564"><span class="linenum"> 564</span></a>                                                              eval(subelement + ' = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();');
<a name="l565"><span class="linenum"> 565</span></a>                                                          }
<a name="l566"><span class="linenum"> 566</span></a>                                                      } else {
<a name="l567"><span class="linenum"> 567</span></a>                                                          errorCode = &quot;351&quot;;
<a name="l568"><span class="linenum"> 568</span></a>                                                          diagnostic = &quot;Data Model Element ID Already Exists&quot;;
<a name="l569"><span class="linenum"> 569</span></a>                                                      }
<a name="l570"><span class="linenum"> 570</span></a>                                                  } else {
<a name="l571"><span class="linenum"> 571</span></a>                                                      errorCode = &quot;408&quot;;
<a name="l572"><span class="linenum"> 572</span></a>                                                  }
<a name="l573"><span class="linenum"> 573</span></a>                                              break;
<a name="l574"><span class="linenum"> 574</span></a>                                              case 'cmi.interactions.n.correct_responses.n.pattern':
<a name="l575"><span class="linenum"> 575</span></a>                                                  if (typeof eval(parentelement) != &quot;undefined&quot;) {
<a name="l576"><span class="linenum"> 576</span></a>  <span class="comment">                                                    // Use cmi.interactions.n.type value to check the right dataelement format</span>
<a name="l577"><span class="linenum"> 577</span></a>                                                      if (elementIndexes[elementIndexes.length - 2] == eval(parentelement + '._count')) {
<a name="l578"><span class="linenum"> 578</span></a>                                                          var interactiontype = eval(String(parentelement).<a class="function" onClick="logFunction('replace')" href="../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>('correct_responses','type'));
<a name="l579"><span class="linenum"> 579</span></a>                                                          var interactioncount = eval(parentelement + '._count');
<a name="l580"><span class="linenum"> 580</span></a>  <span class="comment">                                                        // trap duplicate values, which is not allowed for type choice</span>
<a name="l581"><span class="linenum"> 581</span></a>                                                          if (interactiontype == 'choice') {
<a name="l582"><span class="linenum"> 582</span></a>                                                              for (var i = 0; (i &lt; interactioncount) &amp;&amp; (errorCode == &quot;0&quot;); i++) {
<a name="l583"><span class="linenum"> 583</span></a>                                                                 if (eval(parentelement + '.N' + i + '.pattern') == value) {
<a name="l584"><span class="linenum"> 584</span></a>                                                                     errorCode = &quot;351&quot;;
<a name="l585"><span class="linenum"> 585</span></a>                                                                 }
<a name="l586"><span class="linenum"> 586</span></a>                                                              }
<a name="l587"><span class="linenum"> 587</span></a>                                                          }
<a name="l588"><span class="linenum"> 588</span></a>                                                          if ((typeof correct_responses[interactiontype].limit == 'undefined') ||
<a name="l589"><span class="linenum"> 589</span></a>                                                              (eval(parentelement + '._count') &lt; correct_responses[interactiontype].limit)) {
<a name="l590"><span class="linenum"> 590</span></a>                                                              var nodes = new Array();
<a name="l591"><span class="linenum"> 591</span></a>                                                              if (correct_responses[interactiontype].delimiter != '') {
<a name="l592"><span class="linenum"> 592</span></a>                                                                  nodes = value.<a class="phpfunction" onClick="logFunction('split')" href="../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>(correct_responses[interactiontype].delimiter);
<a name="l593"><span class="linenum"> 593</span></a>                                                              } else {
<a name="l594"><span class="linenum"> 594</span></a>                                                                  nodes[0] = value;
<a name="l595"><span class="linenum"> 595</span></a>                                                              }
<a name="l596"><span class="linenum"> 596</span></a>                                                              if ((nodes.length &gt; 0) &amp;&amp; (nodes.length &lt;= correct_responses[interactiontype].max)) {
<a name="l597"><span class="linenum"> 597</span></a>                                                                  errorCode = <a class="function" onClick="logFunction('CRcheckValueNodes')" href="../../../_functions/crcheckvaluenodes.html" onMouseOver="funcPopup(event,'crcheckvaluenodes')">CRcheckValueNodes</a> (element, interactiontype, nodes, value, errorCode);
<a name="l598"><span class="linenum"> 598</span></a>                                                              } else if (nodes.length &gt; correct_responses[interactiontype].max) {
<a name="l599"><span class="linenum"> 599</span></a>                                                                  errorCode = &quot;351&quot;;
<a name="l600"><span class="linenum"> 600</span></a>                                                                  diagnostic = &quot;Data Model Element Pattern Too Long&quot;;
<a name="l601"><span class="linenum"> 601</span></a>                                                              }
<a name="l602"><span class="linenum"> 602</span></a>                                                              if ((errorCode == &quot;0&quot;) &amp;&amp; ((correct_responses[interactiontype].duplicate == false) ||
<a name="l603"><span class="linenum"> 603</span></a>                                                                 (!<a class="function" onClick="logFunction('duplicatedPA')" href="../../../_functions/duplicatedpa.html" onMouseOver="funcPopup(event,'duplicatedpa')">duplicatedPA</a>(element,parentelement,value))) || (errorCode == &quot;0&quot; &amp;&amp; value == &quot;&quot;)) {
<a name="l604"><span class="linenum"> 604</span></a>                                                                 eval(parentelement + '._count++;');
<a name="l605"><span class="linenum"> 605</span></a>                                                                 eval(subelement + ' = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();');
<a name="l606"><span class="linenum"> 606</span></a>                                                              } else {
<a name="l607"><span class="linenum"> 607</span></a>                                                                  if (errorCode == &quot;0&quot;) {
<a name="l608"><span class="linenum"> 608</span></a>                                                                      errorCode = &quot;351&quot;;
<a name="l609"><span class="linenum"> 609</span></a>                                                                      diagnostic = &quot;Data Model Element Pattern Already Exists&quot;;
<a name="l610"><span class="linenum"> 610</span></a>                                                                  }
<a name="l611"><span class="linenum"> 611</span></a>                                                              }
<a name="l612"><span class="linenum"> 612</span></a>                                                          } else {
<a name="l613"><span class="linenum"> 613</span></a>                                                              errorCode = &quot;351&quot;;
<a name="l614"><span class="linenum"> 614</span></a>                                                              diagnostic = &quot;Data Model Element Collection Limit Reached&quot;;
<a name="l615"><span class="linenum"> 615</span></a>                                                          }
<a name="l616"><span class="linenum"> 616</span></a>                                                      } else {
<a name="l617"><span class="linenum"> 617</span></a>                                                          errorCode = &quot;351&quot;;
<a name="l618"><span class="linenum"> 618</span></a>                                                          diagnostic = &quot;Data Model Element Collection Set Out Of Order&quot;;
<a name="l619"><span class="linenum"> 619</span></a>                                                      }
<a name="l620"><span class="linenum"> 620</span></a>                                                  } else {
<a name="l621"><span class="linenum"> 621</span></a>                                                      errorCode = &quot;408&quot;;
<a name="l622"><span class="linenum"> 622</span></a>                                                  }
<a name="l623"><span class="linenum"> 623</span></a>                                              break;
<a name="l624"><span class="linenum"> 624</span></a>                                              default:
<a name="l625"><span class="linenum"> 625</span></a>                                                  if ((parentelement != 'cmi.objectives') &amp;&amp; (parentelement != 'cmi.interactions') &amp;&amp; (typeof eval(parentelement) != &quot;undefined&quot;)) {
<a name="l626"><span class="linenum"> 626</span></a>                                                      if (elementIndexes[elementIndexes.length - 2] == eval(parentelement + '._count')) {
<a name="l627"><span class="linenum"> 627</span></a>                                                          eval(parentelement + '._count++;');
<a name="l628"><span class="linenum"> 628</span></a>                                                          eval(subelement + ' = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();');
<a name="l629"><span class="linenum"> 629</span></a>                                                      } else {
<a name="l630"><span class="linenum"> 630</span></a>                                                          errorCode = &quot;351&quot;;
<a name="l631"><span class="linenum"> 631</span></a>                                                          diagnostic = &quot;Data Model Element Collection Set Out Of Order&quot;;
<a name="l632"><span class="linenum"> 632</span></a>                                                      }
<a name="l633"><span class="linenum"> 633</span></a>                                                  } else {
<a name="l634"><span class="linenum"> 634</span></a>                                                      errorCode = &quot;408&quot;;
<a name="l635"><span class="linenum"> 635</span></a>                                                  }
<a name="l636"><span class="linenum"> 636</span></a>                                              break;
<a name="l637"><span class="linenum"> 637</span></a>                                          }
<a name="l638"><span class="linenum"> 638</span></a>                                      } else {
<a name="l639"><span class="linenum"> 639</span></a>                                          switch (elementmodel) {
<a name="l640"><span class="linenum"> 640</span></a>                                              case 'cmi.objectives.n.id':
<a name="l641"><span class="linenum"> 641</span></a>                                                  if (eval(element) != value) {
<a name="l642"><span class="linenum"> 642</span></a>                                                      errorCode = &quot;351&quot;;
<a name="l643"><span class="linenum"> 643</span></a>                                                      diagnostic = &quot;Write Once Violation&quot;;
<a name="l644"><span class="linenum"> 644</span></a>                                                  }
<a name="l645"><span class="linenum"> 645</span></a>                                              break;
<a name="l646"><span class="linenum"> 646</span></a>                                              case 'cmi.interactions.n.objectives.n.id':
<a name="l647"><span class="linenum"> 647</span></a>                                                  if (<a class="function" onClick="logFunction('duplicatedID')" href="../../../_functions/duplicatedid.html" onMouseOver="funcPopup(event,'duplicatedid')">duplicatedID</a>(element,parentelement,value)) {
<a name="l648"><span class="linenum"> 648</span></a>                                                      errorCode = &quot;351&quot;;
<a name="l649"><span class="linenum"> 649</span></a>                                                      diagnostic = &quot;Data Model Element ID Already Exists&quot;;
<a name="l650"><span class="linenum"> 650</span></a>                                                  }
<a name="l651"><span class="linenum"> 651</span></a>                                              break;
<a name="l652"><span class="linenum"> 652</span></a>                                              case 'cmi.interactions.n.type':
<a name="l653"><span class="linenum"> 653</span></a>                                                  var subobject = eval(subelement);
<a name="l654"><span class="linenum"> 654</span></a>                                                  subobject.correct_responses = <span class="keyword">new </span><a class="class" onClick="logClass('Object')" href="../../../_classes/object.html" onMouseOver="classPopup(event,'object')">Object</a>();
<a name="l655"><span class="linenum"> 655</span></a>                                                  subobject.correct_responses._count = 0;
<a name="l656"><span class="linenum"> 656</span></a>                                              break;
<a name="l657"><span class="linenum"> 657</span></a>                                              case 'cmi.interactions.n.learner_response':
<a name="l658"><span class="linenum"> 658</span></a>                                                  if (typeof eval(subelement + '.type') == &quot;undefined&quot;) {
<a name="l659"><span class="linenum"> 659</span></a>                                                      errorCode = &quot;408&quot;;
<a name="l660"><span class="linenum"> 660</span></a>                                                  } else {
<a name="l661"><span class="linenum"> 661</span></a>  <span class="comment">                                                    // Use cmi.interactions.n.type value to check the right dataelement format</span>
<a name="l662"><span class="linenum"> 662</span></a>                                                      interactiontype = eval(subelement + '.type');
<a name="l663"><span class="linenum"> 663</span></a>                                                      var nodes = new Array();
<a name="l664"><span class="linenum"> 664</span></a>                                                      if (learner_response[interactiontype].delimiter != '') {
<a name="l665"><span class="linenum"> 665</span></a>                                                          nodes = value.<a class="phpfunction" onClick="logFunction('split')" href="../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>(learner_response[interactiontype].delimiter);
<a name="l666"><span class="linenum"> 666</span></a>                                                      } else {
<a name="l667"><span class="linenum"> 667</span></a>                                                          nodes[0] = value;
<a name="l668"><span class="linenum"> 668</span></a>                                                      }
<a name="l669"><span class="linenum"> 669</span></a>                                                      if ((nodes.length &gt; 0) &amp;&amp; (nodes.length &lt;= learner_response[interactiontype].max)) {
<a name="l670"><span class="linenum"> 670</span></a>                                                          expression = new RegExp(learner_response[interactiontype].format);
<a name="l671"><span class="linenum"> 671</span></a>                                                          for (var i = 0; (i &lt; nodes.length) &amp;&amp; (errorCode == &quot;0&quot;); i++) {
<a name="l672"><span class="linenum"> 672</span></a>                                                              if (typeof learner_response[interactiontype].delimiter2 != 'undefined') {
<a name="l673"><span class="linenum"> 673</span></a>                                                                  values = nodes[i].<a class="phpfunction" onClick="logFunction('split')" href="../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>(learner_response[interactiontype].delimiter2);
<a name="l674"><span class="linenum"> 674</span></a>                                                                  if (values.length == 2) {
<a name="l675"><span class="linenum"> 675</span></a>                                                                      matches = values[0].<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(expression);
<a name="l676"><span class="linenum"> 676</span></a>                                                                      if (matches == null) {
<a name="l677"><span class="linenum"> 677</span></a>                                                                          errorCode = &quot;406&quot;;
<a name="l678"><span class="linenum"> 678</span></a>                                                                      } else {
<a name="l679"><span class="linenum"> 679</span></a>                                                                          var expression2 = new RegExp(learner_response[interactiontype].format2);
<a name="l680"><span class="linenum"> 680</span></a>                                                                          matches = values[1].<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(expression2);
<a name="l681"><span class="linenum"> 681</span></a>                                                                          if (matches == null) {
<a name="l682"><span class="linenum"> 682</span></a>                                                                              errorCode = &quot;406&quot;;
<a name="l683"><span class="linenum"> 683</span></a>                                                                          }
<a name="l684"><span class="linenum"> 684</span></a>                                                                      }
<a name="l685"><span class="linenum"> 685</span></a>                                                                  } else {
<a name="l686"><span class="linenum"> 686</span></a>                                                                      errorCode = &quot;406&quot;;
<a name="l687"><span class="linenum"> 687</span></a>                                                                  }
<a name="l688"><span class="linenum"> 688</span></a>                                                              } else {
<a name="l689"><span class="linenum"> 689</span></a>                                                                  matches = nodes[i].<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(expression);
<a name="l690"><span class="linenum"> 690</span></a>                                                                  if (matches == null) {
<a name="l691"><span class="linenum"> 691</span></a>                                                                      errorCode = &quot;406&quot;;
<a name="l692"><span class="linenum"> 692</span></a>                                                                  } else {
<a name="l693"><span class="linenum"> 693</span></a>                                                                      if ((nodes[i] != '') &amp;&amp; (learner_response[interactiontype].unique)) {
<a name="l694"><span class="linenum"> 694</span></a>                                                                          for (var j = 0; (j &lt; i) &amp;&amp; (errorCode == &quot;0&quot;); j++) {
<a name="l695"><span class="linenum"> 695</span></a>                                                                              if (nodes[i] == nodes[j]) {
<a name="l696"><span class="linenum"> 696</span></a>                                                                                  errorCode = &quot;406&quot;;
<a name="l697"><span class="linenum"> 697</span></a>                                                                              }
<a name="l698"><span class="linenum"> 698</span></a>                                                                          }
<a name="l699"><span class="linenum"> 699</span></a>                                                                      }
<a name="l700"><span class="linenum"> 700</span></a>                                                                  }
<a name="l701"><span class="linenum"> 701</span></a>                                                              }
<a name="l702"><span class="linenum"> 702</span></a>                                                          }
<a name="l703"><span class="linenum"> 703</span></a>                                                      } else if (nodes.length &gt; learner_response[interactiontype].max) {
<a name="l704"><span class="linenum"> 704</span></a>                                                          errorCode = &quot;351&quot;;
<a name="l705"><span class="linenum"> 705</span></a>                                                          diagnostic = &quot;Data Model Element Pattern Too Long&quot;;
<a name="l706"><span class="linenum"> 706</span></a>                                                      }
<a name="l707"><span class="linenum"> 707</span></a>                                                  }
<a name="l708"><span class="linenum"> 708</span></a>                                               break;
<a name="l709"><span class="linenum"> 709</span></a>                                           case 'cmi.interactions.n.correct_responses.n.pattern':
<a name="l710"><span class="linenum"> 710</span></a>                                             subel = subelement.<a class="phpfunction" onClick="logFunction('split')" href="../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>('.');
<a name="l711"><span class="linenum"> 711</span></a>                                               subel1 = 'cmi.interactions.' + subel[2];
<a name="l712"><span class="linenum"> 712</span></a>  
<a name="l713"><span class="linenum"> 713</span></a>                                                  if (typeof eval(subel1 + '.type') == &quot;undefined&quot;) {
<a name="l714"><span class="linenum"> 714</span></a>                                                      errorCode = &quot;408&quot;;
<a name="l715"><span class="linenum"> 715</span></a>                                                  } else {
<a name="l716"><span class="linenum"> 716</span></a>  <span class="comment">                                                    // Use cmi.interactions.n.type value to check the right //dataelement format</span>
<a name="l717"><span class="linenum"> 717</span></a>                                                      var interactiontype = eval(subel1 + '.type');
<a name="l718"><span class="linenum"> 718</span></a>                                                      var interactioncount = eval(parentelement + '._count');
<a name="l719"><span class="linenum"> 719</span></a>  <span class="comment">                                                    // trap duplicate values, which is not allowed for type choice</span>
<a name="l720"><span class="linenum"> 720</span></a>                                                      if (interactiontype == 'choice') {
<a name="l721"><span class="linenum"> 721</span></a>                                                          for (var i = 0; (i &lt; interactioncount) &amp;&amp; (errorCode == &quot;0&quot;); i++) {
<a name="l722"><span class="linenum"> 722</span></a>                                                             if (eval(parentelement + '.N' + i + '.pattern') == value) {
<a name="l723"><span class="linenum"> 723</span></a>                                                                 errorCode = &quot;351&quot;;
<a name="l724"><span class="linenum"> 724</span></a>                                                             }
<a name="l725"><span class="linenum"> 725</span></a>                                                          }
<a name="l726"><span class="linenum"> 726</span></a>                                                      }
<a name="l727"><span class="linenum"> 727</span></a>                                                      var nodes = new Array();
<a name="l728"><span class="linenum"> 728</span></a>                                                      if (correct_responses[interactiontype].delimiter != '') {
<a name="l729"><span class="linenum"> 729</span></a>                                                          nodes = value.<a class="phpfunction" onClick="logFunction('split')" href="../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>(correct_responses[interactiontype].delimiter);
<a name="l730"><span class="linenum"> 730</span></a>                                                      } else {
<a name="l731"><span class="linenum"> 731</span></a>                                                          nodes[0] = value;
<a name="l732"><span class="linenum"> 732</span></a>                                                      }
<a name="l733"><span class="linenum"> 733</span></a>  
<a name="l734"><span class="linenum"> 734</span></a>                                                      if ((nodes.length &gt; 0) &amp;&amp; (nodes.length &lt;= correct_responses[interactiontype].max)) {
<a name="l735"><span class="linenum"> 735</span></a>                                                          errorCode = <a class="function" onClick="logFunction('CRcheckValueNodes')" href="../../../_functions/crcheckvaluenodes.html" onMouseOver="funcPopup(event,'crcheckvaluenodes')">CRcheckValueNodes</a> (element, interactiontype, nodes, value, errorCode);
<a name="l736"><span class="linenum"> 736</span></a>                                                      } else if (nodes.length &gt; correct_responses[interactiontype].max) {
<a name="l737"><span class="linenum"> 737</span></a>                                                          errorCode = &quot;351&quot;;
<a name="l738"><span class="linenum"> 738</span></a>                                                          diagnostic = &quot;Data Model Element Pattern Too Long&quot;;
<a name="l739"><span class="linenum"> 739</span></a>                                                      }
<a name="l740"><span class="linenum"> 740</span></a>                                                  }
<a name="l741"><span class="linenum"> 741</span></a>                                               break;
<a name="l742"><span class="linenum"> 742</span></a>                                          }
<a name="l743"><span class="linenum"> 743</span></a>                                      }
<a name="l744"><span class="linenum"> 744</span></a>                                  }
<a name="l745"><span class="linenum"> 745</span></a>                              }
<a name="l746"><span class="linenum"> 746</span></a>  <span class="comment">                            //Store data</span>
<a name="l747"><span class="linenum"> 747</span></a>                              if (errorCode == &quot;0&quot;) {
<a name="l748"><span class="linenum"> 748</span></a>                                  if (autocommit &amp;&amp; !(SCORMapi1_3.timeout)) {
<a name="l749"><span class="linenum"> 749</span></a>                                      SCORMapi1_3.timeout = Y.later(60000, API_1484_11, 'Commit', [&quot;&quot;], false);
<a name="l750"><span class="linenum"> 750</span></a>                                  }
<a name="l751"><span class="linenum"> 751</span></a>  
<a name="l752"><span class="linenum"> 752</span></a>                                  if ((typeof eval('datamodel[&quot;' + scoid + '&quot;][&quot;' + elementmodel + '&quot;].range')) != &quot;undefined&quot;) {
<a name="l753"><span class="linenum"> 753</span></a>                                      range = eval('datamodel[&quot;' + scoid + '&quot;][&quot;' + elementmodel + '&quot;].range');
<a name="l754"><span class="linenum"> 754</span></a>                                      ranges = range.<a class="phpfunction" onClick="logFunction('split')" href="../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>('#');
<a name="l755"><span class="linenum"> 755</span></a>                                      value = value * 1.0;
<a name="l756"><span class="linenum"> 756</span></a>                                      if (value &gt;= ranges[0]) {
<a name="l757"><span class="linenum"> 757</span></a>                                          if ((ranges[1] == '*') || (value &lt;= ranges[1])) {
<a name="l758"><span class="linenum"> 758</span></a>                                              eval(element + '=value;');
<a name="l759"><span class="linenum"> 759</span></a>                                              errorCode = &quot;0&quot;;
<a name="l760"><span class="linenum"> 760</span></a>                                              if (scormdebugging) {
<a name="l761"><span class="linenum"> 761</span></a>                                                  LogAPICall(&quot;SetValue&quot;, element, value, errorCode);
<a name="l762"><span class="linenum"> 762</span></a>                                              }
<a name="l763"><span class="linenum"> 763</span></a>                                              return &quot;true&quot;;
<a name="l764"><span class="linenum"> 764</span></a>                                          } else {
<a name="l765"><span class="linenum"> 765</span></a>                                              errorCode = '407';
<a name="l766"><span class="linenum"> 766</span></a>                                          }
<a name="l767"><span class="linenum"> 767</span></a>                                      } else {
<a name="l768"><span class="linenum"> 768</span></a>                                          errorCode = '407';
<a name="l769"><span class="linenum"> 769</span></a>                                      }
<a name="l770"><span class="linenum"> 770</span></a>                                  } else {
<a name="l771"><span class="linenum"> 771</span></a>                                      eval(element + '=value;');
<a name="l772"><span class="linenum"> 772</span></a>                                      errorCode = &quot;0&quot;;
<a name="l773"><span class="linenum"> 773</span></a>                                      if (scormdebugging) {
<a name="l774"><span class="linenum"> 774</span></a>                                          LogAPICall(&quot;SetValue&quot;, element, value, errorCode);
<a name="l775"><span class="linenum"> 775</span></a>                                      }
<a name="l776"><span class="linenum"> 776</span></a>                                      return &quot;true&quot;;
<a name="l777"><span class="linenum"> 777</span></a>                                  }
<a name="l778"><span class="linenum"> 778</span></a>                              }
<a name="l779"><span class="linenum"> 779</span></a>                          } else {
<a name="l780"><span class="linenum"> 780</span></a>                              errorCode = &quot;406&quot;;
<a name="l781"><span class="linenum"> 781</span></a>                          }
<a name="l782"><span class="linenum"> 782</span></a>                      } else {
<a name="l783"><span class="linenum"> 783</span></a>                          errorCode = &quot;404&quot;;
<a name="l784"><span class="linenum"> 784</span></a>                      }
<a name="l785"><span class="linenum"> 785</span></a>                  } else {
<a name="l786"><span class="linenum"> 786</span></a>                      errorCode = &quot;401&quot;
<a name="l787"><span class="linenum"> 787</span></a>                  }
<a name="l788"><span class="linenum"> 788</span></a>              } else {
<a name="l789"><span class="linenum"> 789</span></a>                  errorCode = &quot;351&quot;;
<a name="l790"><span class="linenum"> 790</span></a>              }
<a name="l791"><span class="linenum"> 791</span></a>          } else {
<a name="l792"><span class="linenum"> 792</span></a>              if (Terminated) {
<a name="l793"><span class="linenum"> 793</span></a>                  errorCode = &quot;133&quot;;
<a name="l794"><span class="linenum"> 794</span></a>              } else {
<a name="l795"><span class="linenum"> 795</span></a>                  errorCode = &quot;132&quot;;
<a name="l796"><span class="linenum"> 796</span></a>              }
<a name="l797"><span class="linenum"> 797</span></a>          }
<a name="l798"><span class="linenum"> 798</span></a>          if (scormdebugging) {
<a name="l799"><span class="linenum"> 799</span></a>              LogAPICall(&quot;SetValue&quot;, element, value, errorCode);
<a name="l800"><span class="linenum"> 800</span></a>          }
<a name="l801"><span class="linenum"> 801</span></a>          return &quot;false&quot;;
<a name="l802"><span class="linenum"> 802</span></a>      }
<a name="l803"><span class="linenum"> 803</span></a>  
<a name="l804"><span class="linenum"> 804</span></a>      function <a class="function" onClick="logFunction('CRremovePrefixes')" href="../../../_functions/crremoveprefixes.html" onMouseOver="funcPopup(event,'crremoveprefixes')">CRremovePrefixes</a> (node) {
<a name="l805"><span class="linenum"> 805</span></a>  <span class="comment">        // check for prefixes lang, case, order</span>
<a name="l806"><span class="linenum"> 806</span></a>  <span class="comment">        // case and then order</span>
<a name="l807"><span class="linenum"> 807</span></a>          var seenOrder = false;
<a name="l808"><span class="linenum"> 808</span></a>          var seenCase = false;
<a name="l809"><span class="linenum"> 809</span></a>          var seenLang = false;
<a name="l810"><span class="linenum"> 810</span></a>          var errorCode = &quot;0&quot;;
<a name="l811"><span class="linenum"> 811</span></a>          while (matches = node.<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>('^(\{(lang|case_matters|order_matters)=([^\}]+)\})')) {
<a name="l812"><span class="linenum"> 812</span></a>              switch (matches[2]) {
<a name="l813"><span class="linenum"> 813</span></a>                  case 'lang':
<a name="l814"><span class="linenum"> 814</span></a>  <span class="comment">                    // check for language prefix on each node</span>
<a name="l815"><span class="linenum"> 815</span></a>                      langmatches = node.<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(CMILangcr);
<a name="l816"><span class="linenum"> 816</span></a>                      if (langmatches != null) {
<a name="l817"><span class="linenum"> 817</span></a>                          lang = langmatches[3];
<a name="l818"><span class="linenum"> 818</span></a>  <span class="comment">                        // check that language string definition is valid</span>
<a name="l819"><span class="linenum"> 819</span></a>                          if (lang.length &gt; 0 &amp;&amp; lang != undefined) {
<a name="l820"><span class="linenum"> 820</span></a>                              if (validLanguages[lang.toLowerCase()] == undefined) {
<a name="l821"><span class="linenum"> 821</span></a>                                  errorCode = &quot;406&quot;;
<a name="l822"><span class="linenum"> 822</span></a>                              }
<a name="l823"><span class="linenum"> 823</span></a>                          }
<a name="l824"><span class="linenum"> 824</span></a>                      }
<a name="l825"><span class="linenum"> 825</span></a>                      seenLang = true;
<a name="l826"><span class="linenum"> 826</span></a>                  break;
<a name="l827"><span class="linenum"> 827</span></a>  
<a name="l828"><span class="linenum"> 828</span></a>                  case 'case_matters':
<a name="l829"><span class="linenum"> 829</span></a>  <span class="comment">                    // check for correct case answer</span>
<a name="l830"><span class="linenum"> 830</span></a>                      if (! seenLang &amp;&amp; ! seenOrder &amp;&amp; ! seenCase) {
<a name="l831"><span class="linenum"> 831</span></a>                          if (matches[3] != 'true' &amp;&amp; matches[3] != 'false') {
<a name="l832"><span class="linenum"> 832</span></a>                              errorCode = &quot;406&quot;;
<a name="l833"><span class="linenum"> 833</span></a>                          }
<a name="l834"><span class="linenum"> 834</span></a>                      }
<a name="l835"><span class="linenum"> 835</span></a>                      seenCase = true;
<a name="l836"><span class="linenum"> 836</span></a>                  break;
<a name="l837"><span class="linenum"> 837</span></a>  
<a name="l838"><span class="linenum"> 838</span></a>                  case 'order_matters':
<a name="l839"><span class="linenum"> 839</span></a>  <span class="comment">                    // check for correct case answer</span>
<a name="l840"><span class="linenum"> 840</span></a>                      if (! seenCase &amp;&amp; ! seenLang &amp;&amp; ! seenOrder) {
<a name="l841"><span class="linenum"> 841</span></a>                          if (matches[3] != 'true' &amp;&amp; matches[3] != 'false') {
<a name="l842"><span class="linenum"> 842</span></a>                              errorCode = &quot;406&quot;;
<a name="l843"><span class="linenum"> 843</span></a>                          }
<a name="l844"><span class="linenum"> 844</span></a>                      }
<a name="l845"><span class="linenum"> 845</span></a>                      seenOrder = true;
<a name="l846"><span class="linenum"> 846</span></a>                  break;
<a name="l847"><span class="linenum"> 847</span></a>  
<a name="l848"><span class="linenum"> 848</span></a>                  default:
<a name="l849"><span class="linenum"> 849</span></a>                  break;
<a name="l850"><span class="linenum"> 850</span></a>              }
<a name="l851"><span class="linenum"> 851</span></a>              node = node.<a class="phpfunction" onClick="logFunction('substr')" href="../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(matches[1].length);
<a name="l852"><span class="linenum"> 852</span></a>          }
<a name="l853"><span class="linenum"> 853</span></a>          return {'errorCode': errorCode, 'node': node};
<a name="l854"><span class="linenum"> 854</span></a>      }
<a name="l855"><span class="linenum"> 855</span></a>  
<a name="l856"><span class="linenum"> 856</span></a>      function <a class="function" onClick="logFunction('CRcheckValueNodes')" href="../../../_functions/crcheckvaluenodes.html" onMouseOver="funcPopup(event,'crcheckvaluenodes')">CRcheckValueNodes</a>(element, interactiontype, nodes, value, errorCode) {
<a name="l857"><span class="linenum"> 857</span></a>          expression = new RegExp(correct_responses[interactiontype].format);
<a name="l858"><span class="linenum"> 858</span></a>          for (var i = 0; (i &lt; nodes.length) &amp;&amp; (errorCode == &quot;0&quot;); i++) {
<a name="l859"><span class="linenum"> 859</span></a>              if (interactiontype.<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>('^(fill-in|long-fill-in|matching|performance|sequencing)$')) {
<a name="l860"><span class="linenum"> 860</span></a>                  result = <a class="function" onClick="logFunction('CRremovePrefixes')" href="../../../_functions/crremoveprefixes.html" onMouseOver="funcPopup(event,'crremoveprefixes')">CRremovePrefixes</a>(nodes[i]);
<a name="l861"><span class="linenum"> 861</span></a>                  errorCode = result.errorCode;
<a name="l862"><span class="linenum"> 862</span></a>                  nodes[i] = result.node;
<a name="l863"><span class="linenum"> 863</span></a>              }
<a name="l864"><span class="linenum"> 864</span></a>  
<a name="l865"><span class="linenum"> 865</span></a>  <span class="comment">            // check for prefix on each node</span>
<a name="l866"><span class="linenum"> 866</span></a>              if (correct_responses[interactiontype].pre != '') {
<a name="l867"><span class="linenum"> 867</span></a>                  matches = nodes[i].<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(correct_responses[interactiontype].pre);
<a name="l868"><span class="linenum"> 868</span></a>                  if (matches != null) {
<a name="l869"><span class="linenum"> 869</span></a>                      nodes[i] = nodes[i].<a class="phpfunction" onClick="logFunction('substr')" href="../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(matches[1].length);
<a name="l870"><span class="linenum"> 870</span></a>                  }
<a name="l871"><span class="linenum"> 871</span></a>              }
<a name="l872"><span class="linenum"> 872</span></a>  
<a name="l873"><span class="linenum"> 873</span></a>              if (correct_responses[interactiontype].delimiter2 != undefined) {
<a name="l874"><span class="linenum"> 874</span></a>                  values = nodes[i].<a class="phpfunction" onClick="logFunction('split')" href="../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>(correct_responses[interactiontype].delimiter2);
<a name="l875"><span class="linenum"> 875</span></a>                  if (values.length == 2) {
<a name="l876"><span class="linenum"> 876</span></a>                      matches = values[0].<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(expression);
<a name="l877"><span class="linenum"> 877</span></a>                      if (matches == null) {
<a name="l878"><span class="linenum"> 878</span></a>                          errorCode = &quot;406&quot;;
<a name="l879"><span class="linenum"> 879</span></a>                      } else {
<a name="l880"><span class="linenum"> 880</span></a>                          var expression2 = new RegExp(correct_responses[interactiontype].format2);
<a name="l881"><span class="linenum"> 881</span></a>                          matches = values[1].<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(expression2);
<a name="l882"><span class="linenum"> 882</span></a>                          if (matches == null) {
<a name="l883"><span class="linenum"> 883</span></a>                              errorCode = &quot;406&quot;;
<a name="l884"><span class="linenum"> 884</span></a>                          }
<a name="l885"><span class="linenum"> 885</span></a>                      }
<a name="l886"><span class="linenum"> 886</span></a>                  } else {
<a name="l887"><span class="linenum"> 887</span></a>                       errorCode = &quot;406&quot;;
<a name="l888"><span class="linenum"> 888</span></a>                  }
<a name="l889"><span class="linenum"> 889</span></a>              } else {
<a name="l890"><span class="linenum"> 890</span></a>                  matches = nodes[i].<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(expression);
<a name="l891"><span class="linenum"> 891</span></a>  <span class="comment">                //if ((matches == null) || (matches.join('').length == 0)) {</span>
<a name="l892"><span class="linenum"> 892</span></a>                  if ((matches == null &amp;&amp; value != &quot;&quot;) || (matches == null &amp;&amp; interactiontype == &quot;true-false&quot;)){
<a name="l893"><span class="linenum"> 893</span></a>                      errorCode = &quot;406&quot;;
<a name="l894"><span class="linenum"> 894</span></a>                  } else {
<a name="l895"><span class="linenum"> 895</span></a>  <span class="comment">                    // numeric range - left must be &lt;= right</span>
<a name="l896"><span class="linenum"> 896</span></a>                      if (interactiontype == 'numeric' &amp;&amp; nodes.length &gt; 1) {
<a name="l897"><span class="linenum"> 897</span></a>                          if (parseFloat(nodes[0]) &gt; parseFloat(nodes[1])) {
<a name="l898"><span class="linenum"> 898</span></a>                              errorCode = &quot;406&quot;;
<a name="l899"><span class="linenum"> 899</span></a>                          }
<a name="l900"><span class="linenum"> 900</span></a>                      } else {
<a name="l901"><span class="linenum"> 901</span></a>                          if ((nodes[i] != '') &amp;&amp; (correct_responses[interactiontype].unique)) {
<a name="l902"><span class="linenum"> 902</span></a>                              for (var j = 0; (j &lt; i) &amp;&amp; (errorCode == &quot;0&quot;); j++) {
<a name="l903"><span class="linenum"> 903</span></a>                                  if (nodes[i] == nodes[j]) {
<a name="l904"><span class="linenum"> 904</span></a>                                      errorCode = &quot;406&quot;;
<a name="l905"><span class="linenum"> 905</span></a>                                  }
<a name="l906"><span class="linenum"> 906</span></a>                              }
<a name="l907"><span class="linenum"> 907</span></a>                          }
<a name="l908"><span class="linenum"> 908</span></a>                      }
<a name="l909"><span class="linenum"> 909</span></a>                  }
<a name="l910"><span class="linenum"> 910</span></a>              }
<a name="l911"><span class="linenum"> 911</span></a>          } <span class="comment">// end of for each nodes</span>
<a name="l912"><span class="linenum"> 912</span></a>          return errorCode;
<a name="l913"><span class="linenum"> 913</span></a>      }
<a name="l914"><span class="linenum"> 914</span></a>  
<a name="l915"><span class="linenum"> 915</span></a>      function <a class="function" onClick="logFunction('Commit')" href="../../../_functions/commit.html" onMouseOver="funcPopup(event,'commit')">Commit</a> (param) {
<a name="l916"><span class="linenum"> 916</span></a>          if (SCORMapi1_3.timeout) {
<a name="l917"><span class="linenum"> 917</span></a>              SCORMapi1_3.timeout.<a class="function" onClick="logFunction('cancel')" href="../../../_functions/cancel.html" onMouseOver="funcPopup(event,'cancel')">cancel</a>();
<a name="l918"><span class="linenum"> 918</span></a>              SCORMapi1_3.timeout = null;
<a name="l919"><span class="linenum"> 919</span></a>          }
<a name="l920"><span class="linenum"> 920</span></a>          errorCode = &quot;0&quot;;
<a name="l921"><span class="linenum"> 921</span></a>          if (param == &quot;&quot;) {
<a name="l922"><span class="linenum"> 922</span></a>              if ((Initialized) &amp;&amp; (!Terminated)) {
<a name="l923"><span class="linenum"> 923</span></a>                  var AJAXResult = <a class="function" onClick="logFunction('StoreData')" href="../../../_functions/storedata.html" onMouseOver="funcPopup(event,'storedata')">StoreData</a>(cmi,false);
<a name="l924"><span class="linenum"> 924</span></a>                  if (scormdebugging) {
<a name="l925"><span class="linenum"> 925</span></a>                      LogAPICall(&quot;Commit&quot;, &quot;AJAXResult&quot;, AJAXResult, 0);
<a name="l926"><span class="linenum"> 926</span></a>                  }
<a name="l927"><span class="linenum"> 927</span></a>                  var result = ('true' == AJAXResult) ? 'true' : 'false';
<a name="l928"><span class="linenum"> 928</span></a>                  errorCode = ('true' == result) ? '0' : '101'; <span class="comment">// General exception for any AJAX fault</span>
<a name="l929"><span class="linenum"> 929</span></a>                  if (scormdebugging) {
<a name="l930"><span class="linenum"> 930</span></a>                      LogAPICall(&quot;Commit&quot;, &quot;result&quot;, result, errorCode);
<a name="l931"><span class="linenum"> 931</span></a>                  }
<a name="l932"><span class="linenum"> 932</span></a>                  if ('false' == result) {
<a name="l933"><span class="linenum"> 933</span></a>                      diagnostic = &quot;Failure calling the Commit remote callback: the server replied with HTTP Status &quot; + AJAXResult;
<a name="l934"><span class="linenum"> 934</span></a>                  }
<a name="l935"><span class="linenum"> 935</span></a>                  return result;
<a name="l936"><span class="linenum"> 936</span></a>              } else {
<a name="l937"><span class="linenum"> 937</span></a>                  if (Terminated) {
<a name="l938"><span class="linenum"> 938</span></a>                      errorCode = &quot;143&quot;;
<a name="l939"><span class="linenum"> 939</span></a>                  } else {
<a name="l940"><span class="linenum"> 940</span></a>                      errorCode = &quot;142&quot;;
<a name="l941"><span class="linenum"> 941</span></a>                  }
<a name="l942"><span class="linenum"> 942</span></a>              }
<a name="l943"><span class="linenum"> 943</span></a>          } else {
<a name="l944"><span class="linenum"> 944</span></a>              errorCode = &quot;201&quot;;
<a name="l945"><span class="linenum"> 945</span></a>          }
<a name="l946"><span class="linenum"> 946</span></a>          if (scormdebugging) {
<a name="l947"><span class="linenum"> 947</span></a>              LogAPICall(&quot;Commit&quot;, param, &quot;&quot;, errorCode);
<a name="l948"><span class="linenum"> 948</span></a>          }
<a name="l949"><span class="linenum"> 949</span></a>          return &quot;false&quot;;
<a name="l950"><span class="linenum"> 950</span></a>      }
<a name="l951"><span class="linenum"> 951</span></a>  
<a name="l952"><span class="linenum"> 952</span></a>      function <a class="function" onClick="logFunction('GetLastError')" href="../../../_functions/getlasterror.html" onMouseOver="funcPopup(event,'getlasterror')">GetLastError</a> () {
<a name="l953"><span class="linenum"> 953</span></a>          if (scormdebugging) {
<a name="l954"><span class="linenum"> 954</span></a>              LogAPICall(&quot;GetLastError&quot;, &quot;&quot;, &quot;&quot;, errorCode);
<a name="l955"><span class="linenum"> 955</span></a>          }
<a name="l956"><span class="linenum"> 956</span></a>          return errorCode;
<a name="l957"><span class="linenum"> 957</span></a>      }
<a name="l958"><span class="linenum"> 958</span></a>  
<a name="l959"><span class="linenum"> 959</span></a>      function <a class="function" onClick="logFunction('GetErrorString')" href="../../../_functions/geterrorstring.html" onMouseOver="funcPopup(event,'geterrorstring')">GetErrorString</a> (param) {
<a name="l960"><span class="linenum"> 960</span></a>          if (param != &quot;&quot;) {
<a name="l961"><span class="linenum"> 961</span></a>              var errorString = &quot;&quot;;
<a name="l962"><span class="linenum"> 962</span></a>              switch(param) {
<a name="l963"><span class="linenum"> 963</span></a>                  case &quot;0&quot;:
<a name="l964"><span class="linenum"> 964</span></a>                      errorString = &quot;No error&quot;;
<a name="l965"><span class="linenum"> 965</span></a>                  break;
<a name="l966"><span class="linenum"> 966</span></a>                  case &quot;101&quot;:
<a name="l967"><span class="linenum"> 967</span></a>                      errorString = &quot;General exception&quot;;
<a name="l968"><span class="linenum"> 968</span></a>                  break;
<a name="l969"><span class="linenum"> 969</span></a>                  case &quot;102&quot;:
<a name="l970"><span class="linenum"> 970</span></a>                      errorString = &quot;General Inizialization Failure&quot;;
<a name="l971"><span class="linenum"> 971</span></a>                  break;
<a name="l972"><span class="linenum"> 972</span></a>                  case &quot;103&quot;:
<a name="l973"><span class="linenum"> 973</span></a>                      errorString = &quot;Already Initialized&quot;;
<a name="l974"><span class="linenum"> 974</span></a>                  break;
<a name="l975"><span class="linenum"> 975</span></a>                  case &quot;104&quot;:
<a name="l976"><span class="linenum"> 976</span></a>                      errorString = &quot;Content Instance Terminated&quot;;
<a name="l977"><span class="linenum"> 977</span></a>                  break;
<a name="l978"><span class="linenum"> 978</span></a>                  case &quot;111&quot;:
<a name="l979"><span class="linenum"> 979</span></a>                      errorString = &quot;General Termination Failure&quot;;
<a name="l980"><span class="linenum"> 980</span></a>                  break;
<a name="l981"><span class="linenum"> 981</span></a>                  case &quot;112&quot;:
<a name="l982"><span class="linenum"> 982</span></a>                      errorString = &quot;Termination Before Inizialization&quot;;
<a name="l983"><span class="linenum"> 983</span></a>                  break;
<a name="l984"><span class="linenum"> 984</span></a>                  case &quot;113&quot;:
<a name="l985"><span class="linenum"> 985</span></a>                      errorString = &quot;Termination After Termination&quot;;
<a name="l986"><span class="linenum"> 986</span></a>                  break;
<a name="l987"><span class="linenum"> 987</span></a>                  case &quot;122&quot;:
<a name="l988"><span class="linenum"> 988</span></a>                      errorString = &quot;Retrieve Data Before Initialization&quot;;
<a name="l989"><span class="linenum"> 989</span></a>                  break;
<a name="l990"><span class="linenum"> 990</span></a>                  case &quot;123&quot;:
<a name="l991"><span class="linenum"> 991</span></a>                      errorString = &quot;Retrieve Data After Termination&quot;;
<a name="l992"><span class="linenum"> 992</span></a>                  break;
<a name="l993"><span class="linenum"> 993</span></a>                  case &quot;132&quot;:
<a name="l994"><span class="linenum"> 994</span></a>                      errorString = &quot;Store Data Before Inizialization&quot;;
<a name="l995"><span class="linenum"> 995</span></a>                  break;
<a name="l996"><span class="linenum"> 996</span></a>                  case &quot;133&quot;:
<a name="l997"><span class="linenum"> 997</span></a>                      errorString = &quot;Store Data After Termination&quot;;
<a name="l998"><span class="linenum"> 998</span></a>                  break;
<a name="l999"><span class="linenum"> 999</span></a>                  case &quot;142&quot;:
<a name="l1000"><span class="linenum">1000</span></a>                      errorString = &quot;Commit Before Inizialization&quot;;
<a name="l1001"><span class="linenum">1001</span></a>                  break;
<a name="l1002"><span class="linenum">1002</span></a>                  case &quot;143&quot;:
<a name="l1003"><span class="linenum">1003</span></a>                      errorString = &quot;Commit After Termination&quot;;
<a name="l1004"><span class="linenum">1004</span></a>                  break;
<a name="l1005"><span class="linenum">1005</span></a>                  case &quot;201&quot;:
<a name="l1006"><span class="linenum">1006</span></a>                      errorString = &quot;General Argument Error&quot;;
<a name="l1007"><span class="linenum">1007</span></a>                  break;
<a name="l1008"><span class="linenum">1008</span></a>                  case &quot;301&quot;:
<a name="l1009"><span class="linenum">1009</span></a>                      errorString = &quot;General Get Failure&quot;;
<a name="l1010"><span class="linenum">1010</span></a>                  break;
<a name="l1011"><span class="linenum">1011</span></a>                  case &quot;351&quot;:
<a name="l1012"><span class="linenum">1012</span></a>                      errorString = &quot;General Set Failure&quot;;
<a name="l1013"><span class="linenum">1013</span></a>                  break;
<a name="l1014"><span class="linenum">1014</span></a>                  case &quot;391&quot;:
<a name="l1015"><span class="linenum">1015</span></a>                      errorString = &quot;General Commit Failure&quot;;
<a name="l1016"><span class="linenum">1016</span></a>                  break;
<a name="l1017"><span class="linenum">1017</span></a>                  case &quot;401&quot;:
<a name="l1018"><span class="linenum">1018</span></a>                      errorString = &quot;Undefinited Data Model&quot;;
<a name="l1019"><span class="linenum">1019</span></a>                  break;
<a name="l1020"><span class="linenum">1020</span></a>                  case &quot;402&quot;:
<a name="l1021"><span class="linenum">1021</span></a>                      errorString = &quot;Unimplemented Data Model Element&quot;;
<a name="l1022"><span class="linenum">1022</span></a>                  break;
<a name="l1023"><span class="linenum">1023</span></a>                  case &quot;403&quot;:
<a name="l1024"><span class="linenum">1024</span></a>                      errorString = &quot;Data Model Element Value Not Initialized&quot;;
<a name="l1025"><span class="linenum">1025</span></a>                  break;
<a name="l1026"><span class="linenum">1026</span></a>                  case &quot;404&quot;:
<a name="l1027"><span class="linenum">1027</span></a>                      errorString = &quot;Data Model Element Is Read Only&quot;;
<a name="l1028"><span class="linenum">1028</span></a>                  break;
<a name="l1029"><span class="linenum">1029</span></a>                  case &quot;405&quot;:
<a name="l1030"><span class="linenum">1030</span></a>                      errorString = &quot;Data Model Element Is Write Only&quot;;
<a name="l1031"><span class="linenum">1031</span></a>                  break;
<a name="l1032"><span class="linenum">1032</span></a>                  case &quot;406&quot;:
<a name="l1033"><span class="linenum">1033</span></a>                      errorString = &quot;Data Model Element Type Mismatch&quot;;
<a name="l1034"><span class="linenum">1034</span></a>                  break;
<a name="l1035"><span class="linenum">1035</span></a>                  case &quot;407&quot;:
<a name="l1036"><span class="linenum">1036</span></a>                      errorString = &quot;Data Model Element Value Out Of Range&quot;;
<a name="l1037"><span class="linenum">1037</span></a>                  break;
<a name="l1038"><span class="linenum">1038</span></a>                  case &quot;408&quot;:
<a name="l1039"><span class="linenum">1039</span></a>                      errorString = &quot;Data Model Dependency Not Established&quot;;
<a name="l1040"><span class="linenum">1040</span></a>                  break;
<a name="l1041"><span class="linenum">1041</span></a>              }
<a name="l1042"><span class="linenum">1042</span></a>              if (scormdebugging) {
<a name="l1043"><span class="linenum">1043</span></a>                  LogAPICall(&quot;GetErrorString&quot;, param,  errorString, 0);
<a name="l1044"><span class="linenum">1044</span></a>              }
<a name="l1045"><span class="linenum">1045</span></a>              return errorString;
<a name="l1046"><span class="linenum">1046</span></a>          } else {
<a name="l1047"><span class="linenum">1047</span></a>              if (scormdebugging) {
<a name="l1048"><span class="linenum">1048</span></a>                  LogAPICall(&quot;GetErrorString&quot;, param,  &quot;No error string found!&quot;, 0);
<a name="l1049"><span class="linenum">1049</span></a>              }
<a name="l1050"><span class="linenum">1050</span></a>              return &quot;&quot;;
<a name="l1051"><span class="linenum">1051</span></a>          }
<a name="l1052"><span class="linenum">1052</span></a>      }
<a name="l1053"><span class="linenum">1053</span></a>  
<a name="l1054"><span class="linenum">1054</span></a>      function <a class="function" onClick="logFunction('GetDiagnostic')" href="../../../_functions/getdiagnostic.html" onMouseOver="funcPopup(event,'getdiagnostic')">GetDiagnostic</a> (param) {
<a name="l1055"><span class="linenum">1055</span></a>          if (diagnostic != &quot;&quot;) {
<a name="l1056"><span class="linenum">1056</span></a>              if (scormdebugging) {
<a name="l1057"><span class="linenum">1057</span></a>                  LogAPICall(&quot;GetDiagnostic&quot;, param, diagnostic, 0);
<a name="l1058"><span class="linenum">1058</span></a>              }
<a name="l1059"><span class="linenum">1059</span></a>              return diagnostic;
<a name="l1060"><span class="linenum">1060</span></a>          }
<a name="l1061"><span class="linenum">1061</span></a>          if (scormdebugging) {
<a name="l1062"><span class="linenum">1062</span></a>              LogAPICall(&quot;GetDiagnostic&quot;, param, param, 0);
<a name="l1063"><span class="linenum">1063</span></a>          }
<a name="l1064"><span class="linenum">1064</span></a>          return param;
<a name="l1065"><span class="linenum">1065</span></a>      }
<a name="l1066"><span class="linenum">1066</span></a>  
<a name="l1067"><span class="linenum">1067</span></a>      function <a class="function" onClick="logFunction('duplicatedID')" href="../../../_functions/duplicatedid.html" onMouseOver="funcPopup(event,'duplicatedid')">duplicatedID</a> (element, parent, value) {
<a name="l1068"><span class="linenum">1068</span></a>          var found = false;
<a name="l1069"><span class="linenum">1069</span></a>          var elements = eval(parent + '._count');
<a name="l1070"><span class="linenum">1070</span></a>          for (var n = 0; (n &lt; elements) &amp;&amp; (!found); n++) {
<a name="l1071"><span class="linenum">1071</span></a>              if ((parent + '.N' + n + '.id' != element) &amp;&amp; (eval(parent + '.N' + n + '.id') == value)) {
<a name="l1072"><span class="linenum">1072</span></a>                  found = true;
<a name="l1073"><span class="linenum">1073</span></a>              }
<a name="l1074"><span class="linenum">1074</span></a>          }
<a name="l1075"><span class="linenum">1075</span></a>          return found;
<a name="l1076"><span class="linenum">1076</span></a>      }
<a name="l1077"><span class="linenum">1077</span></a>  
<a name="l1078"><span class="linenum">1078</span></a>      function <a class="function" onClick="logFunction('duplicatedPA')" href="../../../_functions/duplicatedpa.html" onMouseOver="funcPopup(event,'duplicatedpa')">duplicatedPA</a> (element, parent, value) {
<a name="l1079"><span class="linenum">1079</span></a>          var found = false;
<a name="l1080"><span class="linenum">1080</span></a>          var elements = eval(parent + '._count');
<a name="l1081"><span class="linenum">1081</span></a>          for (var n = 0; (n &lt; elements) &amp;&amp; (!found); n++) {
<a name="l1082"><span class="linenum">1082</span></a>              if ((parent + '.N' + n + '.pattern' != element) &amp;&amp; (eval(parent + '.N' + n + '.pattern') == value)) {
<a name="l1083"><span class="linenum">1083</span></a>                  found = true;
<a name="l1084"><span class="linenum">1084</span></a>              }
<a name="l1085"><span class="linenum">1085</span></a>          }
<a name="l1086"><span class="linenum">1086</span></a>          return found;
<a name="l1087"><span class="linenum">1087</span></a>      }
<a name="l1088"><span class="linenum">1088</span></a>  
<a name="l1089"><span class="linenum">1089</span></a>      function <a class="function" onClick="logFunction('getElementModel')" href="../../../_functions/getelementmodel.html" onMouseOver="funcPopup(event,'getelementmodel')">getElementModel</a>(element) {
<a name="l1090"><span class="linenum">1090</span></a>          if (typeof datamodel[scoid][element] != &quot;undefined&quot;) {
<a name="l1091"><span class="linenum">1091</span></a>              return element;
<a name="l1092"><span class="linenum">1092</span></a>          } else {
<a name="l1093"><span class="linenum">1093</span></a>              var expression = new RegExp(CMIIndex,'g');
<a name="l1094"><span class="linenum">1094</span></a>              var elementmodel = String(element).<a class="function" onClick="logFunction('replace')" href="../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(expression,'.n.');
<a name="l1095"><span class="linenum">1095</span></a>              if (typeof datamodel[scoid][elementmodel] != &quot;undefined&quot;) {
<a name="l1096"><span class="linenum">1096</span></a>                  return elementmodel;
<a name="l1097"><span class="linenum">1097</span></a>              }
<a name="l1098"><span class="linenum">1098</span></a>          }
<a name="l1099"><span class="linenum">1099</span></a>          return false;
<a name="l1100"><span class="linenum">1100</span></a>      }
<a name="l1101"><span class="linenum">1101</span></a>  
<a name="l1102"><span class="linenum">1102</span></a>      function <a class="function" onClick="logFunction('AddTime')" href="../../../_functions/addtime.html" onMouseOver="funcPopup(event,'addtime')">AddTime</a> (first, second) {
<a name="l1103"><span class="linenum">1103</span></a>          var timestring = 'P';
<a name="l1104"><span class="linenum">1104</span></a>          var matchexpr = /^<a class="function" onClick="logFunction('P')" href="../../../_functions/p.html" onMouseOver="funcPopup(event,'p')">P</a>((\d+)Y)?((\d+)M)?((\d+)D)?(<a class="function" onClick="logFunction('T')" href="../../../_functions/t.html" onMouseOver="funcPopup(event,'t')">T</a>((\d+)H)?((\d+)M)?((\d+(\.\d{1,2})?)S)?)?$/;
<a name="l1105"><span class="linenum">1105</span></a>          var firstarray = first.<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(matchexpr);
<a name="l1106"><span class="linenum">1106</span></a>          var secondarray = second.<a class="function" onClick="logFunction('match')" href="../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(matchexpr);
<a name="l1107"><span class="linenum">1107</span></a>          if ((firstarray != null) &amp;&amp; (secondarray != null)) {
<a name="l1108"><span class="linenum">1108</span></a>              var firstsecs = 0;
<a name="l1109"><span class="linenum">1109</span></a>              if(parseFloat(firstarray[13],10) &gt; 0){ firstsecs = parseFloat(firstarray[13],10); }
<a name="l1110"><span class="linenum">1110</span></a>              var secondsecs = 0;
<a name="l1111"><span class="linenum">1111</span></a>              if(parseFloat(secondarray[13],10) &gt; 0){ secondsecs = parseFloat(secondarray[13],10); }
<a name="l1112"><span class="linenum">1112</span></a>              var secs = firstsecs + secondsecs;  <span class="comment">//Seconds</span>
<a name="l1113"><span class="linenum">1113</span></a>              var change = Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(secs / 60);
<a name="l1114"><span class="linenum">1114</span></a>              secs = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>((secs - (change * 60)) * 100) / 100;
<a name="l1115"><span class="linenum">1115</span></a>              var firstmins = 0;
<a name="l1116"><span class="linenum">1116</span></a>              if(parseInt(firstarray[11],10) &gt; 0){ firstmins = parseInt(firstarray[11],10); }
<a name="l1117"><span class="linenum">1117</span></a>              var secondmins = 0;
<a name="l1118"><span class="linenum">1118</span></a>              if(parseInt(secondarray[11],10) &gt; 0){ secondmins = parseInt(secondarray[11],10); }
<a name="l1119"><span class="linenum">1119</span></a>              var mins = firstmins + secondmins + change;   <span class="comment">//Minutes</span>
<a name="l1120"><span class="linenum">1120</span></a>              change = Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(mins / 60);
<a name="l1121"><span class="linenum">1121</span></a>              mins = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(mins - (change * 60));
<a name="l1122"><span class="linenum">1122</span></a>              var firsthours = 0;
<a name="l1123"><span class="linenum">1123</span></a>              if(parseInt(firstarray[9],10) &gt; 0){ firsthours = parseInt(firstarray[9],10); }
<a name="l1124"><span class="linenum">1124</span></a>              var secondhours = 0;
<a name="l1125"><span class="linenum">1125</span></a>              if(parseInt(secondarray[9],10) &gt; 0){ secondhours = parseInt(secondarray[9],10); }
<a name="l1126"><span class="linenum">1126</span></a>              var hours = firsthours + secondhours + change; <span class="comment">//Hours</span>
<a name="l1127"><span class="linenum">1127</span></a>              change = Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(hours / 24);
<a name="l1128"><span class="linenum">1128</span></a>              hours = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(hours - (change * 24));
<a name="l1129"><span class="linenum">1129</span></a>              var firstdays = 0;
<a name="l1130"><span class="linenum">1130</span></a>              if(parseInt(firstarray[6],10) &gt; 0){ firstdays = parseInt(firstarray[6],10); }
<a name="l1131"><span class="linenum">1131</span></a>              var seconddays = 0;
<a name="l1132"><span class="linenum">1132</span></a>              if(parseInt(secondarray[6],10) &gt; 0){ firstdays = parseInt(secondarray[6],10); }
<a name="l1133"><span class="linenum">1133</span></a>              var days = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(firstdays + seconddays + change); <span class="comment">// Days</span>
<a name="l1134"><span class="linenum">1134</span></a>              var firstmonths = 0;
<a name="l1135"><span class="linenum">1135</span></a>              if(parseInt(firstarray[4],10) &gt; 0){ firstmonths = parseInt(firstarray[4],10); }
<a name="l1136"><span class="linenum">1136</span></a>              var secondmonths = 0;
<a name="l1137"><span class="linenum">1137</span></a>              if(parseInt(secondarray[4],10) &gt; 0){ secondmonths = parseInt(secondarray[4],10); }
<a name="l1138"><span class="linenum">1138</span></a>              var months = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(firstmonths + secondmonths);
<a name="l1139"><span class="linenum">1139</span></a>              var firstyears = 0;
<a name="l1140"><span class="linenum">1140</span></a>              if(parseInt(firstarray[2],10) &gt; 0){ firstyears = parseInt(firstarray[2],10); }
<a name="l1141"><span class="linenum">1141</span></a>              var secondyears = 0;
<a name="l1142"><span class="linenum">1142</span></a>              if(parseInt(secondarray[2],10) &gt; 0){ secondyears = parseInt(secondarray[2],10); }
<a name="l1143"><span class="linenum">1143</span></a>              var years = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(firstyears + secondyears);
<a name="l1144"><span class="linenum">1144</span></a>          }
<a name="l1145"><span class="linenum">1145</span></a>          if (years &gt; 0) {
<a name="l1146"><span class="linenum">1146</span></a>              timestring += years + 'Y';
<a name="l1147"><span class="linenum">1147</span></a>          }
<a name="l1148"><span class="linenum">1148</span></a>          if (months &gt; 0) {
<a name="l1149"><span class="linenum">1149</span></a>              timestring += months + 'M';
<a name="l1150"><span class="linenum">1150</span></a>          }
<a name="l1151"><span class="linenum">1151</span></a>          if (days &gt; 0) {
<a name="l1152"><span class="linenum">1152</span></a>              timestring += days + 'D';
<a name="l1153"><span class="linenum">1153</span></a>          }
<a name="l1154"><span class="linenum">1154</span></a>          if ((hours &gt; 0) || (mins &gt; 0) || (secs &gt; 0)) {
<a name="l1155"><span class="linenum">1155</span></a>              timestring += 'T';
<a name="l1156"><span class="linenum">1156</span></a>              if (hours &gt; 0) {
<a name="l1157"><span class="linenum">1157</span></a>                  timestring += hours + 'H';
<a name="l1158"><span class="linenum">1158</span></a>              }
<a name="l1159"><span class="linenum">1159</span></a>              if (mins &gt; 0) {
<a name="l1160"><span class="linenum">1160</span></a>                  timestring += mins + 'M';
<a name="l1161"><span class="linenum">1161</span></a>              }
<a name="l1162"><span class="linenum">1162</span></a>              if (secs &gt; 0) {
<a name="l1163"><span class="linenum">1163</span></a>                  timestring += secs + 'S';
<a name="l1164"><span class="linenum">1164</span></a>              }
<a name="l1165"><span class="linenum">1165</span></a>          }
<a name="l1166"><span class="linenum">1166</span></a>          return timestring;
<a name="l1167"><span class="linenum">1167</span></a>      }
<a name="l1168"><span class="linenum">1168</span></a>  
<a name="l1169"><span class="linenum">1169</span></a>      function <a class="function" onClick="logFunction('TotalTime')" href="../../../_functions/totaltime.html" onMouseOver="funcPopup(event,'totaltime')">TotalTime</a>() {
<a name="l1170"><span class="linenum">1170</span></a>          var total_time = <a class="function" onClick="logFunction('AddTime')" href="../../../_functions/addtime.html" onMouseOver="funcPopup(event,'addtime')">AddTime</a>(cmi.total_time, cmi.session_time);
<a name="l1171"><span class="linenum">1171</span></a>          return '&amp;' + <a class="function" onClick="logFunction('underscore')" href="../../../_functions/underscore.html" onMouseOver="funcPopup(event,'underscore')">underscore</a>('cmi.total_time') + '=' + <a class="function" onClick="logFunction('encodeURIComponent')" href="../../../_functions/encodeuricomponent.html" onMouseOver="funcPopup(event,'encodeuricomponent')">encodeURIComponent</a>(total_time);
<a name="l1172"><span class="linenum">1172</span></a>      }
<a name="l1173"><span class="linenum">1173</span></a>  
<a name="l1174"><span class="linenum">1174</span></a>      function <a class="function" onClick="logFunction('CollectData')" href="../../../_functions/collectdata.html" onMouseOver="funcPopup(event,'collectdata')">CollectData</a>(data,parent) {
<a name="l1175"><span class="linenum">1175</span></a>          var datastring = '';
<a name="l1176"><span class="linenum">1176</span></a>          for (property in data) {
<a name="l1177"><span class="linenum">1177</span></a>              if (typeof data[property] == 'object') {
<a name="l1178"><span class="linenum">1178</span></a>                  datastring += <a class="function" onClick="logFunction('CollectData')" href="../../../_functions/collectdata.html" onMouseOver="funcPopup(event,'collectdata')">CollectData</a>(data[property],parent + '.' + property);
<a name="l1179"><span class="linenum">1179</span></a>              } else {
<a name="l1180"><span class="linenum">1180</span></a>                  var element = parent + '.' + property;
<a name="l1181"><span class="linenum">1181</span></a>                  var expression = new RegExp(CMIIndexStore,'g');
<a name="l1182"><span class="linenum">1182</span></a>                  var elementmodel = String(element).<a class="function" onClick="logFunction('replace')" href="../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(expression,'.n.');
<a name="l1183"><span class="linenum">1183</span></a>                  if ((typeof eval('datamodel[&quot;' + scoid + '&quot;][&quot;' + elementmodel + '&quot;]')) != &quot;undefined&quot;) {
<a name="l1184"><span class="linenum">1184</span></a>                      if (eval('datamodel[&quot;' + scoid + '&quot;][&quot;' + elementmodel + '&quot;].mod') != 'r') {
<a name="l1185"><span class="linenum">1185</span></a>                          var elementstring = '&amp;' + <a class="function" onClick="logFunction('underscore')" href="../../../_functions/underscore.html" onMouseOver="funcPopup(event,'underscore')">underscore</a>(element) + '=' + <a class="function" onClick="logFunction('encodeURIComponent')" href="../../../_functions/encodeuricomponent.html" onMouseOver="funcPopup(event,'encodeuricomponent')">encodeURIComponent</a>(data[property]);
<a name="l1186"><span class="linenum">1186</span></a>                          if ((typeof eval('datamodel[&quot;' + scoid + '&quot;][&quot;' + elementmodel + '&quot;].defaultvalue')) != &quot;undefined&quot;) {
<a name="l1187"><span class="linenum">1187</span></a>                              if (eval('datamodel[&quot;' + scoid + '&quot;][&quot;' + elementmodel + '&quot;].defaultvalue') != data[property] || eval('typeof(datamodel[&quot;' + scoid + '&quot;][&quot;' + elementmodel + '&quot;].defaultvalue)') != typeof(data[property])) {
<a name="l1188"><span class="linenum">1188</span></a>                                  datastring += elementstring;
<a name="l1189"><span class="linenum">1189</span></a>                              }
<a name="l1190"><span class="linenum">1190</span></a>                          } else {
<a name="l1191"><span class="linenum">1191</span></a>                              datastring += elementstring;
<a name="l1192"><span class="linenum">1192</span></a>                          }
<a name="l1193"><span class="linenum">1193</span></a>                      }
<a name="l1194"><span class="linenum">1194</span></a>                  }
<a name="l1195"><span class="linenum">1195</span></a>              }
<a name="l1196"><span class="linenum">1196</span></a>          }
<a name="l1197"><span class="linenum">1197</span></a>          return datastring;
<a name="l1198"><span class="linenum">1198</span></a>      }
<a name="l1199"><span class="linenum">1199</span></a>  
<a name="l1200"><span class="linenum">1200</span></a>      function <a class="function" onClick="logFunction('StoreData')" href="../../../_functions/storedata.html" onMouseOver="funcPopup(event,'storedata')">StoreData</a>(data,storetotaltime) {
<a name="l1201"><span class="linenum">1201</span></a>          var datastring = '';
<a name="l1202"><span class="linenum">1202</span></a>          if (storetotaltime) {
<a name="l1203"><span class="linenum">1203</span></a>              if (cmi.mode == 'normal') {
<a name="l1204"><span class="linenum">1204</span></a>                  if (cmi.credit == 'credit') {
<a name="l1205"><span class="linenum">1205</span></a>                      if ((cmi.completion_threshold) &amp;&amp; (cmi.progress_measure)) {
<a name="l1206"><span class="linenum">1206</span></a>                          if (cmi.progress_measure &gt;= cmi.completion_threshold) {
<a name="l1207"><span class="linenum">1207</span></a>                              cmi.completion_status = 'completed';
<a name="l1208"><span class="linenum">1208</span></a>                          } else {
<a name="l1209"><span class="linenum">1209</span></a>                              cmi.completion_status = 'incomplete';
<a name="l1210"><span class="linenum">1210</span></a>                          }
<a name="l1211"><span class="linenum">1211</span></a>                      }
<a name="l1212"><span class="linenum">1212</span></a>                      if ((cmi.scaled_passed_score != null) &amp;&amp; (cmi.score.scaled != '')) {
<a name="l1213"><span class="linenum">1213</span></a>                          if (cmi.score.scaled &gt;= cmi.scaled_passed_score) {
<a name="l1214"><span class="linenum">1214</span></a>                              cmi.success_status = 'passed';
<a name="l1215"><span class="linenum">1215</span></a>                          } else {
<a name="l1216"><span class="linenum">1216</span></a>                              cmi.success_status = 'failed';
<a name="l1217"><span class="linenum">1217</span></a>                          }
<a name="l1218"><span class="linenum">1218</span></a>                      }
<a name="l1219"><span class="linenum">1219</span></a>                  }
<a name="l1220"><span class="linenum">1220</span></a>              }
<a name="l1221"><span class="linenum">1221</span></a>              datastring += <a class="function" onClick="logFunction('TotalTime')" href="../../../_functions/totaltime.html" onMouseOver="funcPopup(event,'totaltime')">TotalTime</a>();
<a name="l1222"><span class="linenum">1222</span></a>          }
<a name="l1223"><span class="linenum">1223</span></a>          datastring += <a class="function" onClick="logFunction('CollectData')" href="../../../_functions/collectdata.html" onMouseOver="funcPopup(event,'collectdata')">CollectData</a>(data,'cmi');
<a name="l1224"><span class="linenum">1224</span></a>          var element = 'adl.nav.request';
<a name="l1225"><span class="linenum">1225</span></a>          var navrequest = eval(element) != datamodel[scoid][element].defaultvalue ? '&amp;' + <a class="function" onClick="logFunction('underscore')" href="../../../_functions/underscore.html" onMouseOver="funcPopup(event,'underscore')">underscore</a>(element) + '=' + <a class="function" onClick="logFunction('encodeURIComponent')" href="../../../_functions/encodeuricomponent.html" onMouseOver="funcPopup(event,'encodeuricomponent')">encodeURIComponent</a>(eval(element)) : '';
<a name="l1226"><span class="linenum">1226</span></a>          datastring += navrequest;
<a name="l1227"><span class="linenum">1227</span></a>  
<a name="l1228"><span class="linenum">1228</span></a>          var myRequest = <a class="function" onClick="logFunction('NewHttpReq')" href="../../../_functions/newhttpreq.html" onMouseOver="funcPopup(event,'newhttpreq')">NewHttpReq</a>();
<a name="l1229"><span class="linenum">1229</span></a>          result = <a class="function" onClick="logFunction('DoRequest')" href="../../../_functions/dorequest.html" onMouseOver="funcPopup(event,'dorequest')">DoRequest</a>(myRequest, datamodelurl, datamodelurlparams + datastring);
<a name="l1230"><span class="linenum">1230</span></a>  
<a name="l1231"><span class="linenum">1231</span></a>          var results = String(result).<a class="phpfunction" onClick="logFunction('split')" href="../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>('\n');
<a name="l1232"><span class="linenum">1232</span></a>          if ((results.length &gt; 2) &amp;&amp; (navrequest != '')) {
<a name="l1233"><span class="linenum">1233</span></a>              eval(results[2]);
<a name="l1234"><span class="linenum">1234</span></a>          }
<a name="l1235"><span class="linenum">1235</span></a>          errorCode = results[1];
<a name="l1236"><span class="linenum">1236</span></a>          return results[0];
<a name="l1237"><span class="linenum">1237</span></a>      }
<a name="l1238"><span class="linenum">1238</span></a>  
<a name="l1239"><span class="linenum">1239</span></a>      this.Initialize = Initialize;
<a name="l1240"><span class="linenum">1240</span></a>      this.Terminate = Terminate;
<a name="l1241"><span class="linenum">1241</span></a>      this.GetValue = GetValue;
<a name="l1242"><span class="linenum">1242</span></a>      this.SetValue = SetValue;
<a name="l1243"><span class="linenum">1243</span></a>      this.Commit = Commit;
<a name="l1244"><span class="linenum">1244</span></a>      this.GetLastError = GetLastError;
<a name="l1245"><span class="linenum">1245</span></a>      this.GetErrorString = GetErrorString;
<a name="l1246"><span class="linenum">1246</span></a>      this.GetDiagnostic = GetDiagnostic;
<a name="l1247"><span class="linenum">1247</span></a>      this.version = '1.0';
<a name="l1248"><span class="linenum">1248</span></a>  }
<a name="l1249"><span class="linenum">1249</span></a>  
<a name="l1250"><span class="linenum">1250</span></a>  M.scorm_api = {};
<a name="l1251"><span class="linenum">1251</span></a>  
<a name="l1252"><span class="linenum">1252</span></a>  M.scorm_api.init = function(Y, def, cmiobj, cmiint, cmicommentsuser, cmicommentslms, scormdebugging, scormauto, scormid, cfgwwwroot, sesskey, scoid, attempt, viewmode, cmid, currentorg, autocommit) {
<a name="l1253"><span class="linenum">1253</span></a>      window.API_1484_11 = new <a class="function" onClick="logFunction('SCORMapi1_3')" href="../../../_functions/scormapi1_3.html" onMouseOver="funcPopup(event,'scormapi1_3')">SCORMapi1_3</a>(def, cmiobj, cmiint, cmicommentsuser, cmicommentslms, scormdebugging, scormauto, scormid, cfgwwwroot, sesskey, scoid, attempt, viewmode, cmid, currentorg, autocommit);
<a name="l1254"><span class="linenum">1254</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'setvalue': ['setvalue', 'Set AutoFilter Rule Value ', [['lib/phpexcel/PHPExcel/Worksheet/AutoFilter/Column','Rule.php',315],['lib/pear/HTML/QuickForm','input.php',104],['lib/form','filemanager.php',118],['lib/pear/HTML/QuickForm','date.php',428],['lib/zend/Zend/Gdata/Calendar/Extension','QuickAdd.php',111],['lib/google/src/Google/Service','DoubleClickBidManager.php',362],['lib/google/src/Google/Service','Doubleclicksearch.php',796],['lib/google/src/Google/Service','Doubleclicksearch.php',822],['lib/google/src/Google/Service','Manager.php',741],['lib/google/src/Google/Service','Manager.php',1098],['lib/google/src/Google/Service','Manager.php',1468],['lib/pear/HTML/QuickForm','link.php',105],['lib/google/src/Google/Service','Reports.php',695],['lib/google/src/Google/Service','Reports.php',1127],['lib/zend/Zend/Gdata/YouTube/Extension','Position.php',66],['lib/google/src/Google/Service','Gmail.php',1772],['lib/google/src/Google/Service','Plus.php',3119],['lib/google/src/Google/Service','Plus.php',3322],['lib/google/src/Google/Service','Plus.php',3357],['lib/google/src/Google/Service','Mirror.php',1466],['lib/google/src/Google/Service','Mirror.php',1923],['lib/form','editor.php',137],['lib/google/src/Google/Service','Genomics.php',2643],['lib/form','selectgroups.php',138],['lib/zend/Zend/Gdata/Calendar/Extension','AccessLevel.php',104],['lib/google/src/Google/Service','Dfareporting.php',1117],['lib/google/src/Google/Service','Dfareporting.php',1179],['lib/google/src/Google/Service','PlusDomains.php',3289],['lib/google/src/Google/Service','PlusDomains.php',3492],['lib/google/src/Google/Service','PlusDomains.php',3527],['lib/pear/HTML/QuickForm','checkbox.php',181],['lib/zend/Zend/Gdata/Books/Extension','Viewability.php',106],['lib/google/src/Google/Service','Drive.php',3737],['lib/google/src/Google/Service','Drive.php',5070],['lib/google/src/Google/Service','Drive.php',5204],['lib/google/src/Google/Service','Books.php',3693],['lib/pear/HTML/QuickForm','select.php',185],['lib/google/src/Google/Service','YouTube.php',7377],['lib/google/src/Google/Service','YouTube.php',8156],['lib/zend/Zend/Gdata/Calendar/Extension','Timezone.php',103],['lib/google/src/Google/Service','Coordinate.php',757],['lib/zend/Zend/Gdata/Extension','Transparency.php',101],['lib/google/src/Google/Service','Autoscaler.php',1192],['lib/google/src/Google/Service','Audit.php',364],['lib/pear/HTML/QuickForm','static.php',107],['lib/google/src/Google/Service','Datastore.php',583],['lib/google/src/Google/Service','Datastore.php',1048],['lib/google/src/Google/Service','Pagespeedonline.php',380],['lib/google/src/Google/Service','Pagespeedonline.php',463],['lib/google/src/Google/Service','Pagespeedonline.php',517],['lib/pear/HTML/QuickForm','textarea.php',99],['lib/google/src/Google/Service','ShoppingContent.php',2127],['lib/google/src/Google/Service','ShoppingContent.php',2873],['lib/google/src/Google/Service','ShoppingContent.php',3479],['lib/google/src/Google/Service','ShoppingContent.php',3658],['lib/google/src/Google/Service','ShoppingContent.php',3917],['lib/google/src/Google/Service','ShoppingContent.php',3943],['lib/zend/Zend/Gdata/Extension','AttendeeStatus.php',101],['lib/google/src/Google/Service','SQLAdmin.php',1303],['lib/pear/HTML/QuickForm','hierselect.php',243],['lib/pear/HTML/QuickForm','advcheckbox.php',155],['lib/google/src/Google/Service','Fitness.php',747],['lib/google/src/Google/Service','TagManager.php',2686],['lib/google/src/Google/Service','Directory.php',4906],['lib/google/src/Google/Service','Directory.php',5171],['lib/google/src/Google/Service','Directory.php',5286],['lib/zend/Zend/Gdata/Books/Extension','Embeddability.php',106],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/style/js','props.js',302],['lib/pear/HTML/QuickForm','element.php',158],['lib/zend/Zend/Gdata/Calendar/Extension','Color.php',104],['lib/zend/Zend/Server/Reflection','Node.php',155],['lib/zend/Zend/Gdata/Extension','EventStatus.php',80],['mod/scorm/datamodels','scorm_13.js',469],['lib/google/src/Google/Service','Games.php',5485],['lib/phpexcel/PHPExcel','Cell.php',207],['lib/phpexcel/PHPExcel/Calculation','FormulaToken.php',132],['lib/google/src/Google/Service','MapsEngine.php',3858],['lib/zend/Zend/Gdata/Calendar/Extension','Hidden.php',112],['lib/zend/Zend/Gdata/Extension','Visibility.php',101],['lib/google/src/Google/Service','Prediction.php',543],['lib/google/src/Google/Service','Prediction.php',685],['lib/google/src/Google/Service','Compute.php',5807],['lib/google/src/Google/Service','Compute.php',6864],['lib/google/src/Google/Service','Compute.php',6956],['lib/google/src/Google/Service','Compute.php',7462],['lib/google/src/Google/Service','Compute.php',8588],['lib/google/src/Google/Service','Compute.php',8991],['lib/google/src/Google/Service','Compute.php',9054],['lib/google/src/Google/Service','Compute.php',9675],['lib/google/src/Google/Service','Compute.php',9767],['lib/google/src/Google/Service','Compute.php',10404],['lib/google/src/Google/Service','Compute.php',11120],['lib/google/src/Google/Service','Compute.php',11546],['lib/zend/Zend/Gdata/Calendar/Extension','Selected.php',112],['lib/google/src/Google/Service','CloudMonitoring.php',941],['lib/google/src/Google/Service','Calendar.php',1976],['lib/google/src/Google/Service','Calendar.php',3662],['lib/google/src/Google/Service','Analytics.php',6679],['lib/pear/HTML/QuickForm','file.php',117],['mod/wiki/editors','wikifiletable.php',70],['lib/zend/Zend/Gdata/Calendar/Extension','SendEventNotifications.php',110],['lib/zend/Zend/Gdata/Extension','AttendeeType.php',101],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ParticipantStatus.php',92],['lib/pear/HTML/QuickForm','group.php',144],['lib/pear/HTML/QuickForm','xbutton.php',88],['lib/google/src/Google/Service','Replicapool.php',1265],['lib/google/src/Google/Service','Resourceviews.php',593],['lib/google/src/Google/Service','Resourceviews.php',1004],['lib/zend/Zend/Gdata/Extension','Rating.php',228],['lib/zend/Zend/Gdata/Extension','ExtendedProperty.php',100]], 152],
'getvalue': ['getvalue', 'Return the value of this object, convert the XML-RPC native nill value into a PHP NULL ', [['lib/zend/Zend/XmlRpc/Value','Nil.php',50],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter/Column','Rule.php',306],['backup/cc','entity11.lti.class.php',75],['lib/zend/Zend/XmlRpc/Value','Base64.php',58],['lib/pear/HTML/QuickForm','input.php',120],['lib/form','filemanager.php',127],['lib/horde/framework/Horde/Mime','Headers.php',433],['lib/zend/Zend/Gdata/Calendar/Extension','QuickAdd.php',101],['lib/zend/Zend/Http','Cookie.php',143],['lib/zend/Zend/XmlRpc/Value','BigInteger.php',56],['lib/google/src/Google/Service','DoubleClickBidManager.php',366],['lib/google/src/Google/Service','Doubleclicksearch.php',800],['lib/google/src/Google/Service','Doubleclicksearch.php',826],['lib/google/src/Google/Service','Manager.php',745],['lib/google/src/Google/Service','Manager.php',1102],['lib/google/src/Google/Service','Manager.php',1472],['lib/pear/HTML/QuickForm','link.php',122],['lib/google/src/Google/Service','Reports.php',699],['lib/google/src/Google/Service','Reports.php',1131],['lib/zend/Zend/Gdata/YouTube/Extension','Position.php',56],['lib/google/src/Google/Service','Gmail.php',1776],['lib/google/src/Google/Service','Plus.php',3123],['lib/google/src/Google/Service','Plus.php',3326],['lib/google/src/Google/Service','Plus.php',3361],['lib/google/src/Google/Service','Mirror.php',1470],['lib/google/src/Google/Service','Mirror.php',1927],['lib/form','editor.php',151],['lib/google/src/Google/Service','Genomics.php',2647],['lib/form','selectgroups.php',148],['lib/zend/Zend/XmlRpc/Value','String.php',51],['lib/zend/Zend/Gdata/Calendar/Extension','AccessLevel.php',93],['lib/google/src/Google/Service','Dfareporting.php',1121],['lib/google/src/Google/Service','Dfareporting.php',1183],['lib/google/src/Google/Service','PlusDomains.php',3293],['lib/google/src/Google/Service','PlusDomains.php',3496],['lib/google/src/Google/Service','PlusDomains.php',3531],['lib/pear/HTML/QuickForm','checkbox.php',197],['lib/zend/Zend/XmlRpc/Value','DateTime.php',82],['lib/zend/Zend/Gdata/Books/Extension','Viewability.php',95],['lib/google/src/Google/Service','Drive.php',3741],['lib/google/src/Google/Service','Drive.php',5074],['lib/google/src/Google/Service','Drive.php',5208],['backup/cc','entity11.basiclti.class.php',80],['lib/google/src/Google/Service','Books.php',3697],['lib','searchlib.php',65],['lib/pear/HTML/QuickForm','select.php',201],['lib/google/src/Google/Service','YouTube.php',7381],['lib/google/src/Google/Service','YouTube.php',8160],['lib/zend/Zend/Gdata/Calendar/Extension','Timezone.php',93],['lib/zend/Zend/XmlRpc/Value','Collection.php',59],['lib/google/src/Google/Service','Coordinate.php',761],['lib/zend/Zend/Gdata/Extension','Transparency.php',91],['lib/google/src/Google/Service','Autoscaler.php',1196],['lib/google/src/Google/Service','Audit.php',368],['lib/google/src/Google/Service','Datastore.php',587],['lib/google/src/Google/Service','Datastore.php',1052],['lib/google/src/Google/Service','Pagespeedonline.php',384],['lib/google/src/Google/Service','Pagespeedonline.php',467],['lib/google/src/Google/Service','Pagespeedonline.php',521],['lib/pear/HTML/QuickForm','textarea.php',115],['lib/google/src/Google/Service','ShoppingContent.php',2131],['lib/google/src/Google/Service','ShoppingContent.php',2877],['lib/google/src/Google/Service','ShoppingContent.php',3483],['lib/google/src/Google/Service','ShoppingContent.php',3662],['lib/google/src/Google/Service','ShoppingContent.php',3921],['lib/google/src/Google/Service','ShoppingContent.php',3947],['lib/google/src/Google/Utils','URITemplate.php',322],['lib/zend/Zend/XmlRpc/Value','Integer.php',56],['lib/zend/Zend/Gdata/Extension','AttendeeStatus.php',91],['lib/google/src/Google/Service','SQLAdmin.php',1307],['lib/pear/HTML/QuickForm','advcheckbox.php',170],['lib/google/src/Google/Service','Fitness.php',751],['lib/google/src/Google/Service','TagManager.php',2690],['lib/google/src/Google/Service','Directory.php',4910],['lib/google/src/Google/Service','Directory.php',5175],['lib/google/src/Google/Service','Directory.php',5290],['lib/zend/Zend/Gdata/Books/Extension','Embeddability.php',95],['lib/pear/HTML/QuickForm','element.php',174],['lib/zend/Zend/XmlRpc/Value','Double.php',53],['lib/zend/Zend/Gdata/Calendar/Extension','Color.php',94],['lib/zend/Zend/Server/Reflection','Node.php',145],['lib/zend/Zend/Gdata/Extension','EventStatus.php',70],['lib/zend/Zend/XmlRpc/Value','Boolean.php',54],['mod/scorm/datamodels','scorm_13.js',376],['lib/google/src/Google/Service','Games.php',5489],['lib/phpexcel/PHPExcel','Cell.php',183],['lib/phpexcel/PHPExcel/Calculation','FormulaToken.php',123],['lib/google/src/Google/Service','MapsEngine.php',3862],['lib/zend/Zend/Gdata/Calendar/Extension','Hidden.php',102],['lib/editor/tinymce/plugins/spellchecker/classes/utils','JSON.php',85],['lib/zend/Zend/Gdata/Extension','Visibility.php',91],['lib/google/src/Google/Service','Prediction.php',547],['lib/google/src/Google/Service','Prediction.php',689],['lib/google/src/Google/Service','Compute.php',5811],['lib/google/src/Google/Service','Compute.php',6868],['lib/google/src/Google/Service','Compute.php',6960],['lib/google/src/Google/Service','Compute.php',7466],['lib/google/src/Google/Service','Compute.php',8592],['lib/google/src/Google/Service','Compute.php',8995],['lib/google/src/Google/Service','Compute.php',9058],['lib/google/src/Google/Service','Compute.php',9679],['lib/google/src/Google/Service','Compute.php',9771],['lib/google/src/Google/Service','Compute.php',10408],['lib/google/src/Google/Service','Compute.php',11124],['lib/google/src/Google/Service','Compute.php',11550],['lib/zend/Zend/Gdata/Calendar/Extension','Selected.php',102],['lib/google/src/Google/Service','CloudMonitoring.php',945],['lib/google/src/Google/Service','Calendar.php',1980],['lib/google/src/Google/Service','Calendar.php',3666],['lib/google/src/Google/Service','Analytics.php',6683],['lib/pear/HTML/QuickForm','file.php',138],['mod/wiki/editors','wikifiletable.php',74],['lib/zend/Zend/Gdata/Calendar/Extension','SendEventNotifications.php',100],['lib/zend/Zend/Gdata/Extension','AttendeeType.php',91],['lib/zend/Zend/Service/DeveloperGarden/ConferenceCall','ParticipantStatus.php',82],['lib/pear/HTML/QuickForm','group.php',179],['lib/pear/HTML/QuickForm','xbutton.php',96],['lib/google/src/Google/Service','Replicapool.php',1269],['lib/google/src/Google/Service','Resourceviews.php',597],['lib/google/src/Google/Service','Resourceviews.php',1008],['lib/zend/Zend/Gdata/Extension','Rating.php',218],['lib/zend/Zend/Gdata/Extension','ExtendedProperty.php',95]], 265],
'getdiagnostic': ['getdiagnostic', '', [['mod/scorm/datamodels','scorm_13.js',1054]], 0],
'addtime': ['addtime', 'Adds a time to the existing date. Format defines how to parse the time string. If only parts are given the other parts are set to 0. If no format is given, the standardformat of this locale is used. For example: HH:mm:ss -> 10 -> +10 hours ', [['lib/zend/Zend','Date.php',2846],['mod/scorm/datamodels','scorm_13.js',1102],['mod/scorm/datamodels','aicc.js',431],['mod/scorm/datamodels','scorm_12.js',490]], 3],
'initialize': ['initialize', 'Prepare the AMF InputStream for parsing. ', [['lib/zend/Zend/Amf','Request.php',84],['','mdeploytest.php',79],['','mdeploy.php',113],['','mdeploy.php',352],['','mdeploy.php',453],['','mdeploy.php',578],['','mdeploy.php',895],['lib/phpexcel/PHPExcel','CachedObjectStorageFactory.php',179],['mod/scorm/datamodels','scorm_13.js',281],['lib/pear/Net/GeoIP','DMA.php',60],['lib/classes','shutdown_manager.php',40],['lib/classes/update','deployer.php',93],['question','category_class.php',197],['lib/typo3','class.t3lib_l10n_locales.php',147]], 18],
'initdatamodel': ['initdatamodel', '', [['mod/scorm/datamodels','scorm_13.js',228],['mod/scorm/datamodels','aicc.js',135],['mod/scorm/datamodels','scorm_12.js',127]], 3],
'on': ['on', '', [['lib/requirejs','require.js',506]], 3494],
'match': ['match', 'Parse from a token, regexp or string, and move forward if match ', [['lib/lessphp','Parser.php',661],['lib/zend/Zend/Http','Cookie.php',221],['lib/phpexcel/PHPExcel/Calculation','LookupRef.php',477],['lib/horde/framework/Horde/Mail/Rfc822','List.php',244],['lib/horde/framework/Horde/Mail/Rfc822','Group.php',121],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',17319],['lib','lexer.php',69],['lib/minify/lib','JSMinPlus.php',1780],['lib/horde/framework/Horde/Mail/Rfc822','Address.php',181],['lib/lessphp/Tree','Selector.php',67],['lib/zend/Zend/Rest','Route.php',113]], 908],
'settimeout': ['settimeout', 'Set the maximum request time in seconds. ', [['lib/google','curlio.php',156],['lib/phpmailer','class.smtp.php',949],['lib/google/src/Google/IO','Curl.php',123],['lib/google/src/Google/IO','Stream.php',187]], 699],
'p': ['p', 'Alias to print_text(), operates identically. ', [['lib','html2text.php',409],['lib','weblib.php',105]], 329],
'join': ['join', 'Join a room. For internal use by the Games SDK only. Calling this method directly is unsupported. (rooms.join) ', [['lib/google/src/Google/Service','Games.php',1715],['lib/google/src/Google/Service','Games.php',2099]], 949],
'geterrorstring': ['geterrorstring', '', [['mod/scorm/datamodels','scorm_13.js',959]], 0],
'cancel': ['cancel', 'Called on the particular Update endpoint. Cancels the update in state PAUSED. No-op if invoked in state CANCELLED. (updates.cancel) ', [['lib/google/src/Google/Service','Replicapoolupdater.php',257],['grade/grading/form','lib.php',892],['lib/google/src/Google/Service','Genomics.php',877],['lib/google/src/Google/Service','AndroidPublisher.php',2142],['lib/google/src/Google/Service','Games.php',1999],['grade/grading/form/guide','lib.php',730],['grade/grading/form/rubric','lib.php',730],['lib/lessphp/Tree','Unit.php',104]], 264],
'terminate': ['terminate', 'Shuts down one or more instances. This operation is idempotent; if you terminate an instance more than once, each call will succeed. ', [['lib/zend/Zend/Service/Amazon/Ec2','Instance.php',320],['mod/scorm/datamodels','scorm_13.js',310]], 0],
'collectdata': ['collectdata', '', [['mod/scorm/datamodels','scorm_13.js',1174],['mod/scorm/datamodels','aicc.js',484],['mod/scorm/datamodels','scorm_12.js',543]], 8],
'newhttpreq': ['newhttpreq', '', [['mod/scorm','request.js',16]], 4],
'concat': ['concat', 'concat ', [['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',985],['lib/adodb','adodb.inc.php',2470],['lib/adodb/drivers','adodb-pdo_mysql.inc.php',44],['lib/adodb/drivers','adodb-pdo.inc.php',178],['lib/adodb/drivers','adodb-mysqli.inc.php',455],['lib/adodb/drivers','adodb-mssql.inc.php',668],['lib/adodb/drivers','adodb-mssqlnative.inc.php',514],['lib/adodb/drivers','adodb-mysql.inc.php',430],['lib/adodb/drivers','adodb-fbsql.inc.php',54]], 962],
'duplicatedid': ['duplicatedid', '', [['mod/scorm/datamodels','scorm_13.js',1067]], 3],
'duplicatedpa': ['duplicatedpa', '', [['mod/scorm/datamodels','scorm_13.js',1078]], 1],
'getelementmodel': ['getelementmodel', '', [['mod/scorm/datamodels','scorm_13.js',1089]], 0],
'crremoveprefixes': ['crremoveprefixes', '', [['mod/scorm/datamodels','scorm_13.js',804]], 1],
't': ['t', 'Returns the translation of a message. ', [['lib/horde/framework/Horde/Translation/Handler','Gettext.php',53],['lib/horde/framework/Horde/Imap/Client','Translation.php',25],['lib/horde/framework/Horde/Exception','Translation.php',19],['lib/xhprof/xhprof_html/jquery','jquery-1.2.6.js',3222],['lib/horde/framework/Horde/Translation','Handler.php',20],['lib/horde/framework/Horde','Translation.php',84],['lib/horde/framework/Horde/Mime','Translation.php',25]], 312],
'dorequest': ['dorequest', '', [['mod/scorm','request.js',38],['lib/zend/Zend/XmlRpc','Client.php',248]], 5],
'n': ['n', '', [['lib/flowplayer','flowplayer-3.2.13.js',40],['lib/phpexcel/PHPExcel/Calculation','Functions.php',503]], 628],
'commit': ['commit', 'Commit current batch ', [['lib/zend/Zend/Service/WindowsAzure/Storage','Batch.php',193],['lib/google/src/Google/Service','Datastore.php',174],['lib/google/src/Google/Service','AndroidPublisher.php',1161],['mod/scorm/datamodels','scorm_13.js',915],['mnet','peer.php',192]], 14],
'scormapi1_3': ['scormapi1_3', '', [['mod/scorm/datamodels','scorm_13.js',22]], 1],
'getlasterror': ['getlasterror', '', [['mod/scorm/datamodels','scorm_13.js',952]], 0],
'replace': ['replace', '', [['lib/adodb','adodb-active-recordx.inc.php',985],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',48],['lib/adodb','adodb.inc.php',1669],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/searchreplace/js','searchreplace.js',70],['lib/phpexcel/PHPExcel/Calculation','TextData.php',487],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',49],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',2448],['lib/google/src/Google/Utils','URITemplate.php',83],['lib/lessphp','Functions.php',373],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',34],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',61],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',70],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',55],['lib/adodb','adodb-active-record.inc.php',813]], 3262],
'underscore': ['underscore', '', [['mod/scorm','module.js',32],['lib/horde/framework/Horde/Support','Inflector.php',250]], 12],
'crcheckvaluenodes': ['crcheckvaluenodes', '', [['mod/scorm/datamodels','scorm_13.js',856]], 2],
'encodeuricomponent': ['encodeuricomponent', 'Php version of javascript\'s `encodeURIComponent` function ', [['lib/lessphp','Functions.php',893]], 150],
'totaltime': ['totaltime', '', [['mod/scorm/datamodels','scorm_13.js',1169],['mod/scorm/datamodels','aicc.js',479],['mod/scorm/datamodels','scorm_12.js',538]], 3],
'io': ['io', '', [['lib/yuilib/3.17.2/io-base','io-base-debug.js',39],['lib/yuilib/3.17.2/io-base','io-base.js',39]], 201],
'storedata': ['storedata', '', [['mod/scorm/datamodels','scorm_13.js',1200],['mod/scorm/datamodels','aicc.js',510],['mod/scorm/datamodels','scorm_12.js',616]], 6],
'floor': ['floor', '', [], 467],
'substr': ['substr', '', [], 2883],
'split': ['split', '', [], 852],
'round': ['round', '', [], 903]};
CLASS_DATA={
'object': ['object', 'Simple class. It is usually used instead of stdClass because it looks more familiar to Java developers ;-) Do not use for type checking of function parameters. Please use stdClass instead. ', [['lib','setuplib.php',55]], 73]};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
