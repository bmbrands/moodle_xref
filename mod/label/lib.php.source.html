<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/label/lib.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='mod/label';
filename='lib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/label/</a> -> <a href="lib.php.html">lib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="lib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="lib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">//</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">//</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">//</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l17"><span class="linenum">  17</span></a>  
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment">/**</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> * Library of functions and constants for module label</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> *</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @package mod_label</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  1999 onwards Martin Dougiamas  {@link http://moodle.com}</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die;
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">/** LABEL_MAX_NAME_LENGTH = 50 */</span>
<a name="l29"><span class="linenum">  29</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>(&quot;<a class="constant" onClick="logConstant('LABEL_MAX_NAME_LENGTH')" href="../../_constants/LABEL_MAX_NAME_LENGTH.html" onMouseOver="constPopup(event,'LABEL_MAX_NAME_LENGTH')">LABEL_MAX_NAME_LENGTH</a>&quot;, 50);
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">/**</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * @uses LABEL_MAX_NAME_LENGTH</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * @param object $label</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * @return string</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> */</span>
<a name="l36"><span class="linenum">  36</span></a>  function <a class="function" onClick="logFunction('get_label_name')" href="../../_functions/get_label_name.html" onMouseOver="funcPopup(event,'get_label_name')">get_label_name</a>(<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>) {
<a name="l37"><span class="linenum">  37</span></a>      <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> = <a class="phpfunction" onClick="logFunction('strip_tags')" href="../../_functions/strip_tags.html" onMouseOver="phpfuncPopup(event,'strip_tags')">strip_tags</a>(<a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>-&gt;<a onClick="logVariable('intro')" class="var it43925" onMouseOver="hilite(43925)" onMouseOut="lolite()" href="../../_variables/intro.html">intro</a>,true));
<a name="l38"><span class="linenum">  38</span></a>      if (<a class="class" onClick="logClass('core_text')" href="../../_classes/core_text.html" onMouseOver="classPopup(event,'core_text')">core_text</a>::<a class="function" onClick="logFunction('strlen')" href="../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>) &gt; <a class="constant" onClick="logConstant('LABEL_MAX_NAME_LENGTH')" href="../../_constants/LABEL_MAX_NAME_LENGTH.html" onMouseOver="constPopup(event,'LABEL_MAX_NAME_LENGTH')">LABEL_MAX_NAME_LENGTH</a>) {
<a name="l39"><span class="linenum">  39</span></a>          <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> = <a class="class" onClick="logClass('core_text')" href="../../_classes/core_text.html" onMouseOver="classPopup(event,'core_text')">core_text</a>::<a class="phpfunction" onClick="logFunction('substr')" href="../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, 0, <a class="constant" onClick="logConstant('LABEL_MAX_NAME_LENGTH')" href="../../_constants/LABEL_MAX_NAME_LENGTH.html" onMouseOver="constPopup(event,'LABEL_MAX_NAME_LENGTH')">LABEL_MAX_NAME_LENGTH</a>).&quot;...&quot;;
<a name="l40"><span class="linenum">  40</span></a>      }
<a name="l41"><span class="linenum">  41</span></a>  
<a name="l42"><span class="linenum">  42</span></a>      if (empty(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>)) {
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">        // arbitrary name</span>
<a name="l44"><span class="linenum">  44</span></a>          <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulename','label');
<a name="l45"><span class="linenum">  45</span></a>      }
<a name="l46"><span class="linenum">  46</span></a>  
<a name="l47"><span class="linenum">  47</span></a>      return <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>;
<a name="l48"><span class="linenum">  48</span></a>  }
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">/**</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment"> * Given an object containing all the necessary data,</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment"> * (defined by the form in mod_form.php) this function</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment"> * will create a new instance and return the id number</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment"> * of the new instance.</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment"> *</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment"> * @global object</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment"> * @param object $label</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment"> * @return bool|int</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment"> */</span>
<a name="l59"><span class="linenum">  59</span></a>  function <a class="function" onClick="logFunction('label_add_instance')" href="../../_functions/label_add_instance.html" onMouseOver="funcPopup(event,'label_add_instance')">label_add_instance</a>(<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>) {
<a name="l60"><span class="linenum">  60</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l61"><span class="linenum">  61</span></a>  
<a name="l62"><span class="linenum">  62</span></a>      <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>-&gt;<a onClick="logVariable('name')" class="var it43925" onMouseOver="hilite(43925)" onMouseOut="lolite()" href="../../_variables/name.html">name</a> = <a class="function" onClick="logFunction('get_label_name')" href="../../_functions/get_label_name.html" onMouseOver="funcPopup(event,'get_label_name')">get_label_name</a>(<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>);
<a name="l63"><span class="linenum">  63</span></a>      <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>-&gt;<a onClick="logVariable('timemodified')" class="var it43925" onMouseOver="hilite(43925)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l64"><span class="linenum">  64</span></a>  
<a name="l65"><span class="linenum">  65</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>(&quot;label&quot;, <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>);
<a name="l66"><span class="linenum">  66</span></a>  }
<a name="l67"><span class="linenum">  67</span></a>  
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">/**</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment"> * Given an object containing all the necessary data,</span>
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment"> * (defined by the form in mod_form.php) this function</span>
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment"> * will update an existing instance with new data.</span>
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment"> *</span>
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment"> * @global object</span>
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment"> * @param object $label</span>
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment"> * @return bool</span>
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment"> */</span>
<a name="l77"><span class="linenum">  77</span></a>  function <a class="function" onClick="logFunction('label_update_instance')" href="../../_functions/label_update_instance.html" onMouseOver="funcPopup(event,'label_update_instance')">label_update_instance</a>(<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>) {
<a name="l78"><span class="linenum">  78</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l79"><span class="linenum">  79</span></a>  
<a name="l80"><span class="linenum">  80</span></a>      <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>-&gt;<a onClick="logVariable('name')" class="var it43925" onMouseOver="hilite(43925)" onMouseOut="lolite()" href="../../_variables/name.html">name</a> = <a class="function" onClick="logFunction('get_label_name')" href="../../_functions/get_label_name.html" onMouseOver="funcPopup(event,'get_label_name')">get_label_name</a>(<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>);
<a name="l81"><span class="linenum">  81</span></a>      <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>-&gt;<a onClick="logVariable('timemodified')" class="var it43925" onMouseOver="hilite(43925)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l82"><span class="linenum">  82</span></a>      <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>-&gt;<a onClick="logVariable('id')" class="var it43925" onMouseOver="hilite(43925)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>-&gt;<a onClick="logVariable('instance')" class="var it43925" onMouseOver="hilite(43925)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>;
<a name="l83"><span class="linenum">  83</span></a>  
<a name="l84"><span class="linenum">  84</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>(&quot;label&quot;, <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>);
<a name="l85"><span class="linenum">  85</span></a>  }
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">/**</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment"> * Given an ID of an instance of this module,</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment"> * this function will permanently delete the instance</span>
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment"> * and any data that depends on it.</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment"> *</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment"> * @global object</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment"> * @param int $id</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment"> * @return bool</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment"> */</span>
<a name="l96"><span class="linenum">  96</span></a>  function <a class="function" onClick="logFunction('label_delete_instance')" href="../../_functions/label_delete_instance.html" onMouseOver="funcPopup(event,'label_delete_instance')">label_delete_instance</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>) {
<a name="l97"><span class="linenum">  97</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l98"><span class="linenum">  98</span></a>  
<a name="l99"><span class="linenum">  99</span></a>      if (! <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>(&quot;label&quot;, array(&quot;id&quot;=&gt;<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>))) {
<a name="l100"><span class="linenum"> 100</span></a>          return false;
<a name="l101"><span class="linenum"> 101</span></a>      }
<a name="l102"><span class="linenum"> 102</span></a>  
<a name="l103"><span class="linenum"> 103</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = true;
<a name="l104"><span class="linenum"> 104</span></a>  
<a name="l105"><span class="linenum"> 105</span></a>      if (! <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>(&quot;label&quot;, array(&quot;id&quot;=&gt;<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>-&gt;<a onClick="logVariable('id')" class="var it43925" onMouseOver="hilite(43925)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>))) {
<a name="l106"><span class="linenum"> 106</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = false;
<a name="l107"><span class="linenum"> 107</span></a>      }
<a name="l108"><span class="linenum"> 108</span></a>  
<a name="l109"><span class="linenum"> 109</span></a>      return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l110"><span class="linenum"> 110</span></a>  }
<a name="l111"><span class="linenum"> 111</span></a>  
<a name="l112"><span class="linenum"> 112</span></a>  <span class="comment">/**</span>
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment"> * Given a course_module object, this function returns any</span>
<a name="l114"><span class="linenum"> 114</span></a>  <span class="comment"> * &quot;extra&quot; information that may be needed when printing</span>
<a name="l115"><span class="linenum"> 115</span></a>  <span class="comment"> * this activity in a course listing.</span>
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment"> * See get_array_of_activities() in course/lib.php</span>
<a name="l117"><span class="linenum"> 117</span></a>  <span class="comment"> *</span>
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment"> * @global object</span>
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment"> * @param object $coursemodule</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment"> * @return cached_cm_info|null</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment"> */</span>
<a name="l122"><span class="linenum"> 122</span></a>  function <a class="function" onClick="logFunction('label_get_coursemodule_info')" href="../../_functions/label_get_coursemodule_info.html" onMouseOver="funcPopup(event,'label_get_coursemodule_info')">label_get_coursemodule_info</a>(<a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>) {
<a name="l123"><span class="linenum"> 123</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l124"><span class="linenum"> 124</span></a>  
<a name="l125"><span class="linenum"> 125</span></a>      if (<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('label', array('id'=&gt;<a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('instance')" class="var it43092" onMouseOver="hilite(43092)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>), 'id, name, intro, introformat')) {
<a name="l126"><span class="linenum"> 126</span></a>          if (empty(<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>-&gt;<a onClick="logVariable('name')" class="var it43925" onMouseOver="hilite(43925)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>)) {
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment">            // label name missing, fix it</span>
<a name="l128"><span class="linenum"> 128</span></a>              <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>-&gt;<a onClick="logVariable('name')" class="var it43925" onMouseOver="hilite(43925)" onMouseOut="lolite()" href="../../_variables/name.html">name</a> = &quot;label{<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>-&gt;<a onClick="logVariable('id')" class="var it43925" onMouseOver="hilite(43925)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>}&quot;;
<a name="l129"><span class="linenum"> 129</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('set_field')" href="../../_functions/set_field.html" onMouseOver="funcPopup(event,'set_field')">set_field</a>('label', 'name', <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>-&gt;<a onClick="logVariable('name')" class="var it43925" onMouseOver="hilite(43925)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>, array('id'=&gt;<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>-&gt;<a onClick="logVariable('id')" class="var it43925" onMouseOver="hilite(43925)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l130"><span class="linenum"> 130</span></a>          }
<a name="l131"><span class="linenum"> 131</span></a>          <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a> = <span class="keyword">new </span><a class="class" onClick="logClass('cached_cm_info')" href="../../_classes/cached_cm_info.html" onMouseOver="classPopup(event,'cached_cm_info')">cached_cm_info</a>();
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">        // no filtering hre because this info is cached and filtered later</span>
<a name="l133"><span class="linenum"> 133</span></a>          <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('content')" class="var it42982" onMouseOver="hilite(42982)" onMouseOut="lolite()" href="../../_variables/content.html">content</a> = <a class="function" onClick="logFunction('format_module_intro')" href="../../_functions/format_module_intro.html" onMouseOver="funcPopup(event,'format_module_intro')">format_module_intro</a>('label', <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>, <a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('id')" class="var it43092" onMouseOver="hilite(43092)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, false);
<a name="l134"><span class="linenum"> 134</span></a>          <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('name')" class="var it42982" onMouseOver="hilite(42982)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>  = <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('label')" href="../../_variables/label.html">$label</a>-&gt;<a onClick="logVariable('name')" class="var it43925" onMouseOver="hilite(43925)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>;
<a name="l135"><span class="linenum"> 135</span></a>          return <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>;
<a name="l136"><span class="linenum"> 136</span></a>      } else {
<a name="l137"><span class="linenum"> 137</span></a>          return null;
<a name="l138"><span class="linenum"> 138</span></a>      }
<a name="l139"><span class="linenum"> 139</span></a>  }
<a name="l140"><span class="linenum"> 140</span></a>  
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment">/**</span>
<a name="l142"><span class="linenum"> 142</span></a>  <span class="comment"> * This function is used by the reset_course_userdata function in moodlelib.</span>
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment"> *</span>
<a name="l144"><span class="linenum"> 144</span></a>  <span class="comment"> * @param object $data the data submitted from the reset course.</span>
<a name="l145"><span class="linenum"> 145</span></a>  <span class="comment"> * @return array status array</span>
<a name="l146"><span class="linenum"> 146</span></a>  <span class="comment"> */</span>
<a name="l147"><span class="linenum"> 147</span></a>  function <a class="function" onClick="logFunction('label_reset_userdata')" href="../../_functions/label_reset_userdata.html" onMouseOver="funcPopup(event,'label_reset_userdata')">label_reset_userdata</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>) {
<a name="l148"><span class="linenum"> 148</span></a>      return array();
<a name="l149"><span class="linenum"> 149</span></a>  }
<a name="l150"><span class="linenum"> 150</span></a>  
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment">/**</span>
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment"> * Returns all other caps used in module</span>
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment"> *</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment"> * @return array</span>
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment"> */</span>
<a name="l156"><span class="linenum"> 156</span></a>  function <a class="function" onClick="logFunction('label_get_extra_capabilities')" href="../../_functions/label_get_extra_capabilities.html" onMouseOver="funcPopup(event,'label_get_extra_capabilities')">label_get_extra_capabilities</a>() {
<a name="l157"><span class="linenum"> 157</span></a>      return array('moodle/site:accessallgroups');
<a name="l158"><span class="linenum"> 158</span></a>  }
<a name="l159"><span class="linenum"> 159</span></a>  
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">/**</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment"> * @uses FEATURE_IDNUMBER</span>
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment"> * @uses FEATURE_GROUPS</span>
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment"> * @uses FEATURE_GROUPINGS</span>
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment"> * @uses FEATURE_MOD_INTRO</span>
<a name="l165"><span class="linenum"> 165</span></a>  <span class="comment"> * @uses FEATURE_COMPLETION_TRACKS_VIEWS</span>
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment"> * @uses FEATURE_GRADE_HAS_GRADE</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment"> * @uses FEATURE_GRADE_OUTCOMES</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment"> * @param string $feature FEATURE_xx constant for requested feature</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment"> * @return bool|null True if module supports feature, false if not, null if doesn't know</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment"> */</span>
<a name="l171"><span class="linenum"> 171</span></a>  function <a class="function" onClick="logFunction('label_supports')" href="../../_functions/label_supports.html" onMouseOver="funcPopup(event,'label_supports')">label_supports</a>(<a class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" onClick="logVariable('feature')" href="../../_variables/feature.html">$feature</a>) {
<a name="l172"><span class="linenum"> 172</span></a>      switch(<a class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" onClick="logVariable('feature')" href="../../_variables/feature.html">$feature</a>) {
<a name="l173"><span class="linenum"> 173</span></a>          case <a class="constant" onClick="logConstant('FEATURE_IDNUMBER')" href="../../_constants/FEATURE_IDNUMBER.html" onMouseOver="constPopup(event,'FEATURE_IDNUMBER')">FEATURE_IDNUMBER</a>:                return false;
<a name="l174"><span class="linenum"> 174</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GROUPS')" href="../../_constants/FEATURE_GROUPS.html" onMouseOver="constPopup(event,'FEATURE_GROUPS')">FEATURE_GROUPS</a>:                  return false;
<a name="l175"><span class="linenum"> 175</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GROUPINGS')" href="../../_constants/FEATURE_GROUPINGS.html" onMouseOver="constPopup(event,'FEATURE_GROUPINGS')">FEATURE_GROUPINGS</a>:               return false;
<a name="l176"><span class="linenum"> 176</span></a>          case <a class="constant" onClick="logConstant('FEATURE_MOD_INTRO')" href="../../_constants/FEATURE_MOD_INTRO.html" onMouseOver="constPopup(event,'FEATURE_MOD_INTRO')">FEATURE_MOD_INTRO</a>:               return true;
<a name="l177"><span class="linenum"> 177</span></a>          case <a class="constant" onClick="logConstant('FEATURE_COMPLETION_TRACKS_VIEWS')" href="../../_constants/FEATURE_COMPLETION_TRACKS_VIEWS.html" onMouseOver="constPopup(event,'FEATURE_COMPLETION_TRACKS_VIEWS')">FEATURE_COMPLETION_TRACKS_VIEWS</a>: return false;
<a name="l178"><span class="linenum"> 178</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GRADE_HAS_GRADE')" href="../../_constants/FEATURE_GRADE_HAS_GRADE.html" onMouseOver="constPopup(event,'FEATURE_GRADE_HAS_GRADE')">FEATURE_GRADE_HAS_GRADE</a>:         return false;
<a name="l179"><span class="linenum"> 179</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GRADE_OUTCOMES')" href="../../_constants/FEATURE_GRADE_OUTCOMES.html" onMouseOver="constPopup(event,'FEATURE_GRADE_OUTCOMES')">FEATURE_GRADE_OUTCOMES</a>:          return false;
<a name="l180"><span class="linenum"> 180</span></a>          case <a class="constant" onClick="logConstant('FEATURE_MOD_ARCHETYPE')" href="../../_constants/FEATURE_MOD_ARCHETYPE.html" onMouseOver="constPopup(event,'FEATURE_MOD_ARCHETYPE')">FEATURE_MOD_ARCHETYPE</a>:           return <a class="constant" onClick="logConstant('MOD_ARCHETYPE_RESOURCE')" href="../../_constants/MOD_ARCHETYPE_RESOURCE.html" onMouseOver="constPopup(event,'MOD_ARCHETYPE_RESOURCE')">MOD_ARCHETYPE_RESOURCE</a>;
<a name="l181"><span class="linenum"> 181</span></a>          case <a class="constant" onClick="logConstant('FEATURE_BACKUP_MOODLE2')" href="../../_constants/FEATURE_BACKUP_MOODLE2.html" onMouseOver="constPopup(event,'FEATURE_BACKUP_MOODLE2')">FEATURE_BACKUP_MOODLE2</a>:          return true;
<a name="l182"><span class="linenum"> 182</span></a>          case <a class="constant" onClick="logConstant('FEATURE_NO_VIEW_LINK')" href="../../_constants/FEATURE_NO_VIEW_LINK.html" onMouseOver="constPopup(event,'FEATURE_NO_VIEW_LINK')">FEATURE_NO_VIEW_LINK</a>:            return true;
<a name="l183"><span class="linenum"> 183</span></a>  
<a name="l184"><span class="linenum"> 184</span></a>          default: return null;
<a name="l185"><span class="linenum"> 185</span></a>      }
<a name="l186"><span class="linenum"> 186</span></a>  }
<a name="l187"><span class="linenum"> 187</span></a>  
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment">/**</span>
<a name="l189"><span class="linenum"> 189</span></a>  <span class="comment"> * Register the ability to handle drag and drop file uploads</span>
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment"> * @return array containing details of the files / types the mod can handle</span>
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment"> */</span>
<a name="l192"><span class="linenum"> 192</span></a>  function <a class="function" onClick="logFunction('label_dndupload_register')" href="../../_functions/label_dndupload_register.html" onMouseOver="funcPopup(event,'label_dndupload_register')">label_dndupload_register</a>() {
<a name="l193"><span class="linenum"> 193</span></a>      <a class="var it36757" onMouseOver="hilite(36757)" onMouseOut="lolite()" onClick="logVariable('strdnd')" href="../../_variables/strdnd.html">$strdnd</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('dnduploadlabel', 'mod_label');
<a name="l194"><span class="linenum"> 194</span></a>      if (<a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('label', 'dndmedia')) {
<a name="l195"><span class="linenum"> 195</span></a>          <a class="var it36758" onMouseOver="hilite(36758)" onMouseOut="lolite()" onClick="logVariable('mediaextensions')" href="../../_variables/mediaextensions.html">$mediaextensions</a> = <a class="function" onClick="logFunction('file_get_typegroup')" href="../../_functions/file_get_typegroup.html" onMouseOver="funcPopup(event,'file_get_typegroup')">file_get_typegroup</a>('extension', 'web_image');
<a name="l196"><span class="linenum"> 196</span></a>          <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('files')" href="../../_variables/files.html">$files</a> = array();
<a name="l197"><span class="linenum"> 197</span></a>          foreach (<a class="var it36758" onMouseOver="hilite(36758)" onMouseOut="lolite()" onClick="logVariable('mediaextensions')" href="../../_variables/mediaextensions.html">$mediaextensions</a> as <a class="var it27476" onMouseOver="hilite(27476)" onMouseOut="lolite()" onClick="logVariable('extn')" href="../../_variables/extn.html">$extn</a>) {
<a name="l198"><span class="linenum"> 198</span></a>              <a class="var it27476" onMouseOver="hilite(27476)" onMouseOut="lolite()" onClick="logVariable('extn')" href="../../_variables/extn.html">$extn</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it27476" onMouseOver="hilite(27476)" onMouseOut="lolite()" onClick="logVariable('extn')" href="../../_variables/extn.html">$extn</a>, '.');
<a name="l199"><span class="linenum"> 199</span></a>              <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('files')" href="../../_variables/files.html">$files</a>[] = array('extension' =&gt; <a class="var it27476" onMouseOver="hilite(27476)" onMouseOut="lolite()" onClick="logVariable('extn')" href="../../_variables/extn.html">$extn</a>, 'message' =&gt; <a class="var it36757" onMouseOver="hilite(36757)" onMouseOut="lolite()" onClick="logVariable('strdnd')" href="../../_variables/strdnd.html">$strdnd</a>);
<a name="l200"><span class="linenum"> 200</span></a>          }
<a name="l201"><span class="linenum"> 201</span></a>          <a class="var it76" onMouseOver="hilite(76)" onMouseOut="lolite()" onClick="logVariable('ret')" href="../../_variables/ret.html">$ret</a> = array('files' =&gt; <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('files')" href="../../_variables/files.html">$files</a>);
<a name="l202"><span class="linenum"> 202</span></a>      } else {
<a name="l203"><span class="linenum"> 203</span></a>          <a class="var it76" onMouseOver="hilite(76)" onMouseOut="lolite()" onClick="logVariable('ret')" href="../../_variables/ret.html">$ret</a> = array();
<a name="l204"><span class="linenum"> 204</span></a>      }
<a name="l205"><span class="linenum"> 205</span></a>  
<a name="l206"><span class="linenum"> 206</span></a>      <a class="var it36759" onMouseOver="hilite(36759)" onMouseOut="lolite()" onClick="logVariable('strdndtext')" href="../../_variables/strdndtext.html">$strdndtext</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('dnduploadlabeltext', 'mod_label');
<a name="l207"><span class="linenum"> 207</span></a>      return <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it76" onMouseOver="hilite(76)" onMouseOut="lolite()" onClick="logVariable('ret')" href="../../_variables/ret.html">$ret</a>, array('types' =&gt; array(
<a name="l208"><span class="linenum"> 208</span></a>          array('identifier' =&gt; 'text/html', 'message' =&gt; <a class="var it36759" onMouseOver="hilite(36759)" onMouseOut="lolite()" onClick="logVariable('strdndtext')" href="../../_variables/strdndtext.html">$strdndtext</a>, 'noname' =&gt; true),
<a name="l209"><span class="linenum"> 209</span></a>          array('identifier' =&gt; 'text', 'message' =&gt; <a class="var it36759" onMouseOver="hilite(36759)" onMouseOut="lolite()" onClick="logVariable('strdndtext')" href="../../_variables/strdndtext.html">$strdndtext</a>, 'noname' =&gt; true)
<a name="l210"><span class="linenum"> 210</span></a>      )));
<a name="l211"><span class="linenum"> 211</span></a>  }
<a name="l212"><span class="linenum"> 212</span></a>  
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment">/**</span>
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment"> * Handle a file that has been uploaded</span>
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment"> * @param object $uploadinfo details of the file / content that has been uploaded</span>
<a name="l216"><span class="linenum"> 216</span></a>  <span class="comment"> * @return int instance id of the newly created mod</span>
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment"> */</span>
<a name="l218"><span class="linenum"> 218</span></a>  function <a class="function" onClick="logFunction('label_dndupload_handle')" href="../../_functions/label_dndupload_handle.html" onMouseOver="funcPopup(event,'label_dndupload_handle')">label_dndupload_handle</a>(<a class="var it11945" onMouseOver="hilite(11945)" onMouseOut="lolite()" onClick="logVariable('uploadinfo')" href="../../_variables/uploadinfo.html">$uploadinfo</a>) {
<a name="l219"><span class="linenum"> 219</span></a>      global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>;
<a name="l220"><span class="linenum"> 220</span></a>  
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment">    // Gather the required info.</span>
<a name="l222"><span class="linenum"> 222</span></a>      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a> = new stdClass();
<a name="l223"><span class="linenum"> 223</span></a>      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('course')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../_variables/course.html">course</a> = <a class="var it11945" onMouseOver="hilite(11945)" onMouseOut="lolite()" onClick="logVariable('uploadinfo')" href="../../_variables/uploadinfo.html">$uploadinfo</a>-&gt;<a onClick="logVariable('course')" class="var it43094" onMouseOver="hilite(43094)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>-&gt;id;
<a name="l224"><span class="linenum"> 224</span></a>      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('name')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../_variables/name.html">name</a> = <a class="var it11945" onMouseOver="hilite(11945)" onMouseOut="lolite()" onClick="logVariable('uploadinfo')" href="../../_variables/uploadinfo.html">$uploadinfo</a>-&gt;<a onClick="logVariable('displayname')" class="var it43094" onMouseOver="hilite(43094)" onMouseOut="lolite()" href="../../_variables/displayname.html">displayname</a>;
<a name="l225"><span class="linenum"> 225</span></a>      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('intro')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../_variables/intro.html">intro</a> = '';
<a name="l226"><span class="linenum"> 226</span></a>      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('introformat')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../_variables/introformat.html">introformat</a> = <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>;
<a name="l227"><span class="linenum"> 227</span></a>      <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../_variables/coursemodule.html">coursemodule</a> = <a class="var it11945" onMouseOver="hilite(11945)" onMouseOut="lolite()" onClick="logVariable('uploadinfo')" href="../../_variables/uploadinfo.html">$uploadinfo</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it43094" onMouseOver="hilite(43094)" onMouseOut="lolite()" href="../../_variables/coursemodule.html">coursemodule</a>;
<a name="l228"><span class="linenum"> 228</span></a>  
<a name="l229"><span class="linenum"> 229</span></a>  <span class="comment">    // Extract the first (and only) file from the file area and add it to the label as an img tag.</span>
<a name="l230"><span class="linenum"> 230</span></a>      if (!empty(<a class="var it11945" onMouseOver="hilite(11945)" onMouseOut="lolite()" onClick="logVariable('uploadinfo')" href="../../_variables/uploadinfo.html">$uploadinfo</a>-&gt;<a onClick="logVariable('draftitemid')" class="var it43094" onMouseOver="hilite(43094)" onMouseOut="lolite()" href="../../_variables/draftitemid.html">draftitemid</a>)) {
<a name="l231"><span class="linenum"> 231</span></a>          <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a> = <a class="function" onClick="logFunction('get_file_storage')" href="../../_functions/get_file_storage.html" onMouseOver="funcPopup(event,'get_file_storage')">get_file_storage</a>();
<a name="l232"><span class="linenum"> 232</span></a>          <a class="var it36760" onMouseOver="hilite(36760)" onMouseOut="lolite()" onClick="logVariable('draftcontext')" href="../../_variables/draftcontext.html">$draftcontext</a> = <a class="class" onClick="logClass('context_user')" href="../../_classes/context_user.html" onMouseOver="classPopup(event,'context_user')">context_user</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l233"><span class="linenum"> 233</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it11945" onMouseOver="hilite(11945)" onMouseOut="lolite()" onClick="logVariable('uploadinfo')" href="../../_variables/uploadinfo.html">$uploadinfo</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it43094" onMouseOver="hilite(43094)" onMouseOut="lolite()" href="../../_variables/coursemodule.html">coursemodule</a>);
<a name="l234"><span class="linenum"> 234</span></a>          <a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('files')" href="../../_variables/files.html">$files</a> = <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a>-&gt;<a class="function" onClick="logFunction('get_area_files')" href="../../_functions/get_area_files.html" onMouseOver="funcPopup(event,'get_area_files')">get_area_files</a>(<a class="var it36760" onMouseOver="hilite(36760)" onMouseOut="lolite()" onClick="logVariable('draftcontext')" href="../../_variables/draftcontext.html">$draftcontext</a>-&gt;<a onClick="logVariable('id')" class="var it44572" onMouseOver="hilite(44572)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'user', 'draft', <a class="var it11945" onMouseOver="hilite(11945)" onMouseOut="lolite()" onClick="logVariable('uploadinfo')" href="../../_variables/uploadinfo.html">$uploadinfo</a>-&gt;<a onClick="logVariable('draftitemid')" class="var it43094" onMouseOver="hilite(43094)" onMouseOut="lolite()" href="../../_variables/draftitemid.html">draftitemid</a>, '', false);
<a name="l235"><span class="linenum"> 235</span></a>          if (<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a> = <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it223" onMouseOver="hilite(223)" onMouseOut="lolite()" onClick="logVariable('files')" href="../../_variables/files.html">$files</a>)) {
<a name="l236"><span class="linenum"> 236</span></a>              if (<a class="function" onClick="logFunction('file_mimetype_in_typegroup')" href="../../_functions/file_mimetype_in_typegroup.html" onMouseOver="funcPopup(event,'file_mimetype_in_typegroup')">file_mimetype_in_typegroup</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_mimetype')" href="../../_functions/get_mimetype.html" onMouseOver="funcPopup(event,'get_mimetype')">get_mimetype</a>(), 'web_image')) {
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment">                // It is an image - resize it, if too big, then insert the img tag.</span>
<a name="l238"><span class="linenum"> 238</span></a>                  <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../_variables/config.html">$config</a> = <a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('label');
<a name="l239"><span class="linenum"> 239</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('intro')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../_variables/intro.html">intro</a> = <a class="function" onClick="logFunction('label_generate_resized_image')" href="../../_functions/label_generate_resized_image.html" onMouseOver="funcPopup(event,'label_generate_resized_image')">label_generate_resized_image</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>, <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('dndresizewidth')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../_variables/dndresizewidth.html">dndresizewidth</a>, <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('dndresizeheight')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../_variables/dndresizeheight.html">dndresizeheight</a>);
<a name="l240"><span class="linenum"> 240</span></a>              } else {
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">                // We aren't supposed to be supporting non-image types here, but fallback to adding a link, just in case.</span>
<a name="l242"><span class="linenum"> 242</span></a>                  <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = <a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>::<a class="function" onClick="logFunction('make_draftfile_url')" href="../../_functions/make_draftfile_url.html" onMouseOver="funcPopup(event,'make_draftfile_url')">make_draftfile_url</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_itemid')" href="../../_functions/get_itemid.html" onMouseOver="funcPopup(event,'get_itemid')">get_itemid</a>(), <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filepath')" href="../../_functions/get_filepath.html" onMouseOver="funcPopup(event,'get_filepath')">get_filepath</a>(), <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filename')" href="../../_functions/get_filename.html" onMouseOver="funcPopup(event,'get_filename')">get_filename</a>());
<a name="l243"><span class="linenum"> 243</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('intro')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../_variables/intro.html">intro</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>, <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filename')" href="../../_functions/get_filename.html" onMouseOver="funcPopup(event,'get_filename')">get_filename</a>());
<a name="l244"><span class="linenum"> 244</span></a>              }
<a name="l245"><span class="linenum"> 245</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('intro')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../_variables/intro.html">intro</a> = <a class="function" onClick="logFunction('file_save_draft_area_files')" href="../../_functions/file_save_draft_area_files.html" onMouseOver="funcPopup(event,'file_save_draft_area_files')">file_save_draft_area_files</a>(<a class="var it11945" onMouseOver="hilite(11945)" onMouseOut="lolite()" onClick="logVariable('uploadinfo')" href="../../_variables/uploadinfo.html">$uploadinfo</a>-&gt;<a onClick="logVariable('draftitemid')" class="var it43094" onMouseOver="hilite(43094)" onMouseOut="lolite()" href="../../_variables/draftitemid.html">draftitemid</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'mod_label', 'intro', 0,
<a name="l246"><span class="linenum"> 246</span></a>                                                        null, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('intro')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../_variables/intro.html">intro</a>);
<a name="l247"><span class="linenum"> 247</span></a>          }
<a name="l248"><span class="linenum"> 248</span></a>      } else if (!empty(<a class="var it11945" onMouseOver="hilite(11945)" onMouseOut="lolite()" onClick="logVariable('uploadinfo')" href="../../_variables/uploadinfo.html">$uploadinfo</a>-&gt;<a onClick="logVariable('content')" class="var it43094" onMouseOver="hilite(43094)" onMouseOut="lolite()" href="../../_variables/content.html">content</a>)) {
<a name="l249"><span class="linenum"> 249</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('intro')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../_variables/intro.html">intro</a> = <a class="var it11945" onMouseOver="hilite(11945)" onMouseOut="lolite()" onClick="logVariable('uploadinfo')" href="../../_variables/uploadinfo.html">$uploadinfo</a>-&gt;<a onClick="logVariable('content')" class="var it43094" onMouseOver="hilite(43094)" onMouseOut="lolite()" href="../../_variables/content.html">content</a>;
<a name="l250"><span class="linenum"> 250</span></a>          if (<a class="var it11945" onMouseOver="hilite(11945)" onMouseOut="lolite()" onClick="logVariable('uploadinfo')" href="../../_variables/uploadinfo.html">$uploadinfo</a>-&gt;<a onClick="logVariable('type')" class="var it43094" onMouseOver="hilite(43094)" onMouseOut="lolite()" href="../../_variables/type.html">type</a> != 'text/html') {
<a name="l251"><span class="linenum"> 251</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('introformat')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../_variables/introformat.html">introformat</a> = <a class="constant" onClick="logConstant('FORMAT_PLAIN')" href="../../_constants/FORMAT_PLAIN.html" onMouseOver="constPopup(event,'FORMAT_PLAIN')">FORMAT_PLAIN</a>;
<a name="l252"><span class="linenum"> 252</span></a>          }
<a name="l253"><span class="linenum"> 253</span></a>      }
<a name="l254"><span class="linenum"> 254</span></a>  
<a name="l255"><span class="linenum"> 255</span></a>      return <a class="function" onClick="logFunction('label_add_instance')" href="../../_functions/label_add_instance.html" onMouseOver="funcPopup(event,'label_add_instance')">label_add_instance</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>, null);
<a name="l256"><span class="linenum"> 256</span></a>  }
<a name="l257"><span class="linenum"> 257</span></a>  
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment">/**</span>
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment"> * Resize the image, if required, then generate an img tag and, if required, a link to the full-size image</span>
<a name="l260"><span class="linenum"> 260</span></a>  <span class="comment"> * @param stored_file $file the image file to process</span>
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment"> * @param int $maxwidth the maximum width allowed for the image</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment"> * @param int $maxheight the maximum height allowed for the image</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment"> * @return string HTML fragment to add to the label</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment"> */</span>
<a name="l265"><span class="linenum"> 265</span></a>  function <a class="function" onClick="logFunction('label_generate_resized_image')" href="../../_functions/label_generate_resized_image.html" onMouseOver="funcPopup(event,'label_generate_resized_image')">label_generate_resized_image</a>(stored_file <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>, <a class="var it17762" onMouseOver="hilite(17762)" onMouseOut="lolite()" onClick="logVariable('maxwidth')" href="../../_variables/maxwidth.html">$maxwidth</a>, <a class="var it24665" onMouseOver="hilite(24665)" onMouseOut="lolite()" onClick="logVariable('maxheight')" href="../../_variables/maxheight.html">$maxheight</a>) {
<a name="l266"><span class="linenum"> 266</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l267"><span class="linenum"> 267</span></a>  
<a name="l268"><span class="linenum"> 268</span></a>      <a class="var it4383" onMouseOver="hilite(4383)" onMouseOut="lolite()" onClick="logVariable('fullurl')" href="../../_variables/fullurl.html">$fullurl</a> = <a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>::<a class="function" onClick="logFunction('make_draftfile_url')" href="../../_functions/make_draftfile_url.html" onMouseOver="funcPopup(event,'make_draftfile_url')">make_draftfile_url</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_itemid')" href="../../_functions/get_itemid.html" onMouseOver="funcPopup(event,'get_itemid')">get_itemid</a>(), <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filepath')" href="../../_functions/get_filepath.html" onMouseOver="funcPopup(event,'get_filepath')">get_filepath</a>(), <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filename')" href="../../_functions/get_filename.html" onMouseOver="funcPopup(event,'get_filename')">get_filename</a>());
<a name="l269"><span class="linenum"> 269</span></a>      <a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a> = null;
<a name="l270"><span class="linenum"> 270</span></a>      <a class="var it25385" onMouseOver="hilite(25385)" onMouseOut="lolite()" onClick="logVariable('attrib')" href="../../_variables/attrib.html">$attrib</a> = array('alt' =&gt; <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filename')" href="../../_functions/get_filename.html" onMouseOver="funcPopup(event,'get_filename')">get_filename</a>(), 'src' =&gt; <a class="var it4383" onMouseOver="hilite(4383)" onMouseOut="lolite()" onClick="logVariable('fullurl')" href="../../_variables/fullurl.html">$fullurl</a>);
<a name="l271"><span class="linenum"> 271</span></a>  
<a name="l272"><span class="linenum"> 272</span></a>      if (<a class="var it36763" onMouseOver="hilite(36763)" onMouseOut="lolite()" onClick="logVariable('imginfo')" href="../../_variables/imginfo.html">$imginfo</a> = <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_imageinfo')" href="../../_functions/get_imageinfo.html" onMouseOver="funcPopup(event,'get_imageinfo')">get_imageinfo</a>()) {
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment">        // Work out the new width / height, bounded by maxwidth / maxheight</span>
<a name="l274"><span class="linenum"> 274</span></a>          <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../_variables/width.html">$width</a> = <a class="var it36763" onMouseOver="hilite(36763)" onMouseOut="lolite()" onClick="logVariable('imginfo')" href="../../_variables/imginfo.html">$imginfo</a>['width'];
<a name="l275"><span class="linenum"> 275</span></a>          <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../_variables/height.html">$height</a> = <a class="var it36763" onMouseOver="hilite(36763)" onMouseOut="lolite()" onClick="logVariable('imginfo')" href="../../_variables/imginfo.html">$imginfo</a>['height'];
<a name="l276"><span class="linenum"> 276</span></a>          if (!empty(<a class="var it17762" onMouseOver="hilite(17762)" onMouseOut="lolite()" onClick="logVariable('maxwidth')" href="../../_variables/maxwidth.html">$maxwidth</a>) &amp;&amp; <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../_variables/width.html">$width</a> &gt; <a class="var it17762" onMouseOver="hilite(17762)" onMouseOut="lolite()" onClick="logVariable('maxwidth')" href="../../_variables/maxwidth.html">$maxwidth</a>) {
<a name="l277"><span class="linenum"> 277</span></a>              <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../_variables/height.html">$height</a> *= (float)<a class="var it17762" onMouseOver="hilite(17762)" onMouseOut="lolite()" onClick="logVariable('maxwidth')" href="../../_variables/maxwidth.html">$maxwidth</a> / <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../_variables/width.html">$width</a>;
<a name="l278"><span class="linenum"> 278</span></a>              <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../_variables/width.html">$width</a> = <a class="var it17762" onMouseOver="hilite(17762)" onMouseOut="lolite()" onClick="logVariable('maxwidth')" href="../../_variables/maxwidth.html">$maxwidth</a>;
<a name="l279"><span class="linenum"> 279</span></a>          }
<a name="l280"><span class="linenum"> 280</span></a>          if (!empty(<a class="var it24665" onMouseOver="hilite(24665)" onMouseOut="lolite()" onClick="logVariable('maxheight')" href="../../_variables/maxheight.html">$maxheight</a>) &amp;&amp; <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../_variables/height.html">$height</a> &gt; <a class="var it24665" onMouseOver="hilite(24665)" onMouseOut="lolite()" onClick="logVariable('maxheight')" href="../../_variables/maxheight.html">$maxheight</a>) {
<a name="l281"><span class="linenum"> 281</span></a>              <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../_variables/width.html">$width</a> *= (float)<a class="var it24665" onMouseOver="hilite(24665)" onMouseOut="lolite()" onClick="logVariable('maxheight')" href="../../_variables/maxheight.html">$maxheight</a> / <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../_variables/height.html">$height</a>;
<a name="l282"><span class="linenum"> 282</span></a>              <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../_variables/height.html">$height</a> = <a class="var it24665" onMouseOver="hilite(24665)" onMouseOut="lolite()" onClick="logVariable('maxheight')" href="../../_variables/maxheight.html">$maxheight</a>;
<a name="l283"><span class="linenum"> 283</span></a>          }
<a name="l284"><span class="linenum"> 284</span></a>  
<a name="l285"><span class="linenum"> 285</span></a>          <a class="var it25385" onMouseOver="hilite(25385)" onMouseOut="lolite()" onClick="logVariable('attrib')" href="../../_variables/attrib.html">$attrib</a>['width'] = <a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../_variables/width.html">$width</a>;
<a name="l286"><span class="linenum"> 286</span></a>          <a class="var it25385" onMouseOver="hilite(25385)" onMouseOut="lolite()" onClick="logVariable('attrib')" href="../../_variables/attrib.html">$attrib</a>['height'] = <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../_variables/height.html">$height</a>;
<a name="l287"><span class="linenum"> 287</span></a>  
<a name="l288"><span class="linenum"> 288</span></a>  <span class="comment">        // If the size has changed and the image is of a suitable mime type, generate a smaller version</span>
<a name="l289"><span class="linenum"> 289</span></a>          if (<a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../_variables/width.html">$width</a> != <a class="var it36763" onMouseOver="hilite(36763)" onMouseOut="lolite()" onClick="logVariable('imginfo')" href="../../_variables/imginfo.html">$imginfo</a>['width']) {
<a name="l290"><span class="linenum"> 290</span></a>              <a class="var it3340" onMouseOver="hilite(3340)" onMouseOut="lolite()" onClick="logVariable('mimetype')" href="../../_variables/mimetype.html">$mimetype</a> = <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_mimetype')" href="../../_functions/get_mimetype.html" onMouseOver="funcPopup(event,'get_mimetype')">get_mimetype</a>();
<a name="l291"><span class="linenum"> 291</span></a>              if (<a class="var it3340" onMouseOver="hilite(3340)" onMouseOut="lolite()" onClick="logVariable('mimetype')" href="../../_variables/mimetype.html">$mimetype</a> === 'image/gif' or <a class="var it3340" onMouseOver="hilite(3340)" onMouseOut="lolite()" onClick="logVariable('mimetype')" href="../../_variables/mimetype.html">$mimetype</a> === 'image/jpeg' or <a class="var it3340" onMouseOver="hilite(3340)" onMouseOut="lolite()" onClick="logVariable('mimetype')" href="../../_variables/mimetype.html">$mimetype</a> === 'image/png') {
<a name="l292"><span class="linenum"> 292</span></a>                  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>.'/gdlib.php');
<a name="l293"><span class="linenum"> 293</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a> = <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('generate_image_thumbnail')" href="../../_functions/generate_image_thumbnail.html" onMouseOver="funcPopup(event,'generate_image_thumbnail')">generate_image_thumbnail</a>(<a class="var it143" onMouseOver="hilite(143)" onMouseOut="lolite()" onClick="logVariable('width')" href="../../_variables/width.html">$width</a>, <a class="var it293" onMouseOver="hilite(293)" onMouseOut="lolite()" onClick="logVariable('height')" href="../../_variables/height.html">$height</a>);
<a name="l294"><span class="linenum"> 294</span></a>  
<a name="l295"><span class="linenum"> 295</span></a>                  if (!empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>)) {
<a name="l296"><span class="linenum"> 296</span></a>                      <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a> = <a class="function" onClick="logFunction('get_file_storage')" href="../../_functions/get_file_storage.html" onMouseOver="funcPopup(event,'get_file_storage')">get_file_storage</a>();
<a name="l297"><span class="linenum"> 297</span></a>                      <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = array(
<a name="l298"><span class="linenum"> 298</span></a>                          'contextid' =&gt; <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_contextid')" href="../../_functions/get_contextid.html" onMouseOver="funcPopup(event,'get_contextid')">get_contextid</a>(),
<a name="l299"><span class="linenum"> 299</span></a>                          'component' =&gt; <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_component')" href="../../_functions/get_component.html" onMouseOver="funcPopup(event,'get_component')">get_component</a>(),
<a name="l300"><span class="linenum"> 300</span></a>                          'filearea'  =&gt; <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filearea')" href="../../_functions/get_filearea.html" onMouseOver="funcPopup(event,'get_filearea')">get_filearea</a>(),
<a name="l301"><span class="linenum"> 301</span></a>                          'itemid'    =&gt; <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_itemid')" href="../../_functions/get_itemid.html" onMouseOver="funcPopup(event,'get_itemid')">get_itemid</a>(),
<a name="l302"><span class="linenum"> 302</span></a>                          'filepath'  =&gt; '/',
<a name="l303"><span class="linenum"> 303</span></a>                          'filename'  =&gt; 's_'.<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filename')" href="../../_functions/get_filename.html" onMouseOver="funcPopup(event,'get_filename')">get_filename</a>(),
<a name="l304"><span class="linenum"> 304</span></a>                      );
<a name="l305"><span class="linenum"> 305</span></a>                      <a class="var it36764" onMouseOver="hilite(36764)" onMouseOut="lolite()" onClick="logVariable('smallfile')" href="../../_variables/smallfile.html">$smallfile</a> = <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a>-&gt;<a class="function" onClick="logFunction('create_file_from_string')" href="../../_functions/create_file_from_string.html" onMouseOver="funcPopup(event,'create_file_from_string')">create_file_from_string</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>);
<a name="l306"><span class="linenum"> 306</span></a>  
<a name="l307"><span class="linenum"> 307</span></a>  <span class="comment">                    // Replace the image 'src' with the resized file and link to the original</span>
<a name="l308"><span class="linenum"> 308</span></a>                      <a class="var it25385" onMouseOver="hilite(25385)" onMouseOut="lolite()" onClick="logVariable('attrib')" href="../../_variables/attrib.html">$attrib</a>['src'] = <a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>::<a class="function" onClick="logFunction('make_draftfile_url')" href="../../_functions/make_draftfile_url.html" onMouseOver="funcPopup(event,'make_draftfile_url')">make_draftfile_url</a>(<a class="var it36764" onMouseOver="hilite(36764)" onMouseOut="lolite()" onClick="logVariable('smallfile')" href="../../_variables/smallfile.html">$smallfile</a>-&gt;<a class="function" onClick="logFunction('get_itemid')" href="../../_functions/get_itemid.html" onMouseOver="funcPopup(event,'get_itemid')">get_itemid</a>(), <a class="var it36764" onMouseOver="hilite(36764)" onMouseOut="lolite()" onClick="logVariable('smallfile')" href="../../_variables/smallfile.html">$smallfile</a>-&gt;<a class="function" onClick="logFunction('get_filepath')" href="../../_functions/get_filepath.html" onMouseOver="funcPopup(event,'get_filepath')">get_filepath</a>(),
<a name="l309"><span class="linenum"> 309</span></a>                                                                      <a class="var it36764" onMouseOver="hilite(36764)" onMouseOut="lolite()" onClick="logVariable('smallfile')" href="../../_variables/smallfile.html">$smallfile</a>-&gt;<a class="function" onClick="logFunction('get_filename')" href="../../_functions/get_filename.html" onMouseOver="funcPopup(event,'get_filename')">get_filename</a>());
<a name="l310"><span class="linenum"> 310</span></a>                      <a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a> = <a class="var it4383" onMouseOver="hilite(4383)" onMouseOut="lolite()" onClick="logVariable('fullurl')" href="../../_variables/fullurl.html">$fullurl</a>;
<a name="l311"><span class="linenum"> 311</span></a>                  }
<a name="l312"><span class="linenum"> 312</span></a>              }
<a name="l313"><span class="linenum"> 313</span></a>          }
<a name="l314"><span class="linenum"> 314</span></a>  
<a name="l315"><span class="linenum"> 315</span></a>      } else {
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">        // Assume this is an image type that get_imageinfo cannot handle (e.g. SVG)</span>
<a name="l317"><span class="linenum"> 317</span></a>          <a class="var it25385" onMouseOver="hilite(25385)" onMouseOut="lolite()" onClick="logVariable('attrib')" href="../../_variables/attrib.html">$attrib</a>['width'] = <a class="var it17762" onMouseOver="hilite(17762)" onMouseOut="lolite()" onClick="logVariable('maxwidth')" href="../../_variables/maxwidth.html">$maxwidth</a>;
<a name="l318"><span class="linenum"> 318</span></a>      }
<a name="l319"><span class="linenum"> 319</span></a>  
<a name="l320"><span class="linenum"> 320</span></a>      <a class="var it8104" onMouseOver="hilite(8104)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../_variables/img.html">$img</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('empty_tag')" href="../../_functions/empty_tag.html" onMouseOver="funcPopup(event,'empty_tag')">empty_tag</a>('img', <a class="var it25385" onMouseOver="hilite(25385)" onMouseOut="lolite()" onClick="logVariable('attrib')" href="../../_variables/attrib.html">$attrib</a>);
<a name="l321"><span class="linenum"> 321</span></a>      if (<a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>) {
<a name="l322"><span class="linenum"> 322</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="phpfunction" onClick="logFunction('link')" href="../../_functions/link.html" onMouseOver="phpfuncPopup(event,'link')">link</a>(<a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>, <a class="var it8104" onMouseOver="hilite(8104)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../_variables/img.html">$img</a>);
<a name="l323"><span class="linenum"> 323</span></a>      } else {
<a name="l324"><span class="linenum"> 324</span></a>          return <a class="var it8104" onMouseOver="hilite(8104)" onMouseOut="lolite()" onClick="logVariable('img')" href="../../_variables/img.html">$img</a>;
<a name="l325"><span class="linenum"> 325</span></a>      }
<a name="l326"><span class="linenum"> 326</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_component': ['get_component', 'Gets the Frankenstyle component name for this plugin. ', [['availability/classes','frontend.php',86],['lib/classes/task','task_base.php',125],['lib/filebrowser','virtual_root_file.php',191],['grade/grading','lib.php',126],['lib/filestorage','stored_file.php',661],['cache/classes','definition.php',650],['comment','lib.php',975],['grade/grading/form','lib.php',111]], 71],
'get_imageinfo': ['get_imageinfo', 'Returns width, height and mimetype of the stored image, or false ', [['lib/filebrowser','file_info_stored.php',230],['lib/filestorage','stored_file.php',569]], 14],
'file_get_typegroup': ['file_get_typegroup', 'Returns array of elements of type $element in type group(s) ', [['lib','filelib.php',1719]], 14],
'file_save_draft_area_files': ['file_save_draft_area_files', 'Saves files from a draft file area to a real one (merging the list of files). Can rewrite URLs in some content at the same time if desired. ', [['lib','filelib.php',778]], 61],
'label_dndupload_handle': ['label_dndupload_handle', 'Handle a file that has been uploaded ', [['mod/label','lib.php',213]], 0],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pdo_moodle_database.php',461],['lib/dml','oci_native_moodle_database.php',1404],['lib/dml','pgsql_native_moodle_database.php',1089],['lib/dml','mssql_native_moodle_database.php',1067],['lib/dml','mysqli_native_moodle_database.php',1405],['lib/dml','sqlsrv_native_moodle_database.php',1148],['lib/dml/tests','dml_test.php',5551]], 650],
'label_get_coursemodule_info': ['label_get_coursemodule_info', 'Given a course_module object, this function returns any "extra" information that may be needed when printing this activity in a course listing. See get_array_of_activities() in course/lib.php ', [['mod/label','lib.php',112]], 0],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','sqlite3_pdo_moodle_database.php',345],['lib/dml','moodle_database.php',1864]], 773],
'get_contextid': ['get_contextid', '', [['backup/moodle2','backup_block_task.class.php',96],['backup/moodle2','restore_activity_task.class.php',115],['backup/moodle2','restore_block_task.class.php',133],['lib/filebrowser','virtual_root_file.php',182],['lib/filestorage','stored_file.php',652],['backup/moodle2','restore_section_task.class.php',63],['backup/moodle2','backup_course_task.class.php',50],['backup/converter/moodle1','lib.php',524],['backup/moodle2','restore_course_task.class.php',57],['backup/moodle2','backup_activity_task.class.php',103]], 154],
'format_string': ['format_string', 'Given a simple string, this function returns the string processed by enabled string filters if $CFG->filterall is enabled ', [['lib','weblib.php',1379]], 880],
'get_mimetype': ['get_mimetype', 'Returns mimetype ', [['lib/filebrowser','file_info.php',277],['lib/filebrowser','virtual_root_file.php',254],['lib/filebrowser','file_info_stored.php',240],['lib/filestorage','stored_file.php',738],['lib','medialib.php',192],['lib/portfolio','caller.php',453]], 59],
'empty_tag': ['empty_tag', 'Outputs an empty tag with attributes ', [['lib','outputcomponents.php',1106]], 522],
'get_config': ['get_config', 'Config get method. ', [['lib/classes/antivirus','scanner.php',54],['competency/classes','competency_rule.php',59],['question/engine','bank.php',109],['admin/tool/log/classes/helper','store.php',63],['lib','moodlelib.php',1409],['lib','enrollib.php',1142],['lib/editor/tinymce/classes','plugin.php',73],['competency/classes','competency_rule_points.php',43],['search/classes','base.php',169],['mod/assign','assignmentplugin.php',345],['lib/portfolio','plugin.php',546]], 934],
'label_get_extra_capabilities': ['label_get_extra_capabilities', 'Returns all other caps used in module ', [['mod/label','lib.php',151]], 0],
'get_filearea': ['get_filearea', 'Returns file area ', [['lib/filebrowser','virtual_root_file.php',200],['lib/filestorage','stored_file.php',671]], 50],
'set_field': ['set_field', 'Set a single field in every table record where all the given conditions met. ', [['lib/dml','moodle_database.php',1737],['availability/condition/profile/tests','condition_test.php',349]], 485],
'label_reset_userdata': ['label_reset_userdata', 'This function is used by the reset_course_userdata function in moodlelib. ', [['mod/label','lib.php',141]], 0],
'get_filepath': ['get_filepath', 'Returns file path ', [['lib/filebrowser','virtual_root_file.php',218],['lib/filestorage','stored_file.php',690],['backup/util/ui','restore_ui_stage.class.php',547]], 147],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'get_itemid': ['get_itemid', 'Returns file itemid ', [['lib/filebrowser','virtual_root_file.php',209],['lib/filestorage','stored_file.php',681],['comment','lib.php',1019]], 67],
'file_mimetype_in_typegroup': ['file_mimetype_in_typegroup', 'Checks if mimetype $mimetype belongs to one of the groups $groups ', [['lib','filelib.php',1775]], 10],
'get_file_storage': ['get_file_storage', 'Returns local file storage instance ', [['lib','moodlelib.php',6144]], 546],
'label_delete_instance': ['label_delete_instance', 'Given an ID of an instance of this module, this function will permanently delete the instance and any data that depends on it. ', [['mod/label','lib.php',87]], 0],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'format_module_intro': ['format_module_intro', 'Formats activity intro text ', [['lib','weblib.php',1542]], 65],
'strlen': ['strlen', 'Counts the number of characters. Unit-tested by Kasper (single byte charsets only) ', [['lib/typo3','class.t3lib_cs.php',1520],['lib/classes','text.php',305]], 1649],
'make_draftfile_url': ['make_draftfile_url', 'Factory method for creation of url pointing to draft file of current user. ', [['lib','weblib.php',820]], 23],
'get_area_files': ['get_area_files', 'Returns all area files (optionally limited by itemid) ', [['lib/filestorage','file_storage.php',782],['lib','externallib.php',1134]], 216],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'label_dndupload_register': ['label_dndupload_register', 'Register the ability to handle drag and drop file uploads ', [['mod/label','lib.php',188]], 0],
'generate_image_thumbnail': ['generate_image_thumbnail', 'Generates a thumbnail for the given image ', [['lib','gdlib.php',273],['lib/filestorage','stored_file.php',1038]], 5],
'get_filename': ['get_filename', 'Returns file name ', [['lib/filebrowser','virtual_root_file.php',227],['lib/filestorage','stored_file.php',699],['lib','medialib.php',169]], 248],
'label_generate_resized_image': ['label_generate_resized_image', 'Resize the image, if required, then generate an img tag and, if required, a link to the full-size image ', [['mod/label','lib.php',258]], 1],
'label_supports': ['label_supports', '', [['mod/label','lib.php',171]], 0],
'create_file_from_string': ['create_file_from_string', 'Create new file from string - make sure params are valid. ', [['lib/filebrowser','file_info.php',379],['lib/filebrowser','file_info_stored.php',490],['lib/filestorage','file_storage.php',1482]], 132],
'label_update_instance': ['label_update_instance', 'Given an object containing all the necessary data, (defined by the form in mod_form.php) this function will update an existing instance with new data. ', [['mod/label','lib.php',68]], 0],
'get_label_name': ['get_label_name', '', [['mod/label','lib.php',36]], 2],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'label_add_instance': ['label_add_instance', 'Given an object containing all the necessary data, (defined by the form in mod_form.php) this function will create a new instance and return the id number of the new instance. ', [['mod/label','lib.php',49]], 1],
'link': ['link', '', [], 695],
'substr': ['substr', '', [], 2823],
'define': ['define', '', [], 2373],
'time': ['time', '', [], 1959],
'trim': ['trim', '', [], 1948],
'reset': ['reset', '', [], 1213],
'strip_tags': ['strip_tags', '', [], 150],
'array_merge': ['array_merge', '', [], 2944],
'defined': ['defined', '', [], 4731]};
CLASS_DATA={
'cached_cm_info': ['cached_cm_info', 'Class that is the return value for the _get_coursemodule_info module API function. ', [['lib','modinfolib.php',2265]], 7],
'html_writer': ['html_writer', 'Simple html output class ', [['lib','outputcomponents.php',1062]], 5120],
'context_user': ['context_user', 'User context class ', [['lib','accesslib.php',6398]], 414],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',7039]], 1106],
'core_text': ['core_text', 'defines string api\'s for manipulating strings ', [['lib/classes','text.php',27]], 566],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',238]], 3088]};
CONST_DATA={
'FEATURE_IDNUMBER': ['FEATURE_IDNUMBER', '', [['lib','moodlelib.php',412]], 3],
'FEATURE_GROUPINGS': ['FEATURE_GROUPINGS', '', [['lib','moodlelib.php',416]], 23],
'FEATURE_GROUPS': ['FEATURE_GROUPS', '', [['lib','moodlelib.php',414]], 25],
'MOD_ARCHETYPE_RESOURCE': ['MOD_ARCHETYPE_RESOURCE', '', [['lib','moodlelib.php',445]], 13],
'FEATURE_NO_VIEW_LINK': ['FEATURE_NO_VIEW_LINK', '', [['lib','moodlelib.php',410]], 5],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'FEATURE_GRADE_HAS_GRADE': ['FEATURE_GRADE_HAS_GRADE', '', [['lib','moodlelib.php',394]], 29],
'FEATURE_COMPLETION_TRACKS_VIEWS': ['FEATURE_COMPLETION_TRACKS_VIEWS', '', [['lib','moodlelib.php',405]], 23],
'FORMAT_HTML': ['FORMAT_HTML', '', [['lib','weblib.php',47]], 1121],
'FEATURE_GRADE_OUTCOMES': ['FEATURE_GRADE_OUTCOMES', '', [['lib','moodlelib.php',396]], 23],
'FEATURE_BACKUP_MOODLE2': ['FEATURE_BACKUP_MOODLE2', '', [['lib','moodlelib.php',434]], 35],
'FORMAT_PLAIN': ['FORMAT_PLAIN', '', [['lib','weblib.php',52]], 152],
'FEATURE_MOD_INTRO': ['FEATURE_MOD_INTRO', '', [['lib','moodlelib.php',426]], 31],
'FEATURE_MOD_ARCHETYPE': ['FEATURE_MOD_ARCHETYPE', '', [['lib','moodlelib.php',424]], 13],
'LABEL_MAX_NAME_LENGTH': ['LABEL_MAX_NAME_LENGTH', '', [['mod/label','lib.php',29]], 3]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
