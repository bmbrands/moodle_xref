<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/choice/classes/external.php source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='mod/choice/classes';
filename='external.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/choice/classes/</a> -> <a href="external.php.html">external.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="external.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="external.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Choice module external API</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    mod_choice</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @category   external</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2015 Costantino Cito &lt;ccito@cvaconsulting.com&gt;</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * @since      Moodle 3.0</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> */</span>
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die;
<a name="l28"><span class="linenum">  28</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../_variables/libdir.html">libdir</a> . '/externallib.php');
<a name="l29"><span class="linenum">  29</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../../mod/choice/lib.php.html">/mod/choice/lib.php</a>');
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">/**</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * Choice module external functions</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> *</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * @package    mod_choice</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * @category   external</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * @copyright  2015 Costantino Cito &lt;ccito@cvaconsulting.com&gt;</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * @since      Moodle 3.0</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> */</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('mod_choice_external')" href="../../../_classes/mod_choice_external.html" onMouseOver="classPopup(event,'mod_choice_external')">mod_choice_external</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('external_api')" href="../../../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a> {
<a name="l41"><span class="linenum">  41</span></a>  
<a name="l42"><span class="linenum">  42</span></a>      <span class="comment">/**</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     * Describes the parameters for get_choices_by_courses.</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     *</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     */</span>
<a name="l48"><span class="linenum">  48</span></a>      public static function <a class="function" onClick="logFunction('get_choice_results_parameters')" href="../../../_functions/get_choice_results_parameters.html" onMouseOver="funcPopup(event,'get_choice_results_parameters')">get_choice_results_parameters</a>() {
<a name="l49"><span class="linenum">  49</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (array('choiceid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'choice instance id')));
<a name="l50"><span class="linenum">  50</span></a>      }
<a name="l51"><span class="linenum">  51</span></a>      <span class="comment">/**</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment">     * Returns user's results for a specific choice</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">     * and a list of those users that did not answered yet.</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">     *</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">     * @param int $choiceid the choice instance id</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment">     * @return array of responses details</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">     */</span>
<a name="l59"><span class="linenum">  59</span></a>      public static function <a class="function" onClick="logFunction('get_choice_results')" href="../../../_functions/get_choice_results.html" onMouseOver="funcPopup(event,'get_choice_results')">get_choice_results</a>(<a class="var it6835" onMouseOver="hilite(6835)" onMouseOut="lolite()" onClick="logVariable('choiceid')" href="../../../_variables/choiceid.html">$choiceid</a>) {
<a name="l60"><span class="linenum">  60</span></a>          global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>, <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../../_variables/PAGE.html">$PAGE</a>;
<a name="l61"><span class="linenum">  61</span></a>  
<a name="l62"><span class="linenum">  62</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_choice_results_parameters')" href="../../../_functions/get_choice_results_parameters.html" onMouseOver="funcPopup(event,'get_choice_results_parameters')">get_choice_results_parameters</a>(), array('choiceid' =&gt; <a class="var it6835" onMouseOver="hilite(6835)" onMouseOut="lolite()" onClick="logVariable('choiceid')" href="../../../_variables/choiceid.html">$choiceid</a>));
<a name="l63"><span class="linenum">  63</span></a>  
<a name="l64"><span class="linenum">  64</span></a>          if (!<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a> = <a class="function" onClick="logFunction('choice_get_choice')" href="../../../_functions/choice_get_choice.html" onMouseOver="funcPopup(event,'choice_get_choice')">choice_get_choice</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['choiceid'])) {
<a name="l65"><span class="linenum">  65</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>(&quot;invalidcoursemodule&quot;, &quot;error&quot;);
<a name="l66"><span class="linenum">  66</span></a>          }
<a name="l67"><span class="linenum">  67</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>) = <a class="function" onClick="logFunction('get_course_and_cm_from_instance')" href="../../../_functions/get_course_and_cm_from_instance.html" onMouseOver="funcPopup(event,'get_course_and_cm_from_instance')">get_course_and_cm_from_instance</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>, 'choice');
<a name="l68"><span class="linenum">  68</span></a>  
<a name="l69"><span class="linenum">  69</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l70"><span class="linenum">  70</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l71"><span class="linenum">  71</span></a>  
<a name="l72"><span class="linenum">  72</span></a>          <a class="var it688" onMouseOver="hilite(688)" onMouseOut="lolite()" onClick="logVariable('groupmode')" href="../../../_variables/groupmode.html">$groupmode</a> = <a class="function" onClick="logFunction('groups_get_activity_groupmode')" href="../../../_functions/groups_get_activity_groupmode.html" onMouseOver="funcPopup(event,'groups_get_activity_groupmode')">groups_get_activity_groupmode</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>);
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">        // Check if we have to include responses from inactive users.</span>
<a name="l74"><span class="linenum">  74</span></a>          <a class="var it3719" onMouseOver="hilite(3719)" onMouseOut="lolite()" onClick="logVariable('onlyactive')" href="../../../_variables/onlyactive.html">$onlyactive</a> = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('includeinactive')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/includeinactive.html">includeinactive</a> ? false : true;
<a name="l75"><span class="linenum">  75</span></a>          <a class="var it1062" onMouseOver="hilite(1062)" onMouseOut="lolite()" onClick="logVariable('users')" href="../../../_variables/users.html">$users</a> = <a class="function" onClick="logFunction('choice_get_response_data')" href="../../../_functions/choice_get_response_data.html" onMouseOver="funcPopup(event,'choice_get_response_data')">choice_get_response_data</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it688" onMouseOver="hilite(688)" onMouseOut="lolite()" onClick="logVariable('groupmode')" href="../../../_variables/groupmode.html">$groupmode</a>, <a class="var it3719" onMouseOver="hilite(3719)" onMouseOut="lolite()" onClick="logVariable('onlyactive')" href="../../../_variables/onlyactive.html">$onlyactive</a>);
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">        // Show those who haven't answered the question.</span>
<a name="l77"><span class="linenum">  77</span></a>          if (!empty(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('showunanswered')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/showunanswered.html">showunanswered</a>)) {
<a name="l78"><span class="linenum">  78</span></a>              <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('option')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/option.html">option</a>[0] = <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('notanswered', 'choice');
<a name="l79"><span class="linenum">  79</span></a>              <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('maxanswers')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/maxanswers.html">maxanswers</a>[0] = 0;
<a name="l80"><span class="linenum">  80</span></a>          }
<a name="l81"><span class="linenum">  81</span></a>          <a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../../_variables/results.html">$results</a> = <a class="function" onClick="logFunction('prepare_choice_show_results')" href="../../../_functions/prepare_choice_show_results.html" onMouseOver="funcPopup(event,'prepare_choice_show_results')">prepare_choice_show_results</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it1062" onMouseOver="hilite(1062)" onMouseOut="lolite()" onClick="logVariable('users')" href="../../../_variables/users.html">$users</a>);
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>          <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a> = array();
<a name="l84"><span class="linenum">  84</span></a>          <a class="var it24055" onMouseOver="hilite(24055)" onMouseOut="lolite()" onClick="logVariable('fullnamecap')" href="../../../_variables/fullnamecap.html">$fullnamecap</a> = <a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/site:viewfullnames', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l85"><span class="linenum">  85</span></a>          foreach (<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../../_variables/results.html">$results</a>-&gt;<a onClick="logVariable('options')" class="var it43393" onMouseOver="hilite(43393)" onMouseOut="lolite()" href="../../../_variables/options.html">options</a> as <a class="var it6606" onMouseOver="hilite(6606)" onMouseOut="lolite()" onClick="logVariable('optionid')" href="../../../_variables/optionid.html">$optionid</a> =&gt; <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../_variables/option.html">$option</a>) {
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>              <a class="var it24056" onMouseOver="hilite(24056)" onMouseOut="lolite()" onClick="logVariable('userresponses')" href="../../../_variables/userresponses.html">$userresponses</a> = array();
<a name="l88"><span class="linenum">  88</span></a>              <a class="var it24057" onMouseOver="hilite(24057)" onMouseOut="lolite()" onClick="logVariable('numberofuser')" href="../../../_variables/numberofuser.html">$numberofuser</a> = 0;
<a name="l89"><span class="linenum">  89</span></a>              <a class="var it24058" onMouseOver="hilite(24058)" onMouseOut="lolite()" onClick="logVariable('percentageamount')" href="../../../_variables/percentageamount.html">$percentageamount</a> = 0;
<a name="l90"><span class="linenum">  90</span></a>              if (property_exists(<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../_variables/option.html">$option</a>, 'user') and
<a name="l91"><span class="linenum">  91</span></a>                  (<a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/choice:readresponses', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>) or <a class="function" onClick="logFunction('choice_can_view_results')" href="../../../_functions/choice_can_view_results.html" onMouseOver="funcPopup(event,'choice_can_view_results')">choice_can_view_results</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>))) {
<a name="l92"><span class="linenum">  92</span></a>                  <a class="var it24057" onMouseOver="hilite(24057)" onMouseOut="lolite()" onClick="logVariable('numberofuser')" href="../../../_variables/numberofuser.html">$numberofuser</a> = <a class="phpfunction" onClick="logFunction('count')" href="../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../_variables/option.html">$option</a>-&gt;<a onClick="logVariable('user')" class="var it44663" onMouseOver="hilite(44663)" onMouseOut="lolite()" href="../../../_variables/user.html">user</a>);
<a name="l93"><span class="linenum">  93</span></a>                  <a class="var it24058" onMouseOver="hilite(24058)" onMouseOut="lolite()" onClick="logVariable('percentageamount')" href="../../../_variables/percentageamount.html">$percentageamount</a> = ((float)<a class="var it24057" onMouseOver="hilite(24057)" onMouseOut="lolite()" onClick="logVariable('numberofuser')" href="../../../_variables/numberofuser.html">$numberofuser</a> / (float)<a class="var it4821" onMouseOver="hilite(4821)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../../_variables/results.html">$results</a>-&gt;<a onClick="logVariable('numberofuser')" class="var it43393" onMouseOver="hilite(43393)" onMouseOut="lolite()" href="../../../_variables/numberofuser.html">numberofuser</a>) * 100.0;
<a name="l94"><span class="linenum">  94</span></a>                  if (<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('publish')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/publish.html">publish</a>) {
<a name="l95"><span class="linenum">  95</span></a>                      foreach (<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../_variables/option.html">$option</a>-&gt;<a onClick="logVariable('user')" class="var it44663" onMouseOver="hilite(44663)" onMouseOut="lolite()" href="../../../_variables/user.html">user</a> as <a class="var it3037" onMouseOver="hilite(3037)" onMouseOut="lolite()" onClick="logVariable('userresponse')" href="../../../_variables/userresponse.html">$userresponse</a>) {
<a name="l96"><span class="linenum">  96</span></a>                          <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../_variables/response.html">$response</a> = array();
<a name="l97"><span class="linenum">  97</span></a>                          <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../_variables/response.html">$response</a>['userid'] = <a class="var it3037" onMouseOver="hilite(3037)" onMouseOut="lolite()" onClick="logVariable('userresponse')" href="../../../_variables/userresponse.html">$userresponse</a>-&gt;<a onClick="logVariable('id')" class="var it45130" onMouseOver="hilite(45130)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l98"><span class="linenum">  98</span></a>                          <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../_variables/response.html">$response</a>['fullname'] = <a class="function" onClick="logFunction('fullname')" href="../../../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it3037" onMouseOver="hilite(3037)" onMouseOut="lolite()" onClick="logVariable('userresponse')" href="../../../_variables/userresponse.html">$userresponse</a>, <a class="var it24055" onMouseOver="hilite(24055)" onMouseOut="lolite()" onClick="logVariable('fullnamecap')" href="../../../_variables/fullnamecap.html">$fullnamecap</a>);
<a name="l99"><span class="linenum">  99</span></a>  
<a name="l100"><span class="linenum"> 100</span></a>                          <a class="var it7923" onMouseOver="hilite(7923)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../../../_variables/userpicture.html">$userpicture</a> = <span class="keyword">new </span><a class="class" onClick="logClass('user_picture')" href="../../../_classes/user_picture.html" onMouseOver="classPopup(event,'user_picture')">user_picture</a>(<a class="var it3037" onMouseOver="hilite(3037)" onMouseOut="lolite()" onClick="logVariable('userresponse')" href="../../../_variables/userresponse.html">$userresponse</a>);
<a name="l101"><span class="linenum"> 101</span></a>                          <a class="var it7923" onMouseOver="hilite(7923)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../../../_variables/userpicture.html">$userpicture</a>-&gt;<a onClick="logVariable('size')" class="var it42996" onMouseOver="hilite(42996)" onMouseOut="lolite()" href="../../../_variables/size.html">size</a> = 1; <span class="comment">// Size f1.</span>
<a name="l102"><span class="linenum"> 102</span></a>                          <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../_variables/response.html">$response</a>['profileimageurl'] = <a class="var it7923" onMouseOver="hilite(7923)" onMouseOut="lolite()" onClick="logVariable('userpicture')" href="../../../_variables/userpicture.html">$userpicture</a>-&gt;<a class="function" onClick="logFunction('get_url')" href="../../../_functions/get_url.html" onMouseOver="funcPopup(event,'get_url')">get_url</a>(<a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../../_variables/PAGE.html">$PAGE</a>)-&gt;<a class="function" onClick="logFunction('out')" href="../../../_functions/out.html" onMouseOver="funcPopup(event,'out')">out</a>(false);
<a name="l103"><span class="linenum"> 103</span></a>  
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">                        // Add optional properties.</span>
<a name="l105"><span class="linenum"> 105</span></a>                          foreach (array('answerid', 'timemodified') as <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../_variables/field.html">$field</a>) {
<a name="l106"><span class="linenum"> 106</span></a>                              if (property_exists(<a class="var it3037" onMouseOver="hilite(3037)" onMouseOut="lolite()" onClick="logVariable('userresponse')" href="../../../_variables/userresponse.html">$userresponse</a>, 'answerid')) {
<a name="l107"><span class="linenum"> 107</span></a>                                  <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../_variables/response.html">$response</a>[<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../_variables/field.html">$field</a>] = <a class="var it3037" onMouseOver="hilite(3037)" onMouseOut="lolite()" onClick="logVariable('userresponse')" href="../../../_variables/userresponse.html">$userresponse</a>-&gt;<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../_variables/field.html">$field</a>;
<a name="l108"><span class="linenum"> 108</span></a>                              }
<a name="l109"><span class="linenum"> 109</span></a>                          }
<a name="l110"><span class="linenum"> 110</span></a>                          <a class="var it24056" onMouseOver="hilite(24056)" onMouseOut="lolite()" onClick="logVariable('userresponses')" href="../../../_variables/userresponses.html">$userresponses</a>[] = <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../_variables/response.html">$response</a>;
<a name="l111"><span class="linenum"> 111</span></a>                      }
<a name="l112"><span class="linenum"> 112</span></a>                  }
<a name="l113"><span class="linenum"> 113</span></a>              }
<a name="l114"><span class="linenum"> 114</span></a>  
<a name="l115"><span class="linenum"> 115</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>[] = array('id'               =&gt; <a class="var it6606" onMouseOver="hilite(6606)" onMouseOut="lolite()" onClick="logVariable('optionid')" href="../../../_variables/optionid.html">$optionid</a>,
<a name="l116"><span class="linenum"> 116</span></a>                                 'text'             =&gt; <a class="function" onClick="logFunction('external_format_string')" href="../../../_functions/external_format_string.html" onMouseOver="funcPopup(event,'external_format_string')">external_format_string</a>(<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../_variables/option.html">$option</a>-&gt;<a onClick="logVariable('text')" class="var it44663" onMouseOver="hilite(44663)" onMouseOut="lolite()" href="../../../_variables/text.html">text</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>),
<a name="l117"><span class="linenum"> 117</span></a>                                 'maxanswer'        =&gt; <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../_variables/option.html">$option</a>-&gt;<a onClick="logVariable('maxanswer')" class="var it44663" onMouseOver="hilite(44663)" onMouseOut="lolite()" href="../../../_variables/maxanswer.html">maxanswer</a>,
<a name="l118"><span class="linenum"> 118</span></a>                                 'userresponses'    =&gt; <a class="var it24056" onMouseOver="hilite(24056)" onMouseOut="lolite()" onClick="logVariable('userresponses')" href="../../../_variables/userresponses.html">$userresponses</a>,
<a name="l119"><span class="linenum"> 119</span></a>                                 'numberofuser'     =&gt; <a class="var it24057" onMouseOver="hilite(24057)" onMouseOut="lolite()" onClick="logVariable('numberofuser')" href="../../../_variables/numberofuser.html">$numberofuser</a>,
<a name="l120"><span class="linenum"> 120</span></a>                                 'percentageamount' =&gt; <a class="var it24058" onMouseOver="hilite(24058)" onMouseOut="lolite()" onClick="logVariable('percentageamount')" href="../../../_variables/percentageamount.html">$percentageamount</a>
<a name="l121"><span class="linenum"> 121</span></a>                                );
<a name="l122"><span class="linenum"> 122</span></a>          }
<a name="l123"><span class="linenum"> 123</span></a>  
<a name="l124"><span class="linenum"> 124</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l125"><span class="linenum"> 125</span></a>          return array(
<a name="l126"><span class="linenum"> 126</span></a>              'options' =&gt; <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>,
<a name="l127"><span class="linenum"> 127</span></a>              'warnings' =&gt; <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>
<a name="l128"><span class="linenum"> 128</span></a>          );
<a name="l129"><span class="linenum"> 129</span></a>      }
<a name="l130"><span class="linenum"> 130</span></a>  
<a name="l131"><span class="linenum"> 131</span></a>      <span class="comment">/**</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">     * Describes the get_choice_results return value.</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">     *</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">     */</span>
<a name="l137"><span class="linenum"> 137</span></a>      public static function <a class="function" onClick="logFunction('get_choice_results_returns')" href="../../../_functions/get_choice_results_returns.html" onMouseOver="funcPopup(event,'get_choice_results_returns')">get_choice_results_returns</a>() {
<a name="l138"><span class="linenum"> 138</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l139"><span class="linenum"> 139</span></a>              array(
<a name="l140"><span class="linenum"> 140</span></a>                  'options' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l141"><span class="linenum"> 141</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l142"><span class="linenum"> 142</span></a>                          array(
<a name="l143"><span class="linenum"> 143</span></a>                              'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'choice instance id'),
<a name="l144"><span class="linenum"> 144</span></a>                              'text' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'text of the choice'),
<a name="l145"><span class="linenum"> 145</span></a>                              'maxanswer' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'maximum number of answers'),
<a name="l146"><span class="linenum"> 146</span></a>                              'userresponses' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l147"><span class="linenum"> 147</span></a>                                   <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l148"><span class="linenum"> 148</span></a>                                       array(
<a name="l149"><span class="linenum"> 149</span></a>                                          'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user id'),
<a name="l150"><span class="linenum"> 150</span></a>                                          'fullname' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../../../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'user full name'),
<a name="l151"><span class="linenum"> 151</span></a>                                          'profileimageurl' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../../../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'profile user image url'),
<a name="l152"><span class="linenum"> 152</span></a>                                          'answerid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'answer id', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l153"><span class="linenum"> 153</span></a>                                          'timemodified' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'time of modification', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l154"><span class="linenum"> 154</span></a>                                       ), 'User responses'
<a name="l155"><span class="linenum"> 155</span></a>                                   )
<a name="l156"><span class="linenum"> 156</span></a>                              ),
<a name="l157"><span class="linenum"> 157</span></a>                              'numberofuser' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'number of users answers'),
<a name="l158"><span class="linenum"> 158</span></a>                              'percentageamount' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'percentage of users answers')
<a name="l159"><span class="linenum"> 159</span></a>                          ), 'Options'
<a name="l160"><span class="linenum"> 160</span></a>                      )
<a name="l161"><span class="linenum"> 161</span></a>                  ),
<a name="l162"><span class="linenum"> 162</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l163"><span class="linenum"> 163</span></a>              )
<a name="l164"><span class="linenum"> 164</span></a>          );
<a name="l165"><span class="linenum"> 165</span></a>      }
<a name="l166"><span class="linenum"> 166</span></a>  
<a name="l167"><span class="linenum"> 167</span></a>      <span class="comment">/**</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">     * Describes the parameters for mod_choice_get_choice_options.</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">     *</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">     */</span>
<a name="l173"><span class="linenum"> 173</span></a>      public static function <a class="function" onClick="logFunction('get_choice_options_parameters')" href="../../../_functions/get_choice_options_parameters.html" onMouseOver="funcPopup(event,'get_choice_options_parameters')">get_choice_options_parameters</a>() {
<a name="l174"><span class="linenum"> 174</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (array('choiceid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'choice instance id')));
<a name="l175"><span class="linenum"> 175</span></a>      }
<a name="l176"><span class="linenum"> 176</span></a>  
<a name="l177"><span class="linenum"> 177</span></a>      <span class="comment">/**</span>
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">     * Returns options for a specific choice</span>
<a name="l179"><span class="linenum"> 179</span></a>  <span class="comment">     *</span>
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment">     * @param int $choiceid the choice instance id</span>
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment">     * @return array of options details</span>
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">     */</span>
<a name="l184"><span class="linenum"> 184</span></a>      public static function <a class="function" onClick="logFunction('get_choice_options')" href="../../../_functions/get_choice_options.html" onMouseOver="funcPopup(event,'get_choice_options')">get_choice_options</a>(<a class="var it6835" onMouseOver="hilite(6835)" onMouseOut="lolite()" onClick="logVariable('choiceid')" href="../../../_variables/choiceid.html">$choiceid</a>) {
<a name="l185"><span class="linenum"> 185</span></a>          global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l186"><span class="linenum"> 186</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l187"><span class="linenum"> 187</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_choice_options_parameters')" href="../../../_functions/get_choice_options_parameters.html" onMouseOver="funcPopup(event,'get_choice_options_parameters')">get_choice_options_parameters</a>(), array('choiceid' =&gt; <a class="var it6835" onMouseOver="hilite(6835)" onMouseOut="lolite()" onClick="logVariable('choiceid')" href="../../../_variables/choiceid.html">$choiceid</a>));
<a name="l188"><span class="linenum"> 188</span></a>  
<a name="l189"><span class="linenum"> 189</span></a>          if (!<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a> = <a class="function" onClick="logFunction('choice_get_choice')" href="../../../_functions/choice_get_choice.html" onMouseOver="funcPopup(event,'choice_get_choice')">choice_get_choice</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['choiceid'])) {
<a name="l190"><span class="linenum"> 190</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>(&quot;invalidcoursemodule&quot;, &quot;error&quot;);
<a name="l191"><span class="linenum"> 191</span></a>          }
<a name="l192"><span class="linenum"> 192</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>) = <a class="function" onClick="logFunction('get_course_and_cm_from_instance')" href="../../../_functions/get_course_and_cm_from_instance.html" onMouseOver="funcPopup(event,'get_course_and_cm_from_instance')">get_course_and_cm_from_instance</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>, 'choice');
<a name="l193"><span class="linenum"> 193</span></a>  
<a name="l194"><span class="linenum"> 194</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l195"><span class="linenum"> 195</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l196"><span class="linenum"> 196</span></a>  
<a name="l197"><span class="linenum"> 197</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('mod/choice:choose', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l198"><span class="linenum"> 198</span></a>  
<a name="l199"><span class="linenum"> 199</span></a>          <a class="var it688" onMouseOver="hilite(688)" onMouseOut="lolite()" onClick="logVariable('groupmode')" href="../../../_variables/groupmode.html">$groupmode</a> = <a class="function" onClick="logFunction('groups_get_activity_groupmode')" href="../../../_functions/groups_get_activity_groupmode.html" onMouseOver="funcPopup(event,'groups_get_activity_groupmode')">groups_get_activity_groupmode</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>);
<a name="l200"><span class="linenum"> 200</span></a>          <a class="var it3719" onMouseOver="hilite(3719)" onMouseOut="lolite()" onClick="logVariable('onlyactive')" href="../../../_variables/onlyactive.html">$onlyactive</a> = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('includeinactive')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/includeinactive.html">includeinactive</a> ? false : true;
<a name="l201"><span class="linenum"> 201</span></a>          <a class="var it24060" onMouseOver="hilite(24060)" onMouseOut="lolite()" onClick="logVariable('allresponses')" href="../../../_variables/allresponses.html">$allresponses</a> = <a class="function" onClick="logFunction('choice_get_response_data')" href="../../../_functions/choice_get_response_data.html" onMouseOver="funcPopup(event,'choice_get_response_data')">choice_get_response_data</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it688" onMouseOver="hilite(688)" onMouseOut="lolite()" onClick="logVariable('groupmode')" href="../../../_variables/groupmode.html">$groupmode</a>, <a class="var it3719" onMouseOver="hilite(3719)" onMouseOut="lolite()" onClick="logVariable('onlyactive')" href="../../../_variables/onlyactive.html">$onlyactive</a>);
<a name="l202"><span class="linenum"> 202</span></a>  
<a name="l203"><span class="linenum"> 203</span></a>          <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l204"><span class="linenum"> 204</span></a>          <a class="var it24061" onMouseOver="hilite(24061)" onMouseOut="lolite()" onClick="logVariable('choiceopen')" href="../../../_variables/choiceopen.html">$choiceopen</a> = true;
<a name="l205"><span class="linenum"> 205</span></a>          <a class="var it12155" onMouseOver="hilite(12155)" onMouseOut="lolite()" onClick="logVariable('showpreview')" href="../../../_variables/showpreview.html">$showpreview</a> = false;
<a name="l206"><span class="linenum"> 206</span></a>  
<a name="l207"><span class="linenum"> 207</span></a>          if (!empty(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeopen')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeopen.html">timeopen</a>) &amp;&amp; (<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeopen')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeopen.html">timeopen</a> &gt; <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a>)) {
<a name="l208"><span class="linenum"> 208</span></a>              <a class="var it24061" onMouseOver="hilite(24061)" onMouseOut="lolite()" onClick="logVariable('choiceopen')" href="../../../_variables/choiceopen.html">$choiceopen</a> = false;
<a name="l209"><span class="linenum"> 209</span></a>              <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>[1] = <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(&quot;notopenyet&quot;, &quot;choice&quot;, <a class="function" onClick="logFunction('userdate')" href="../../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeopen')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeopen.html">timeopen</a>));
<a name="l210"><span class="linenum"> 210</span></a>              if (<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('showpreview')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/showpreview.html">showpreview</a>) {
<a name="l211"><span class="linenum"> 211</span></a>                  <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>[2] = <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('previewonly', 'choice', <a class="function" onClick="logFunction('userdate')" href="../../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeopen')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeopen.html">timeopen</a>));
<a name="l212"><span class="linenum"> 212</span></a>                  <a class="var it12155" onMouseOver="hilite(12155)" onMouseOut="lolite()" onClick="logVariable('showpreview')" href="../../../_variables/showpreview.html">$showpreview</a> = true;
<a name="l213"><span class="linenum"> 213</span></a>              }
<a name="l214"><span class="linenum"> 214</span></a>          }
<a name="l215"><span class="linenum"> 215</span></a>          if (!empty(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a>) &amp;&amp; (<a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> &gt; <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a>)) {
<a name="l216"><span class="linenum"> 216</span></a>              <a class="var it24061" onMouseOver="hilite(24061)" onMouseOut="lolite()" onClick="logVariable('choiceopen')" href="../../../_variables/choiceopen.html">$choiceopen</a> = false;
<a name="l217"><span class="linenum"> 217</span></a>              <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>[3] = <a class="function" onClick="logFunction('get_string')" href="../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(&quot;expired&quot;, &quot;choice&quot;, <a class="function" onClick="logFunction('userdate')" href="../../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a>));
<a name="l218"><span class="linenum"> 218</span></a>          }
<a name="l219"><span class="linenum"> 219</span></a>  
<a name="l220"><span class="linenum"> 220</span></a>          <a class="var it24062" onMouseOver="hilite(24062)" onMouseOut="lolite()" onClick="logVariable('optionsarray')" href="../../../_variables/optionsarray.html">$optionsarray</a> = array();
<a name="l221"><span class="linenum"> 221</span></a>  
<a name="l222"><span class="linenum"> 222</span></a>          if (<a class="var it24061" onMouseOver="hilite(24061)" onMouseOut="lolite()" onClick="logVariable('choiceopen')" href="../../../_variables/choiceopen.html">$choiceopen</a> or <a class="var it12155" onMouseOver="hilite(12155)" onMouseOut="lolite()" onClick="logVariable('showpreview')" href="../../../_variables/showpreview.html">$showpreview</a>) {
<a name="l223"><span class="linenum"> 223</span></a>  
<a name="l224"><span class="linenum"> 224</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a> = <a class="function" onClick="logFunction('choice_prepare_options')" href="../../../_functions/choice_prepare_options.html" onMouseOver="funcPopup(event,'choice_prepare_options')">choice_prepare_options</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it24060" onMouseOver="hilite(24060)" onMouseOut="lolite()" onClick="logVariable('allresponses')" href="../../../_variables/allresponses.html">$allresponses</a>);
<a name="l225"><span class="linenum"> 225</span></a>  
<a name="l226"><span class="linenum"> 226</span></a>              foreach (<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>['options'] as <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../_variables/option.html">$option</a>) {
<a name="l227"><span class="linenum"> 227</span></a>                  <a class="var it24063" onMouseOver="hilite(24063)" onMouseOut="lolite()" onClick="logVariable('optionarr')" href="../../../_variables/optionarr.html">$optionarr</a> = array();
<a name="l228"><span class="linenum"> 228</span></a>                  <a class="var it24063" onMouseOver="hilite(24063)" onMouseOut="lolite()" onClick="logVariable('optionarr')" href="../../../_variables/optionarr.html">$optionarr</a>['id']            = <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../_variables/option.html">$option</a>-&gt;<a onClick="logVariable('attributes')" class="var it44663" onMouseOver="hilite(44663)" onMouseOut="lolite()" href="../../../_variables/attributes.html">attributes</a>-&gt;value;
<a name="l229"><span class="linenum"> 229</span></a>                  <a class="var it24063" onMouseOver="hilite(24063)" onMouseOut="lolite()" onClick="logVariable('optionarr')" href="../../../_variables/optionarr.html">$optionarr</a>['text']          = <a class="function" onClick="logFunction('external_format_string')" href="../../../_functions/external_format_string.html" onMouseOver="funcPopup(event,'external_format_string')">external_format_string</a>(<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../_variables/option.html">$option</a>-&gt;<a onClick="logVariable('text')" class="var it44663" onMouseOver="hilite(44663)" onMouseOut="lolite()" href="../../../_variables/text.html">text</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l230"><span class="linenum"> 230</span></a>                  <a class="var it24063" onMouseOver="hilite(24063)" onMouseOut="lolite()" onClick="logVariable('optionarr')" href="../../../_variables/optionarr.html">$optionarr</a>['maxanswers']    = <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../_variables/option.html">$option</a>-&gt;<a onClick="logVariable('maxanswers')" class="var it44663" onMouseOver="hilite(44663)" onMouseOut="lolite()" href="../../../_variables/maxanswers.html">maxanswers</a>;
<a name="l231"><span class="linenum"> 231</span></a>                  <a class="var it24063" onMouseOver="hilite(24063)" onMouseOut="lolite()" onClick="logVariable('optionarr')" href="../../../_variables/optionarr.html">$optionarr</a>['displaylayout'] = <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../_variables/option.html">$option</a>-&gt;<a onClick="logVariable('displaylayout')" class="var it44663" onMouseOver="hilite(44663)" onMouseOut="lolite()" href="../../../_variables/displaylayout.html">displaylayout</a>;
<a name="l232"><span class="linenum"> 232</span></a>                  <a class="var it24063" onMouseOver="hilite(24063)" onMouseOut="lolite()" onClick="logVariable('optionarr')" href="../../../_variables/optionarr.html">$optionarr</a>['countanswers']  = <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../_variables/option.html">$option</a>-&gt;<a onClick="logVariable('countanswers')" class="var it44663" onMouseOver="hilite(44663)" onMouseOut="lolite()" href="../../../_variables/countanswers.html">countanswers</a>;
<a name="l233"><span class="linenum"> 233</span></a>                  foreach (array('checked', 'disabled') as <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../_variables/field.html">$field</a>) {
<a name="l234"><span class="linenum"> 234</span></a>                      if (property_exists(<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../_variables/option.html">$option</a>-&gt;<a onClick="logVariable('attributes')" class="var it44663" onMouseOver="hilite(44663)" onMouseOut="lolite()" href="../../../_variables/attributes.html">attributes</a>, <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../_variables/field.html">$field</a>) and <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../_variables/option.html">$option</a>-&gt;<a onClick="logVariable('attributes')" class="var it44663" onMouseOver="hilite(44663)" onMouseOut="lolite()" href="../../../_variables/attributes.html">attributes</a>-&gt;<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../_variables/field.html">$field</a> == 1) {
<a name="l235"><span class="linenum"> 235</span></a>                          <a class="var it24063" onMouseOver="hilite(24063)" onMouseOut="lolite()" onClick="logVariable('optionarr')" href="../../../_variables/optionarr.html">$optionarr</a>[<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../_variables/field.html">$field</a>] = 1;
<a name="l236"><span class="linenum"> 236</span></a>                      } else {
<a name="l237"><span class="linenum"> 237</span></a>                          <a class="var it24063" onMouseOver="hilite(24063)" onMouseOut="lolite()" onClick="logVariable('optionarr')" href="../../../_variables/optionarr.html">$optionarr</a>[<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../_variables/field.html">$field</a>] = 0;
<a name="l238"><span class="linenum"> 238</span></a>                      }
<a name="l239"><span class="linenum"> 239</span></a>                  }
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">                // When showpreview is active, we show options as disabled.</span>
<a name="l241"><span class="linenum"> 241</span></a>                  if (<a class="var it12155" onMouseOver="hilite(12155)" onMouseOut="lolite()" onClick="logVariable('showpreview')" href="../../../_variables/showpreview.html">$showpreview</a> <a class="function" onClick="logFunction('or')" href="../../../_functions/or.html" onMouseOver="funcPopup(event,'or')">or</a> (<a class="var it24063" onMouseOver="hilite(24063)" onMouseOut="lolite()" onClick="logVariable('optionarr')" href="../../../_variables/optionarr.html">$optionarr</a>['checked'] == 1 and !<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('allowupdate')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/allowupdate.html">allowupdate</a>)) {
<a name="l242"><span class="linenum"> 242</span></a>                      <a class="var it24063" onMouseOver="hilite(24063)" onMouseOut="lolite()" onClick="logVariable('optionarr')" href="../../../_variables/optionarr.html">$optionarr</a>['disabled'] = 1;
<a name="l243"><span class="linenum"> 243</span></a>                  }
<a name="l244"><span class="linenum"> 244</span></a>                  <a class="var it24062" onMouseOver="hilite(24062)" onMouseOut="lolite()" onClick="logVariable('optionsarray')" href="../../../_variables/optionsarray.html">$optionsarray</a>[] = <a class="var it24063" onMouseOver="hilite(24063)" onMouseOut="lolite()" onClick="logVariable('optionarr')" href="../../../_variables/optionarr.html">$optionarr</a>;
<a name="l245"><span class="linenum"> 245</span></a>              }
<a name="l246"><span class="linenum"> 246</span></a>          }
<a name="l247"><span class="linenum"> 247</span></a>          foreach (<a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a> =&gt; <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../../_variables/message.html">$message</a>) {
<a name="l248"><span class="linenum"> 248</span></a>              <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>[<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a>] = array(
<a name="l249"><span class="linenum"> 249</span></a>                  'item' =&gt; 'choice',
<a name="l250"><span class="linenum"> 250</span></a>                  'itemid' =&gt; <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>,
<a name="l251"><span class="linenum"> 251</span></a>                  'warningcode' =&gt; <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a>,
<a name="l252"><span class="linenum"> 252</span></a>                  'message' =&gt; <a class="var it276" onMouseOver="hilite(276)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../../_variables/message.html">$message</a>
<a name="l253"><span class="linenum"> 253</span></a>              );
<a name="l254"><span class="linenum"> 254</span></a>          }
<a name="l255"><span class="linenum"> 255</span></a>          return array(
<a name="l256"><span class="linenum"> 256</span></a>              'options' =&gt; <a class="var it24062" onMouseOver="hilite(24062)" onMouseOut="lolite()" onClick="logVariable('optionsarray')" href="../../../_variables/optionsarray.html">$optionsarray</a>,
<a name="l257"><span class="linenum"> 257</span></a>              'warnings' =&gt; <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>
<a name="l258"><span class="linenum"> 258</span></a>          );
<a name="l259"><span class="linenum"> 259</span></a>      }
<a name="l260"><span class="linenum"> 260</span></a>  
<a name="l261"><span class="linenum"> 261</span></a>      <span class="comment">/**</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment">     * Describes the get_choice_results return value.</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">     *</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">     * @return external_multiple_structure</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l266"><span class="linenum"> 266</span></a>  <span class="comment">     */</span>
<a name="l267"><span class="linenum"> 267</span></a>      public static function <a class="function" onClick="logFunction('get_choice_options_returns')" href="../../../_functions/get_choice_options_returns.html" onMouseOver="funcPopup(event,'get_choice_options_returns')">get_choice_options_returns</a>() {
<a name="l268"><span class="linenum"> 268</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l269"><span class="linenum"> 269</span></a>              array(
<a name="l270"><span class="linenum"> 270</span></a>                  'options' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l271"><span class="linenum"> 271</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l272"><span class="linenum"> 272</span></a>                          array(
<a name="l273"><span class="linenum"> 273</span></a>                              'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'option id'),
<a name="l274"><span class="linenum"> 274</span></a>                              'text' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'text of the choice'),
<a name="l275"><span class="linenum"> 275</span></a>                              'maxanswers' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'maximum number of answers'),
<a name="l276"><span class="linenum"> 276</span></a>                              'displaylayout' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'true for orizontal, otherwise vertical'),
<a name="l277"><span class="linenum"> 277</span></a>                              'countanswers' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'number of answers'),
<a name="l278"><span class="linenum"> 278</span></a>                              'checked' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'we already answered'),
<a name="l279"><span class="linenum"> 279</span></a>                              'disabled' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'option disabled'),
<a name="l280"><span class="linenum"> 280</span></a>                              )
<a name="l281"><span class="linenum"> 281</span></a>                      ), 'Options'
<a name="l282"><span class="linenum"> 282</span></a>                  ),
<a name="l283"><span class="linenum"> 283</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l284"><span class="linenum"> 284</span></a>              )
<a name="l285"><span class="linenum"> 285</span></a>          );
<a name="l286"><span class="linenum"> 286</span></a>      }
<a name="l287"><span class="linenum"> 287</span></a>  
<a name="l288"><span class="linenum"> 288</span></a>      <span class="comment">/**</span>
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment">     * Describes the parameters for submit_choice_response.</span>
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment">     *</span>
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l292"><span class="linenum"> 292</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment">     */</span>
<a name="l294"><span class="linenum"> 294</span></a>      public static function <a class="function" onClick="logFunction('submit_choice_response_parameters')" href="../../../_functions/submit_choice_response_parameters.html" onMouseOver="funcPopup(event,'submit_choice_response_parameters')">submit_choice_response_parameters</a>() {
<a name="l295"><span class="linenum"> 295</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l296"><span class="linenum"> 296</span></a>              array(
<a name="l297"><span class="linenum"> 297</span></a>                  'choiceid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'choice instance id'),
<a name="l298"><span class="linenum"> 298</span></a>                  'responses' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l299"><span class="linenum"> 299</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'answer id'),
<a name="l300"><span class="linenum"> 300</span></a>                      'Array of response ids'
<a name="l301"><span class="linenum"> 301</span></a>                  ),
<a name="l302"><span class="linenum"> 302</span></a>              )
<a name="l303"><span class="linenum"> 303</span></a>          );
<a name="l304"><span class="linenum"> 304</span></a>      }
<a name="l305"><span class="linenum"> 305</span></a>  
<a name="l306"><span class="linenum"> 306</span></a>      <span class="comment">/**</span>
<a name="l307"><span class="linenum"> 307</span></a>  <span class="comment">     * Submit choice responses</span>
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment">     *</span>
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment">     * @param int $choiceid the choice instance id</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment">     * @param array $responses the response ids</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">     * @return array answers information and warnings</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment">     */</span>
<a name="l314"><span class="linenum"> 314</span></a>      public static function <a class="function" onClick="logFunction('submit_choice_response')" href="../../../_functions/submit_choice_response.html" onMouseOver="funcPopup(event,'submit_choice_response')">submit_choice_response</a>(<a class="var it6835" onMouseOver="hilite(6835)" onMouseOut="lolite()" onClick="logVariable('choiceid')" href="../../../_variables/choiceid.html">$choiceid</a>, <a class="var it4437" onMouseOver="hilite(4437)" onMouseOut="lolite()" onClick="logVariable('responses')" href="../../../_variables/responses.html">$responses</a>) {
<a name="l315"><span class="linenum"> 315</span></a>          global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l316"><span class="linenum"> 316</span></a>  
<a name="l317"><span class="linenum"> 317</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l318"><span class="linenum"> 318</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('submit_choice_response_parameters')" href="../../../_functions/submit_choice_response_parameters.html" onMouseOver="funcPopup(event,'submit_choice_response_parameters')">submit_choice_response_parameters</a>(),
<a name="l319"><span class="linenum"> 319</span></a>                                              array(
<a name="l320"><span class="linenum"> 320</span></a>                                                  'choiceid' =&gt; <a class="var it6835" onMouseOver="hilite(6835)" onMouseOut="lolite()" onClick="logVariable('choiceid')" href="../../../_variables/choiceid.html">$choiceid</a>,
<a name="l321"><span class="linenum"> 321</span></a>                                                  'responses' =&gt; <a class="var it4437" onMouseOver="hilite(4437)" onMouseOut="lolite()" onClick="logVariable('responses')" href="../../../_variables/responses.html">$responses</a>
<a name="l322"><span class="linenum"> 322</span></a>                                              ));
<a name="l323"><span class="linenum"> 323</span></a>  
<a name="l324"><span class="linenum"> 324</span></a>          if (!<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a> = <a class="function" onClick="logFunction('choice_get_choice')" href="../../../_functions/choice_get_choice.html" onMouseOver="funcPopup(event,'choice_get_choice')">choice_get_choice</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['choiceid'])) {
<a name="l325"><span class="linenum"> 325</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>(&quot;invalidcoursemodule&quot;, &quot;error&quot;);
<a name="l326"><span class="linenum"> 326</span></a>          }
<a name="l327"><span class="linenum"> 327</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>) = <a class="function" onClick="logFunction('get_course_and_cm_from_instance')" href="../../../_functions/get_course_and_cm_from_instance.html" onMouseOver="funcPopup(event,'get_course_and_cm_from_instance')">get_course_and_cm_from_instance</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>, 'choice');
<a name="l328"><span class="linenum"> 328</span></a>  
<a name="l329"><span class="linenum"> 329</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l330"><span class="linenum"> 330</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l331"><span class="linenum"> 331</span></a>  
<a name="l332"><span class="linenum"> 332</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('mod/choice:choose', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l333"><span class="linenum"> 333</span></a>  
<a name="l334"><span class="linenum"> 334</span></a>          <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l335"><span class="linenum"> 335</span></a>          if (!empty(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeopen')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeopen.html">timeopen</a>) &amp;&amp; (<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeopen')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeopen.html">timeopen</a> &gt; <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a>)) {
<a name="l336"><span class="linenum"> 336</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>(&quot;notopenyet&quot;, &quot;choice&quot;, '', <a class="function" onClick="logFunction('userdate')" href="../../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeopen')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeopen.html">timeopen</a>));
<a name="l337"><span class="linenum"> 337</span></a>          } else if (!empty(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a>) &amp;&amp; (<a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> &gt; <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a>)) {
<a name="l338"><span class="linenum"> 338</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>(&quot;expired&quot;, &quot;choice&quot;, '', <a class="function" onClick="logFunction('userdate')" href="../../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a>));
<a name="l339"><span class="linenum"> 339</span></a>          }
<a name="l340"><span class="linenum"> 340</span></a>  
<a name="l341"><span class="linenum"> 341</span></a>          if (!<a class="function" onClick="logFunction('choice_get_my_response')" href="../../../_functions/choice_get_my_response.html" onMouseOver="funcPopup(event,'choice_get_my_response')">choice_get_my_response</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>) or <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('allowupdate')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/allowupdate.html">allowupdate</a>) {
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment">            // When a single response is given, we convert the array to a simple variable</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment">            // in order to avoid choice_user_submit_response to check with allowmultiple even</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment">            // for a single response.</span>
<a name="l345"><span class="linenum"> 345</span></a>              if (<a class="phpfunction" onClick="logFunction('count')" href="../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['responses']) == 1) {
<a name="l346"><span class="linenum"> 346</span></a>                  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['responses'] = <a class="phpfunction" onClick="logFunction('reset')" href="../../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['responses']);
<a name="l347"><span class="linenum"> 347</span></a>              }
<a name="l348"><span class="linenum"> 348</span></a>              <a class="function" onClick="logFunction('choice_user_submit_response')" href="../../../_functions/choice_user_submit_response.html" onMouseOver="funcPopup(event,'choice_user_submit_response')">choice_user_submit_response</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['responses'], <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>);
<a name="l349"><span class="linenum"> 349</span></a>          } else {
<a name="l350"><span class="linenum"> 350</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('missingrequiredcapability', 'webservice', '', 'allowupdate');
<a name="l351"><span class="linenum"> 351</span></a>          }
<a name="l352"><span class="linenum"> 352</span></a>          <a class="var it454" onMouseOver="hilite(454)" onMouseOut="lolite()" onClick="logVariable('answers')" href="../../../_variables/answers.html">$answers</a> = <a class="function" onClick="logFunction('choice_get_my_response')" href="../../../_functions/choice_get_my_response.html" onMouseOver="funcPopup(event,'choice_get_my_response')">choice_get_my_response</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>);
<a name="l353"><span class="linenum"> 353</span></a>  
<a name="l354"><span class="linenum"> 354</span></a>          return array(
<a name="l355"><span class="linenum"> 355</span></a>              'answers' =&gt; <a class="var it454" onMouseOver="hilite(454)" onMouseOut="lolite()" onClick="logVariable('answers')" href="../../../_variables/answers.html">$answers</a>,
<a name="l356"><span class="linenum"> 356</span></a>              'warnings' =&gt; <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>
<a name="l357"><span class="linenum"> 357</span></a>          );
<a name="l358"><span class="linenum"> 358</span></a>      }
<a name="l359"><span class="linenum"> 359</span></a>  
<a name="l360"><span class="linenum"> 360</span></a>      <span class="comment">/**</span>
<a name="l361"><span class="linenum"> 361</span></a>  <span class="comment">     * Describes the submit_choice_response return value.</span>
<a name="l362"><span class="linenum"> 362</span></a>  <span class="comment">     *</span>
<a name="l363"><span class="linenum"> 363</span></a>  <span class="comment">     * @return external_multiple_structure</span>
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment">     */</span>
<a name="l366"><span class="linenum"> 366</span></a>      public static function <a class="function" onClick="logFunction('submit_choice_response_returns')" href="../../../_functions/submit_choice_response_returns.html" onMouseOver="funcPopup(event,'submit_choice_response_returns')">submit_choice_response_returns</a>() {
<a name="l367"><span class="linenum"> 367</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l368"><span class="linenum"> 368</span></a>              array(
<a name="l369"><span class="linenum"> 369</span></a>                  'answers' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l370"><span class="linenum"> 370</span></a>                       <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l371"><span class="linenum"> 371</span></a>                           array(
<a name="l372"><span class="linenum"> 372</span></a>                               'id'           =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'answer id'),
<a name="l373"><span class="linenum"> 373</span></a>                               'choiceid'     =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'choiceid'),
<a name="l374"><span class="linenum"> 374</span></a>                               'userid'       =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user id'),
<a name="l375"><span class="linenum"> 375</span></a>                               'optionid'     =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'optionid'),
<a name="l376"><span class="linenum"> 376</span></a>                               'timemodified' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'time of last modification')
<a name="l377"><span class="linenum"> 377</span></a>                           ), 'Answers'
<a name="l378"><span class="linenum"> 378</span></a>                       )
<a name="l379"><span class="linenum"> 379</span></a>                  ),
<a name="l380"><span class="linenum"> 380</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l381"><span class="linenum"> 381</span></a>              )
<a name="l382"><span class="linenum"> 382</span></a>          );
<a name="l383"><span class="linenum"> 383</span></a>      }
<a name="l384"><span class="linenum"> 384</span></a>  
<a name="l385"><span class="linenum"> 385</span></a>      <span class="comment">/**</span>
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">     *</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l389"><span class="linenum"> 389</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l390"><span class="linenum"> 390</span></a>  <span class="comment">     */</span>
<a name="l391"><span class="linenum"> 391</span></a>      public static function <a class="function" onClick="logFunction('view_choice_parameters')" href="../../../_functions/view_choice_parameters.html" onMouseOver="funcPopup(event,'view_choice_parameters')">view_choice_parameters</a>() {
<a name="l392"><span class="linenum"> 392</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l393"><span class="linenum"> 393</span></a>              array(
<a name="l394"><span class="linenum"> 394</span></a>                  'choiceid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'choice instance id')
<a name="l395"><span class="linenum"> 395</span></a>              )
<a name="l396"><span class="linenum"> 396</span></a>          );
<a name="l397"><span class="linenum"> 397</span></a>      }
<a name="l398"><span class="linenum"> 398</span></a>  
<a name="l399"><span class="linenum"> 399</span></a>      <span class="comment">/**</span>
<a name="l400"><span class="linenum"> 400</span></a>  <span class="comment">     * Trigger the course module viewed event and update the module completion status.</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">     *</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">     * @param int $choiceid the choice instance id</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">     * @return array of warnings and status result</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment">     */</span>
<a name="l407"><span class="linenum"> 407</span></a>      public static function <a class="function" onClick="logFunction('view_choice')" href="../../../_functions/view_choice.html" onMouseOver="funcPopup(event,'view_choice')">view_choice</a>(<a class="var it6835" onMouseOver="hilite(6835)" onMouseOut="lolite()" onClick="logVariable('choiceid')" href="../../../_variables/choiceid.html">$choiceid</a>) {
<a name="l408"><span class="linenum"> 408</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>;
<a name="l409"><span class="linenum"> 409</span></a>  
<a name="l410"><span class="linenum"> 410</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('view_choice_parameters')" href="../../../_functions/view_choice_parameters.html" onMouseOver="funcPopup(event,'view_choice_parameters')">view_choice_parameters</a>(),
<a name="l411"><span class="linenum"> 411</span></a>                                              array(
<a name="l412"><span class="linenum"> 412</span></a>                                                  'choiceid' =&gt; <a class="var it6835" onMouseOver="hilite(6835)" onMouseOut="lolite()" onClick="logVariable('choiceid')" href="../../../_variables/choiceid.html">$choiceid</a>
<a name="l413"><span class="linenum"> 413</span></a>                                              ));
<a name="l414"><span class="linenum"> 414</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l415"><span class="linenum"> 415</span></a>  
<a name="l416"><span class="linenum"> 416</span></a>  <span class="comment">        // Request and permission validation.</span>
<a name="l417"><span class="linenum"> 417</span></a>          if (!<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a> = <a class="function" onClick="logFunction('choice_get_choice')" href="../../../_functions/choice_get_choice.html" onMouseOver="funcPopup(event,'choice_get_choice')">choice_get_choice</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['choiceid'])) {
<a name="l418"><span class="linenum"> 418</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>(&quot;invalidcoursemodule&quot;, &quot;error&quot;);
<a name="l419"><span class="linenum"> 419</span></a>          }
<a name="l420"><span class="linenum"> 420</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>) = <a class="function" onClick="logFunction('get_course_and_cm_from_instance')" href="../../../_functions/get_course_and_cm_from_instance.html" onMouseOver="funcPopup(event,'get_course_and_cm_from_instance')">get_course_and_cm_from_instance</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>, 'choice');
<a name="l421"><span class="linenum"> 421</span></a>  
<a name="l422"><span class="linenum"> 422</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l423"><span class="linenum"> 423</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l424"><span class="linenum"> 424</span></a>  
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment">        // Trigger course_module_viewed event and completion.</span>
<a name="l426"><span class="linenum"> 426</span></a>          <a class="function" onClick="logFunction('choice_view')" href="../../../_functions/choice_view.html" onMouseOver="funcPopup(event,'choice_view')">choice_view</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l427"><span class="linenum"> 427</span></a>  
<a name="l428"><span class="linenum"> 428</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l429"><span class="linenum"> 429</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['status'] = true;
<a name="l430"><span class="linenum"> 430</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l431"><span class="linenum"> 431</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l432"><span class="linenum"> 432</span></a>      }
<a name="l433"><span class="linenum"> 433</span></a>  
<a name="l434"><span class="linenum"> 434</span></a>      <span class="comment">/**</span>
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l436"><span class="linenum"> 436</span></a>  <span class="comment">     *</span>
<a name="l437"><span class="linenum"> 437</span></a>  <span class="comment">     * @return external_description</span>
<a name="l438"><span class="linenum"> 438</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l439"><span class="linenum"> 439</span></a>  <span class="comment">     */</span>
<a name="l440"><span class="linenum"> 440</span></a>      public static function <a class="function" onClick="logFunction('view_choice_returns')" href="../../../_functions/view_choice_returns.html" onMouseOver="funcPopup(event,'view_choice_returns')">view_choice_returns</a>() {
<a name="l441"><span class="linenum"> 441</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l442"><span class="linenum"> 442</span></a>              array(
<a name="l443"><span class="linenum"> 443</span></a>                  'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'status: true if success'),
<a name="l444"><span class="linenum"> 444</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l445"><span class="linenum"> 445</span></a>              )
<a name="l446"><span class="linenum"> 446</span></a>          );
<a name="l447"><span class="linenum"> 447</span></a>      }
<a name="l448"><span class="linenum"> 448</span></a>  
<a name="l449"><span class="linenum"> 449</span></a>      <span class="comment">/**</span>
<a name="l450"><span class="linenum"> 450</span></a>  <span class="comment">     * Describes the parameters for get_choices_by_courses.</span>
<a name="l451"><span class="linenum"> 451</span></a>  <span class="comment">     *</span>
<a name="l452"><span class="linenum"> 452</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l453"><span class="linenum"> 453</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l454"><span class="linenum"> 454</span></a>  <span class="comment">     */</span>
<a name="l455"><span class="linenum"> 455</span></a>      public static function <a class="function" onClick="logFunction('get_choices_by_courses_parameters')" href="../../../_functions/get_choices_by_courses_parameters.html" onMouseOver="funcPopup(event,'get_choices_by_courses_parameters')">get_choices_by_courses_parameters</a>() {
<a name="l456"><span class="linenum"> 456</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l457"><span class="linenum"> 457</span></a>              array(
<a name="l458"><span class="linenum"> 458</span></a>                  'courseids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l459"><span class="linenum"> 459</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'course id'), 'Array of course ids', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l460"><span class="linenum"> 460</span></a>                  ),
<a name="l461"><span class="linenum"> 461</span></a>              )
<a name="l462"><span class="linenum"> 462</span></a>          );
<a name="l463"><span class="linenum"> 463</span></a>      }
<a name="l464"><span class="linenum"> 464</span></a>  
<a name="l465"><span class="linenum"> 465</span></a>      <span class="comment">/**</span>
<a name="l466"><span class="linenum"> 466</span></a>  <span class="comment">     * Returns a list of choices in a provided list of courses,</span>
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment">     * if no list is provided all choices that the user can view will be returned.</span>
<a name="l468"><span class="linenum"> 468</span></a>  <span class="comment">     *</span>
<a name="l469"><span class="linenum"> 469</span></a>  <span class="comment">     * @param array $courseids the course ids</span>
<a name="l470"><span class="linenum"> 470</span></a>  <span class="comment">     * @return array of choices details</span>
<a name="l471"><span class="linenum"> 471</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l472"><span class="linenum"> 472</span></a>  <span class="comment">     */</span>
<a name="l473"><span class="linenum"> 473</span></a>      public static function <a class="function" onClick="logFunction('get_choices_by_courses')" href="../../../_functions/get_choices_by_courses.html" onMouseOver="funcPopup(event,'get_choices_by_courses')">get_choices_by_courses</a>(<a class="var it2413" onMouseOver="hilite(2413)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../../../_variables/courseids.html">$courseids</a> = array()) {
<a name="l474"><span class="linenum"> 474</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>;
<a name="l475"><span class="linenum"> 475</span></a>  
<a name="l476"><span class="linenum"> 476</span></a>          <a class="var it24066" onMouseOver="hilite(24066)" onMouseOut="lolite()" onClick="logVariable('returnedchoices')" href="../../../_variables/returnedchoices.html">$returnedchoices</a> = array();
<a name="l477"><span class="linenum"> 477</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l478"><span class="linenum"> 478</span></a>  
<a name="l479"><span class="linenum"> 479</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_choices_by_courses_parameters')" href="../../../_functions/get_choices_by_courses_parameters.html" onMouseOver="funcPopup(event,'get_choices_by_courses_parameters')">get_choices_by_courses_parameters</a>(), array('courseids' =&gt; <a class="var it2413" onMouseOver="hilite(2413)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../../../_variables/courseids.html">$courseids</a>));
<a name="l480"><span class="linenum"> 480</span></a>  
<a name="l481"><span class="linenum"> 481</span></a>          <a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../../_variables/courses.html">$courses</a> = array();
<a name="l482"><span class="linenum"> 482</span></a>          if (empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['courseids'])) {
<a name="l483"><span class="linenum"> 483</span></a>              <a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../../_variables/courses.html">$courses</a> = <a class="function" onClick="logFunction('enrol_get_my_courses')" href="../../../_functions/enrol_get_my_courses.html" onMouseOver="funcPopup(event,'enrol_get_my_courses')">enrol_get_my_courses</a>();
<a name="l484"><span class="linenum"> 484</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['courseids'] = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../../_variables/courses.html">$courses</a>);
<a name="l485"><span class="linenum"> 485</span></a>          }
<a name="l486"><span class="linenum"> 486</span></a>  
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment">        // Ensure there are courseids to loop through.</span>
<a name="l488"><span class="linenum"> 488</span></a>          if (!empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['courseids'])) {
<a name="l489"><span class="linenum"> 489</span></a>  
<a name="l490"><span class="linenum"> 490</span></a>              <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../../_variables/courses.html">$courses</a>, <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>) = <a class="class" onClick="logClass('external_util')" href="../../../_classes/external_util.html" onMouseOver="classPopup(event,'external_util')">external_util</a>::<a class="function" onClick="logFunction('validate_courses')" href="../../../_functions/validate_courses.html" onMouseOver="funcPopup(event,'validate_courses')">validate_courses</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['courseids'], <a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../../_variables/courses.html">$courses</a>);
<a name="l491"><span class="linenum"> 491</span></a>  
<a name="l492"><span class="linenum"> 492</span></a>  <span class="comment">            // Get the choices in this course, this function checks users visibility permissions.</span>
<a name="l493"><span class="linenum"> 493</span></a>  <span class="comment">            // We can avoid then additional validate_context calls.</span>
<a name="l494"><span class="linenum"> 494</span></a>              <a class="var it1191" onMouseOver="hilite(1191)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../../../_variables/choices.html">$choices</a> = <a class="function" onClick="logFunction('get_all_instances_in_courses')" href="../../../_functions/get_all_instances_in_courses.html" onMouseOver="funcPopup(event,'get_all_instances_in_courses')">get_all_instances_in_courses</a>(&quot;choice&quot;, <a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../../_variables/courses.html">$courses</a>);
<a name="l495"><span class="linenum"> 495</span></a>              foreach (<a class="var it1191" onMouseOver="hilite(1191)" onMouseOut="lolite()" onClick="logVariable('choices')" href="../../../_variables/choices.html">$choices</a> as <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>) {
<a name="l496"><span class="linenum"> 496</span></a>                  <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/coursemodule.html">coursemodule</a>);
<a name="l497"><span class="linenum"> 497</span></a>  <span class="comment">                // Entry to return.</span>
<a name="l498"><span class="linenum"> 498</span></a>                  <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a> = array();
<a name="l499"><span class="linenum"> 499</span></a>  <span class="comment">                // First, we return information that any user can see in the web interface.</span>
<a name="l500"><span class="linenum"> 500</span></a>                  <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['id'] = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('id')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l501"><span class="linenum"> 501</span></a>                  <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['coursemodule'] = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/coursemodule.html">coursemodule</a>;
<a name="l502"><span class="linenum"> 502</span></a>                  <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['course'] = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('course')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/course.html">course</a>;
<a name="l503"><span class="linenum"> 503</span></a>                  <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['name']  = <a class="function" onClick="logFunction('external_format_string')" href="../../../_functions/external_format_string.html" onMouseOver="funcPopup(event,'external_format_string')">external_format_string</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('name')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/name.html">name</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l504"><span class="linenum"> 504</span></a>  <span class="comment">                // Format intro.</span>
<a name="l505"><span class="linenum"> 505</span></a>                  <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['intro'], <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['introformat']) =
<a name="l506"><span class="linenum"> 506</span></a>                      <a class="function" onClick="logFunction('external_format_text')" href="../../../_functions/external_format_text.html" onMouseOver="funcPopup(event,'external_format_text')">external_format_text</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('intro')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/intro.html">intro</a>, <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('introformat')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/introformat.html">introformat</a>,
<a name="l507"><span class="linenum"> 507</span></a>                                              <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, 'mod_choice', 'intro', null);
<a name="l508"><span class="linenum"> 508</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['introfiles'] = <a class="class" onClick="logClass('external_util')" href="../../../_classes/external_util.html" onMouseOver="classPopup(event,'external_util')">external_util</a>::<a class="function" onClick="logFunction('get_area_files')" href="../../../_functions/get_area_files.html" onMouseOver="funcPopup(event,'get_area_files')">get_area_files</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, 'mod_choice', 'intro', false,
<a name="l509"><span class="linenum"> 509</span></a>                                                                                      false);
<a name="l510"><span class="linenum"> 510</span></a>  
<a name="l511"><span class="linenum"> 511</span></a>                  if (<a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/choice:choose', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>)) {
<a name="l512"><span class="linenum"> 512</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['publish']  = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('publish')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/publish.html">publish</a>;
<a name="l513"><span class="linenum"> 513</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['showresults']  = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('showresults')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/showresults.html">showresults</a>;
<a name="l514"><span class="linenum"> 514</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['showpreview']  = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('showpreview')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/showpreview.html">showpreview</a>;
<a name="l515"><span class="linenum"> 515</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['timeopen']  = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeopen')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeopen.html">timeopen</a>;
<a name="l516"><span class="linenum"> 516</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['timeclose']  = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a>;
<a name="l517"><span class="linenum"> 517</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['display']  = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('display')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/display.html">display</a>;
<a name="l518"><span class="linenum"> 518</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['allowupdate']  = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('allowupdate')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/allowupdate.html">allowupdate</a>;
<a name="l519"><span class="linenum"> 519</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['allowmultiple']  = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('allowmultiple')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/allowmultiple.html">allowmultiple</a>;
<a name="l520"><span class="linenum"> 520</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['limitanswers']  = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('limitanswers')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/limitanswers.html">limitanswers</a>;
<a name="l521"><span class="linenum"> 521</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['showunanswered']  = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('showunanswered')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/showunanswered.html">showunanswered</a>;
<a name="l522"><span class="linenum"> 522</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['includeinactive']  = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('includeinactive')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/includeinactive.html">includeinactive</a>;
<a name="l523"><span class="linenum"> 523</span></a>                  }
<a name="l524"><span class="linenum"> 524</span></a>  
<a name="l525"><span class="linenum"> 525</span></a>                  if (<a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:manageactivities', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>)) {
<a name="l526"><span class="linenum"> 526</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['timemodified']  = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timemodified')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timemodified.html">timemodified</a>;
<a name="l527"><span class="linenum"> 527</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['completionsubmit']  = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('completionsubmit')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/completionsubmit.html">completionsubmit</a>;
<a name="l528"><span class="linenum"> 528</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['section']  = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('section')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/section.html">section</a>;
<a name="l529"><span class="linenum"> 529</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['visible']  = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('visible')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/visible.html">visible</a>;
<a name="l530"><span class="linenum"> 530</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['groupmode']  = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('groupmode')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/groupmode.html">groupmode</a>;
<a name="l531"><span class="linenum"> 531</span></a>                      <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>['groupingid']  = <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('groupingid')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/groupingid.html">groupingid</a>;
<a name="l532"><span class="linenum"> 532</span></a>                  }
<a name="l533"><span class="linenum"> 533</span></a>                  <a class="var it24066" onMouseOver="hilite(24066)" onMouseOut="lolite()" onClick="logVariable('returnedchoices')" href="../../../_variables/returnedchoices.html">$returnedchoices</a>[] = <a class="var it24067" onMouseOver="hilite(24067)" onMouseOut="lolite()" onClick="logVariable('choicedetails')" href="../../../_variables/choicedetails.html">$choicedetails</a>;
<a name="l534"><span class="linenum"> 534</span></a>              }
<a name="l535"><span class="linenum"> 535</span></a>          }
<a name="l536"><span class="linenum"> 536</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l537"><span class="linenum"> 537</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['choices'] = <a class="var it24066" onMouseOver="hilite(24066)" onMouseOut="lolite()" onClick="logVariable('returnedchoices')" href="../../../_variables/returnedchoices.html">$returnedchoices</a>;
<a name="l538"><span class="linenum"> 538</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l539"><span class="linenum"> 539</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l540"><span class="linenum"> 540</span></a>      }
<a name="l541"><span class="linenum"> 541</span></a>  
<a name="l542"><span class="linenum"> 542</span></a>      <span class="comment">/**</span>
<a name="l543"><span class="linenum"> 543</span></a>  <span class="comment">     * Describes the mod_choice_get_choices_by_courses return value.</span>
<a name="l544"><span class="linenum"> 544</span></a>  <span class="comment">     *</span>
<a name="l545"><span class="linenum"> 545</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l546"><span class="linenum"> 546</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l547"><span class="linenum"> 547</span></a>  <span class="comment">     */</span>
<a name="l548"><span class="linenum"> 548</span></a>      public static function <a class="function" onClick="logFunction('get_choices_by_courses_returns')" href="../../../_functions/get_choices_by_courses_returns.html" onMouseOver="funcPopup(event,'get_choices_by_courses_returns')">get_choices_by_courses_returns</a>() {
<a name="l549"><span class="linenum"> 549</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l550"><span class="linenum"> 550</span></a>              array(
<a name="l551"><span class="linenum"> 551</span></a>                  'choices' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l552"><span class="linenum"> 552</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l553"><span class="linenum"> 553</span></a>                          array(
<a name="l554"><span class="linenum"> 554</span></a>                              'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Choice instance id'),
<a name="l555"><span class="linenum"> 555</span></a>                              'coursemodule' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Course module id'),
<a name="l556"><span class="linenum"> 556</span></a>                              'course' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Course id'),
<a name="l557"><span class="linenum"> 557</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Choice name'),
<a name="l558"><span class="linenum"> 558</span></a>                              'intro' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The choice intro'),
<a name="l559"><span class="linenum"> 559</span></a>                              'introformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../../../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>('intro'),
<a name="l560"><span class="linenum"> 560</span></a>                              'introfiles' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_files')" href="../../../_classes/external_files.html" onMouseOver="classPopup(event,'external_files')">external_files</a>('Files in the introduction text', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l561"><span class="linenum"> 561</span></a>                              'publish' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'If choice is published', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l562"><span class="linenum"> 562</span></a>                              'showresults' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '0 never, 1 after answer, 2 after close, 3 always',
<a name="l563"><span class="linenum"> 563</span></a>                                                                  <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l564"><span class="linenum"> 564</span></a>                              'display' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Display <a class="function" onClick="logFunction('mode')" href="../../../_functions/mode.html" onMouseOver="funcPopup(event,'mode')">mode</a> (vertical, horizontal)', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l565"><span class="linenum"> 565</span></a>                              'allowupdate' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Allow update', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l566"><span class="linenum"> 566</span></a>                              'allowmultiple' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Allow multiple choices', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l567"><span class="linenum"> 567</span></a>                              'showunanswered' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Show users who not answered yet', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l568"><span class="linenum"> 568</span></a>                              'includeinactive' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Include inactive users', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l569"><span class="linenum"> 569</span></a>                              'limitanswers' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Limit unswers', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l570"><span class="linenum"> 570</span></a>                              'timeopen' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Date of opening validity', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l571"><span class="linenum"> 571</span></a>                              'timeclose' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Date of closing validity', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l572"><span class="linenum"> 572</span></a>                              'showpreview' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Show preview before timeopen', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l573"><span class="linenum"> 573</span></a>                              'timemodified' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Time of last modification', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l574"><span class="linenum"> 574</span></a>                              'completionsubmit' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Completion on user submission', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l575"><span class="linenum"> 575</span></a>                              'section' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Course section id', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l576"><span class="linenum"> 576</span></a>                              'visible' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Visible', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l577"><span class="linenum"> 577</span></a>                              'groupmode' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Group mode', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l578"><span class="linenum"> 578</span></a>                              'groupingid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Group id', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l579"><span class="linenum"> 579</span></a>                          ), 'Choices'
<a name="l580"><span class="linenum"> 580</span></a>                      )
<a name="l581"><span class="linenum"> 581</span></a>                  ),
<a name="l582"><span class="linenum"> 582</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l583"><span class="linenum"> 583</span></a>              )
<a name="l584"><span class="linenum"> 584</span></a>          );
<a name="l585"><span class="linenum"> 585</span></a>      }
<a name="l586"><span class="linenum"> 586</span></a>  
<a name="l587"><span class="linenum"> 587</span></a>      <span class="comment">/**</span>
<a name="l588"><span class="linenum"> 588</span></a>  <span class="comment">     * Describes the parameters for delete_choice_responses.</span>
<a name="l589"><span class="linenum"> 589</span></a>  <span class="comment">     *</span>
<a name="l590"><span class="linenum"> 590</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l591"><span class="linenum"> 591</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l592"><span class="linenum"> 592</span></a>  <span class="comment">     */</span>
<a name="l593"><span class="linenum"> 593</span></a>      public static function <a class="function" onClick="logFunction('delete_choice_responses_parameters')" href="../../../_functions/delete_choice_responses_parameters.html" onMouseOver="funcPopup(event,'delete_choice_responses_parameters')">delete_choice_responses_parameters</a>() {
<a name="l594"><span class="linenum"> 594</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l595"><span class="linenum"> 595</span></a>              array(
<a name="l596"><span class="linenum"> 596</span></a>                  'choiceid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'choice instance id'),
<a name="l597"><span class="linenum"> 597</span></a>                  'responses' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l598"><span class="linenum"> 598</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'response id'),
<a name="l599"><span class="linenum"> 599</span></a>                      'Array of response ids, empty for deleting all the user responses',
<a name="l600"><span class="linenum"> 600</span></a>                      <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>,
<a name="l601"><span class="linenum"> 601</span></a>                      array()
<a name="l602"><span class="linenum"> 602</span></a>                  ),
<a name="l603"><span class="linenum"> 603</span></a>              )
<a name="l604"><span class="linenum"> 604</span></a>          );
<a name="l605"><span class="linenum"> 605</span></a>      }
<a name="l606"><span class="linenum"> 606</span></a>  
<a name="l607"><span class="linenum"> 607</span></a>      <span class="comment">/**</span>
<a name="l608"><span class="linenum"> 608</span></a>  <span class="comment">     * Delete the given submitted responses in a choice</span>
<a name="l609"><span class="linenum"> 609</span></a>  <span class="comment">     *</span>
<a name="l610"><span class="linenum"> 610</span></a>  <span class="comment">     * @param int $choiceid the choice instance id</span>
<a name="l611"><span class="linenum"> 611</span></a>  <span class="comment">     * @param array $responses the response ids,  empty for deleting all the user responses</span>
<a name="l612"><span class="linenum"> 612</span></a>  <span class="comment">     * @return array status information and warnings</span>
<a name="l613"><span class="linenum"> 613</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l614"><span class="linenum"> 614</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l615"><span class="linenum"> 615</span></a>  <span class="comment">     */</span>
<a name="l616"><span class="linenum"> 616</span></a>      public static function <a class="function" onClick="logFunction('delete_choice_responses')" href="../../../_functions/delete_choice_responses.html" onMouseOver="funcPopup(event,'delete_choice_responses')">delete_choice_responses</a>(<a class="var it6835" onMouseOver="hilite(6835)" onMouseOut="lolite()" onClick="logVariable('choiceid')" href="../../../_variables/choiceid.html">$choiceid</a>, <a class="var it4437" onMouseOver="hilite(4437)" onMouseOut="lolite()" onClick="logVariable('responses')" href="../../../_variables/responses.html">$responses</a> = array()) {
<a name="l617"><span class="linenum"> 617</span></a>  
<a name="l618"><span class="linenum"> 618</span></a>          <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../../_variables/status.html">$status</a> = false;
<a name="l619"><span class="linenum"> 619</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l620"><span class="linenum"> 620</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('delete_choice_responses_parameters')" href="../../../_functions/delete_choice_responses_parameters.html" onMouseOver="funcPopup(event,'delete_choice_responses_parameters')">delete_choice_responses_parameters</a>(),
<a name="l621"><span class="linenum"> 621</span></a>                                              array(
<a name="l622"><span class="linenum"> 622</span></a>                                                  'choiceid' =&gt; <a class="var it6835" onMouseOver="hilite(6835)" onMouseOut="lolite()" onClick="logVariable('choiceid')" href="../../../_variables/choiceid.html">$choiceid</a>,
<a name="l623"><span class="linenum"> 623</span></a>                                                  'responses' =&gt; <a class="var it4437" onMouseOver="hilite(4437)" onMouseOut="lolite()" onClick="logVariable('responses')" href="../../../_variables/responses.html">$responses</a>
<a name="l624"><span class="linenum"> 624</span></a>                                              ));
<a name="l625"><span class="linenum"> 625</span></a>  
<a name="l626"><span class="linenum"> 626</span></a>          if (!<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a> = <a class="function" onClick="logFunction('choice_get_choice')" href="../../../_functions/choice_get_choice.html" onMouseOver="funcPopup(event,'choice_get_choice')">choice_get_choice</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['choiceid'])) {
<a name="l627"><span class="linenum"> 627</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>(&quot;invalidcoursemodule&quot;, &quot;error&quot;);
<a name="l628"><span class="linenum"> 628</span></a>          }
<a name="l629"><span class="linenum"> 629</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>) = <a class="function" onClick="logFunction('get_course_and_cm_from_instance')" href="../../../_functions/get_course_and_cm_from_instance.html" onMouseOver="funcPopup(event,'get_course_and_cm_from_instance')">get_course_and_cm_from_instance</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>, 'choice');
<a name="l630"><span class="linenum"> 630</span></a>  
<a name="l631"><span class="linenum"> 631</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l632"><span class="linenum"> 632</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l633"><span class="linenum"> 633</span></a>  
<a name="l634"><span class="linenum"> 634</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('mod/choice:choose', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l635"><span class="linenum"> 635</span></a>  
<a name="l636"><span class="linenum"> 636</span></a>  <span class="comment">        // If we have the capability, delete all the passed responses.</span>
<a name="l637"><span class="linenum"> 637</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/choice:deleteresponses', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>)) {
<a name="l638"><span class="linenum"> 638</span></a>              if (empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['responses'])) {
<a name="l639"><span class="linenum"> 639</span></a>  <span class="comment">                // Get all the responses for the choice.</span>
<a name="l640"><span class="linenum"> 640</span></a>                  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['responses'] = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="function" onClick="logFunction('choice_get_all_responses')" href="../../../_functions/choice_get_all_responses.html" onMouseOver="funcPopup(event,'choice_get_all_responses')">choice_get_all_responses</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>));
<a name="l641"><span class="linenum"> 641</span></a>              }
<a name="l642"><span class="linenum"> 642</span></a>              <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../../_variables/status.html">$status</a> = <a class="function" onClick="logFunction('choice_delete_responses')" href="../../../_functions/choice_delete_responses.html" onMouseOver="funcPopup(event,'choice_delete_responses')">choice_delete_responses</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['responses'], <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>);
<a name="l643"><span class="linenum"> 643</span></a>          } else if (<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('allowupdate')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/allowupdate.html">allowupdate</a>) {
<a name="l644"><span class="linenum"> 644</span></a>  <span class="comment">            // Check if we can delate our own responses.</span>
<a name="l645"><span class="linenum"> 645</span></a>              <a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l646"><span class="linenum"> 646</span></a>              if (!empty(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a>) &amp;&amp; (<a class="var it1858" onMouseOver="hilite(1858)" onMouseOut="lolite()" onClick="logVariable('timenow')" href="../../../_variables/timenow.html">$timenow</a> &gt; <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a>)) {
<a name="l647"><span class="linenum"> 647</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>(&quot;expired&quot;, &quot;choice&quot;, '', <a class="function" onClick="logFunction('userdate')" href="../../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>-&gt;<a onClick="logVariable('timeclose')" class="var it43385" onMouseOver="hilite(43385)" onMouseOut="lolite()" href="../../../_variables/timeclose.html">timeclose</a>));
<a name="l648"><span class="linenum"> 648</span></a>              }
<a name="l649"><span class="linenum"> 649</span></a>  <span class="comment">            // Delete only our responses.</span>
<a name="l650"><span class="linenum"> 650</span></a>              <a class="var it24070" onMouseOver="hilite(24070)" onMouseOut="lolite()" onClick="logVariable('myresponses')" href="../../../_variables/myresponses.html">$myresponses</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="function" onClick="logFunction('choice_get_my_response')" href="../../../_functions/choice_get_my_response.html" onMouseOver="funcPopup(event,'choice_get_my_response')">choice_get_my_response</a>(<a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>));
<a name="l651"><span class="linenum"> 651</span></a>  
<a name="l652"><span class="linenum"> 652</span></a>              if (empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['responses'])) {
<a name="l653"><span class="linenum"> 653</span></a>                  <a class="var it9224" onMouseOver="hilite(9224)" onMouseOut="lolite()" onClick="logVariable('todelete')" href="../../../_variables/todelete.html">$todelete</a> = <a class="var it24070" onMouseOver="hilite(24070)" onMouseOut="lolite()" onClick="logVariable('myresponses')" href="../../../_variables/myresponses.html">$myresponses</a>;
<a name="l654"><span class="linenum"> 654</span></a>              } else {
<a name="l655"><span class="linenum"> 655</span></a>                  <a class="var it9224" onMouseOver="hilite(9224)" onMouseOut="lolite()" onClick="logVariable('todelete')" href="../../../_variables/todelete.html">$todelete</a> = array();
<a name="l656"><span class="linenum"> 656</span></a>                  foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['responses'] as <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../_variables/response.html">$response</a>) {
<a name="l657"><span class="linenum"> 657</span></a>                      if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../_variables/response.html">$response</a>, <a class="var it24070" onMouseOver="hilite(24070)" onMouseOut="lolite()" onClick="logVariable('myresponses')" href="../../../_variables/myresponses.html">$myresponses</a>)) {
<a name="l658"><span class="linenum"> 658</span></a>                          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>[] = array(
<a name="l659"><span class="linenum"> 659</span></a>                              'item' =&gt; 'response',
<a name="l660"><span class="linenum"> 660</span></a>                              'itemid' =&gt; <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../_variables/response.html">$response</a>,
<a name="l661"><span class="linenum"> 661</span></a>                              'warningcode' =&gt; 'nopermissions',
<a name="l662"><span class="linenum"> 662</span></a>                              'message' =&gt; 'No permission to delete this response'
<a name="l663"><span class="linenum"> 663</span></a>                          );
<a name="l664"><span class="linenum"> 664</span></a>                      } else {
<a name="l665"><span class="linenum"> 665</span></a>                          <a class="var it9224" onMouseOver="hilite(9224)" onMouseOut="lolite()" onClick="logVariable('todelete')" href="../../../_variables/todelete.html">$todelete</a>[] = <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('response')" href="../../../_variables/response.html">$response</a>;
<a name="l666"><span class="linenum"> 666</span></a>                      }
<a name="l667"><span class="linenum"> 667</span></a>                  }
<a name="l668"><span class="linenum"> 668</span></a>              }
<a name="l669"><span class="linenum"> 669</span></a>  
<a name="l670"><span class="linenum"> 670</span></a>              <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../../_variables/status.html">$status</a> = <a class="function" onClick="logFunction('choice_delete_responses')" href="../../../_functions/choice_delete_responses.html" onMouseOver="funcPopup(event,'choice_delete_responses')">choice_delete_responses</a>(<a class="var it9224" onMouseOver="hilite(9224)" onMouseOut="lolite()" onClick="logVariable('todelete')" href="../../../_variables/todelete.html">$todelete</a>, <a class="var it1330" onMouseOver="hilite(1330)" onMouseOut="lolite()" onClick="logVariable('choice')" href="../../../_variables/choice.html">$choice</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>);
<a name="l671"><span class="linenum"> 671</span></a>          } else {
<a name="l672"><span class="linenum"> 672</span></a>  <span class="comment">            // The user requires the capability to delete responses.</span>
<a name="l673"><span class="linenum"> 673</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('required_capability_exception')" href="../../../_classes/required_capability_exception.html" onMouseOver="classPopup(event,'required_capability_exception')">required_capability_exception</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>, 'mod/choice:deleteresponses', 'nopermissions', '');
<a name="l674"><span class="linenum"> 674</span></a>          }
<a name="l675"><span class="linenum"> 675</span></a>  
<a name="l676"><span class="linenum"> 676</span></a>          return array(
<a name="l677"><span class="linenum"> 677</span></a>              'status' =&gt; <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../../_variables/status.html">$status</a>,
<a name="l678"><span class="linenum"> 678</span></a>              'warnings' =&gt; <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>
<a name="l679"><span class="linenum"> 679</span></a>          );
<a name="l680"><span class="linenum"> 680</span></a>      }
<a name="l681"><span class="linenum"> 681</span></a>  
<a name="l682"><span class="linenum"> 682</span></a>      <span class="comment">/**</span>
<a name="l683"><span class="linenum"> 683</span></a>  <span class="comment">     * Describes the delete_choice_responses return value.</span>
<a name="l684"><span class="linenum"> 684</span></a>  <span class="comment">     *</span>
<a name="l685"><span class="linenum"> 685</span></a>  <span class="comment">     * @return external_multiple_structure</span>
<a name="l686"><span class="linenum"> 686</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l687"><span class="linenum"> 687</span></a>  <span class="comment">     */</span>
<a name="l688"><span class="linenum"> 688</span></a>      public static function <a class="function" onClick="logFunction('delete_choice_responses_returns')" href="../../../_functions/delete_choice_responses_returns.html" onMouseOver="funcPopup(event,'delete_choice_responses_returns')">delete_choice_responses_returns</a>() {
<a name="l689"><span class="linenum"> 689</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l690"><span class="linenum"> 690</span></a>              array(
<a name="l691"><span class="linenum"> 691</span></a>                  'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'status, true if everything went right'),
<a name="l692"><span class="linenum"> 692</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l693"><span class="linenum"> 693</span></a>              )
<a name="l694"><span class="linenum"> 694</span></a>          );
<a name="l695"><span class="linenum"> 695</span></a>      }
<a name="l696"><span class="linenum"> 696</span></a>  
<a name="l697"><span class="linenum"> 697</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_choice_results_returns': ['get_choice_results_returns', 'Describes the get_choice_results return value. ', [['mod/choice/classes','external.php',131]], 5],
'choice_user_submit_response': ['choice_user_submit_response', 'Process user submitted answers for a choice, and either updating them or saving new answers. ', [['mod/choice','lib.php',247]], 15],
'get_choice_results_parameters': ['get_choice_results_parameters', 'Describes the parameters for get_choices_by_courses. ', [['mod/choice/classes','external.php',42]], 1],
'get_choices_by_courses_returns': ['get_choices_by_courses_returns', 'Describes the mod_choice_get_choices_by_courses return value. ', [['mod/choice/classes','external.php',542]], 4],
'get_choices_by_courses': ['get_choices_by_courses', 'Returns a list of choices in a provided list of courses, if no list is provided all choices that the user can view will be returned. ', [['mod/choice/classes','external.php',465]], 4],
'get_all_instances_in_courses': ['get_all_instances_in_courses', 'Returns an array of all the active instances of a particular module in given courses, sorted in the order they are defined ', [['lib','datalib.php',1382]], 23],
'get_choice_options_parameters': ['get_choice_options_parameters', 'Describes the parameters for mod_choice_get_choice_options. ', [['mod/choice/classes','external.php',167]], 1],
'choice_view': ['choice_view', 'Mark the activity completed (if required) and trigger the course_module_viewed event. ', [['mod/choice','lib.php',1021]], 3],
'view_choice_returns': ['view_choice_returns', 'Returns description of method result value ', [['mod/choice/classes','external.php',434]], 1],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'choice_get_choice': ['choice_get_choice', 'Gets a full choice record ', [['mod/choice','lib.php',623]], 18],
'submit_choice_response_returns': ['submit_choice_response_returns', 'Describes the submit_choice_response return value. ', [['mod/choice/classes','external.php',360]], 6],
'delete_choice_responses_returns': ['delete_choice_responses_returns', 'Describes the delete_choice_responses return value. ', [['mod/choice/classes','external.php',682]], 6],
'view_choice_parameters': ['view_choice_parameters', 'Returns description of method parameters ', [['mod/choice/classes','external.php',385]], 1],
'mode': ['mode', 'MODE ', [['lib/phpexcel/PHPExcel/Calculation','Statistical.php',2503]], 17],
'groups_get_activity_groupmode': ['groups_get_activity_groupmode', 'Returns effective groupmode used in activity, course setting overrides activity setting if groupmodeforce enabled. ', [['lib','grouplib.php',468]], 136],
'get_course_and_cm_from_instance': ['get_course_and_cm_from_instance', 'Efficiently retrieves the $course (stdclass) and $cm (cm_info) objects, given an instance id or record and module name. ', [['lib','modinfolib.php',2099]], 45],
'userdate': ['userdate', 'Returns a formatted string that represents a date in user time. ', [['lib','moodlelib.php',2155],['lib/adodb','adodb.inc.php',2842],['lib/adodb','adodb.inc.php',3569]], 525],
'or': ['or', '', [['lib/tcpdf','LICENSE.TXT',69]], 556],
'get_area_files': ['get_area_files', 'Returns all area files (optionally limited by itemid) ', [['lib/filestorage','file_storage.php',782],['lib','externallib.php',1134]], 216],
'delete_choice_responses': ['delete_choice_responses', 'Delete the given submitted responses in a choice ', [['mod/choice/classes','external.php',607]], 8],
'out': ['out', 'Returns the selector for use in a CSS rule ', [['lib','csslib.php',1540],['lib','csslib.php',1698],['lib','csslib.php',2078],['lib','csslib.php',2162],['lib','csslib.php',2306],['lib','csslib.php',2495],['lib','csslib.php',3240],['mod/feedback/classes','responses_table.php',332],['lib','moodlelib.php',9729],['lib','weblib.php',545],['lib','tablelib.php',1594],['report/loglive/classes','table_log_ajax.php',37]], 626],
'view_choice': ['view_choice', 'Trigger the course module viewed event and update the module completion status. ', [['mod/choice/classes','external.php',399]], 3],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'get_url': ['get_url', 'Get URL related to the action ', [['lib/classes/event','competency_plan_unlinked.php',81],['lib/classes/event','grouping_group_assigned.php',57],['lib/classes/event','enrol_instance_deleted.php',79],['report/log/classes/event','user_report_viewed.php',82],['mod/quiz/classes/event','attempt_reviewed.php',72],['lib/classes/event','role_unassigned.php',72],['mod/workshop/classes/event','submission_deleted.php',72],['mod/forum/classes/event','discussion_updated.php',74],['lib/classes/event','course_module_instance_list_viewed.php',84],['lib/classes/event','course_created.php',73],['mod/forum/classes/event','readtracking_enabled.php',73],['mod/wiki/classes/event','page_created.php',77],['lib/classes/event','competency_viewed.php',79],['mod/choice/classes/event','answer_updated.php',81],['lib/simplepie/library/SimplePie','Copyright.php',96],['lib/classes/event','search_indexed.php',69],['lib/classes/event','badge_criteria_updated.php',71],['mod/wiki/classes/event','page_version_deleted.php',83],['lib/classes/event','competency_user_competency_rated_in_plan.php',97],['mod/glossary/classes/event','entry_deleted.php',73],['lib/classes/event','competency_template_viewed.php',81],['admin/tool/langimport/classes/event','langpack_removed.php',80],['mod/glossary/classes/event','category_deleted.php',65],['lib/classes/event','badge_deleted.php',67],['mod/quiz/classes/event','user_override_updated.php',73],['lib/classes/event','message_contact_added.php',57],['lib/classes/event','cohort_member_added.php',68],['lib/classes/event','blog_entry_updated.php',92],['mod/forum/classes/event','assessable_uploaded.php',95],['lib/classes/event','group_deleted.php',74],['lib/classes/event','role_allow_assign_updated.php',65],['mod/lesson/classes/event','highscore_added.php',68],['mod/forum/classes/event','discussion_pinned.php',64],['lib/classes/event','competency_plan_reopened.php',84],['mod/lesson/classes/event','essay_attempt_viewed.php',57],['mod/wiki/classes/event','page_locks_deleted.php',83],['mod/glossary/classes/event','comment_created.php',37],['lib/classes/event','webservice_service_deleted.php',68],['mod/forum/classes/event','discussion_subscription_created.php',75],['admin/tool/log/store/database/tests/fixtures','event.php',44],['mod/workshop/classes/event','assessable_uploaded.php',102],['lib/classes/event','user_loggedout.php',72],['lib/classes/event','webservice_token_created.php',74],['mod/data/classes/event','field_deleted.php',76],['mod/book/classes/event','chapter_created.php',88],['mod/survey/classes/event','report_downloaded.php',73],['mod/workshop/classes/event','phase_switched.php',84],['lib/classes/event','course_reset_started.php',62],['mod/workshop/classes/event','assessment_evaluated.php',75],['lib/classes/event','blog_association_created.php',75],['report/outline/classes/event','activity_report_viewed.php',75],['lib/classes/event','competency_plan_updated.php',84],['mod/choice/classes/event','answer_submitted.php',81],['mod/lesson/classes/event','lesson_ended.php',58],['lib/classes/event','role_allow_switch_updated.php',65],['lib/classes/event','competency_user_competency_rated_in_course.php',97],['mod/quiz/report','attemptsreport_options.php',133],['report/participation/classes/event','report_viewed.php',86],['lib/classes/event','role_capabilities_updated.php',69],['mod/survey/classes/event','response_submitted.php',71],['lib/classes/event','badge_archived.php',65],['mod/workshop/classes/event','assessment_reevaluated.php',85],['report/outline/classes/event','report_viewed.php',83],['lib/classes/event','mnet_access_control_updated.php',66],['mod/assign/classes/event','base.php',90],['mod/lesson/classes/event','essay_assessed.php',87],['lib/filebrowser','file_info.php',226],['mod/book/tool/print/classes/event','book_printed.php',85],['lib/classes/event','grouping_deleted.php',81],['lib/classes/event','course_viewed.php',84],['mod/forum/classes/event','user_report_viewed.php',74],['mod/quiz/classes/event','attempt_summary_viewed.php',75],['lib/classes/event','webservice_service_user_added.php',68],['mod/forum/classes/event','discussion_unpinned.php',64],['lib/classes/event','grouping_group_unassigned.php',57],['mod/chat/classes/event','message_sent.php',68],['lib/classes/event','role_assigned.php',75],['mod/glossary/classes/event','entry_viewed.php',67],['mod/data/classes/event','record_created.php',75],['lib/classes/event','role_deleted.php',73],['mod/wiki/classes/event','page_version_viewed.php',84],['admin/tool/log/store/standard/tests/fixtures','event.php',44],['admin/tool/monitor/classes/event','rule_created.php',68],['lib/classes/event','competency_user_competency_plan_viewed.php',90],['mod/data/classes/event','comment_deleted.php',37],['mod/forum/classes/event','course_module_viewed.php',50],['mod/workshop/classes/event','submission_updated.php',72],['mod/choice/classes/event','report_viewed.php',72],['mod/lesson/classes/event','group_override_deleted.php',73],['mod/wiki/classes/event','page_map_viewed.php',83],['admin/tool/log/store/legacy/tests/fixtures','event.php',44],['mod/lesson/classes/event','question_answered.php',63],['mod/choice/classes/event','report_downloaded.php',73],['lib/classes/event','competency_user_evidence_created.php',82],['lib/classes/event','course_module_completion_updated.php',73],['lib/classes/event','note_updated.php',75],['lib/classes/event','note_created.php',75],['lib/classes/event','competency_framework_created.php',81],['lib/classes/event','course_resources_list_viewed.php',69],['lib/filebrowser','file_info_stored.php',156],['mod/forum/classes/event','subscribers_viewed.php',74],['mod/book/tool/exportimscp/classes/event','book_exported.php',85],['lib','outputcomponents.php',326],['lib','outputcomponents.php',2756],['lib/classes/event','user_enrolment_deleted.php',73],['lib/classes/event','webservice_service_updated.php',68],['mod/lesson/classes/event','group_override_created.php',74],['mod/scorm/classes/event','attempt_deleted.php',71],['lib/classes/event','competency_user_competency_review_request_cancelled.php',81],['lib/classes/event','webservice_service_created.php',74],['mod/wiki/classes/event','page_version_restored.php',83],['mod/forum/classes/event','discussion_deleted.php',75],['lib/classes/event','competency_framework_updated.php',82],['lib/classes/event','blog_comment_created.php',38],['mod/lesson/classes/event','lesson_restarted.php',57],['mod/wiki/classes/event','page_updated.php',83],['mod/assign/submission/comments/classes/event','comment_created.php',37],['lib','modinfolib.php',1230],['lib/classes/event','course_module_updated.php',76],['report/questioninstances/classes/event','report_viewed.php',83],['lib/classes/event','message_contact_blocked.php',57],['lib/classes/event','competency_template_updated.php',84],['lib/classes/event','badge_disabled.php',65],['lib/classes/event','badge_enabled.php',65],['mod/quiz/classes/event','edit_page_viewed.php',72],['mod/scorm/classes/event','tracks_viewed.php',73],['mod/wiki/classes/event','page_diff_viewed.php',85],['lib/classes/event','grouping_created.php',74],['lib/classes/event','group_updated.php',74],['mod/book/classes/event','chapter_updated.php',88],['lib/classes/event','user_loggedin.php',73],['mod/forum/classes/event','subscription_created.php',74],['mod/quiz/classes/event','group_override_updated.php',73],['lib/classes/event','competency_plan_created.php',81],['mod/glossary/classes/event','entry_disapproved.php',65],['lib/classes/event','message_viewed.php',63],['lib/classes/event','comment_created.php',77],['lib/classes/event','competency_evidence_created.php',116],['lib/classes/event','comment_deleted.php',77],['lib/classes/event','competency_user_competency_review_requested.php',81],['mod/quiz/classes/event','attempt_abandoned.php',81],['mod/scorm/classes/event','user_report_viewed.php',71],['mod/quiz/classes/event','attempt_becameoverdue.php',84],['mod/quiz/classes/event','group_override_created.php',74],['mod/book/tool/print/classes/event','chapter_printed.php',88],['mod/data/classes/event','record_deleted.php',75],['lib/classes/event','competency_user_competency_viewed.php',90],['mod/lesson/classes/event','question_viewed.php',63],['lib/classes/event','user_profile_viewed.php',76],['mod/lesson/classes/event','user_override_deleted.php',72],['lib/classes/event','cohort_member_removed.php',69],['mod/lesson/classes/event','lesson_started.php',57],['mod/lesson/classes/event','page_updated.php',82],['mod/workshop/classes/event','submission_viewed.php',72],['mod/glossary/classes/event','entry_created.php',71],['mod/wiki/classes/event','page_history_viewed.php',77],['lib/classes/event','competency_plan_review_request_cancelled.php',84],['mod/quiz/classes/event','attempt_viewed.php',73],['mod/data/classes/event','field_updated.php',76],['lib/classes/event','grouping_updated.php',74],['lib/classes/event','question_category_created.php',66],['lib/classes/event','user_login_failed.php',76],['mod/scorm/classes/event','report_viewed.php',72],['mod/chat/classes/event','sessions_viewed.php',74],['mod/quiz/classes/event','user_override_deleted.php',72],['mod/quiz/classes/event','attempt_submitted.php',81],['mod/lesson/classes/event','group_override_updated.php',73],['mod/workshop/classes/event','submission_created.php',72],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',92],['lib/classes/event','competency_updated.php',79],['mod/lesson/classes/event','page_moved.php',65],['blocks/rss_client/classes/output','channel_image.php',101],['badges/lib','backpacklib.php',116],['lib/classes/event','course_completed.php',91],['lib/classes/event','competency_created.php',79],['mod/lesson/classes/event','highscores_viewed.php',60],['lib/classes/event','message_contact_unblocked.php',57],['lib','accesslib.php',6143],['lib','accesslib.php',6200],['lib','accesslib.php',6451],['lib','accesslib.php',6638],['lib','accesslib.php',6878],['lib','accesslib.php',7098],['lib','accesslib.php',7341],['mod/wiki/classes/event','comment_deleted.php',38],['lib/classes/event','user_enrolment_created.php',72],['lib/classes/event','course_module_created.php',105],['lib/classes/event','webservice_service_user_removed.php',68],['report/log/classes/event','report_viewed.php',85],['mod/assign/submission/file/classes/event','assessable_uploaded.php',94],['lib/classes/event','group_member_added.php',87],['mod/forum/classes/event','discussion_viewed.php',69],['mod/workshop/classes/event','submission_reassessed.php',86],['mod/workshop/classes/event','assessment_evaluations_reset.php',84],['mod/forum/classes/event','discussion_moved.php',75],['mod/lesson/classes/event','lesson_resumed.php',57],['lib/classes/event','comments_viewed.php',69],['mod/data/classes/event','template_viewed.php',74],['mod/wiki/classes/event','page_deleted.php',83],['mod/quiz/classes/event','report_viewed.php',75],['mod/scorm/classes/event','sco_launched.php',73],['mod/glossary/classes/event','entry_updated.php',71],['mod/lesson/classes/event','user_override_created.php',72],['mod/glossary/classes/event','category_updated.php',65],['lib/classes/event','course_updated.php',76],['mod/feedback/classes/event','response_submitted.php',102],['mod/book/classes/event','chapter_deleted.php',88],['mod/wiki/classes/event','comment_created.php',38],['report/completion/classes/event','report_viewed.php',67],['lib/classes/event','recent_activity_viewed.php',76],['mod/quiz/classes/event','question_manually_graded.php',74],['lib/classes/event','user_enrolment_updated.php',72],['lib/classes/event','competency_comment_created.php',49],['report/completion/classes/event','user_report_viewed.php',77],['report/stats/classes/event','report_viewed.php',83],['lib/classes/event','calendar_event_created.php',77],['lib/classes/event','course_section_updated.php',75],['lib/classes/event','message_sent.php',91],['lib/classes/event','calendar_subscription_deleted.php',75],['lib/classes/event','course_category_updated.php',60],['lib/classes/event','user_password_updated.php',95],['mod/forum/classes/event','subscription_deleted.php',74],['lib/classes/event','user_loggedinas.php',85],['lib/classes/event','competency_template_created.php',81],['lib/classes/event','user_created.php',66],['report/loglive/classes/event','report_viewed.php',75],['mod/book/classes/event','chapter_viewed.php',88],['lib/classes/event','badge_awarded.php',72],['lib/classes/event','calendar_subscription_created.php',76],['lib/classes/event','enrol_instance_created.php',78],['lib/classes/event','user_list_viewed.php',74],['mod/forum/classes/event','post_deleted.php',76],['mod/quiz/classes/event','group_override_deleted.php',73],['mod/assign/submission/comments/classes/event','comment_deleted.php',37],['lib/classes/event','badge_created.php',65],['lib/classes/event','base.php',639],['lib/classes/event','competency_framework_viewed.php',78],['mod/glossary/classes/event','course_module_viewed.php',53],['lib/classes/event','group_member_removed.php',78],['lib/classes/event','grade_report_viewed.php',72],['lib/classes/event','calendar_event_updated.php',77],['lib/classes/event','user_updated.php',66],['mod/lesson/classes/event','page_created.php',63],['enrol','locallib.php',1412],['lib/classes/event','blog_comment_deleted.php',38],['backup/util/ui','restore_ui_components.php',98],['lib/classes/event','course_completion_updated.php',65],['lib/classes/event','competency_plan_review_started.php',84],['lib/classes/event','course_user_report_viewed.php',75],['mod/folder/classes/event','all_files_downloaded.php',69],['mod/workshop/classes/event','assessments_reset.php',83],['mod/glossary/classes/event','comment_deleted.php',37],['mod/data/classes/event','template_updated.php',85],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',43],['lib/filebrowser','file_info_context_course.php',505],['lib/classes/event','notes_viewed.php',71],['lib/classes/event','competency_plan_viewed.php',81],['mod/data/classes/event','record_updated.php',75],['lib/classes/event','competency_plan_unapproved.php',84],['mod/lesson/classes/event','content_page_viewed.php',57],['mod/quiz/classes/event','attempt_started.php',80],['lib/classes/event','competency_user_competency_rated.php',91],['mod/forum/classes/event','post_updated.php',76],['lib/classes/event','competency_plan_review_requested.php',84],['lib/classes/event','user_graded.php',115],['mod/forum/classes/event','post_created.php',76],['mod/scorm/classes/event','cmielement_submitted.php',67],['lib/classes/event','enrol_instance_updated.php',79],['admin/tool/capability/classes/event','report_viewed.php',74],['mod/data/classes/event','field_created.php',77],['mod/folder/classes/event','folder_updated.php',66],['lib/classes/event','badge_updated.php',65],['lib/tests/fixtures','event_fixtures.php',47],['lib/tests/fixtures','event_fixtures.php',273],['mod/survey/classes/event','report_viewed.php',73],['mod/quiz/classes/event','attempt_deleted.php',72],['mod/glossary/classes/event','entry_approved.php',65],['mod/wiki/classes/event','comments_viewed.php',68],['mod/wiki/classes/event','page_viewed.php',95],['mod/forum/classes/event','readtracking_disabled.php',73],['admin/tool/langimport/classes/event','langpack_imported.php',89],['lib/classes/event','competency_plan_review_stopped.php',84],['admin/tool/langimport/classes/event','langpack_updated.php',89],['lib/tests','customcontext_test.php',33],['lib/tests','customcontext_test.php',57],['lib/tests','customcontext_test.php',81],['lib/classes/event','competency_user_competency_viewed_in_plan.php',94],['lib/classes/event','competency_user_competency_viewed_in_course.php',93],['mod/glossary/classes/event','category_created.php',65],['report/stats/classes/event','user_report_viewed.php',76],['lib/classes/event','dashboards_reset.php',68],['lib/classes/event','calendar_subscription_updated.php',76],['lib/classes/event','cohort_updated.php',67],['admin/tool/monitor/classes/event','rule_updated.php',68],['mod/lesson/classes/event','page_deleted.php',63],['lib/classes/event','mnet_access_control_created.php',66],['mod/forum/classes/event','discussion_created.php',74],['lib/classes/event','blog_entries_viewed.php',80],['mod/quiz/classes/event','attempt_preview_started.php',73],['lib/classes/event','competency_user_evidence_updated.php',82],['lib/classes/event','course_restored.php',76],['mod/data/classes/event','comment_created.php',37],['lib/classes/event','group_created.php',74],['lib/classes/event','badge_criteria_deleted.php',70],['lib/classes/event','competency_plan_completed.php',84],['mod/lesson/classes/event','user_override_updated.php',73],['lib/classes/event','role_allow_override_updated.php',65],['mod/forum/classes/event','discussion_subscription_deleted.php',75],['lib/classes/event','cohort_deleted.php',67],['lib/classes/event','badge_criteria_created.php',70],['lib/classes/event','blog_entry_created.php',94],['mod/scorm/classes/event','interactions_viewed.php',72],['mod/workshop/classes/event','submission_assessed.php',85],['lib/classes/event','badge_duplicated.php',65],['lib/classes/event','course_category_created.php',57],['lib/classes/event','cohort_created.php',67],['lib/classes/event','competency_plan_approved.php',84],['mod/choice/classes/event','answer_deleted.php',65],['lib/classes/event','competency_user_competency_review_started.php',81],['lib/classes/event','course_reset_ended.php',62],['mod/quiz/classes/event','user_override_created.php',72],['mod/forum/classes/event','course_searched.php',75],['lib/classes/event','message_contact_removed.php',57],['admin/tool/monitor/classes/event','rule_deleted.php',68],['lib/classes/event','competency_user_competency_review_stopped.php',81],['lib/classes/event','course_module_viewed.php',71]], 259],
'fullname': ['fullname', 'Returns a persons full name ', [['lib','moodlelib.php',3249],['mod/assign','locallib.php',3915]], 546],
'choice_get_my_response': ['choice_get_my_response', 'Get my responses on a given choice. ', [['mod/choice','lib.php',964]], 15],
'validate_courses': ['validate_courses', 'Validate a list of courses, returning the complete course objects for valid courses. ', [['lib','externallib.php',1096]], 16],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'enrol_get_my_courses': ['enrol_get_my_courses', 'Returns list of courses current $USER is enrolled in and can access ', [['lib','enrollib.php',512]], 30],
'choice_get_response_data': ['choice_get_response_data', '', [['mod/choice','lib.php',738]], 5],
'require_capability': ['require_capability', 'Wrapper round the require_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',929],['lib','accesslib.php',762],['backup/util/ui','restore_ui_components.php',157]], 690],
'get_choice_options_returns': ['get_choice_options_returns', 'Describes the get_choice_results return value. ', [['mod/choice/classes','external.php',261]], 5],
'get_choice_results': ['get_choice_results', 'Returns user\'s results for a specific choice and a list of those users that did not answered yet. ', [['mod/choice/classes','external.php',51]], 5],
'external_format_string': ['external_format_string', 'Format the string to be returned properly as requested by the either the web service server, either by an internally call. The caller can change the format (raw) with the external_settings singleton All web service servers must set this singleton when parsing the $_GET and $_POST. ', [['lib','externallib.php',850]], 48],
'choice_can_view_results': ['choice_can_view_results', 'Return true if we are allowd to view the choice results. ', [['mod/choice','lib.php',990]], 8],
'delete_choice_responses_parameters': ['delete_choice_responses_parameters', 'Describes the parameters for delete_choice_responses. ', [['mod/choice/classes','external.php',587]], 1],
'submit_choice_response': ['submit_choice_response', 'Submit choice responses ', [['mod/choice/classes','external.php',306]], 6],
'validate_context': ['validate_context', 'Makes sure user may execute functions in this context. ', [['lib','externallib.php',448]], 256],
'validate_parameters': ['validate_parameters', 'Validates submitted function parameters, if anything is incorrect invalid_parameter_exception is thrown. This is a simple recursive method which is intended to be called from each implementation method of external API. ', [['lib','externallib.php',279]], 340],
'choice_get_all_responses': ['choice_get_all_responses', 'Get all the responses on a given choice. ', [['mod/choice','lib.php',977]], 2],
'submit_choice_response_parameters': ['submit_choice_response_parameters', 'Describes the parameters for submit_choice_response. ', [['mod/choice/classes','external.php',288]], 1],
'get_choices_by_courses_parameters': ['get_choices_by_courses_parameters', 'Describes the parameters for get_choices_by_courses. ', [['mod/choice/classes','external.php',449]], 1],
'choice_prepare_options': ['choice_prepare_options', '', [['mod/choice','lib.php',202]], 2],
'get_choice_options': ['get_choice_options', 'Returns options for a specific choice ', [['mod/choice/classes','external.php',177]], 5],
'choice_delete_responses': ['choice_delete_responses', '', [['mod/choice','lib.php',520]], 6],
'external_format_text': ['external_format_text', 'Format the text to be returned properly as requested by the either the web service server, either by an internally call. The caller can change the format (raw, filter, file, fileurl) with the external_settings singleton All web service servers must set this singleton when parsing the $_GET and $_POST. ', [['lib','externallib.php',887]], 61],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',922],['lib','accesslib.php',344]], 2064],
'prepare_choice_show_results': ['prepare_choice_show_results', '', [['mod/choice','lib.php',475]], 3],
'in_array': ['in_array', '', [], 1234],
'count': ['count', '', [], 4095],
'time': ['time', '', [], 1959],
'reset': ['reset', '', [], 1213],
'array_keys': ['array_keys', '', [], 1256],
'defined': ['defined', '', [], 4731]};
CLASS_DATA={
'external_function_parameters': ['external_function_parameters', 'Description of top level - PHP function parameters. ', [['lib','externallib.php',638]], 344],
'external_warnings': ['external_warnings', 'Standard Moodle web service warnings ', [['lib','externallib.php',768]], 150],
'external_util': ['external_util', 'Utility functions for the external API. ', [['lib','externallib.php',1086]], 38],
'external_api': ['external_api', 'Base class for external api methods. ', [['lib','externallib.php',47]], 808],
'external_single_structure': ['external_single_structure', 'Associative array description class ', [['lib','externallib.php',580]], 460],
'external_files': ['external_files', 'External structure representing a set of files. ', [['lib','externallib.php',1167]], 21],
'required_capability_exception': ['required_capability_exception', 'Exceptions indicating user does not have permissions to do something and the execution can not continue. ', [['lib','setuplib.php',210]], 131],
'external_value': ['external_value', 'Scalar value description class ', [['lib','externallib.php',546]], 2505],
'user_picture': ['user_picture', 'Data structure representing a user picture. ', [['lib','outputcomponents.php',142]], 165],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',7039]], 1106],
'moodle_exception': ['moodle_exception', 'Base Moodle Exception class ', [['lib','setuplib.php',75]], 606],
'mod_choice_external': ['mod_choice_external', 'Choice module external functions ', [['mod/choice/classes','external.php',31]], 60],
'external_format_value': ['external_format_value', 'A pre-filled external_value class for text format. ', [['lib','externallib.php',799]], 70],
'external_multiple_structure': ['external_multiple_structure', 'Bulk array description class. ', [['lib','externallib.php',609]], 350]};
CONST_DATA={
'VALUE_OPTIONAL': ['VALUE_OPTIONAL', '', [['lib','moodlelib.php',337]], 761],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'VALUE_DEFAULT': ['VALUE_DEFAULT', '', [['lib','moodlelib.php',342]], 304],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 3812],
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 802],
'PARAM_FLOAT': ['PARAM_FLOAT', '', [['lib','moodlelib.php',146]], 103],
'PARAM_NOTAGS': ['PARAM_NOTAGS', '', [['lib','moodlelib.php',172]], 217],
'PARAM_URL': ['PARAM_URL', '', [['lib','moodlelib.php',239]], 165],
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 921]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
