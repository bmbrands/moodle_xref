<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/assign/lib.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='mod/assign';
filename='lib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/assign/</a> -> <a href="lib.php.html">lib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="lib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="lib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * This file contains the moodle hooks for the assign module.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * It delegates most functions to the assignment class.</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> *</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @package   mod_assign</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @copyright 2012 NetSpot {@link http://www.netspot.com.au}</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> */</span>
<a name="l26"><span class="linenum">  26</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">/**</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * Adds an assignment instance</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> *</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * This is done by calling the add_instance() method of the assignment type class</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * @param stdClass $data</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * @param mod_assign_mod_form $form</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * @return int The instance id of the new assignment</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> */</span>
<a name="l36"><span class="linenum">  36</span></a>  function <a class="function" onClick="logFunction('assign_add_instance')" href="../../_functions/assign_add_instance.html" onMouseOver="funcPopup(event,'assign_add_instance')">assign_add_instance</a>(stdClass <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>, mod_assign_mod_form <a class="var it596" onMouseOver="hilite(596)" onMouseOut="lolite()" onClick="logVariable('form')" href="../../_variables/form.html">$form</a> = null) {
<a name="l37"><span class="linenum">  37</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l38"><span class="linenum">  38</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l39"><span class="linenum">  39</span></a>  
<a name="l40"><span class="linenum">  40</span></a>      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../_variables/coursemodule.html">coursemodule</a>), null, null);
<a name="l41"><span class="linenum">  41</span></a>      return <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('add_instance')" href="../../_functions/add_instance.html" onMouseOver="funcPopup(event,'add_instance')">add_instance</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>, true);
<a name="l42"><span class="linenum">  42</span></a>  }
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">/**</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment"> * delete an assignment instance</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment"> * @param int $id</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment"> * @return bool</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment"> */</span>
<a name="l49"><span class="linenum">  49</span></a>  function <a class="function" onClick="logFunction('assign_delete_instance')" href="../../_functions/assign_delete_instance.html" onMouseOver="funcPopup(event,'assign_delete_instance')">assign_delete_instance</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>) {
<a name="l50"><span class="linenum">  50</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l51"><span class="linenum">  51</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l52"><span class="linenum">  52</span></a>      <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>, 0, false, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l53"><span class="linenum">  53</span></a>      <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l54"><span class="linenum">  54</span></a>  
<a name="l55"><span class="linenum">  55</span></a>      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, null, null);
<a name="l56"><span class="linenum">  56</span></a>      return <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('delete_instance')" href="../../_functions/delete_instance.html" onMouseOver="funcPopup(event,'delete_instance')">delete_instance</a>();
<a name="l57"><span class="linenum">  57</span></a>  }
<a name="l58"><span class="linenum">  58</span></a>  
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">/**</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment"> * This function is used by the reset_course_userdata function in moodlelib.</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment"> * This function will remove all assignment submissions and feedbacks in the database</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment"> * and clean up any related data.</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment"> *</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment"> * @param stdClass $data the data submitted from the reset course.</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment"> * @return array</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment"> */</span>
<a name="l67"><span class="linenum">  67</span></a>  function <a class="function" onClick="logFunction('assign_reset_userdata')" href="../../_functions/assign_reset_userdata.html" onMouseOver="funcPopup(event,'assign_reset_userdata')">assign_reset_userdata</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>) {
<a name="l68"><span class="linenum">  68</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l69"><span class="linenum">  69</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l70"><span class="linenum">  70</span></a>  
<a name="l71"><span class="linenum">  71</span></a>      <a class="var it741" onMouseOver="hilite(741)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a> = array();
<a name="l72"><span class="linenum">  72</span></a>      <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('courseid'=&gt;<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('courseid')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a>);
<a name="l73"><span class="linenum">  73</span></a>      <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;SELECT a.id FROM {assign} a WHERE a.course=:courseid&quot;;
<a name="l74"><span class="linenum">  74</span></a>      <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id'=&gt;<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('courseid')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l75"><span class="linenum">  75</span></a>      if (<a class="var it6462" onMouseOver="hilite(6462)" onMouseOut="lolite()" onClick="logVariable('assigns')" href="../../_variables/assigns.html">$assigns</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>)) {
<a name="l76"><span class="linenum">  76</span></a>          foreach (<a class="var it6462" onMouseOver="hilite(6462)" onMouseOut="lolite()" onClick="logVariable('assigns')" href="../../_variables/assigns.html">$assigns</a> as <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>) {
<a name="l77"><span class="linenum">  77</span></a>              <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign',
<a name="l78"><span class="linenum">  78</span></a>                                                   <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('id')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l79"><span class="linenum">  79</span></a>                                                   <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('courseid')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a>,
<a name="l80"><span class="linenum">  80</span></a>                                                   false,
<a name="l81"><span class="linenum">  81</span></a>                                                   <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l82"><span class="linenum">  82</span></a>              <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l83"><span class="linenum">  83</span></a>              <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l84"><span class="linenum">  84</span></a>              <a class="var it741" onMouseOver="hilite(741)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it741" onMouseOver="hilite(741)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a>, <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('reset_userdata')" href="../../_functions/reset_userdata.html" onMouseOver="funcPopup(event,'reset_userdata')">reset_userdata</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>));
<a name="l85"><span class="linenum">  85</span></a>          }
<a name="l86"><span class="linenum">  86</span></a>      }
<a name="l87"><span class="linenum">  87</span></a>      return <a class="var it741" onMouseOver="hilite(741)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a>;
<a name="l88"><span class="linenum">  88</span></a>  }
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">/**</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment"> * Removes all grades from gradebook</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment"> *</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment"> * @param int $courseid The ID of the course to reset</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment"> * @param string $type Optional type of assignment to limit the reset to a particular assignment type</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment"> */</span>
<a name="l96"><span class="linenum">  96</span></a>  function <a class="function" onClick="logFunction('assign_reset_gradebook')" href="../../_functions/assign_reset_gradebook.html" onMouseOver="funcPopup(event,'assign_reset_gradebook')">assign_reset_gradebook</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>='') {
<a name="l97"><span class="linenum">  97</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l98"><span class="linenum">  98</span></a>  
<a name="l99"><span class="linenum">  99</span></a>      <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('moduletype'=&gt;'assign', 'courseid'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>);
<a name="l100"><span class="linenum"> 100</span></a>      <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = 'SELECT a.*, cm.idnumber as cmidnumber, a.course as courseid
<a name="l101"><span class="linenum"> 101</span></a>              FROM {assign} a, {course_modules} cm, {modules} m
<a name="l102"><span class="linenum"> 102</span></a>              WHERE m.name=:moduletype AND m.id=cm.module AND cm.instance=a.id AND a.course=:courseid';
<a name="l103"><span class="linenum"> 103</span></a>  
<a name="l104"><span class="linenum"> 104</span></a>      if (<a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>)) {
<a name="l105"><span class="linenum"> 105</span></a>          foreach (<a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a> as <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>) {
<a name="l106"><span class="linenum"> 106</span></a>              <a class="function" onClick="logFunction('assign_grade_item_update')" href="../../_functions/assign_grade_item_update.html" onMouseOver="funcPopup(event,'assign_grade_item_update')">assign_grade_item_update</a>(<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>, 'reset');
<a name="l107"><span class="linenum"> 107</span></a>          }
<a name="l108"><span class="linenum"> 108</span></a>      }
<a name="l109"><span class="linenum"> 109</span></a>  }
<a name="l110"><span class="linenum"> 110</span></a>  
<a name="l111"><span class="linenum"> 111</span></a>  <span class="comment">/**</span>
<a name="l112"><span class="linenum"> 112</span></a>  <span class="comment"> * Implementation of the function for printing the form elements that control</span>
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment"> * whether the course reset functionality affects the assignment.</span>
<a name="l114"><span class="linenum"> 114</span></a>  <span class="comment"> * @param moodleform $mform form passed by reference</span>
<a name="l115"><span class="linenum"> 115</span></a>  <span class="comment"> */</span>
<a name="l116"><span class="linenum"> 116</span></a>  function <a class="function" onClick="logFunction('assign_reset_course_form_definition')" href="../../_functions/assign_reset_course_form_definition.html" onMouseOver="funcPopup(event,'assign_reset_course_form_definition')">assign_reset_course_form_definition</a>(&amp;<a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>) {
<a name="l117"><span class="linenum"> 117</span></a>      <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('header', 'assignheader', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulenameplural', 'assign'));
<a name="l118"><span class="linenum"> 118</span></a>      <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('deleteallsubmissions', 'assign');
<a name="l119"><span class="linenum"> 119</span></a>      <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('advcheckbox', 'reset_assign_submissions', <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>);
<a name="l120"><span class="linenum"> 120</span></a>  }
<a name="l121"><span class="linenum"> 121</span></a>  
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment">/**</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment"> * Course reset form defaults.</span>
<a name="l124"><span class="linenum"> 124</span></a>  <span class="comment"> * @param  object $course</span>
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment"> * @return array</span>
<a name="l126"><span class="linenum"> 126</span></a>  <span class="comment"> */</span>
<a name="l127"><span class="linenum"> 127</span></a>  function <a class="function" onClick="logFunction('assign_reset_course_form_defaults')" href="../../_functions/assign_reset_course_form_defaults.html" onMouseOver="funcPopup(event,'assign_reset_course_form_defaults')">assign_reset_course_form_defaults</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>) {
<a name="l128"><span class="linenum"> 128</span></a>      return array('reset_assign_submissions'=&gt;1);
<a name="l129"><span class="linenum"> 129</span></a>  }
<a name="l130"><span class="linenum"> 130</span></a>  
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">/**</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment"> * Update an assignment instance</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment"> *</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment"> * This is done by calling the update_instance() method of the assignment type class</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment"> * @param stdClass $data</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment"> * @param stdClass $form - unused</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment"> * @return object</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment"> */</span>
<a name="l139"><span class="linenum"> 139</span></a>  function <a class="function" onClick="logFunction('assign_update_instance')" href="../../_functions/assign_update_instance.html" onMouseOver="funcPopup(event,'assign_update_instance')">assign_update_instance</a>(stdClass <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>, <a class="var it596" onMouseOver="hilite(596)" onMouseOut="lolite()" onClick="logVariable('form')" href="../../_variables/form.html">$form</a>) {
<a name="l140"><span class="linenum"> 140</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l141"><span class="linenum"> 141</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l142"><span class="linenum"> 142</span></a>      <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../_variables/coursemodule.html">coursemodule</a>);
<a name="l143"><span class="linenum"> 143</span></a>      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, null, null);
<a name="l144"><span class="linenum"> 144</span></a>      return <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('update_instance')" href="../../_functions/update_instance.html" onMouseOver="funcPopup(event,'update_instance')">update_instance</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>);
<a name="l145"><span class="linenum"> 145</span></a>  }
<a name="l146"><span class="linenum"> 146</span></a>  
<a name="l147"><span class="linenum"> 147</span></a>  <span class="comment">/**</span>
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment"> * Return the list if Moodle features this module supports</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment"> *</span>
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment"> * @param string $feature FEATURE_xx constant for requested feature</span>
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment"> * @return mixed True if module supports feature, null if doesn't know</span>
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment"> */</span>
<a name="l153"><span class="linenum"> 153</span></a>  function <a class="function" onClick="logFunction('assign_supports')" href="../../_functions/assign_supports.html" onMouseOver="funcPopup(event,'assign_supports')">assign_supports</a>(<a class="var it2238" onMouseOver="hilite(2238)" onMouseOut="lolite()" onClick="logVariable('feature')" href="../../_variables/feature.html">$feature</a>) {
<a name="l154"><span class="linenum"> 154</span></a>      switch(<a class="var it2238" onMouseOver="hilite(2238)" onMouseOut="lolite()" onClick="logVariable('feature')" href="../../_variables/feature.html">$feature</a>) {
<a name="l155"><span class="linenum"> 155</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GROUPS')" href="../../_constants/FEATURE_GROUPS.html" onMouseOver="constPopup(event,'FEATURE_GROUPS')">FEATURE_GROUPS</a>:
<a name="l156"><span class="linenum"> 156</span></a>              return true;
<a name="l157"><span class="linenum"> 157</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GROUPINGS')" href="../../_constants/FEATURE_GROUPINGS.html" onMouseOver="constPopup(event,'FEATURE_GROUPINGS')">FEATURE_GROUPINGS</a>:
<a name="l158"><span class="linenum"> 158</span></a>              return true;
<a name="l159"><span class="linenum"> 159</span></a>          case <a class="constant" onClick="logConstant('FEATURE_MOD_INTRO')" href="../../_constants/FEATURE_MOD_INTRO.html" onMouseOver="constPopup(event,'FEATURE_MOD_INTRO')">FEATURE_MOD_INTRO</a>:
<a name="l160"><span class="linenum"> 160</span></a>              return true;
<a name="l161"><span class="linenum"> 161</span></a>          case <a class="constant" onClick="logConstant('FEATURE_COMPLETION_TRACKS_VIEWS')" href="../../_constants/FEATURE_COMPLETION_TRACKS_VIEWS.html" onMouseOver="constPopup(event,'FEATURE_COMPLETION_TRACKS_VIEWS')">FEATURE_COMPLETION_TRACKS_VIEWS</a>:
<a name="l162"><span class="linenum"> 162</span></a>              return true;
<a name="l163"><span class="linenum"> 163</span></a>          case <a class="constant" onClick="logConstant('FEATURE_COMPLETION_HAS_RULES')" href="../../_constants/FEATURE_COMPLETION_HAS_RULES.html" onMouseOver="constPopup(event,'FEATURE_COMPLETION_HAS_RULES')">FEATURE_COMPLETION_HAS_RULES</a>:
<a name="l164"><span class="linenum"> 164</span></a>              return true;
<a name="l165"><span class="linenum"> 165</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GRADE_HAS_GRADE')" href="../../_constants/FEATURE_GRADE_HAS_GRADE.html" onMouseOver="constPopup(event,'FEATURE_GRADE_HAS_GRADE')">FEATURE_GRADE_HAS_GRADE</a>:
<a name="l166"><span class="linenum"> 166</span></a>              return true;
<a name="l167"><span class="linenum"> 167</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GRADE_OUTCOMES')" href="../../_constants/FEATURE_GRADE_OUTCOMES.html" onMouseOver="constPopup(event,'FEATURE_GRADE_OUTCOMES')">FEATURE_GRADE_OUTCOMES</a>:
<a name="l168"><span class="linenum"> 168</span></a>              return true;
<a name="l169"><span class="linenum"> 169</span></a>          case <a class="constant" onClick="logConstant('FEATURE_BACKUP_MOODLE2')" href="../../_constants/FEATURE_BACKUP_MOODLE2.html" onMouseOver="constPopup(event,'FEATURE_BACKUP_MOODLE2')">FEATURE_BACKUP_MOODLE2</a>:
<a name="l170"><span class="linenum"> 170</span></a>              return true;
<a name="l171"><span class="linenum"> 171</span></a>          case <a class="constant" onClick="logConstant('FEATURE_SHOW_DESCRIPTION')" href="../../_constants/FEATURE_SHOW_DESCRIPTION.html" onMouseOver="constPopup(event,'FEATURE_SHOW_DESCRIPTION')">FEATURE_SHOW_DESCRIPTION</a>:
<a name="l172"><span class="linenum"> 172</span></a>              return true;
<a name="l173"><span class="linenum"> 173</span></a>          case <a class="constant" onClick="logConstant('FEATURE_ADVANCED_GRADING')" href="../../_constants/FEATURE_ADVANCED_GRADING.html" onMouseOver="constPopup(event,'FEATURE_ADVANCED_GRADING')">FEATURE_ADVANCED_GRADING</a>:
<a name="l174"><span class="linenum"> 174</span></a>              return true;
<a name="l175"><span class="linenum"> 175</span></a>          case <a class="constant" onClick="logConstant('FEATURE_PLAGIARISM')" href="../../_constants/FEATURE_PLAGIARISM.html" onMouseOver="constPopup(event,'FEATURE_PLAGIARISM')">FEATURE_PLAGIARISM</a>:
<a name="l176"><span class="linenum"> 176</span></a>              return true;
<a name="l177"><span class="linenum"> 177</span></a>  
<a name="l178"><span class="linenum"> 178</span></a>          default:
<a name="l179"><span class="linenum"> 179</span></a>              return null;
<a name="l180"><span class="linenum"> 180</span></a>      }
<a name="l181"><span class="linenum"> 181</span></a>  }
<a name="l182"><span class="linenum"> 182</span></a>  
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">/**</span>
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment"> * Lists all gradable areas for the advanced grading methods gramework</span>
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment"> *</span>
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment"> * @return array('string'=&gt;'string') An array with area names as keys and descriptions as values</span>
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment"> */</span>
<a name="l188"><span class="linenum"> 188</span></a>  function <a class="function" onClick="logFunction('assign_grading_areas_list')" href="../../_functions/assign_grading_areas_list.html" onMouseOver="funcPopup(event,'assign_grading_areas_list')">assign_grading_areas_list</a>() {
<a name="l189"><span class="linenum"> 189</span></a>      return array('submissions'=&gt;<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('submissions', 'assign'));
<a name="l190"><span class="linenum"> 190</span></a>  }
<a name="l191"><span class="linenum"> 191</span></a>  
<a name="l192"><span class="linenum"> 192</span></a>  
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment">/**</span>
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment"> * extend an assigment navigation settings</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment"> *</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment"> * @param settings_navigation $settings</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment"> * @param navigation_node $navref</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment"> * @return void</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment"> */</span>
<a name="l200"><span class="linenum"> 200</span></a>  function <a class="function" onClick="logFunction('assign_extend_settings_navigation')" href="../../_functions/assign_extend_settings_navigation.html" onMouseOver="funcPopup(event,'assign_extend_settings_navigation')">assign_extend_settings_navigation</a>(settings_navigation <a class="var it16" onMouseOver="hilite(16)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../../_variables/settings.html">$settings</a>, navigation_node <a class="var it7028" onMouseOver="hilite(7028)" onMouseOut="lolite()" onClick="logVariable('navref')" href="../../_variables/navref.html">$navref</a>) {
<a name="l201"><span class="linenum"> 201</span></a>      global <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l202"><span class="linenum"> 202</span></a>  
<a name="l203"><span class="linenum"> 203</span></a>      <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('cm')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../../_variables/cm.html">cm</a>;
<a name="l204"><span class="linenum"> 204</span></a>      if (!<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>) {
<a name="l205"><span class="linenum"> 205</span></a>          return;
<a name="l206"><span class="linenum"> 206</span></a>      }
<a name="l207"><span class="linenum"> 207</span></a>  
<a name="l208"><span class="linenum"> 208</span></a>      <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('context')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/context.html">context</a>;
<a name="l209"><span class="linenum"> 209</span></a>      <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('course')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>;
<a name="l210"><span class="linenum"> 210</span></a>  
<a name="l211"><span class="linenum"> 211</span></a>      if (!<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>) {
<a name="l212"><span class="linenum"> 212</span></a>          return;
<a name="l213"><span class="linenum"> 213</span></a>      }
<a name="l214"><span class="linenum"> 214</span></a>  
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment">    // Link to gradebook.</span>
<a name="l216"><span class="linenum"> 216</span></a>      if (<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('gradereport/grader:view', <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('context')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/context.html">context</a>) &amp;&amp;
<a name="l217"><span class="linenum"> 217</span></a>              <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:viewall', <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('context')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/context.html">context</a>)) {
<a name="l218"><span class="linenum"> 218</span></a>          <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../grade/report/grader/index.php.html">/grade/report/grader/index.php</a>', array('id' =&gt; <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l219"><span class="linenum"> 219</span></a>          <a class="var it7029" onMouseOver="hilite(7029)" onMouseOut="lolite()" onClick="logVariable('linkname')" href="../../_variables/linkname.html">$linkname</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewgradebook', 'assign');
<a name="l220"><span class="linenum"> 220</span></a>          <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../_variables/node.html">$node</a> = <a class="var it7028" onMouseOver="hilite(7028)" onMouseOut="lolite()" onClick="logVariable('navref')" href="../../_variables/navref.html">$navref</a>-&gt;<a class="function" onClick="logFunction('add')" href="../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it7029" onMouseOver="hilite(7029)" onMouseOut="lolite()" onClick="logVariable('linkname')" href="../../_variables/linkname.html">$linkname</a>, <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>, <a class="class" onClick="logClass('navigation_node')" href="../../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_SETTING);
<a name="l221"><span class="linenum"> 221</span></a>      }
<a name="l222"><span class="linenum"> 222</span></a>  
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">    // Link to download all submissions.</span>
<a name="l224"><span class="linenum"> 224</span></a>      if (<a class="function" onClick="logFunction('has_any_capability')" href="../../_functions/has_any_capability.html" onMouseOver="funcPopup(event,'has_any_capability')">has_any_capability</a>(array('mod/assign:grade', 'mod/assign:viewgrades'), <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l225"><span class="linenum"> 225</span></a>          <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../mod/assign/view.php.html">/mod/assign/view.php</a>', array('id' =&gt; <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'action'=&gt;'grading'));
<a name="l226"><span class="linenum"> 226</span></a>          <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../_variables/node.html">$node</a> = <a class="var it7028" onMouseOver="hilite(7028)" onMouseOut="lolite()" onClick="logVariable('navref')" href="../../_variables/navref.html">$navref</a>-&gt;<a class="function" onClick="logFunction('add')" href="../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewgrading', 'assign'), <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>, <a class="class" onClick="logClass('navigation_node')" href="../../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_SETTING);
<a name="l227"><span class="linenum"> 227</span></a>  
<a name="l228"><span class="linenum"> 228</span></a>          <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../mod/assign/view.php.html">/mod/assign/view.php</a>', array('id' =&gt; <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'action'=&gt;'downloadall'));
<a name="l229"><span class="linenum"> 229</span></a>          <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../_variables/node.html">$node</a> = <a class="var it7028" onMouseOver="hilite(7028)" onMouseOut="lolite()" onClick="logVariable('navref')" href="../../_variables/navref.html">$navref</a>-&gt;<a class="function" onClick="logFunction('add')" href="../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('downloadall', 'assign'), <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>, <a class="class" onClick="logClass('navigation_node')" href="../../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_SETTING);
<a name="l230"><span class="linenum"> 230</span></a>      }
<a name="l231"><span class="linenum"> 231</span></a>  
<a name="l232"><span class="linenum"> 232</span></a>      if (<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/assign:revealidentities', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l233"><span class="linenum"> 233</span></a>          <a class="var it4355" onMouseOver="hilite(4355)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a> = array('id'=&gt;<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>);
<a name="l234"><span class="linenum"> 234</span></a>          <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('assign', <a class="var it4355" onMouseOver="hilite(4355)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a>, 'blindmarking, revealidentities');
<a name="l235"><span class="linenum"> 235</span></a>  
<a name="l236"><span class="linenum"> 236</span></a>          if (<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> &amp;&amp; <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('blindmarking')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/blindmarking.html">blindmarking</a> &amp;&amp; !<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('revealidentities')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/revealidentities.html">revealidentities</a>) {
<a name="l237"><span class="linenum"> 237</span></a>              <a class="var it5256" onMouseOver="hilite(5256)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../../_variables/urlparams.html">$urlparams</a> = array('id' =&gt; <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'action'=&gt;'revealidentities');
<a name="l238"><span class="linenum"> 238</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../mod/assign/view.php.html">/mod/assign/view.php</a>', <a class="var it5256" onMouseOver="hilite(5256)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../../_variables/urlparams.html">$urlparams</a>);
<a name="l239"><span class="linenum"> 239</span></a>              <a class="var it7029" onMouseOver="hilite(7029)" onMouseOut="lolite()" onClick="logVariable('linkname')" href="../../_variables/linkname.html">$linkname</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('revealidentities', 'assign');
<a name="l240"><span class="linenum"> 240</span></a>              <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../_variables/node.html">$node</a> = <a class="var it7028" onMouseOver="hilite(7028)" onMouseOut="lolite()" onClick="logVariable('navref')" href="../../_variables/navref.html">$navref</a>-&gt;<a class="function" onClick="logFunction('add')" href="../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it7029" onMouseOver="hilite(7029)" onMouseOut="lolite()" onClick="logVariable('linkname')" href="../../_variables/linkname.html">$linkname</a>, <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>, <a class="class" onClick="logClass('navigation_node')" href="../../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_SETTING);
<a name="l241"><span class="linenum"> 241</span></a>          }
<a name="l242"><span class="linenum"> 242</span></a>      }
<a name="l243"><span class="linenum"> 243</span></a>  }
<a name="l244"><span class="linenum"> 244</span></a>  
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">/**</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment"> * Add a get_coursemodule_info function in case any assignment type wants to add 'extra' information</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment"> * for the course (see resource).</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment"> *</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment"> * Given a course_module object, this function returns any &quot;extra&quot; information that may be needed</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment"> * when printing this activity in a course listing.  See get_array_of_activities() in course/lib.php.</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment"> *</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment"> * @param stdClass $coursemodule The coursemodule object (record).</span>
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment"> * @return cached_cm_info An object on information that the courses</span>
<a name="l254"><span class="linenum"> 254</span></a>  <span class="comment"> *                        will know about (most noticeably, an icon).</span>
<a name="l255"><span class="linenum"> 255</span></a>  <span class="comment"> */</span>
<a name="l256"><span class="linenum"> 256</span></a>  function <a class="function" onClick="logFunction('assign_get_coursemodule_info')" href="../../_functions/assign_get_coursemodule_info.html" onMouseOver="funcPopup(event,'assign_get_coursemodule_info')">assign_get_coursemodule_info</a>(<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>) {
<a name="l257"><span class="linenum"> 257</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l258"><span class="linenum"> 258</span></a>  
<a name="l259"><span class="linenum"> 259</span></a>      <a class="var it4355" onMouseOver="hilite(4355)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a> = array('id'=&gt;<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('instance')" class="var it39577" onMouseOver="hilite(39577)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>);
<a name="l260"><span class="linenum"> 260</span></a>      <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> = 'id, name, alwaysshowdescription, allowsubmissionsfromdate, intro, introformat';
<a name="l261"><span class="linenum"> 261</span></a>      if (! <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('assign', <a class="var it4355" onMouseOver="hilite(4355)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a>, <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>)) {
<a name="l262"><span class="linenum"> 262</span></a>          return false;
<a name="l263"><span class="linenum"> 263</span></a>      }
<a name="l264"><span class="linenum"> 264</span></a>  
<a name="l265"><span class="linenum"> 265</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <span class="keyword">new </span><a class="class" onClick="logClass('cached_cm_info')" href="../../_classes/cached_cm_info.html" onMouseOver="classPopup(event,'cached_cm_info')">cached_cm_info</a>();
<a name="l266"><span class="linenum"> 266</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('name')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../../_variables/name.html">name</a> = <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('name')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>;
<a name="l267"><span class="linenum"> 267</span></a>      if (<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('showdescription')" class="var it39577" onMouseOver="hilite(39577)" onMouseOut="lolite()" href="../../_variables/showdescription.html">showdescription</a>) {
<a name="l268"><span class="linenum"> 268</span></a>          if (<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('alwaysshowdescription')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/alwaysshowdescription.html">alwaysshowdescription</a> || <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>() &gt; <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('allowsubmissionsfromdate')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/allowsubmissionsfromdate.html">allowsubmissionsfromdate</a>) {
<a name="l269"><span class="linenum"> 269</span></a>  <span class="comment">            // Convert intro to html. Do not filter cached version, filters run at display time.</span>
<a name="l270"><span class="linenum"> 270</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('content')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../../_variables/content.html">content</a> = <a class="function" onClick="logFunction('format_module_intro')" href="../../_functions/format_module_intro.html" onMouseOver="funcPopup(event,'format_module_intro')">format_module_intro</a>('assign', <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>, <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('id')" class="var it39577" onMouseOver="hilite(39577)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, false);
<a name="l271"><span class="linenum"> 271</span></a>          }
<a name="l272"><span class="linenum"> 272</span></a>      }
<a name="l273"><span class="linenum"> 273</span></a>      return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l274"><span class="linenum"> 274</span></a>  }
<a name="l275"><span class="linenum"> 275</span></a>  
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">/**</span>
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment"> * Return a list of page types</span>
<a name="l278"><span class="linenum"> 278</span></a>  <span class="comment"> * @param string $pagetype current page type</span>
<a name="l279"><span class="linenum"> 279</span></a>  <span class="comment"> * @param stdClass $parentcontext Block's parent context</span>
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment"> * @param stdClass $currentcontext Current context of block</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment"> */</span>
<a name="l282"><span class="linenum"> 282</span></a>  function <a class="function" onClick="logFunction('assign_page_type_list')" href="../../_functions/assign_page_type_list.html" onMouseOver="funcPopup(event,'assign_page_type_list')">assign_page_type_list</a>(<a class="var it3667" onMouseOver="hilite(3667)" onMouseOut="lolite()" onClick="logVariable('pagetype')" href="../../_variables/pagetype.html">$pagetype</a>, <a class="var it4943" onMouseOver="hilite(4943)" onMouseOut="lolite()" onClick="logVariable('parentcontext')" href="../../_variables/parentcontext.html">$parentcontext</a>, <a class="var it5093" onMouseOver="hilite(5093)" onMouseOut="lolite()" onClick="logVariable('currentcontext')" href="../../_variables/currentcontext.html">$currentcontext</a>) {
<a name="l283"><span class="linenum"> 283</span></a>      <a class="var it7034" onMouseOver="hilite(7034)" onMouseOut="lolite()" onClick="logVariable('modulepagetype')" href="../../_variables/modulepagetype.html">$modulepagetype</a> = array(
<a name="l284"><span class="linenum"> 284</span></a>          'mod-assign-*' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('page-mod-assign-x', 'assign'),
<a name="l285"><span class="linenum"> 285</span></a>          'mod-assign-view' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('page-mod-assign-view', 'assign'),
<a name="l286"><span class="linenum"> 286</span></a>      );
<a name="l287"><span class="linenum"> 287</span></a>      return <a class="var it7034" onMouseOver="hilite(7034)" onMouseOut="lolite()" onClick="logVariable('modulepagetype')" href="../../_variables/modulepagetype.html">$modulepagetype</a>;
<a name="l288"><span class="linenum"> 288</span></a>  }
<a name="l289"><span class="linenum"> 289</span></a>  
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment">/**</span>
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment"> * Print an overview of all assignments</span>
<a name="l292"><span class="linenum"> 292</span></a>  <span class="comment"> * for the courses.</span>
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment"> *</span>
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment"> * @param mixed $courses The list of courses to print the overview for</span>
<a name="l295"><span class="linenum"> 295</span></a>  <span class="comment"> * @param array $htmlarray The array of html to return</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment"> *</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment"> * @return true</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment"> */</span>
<a name="l299"><span class="linenum"> 299</span></a>  function <a class="function" onClick="logFunction('assign_print_overview')" href="../../_functions/assign_print_overview.html" onMouseOver="funcPopup(event,'assign_print_overview')">assign_print_overview</a>(<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>, &amp;<a class="var it7035" onMouseOver="hilite(7035)" onMouseOut="lolite()" onClick="logVariable('htmlarray')" href="../../_variables/htmlarray.html">$htmlarray</a>) {
<a name="l300"><span class="linenum"> 300</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l301"><span class="linenum"> 301</span></a>  
<a name="l302"><span class="linenum"> 302</span></a>      if (empty(<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>) || !<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>) || <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>) == 0) {
<a name="l303"><span class="linenum"> 303</span></a>          return true;
<a name="l304"><span class="linenum"> 304</span></a>      }
<a name="l305"><span class="linenum"> 305</span></a>  
<a name="l306"><span class="linenum"> 306</span></a>      if (!<a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a> = <a class="function" onClick="logFunction('get_all_instances_in_courses')" href="../../_functions/get_all_instances_in_courses.html" onMouseOver="funcPopup(event,'get_all_instances_in_courses')">get_all_instances_in_courses</a>('assign', <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>)) {
<a name="l307"><span class="linenum"> 307</span></a>          return true;
<a name="l308"><span class="linenum"> 308</span></a>      }
<a name="l309"><span class="linenum"> 309</span></a>  
<a name="l310"><span class="linenum"> 310</span></a>      <a class="var it7036" onMouseOver="hilite(7036)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a> = array();
<a name="l311"><span class="linenum"> 311</span></a>  
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">    // Do assignment_base::isopen() here without loading the whole thing for speed.</span>
<a name="l313"><span class="linenum"> 313</span></a>      foreach (<a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>) {
<a name="l314"><span class="linenum"> 314</span></a>          <a class="var it25" onMouseOver="hilite(25)" onMouseOut="lolite()" onClick="logVariable('time')" href="../../_variables/time.html">$time</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l315"><span class="linenum"> 315</span></a>          <a class="var it7037" onMouseOver="hilite(7037)" onMouseOut="lolite()" onClick="logVariable('isopen')" href="../../_variables/isopen.html">$isopen</a> = false;
<a name="l316"><span class="linenum"> 316</span></a>          if (<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('duedate')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/duedate.html">duedate</a>) {
<a name="l317"><span class="linenum"> 317</span></a>              <a class="var it7038" onMouseOver="hilite(7038)" onMouseOut="lolite()" onClick="logVariable('duedate')" href="../../_variables/duedate.html">$duedate</a> = false;
<a name="l318"><span class="linenum"> 318</span></a>              if (<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('cutoffdate')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/cutoffdate.html">cutoffdate</a>) {
<a name="l319"><span class="linenum"> 319</span></a>                  <a class="var it7038" onMouseOver="hilite(7038)" onMouseOut="lolite()" onClick="logVariable('duedate')" href="../../_variables/duedate.html">$duedate</a> = <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('cutoffdate')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/cutoffdate.html">cutoffdate</a>;
<a name="l320"><span class="linenum"> 320</span></a>              }
<a name="l321"><span class="linenum"> 321</span></a>              if (<a class="var it7038" onMouseOver="hilite(7038)" onMouseOut="lolite()" onClick="logVariable('duedate')" href="../../_variables/duedate.html">$duedate</a>) {
<a name="l322"><span class="linenum"> 322</span></a>                  <a class="var it7037" onMouseOver="hilite(7037)" onMouseOut="lolite()" onClick="logVariable('isopen')" href="../../_variables/isopen.html">$isopen</a> = (<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('allowsubmissionsfromdate')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/allowsubmissionsfromdate.html">allowsubmissionsfromdate</a> &lt;= <a class="var it25" onMouseOver="hilite(25)" onMouseOut="lolite()" onClick="logVariable('time')" href="../../_variables/time.html">$time</a> &amp;&amp; <a class="var it25" onMouseOver="hilite(25)" onMouseOut="lolite()" onClick="logVariable('time')" href="../../_variables/time.html">$time</a> &lt;= <a class="var it7038" onMouseOver="hilite(7038)" onMouseOut="lolite()" onClick="logVariable('duedate')" href="../../_variables/duedate.html">$duedate</a>);
<a name="l323"><span class="linenum"> 323</span></a>              } else {
<a name="l324"><span class="linenum"> 324</span></a>                  <a class="var it7037" onMouseOver="hilite(7037)" onMouseOut="lolite()" onClick="logVariable('isopen')" href="../../_variables/isopen.html">$isopen</a> = (<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('allowsubmissionsfromdate')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/allowsubmissionsfromdate.html">allowsubmissionsfromdate</a> &lt;= <a class="var it25" onMouseOver="hilite(25)" onMouseOut="lolite()" onClick="logVariable('time')" href="../../_variables/time.html">$time</a>);
<a name="l325"><span class="linenum"> 325</span></a>              }
<a name="l326"><span class="linenum"> 326</span></a>          }
<a name="l327"><span class="linenum"> 327</span></a>          if (<a class="var it7037" onMouseOver="hilite(7037)" onMouseOut="lolite()" onClick="logVariable('isopen')" href="../../_variables/isopen.html">$isopen</a>) {
<a name="l328"><span class="linenum"> 328</span></a>              <a class="var it7036" onMouseOver="hilite(7036)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a>[] = <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('id')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l329"><span class="linenum"> 329</span></a>          }
<a name="l330"><span class="linenum"> 330</span></a>      }
<a name="l331"><span class="linenum"> 331</span></a>  
<a name="l332"><span class="linenum"> 332</span></a>      if (empty(<a class="var it7036" onMouseOver="hilite(7036)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a>)) {
<a name="l333"><span class="linenum"> 333</span></a>  <span class="comment">        // No assignments to look at - we're done.</span>
<a name="l334"><span class="linenum"> 334</span></a>          return true;
<a name="l335"><span class="linenum"> 335</span></a>      }
<a name="l336"><span class="linenum"> 336</span></a>  
<a name="l337"><span class="linenum"> 337</span></a>  <span class="comment">    // Definitely something to print, now include the constants we need.</span>
<a name="l338"><span class="linenum"> 338</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l339"><span class="linenum"> 339</span></a>  
<a name="l340"><span class="linenum"> 340</span></a>      <a class="var it7040" onMouseOver="hilite(7040)" onMouseOut="lolite()" onClick="logVariable('strduedate')" href="../../_variables/strduedate.html">$strduedate</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('duedate', 'assign');
<a name="l341"><span class="linenum"> 341</span></a>      <a class="var it7041" onMouseOver="hilite(7041)" onMouseOut="lolite()" onClick="logVariable('strcutoffdate')" href="../../_variables/strcutoffdate.html">$strcutoffdate</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('nosubmissionsacceptedafter', 'assign');
<a name="l342"><span class="linenum"> 342</span></a>      <a class="var it7042" onMouseOver="hilite(7042)" onMouseOut="lolite()" onClick="logVariable('strnolatesubmissions')" href="../../_variables/strnolatesubmissions.html">$strnolatesubmissions</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('nolatesubmissions', 'assign');
<a name="l343"><span class="linenum"> 343</span></a>      <a class="var it7043" onMouseOver="hilite(7043)" onMouseOut="lolite()" onClick="logVariable('strduedateno')" href="../../_variables/strduedateno.html">$strduedateno</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('duedateno', 'assign');
<a name="l344"><span class="linenum"> 344</span></a>      <a class="var it7044" onMouseOver="hilite(7044)" onMouseOut="lolite()" onClick="logVariable('strassignment')" href="../../_variables/strassignment.html">$strassignment</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulename', 'assign');
<a name="l345"><span class="linenum"> 345</span></a>  
<a name="l346"><span class="linenum"> 346</span></a>  <span class="comment">    // We do all possible database work here *outside* of the loop to ensure this scales.</span>
<a name="l347"><span class="linenum"> 347</span></a>      <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it7045" onMouseOver="hilite(7045)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>, <a class="var it7046" onMouseOver="hilite(7046)" onMouseOut="lolite()" onClick="logVariable('assignmentidparams')" href="../../_variables/assignmentidparams.html">$assignmentidparams</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it7036" onMouseOver="hilite(7036)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a>);
<a name="l348"><span class="linenum"> 348</span></a>  
<a name="l349"><span class="linenum"> 349</span></a>      <a class="var it7047" onMouseOver="hilite(7047)" onMouseOut="lolite()" onClick="logVariable('mysubmissions')" href="../../_variables/mysubmissions.html">$mysubmissions</a> = null;
<a name="l350"><span class="linenum"> 350</span></a>      <a class="var it7048" onMouseOver="hilite(7048)" onMouseOut="lolite()" onClick="logVariable('unmarkedsubmissions')" href="../../_variables/unmarkedsubmissions.html">$unmarkedsubmissions</a> = null;
<a name="l351"><span class="linenum"> 351</span></a>  
<a name="l352"><span class="linenum"> 352</span></a>      foreach (<a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a> as <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>) {
<a name="l353"><span class="linenum"> 353</span></a>  
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment">        // Do not show assignments that are not open.</span>
<a name="l355"><span class="linenum"> 355</span></a>          if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('id')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it7036" onMouseOver="hilite(7036)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a>)) {
<a name="l356"><span class="linenum"> 356</span></a>              continue;
<a name="l357"><span class="linenum"> 357</span></a>          }
<a name="l358"><span class="linenum"> 358</span></a>  
<a name="l359"><span class="linenum"> 359</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/coursemodule.html">coursemodule</a>);
<a name="l360"><span class="linenum"> 360</span></a>  
<a name="l361"><span class="linenum"> 361</span></a>  <span class="comment">        // Does the submission status of the assignment require notification?</span>
<a name="l362"><span class="linenum"> 362</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/assign:submit', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l363"><span class="linenum"> 363</span></a>  <span class="comment">            // Does the submission status of the assignment require notification?</span>
<a name="l364"><span class="linenum"> 364</span></a>              <a class="var it7049" onMouseOver="hilite(7049)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> = <a class="function" onClick="logFunction('assign_get_mysubmission_details_for_print_overview')" href="../../_functions/assign_get_mysubmission_details_for_print_overview.html" onMouseOver="funcPopup(event,'assign_get_mysubmission_details_for_print_overview')">assign_get_mysubmission_details_for_print_overview</a>(<a class="var it7047" onMouseOver="hilite(7047)" onMouseOut="lolite()" onClick="logVariable('mysubmissions')" href="../../_variables/mysubmissions.html">$mysubmissions</a>, <a class="var it7045" onMouseOver="hilite(7045)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>,
<a name="l365"><span class="linenum"> 365</span></a>                      <a class="var it7046" onMouseOver="hilite(7046)" onMouseOut="lolite()" onClick="logVariable('assignmentidparams')" href="../../_variables/assignmentidparams.html">$assignmentidparams</a>, <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>);
<a name="l366"><span class="linenum"> 366</span></a>          } else {
<a name="l367"><span class="linenum"> 367</span></a>              <a class="var it7049" onMouseOver="hilite(7049)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> = false;
<a name="l368"><span class="linenum"> 368</span></a>          }
<a name="l369"><span class="linenum"> 369</span></a>  
<a name="l370"><span class="linenum"> 370</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/assign:grade', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment">            // Does the grading status of the assignment require notification ?</span>
<a name="l372"><span class="linenum"> 372</span></a>              <a class="var it7050" onMouseOver="hilite(7050)" onMouseOut="lolite()" onClick="logVariable('gradedetails')" href="../../_variables/gradedetails.html">$gradedetails</a> = <a class="function" onClick="logFunction('assign_get_grade_details_for_print_overview')" href="../../_functions/assign_get_grade_details_for_print_overview.html" onMouseOver="funcPopup(event,'assign_get_grade_details_for_print_overview')">assign_get_grade_details_for_print_overview</a>(<a class="var it7048" onMouseOver="hilite(7048)" onMouseOut="lolite()" onClick="logVariable('unmarkedsubmissions')" href="../../_variables/unmarkedsubmissions.html">$unmarkedsubmissions</a>, <a class="var it7045" onMouseOver="hilite(7045)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>,
<a name="l373"><span class="linenum"> 373</span></a>                      <a class="var it7046" onMouseOver="hilite(7046)" onMouseOut="lolite()" onClick="logVariable('assignmentidparams')" href="../../_variables/assignmentidparams.html">$assignmentidparams</a>, <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l374"><span class="linenum"> 374</span></a>          } else {
<a name="l375"><span class="linenum"> 375</span></a>              <a class="var it7050" onMouseOver="hilite(7050)" onMouseOut="lolite()" onClick="logVariable('gradedetails')" href="../../_variables/gradedetails.html">$gradedetails</a> = false;
<a name="l376"><span class="linenum"> 376</span></a>          }
<a name="l377"><span class="linenum"> 377</span></a>  
<a name="l378"><span class="linenum"> 378</span></a>          if (empty(<a class="var it7049" onMouseOver="hilite(7049)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a>) &amp;&amp; empty(<a class="var it7050" onMouseOver="hilite(7050)" onMouseOut="lolite()" onClick="logVariable('gradedetails')" href="../../_variables/gradedetails.html">$gradedetails</a>)) {
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment">            // There is no need to display this assignment as there is nothing to notify.</span>
<a name="l380"><span class="linenum"> 380</span></a>              continue;
<a name="l381"><span class="linenum"> 381</span></a>          }
<a name="l382"><span class="linenum"> 382</span></a>  
<a name="l383"><span class="linenum"> 383</span></a>          <a class="var it7051" onMouseOver="hilite(7051)" onMouseOut="lolite()" onClick="logVariable('dimmedclass')" href="../../_variables/dimmedclass.html">$dimmedclass</a> = '';
<a name="l384"><span class="linenum"> 384</span></a>          if (!<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('visible')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/visible.html">visible</a>) {
<a name="l385"><span class="linenum"> 385</span></a>              <a class="var it7051" onMouseOver="hilite(7051)" onMouseOut="lolite()" onClick="logVariable('dimmedclass')" href="../../_variables/dimmedclass.html">$dimmedclass</a> = ' class=&quot;dimmed&quot;';
<a name="l386"><span class="linenum"> 386</span></a>          }
<a name="l387"><span class="linenum"> 387</span></a>          <a class="var it1585" onMouseOver="hilite(1585)" onMouseOut="lolite()" onClick="logVariable('href')" href="../../_variables/href.html">$href</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a> . '/mod/assign/view.php?id=' . <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/coursemodule.html">coursemodule</a>;
<a name="l388"><span class="linenum"> 388</span></a>          <a class="var it7052" onMouseOver="hilite(7052)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a> = '&lt;div class=&quot;assign overview&quot;&gt;' .
<a name="l389"><span class="linenum"> 389</span></a>                 '&lt;div class=&quot;name&quot;&gt;' .
<a name="l390"><span class="linenum"> 390</span></a>                 <a class="var it7044" onMouseOver="hilite(7044)" onMouseOut="lolite()" onClick="logVariable('strassignment')" href="../../_variables/strassignment.html">$strassignment</a> . ': '.
<a name="l391"><span class="linenum"> 391</span></a>                 '&lt;a ' . <a class="var it7051" onMouseOver="hilite(7051)" onMouseOut="lolite()" onClick="logVariable('dimmedclass')" href="../../_variables/dimmedclass.html">$dimmedclass</a> .
<a name="l392"><span class="linenum"> 392</span></a>                     'title=&quot;' . <a class="var it7044" onMouseOver="hilite(7044)" onMouseOut="lolite()" onClick="logVariable('strassignment')" href="../../_variables/strassignment.html">$strassignment</a> . '&quot; ' .
<a name="l393"><span class="linenum"> 393</span></a>                     'href=&quot;' . <a class="var it1585" onMouseOver="hilite(1585)" onMouseOut="lolite()" onClick="logVariable('href')" href="../../_variables/href.html">$href</a> . '&quot;&gt;' .
<a name="l394"><span class="linenum"> 394</span></a>                 <a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('name')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>) .
<a name="l395"><span class="linenum"> 395</span></a>                 '&lt;/a&gt;&lt;/div&gt;';
<a name="l396"><span class="linenum"> 396</span></a>          if (<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('duedate')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/duedate.html">duedate</a>) {
<a name="l397"><span class="linenum"> 397</span></a>              <a class="var it7053" onMouseOver="hilite(7053)" onMouseOut="lolite()" onClick="logVariable('userdate')" href="../../_variables/userdate.html">$userdate</a> = <a class="function" onClick="logFunction('userdate')" href="../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('duedate')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/duedate.html">duedate</a>);
<a name="l398"><span class="linenum"> 398</span></a>              <a class="var it7052" onMouseOver="hilite(7052)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a> .= '&lt;div class=&quot;info&quot;&gt;' . <a class="var it7040" onMouseOver="hilite(7040)" onMouseOut="lolite()" onClick="logVariable('strduedate')" href="../../_variables/strduedate.html">$strduedate</a> . ': ' . <a class="var it7053" onMouseOver="hilite(7053)" onMouseOut="lolite()" onClick="logVariable('userdate')" href="../../_variables/userdate.html">$userdate</a> . '&lt;/div&gt;';
<a name="l399"><span class="linenum"> 399</span></a>          } else {
<a name="l400"><span class="linenum"> 400</span></a>              <a class="var it7052" onMouseOver="hilite(7052)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a> .= '&lt;div class=&quot;info&quot;&gt;' . <a class="var it7043" onMouseOver="hilite(7043)" onMouseOut="lolite()" onClick="logVariable('strduedateno')" href="../../_variables/strduedateno.html">$strduedateno</a> . '&lt;/div&gt;';
<a name="l401"><span class="linenum"> 401</span></a>          }
<a name="l402"><span class="linenum"> 402</span></a>          if (<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('cutoffdate')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/cutoffdate.html">cutoffdate</a>) {
<a name="l403"><span class="linenum"> 403</span></a>              if (<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('cutoffdate')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/cutoffdate.html">cutoffdate</a> == <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('duedate')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/duedate.html">duedate</a>) {
<a name="l404"><span class="linenum"> 404</span></a>                  <a class="var it7052" onMouseOver="hilite(7052)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a> .= '&lt;div class=&quot;info&quot;&gt;' . <a class="var it7042" onMouseOver="hilite(7042)" onMouseOut="lolite()" onClick="logVariable('strnolatesubmissions')" href="../../_variables/strnolatesubmissions.html">$strnolatesubmissions</a> . '&lt;/div&gt;';
<a name="l405"><span class="linenum"> 405</span></a>              } else {
<a name="l406"><span class="linenum"> 406</span></a>                  <a class="var it7053" onMouseOver="hilite(7053)" onMouseOut="lolite()" onClick="logVariable('userdate')" href="../../_variables/userdate.html">$userdate</a> = <a class="function" onClick="logFunction('userdate')" href="../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('cutoffdate')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/cutoffdate.html">cutoffdate</a>);
<a name="l407"><span class="linenum"> 407</span></a>                  <a class="var it7052" onMouseOver="hilite(7052)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a> .= '&lt;div class=&quot;info&quot;&gt;' . <a class="var it7041" onMouseOver="hilite(7041)" onMouseOut="lolite()" onClick="logVariable('strcutoffdate')" href="../../_variables/strcutoffdate.html">$strcutoffdate</a> . ': ' . <a class="var it7053" onMouseOver="hilite(7053)" onMouseOut="lolite()" onClick="logVariable('userdate')" href="../../_variables/userdate.html">$userdate</a> . '&lt;/div&gt;';
<a name="l408"><span class="linenum"> 408</span></a>              }
<a name="l409"><span class="linenum"> 409</span></a>          }
<a name="l410"><span class="linenum"> 410</span></a>  
<a name="l411"><span class="linenum"> 411</span></a>  <span class="comment">        // Show only relevant information.</span>
<a name="l412"><span class="linenum"> 412</span></a>          if (!empty(<a class="var it7049" onMouseOver="hilite(7049)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a>)) {
<a name="l413"><span class="linenum"> 413</span></a>              <a class="var it7052" onMouseOver="hilite(7052)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a> .= <a class="var it7049" onMouseOver="hilite(7049)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a>;
<a name="l414"><span class="linenum"> 414</span></a>          }
<a name="l415"><span class="linenum"> 415</span></a>  
<a name="l416"><span class="linenum"> 416</span></a>          if (!empty(<a class="var it7050" onMouseOver="hilite(7050)" onMouseOut="lolite()" onClick="logVariable('gradedetails')" href="../../_variables/gradedetails.html">$gradedetails</a>)) {
<a name="l417"><span class="linenum"> 417</span></a>              <a class="var it7052" onMouseOver="hilite(7052)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a> .= <a class="var it7050" onMouseOver="hilite(7050)" onMouseOut="lolite()" onClick="logVariable('gradedetails')" href="../../_variables/gradedetails.html">$gradedetails</a>;
<a name="l418"><span class="linenum"> 418</span></a>          }
<a name="l419"><span class="linenum"> 419</span></a>          <a class="var it7052" onMouseOver="hilite(7052)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a> .= '&lt;/div&gt;';
<a name="l420"><span class="linenum"> 420</span></a>  
<a name="l421"><span class="linenum"> 421</span></a>          if (empty(<a class="var it7035" onMouseOver="hilite(7035)" onMouseOut="lolite()" onClick="logVariable('htmlarray')" href="../../_variables/htmlarray.html">$htmlarray</a>[<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('course')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>]['assign'])) {
<a name="l422"><span class="linenum"> 422</span></a>              <a class="var it7035" onMouseOver="hilite(7035)" onMouseOut="lolite()" onClick="logVariable('htmlarray')" href="../../_variables/htmlarray.html">$htmlarray</a>[<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('course')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>]['assign'] = <a class="var it7052" onMouseOver="hilite(7052)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a>;
<a name="l423"><span class="linenum"> 423</span></a>          } else {
<a name="l424"><span class="linenum"> 424</span></a>              <a class="var it7035" onMouseOver="hilite(7035)" onMouseOut="lolite()" onClick="logVariable('htmlarray')" href="../../_variables/htmlarray.html">$htmlarray</a>[<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('course')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>]['assign'] .= <a class="var it7052" onMouseOver="hilite(7052)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a>;
<a name="l425"><span class="linenum"> 425</span></a>          }
<a name="l426"><span class="linenum"> 426</span></a>      }
<a name="l427"><span class="linenum"> 427</span></a>      return true;
<a name="l428"><span class="linenum"> 428</span></a>  }
<a name="l429"><span class="linenum"> 429</span></a>  
<a name="l430"><span class="linenum"> 430</span></a>  <span class="comment">/**</span>
<a name="l431"><span class="linenum"> 431</span></a>  <span class="comment"> * This api generates html to be displayed to students in print overview section, related to their submission status of the given</span>
<a name="l432"><span class="linenum"> 432</span></a>  <span class="comment"> * assignment.</span>
<a name="l433"><span class="linenum"> 433</span></a>  <span class="comment"> *</span>
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment"> * @param array $mysubmissions list of submissions of current user indexed by assignment id.</span>
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment"> * @param string $sqlassignmentids sql clause used to filter open assignments.</span>
<a name="l436"><span class="linenum"> 436</span></a>  <span class="comment"> * @param array $assignmentidparams sql params used to filter open assignments.</span>
<a name="l437"><span class="linenum"> 437</span></a>  <span class="comment"> * @param stdClass $assignment current assignment</span>
<a name="l438"><span class="linenum"> 438</span></a>  <span class="comment"> *</span>
<a name="l439"><span class="linenum"> 439</span></a>  <span class="comment"> * @return bool|string html to display , false if nothing needs to be displayed.</span>
<a name="l440"><span class="linenum"> 440</span></a>  <span class="comment"> * @throws coding_exception</span>
<a name="l441"><span class="linenum"> 441</span></a>  <span class="comment"> */</span>
<a name="l442"><span class="linenum"> 442</span></a>  function <a class="function" onClick="logFunction('assign_get_mysubmission_details_for_print_overview')" href="../../_functions/assign_get_mysubmission_details_for_print_overview.html" onMouseOver="funcPopup(event,'assign_get_mysubmission_details_for_print_overview')">assign_get_mysubmission_details_for_print_overview</a>(&amp;<a class="var it7047" onMouseOver="hilite(7047)" onMouseOut="lolite()" onClick="logVariable('mysubmissions')" href="../../_variables/mysubmissions.html">$mysubmissions</a>, <a class="var it7045" onMouseOver="hilite(7045)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>, <a class="var it7046" onMouseOver="hilite(7046)" onMouseOut="lolite()" onClick="logVariable('assignmentidparams')" href="../../_variables/assignmentidparams.html">$assignmentidparams</a>,
<a name="l443"><span class="linenum"> 443</span></a>                                                              <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>) {
<a name="l444"><span class="linenum"> 444</span></a>      global <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l445"><span class="linenum"> 445</span></a>  
<a name="l446"><span class="linenum"> 446</span></a>      if (<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('nosubmissions')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/nosubmissions.html">nosubmissions</a>) {
<a name="l447"><span class="linenum"> 447</span></a>  <span class="comment">        // Offline assignment. No need to display alerts for offline assignments.</span>
<a name="l448"><span class="linenum"> 448</span></a>          return false;
<a name="l449"><span class="linenum"> 449</span></a>      }
<a name="l450"><span class="linenum"> 450</span></a>  
<a name="l451"><span class="linenum"> 451</span></a>      <a class="var it7055" onMouseOver="hilite(7055)" onMouseOut="lolite()" onClick="logVariable('strnotsubmittedyet')" href="../../_variables/strnotsubmittedyet.html">$strnotsubmittedyet</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('notsubmittedyet', 'assign');
<a name="l452"><span class="linenum"> 452</span></a>  
<a name="l453"><span class="linenum"> 453</span></a>      if (!isset(<a class="var it7047" onMouseOver="hilite(7047)" onMouseOut="lolite()" onClick="logVariable('mysubmissions')" href="../../_variables/mysubmissions.html">$mysubmissions</a>)) {
<a name="l454"><span class="linenum"> 454</span></a>  
<a name="l455"><span class="linenum"> 455</span></a>  <span class="comment">        // Get all user submissions, indexed by assignment id.</span>
<a name="l456"><span class="linenum"> 456</span></a>          <a class="var it4355" onMouseOver="hilite(4355)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(array(<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>), <a class="var it7046" onMouseOver="hilite(7046)" onMouseOut="lolite()" onClick="logVariable('assignmentidparams')" href="../../_variables/assignmentidparams.html">$assignmentidparams</a>, array(<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l457"><span class="linenum"> 457</span></a>          <a class="var it7047" onMouseOver="hilite(7047)" onMouseOut="lolite()" onClick="logVariable('mysubmissions')" href="../../_variables/mysubmissions.html">$mysubmissions</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>('SELECT a.id AS assignment,
<a name="l458"><span class="linenum"> 458</span></a>                                                        a.nosubmissions AS nosubmissions,
<a name="l459"><span class="linenum"> 459</span></a>                                                        g.timemodified AS timemarked,
<a name="l460"><span class="linenum"> 460</span></a>                                                        g.grader AS grader,
<a name="l461"><span class="linenum"> 461</span></a>                                                        g.grade AS grade,
<a name="l462"><span class="linenum"> 462</span></a>                                                        s.status AS status
<a name="l463"><span class="linenum"> 463</span></a>                                                   FROM {assign} a, {assign_submission} s
<a name="l464"><span class="linenum"> 464</span></a>                                              LEFT JOIN {assign_grades} g ON
<a name="l465"><span class="linenum"> 465</span></a>                                                        g.assignment = s.assignment AND
<a name="l466"><span class="linenum"> 466</span></a>                                                        g.userid = ? AND
<a name="l467"><span class="linenum"> 467</span></a>                                                        g.attemptnumber = s.attemptnumber
<a name="l468"><span class="linenum"> 468</span></a>                                                  WHERE a.id ' . <a class="var it7045" onMouseOver="hilite(7045)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a> . ' AND
<a name="l469"><span class="linenum"> 469</span></a>                                                        s.latest = 1 AND
<a name="l470"><span class="linenum"> 470</span></a>                                                        s.assignment = a.id AND
<a name="l471"><span class="linenum"> 471</span></a>                                                        s.userid = ?', <a class="var it4355" onMouseOver="hilite(4355)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a>);
<a name="l472"><span class="linenum"> 472</span></a>      }
<a name="l473"><span class="linenum"> 473</span></a>  
<a name="l474"><span class="linenum"> 474</span></a>      <a class="var it7049" onMouseOver="hilite(7049)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> = '';
<a name="l475"><span class="linenum"> 475</span></a>      <a class="var it7049" onMouseOver="hilite(7049)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> .= '&lt;div class=&quot;details&quot;&gt;';
<a name="l476"><span class="linenum"> 476</span></a>      <a class="var it7049" onMouseOver="hilite(7049)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> .= <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('mysubmission', 'assign');
<a name="l477"><span class="linenum"> 477</span></a>      <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a> = false;
<a name="l478"><span class="linenum"> 478</span></a>  
<a name="l479"><span class="linenum"> 479</span></a>      if (isset(<a class="var it7047" onMouseOver="hilite(7047)" onMouseOut="lolite()" onClick="logVariable('mysubmissions')" href="../../_variables/mysubmissions.html">$mysubmissions</a>[<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('id')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>])) {
<a name="l480"><span class="linenum"> 480</span></a>          <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a> = <a class="var it7047" onMouseOver="hilite(7047)" onMouseOut="lolite()" onClick="logVariable('mysubmissions')" href="../../_variables/mysubmissions.html">$mysubmissions</a>[<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('id')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>];
<a name="l481"><span class="linenum"> 481</span></a>      }
<a name="l482"><span class="linenum"> 482</span></a>  
<a name="l483"><span class="linenum"> 483</span></a>      if (<a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a> &amp;&amp; <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('status')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> == <a class="constant" onClick="logConstant('ASSIGN_SUBMISSION_STATUS_SUBMITTED')" href="../../_constants/ASSIGN_SUBMISSION_STATUS_SUBMITTED.html" onMouseOver="constPopup(event,'ASSIGN_SUBMISSION_STATUS_SUBMITTED')">ASSIGN_SUBMISSION_STATUS_SUBMITTED</a>) {
<a name="l484"><span class="linenum"> 484</span></a>  <span class="comment">        // A valid submission already exists, no need to notify students about this.</span>
<a name="l485"><span class="linenum"> 485</span></a>          return false;
<a name="l486"><span class="linenum"> 486</span></a>      }
<a name="l487"><span class="linenum"> 487</span></a>  
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment">    // We need to show details only if a valid submission doesn't exist.</span>
<a name="l489"><span class="linenum"> 489</span></a>      if (!<a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a> ||
<a name="l490"><span class="linenum"> 490</span></a>          !<a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('status')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> ||
<a name="l491"><span class="linenum"> 491</span></a>          <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('status')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> == <a class="constant" onClick="logConstant('ASSIGN_SUBMISSION_STATUS_DRAFT')" href="../../_constants/ASSIGN_SUBMISSION_STATUS_DRAFT.html" onMouseOver="constPopup(event,'ASSIGN_SUBMISSION_STATUS_DRAFT')">ASSIGN_SUBMISSION_STATUS_DRAFT</a> ||
<a name="l492"><span class="linenum"> 492</span></a>          <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('status')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> == <a class="constant" onClick="logConstant('ASSIGN_SUBMISSION_STATUS_NEW')" href="../../_constants/ASSIGN_SUBMISSION_STATUS_NEW.html" onMouseOver="constPopup(event,'ASSIGN_SUBMISSION_STATUS_NEW')">ASSIGN_SUBMISSION_STATUS_NEW</a>
<a name="l493"><span class="linenum"> 493</span></a>      ) {
<a name="l494"><span class="linenum"> 494</span></a>          <a class="var it7049" onMouseOver="hilite(7049)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> .= <a class="var it7055" onMouseOver="hilite(7055)" onMouseOut="lolite()" onClick="logVariable('strnotsubmittedyet')" href="../../_variables/strnotsubmittedyet.html">$strnotsubmittedyet</a>;
<a name="l495"><span class="linenum"> 495</span></a>      } else {
<a name="l496"><span class="linenum"> 496</span></a>          <a class="var it7049" onMouseOver="hilite(7049)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> .= <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('submissionstatus_' . <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('status')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/status.html">status</a>, 'assign');
<a name="l497"><span class="linenum"> 497</span></a>      }
<a name="l498"><span class="linenum"> 498</span></a>      if (<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('markingworkflow')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/markingworkflow.html">markingworkflow</a>) {
<a name="l499"><span class="linenum"> 499</span></a>          <a class="var it7057" onMouseOver="hilite(7057)" onMouseOut="lolite()" onClick="logVariable('workflowstate')" href="../../_variables/workflowstate.html">$workflowstate</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('assign_user_flags', 'workflowstate', array('assignment' =&gt;
<a name="l500"><span class="linenum"> 500</span></a>                  <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('id')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'userid' =&gt; <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l501"><span class="linenum"> 501</span></a>          if (<a class="var it7057" onMouseOver="hilite(7057)" onMouseOut="lolite()" onClick="logVariable('workflowstate')" href="../../_variables/workflowstate.html">$workflowstate</a>) {
<a name="l502"><span class="linenum"> 502</span></a>              <a class="var it7058" onMouseOver="hilite(7058)" onMouseOut="lolite()" onClick="logVariable('gradingstatus')" href="../../_variables/gradingstatus.html">$gradingstatus</a> = 'markingworkflowstate' . <a class="var it7057" onMouseOver="hilite(7057)" onMouseOut="lolite()" onClick="logVariable('workflowstate')" href="../../_variables/workflowstate.html">$workflowstate</a>;
<a name="l503"><span class="linenum"> 503</span></a>          } else {
<a name="l504"><span class="linenum"> 504</span></a>              <a class="var it7058" onMouseOver="hilite(7058)" onMouseOut="lolite()" onClick="logVariable('gradingstatus')" href="../../_variables/gradingstatus.html">$gradingstatus</a> = 'markingworkflowstate' . <a class="constant" onClick="logConstant('ASSIGN_MARKING_WORKFLOW_STATE_NOTMARKED')" href="../../_constants/ASSIGN_MARKING_WORKFLOW_STATE_NOTMARKED.html" onMouseOver="constPopup(event,'ASSIGN_MARKING_WORKFLOW_STATE_NOTMARKED')">ASSIGN_MARKING_WORKFLOW_STATE_NOTMARKED</a>;
<a name="l505"><span class="linenum"> 505</span></a>          }
<a name="l506"><span class="linenum"> 506</span></a>      } else if (!empty(<a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('grade')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a>) &amp;&amp; <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('grade')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> !== null &amp;&amp; <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('grade')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> &gt;= 0) {
<a name="l507"><span class="linenum"> 507</span></a>          <a class="var it7058" onMouseOver="hilite(7058)" onMouseOut="lolite()" onClick="logVariable('gradingstatus')" href="../../_variables/gradingstatus.html">$gradingstatus</a> = <a class="constant" onClick="logConstant('ASSIGN_GRADING_STATUS_GRADED')" href="../../_constants/ASSIGN_GRADING_STATUS_GRADED.html" onMouseOver="constPopup(event,'ASSIGN_GRADING_STATUS_GRADED')">ASSIGN_GRADING_STATUS_GRADED</a>;
<a name="l508"><span class="linenum"> 508</span></a>      } else {
<a name="l509"><span class="linenum"> 509</span></a>          <a class="var it7058" onMouseOver="hilite(7058)" onMouseOut="lolite()" onClick="logVariable('gradingstatus')" href="../../_variables/gradingstatus.html">$gradingstatus</a> = <a class="constant" onClick="logConstant('ASSIGN_GRADING_STATUS_NOT_GRADED')" href="../../_constants/ASSIGN_GRADING_STATUS_NOT_GRADED.html" onMouseOver="constPopup(event,'ASSIGN_GRADING_STATUS_NOT_GRADED')">ASSIGN_GRADING_STATUS_NOT_GRADED</a>;
<a name="l510"><span class="linenum"> 510</span></a>      }
<a name="l511"><span class="linenum"> 511</span></a>      <a class="var it7049" onMouseOver="hilite(7049)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> .= ', ' . <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(<a class="var it7058" onMouseOver="hilite(7058)" onMouseOut="lolite()" onClick="logVariable('gradingstatus')" href="../../_variables/gradingstatus.html">$gradingstatus</a>, 'assign');
<a name="l512"><span class="linenum"> 512</span></a>      <a class="var it7049" onMouseOver="hilite(7049)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> .= '&lt;/div&gt;';
<a name="l513"><span class="linenum"> 513</span></a>      return <a class="var it7049" onMouseOver="hilite(7049)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a>;
<a name="l514"><span class="linenum"> 514</span></a>  }
<a name="l515"><span class="linenum"> 515</span></a>  
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment">/**</span>
<a name="l517"><span class="linenum"> 517</span></a>  <span class="comment"> * This api generates html to be displayed to teachers in print overview section, related to the grading status of the given</span>
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment"> * assignment's submissions.</span>
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment"> *</span>
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment"> * @param array $unmarkedsubmissions list of submissions of that are currently unmarked indexed by assignment id.</span>
<a name="l521"><span class="linenum"> 521</span></a>  <span class="comment"> * @param string $sqlassignmentids sql clause used to filter open assignments.</span>
<a name="l522"><span class="linenum"> 522</span></a>  <span class="comment"> * @param array $assignmentidparams sql params used to filter open assignments.</span>
<a name="l523"><span class="linenum"> 523</span></a>  <span class="comment"> * @param stdClass $assignment current assignment</span>
<a name="l524"><span class="linenum"> 524</span></a>  <span class="comment"> * @param context $context context of the assignment.</span>
<a name="l525"><span class="linenum"> 525</span></a>  <span class="comment"> *</span>
<a name="l526"><span class="linenum"> 526</span></a>  <span class="comment"> * @return bool|string html to display , false if nothing needs to be displayed.</span>
<a name="l527"><span class="linenum"> 527</span></a>  <span class="comment"> * @throws coding_exception</span>
<a name="l528"><span class="linenum"> 528</span></a>  <span class="comment"> */</span>
<a name="l529"><span class="linenum"> 529</span></a>  function <a class="function" onClick="logFunction('assign_get_grade_details_for_print_overview')" href="../../_functions/assign_get_grade_details_for_print_overview.html" onMouseOver="funcPopup(event,'assign_get_grade_details_for_print_overview')">assign_get_grade_details_for_print_overview</a>(&amp;<a class="var it7048" onMouseOver="hilite(7048)" onMouseOut="lolite()" onClick="logVariable('unmarkedsubmissions')" href="../../_variables/unmarkedsubmissions.html">$unmarkedsubmissions</a>, <a class="var it7045" onMouseOver="hilite(7045)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>, <a class="var it7046" onMouseOver="hilite(7046)" onMouseOut="lolite()" onClick="logVariable('assignmentidparams')" href="../../_variables/assignmentidparams.html">$assignmentidparams</a>,
<a name="l530"><span class="linenum"> 530</span></a>                                                       <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>) {
<a name="l531"><span class="linenum"> 531</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l532"><span class="linenum"> 532</span></a>      if (!isset(<a class="var it7048" onMouseOver="hilite(7048)" onMouseOut="lolite()" onClick="logVariable('unmarkedsubmissions')" href="../../_variables/unmarkedsubmissions.html">$unmarkedsubmissions</a>)) {
<a name="l533"><span class="linenum"> 533</span></a>  <span class="comment">        // Build up and array of unmarked submissions indexed by assignment id/ userid</span>
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment">        // for use where the user has grading rights on assignment.</span>
<a name="l535"><span class="linenum"> 535</span></a>          <a class="var it4355" onMouseOver="hilite(4355)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(array(<a class="constant" onClick="logConstant('ASSIGN_SUBMISSION_STATUS_SUBMITTED')" href="../../_constants/ASSIGN_SUBMISSION_STATUS_SUBMITTED.html" onMouseOver="constPopup(event,'ASSIGN_SUBMISSION_STATUS_SUBMITTED')">ASSIGN_SUBMISSION_STATUS_SUBMITTED</a>), <a class="var it7046" onMouseOver="hilite(7046)" onMouseOut="lolite()" onClick="logVariable('assignmentidparams')" href="../../_variables/assignmentidparams.html">$assignmentidparams</a>);
<a name="l536"><span class="linenum"> 536</span></a>          <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../_variables/rs.html">$rs</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>('SELECT s.assignment as assignment,
<a name="l537"><span class="linenum"> 537</span></a>                                               s.userid as userid,
<a name="l538"><span class="linenum"> 538</span></a>                                               s.id as id,
<a name="l539"><span class="linenum"> 539</span></a>                                               s.status as status,
<a name="l540"><span class="linenum"> 540</span></a>                                               g.timemodified as timegraded
<a name="l541"><span class="linenum"> 541</span></a>                                          FROM {assign_submission} s
<a name="l542"><span class="linenum"> 542</span></a>                                     LEFT JOIN {assign_grades} g ON
<a name="l543"><span class="linenum"> 543</span></a>                                               s.userid = g.userid AND
<a name="l544"><span class="linenum"> 544</span></a>                                               s.assignment = g.assignment AND
<a name="l545"><span class="linenum"> 545</span></a>                                               g.attemptnumber = s.attemptnumber
<a name="l546"><span class="linenum"> 546</span></a>                                         WHERE
<a name="l547"><span class="linenum"> 547</span></a>                                               ( g.timemodified is NULL OR
<a name="l548"><span class="linenum"> 548</span></a>                                               s.timemodified &gt; g.timemodified OR
<a name="l549"><span class="linenum"> 549</span></a>                                               g.grade IS NULL ) AND
<a name="l550"><span class="linenum"> 550</span></a>                                               s.timemodified IS NOT NULL AND
<a name="l551"><span class="linenum"> 551</span></a>                                               s.status = ? AND
<a name="l552"><span class="linenum"> 552</span></a>                                               s.latest = 1 AND
<a name="l553"><span class="linenum"> 553</span></a>                                               s.assignment ' . <a class="var it7045" onMouseOver="hilite(7045)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>, <a class="var it4355" onMouseOver="hilite(4355)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a>);
<a name="l554"><span class="linenum"> 554</span></a>  
<a name="l555"><span class="linenum"> 555</span></a>          <a class="var it7048" onMouseOver="hilite(7048)" onMouseOut="lolite()" onClick="logVariable('unmarkedsubmissions')" href="../../_variables/unmarkedsubmissions.html">$unmarkedsubmissions</a> = array();
<a name="l556"><span class="linenum"> 556</span></a>          foreach (<a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../_variables/rs.html">$rs</a> as <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>) {
<a name="l557"><span class="linenum"> 557</span></a>              <a class="var it7048" onMouseOver="hilite(7048)" onMouseOut="lolite()" onClick="logVariable('unmarkedsubmissions')" href="../../_variables/unmarkedsubmissions.html">$unmarkedsubmissions</a>[<a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('assignment')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/assignment.html">assignment</a>][<a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('userid')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('id')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l558"><span class="linenum"> 558</span></a>          }
<a name="l559"><span class="linenum"> 559</span></a>          <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../_variables/rs.html">$rs</a>-&gt;<a class="function" onClick="logFunction('close')" href="../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l560"><span class="linenum"> 560</span></a>      }
<a name="l561"><span class="linenum"> 561</span></a>  
<a name="l562"><span class="linenum"> 562</span></a>  <span class="comment">    // Count how many people can submit.</span>
<a name="l563"><span class="linenum"> 563</span></a>      <a class="var it7060" onMouseOver="hilite(7060)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a> = 0;
<a name="l564"><span class="linenum"> 564</span></a>      if (<a class="var it4363" onMouseOver="hilite(4363)" onMouseOut="lolite()" onClick="logVariable('students')" href="../../_variables/students.html">$students</a> = <a class="function" onClick="logFunction('get_enrolled_users')" href="../../_functions/get_enrolled_users.html" onMouseOver="funcPopup(event,'get_enrolled_users')">get_enrolled_users</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, 'mod/assign:view', 0, 'u.id')) {
<a name="l565"><span class="linenum"> 565</span></a>          foreach (<a class="var it4363" onMouseOver="hilite(4363)" onMouseOut="lolite()" onClick="logVariable('students')" href="../../_variables/students.html">$students</a> as <a class="var it1611" onMouseOver="hilite(1611)" onMouseOut="lolite()" onClick="logVariable('student')" href="../../_variables/student.html">$student</a>) {
<a name="l566"><span class="linenum"> 566</span></a>              if (isset(<a class="var it7048" onMouseOver="hilite(7048)" onMouseOut="lolite()" onClick="logVariable('unmarkedsubmissions')" href="../../_variables/unmarkedsubmissions.html">$unmarkedsubmissions</a>[<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('id')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>][<a class="var it1611" onMouseOver="hilite(1611)" onMouseOut="lolite()" onClick="logVariable('student')" href="../../_variables/student.html">$student</a>-&gt;<a onClick="logVariable('id')" class="var it39538" onMouseOver="hilite(39538)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>])) {
<a name="l567"><span class="linenum"> 567</span></a>                  <a class="var it7060" onMouseOver="hilite(7060)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a>++;
<a name="l568"><span class="linenum"> 568</span></a>              }
<a name="l569"><span class="linenum"> 569</span></a>          }
<a name="l570"><span class="linenum"> 570</span></a>      }
<a name="l571"><span class="linenum"> 571</span></a>  
<a name="l572"><span class="linenum"> 572</span></a>      if (<a class="var it7060" onMouseOver="hilite(7060)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a>) {
<a name="l573"><span class="linenum"> 573</span></a>          <a class="var it5256" onMouseOver="hilite(5256)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../../_variables/urlparams.html">$urlparams</a> = array('id' =&gt; <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/coursemodule.html">coursemodule</a>, 'action' =&gt; 'grading');
<a name="l574"><span class="linenum"> 574</span></a>          <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../mod/assign/view.php.html">/mod/assign/view.php</a>', <a class="var it5256" onMouseOver="hilite(5256)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../../_variables/urlparams.html">$urlparams</a>);
<a name="l575"><span class="linenum"> 575</span></a>          <a class="var it7050" onMouseOver="hilite(7050)" onMouseOut="lolite()" onClick="logVariable('gradedetails')" href="../../_variables/gradedetails.html">$gradedetails</a> = '&lt;div class=&quot;details&quot;&gt;' .
<a name="l576"><span class="linenum"> 576</span></a>                  '&lt;a href=&quot;' . <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> . '&quot;&gt;' .
<a name="l577"><span class="linenum"> 577</span></a>                  <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('submissionsnotgraded', 'assign', <a class="var it7060" onMouseOver="hilite(7060)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a>) .
<a name="l578"><span class="linenum"> 578</span></a>                  '&lt;/a&gt;&lt;/div&gt;';
<a name="l579"><span class="linenum"> 579</span></a>          return <a class="var it7050" onMouseOver="hilite(7050)" onMouseOut="lolite()" onClick="logVariable('gradedetails')" href="../../_variables/gradedetails.html">$gradedetails</a>;
<a name="l580"><span class="linenum"> 580</span></a>      } else {
<a name="l581"><span class="linenum"> 581</span></a>          return false;
<a name="l582"><span class="linenum"> 582</span></a>      }
<a name="l583"><span class="linenum"> 583</span></a>  
<a name="l584"><span class="linenum"> 584</span></a>  }
<a name="l585"><span class="linenum"> 585</span></a>  
<a name="l586"><span class="linenum"> 586</span></a>  <span class="comment">/**</span>
<a name="l587"><span class="linenum"> 587</span></a>  <span class="comment"> * Print recent activity from all assignments in a given course</span>
<a name="l588"><span class="linenum"> 588</span></a>  <span class="comment"> *</span>
<a name="l589"><span class="linenum"> 589</span></a>  <span class="comment"> * This is used by the recent activity block</span>
<a name="l590"><span class="linenum"> 590</span></a>  <span class="comment"> * @param mixed $course the course to print activity for</span>
<a name="l591"><span class="linenum"> 591</span></a>  <span class="comment"> * @param bool $viewfullnames boolean to determine whether to show full names or not</span>
<a name="l592"><span class="linenum"> 592</span></a>  <span class="comment"> * @param int $timestart the time the rendering started</span>
<a name="l593"><span class="linenum"> 593</span></a>  <span class="comment"> * @return bool true if activity was printed, false otherwise.</span>
<a name="l594"><span class="linenum"> 594</span></a>  <span class="comment"> */</span>
<a name="l595"><span class="linenum"> 595</span></a>  function <a class="function" onClick="logFunction('assign_print_recent_activity')" href="../../_functions/assign_print_recent_activity.html" onMouseOver="funcPopup(event,'assign_print_recent_activity')">assign_print_recent_activity</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it7061" onMouseOver="hilite(7061)" onMouseOut="lolite()" onClick="logVariable('viewfullnames')" href="../../_variables/viewfullnames.html">$viewfullnames</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../../_variables/timestart.html">$timestart</a>) {
<a name="l596"><span class="linenum"> 596</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l597"><span class="linenum"> 597</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l598"><span class="linenum"> 598</span></a>  
<a name="l599"><span class="linenum"> 599</span></a>  <span class="comment">    // Do not use log table if possible, it may be huge.</span>
<a name="l600"><span class="linenum"> 600</span></a>  
<a name="l601"><span class="linenum"> 601</span></a>      <a class="var it4355" onMouseOver="hilite(4355)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a> = array(<a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../../_variables/timestart.html">$timestart</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'assign', <a class="constant" onClick="logConstant('ASSIGN_SUBMISSION_STATUS_SUBMITTED')" href="../../_constants/ASSIGN_SUBMISSION_STATUS_SUBMITTED.html" onMouseOver="constPopup(event,'ASSIGN_SUBMISSION_STATUS_SUBMITTED')">ASSIGN_SUBMISSION_STATUS_SUBMITTED</a>);
<a name="l602"><span class="linenum"> 602</span></a>      <a class="var it7062" onMouseOver="hilite(7062)" onMouseOut="lolite()" onClick="logVariable('namefields')" href="../../_variables/namefields.html">$namefields</a> = <a class="class" onClick="logClass('user_picture')" href="../../_classes/user_picture.html" onMouseOver="classPopup(event,'user_picture')">user_picture</a>::<a class="function" onClick="logFunction('fields')" href="../../_functions/fields.html" onMouseOver="funcPopup(event,'fields')">fields</a>('u', null, 'userid');
<a name="l603"><span class="linenum"> 603</span></a>      if (!<a class="var it7060" onMouseOver="hilite(7060)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(&quot;SELECT asb.id, asb.timemodified, cm.id AS cmid,
<a name="l604"><span class="linenum"> 604</span></a>                                                       <a class="var it7062" onMouseOver="hilite(7062)" onMouseOut="lolite()" onClick="logVariable('namefields')" href="../../_variables/namefields.html">$namefields</a>
<a name="l605"><span class="linenum"> 605</span></a>                                                  FROM {assign_submission} asb
<a name="l606"><span class="linenum"> 606</span></a>                                                       JOIN {assign} a      ON a.id = asb.assignment
<a name="l607"><span class="linenum"> 607</span></a>                                                       JOIN {course_modules} cm ON cm.instance = a.id
<a name="l608"><span class="linenum"> 608</span></a>                                                       JOIN {modules} md        ON md.id = cm.module
<a name="l609"><span class="linenum"> 609</span></a>                                                       JOIN {user} u            ON u.id = asb.userid
<a name="l610"><span class="linenum"> 610</span></a>                                                 WHERE asb.timemodified &gt; ? AND
<a name="l611"><span class="linenum"> 611</span></a>                                                       asb.latest = 1 AND
<a name="l612"><span class="linenum"> 612</span></a>                                                       a.course = ? AND
<a name="l613"><span class="linenum"> 613</span></a>                                                       md.name = ? AND
<a name="l614"><span class="linenum"> 614</span></a>                                                       asb.status = ?
<a name="l615"><span class="linenum"> 615</span></a>                                              ORDER BY asb.timemodified ASC&quot;, <a class="var it4355" onMouseOver="hilite(4355)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a>)) {
<a name="l616"><span class="linenum"> 616</span></a>           return false;
<a name="l617"><span class="linenum"> 617</span></a>      }
<a name="l618"><span class="linenum"> 618</span></a>  
<a name="l619"><span class="linenum"> 619</span></a>      <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a> = <a class="function" onClick="logFunction('get_fast_modinfo')" href="../../_functions/get_fast_modinfo.html" onMouseOver="funcPopup(event,'get_fast_modinfo')">get_fast_modinfo</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l620"><span class="linenum"> 620</span></a>      <a class="var it7063" onMouseOver="hilite(7063)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a>    = array();
<a name="l621"><span class="linenum"> 621</span></a>      <a class="var it1615" onMouseOver="hilite(1615)" onMouseOut="lolite()" onClick="logVariable('grader')" href="../../_variables/grader.html">$grader</a>  = array();
<a name="l622"><span class="linenum"> 622</span></a>  
<a name="l623"><span class="linenum"> 623</span></a>      <a class="var it7064" onMouseOver="hilite(7064)" onMouseOut="lolite()" onClick="logVariable('showrecentsubmissions')" href="../../_variables/showrecentsubmissions.html">$showrecentsubmissions</a> = <a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('assign', 'showrecentsubmissions');
<a name="l624"><span class="linenum"> 624</span></a>  
<a name="l625"><span class="linenum"> 625</span></a>      foreach (<a class="var it7060" onMouseOver="hilite(7060)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a> as <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>) {
<a name="l626"><span class="linenum"> 626</span></a>          if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('cmid')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>, <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_cms')" href="../../_functions/get_cms.html" onMouseOver="funcPopup(event,'get_cms')">get_cms</a>())) {
<a name="l627"><span class="linenum"> 627</span></a>              continue;
<a name="l628"><span class="linenum"> 628</span></a>          }
<a name="l629"><span class="linenum"> 629</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_cm')" href="../../_functions/get_cm.html" onMouseOver="funcPopup(event,'get_cm')">get_cm</a>(<a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('cmid')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>);
<a name="l630"><span class="linenum"> 630</span></a>          if (!<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('uservisible')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/uservisible.html">uservisible</a>) {
<a name="l631"><span class="linenum"> 631</span></a>              continue;
<a name="l632"><span class="linenum"> 632</span></a>          }
<a name="l633"><span class="linenum"> 633</span></a>          if (<a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('userid')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a> == <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>) {
<a name="l634"><span class="linenum"> 634</span></a>              <a class="var it7063" onMouseOver="hilite(7063)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a>[] = <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>;
<a name="l635"><span class="linenum"> 635</span></a>              continue;
<a name="l636"><span class="linenum"> 636</span></a>          }
<a name="l637"><span class="linenum"> 637</span></a>  
<a name="l638"><span class="linenum"> 638</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('cmid')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>);
<a name="l639"><span class="linenum"> 639</span></a>  <span class="comment">        // The act of submitting of assignment may be considered private -</span>
<a name="l640"><span class="linenum"> 640</span></a>  <span class="comment">        // only graders will see it if specified.</span>
<a name="l641"><span class="linenum"> 641</span></a>          if (empty(<a class="var it7064" onMouseOver="hilite(7064)" onMouseOut="lolite()" onClick="logVariable('showrecentsubmissions')" href="../../_variables/showrecentsubmissions.html">$showrecentsubmissions</a>)) {
<a name="l642"><span class="linenum"> 642</span></a>              if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it1615" onMouseOver="hilite(1615)" onMouseOut="lolite()" onClick="logVariable('grader')" href="../../_variables/grader.html">$grader</a>)) {
<a name="l643"><span class="linenum"> 643</span></a>                  <a class="var it1615" onMouseOver="hilite(1615)" onMouseOut="lolite()" onClick="logVariable('grader')" href="../../_variables/grader.html">$grader</a>[<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>] = <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:viewall', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l644"><span class="linenum"> 644</span></a>              }
<a name="l645"><span class="linenum"> 645</span></a>              if (!<a class="var it1615" onMouseOver="hilite(1615)" onMouseOut="lolite()" onClick="logVariable('grader')" href="../../_variables/grader.html">$grader</a>[<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]) {
<a name="l646"><span class="linenum"> 646</span></a>                  continue;
<a name="l647"><span class="linenum"> 647</span></a>              }
<a name="l648"><span class="linenum"> 648</span></a>          }
<a name="l649"><span class="linenum"> 649</span></a>  
<a name="l650"><span class="linenum"> 650</span></a>          <a class="var it1421" onMouseOver="hilite(1421)" onMouseOut="lolite()" onClick="logVariable('groupmode')" href="../../_variables/groupmode.html">$groupmode</a> = <a class="function" onClick="logFunction('groups_get_activity_groupmode')" href="../../_functions/groups_get_activity_groupmode.html" onMouseOver="funcPopup(event,'groups_get_activity_groupmode')">groups_get_activity_groupmode</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l651"><span class="linenum"> 651</span></a>  
<a name="l652"><span class="linenum"> 652</span></a>          if (<a class="var it1421" onMouseOver="hilite(1421)" onMouseOut="lolite()" onClick="logVariable('groupmode')" href="../../_variables/groupmode.html">$groupmode</a> == <a class="constant" onClick="logConstant('SEPARATEGROUPS')" href="../../_constants/SEPARATEGROUPS.html" onMouseOver="constPopup(event,'SEPARATEGROUPS')">SEPARATEGROUPS</a> &amp;&amp;
<a name="l653"><span class="linenum"> 653</span></a>                  !<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/site:accessallgroups',  <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l654"><span class="linenum"> 654</span></a>              if (<a class="function" onClick="logFunction('isguestuser')" href="../../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>()) {
<a name="l655"><span class="linenum"> 655</span></a>  <span class="comment">                // Shortcut - guest user does not belong into any group.</span>
<a name="l656"><span class="linenum"> 656</span></a>                  continue;
<a name="l657"><span class="linenum"> 657</span></a>              }
<a name="l658"><span class="linenum"> 658</span></a>  
<a name="l659"><span class="linenum"> 659</span></a>  <span class="comment">            // This will be slow - show only users that share group with me in this cm.</span>
<a name="l660"><span class="linenum"> 660</span></a>              if (!<a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_groups')" href="../../_functions/get_groups.html" onMouseOver="funcPopup(event,'get_groups')">get_groups</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('groupingid')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/groupingid.html">groupingid</a>)) {
<a name="l661"><span class="linenum"> 661</span></a>                  continue;
<a name="l662"><span class="linenum"> 662</span></a>              }
<a name="l663"><span class="linenum"> 663</span></a>              <a class="var it7065" onMouseOver="hilite(7065)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a> =  <a class="function" onClick="logFunction('groups_get_all_groups')" href="../../_functions/groups_get_all_groups.html" onMouseOver="funcPopup(event,'groups_get_all_groups')">groups_get_all_groups</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('userid')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('groupingid')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/groupingid.html">groupingid</a>);
<a name="l664"><span class="linenum"> 664</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it7065" onMouseOver="hilite(7065)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a>)) {
<a name="l665"><span class="linenum"> 665</span></a>                  <a class="var it7065" onMouseOver="hilite(7065)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it7065" onMouseOver="hilite(7065)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a>);
<a name="l666"><span class="linenum"> 666</span></a>                  <a class="var it7066" onMouseOver="hilite(7066)" onMouseOut="lolite()" onClick="logVariable('intersect')" href="../../_variables/intersect.html">$intersect</a> = <a class="phpfunction" onClick="logFunction('array_intersect')" href="../../_functions/array_intersect.html" onMouseOver="phpfuncPopup(event,'array_intersect')">array_intersect</a>(<a class="var it7065" onMouseOver="hilite(7065)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a>, <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_groups')" href="../../_functions/get_groups.html" onMouseOver="funcPopup(event,'get_groups')">get_groups</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('groupingid')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/groupingid.html">groupingid</a>));
<a name="l667"><span class="linenum"> 667</span></a>                  if (empty(<a class="var it7066" onMouseOver="hilite(7066)" onMouseOut="lolite()" onClick="logVariable('intersect')" href="../../_variables/intersect.html">$intersect</a>)) {
<a name="l668"><span class="linenum"> 668</span></a>                      continue;
<a name="l669"><span class="linenum"> 669</span></a>                  }
<a name="l670"><span class="linenum"> 670</span></a>              }
<a name="l671"><span class="linenum"> 671</span></a>          }
<a name="l672"><span class="linenum"> 672</span></a>          <a class="var it7063" onMouseOver="hilite(7063)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a>[] = <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>;
<a name="l673"><span class="linenum"> 673</span></a>      }
<a name="l674"><span class="linenum"> 674</span></a>  
<a name="l675"><span class="linenum"> 675</span></a>      if (empty(<a class="var it7063" onMouseOver="hilite(7063)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a>)) {
<a name="l676"><span class="linenum"> 676</span></a>          return false;
<a name="l677"><span class="linenum"> 677</span></a>      }
<a name="l678"><span class="linenum"> 678</span></a>  
<a name="l679"><span class="linenum"> 679</span></a>      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('newsubmissions', 'assign').':', 3);
<a name="l680"><span class="linenum"> 680</span></a>  
<a name="l681"><span class="linenum"> 681</span></a>      foreach (<a class="var it7063" onMouseOver="hilite(7063)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a> as <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>) {
<a name="l682"><span class="linenum"> 682</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_cm')" href="../../_functions/get_cm.html" onMouseOver="funcPopup(event,'get_cm')">get_cm</a>(<a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('cmid')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>);
<a name="l683"><span class="linenum"> 683</span></a>          <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>.'/mod/assign/view.php?id='.<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l684"><span class="linenum"> 684</span></a>          <a class="function" onClick="logFunction('print_recent_activity_note')" href="../../_functions/print_recent_activity_note.html" onMouseOver="funcPopup(event,'print_recent_activity_note')">print_recent_activity_note</a>(<a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('timemodified')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a>,
<a name="l685"><span class="linenum"> 685</span></a>                                     <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>,
<a name="l686"><span class="linenum"> 686</span></a>                                     <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('name')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>,
<a name="l687"><span class="linenum"> 687</span></a>                                     <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>,
<a name="l688"><span class="linenum"> 688</span></a>                                     false,
<a name="l689"><span class="linenum"> 689</span></a>                                     <a class="var it7061" onMouseOver="hilite(7061)" onMouseOut="lolite()" onClick="logVariable('viewfullnames')" href="../../_variables/viewfullnames.html">$viewfullnames</a>);
<a name="l690"><span class="linenum"> 690</span></a>      }
<a name="l691"><span class="linenum"> 691</span></a>  
<a name="l692"><span class="linenum"> 692</span></a>      return true;
<a name="l693"><span class="linenum"> 693</span></a>  }
<a name="l694"><span class="linenum"> 694</span></a>  
<a name="l695"><span class="linenum"> 695</span></a>  <span class="comment">/**</span>
<a name="l696"><span class="linenum"> 696</span></a>  <span class="comment"> * Returns all assignments since a given time.</span>
<a name="l697"><span class="linenum"> 697</span></a>  <span class="comment"> *</span>
<a name="l698"><span class="linenum"> 698</span></a>  <span class="comment"> * @param array $activities The activity information is returned in this array</span>
<a name="l699"><span class="linenum"> 699</span></a>  <span class="comment"> * @param int $index The current index in the activities array</span>
<a name="l700"><span class="linenum"> 700</span></a>  <span class="comment"> * @param int $timestart The earliest activity to show</span>
<a name="l701"><span class="linenum"> 701</span></a>  <span class="comment"> * @param int $courseid Limit the search to this course</span>
<a name="l702"><span class="linenum"> 702</span></a>  <span class="comment"> * @param int $cmid The course module id</span>
<a name="l703"><span class="linenum"> 703</span></a>  <span class="comment"> * @param int $userid Optional user id</span>
<a name="l704"><span class="linenum"> 704</span></a>  <span class="comment"> * @param int $groupid Optional group id</span>
<a name="l705"><span class="linenum"> 705</span></a>  <span class="comment"> * @return void</span>
<a name="l706"><span class="linenum"> 706</span></a>  <span class="comment"> */</span>
<a name="l707"><span class="linenum"> 707</span></a>  function <a class="function" onClick="logFunction('assign_get_recent_mod_activity')" href="../../_functions/assign_get_recent_mod_activity.html" onMouseOver="funcPopup(event,'assign_get_recent_mod_activity')">assign_get_recent_mod_activity</a>(&amp;<a class="var it568" onMouseOver="hilite(568)" onMouseOut="lolite()" onClick="logVariable('activities')" href="../../_variables/activities.html">$activities</a>,
<a name="l708"><span class="linenum"> 708</span></a>                                          &amp;<a class="var it1494" onMouseOver="hilite(1494)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a>,
<a name="l709"><span class="linenum"> 709</span></a>                                          <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../../_variables/timestart.html">$timestart</a>,
<a name="l710"><span class="linenum"> 710</span></a>                                          <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>,
<a name="l711"><span class="linenum"> 711</span></a>                                          <a class="var it171" onMouseOver="hilite(171)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>,
<a name="l712"><span class="linenum"> 712</span></a>                                          <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>=0,
<a name="l713"><span class="linenum"> 713</span></a>                                          <a class="var it1423" onMouseOver="hilite(1423)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../_variables/groupid.html">$groupid</a>=0) {
<a name="l714"><span class="linenum"> 714</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../../_variables/COURSE.html">$COURSE</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l715"><span class="linenum"> 715</span></a>  
<a name="l716"><span class="linenum"> 716</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l717"><span class="linenum"> 717</span></a>  
<a name="l718"><span class="linenum"> 718</span></a>      if (<a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../../_variables/COURSE.html">$COURSE</a>-&gt;<a onClick="logVariable('id')" class="var it39504" onMouseOver="hilite(39504)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> == <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>) {
<a name="l719"><span class="linenum"> 719</span></a>          <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it2554" onMouseOver="hilite(2554)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../../_variables/COURSE.html">$COURSE</a>;
<a name="l720"><span class="linenum"> 720</span></a>      } else {
<a name="l721"><span class="linenum"> 721</span></a>          <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>));
<a name="l722"><span class="linenum"> 722</span></a>      }
<a name="l723"><span class="linenum"> 723</span></a>  
<a name="l724"><span class="linenum"> 724</span></a>      <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a> = <a class="function" onClick="logFunction('get_fast_modinfo')" href="../../_functions/get_fast_modinfo.html" onMouseOver="funcPopup(event,'get_fast_modinfo')">get_fast_modinfo</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l725"><span class="linenum"> 725</span></a>  
<a name="l726"><span class="linenum"> 726</span></a>      <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_cm')" href="../../_functions/get_cm.html" onMouseOver="funcPopup(event,'get_cm')">get_cm</a>(<a class="var it171" onMouseOver="hilite(171)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>);
<a name="l727"><span class="linenum"> 727</span></a>      <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array();
<a name="l728"><span class="linenum"> 728</span></a>      if (<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>) {
<a name="l729"><span class="linenum"> 729</span></a>          <a class="var it7067" onMouseOver="hilite(7067)" onMouseOut="lolite()" onClick="logVariable('userselect')" href="../../_variables/userselect.html">$userselect</a> = 'AND u.id = :userid';
<a name="l730"><span class="linenum"> 730</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userid'] = <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>;
<a name="l731"><span class="linenum"> 731</span></a>      } else {
<a name="l732"><span class="linenum"> 732</span></a>          <a class="var it7067" onMouseOver="hilite(7067)" onMouseOut="lolite()" onClick="logVariable('userselect')" href="../../_variables/userselect.html">$userselect</a> = '';
<a name="l733"><span class="linenum"> 733</span></a>      }
<a name="l734"><span class="linenum"> 734</span></a>  
<a name="l735"><span class="linenum"> 735</span></a>      if (<a class="var it1423" onMouseOver="hilite(1423)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../_variables/groupid.html">$groupid</a>) {
<a name="l736"><span class="linenum"> 736</span></a>          <a class="var it7068" onMouseOver="hilite(7068)" onMouseOut="lolite()" onClick="logVariable('groupselect')" href="../../_variables/groupselect.html">$groupselect</a> = 'AND gm.groupid = :groupid';
<a name="l737"><span class="linenum"> 737</span></a>          <a class="var it7069" onMouseOver="hilite(7069)" onMouseOut="lolite()" onClick="logVariable('groupjoin')" href="../../_variables/groupjoin.html">$groupjoin</a>   = 'JOIN {groups_members} gm ON  gm.userid=u.id';
<a name="l738"><span class="linenum"> 738</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['groupid'] = <a class="var it1423" onMouseOver="hilite(1423)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../_variables/groupid.html">$groupid</a>;
<a name="l739"><span class="linenum"> 739</span></a>      } else {
<a name="l740"><span class="linenum"> 740</span></a>          <a class="var it7068" onMouseOver="hilite(7068)" onMouseOut="lolite()" onClick="logVariable('groupselect')" href="../../_variables/groupselect.html">$groupselect</a> = '';
<a name="l741"><span class="linenum"> 741</span></a>          <a class="var it7069" onMouseOver="hilite(7069)" onMouseOut="lolite()" onClick="logVariable('groupjoin')" href="../../_variables/groupjoin.html">$groupjoin</a>   = '';
<a name="l742"><span class="linenum"> 742</span></a>      }
<a name="l743"><span class="linenum"> 743</span></a>  
<a name="l744"><span class="linenum"> 744</span></a>      <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['cminstance'] = <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>;
<a name="l745"><span class="linenum"> 745</span></a>      <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['timestart'] = <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../../_variables/timestart.html">$timestart</a>;
<a name="l746"><span class="linenum"> 746</span></a>      <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['submitted'] = <a class="constant" onClick="logConstant('ASSIGN_SUBMISSION_STATUS_SUBMITTED')" href="../../_constants/ASSIGN_SUBMISSION_STATUS_SUBMITTED.html" onMouseOver="constPopup(event,'ASSIGN_SUBMISSION_STATUS_SUBMITTED')">ASSIGN_SUBMISSION_STATUS_SUBMITTED</a>;
<a name="l747"><span class="linenum"> 747</span></a>  
<a name="l748"><span class="linenum"> 748</span></a>      <a class="var it2982" onMouseOver="hilite(2982)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../../_variables/userfields.html">$userfields</a> = <a class="class" onClick="logClass('user_picture')" href="../../_classes/user_picture.html" onMouseOver="classPopup(event,'user_picture')">user_picture</a>::<a class="function" onClick="logFunction('fields')" href="../../_functions/fields.html" onMouseOver="funcPopup(event,'fields')">fields</a>('u', null, 'userid');
<a name="l749"><span class="linenum"> 749</span></a>  
<a name="l750"><span class="linenum"> 750</span></a>      if (!<a class="var it7060" onMouseOver="hilite(7060)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>('SELECT asb.id, asb.timemodified, ' .
<a name="l751"><span class="linenum"> 751</span></a>                                                       <a class="var it2982" onMouseOver="hilite(2982)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../../_variables/userfields.html">$userfields</a> .
<a name="l752"><span class="linenum"> 752</span></a>                                               '  FROM {assign_submission} asb
<a name="l753"><span class="linenum"> 753</span></a>                                                  JOIN {assign} a ON a.id = asb.assignment
<a name="l754"><span class="linenum"> 754</span></a>                                                  JOIN {user} u ON u.id = asb.userid ' .
<a name="l755"><span class="linenum"> 755</span></a>                                            <a class="var it7069" onMouseOver="hilite(7069)" onMouseOut="lolite()" onClick="logVariable('groupjoin')" href="../../_variables/groupjoin.html">$groupjoin</a> .
<a name="l756"><span class="linenum"> 756</span></a>                                              '  WHERE asb.timemodified &gt; :timestart AND
<a name="l757"><span class="linenum"> 757</span></a>                                                       asb.status = :submitted AND
<a name="l758"><span class="linenum"> 758</span></a>                                                       a.id = :cminstance
<a name="l759"><span class="linenum"> 759</span></a>                                                       ' . <a class="var it7067" onMouseOver="hilite(7067)" onMouseOut="lolite()" onClick="logVariable('userselect')" href="../../_variables/userselect.html">$userselect</a> . ' ' . <a class="var it7068" onMouseOver="hilite(7068)" onMouseOut="lolite()" onClick="logVariable('groupselect')" href="../../_variables/groupselect.html">$groupselect</a> .
<a name="l760"><span class="linenum"> 760</span></a>                                              ' ORDER BY asb.timemodified ASC', <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>)) {
<a name="l761"><span class="linenum"> 761</span></a>           return;
<a name="l762"><span class="linenum"> 762</span></a>      }
<a name="l763"><span class="linenum"> 763</span></a>  
<a name="l764"><span class="linenum"> 764</span></a>      <a class="var it1421" onMouseOver="hilite(1421)" onMouseOut="lolite()" onClick="logVariable('groupmode')" href="../../_variables/groupmode.html">$groupmode</a>       = <a class="function" onClick="logFunction('groups_get_activity_groupmode')" href="../../_functions/groups_get_activity_groupmode.html" onMouseOver="funcPopup(event,'groups_get_activity_groupmode')">groups_get_activity_groupmode</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l765"><span class="linenum"> 765</span></a>      <a class="var it6479" onMouseOver="hilite(6479)" onMouseOut="lolite()" onClick="logVariable('cmcontext')" href="../../_variables/cmcontext.html">$cmcontext</a>      = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l766"><span class="linenum"> 766</span></a>      <a class="var it1615" onMouseOver="hilite(1615)" onMouseOut="lolite()" onClick="logVariable('grader')" href="../../_variables/grader.html">$grader</a>          = <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:viewall', <a class="var it6479" onMouseOver="hilite(6479)" onMouseOut="lolite()" onClick="logVariable('cmcontext')" href="../../_variables/cmcontext.html">$cmcontext</a>);
<a name="l767"><span class="linenum"> 767</span></a>      <a class="var it7070" onMouseOver="hilite(7070)" onMouseOut="lolite()" onClick="logVariable('accessallgroups')" href="../../_variables/accessallgroups.html">$accessallgroups</a> = <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/site:accessallgroups', <a class="var it6479" onMouseOver="hilite(6479)" onMouseOut="lolite()" onClick="logVariable('cmcontext')" href="../../_variables/cmcontext.html">$cmcontext</a>);
<a name="l768"><span class="linenum"> 768</span></a>      <a class="var it7061" onMouseOver="hilite(7061)" onMouseOut="lolite()" onClick="logVariable('viewfullnames')" href="../../_variables/viewfullnames.html">$viewfullnames</a>   = <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/site:viewfullnames', <a class="var it6479" onMouseOver="hilite(6479)" onMouseOut="lolite()" onClick="logVariable('cmcontext')" href="../../_variables/cmcontext.html">$cmcontext</a>);
<a name="l769"><span class="linenum"> 769</span></a>  
<a name="l770"><span class="linenum"> 770</span></a>  
<a name="l771"><span class="linenum"> 771</span></a>      <a class="var it7064" onMouseOver="hilite(7064)" onMouseOut="lolite()" onClick="logVariable('showrecentsubmissions')" href="../../_variables/showrecentsubmissions.html">$showrecentsubmissions</a> = <a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('assign', 'showrecentsubmissions');
<a name="l772"><span class="linenum"> 772</span></a>      <a class="var it7063" onMouseOver="hilite(7063)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a> = array();
<a name="l773"><span class="linenum"> 773</span></a>      foreach (<a class="var it7060" onMouseOver="hilite(7060)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a> as <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>) {
<a name="l774"><span class="linenum"> 774</span></a>          if (<a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('userid')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a> == <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>) {
<a name="l775"><span class="linenum"> 775</span></a>              <a class="var it7063" onMouseOver="hilite(7063)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a>[] = <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>;
<a name="l776"><span class="linenum"> 776</span></a>              continue;
<a name="l777"><span class="linenum"> 777</span></a>          }
<a name="l778"><span class="linenum"> 778</span></a>  <span class="comment">        // The act of submitting of assignment may be considered private -</span>
<a name="l779"><span class="linenum"> 779</span></a>  <span class="comment">        // only graders will see it if specified.</span>
<a name="l780"><span class="linenum"> 780</span></a>          if (empty(<a class="var it7064" onMouseOver="hilite(7064)" onMouseOut="lolite()" onClick="logVariable('showrecentsubmissions')" href="../../_variables/showrecentsubmissions.html">$showrecentsubmissions</a>)) {
<a name="l781"><span class="linenum"> 781</span></a>              if (!<a class="var it1615" onMouseOver="hilite(1615)" onMouseOut="lolite()" onClick="logVariable('grader')" href="../../_variables/grader.html">$grader</a>) {
<a name="l782"><span class="linenum"> 782</span></a>                  continue;
<a name="l783"><span class="linenum"> 783</span></a>              }
<a name="l784"><span class="linenum"> 784</span></a>          }
<a name="l785"><span class="linenum"> 785</span></a>  
<a name="l786"><span class="linenum"> 786</span></a>          if (<a class="var it1421" onMouseOver="hilite(1421)" onMouseOut="lolite()" onClick="logVariable('groupmode')" href="../../_variables/groupmode.html">$groupmode</a> == <a class="constant" onClick="logConstant('SEPARATEGROUPS')" href="../../_constants/SEPARATEGROUPS.html" onMouseOver="constPopup(event,'SEPARATEGROUPS')">SEPARATEGROUPS</a> and !<a class="var it7070" onMouseOver="hilite(7070)" onMouseOut="lolite()" onClick="logVariable('accessallgroups')" href="../../_variables/accessallgroups.html">$accessallgroups</a>) {
<a name="l787"><span class="linenum"> 787</span></a>              if (<a class="function" onClick="logFunction('isguestuser')" href="../../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>()) {
<a name="l788"><span class="linenum"> 788</span></a>  <span class="comment">                // Shortcut - guest user does not belong into any group.</span>
<a name="l789"><span class="linenum"> 789</span></a>                  continue;
<a name="l790"><span class="linenum"> 790</span></a>              }
<a name="l791"><span class="linenum"> 791</span></a>  
<a name="l792"><span class="linenum"> 792</span></a>  <span class="comment">            // This will be slow - show only users that share group with me in this cm.</span>
<a name="l793"><span class="linenum"> 793</span></a>              if (!<a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_groups')" href="../../_functions/get_groups.html" onMouseOver="funcPopup(event,'get_groups')">get_groups</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('groupingid')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/groupingid.html">groupingid</a>)) {
<a name="l794"><span class="linenum"> 794</span></a>                  continue;
<a name="l795"><span class="linenum"> 795</span></a>              }
<a name="l796"><span class="linenum"> 796</span></a>              <a class="var it7065" onMouseOver="hilite(7065)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a> =  <a class="function" onClick="logFunction('groups_get_all_groups')" href="../../_functions/groups_get_all_groups.html" onMouseOver="funcPopup(event,'groups_get_all_groups')">groups_get_all_groups</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('userid')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('groupingid')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/groupingid.html">groupingid</a>);
<a name="l797"><span class="linenum"> 797</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it7065" onMouseOver="hilite(7065)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a>)) {
<a name="l798"><span class="linenum"> 798</span></a>                  <a class="var it7065" onMouseOver="hilite(7065)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it7065" onMouseOver="hilite(7065)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a>);
<a name="l799"><span class="linenum"> 799</span></a>                  <a class="var it7066" onMouseOver="hilite(7066)" onMouseOut="lolite()" onClick="logVariable('intersect')" href="../../_variables/intersect.html">$intersect</a> = <a class="phpfunction" onClick="logFunction('array_intersect')" href="../../_functions/array_intersect.html" onMouseOver="phpfuncPopup(event,'array_intersect')">array_intersect</a>(<a class="var it7065" onMouseOver="hilite(7065)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a>, <a class="var it1702" onMouseOver="hilite(1702)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_groups')" href="../../_functions/get_groups.html" onMouseOver="funcPopup(event,'get_groups')">get_groups</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('groupingid')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/groupingid.html">groupingid</a>));
<a name="l800"><span class="linenum"> 800</span></a>                  if (empty(<a class="var it7066" onMouseOver="hilite(7066)" onMouseOut="lolite()" onClick="logVariable('intersect')" href="../../_variables/intersect.html">$intersect</a>)) {
<a name="l801"><span class="linenum"> 801</span></a>                      continue;
<a name="l802"><span class="linenum"> 802</span></a>                  }
<a name="l803"><span class="linenum"> 803</span></a>              }
<a name="l804"><span class="linenum"> 804</span></a>          }
<a name="l805"><span class="linenum"> 805</span></a>          <a class="var it7063" onMouseOver="hilite(7063)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a>[] = <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>;
<a name="l806"><span class="linenum"> 806</span></a>      }
<a name="l807"><span class="linenum"> 807</span></a>  
<a name="l808"><span class="linenum"> 808</span></a>      if (empty(<a class="var it7063" onMouseOver="hilite(7063)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a>)) {
<a name="l809"><span class="linenum"> 809</span></a>          return;
<a name="l810"><span class="linenum"> 810</span></a>      }
<a name="l811"><span class="linenum"> 811</span></a>  
<a name="l812"><span class="linenum"> 812</span></a>      if (<a class="var it1615" onMouseOver="hilite(1615)" onMouseOut="lolite()" onClick="logVariable('grader')" href="../../_variables/grader.html">$grader</a>) {
<a name="l813"><span class="linenum"> 813</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>.'/gradelib.php');
<a name="l814"><span class="linenum"> 814</span></a>          <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a> = array();
<a name="l815"><span class="linenum"> 815</span></a>          foreach (<a class="var it7063" onMouseOver="hilite(7063)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a> as <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> =&gt; <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>) {
<a name="l816"><span class="linenum"> 816</span></a>              <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a>[] = <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('userid')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>;
<a name="l817"><span class="linenum"> 817</span></a>          }
<a name="l818"><span class="linenum"> 818</span></a>          <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> = <a class="function" onClick="logFunction('grade_get_grades')" href="../../_functions/grade_get_grades.html" onMouseOver="funcPopup(event,'grade_get_grades')">grade_get_grades</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, 'mod', 'assign', <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>, <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a>);
<a name="l819"><span class="linenum"> 819</span></a>      }
<a name="l820"><span class="linenum"> 820</span></a>  
<a name="l821"><span class="linenum"> 821</span></a>      <a class="var it7071" onMouseOver="hilite(7071)" onMouseOut="lolite()" onClick="logVariable('aname')" href="../../_variables/aname.html">$aname</a> = <a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('name')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>, true);
<a name="l822"><span class="linenum"> 822</span></a>      foreach (<a class="var it7063" onMouseOver="hilite(7063)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a> as <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>) {
<a name="l823"><span class="linenum"> 823</span></a>          <a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a> = new stdClass();
<a name="l824"><span class="linenum"> 824</span></a>  
<a name="l825"><span class="linenum"> 825</span></a>          <a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('type')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/type.html">type</a>         = 'assign';
<a name="l826"><span class="linenum"> 826</span></a>          <a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('cmid')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>         = <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l827"><span class="linenum"> 827</span></a>          <a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('name')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>         = <a class="var it7071" onMouseOver="hilite(7071)" onMouseOut="lolite()" onClick="logVariable('aname')" href="../../_variables/aname.html">$aname</a>;
<a name="l828"><span class="linenum"> 828</span></a>          <a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('sectionnum')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/sectionnum.html">sectionnum</a>   = <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('sectionnum')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/sectionnum.html">sectionnum</a>;
<a name="l829"><span class="linenum"> 829</span></a>          <a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('timestamp')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/timestamp.html">timestamp</a>    = <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('timemodified')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a>;
<a name="l830"><span class="linenum"> 830</span></a>          <a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('user')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/user.html">user</a>         = new stdClass();
<a name="l831"><span class="linenum"> 831</span></a>          if (<a class="var it1615" onMouseOver="hilite(1615)" onMouseOut="lolite()" onClick="logVariable('grader')" href="../../_variables/grader.html">$grader</a>) {
<a name="l832"><span class="linenum"> 832</span></a>              <a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('grade')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> = <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>-&gt;<a onClick="logVariable('items')" class="var it40209" onMouseOver="hilite(40209)" onMouseOut="lolite()" href="../../_variables/items.html">items</a>[0]-&gt;grades[<a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('userid')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>]-&gt;str_long_grade;
<a name="l833"><span class="linenum"> 833</span></a>          }
<a name="l834"><span class="linenum"> 834</span></a>  
<a name="l835"><span class="linenum"> 835</span></a>          <a class="var it2982" onMouseOver="hilite(2982)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../../_variables/userfields.html">$userfields</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="class" onClick="logClass('user_picture')" href="../../_classes/user_picture.html" onMouseOver="classPopup(event,'user_picture')">user_picture</a>::<a class="function" onClick="logFunction('fields')" href="../../_functions/fields.html" onMouseOver="funcPopup(event,'fields')">fields</a>());
<a name="l836"><span class="linenum"> 836</span></a>          foreach (<a class="var it2982" onMouseOver="hilite(2982)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../../_variables/userfields.html">$userfields</a> as <a class="var it3132" onMouseOver="hilite(3132)" onMouseOut="lolite()" onClick="logVariable('userfield')" href="../../_variables/userfield.html">$userfield</a>) {
<a name="l837"><span class="linenum"> 837</span></a>              if (<a class="var it3132" onMouseOver="hilite(3132)" onMouseOut="lolite()" onClick="logVariable('userfield')" href="../../_variables/userfield.html">$userfield</a> == 'id') {
<a name="l838"><span class="linenum"> 838</span></a>  <span class="comment">                // Aliased in SQL above.</span>
<a name="l839"><span class="linenum"> 839</span></a>                  <a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('user')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/user.html">user</a>-&gt;{<a class="var it3132" onMouseOver="hilite(3132)" onMouseOut="lolite()" onClick="logVariable('userfield')" href="../../_variables/userfield.html">$userfield</a>} = <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('userid')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>;
<a name="l840"><span class="linenum"> 840</span></a>              } else {
<a name="l841"><span class="linenum"> 841</span></a>                  <a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('user')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/user.html">user</a>-&gt;{<a class="var it3132" onMouseOver="hilite(3132)" onMouseOut="lolite()" onClick="logVariable('userfield')" href="../../_variables/userfield.html">$userfield</a>} = <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;{<a class="var it3132" onMouseOver="hilite(3132)" onMouseOut="lolite()" onClick="logVariable('userfield')" href="../../_variables/userfield.html">$userfield</a>};
<a name="l842"><span class="linenum"> 842</span></a>              }
<a name="l843"><span class="linenum"> 843</span></a>          }
<a name="l844"><span class="linenum"> 844</span></a>          <a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('user')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/user.html">user</a>-&gt;fullname = <a class="function" onClick="logFunction('fullname')" href="../../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>, <a class="var it7061" onMouseOver="hilite(7061)" onMouseOut="lolite()" onClick="logVariable('viewfullnames')" href="../../_variables/viewfullnames.html">$viewfullnames</a>);
<a name="l845"><span class="linenum"> 845</span></a>  
<a name="l846"><span class="linenum"> 846</span></a>          <a class="var it568" onMouseOver="hilite(568)" onMouseOut="lolite()" onClick="logVariable('activities')" href="../../_variables/activities.html">$activities</a>[<a class="var it1494" onMouseOver="hilite(1494)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a>++] = <a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>;
<a name="l847"><span class="linenum"> 847</span></a>      }
<a name="l848"><span class="linenum"> 848</span></a>  
<a name="l849"><span class="linenum"> 849</span></a>      return;
<a name="l850"><span class="linenum"> 850</span></a>  }
<a name="l851"><span class="linenum"> 851</span></a>  
<a name="l852"><span class="linenum"> 852</span></a>  <span class="comment">/**</span>
<a name="l853"><span class="linenum"> 853</span></a>  <span class="comment"> * Print recent activity from all assignments in a given course</span>
<a name="l854"><span class="linenum"> 854</span></a>  <span class="comment"> *</span>
<a name="l855"><span class="linenum"> 855</span></a>  <span class="comment"> * This is used by course/recent.php</span>
<a name="l856"><span class="linenum"> 856</span></a>  <span class="comment"> * @param stdClass $activity</span>
<a name="l857"><span class="linenum"> 857</span></a>  <span class="comment"> * @param int $courseid</span>
<a name="l858"><span class="linenum"> 858</span></a>  <span class="comment"> * @param bool $detail</span>
<a name="l859"><span class="linenum"> 859</span></a>  <span class="comment"> * @param array $modnames</span>
<a name="l860"><span class="linenum"> 860</span></a>  <span class="comment"> */</span>
<a name="l861"><span class="linenum"> 861</span></a>  function <a class="function" onClick="logFunction('assign_print_recent_mod_activity')" href="../../_functions/assign_print_recent_mod_activity.html" onMouseOver="funcPopup(event,'assign_print_recent_mod_activity')">assign_print_recent_mod_activity</a>(<a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>, <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, <a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a>, <a class="var it7072" onMouseOver="hilite(7072)" onMouseOut="lolite()" onClick="logVariable('modnames')" href="../../_variables/modnames.html">$modnames</a>) {
<a name="l862"><span class="linenum"> 862</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l863"><span class="linenum"> 863</span></a>  
<a name="l864"><span class="linenum"> 864</span></a>      echo '&lt;table border=&quot;0&quot; cellpadding=&quot;3&quot; cellspacing=&quot;0&quot; class=&quot;assignment-recent&quot;&gt;';
<a name="l865"><span class="linenum"> 865</span></a>  
<a name="l866"><span class="linenum"> 866</span></a>      echo '&lt;tr&gt;&lt;td class=&quot;userpicture&quot; valign=&quot;top&quot;&gt;';
<a name="l867"><span class="linenum"> 867</span></a>      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('user_picture')" href="../../_functions/user_picture.html" onMouseOver="funcPopup(event,'user_picture')">user_picture</a>(<a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('user')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/user.html">user</a>);
<a name="l868"><span class="linenum"> 868</span></a>      echo '&lt;/td&gt;&lt;td&gt;';
<a name="l869"><span class="linenum"> 869</span></a>  
<a name="l870"><span class="linenum"> 870</span></a>      if (<a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a>) {
<a name="l871"><span class="linenum"> 871</span></a>          <a class="var it561" onMouseOver="hilite(561)" onMouseOut="lolite()" onClick="logVariable('modname')" href="../../_variables/modname.html">$modname</a> = <a class="var it7072" onMouseOver="hilite(7072)" onMouseOut="lolite()" onClick="logVariable('modnames')" href="../../_variables/modnames.html">$modnames</a>[<a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('type')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/type.html">type</a>];
<a name="l872"><span class="linenum"> 872</span></a>          echo '&lt;div class=&quot;title&quot;&gt;';
<a name="l873"><span class="linenum"> 873</span></a>          echo '&lt;img src=&quot;' . <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('icon', 'assign') . '&quot; '.
<a name="l874"><span class="linenum"> 874</span></a>               'class=&quot;icon&quot; alt=&quot;' . <a class="var it561" onMouseOver="hilite(561)" onMouseOut="lolite()" onClick="logVariable('modname')" href="../../_variables/modname.html">$modname</a> . '&quot;&gt;';
<a name="l875"><span class="linenum"> 875</span></a>          echo '&lt;a href=&quot;' . <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a> . '/mod/assign/view.php?id=' . <a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('cmid')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a> . '&quot;&gt;';
<a name="l876"><span class="linenum"> 876</span></a>          echo <a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('name')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>;
<a name="l877"><span class="linenum"> 877</span></a>          echo '&lt;/a&gt;';
<a name="l878"><span class="linenum"> 878</span></a>          echo '&lt;/div&gt;';
<a name="l879"><span class="linenum"> 879</span></a>      }
<a name="l880"><span class="linenum"> 880</span></a>  
<a name="l881"><span class="linenum"> 881</span></a>      if (isset(<a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('grade')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a>)) {
<a name="l882"><span class="linenum"> 882</span></a>          echo '&lt;div class=&quot;grade&quot;&gt;';
<a name="l883"><span class="linenum"> 883</span></a>          echo <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('grade').': ';
<a name="l884"><span class="linenum"> 884</span></a>          echo <a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('grade')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a>;
<a name="l885"><span class="linenum"> 885</span></a>          echo '&lt;/div&gt;';
<a name="l886"><span class="linenum"> 886</span></a>      }
<a name="l887"><span class="linenum"> 887</span></a>  
<a name="l888"><span class="linenum"> 888</span></a>      echo '&lt;div class=&quot;user&quot;&gt;';
<a name="l889"><span class="linenum"> 889</span></a>      echo &quot;&lt;a href=\&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>/user/view.php?id={<a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('user')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/user.html">user</a>-&gt;id}&amp;amp;course=<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>\&quot;&gt;&quot;;
<a name="l890"><span class="linenum"> 890</span></a>      echo &quot;{<a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('user')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/user.html">user</a>-&gt;fullname}&lt;/a&gt;  - &quot; . <a class="function" onClick="logFunction('userdate')" href="../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it4373" onMouseOver="hilite(4373)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('timestamp')" class="var it40070" onMouseOver="hilite(40070)" onMouseOut="lolite()" href="../../_variables/timestamp.html">timestamp</a>);
<a name="l891"><span class="linenum"> 891</span></a>      echo '&lt;/div&gt;';
<a name="l892"><span class="linenum"> 892</span></a>  
<a name="l893"><span class="linenum"> 893</span></a>      echo '&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;';
<a name="l894"><span class="linenum"> 894</span></a>  }
<a name="l895"><span class="linenum"> 895</span></a>  
<a name="l896"><span class="linenum"> 896</span></a>  <span class="comment">/**</span>
<a name="l897"><span class="linenum"> 897</span></a>  <span class="comment"> * Checks if a scale is being used by an assignment.</span>
<a name="l898"><span class="linenum"> 898</span></a>  <span class="comment"> *</span>
<a name="l899"><span class="linenum"> 899</span></a>  <span class="comment"> * This is used by the backup code to decide whether to back up a scale</span>
<a name="l900"><span class="linenum"> 900</span></a>  <span class="comment"> * @param int $assignmentid</span>
<a name="l901"><span class="linenum"> 901</span></a>  <span class="comment"> * @param int $scaleid</span>
<a name="l902"><span class="linenum"> 902</span></a>  <span class="comment"> * @return boolean True if the scale is used by the assignment</span>
<a name="l903"><span class="linenum"> 903</span></a>  <span class="comment"> */</span>
<a name="l904"><span class="linenum"> 904</span></a>  function <a class="function" onClick="logFunction('assign_scale_used')" href="../../_functions/assign_scale_used.html" onMouseOver="funcPopup(event,'assign_scale_used')">assign_scale_used</a>(<a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>, <a class="var it3927" onMouseOver="hilite(3927)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a>) {
<a name="l905"><span class="linenum"> 905</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l906"><span class="linenum"> 906</span></a>  
<a name="l907"><span class="linenum"> 907</span></a>      <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> = false;
<a name="l908"><span class="linenum"> 908</span></a>      <a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../../_variables/rec.html">$rec</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('assign', array('id'=&gt;<a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>, 'grade'=&gt;-<a class="var it3927" onMouseOver="hilite(3927)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a>));
<a name="l909"><span class="linenum"> 909</span></a>  
<a name="l910"><span class="linenum"> 910</span></a>      if (!empty(<a class="var it6138" onMouseOver="hilite(6138)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../../_variables/rec.html">$rec</a>) &amp;&amp; !empty(<a class="var it3927" onMouseOver="hilite(3927)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a>)) {
<a name="l911"><span class="linenum"> 911</span></a>          <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> = true;
<a name="l912"><span class="linenum"> 912</span></a>      }
<a name="l913"><span class="linenum"> 913</span></a>  
<a name="l914"><span class="linenum"> 914</span></a>      return <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a>;
<a name="l915"><span class="linenum"> 915</span></a>  }
<a name="l916"><span class="linenum"> 916</span></a>  
<a name="l917"><span class="linenum"> 917</span></a>  <span class="comment">/**</span>
<a name="l918"><span class="linenum"> 918</span></a>  <span class="comment"> * Checks if scale is being used by any instance of assignment</span>
<a name="l919"><span class="linenum"> 919</span></a>  <span class="comment"> *</span>
<a name="l920"><span class="linenum"> 920</span></a>  <span class="comment"> * This is used to find out if scale used anywhere</span>
<a name="l921"><span class="linenum"> 921</span></a>  <span class="comment"> * @param int $scaleid</span>
<a name="l922"><span class="linenum"> 922</span></a>  <span class="comment"> * @return boolean True if the scale is used by any assignment</span>
<a name="l923"><span class="linenum"> 923</span></a>  <span class="comment"> */</span>
<a name="l924"><span class="linenum"> 924</span></a>  function <a class="function" onClick="logFunction('assign_scale_used_anywhere')" href="../../_functions/assign_scale_used_anywhere.html" onMouseOver="funcPopup(event,'assign_scale_used_anywhere')">assign_scale_used_anywhere</a>(<a class="var it3927" onMouseOver="hilite(3927)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a>) {
<a name="l925"><span class="linenum"> 925</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l926"><span class="linenum"> 926</span></a>  
<a name="l927"><span class="linenum"> 927</span></a>      if (<a class="var it3927" onMouseOver="hilite(3927)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a> and <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('assign', array('grade'=&gt;-<a class="var it3927" onMouseOver="hilite(3927)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a>))) {
<a name="l928"><span class="linenum"> 928</span></a>          return true;
<a name="l929"><span class="linenum"> 929</span></a>      } else {
<a name="l930"><span class="linenum"> 930</span></a>          return false;
<a name="l931"><span class="linenum"> 931</span></a>      }
<a name="l932"><span class="linenum"> 932</span></a>  }
<a name="l933"><span class="linenum"> 933</span></a>  
<a name="l934"><span class="linenum"> 934</span></a>  <span class="comment">/**</span>
<a name="l935"><span class="linenum"> 935</span></a>  <span class="comment"> * List the actions that correspond to a view of this module.</span>
<a name="l936"><span class="linenum"> 936</span></a>  <span class="comment"> * This is used by the participation report.</span>
<a name="l937"><span class="linenum"> 937</span></a>  <span class="comment"> *</span>
<a name="l938"><span class="linenum"> 938</span></a>  <span class="comment"> * Note: This is not used by new logging system. Event with</span>
<a name="l939"><span class="linenum"> 939</span></a>  <span class="comment"> *       crud = 'r' and edulevel = LEVEL_PARTICIPATING will</span>
<a name="l940"><span class="linenum"> 940</span></a>  <span class="comment"> *       be considered as view action.</span>
<a name="l941"><span class="linenum"> 941</span></a>  <span class="comment"> *</span>
<a name="l942"><span class="linenum"> 942</span></a>  <span class="comment"> * @return array</span>
<a name="l943"><span class="linenum"> 943</span></a>  <span class="comment"> */</span>
<a name="l944"><span class="linenum"> 944</span></a>  function <a class="function" onClick="logFunction('assign_get_view_actions')" href="../../_functions/assign_get_view_actions.html" onMouseOver="funcPopup(event,'assign_get_view_actions')">assign_get_view_actions</a>() {
<a name="l945"><span class="linenum"> 945</span></a>      return array('view submission', 'view feedback');
<a name="l946"><span class="linenum"> 946</span></a>  }
<a name="l947"><span class="linenum"> 947</span></a>  
<a name="l948"><span class="linenum"> 948</span></a>  <span class="comment">/**</span>
<a name="l949"><span class="linenum"> 949</span></a>  <span class="comment"> * List the actions that correspond to a post of this module.</span>
<a name="l950"><span class="linenum"> 950</span></a>  <span class="comment"> * This is used by the participation report.</span>
<a name="l951"><span class="linenum"> 951</span></a>  <span class="comment"> *</span>
<a name="l952"><span class="linenum"> 952</span></a>  <span class="comment"> * Note: This is not used by new logging system. Event with</span>
<a name="l953"><span class="linenum"> 953</span></a>  <span class="comment"> *       crud = ('c' || 'u' || 'd') and edulevel = LEVEL_PARTICIPATING</span>
<a name="l954"><span class="linenum"> 954</span></a>  <span class="comment"> *       will be considered as post action.</span>
<a name="l955"><span class="linenum"> 955</span></a>  <span class="comment"> *</span>
<a name="l956"><span class="linenum"> 956</span></a>  <span class="comment"> * @return array</span>
<a name="l957"><span class="linenum"> 957</span></a>  <span class="comment"> */</span>
<a name="l958"><span class="linenum"> 958</span></a>  function <a class="function" onClick="logFunction('assign_get_post_actions')" href="../../_functions/assign_get_post_actions.html" onMouseOver="funcPopup(event,'assign_get_post_actions')">assign_get_post_actions</a>() {
<a name="l959"><span class="linenum"> 959</span></a>      return array('upload', 'submit', 'submit for grading');
<a name="l960"><span class="linenum"> 960</span></a>  }
<a name="l961"><span class="linenum"> 961</span></a>  
<a name="l962"><span class="linenum"> 962</span></a>  <span class="comment">/**</span>
<a name="l963"><span class="linenum"> 963</span></a>  <span class="comment"> * Call cron on the assign module.</span>
<a name="l964"><span class="linenum"> 964</span></a>  <span class="comment"> */</span>
<a name="l965"><span class="linenum"> 965</span></a>  function <a class="function" onClick="logFunction('assign_cron')" href="../../_functions/assign_cron.html" onMouseOver="funcPopup(event,'assign_cron')">assign_cron</a>() {
<a name="l966"><span class="linenum"> 966</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l967"><span class="linenum"> 967</span></a>  
<a name="l968"><span class="linenum"> 968</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l969"><span class="linenum"> 969</span></a>      <a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>::<a class="function" onClick="logFunction('cron')" href="../../_functions/cron.html" onMouseOver="funcPopup(event,'cron')">cron</a>();
<a name="l970"><span class="linenum"> 970</span></a>  
<a name="l971"><span class="linenum"> 971</span></a>      <a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../../_variables/plugins.html">$plugins</a> = <a class="class" onClick="logClass('core_component')" href="../../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>('assignsubmission');
<a name="l972"><span class="linenum"> 972</span></a>  
<a name="l973"><span class="linenum"> 973</span></a>      foreach (<a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../../_variables/plugins.html">$plugins</a> as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>) {
<a name="l974"><span class="linenum"> 974</span></a>          <a class="var it1797" onMouseOver="hilite(1797)" onMouseOut="lolite()" onClick="logVariable('disabled')" href="../../_variables/disabled.html">$disabled</a> = <a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('assignsubmission_' . <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, 'disabled');
<a name="l975"><span class="linenum"> 975</span></a>          if (!<a class="var it1797" onMouseOver="hilite(1797)" onMouseOut="lolite()" onClick="logVariable('disabled')" href="../../_variables/disabled.html">$disabled</a>) {
<a name="l976"><span class="linenum"> 976</span></a>              <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a> = 'assign_submission_' . <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>;
<a name="l977"><span class="linenum"> 977</span></a>              require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '/mod/assign/submission/' . <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> . '/locallib.php');
<a name="l978"><span class="linenum"> 978</span></a>              <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>::<a class="function" onClick="logFunction('cron')" href="../../_functions/cron.html" onMouseOver="funcPopup(event,'cron')">cron</a>();
<a name="l979"><span class="linenum"> 979</span></a>          }
<a name="l980"><span class="linenum"> 980</span></a>      }
<a name="l981"><span class="linenum"> 981</span></a>      <a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../../_variables/plugins.html">$plugins</a> = <a class="class" onClick="logClass('core_component')" href="../../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>('assignfeedback');
<a name="l982"><span class="linenum"> 982</span></a>  
<a name="l983"><span class="linenum"> 983</span></a>      foreach (<a class="var it1127" onMouseOver="hilite(1127)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../../_variables/plugins.html">$plugins</a> as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>) {
<a name="l984"><span class="linenum"> 984</span></a>          <a class="var it1797" onMouseOver="hilite(1797)" onMouseOut="lolite()" onClick="logVariable('disabled')" href="../../_variables/disabled.html">$disabled</a> = <a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('assignfeedback_' . <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, 'disabled');
<a name="l985"><span class="linenum"> 985</span></a>          if (!<a class="var it1797" onMouseOver="hilite(1797)" onMouseOut="lolite()" onClick="logVariable('disabled')" href="../../_variables/disabled.html">$disabled</a>) {
<a name="l986"><span class="linenum"> 986</span></a>              <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a> = 'assign_feedback_' . <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>;
<a name="l987"><span class="linenum"> 987</span></a>              require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '/mod/assign/feedback/' . <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> . '/locallib.php');
<a name="l988"><span class="linenum"> 988</span></a>              <a class="var it318" onMouseOver="hilite(318)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>::<a class="function" onClick="logFunction('cron')" href="../../_functions/cron.html" onMouseOver="funcPopup(event,'cron')">cron</a>();
<a name="l989"><span class="linenum"> 989</span></a>          }
<a name="l990"><span class="linenum"> 990</span></a>      }
<a name="l991"><span class="linenum"> 991</span></a>  
<a name="l992"><span class="linenum"> 992</span></a>      return true;
<a name="l993"><span class="linenum"> 993</span></a>  }
<a name="l994"><span class="linenum"> 994</span></a>  
<a name="l995"><span class="linenum"> 995</span></a>  <span class="comment">/**</span>
<a name="l996"><span class="linenum"> 996</span></a>  <span class="comment"> * Returns all other capabilities used by this module.</span>
<a name="l997"><span class="linenum"> 997</span></a>  <span class="comment"> * @return array Array of capability strings</span>
<a name="l998"><span class="linenum"> 998</span></a>  <span class="comment"> */</span>
<a name="l999"><span class="linenum"> 999</span></a>  function <a class="function" onClick="logFunction('assign_get_extra_capabilities')" href="../../_functions/assign_get_extra_capabilities.html" onMouseOver="funcPopup(event,'assign_get_extra_capabilities')">assign_get_extra_capabilities</a>() {
<a name="l1000"><span class="linenum">1000</span></a>      return array('gradereport/grader:view',
<a name="l1001"><span class="linenum">1001</span></a>                   'moodle/grade:viewall',
<a name="l1002"><span class="linenum">1002</span></a>                   'moodle/site:viewfullnames',
<a name="l1003"><span class="linenum">1003</span></a>                   'moodle/site:config');
<a name="l1004"><span class="linenum">1004</span></a>  }
<a name="l1005"><span class="linenum">1005</span></a>  
<a name="l1006"><span class="linenum">1006</span></a>  <span class="comment">/**</span>
<a name="l1007"><span class="linenum">1007</span></a>  <span class="comment"> * Create grade item for given assignment.</span>
<a name="l1008"><span class="linenum">1008</span></a>  <span class="comment"> *</span>
<a name="l1009"><span class="linenum">1009</span></a>  <span class="comment"> * @param stdClass $assign record with extra cmidnumber</span>
<a name="l1010"><span class="linenum">1010</span></a>  <span class="comment"> * @param array $grades optional array/object of grade(s); 'reset' means reset grades in gradebook</span>
<a name="l1011"><span class="linenum">1011</span></a>  <span class="comment"> * @return int 0 if ok, error code otherwise</span>
<a name="l1012"><span class="linenum">1012</span></a>  <span class="comment"> */</span>
<a name="l1013"><span class="linenum">1013</span></a>  function <a class="function" onClick="logFunction('assign_grade_item_update')" href="../../_functions/assign_grade_item_update.html" onMouseOver="funcPopup(event,'assign_grade_item_update')">assign_grade_item_update</a>(<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>, <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>=null) {
<a name="l1014"><span class="linenum">1014</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1015"><span class="linenum">1015</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>.'/gradelib.php');
<a name="l1016"><span class="linenum">1016</span></a>  
<a name="l1017"><span class="linenum">1017</span></a>      if (!isset(<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('courseid')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a>)) {
<a name="l1018"><span class="linenum">1018</span></a>          <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('courseid')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a> = <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('course')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>;
<a name="l1019"><span class="linenum">1019</span></a>      }
<a name="l1020"><span class="linenum">1020</span></a>  
<a name="l1021"><span class="linenum">1021</span></a>      <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('itemname'=&gt;<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('name')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>, 'idnumber'=&gt;<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('cmidnumber')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/cmidnumber.html">cmidnumber</a>);
<a name="l1022"><span class="linenum">1022</span></a>  
<a name="l1023"><span class="linenum">1023</span></a>  <span class="comment">    // Check if feedback plugin for gradebook is enabled, if yes then</span>
<a name="l1024"><span class="linenum">1024</span></a>  <span class="comment">    // gradetype = GRADE_TYPE_TEXT else GRADE_TYPE_NONE.</span>
<a name="l1025"><span class="linenum">1025</span></a>      <a class="var it7074" onMouseOver="hilite(7074)" onMouseOut="lolite()" onClick="logVariable('gradefeedbackenabled')" href="../../_variables/gradefeedbackenabled.html">$gradefeedbackenabled</a> = false;
<a name="l1026"><span class="linenum">1026</span></a>  
<a name="l1027"><span class="linenum">1027</span></a>      if (isset(<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('gradefeedbackenabled')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/gradefeedbackenabled.html">gradefeedbackenabled</a>)) {
<a name="l1028"><span class="linenum">1028</span></a>          <a class="var it7074" onMouseOver="hilite(7074)" onMouseOut="lolite()" onClick="logVariable('gradefeedbackenabled')" href="../../_variables/gradefeedbackenabled.html">$gradefeedbackenabled</a> = <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('gradefeedbackenabled')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/gradefeedbackenabled.html">gradefeedbackenabled</a>;
<a name="l1029"><span class="linenum">1029</span></a>      } else if (<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('grade')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> == 0) { // Grade feedback is needed only when grade == 0.
<a name="l1030"><span class="linenum">1030</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l1031"><span class="linenum">1031</span></a>          <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../../_variables/mod.html">$mod</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('id')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('courseid')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a>);
<a name="l1032"><span class="linenum">1032</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../../_variables/mod.html">$mod</a>-&gt;<a onClick="logVariable('id')" class="var it40073" onMouseOver="hilite(40073)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1033"><span class="linenum">1033</span></a>          <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, null, null);
<a name="l1034"><span class="linenum">1034</span></a>          <a class="var it7074" onMouseOver="hilite(7074)" onMouseOut="lolite()" onClick="logVariable('gradefeedbackenabled')" href="../../_variables/gradefeedbackenabled.html">$gradefeedbackenabled</a> = <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('is_gradebook_feedback_enabled')" href="../../_functions/is_gradebook_feedback_enabled.html" onMouseOver="funcPopup(event,'is_gradebook_feedback_enabled')">is_gradebook_feedback_enabled</a>();
<a name="l1035"><span class="linenum">1035</span></a>      }
<a name="l1036"><span class="linenum">1036</span></a>  
<a name="l1037"><span class="linenum">1037</span></a>      if (<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('grade')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> &gt; 0) {
<a name="l1038"><span class="linenum">1038</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['gradetype'] = <a class="constant" onClick="logConstant('GRADE_TYPE_VALUE')" href="../../_constants/GRADE_TYPE_VALUE.html" onMouseOver="constPopup(event,'GRADE_TYPE_VALUE')">GRADE_TYPE_VALUE</a>;
<a name="l1039"><span class="linenum">1039</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['grademax']  = <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('grade')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a>;
<a name="l1040"><span class="linenum">1040</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['grademin']  = 0;
<a name="l1041"><span class="linenum">1041</span></a>  
<a name="l1042"><span class="linenum">1042</span></a>      } else if (<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('grade')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> &lt; 0) {
<a name="l1043"><span class="linenum">1043</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['gradetype'] = <a class="constant" onClick="logConstant('GRADE_TYPE_SCALE')" href="../../_constants/GRADE_TYPE_SCALE.html" onMouseOver="constPopup(event,'GRADE_TYPE_SCALE')">GRADE_TYPE_SCALE</a>;
<a name="l1044"><span class="linenum">1044</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['scaleid']   = -<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('grade')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a>;
<a name="l1045"><span class="linenum">1045</span></a>  
<a name="l1046"><span class="linenum">1046</span></a>      } else if (<a class="var it7074" onMouseOver="hilite(7074)" onMouseOut="lolite()" onClick="logVariable('gradefeedbackenabled')" href="../../_variables/gradefeedbackenabled.html">$gradefeedbackenabled</a>) {
<a name="l1047"><span class="linenum">1047</span></a>  <span class="comment">        // $assign-&gt;grade == 0 and feedback enabled.</span>
<a name="l1048"><span class="linenum">1048</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['gradetype'] = <a class="constant" onClick="logConstant('GRADE_TYPE_TEXT')" href="../../_constants/GRADE_TYPE_TEXT.html" onMouseOver="constPopup(event,'GRADE_TYPE_TEXT')">GRADE_TYPE_TEXT</a>;
<a name="l1049"><span class="linenum">1049</span></a>      } else {
<a name="l1050"><span class="linenum">1050</span></a>  <span class="comment">        // $assign-&gt;grade == 0 and no feedback enabled.</span>
<a name="l1051"><span class="linenum">1051</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['gradetype'] = <a class="constant" onClick="logConstant('GRADE_TYPE_NONE')" href="../../_constants/GRADE_TYPE_NONE.html" onMouseOver="constPopup(event,'GRADE_TYPE_NONE')">GRADE_TYPE_NONE</a>;
<a name="l1052"><span class="linenum">1052</span></a>      }
<a name="l1053"><span class="linenum">1053</span></a>  
<a name="l1054"><span class="linenum">1054</span></a>      if (<a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>  === 'reset') {
<a name="l1055"><span class="linenum">1055</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['reset'] = true;
<a name="l1056"><span class="linenum">1056</span></a>          <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> = null;
<a name="l1057"><span class="linenum">1057</span></a>      }
<a name="l1058"><span class="linenum">1058</span></a>  
<a name="l1059"><span class="linenum">1059</span></a>      return <a class="function" onClick="logFunction('grade_update')" href="../../_functions/grade_update.html" onMouseOver="funcPopup(event,'grade_update')">grade_update</a>('mod/assign',
<a name="l1060"><span class="linenum">1060</span></a>                          <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('courseid')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a>,
<a name="l1061"><span class="linenum">1061</span></a>                          'mod',
<a name="l1062"><span class="linenum">1062</span></a>                          'assign',
<a name="l1063"><span class="linenum">1063</span></a>                          <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('id')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l1064"><span class="linenum">1064</span></a>                          0,
<a name="l1065"><span class="linenum">1065</span></a>                          <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>,
<a name="l1066"><span class="linenum">1066</span></a>                          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l1067"><span class="linenum">1067</span></a>  }
<a name="l1068"><span class="linenum">1068</span></a>  
<a name="l1069"><span class="linenum">1069</span></a>  <span class="comment">/**</span>
<a name="l1070"><span class="linenum">1070</span></a>  <span class="comment"> * Return grade for given user or all users.</span>
<a name="l1071"><span class="linenum">1071</span></a>  <span class="comment"> *</span>
<a name="l1072"><span class="linenum">1072</span></a>  <span class="comment"> * @param stdClass $assign record of assign with an additional cmidnumber</span>
<a name="l1073"><span class="linenum">1073</span></a>  <span class="comment"> * @param int $userid optional user id, 0 means all users</span>
<a name="l1074"><span class="linenum">1074</span></a>  <span class="comment"> * @return array array of grades, false if none</span>
<a name="l1075"><span class="linenum">1075</span></a>  <span class="comment"> */</span>
<a name="l1076"><span class="linenum">1076</span></a>  function <a class="function" onClick="logFunction('assign_get_user_grades')" href="../../_functions/assign_get_user_grades.html" onMouseOver="funcPopup(event,'assign_get_user_grades')">assign_get_user_grades</a>(<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>=0) {
<a name="l1077"><span class="linenum">1077</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1078"><span class="linenum">1078</span></a>  
<a name="l1079"><span class="linenum">1079</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l1080"><span class="linenum">1080</span></a>  
<a name="l1081"><span class="linenum">1081</span></a>      <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('id')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 0, false, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l1082"><span class="linenum">1082</span></a>      <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1083"><span class="linenum">1083</span></a>      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, null, null);
<a name="l1084"><span class="linenum">1084</span></a>      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('set_instance')" href="../../_functions/set_instance.html" onMouseOver="funcPopup(event,'set_instance')">set_instance</a>(<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>);
<a name="l1085"><span class="linenum">1085</span></a>      return <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('get_user_grades_for_gradebook')" href="../../_functions/get_user_grades_for_gradebook.html" onMouseOver="funcPopup(event,'get_user_grades_for_gradebook')">get_user_grades_for_gradebook</a>(<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>);
<a name="l1086"><span class="linenum">1086</span></a>  }
<a name="l1087"><span class="linenum">1087</span></a>  
<a name="l1088"><span class="linenum">1088</span></a>  <span class="comment">/**</span>
<a name="l1089"><span class="linenum">1089</span></a>  <span class="comment"> * Update activity grades.</span>
<a name="l1090"><span class="linenum">1090</span></a>  <span class="comment"> *</span>
<a name="l1091"><span class="linenum">1091</span></a>  <span class="comment"> * @param stdClass $assign database record</span>
<a name="l1092"><span class="linenum">1092</span></a>  <span class="comment"> * @param int $userid specific user only, 0 means all</span>
<a name="l1093"><span class="linenum">1093</span></a>  <span class="comment"> * @param bool $nullifnone - not used</span>
<a name="l1094"><span class="linenum">1094</span></a>  <span class="comment"> */</span>
<a name="l1095"><span class="linenum">1095</span></a>  function <a class="function" onClick="logFunction('assign_update_grades')" href="../../_functions/assign_update_grades.html" onMouseOver="funcPopup(event,'assign_update_grades')">assign_update_grades</a>(<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>=0, <a class="var it7075" onMouseOver="hilite(7075)" onMouseOut="lolite()" onClick="logVariable('nullifnone')" href="../../_variables/nullifnone.html">$nullifnone</a>=true) {
<a name="l1096"><span class="linenum">1096</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1097"><span class="linenum">1097</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>.'/gradelib.php');
<a name="l1098"><span class="linenum">1098</span></a>  
<a name="l1099"><span class="linenum">1099</span></a>      if (<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('grade')" class="var it39529" onMouseOver="hilite(39529)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> == 0) {
<a name="l1100"><span class="linenum">1100</span></a>          <a class="function" onClick="logFunction('assign_grade_item_update')" href="../../_functions/assign_grade_item_update.html" onMouseOver="funcPopup(event,'assign_grade_item_update')">assign_grade_item_update</a>(<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>);
<a name="l1101"><span class="linenum">1101</span></a>  
<a name="l1102"><span class="linenum">1102</span></a>      } else if (<a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> = <a class="function" onClick="logFunction('assign_get_user_grades')" href="../../_functions/assign_get_user_grades.html" onMouseOver="funcPopup(event,'assign_get_user_grades')">assign_get_user_grades</a>(<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>)) {
<a name="l1103"><span class="linenum">1103</span></a>          foreach (<a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> as <a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a> =&gt; <a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) {
<a name="l1104"><span class="linenum">1104</span></a>              if (<a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>-&gt;<a onClick="logVariable('rawgrade')" class="var it39462" onMouseOver="hilite(39462)" onMouseOut="lolite()" href="../../_variables/rawgrade.html">rawgrade</a> == -1) {
<a name="l1105"><span class="linenum">1105</span></a>                  <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>[<a class="var it50" onMouseOver="hilite(50)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a>]-&gt;rawgrade = null;
<a name="l1106"><span class="linenum">1106</span></a>              }
<a name="l1107"><span class="linenum">1107</span></a>          }
<a name="l1108"><span class="linenum">1108</span></a>          <a class="function" onClick="logFunction('assign_grade_item_update')" href="../../_functions/assign_grade_item_update.html" onMouseOver="funcPopup(event,'assign_grade_item_update')">assign_grade_item_update</a>(<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>, <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>);
<a name="l1109"><span class="linenum">1109</span></a>  
<a name="l1110"><span class="linenum">1110</span></a>      } else {
<a name="l1111"><span class="linenum">1111</span></a>          <a class="function" onClick="logFunction('assign_grade_item_update')" href="../../_functions/assign_grade_item_update.html" onMouseOver="funcPopup(event,'assign_grade_item_update')">assign_grade_item_update</a>(<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>);
<a name="l1112"><span class="linenum">1112</span></a>      }
<a name="l1113"><span class="linenum">1113</span></a>  }
<a name="l1114"><span class="linenum">1114</span></a>  
<a name="l1115"><span class="linenum">1115</span></a>  <span class="comment">/**</span>
<a name="l1116"><span class="linenum">1116</span></a>  <span class="comment"> * List the file areas that can be browsed.</span>
<a name="l1117"><span class="linenum">1117</span></a>  <span class="comment"> *</span>
<a name="l1118"><span class="linenum">1118</span></a>  <span class="comment"> * @param stdClass $course</span>
<a name="l1119"><span class="linenum">1119</span></a>  <span class="comment"> * @param stdClass $cm</span>
<a name="l1120"><span class="linenum">1120</span></a>  <span class="comment"> * @param stdClass $context</span>
<a name="l1121"><span class="linenum">1121</span></a>  <span class="comment"> * @return array</span>
<a name="l1122"><span class="linenum">1122</span></a>  <span class="comment"> */</span>
<a name="l1123"><span class="linenum">1123</span></a>  function <a class="function" onClick="logFunction('assign_get_file_areas')" href="../../_functions/assign_get_file_areas.html" onMouseOver="funcPopup(event,'assign_get_file_areas')">assign_get_file_areas</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>) {
<a name="l1124"><span class="linenum">1124</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1125"><span class="linenum">1125</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l1126"><span class="linenum">1126</span></a>  
<a name="l1127"><span class="linenum">1127</span></a>      <a class="var it1700" onMouseOver="hilite(1700)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a> = array(<a class="constant" onClick="logConstant('ASSIGN_INTROATTACHMENT_FILEAREA')" href="../../_constants/ASSIGN_INTROATTACHMENT_FILEAREA.html" onMouseOver="constPopup(event,'ASSIGN_INTROATTACHMENT_FILEAREA')">ASSIGN_INTROATTACHMENT_FILEAREA</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('introattachments', 'mod_assign'));
<a name="l1128"><span class="linenum">1128</span></a>  
<a name="l1129"><span class="linenum">1129</span></a>      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l1130"><span class="linenum">1130</span></a>      foreach (<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('get_submission_plugins')" href="../../_functions/get_submission_plugins.html" onMouseOver="funcPopup(event,'get_submission_plugins')">get_submission_plugins</a>() as <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>) {
<a name="l1131"><span class="linenum">1131</span></a>          if (<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('is_visible')" href="../../_functions/is_visible.html" onMouseOver="funcPopup(event,'is_visible')">is_visible</a>()) {
<a name="l1132"><span class="linenum">1132</span></a>              <a class="var it7076" onMouseOver="hilite(7076)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a> = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('get_file_areas')" href="../../_functions/get_file_areas.html" onMouseOver="funcPopup(event,'get_file_areas')">get_file_areas</a>();
<a name="l1133"><span class="linenum">1133</span></a>  
<a name="l1134"><span class="linenum">1134</span></a>              if (<a class="var it7076" onMouseOver="hilite(7076)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a>) {
<a name="l1135"><span class="linenum">1135</span></a>                  <a class="var it1700" onMouseOver="hilite(1700)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it1700" onMouseOver="hilite(1700)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a>, <a class="var it7076" onMouseOver="hilite(7076)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a>);
<a name="l1136"><span class="linenum">1136</span></a>              }
<a name="l1137"><span class="linenum">1137</span></a>          }
<a name="l1138"><span class="linenum">1138</span></a>      }
<a name="l1139"><span class="linenum">1139</span></a>      foreach (<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('get_feedback_plugins')" href="../../_functions/get_feedback_plugins.html" onMouseOver="funcPopup(event,'get_feedback_plugins')">get_feedback_plugins</a>() as <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>) {
<a name="l1140"><span class="linenum">1140</span></a>          if (<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('is_visible')" href="../../_functions/is_visible.html" onMouseOver="funcPopup(event,'is_visible')">is_visible</a>()) {
<a name="l1141"><span class="linenum">1141</span></a>              <a class="var it7076" onMouseOver="hilite(7076)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a> = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('get_file_areas')" href="../../_functions/get_file_areas.html" onMouseOver="funcPopup(event,'get_file_areas')">get_file_areas</a>();
<a name="l1142"><span class="linenum">1142</span></a>  
<a name="l1143"><span class="linenum">1143</span></a>              if (<a class="var it7076" onMouseOver="hilite(7076)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a>) {
<a name="l1144"><span class="linenum">1144</span></a>                  <a class="var it1700" onMouseOver="hilite(1700)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it1700" onMouseOver="hilite(1700)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a>, <a class="var it7076" onMouseOver="hilite(7076)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a>);
<a name="l1145"><span class="linenum">1145</span></a>              }
<a name="l1146"><span class="linenum">1146</span></a>          }
<a name="l1147"><span class="linenum">1147</span></a>      }
<a name="l1148"><span class="linenum">1148</span></a>  
<a name="l1149"><span class="linenum">1149</span></a>      return <a class="var it1700" onMouseOver="hilite(1700)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a>;
<a name="l1150"><span class="linenum">1150</span></a>  }
<a name="l1151"><span class="linenum">1151</span></a>  
<a name="l1152"><span class="linenum">1152</span></a>  <span class="comment">/**</span>
<a name="l1153"><span class="linenum">1153</span></a>  <span class="comment"> * File browsing support for assign module.</span>
<a name="l1154"><span class="linenum">1154</span></a>  <span class="comment"> *</span>
<a name="l1155"><span class="linenum">1155</span></a>  <span class="comment"> * @param file_browser $browser</span>
<a name="l1156"><span class="linenum">1156</span></a>  <span class="comment"> * @param object $areas</span>
<a name="l1157"><span class="linenum">1157</span></a>  <span class="comment"> * @param object $course</span>
<a name="l1158"><span class="linenum">1158</span></a>  <span class="comment"> * @param object $cm</span>
<a name="l1159"><span class="linenum">1159</span></a>  <span class="comment"> * @param object $context</span>
<a name="l1160"><span class="linenum">1160</span></a>  <span class="comment"> * @param string $filearea</span>
<a name="l1161"><span class="linenum">1161</span></a>  <span class="comment"> * @param int $itemid</span>
<a name="l1162"><span class="linenum">1162</span></a>  <span class="comment"> * @param string $filepath</span>
<a name="l1163"><span class="linenum">1163</span></a>  <span class="comment"> * @param string $filename</span>
<a name="l1164"><span class="linenum">1164</span></a>  <span class="comment"> * @return object file_info instance or null if not found</span>
<a name="l1165"><span class="linenum">1165</span></a>  <span class="comment"> */</span>
<a name="l1166"><span class="linenum">1166</span></a>  function <a class="function" onClick="logFunction('assign_get_file_info')" href="../../_functions/assign_get_file_info.html" onMouseOver="funcPopup(event,'assign_get_file_info')">assign_get_file_info</a>(<a class="var it577" onMouseOver="hilite(577)" onMouseOut="lolite()" onClick="logVariable('browser')" href="../../_variables/browser.html">$browser</a>,
<a name="l1167"><span class="linenum">1167</span></a>                                <a class="var it1700" onMouseOver="hilite(1700)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a>,
<a name="l1168"><span class="linenum">1168</span></a>                                <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>,
<a name="l1169"><span class="linenum">1169</span></a>                                <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>,
<a name="l1170"><span class="linenum">1170</span></a>                                <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>,
<a name="l1171"><span class="linenum">1171</span></a>                                <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>,
<a name="l1172"><span class="linenum">1172</span></a>                                <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a>,
<a name="l1173"><span class="linenum">1173</span></a>                                <a class="var it549" onMouseOver="hilite(549)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>,
<a name="l1174"><span class="linenum">1174</span></a>                                <a class="var it93" onMouseOver="hilite(93)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>) {
<a name="l1175"><span class="linenum">1175</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1176"><span class="linenum">1176</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l1177"><span class="linenum">1177</span></a>  
<a name="l1178"><span class="linenum">1178</span></a>      if (<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_MODULE')" href="../../_constants/CONTEXT_MODULE.html" onMouseOver="constPopup(event,'CONTEXT_MODULE')">CONTEXT_MODULE</a>) {
<a name="l1179"><span class="linenum">1179</span></a>          return null;
<a name="l1180"><span class="linenum">1180</span></a>      }
<a name="l1181"><span class="linenum">1181</span></a>  
<a name="l1182"><span class="linenum">1182</span></a>      <a class="var it1695" onMouseOver="hilite(1695)" onMouseOut="lolite()" onClick="logVariable('urlbase')" href="../../_variables/urlbase.html">$urlbase</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>.'<a class="filename" href="../../pluginfile.php.html">/pluginfile.php</a>';
<a name="l1183"><span class="linenum">1183</span></a>      <a class="var it586" onMouseOver="hilite(586)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a> = <a class="function" onClick="logFunction('get_file_storage')" href="../../_functions/get_file_storage.html" onMouseOver="funcPopup(event,'get_file_storage')">get_file_storage</a>();
<a name="l1184"><span class="linenum">1184</span></a>      <a class="var it549" onMouseOver="hilite(549)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it549" onMouseOver="hilite(549)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>) ? '/' : <a class="var it549" onMouseOver="hilite(549)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>;
<a name="l1185"><span class="linenum">1185</span></a>      <a class="var it93" onMouseOver="hilite(93)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it93" onMouseOver="hilite(93)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>) ? '.' : <a class="var it93" onMouseOver="hilite(93)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>;
<a name="l1186"><span class="linenum">1186</span></a>  
<a name="l1187"><span class="linenum">1187</span></a>  <span class="comment">    // Need to find where this belongs to.</span>
<a name="l1188"><span class="linenum">1188</span></a>      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l1189"><span class="linenum">1189</span></a>      if (<a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a> === <a class="constant" onClick="logConstant('ASSIGN_INTROATTACHMENT_FILEAREA')" href="../../_constants/ASSIGN_INTROATTACHMENT_FILEAREA.html" onMouseOver="constPopup(event,'ASSIGN_INTROATTACHMENT_FILEAREA')">ASSIGN_INTROATTACHMENT_FILEAREA</a>) {
<a name="l1190"><span class="linenum">1190</span></a>          if (!<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:managefiles', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l1191"><span class="linenum">1191</span></a>  <span class="comment">            // Students can not peak here!</span>
<a name="l1192"><span class="linenum">1192</span></a>              return null;
<a name="l1193"><span class="linenum">1193</span></a>          }
<a name="l1194"><span class="linenum">1194</span></a>          if (!(<a class="var it1219" onMouseOver="hilite(1219)" onMouseOut="lolite()" onClick="logVariable('storedfile')" href="../../_variables/storedfile.html">$storedfile</a> = <a class="var it586" onMouseOver="hilite(586)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a>-&gt;<a class="function" onClick="logFunction('get_file')" href="../../_functions/get_file.html" onMouseOver="funcPopup(event,'get_file')">get_file</a>(<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('get_context')" href="../../_functions/get_context.html" onMouseOver="funcPopup(event,'get_context')">get_context</a>()-&gt;id,
<a name="l1195"><span class="linenum">1195</span></a>                                            'mod_assign', <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>, 0, <a class="var it549" onMouseOver="hilite(549)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>, <a class="var it93" onMouseOver="hilite(93)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>))) {
<a name="l1196"><span class="linenum">1196</span></a>              return null;
<a name="l1197"><span class="linenum">1197</span></a>          }
<a name="l1198"><span class="linenum">1198</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('file_info_stored')" href="../../_classes/file_info_stored.html" onMouseOver="classPopup(event,'file_info_stored')">file_info_stored</a>(<a class="var it577" onMouseOver="hilite(577)" onMouseOut="lolite()" onClick="logVariable('browser')" href="../../_variables/browser.html">$browser</a>,
<a name="l1199"><span class="linenum">1199</span></a>                          <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('get_context')" href="../../_functions/get_context.html" onMouseOver="funcPopup(event,'get_context')">get_context</a>(),
<a name="l1200"><span class="linenum">1200</span></a>                          <a class="var it1219" onMouseOver="hilite(1219)" onMouseOut="lolite()" onClick="logVariable('storedfile')" href="../../_variables/storedfile.html">$storedfile</a>,
<a name="l1201"><span class="linenum">1201</span></a>                          <a class="var it1695" onMouseOver="hilite(1695)" onMouseOut="lolite()" onClick="logVariable('urlbase')" href="../../_variables/urlbase.html">$urlbase</a>,
<a name="l1202"><span class="linenum">1202</span></a>                          <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>,
<a name="l1203"><span class="linenum">1203</span></a>                          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a>,
<a name="l1204"><span class="linenum">1204</span></a>                          true,
<a name="l1205"><span class="linenum">1205</span></a>                          true,
<a name="l1206"><span class="linenum">1206</span></a>                          false);
<a name="l1207"><span class="linenum">1207</span></a>      }
<a name="l1208"><span class="linenum">1208</span></a>  
<a name="l1209"><span class="linenum">1209</span></a>      <a class="var it7077" onMouseOver="hilite(7077)" onMouseOut="lolite()" onClick="logVariable('pluginowner')" href="../../_variables/pluginowner.html">$pluginowner</a> = null;
<a name="l1210"><span class="linenum">1210</span></a>      foreach (<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('get_submission_plugins')" href="../../_functions/get_submission_plugins.html" onMouseOver="funcPopup(event,'get_submission_plugins')">get_submission_plugins</a>() as <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>) {
<a name="l1211"><span class="linenum">1211</span></a>          if (<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('is_visible')" href="../../_functions/is_visible.html" onMouseOver="funcPopup(event,'is_visible')">is_visible</a>()) {
<a name="l1212"><span class="linenum">1212</span></a>              <a class="var it7076" onMouseOver="hilite(7076)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a> = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('get_file_areas')" href="../../_functions/get_file_areas.html" onMouseOver="funcPopup(event,'get_file_areas')">get_file_areas</a>();
<a name="l1213"><span class="linenum">1213</span></a>  
<a name="l1214"><span class="linenum">1214</span></a>              if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>, <a class="var it7076" onMouseOver="hilite(7076)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a>)) {
<a name="l1215"><span class="linenum">1215</span></a>                  <a class="var it7077" onMouseOver="hilite(7077)" onMouseOut="lolite()" onClick="logVariable('pluginowner')" href="../../_variables/pluginowner.html">$pluginowner</a> = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>;
<a name="l1216"><span class="linenum">1216</span></a>                  break;
<a name="l1217"><span class="linenum">1217</span></a>              }
<a name="l1218"><span class="linenum">1218</span></a>          }
<a name="l1219"><span class="linenum">1219</span></a>      }
<a name="l1220"><span class="linenum">1220</span></a>      if (!<a class="var it7077" onMouseOver="hilite(7077)" onMouseOut="lolite()" onClick="logVariable('pluginowner')" href="../../_variables/pluginowner.html">$pluginowner</a>) {
<a name="l1221"><span class="linenum">1221</span></a>          foreach (<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('get_feedback_plugins')" href="../../_functions/get_feedback_plugins.html" onMouseOver="funcPopup(event,'get_feedback_plugins')">get_feedback_plugins</a>() as <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>) {
<a name="l1222"><span class="linenum">1222</span></a>              if (<a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('is_visible')" href="../../_functions/is_visible.html" onMouseOver="funcPopup(event,'is_visible')">is_visible</a>()) {
<a name="l1223"><span class="linenum">1223</span></a>                  <a class="var it7076" onMouseOver="hilite(7076)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a> = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('get_file_areas')" href="../../_functions/get_file_areas.html" onMouseOver="funcPopup(event,'get_file_areas')">get_file_areas</a>();
<a name="l1224"><span class="linenum">1224</span></a>  
<a name="l1225"><span class="linenum">1225</span></a>                  if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>, <a class="var it7076" onMouseOver="hilite(7076)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a>)) {
<a name="l1226"><span class="linenum">1226</span></a>                      <a class="var it7077" onMouseOver="hilite(7077)" onMouseOut="lolite()" onClick="logVariable('pluginowner')" href="../../_variables/pluginowner.html">$pluginowner</a> = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>;
<a name="l1227"><span class="linenum">1227</span></a>                      break;
<a name="l1228"><span class="linenum">1228</span></a>                  }
<a name="l1229"><span class="linenum">1229</span></a>              }
<a name="l1230"><span class="linenum">1230</span></a>          }
<a name="l1231"><span class="linenum">1231</span></a>      }
<a name="l1232"><span class="linenum">1232</span></a>  
<a name="l1233"><span class="linenum">1233</span></a>      if (!<a class="var it7077" onMouseOver="hilite(7077)" onMouseOut="lolite()" onClick="logVariable('pluginowner')" href="../../_variables/pluginowner.html">$pluginowner</a>) {
<a name="l1234"><span class="linenum">1234</span></a>          return null;
<a name="l1235"><span class="linenum">1235</span></a>      }
<a name="l1236"><span class="linenum">1236</span></a>  
<a name="l1237"><span class="linenum">1237</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="var it7077" onMouseOver="hilite(7077)" onMouseOut="lolite()" onClick="logVariable('pluginowner')" href="../../_variables/pluginowner.html">$pluginowner</a>-&gt;<a class="function" onClick="logFunction('get_file_info')" href="../../_functions/get_file_info.html" onMouseOver="funcPopup(event,'get_file_info')">get_file_info</a>(<a class="var it577" onMouseOver="hilite(577)" onMouseOut="lolite()" onClick="logVariable('browser')" href="../../_variables/browser.html">$browser</a>, <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a>, <a class="var it549" onMouseOver="hilite(549)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>, <a class="var it93" onMouseOver="hilite(93)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>);
<a name="l1238"><span class="linenum">1238</span></a>      return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l1239"><span class="linenum">1239</span></a>  }
<a name="l1240"><span class="linenum">1240</span></a>  
<a name="l1241"><span class="linenum">1241</span></a>  <span class="comment">/**</span>
<a name="l1242"><span class="linenum">1242</span></a>  <span class="comment"> * Prints the complete info about a user's interaction with an assignment.</span>
<a name="l1243"><span class="linenum">1243</span></a>  <span class="comment"> *</span>
<a name="l1244"><span class="linenum">1244</span></a>  <span class="comment"> * @param stdClass $course</span>
<a name="l1245"><span class="linenum">1245</span></a>  <span class="comment"> * @param stdClass $user</span>
<a name="l1246"><span class="linenum">1246</span></a>  <span class="comment"> * @param stdClass $coursemodule</span>
<a name="l1247"><span class="linenum">1247</span></a>  <span class="comment"> * @param stdClass $assign the database assign record</span>
<a name="l1248"><span class="linenum">1248</span></a>  <span class="comment"> *</span>
<a name="l1249"><span class="linenum">1249</span></a>  <span class="comment"> * This prints the submission summary and feedback summary for this student.</span>
<a name="l1250"><span class="linenum">1250</span></a>  <span class="comment"> */</span>
<a name="l1251"><span class="linenum">1251</span></a>  function <a class="function" onClick="logFunction('assign_user_complete')" href="../../_functions/assign_user_complete.html" onMouseOver="funcPopup(event,'assign_user_complete')">assign_user_complete</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>, <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>) {
<a name="l1252"><span class="linenum">1252</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1253"><span class="linenum">1253</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l1254"><span class="linenum">1254</span></a>  
<a name="l1255"><span class="linenum">1255</span></a>      <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('id')" class="var it39577" onMouseOver="hilite(39577)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1256"><span class="linenum">1256</span></a>  
<a name="l1257"><span class="linenum">1257</span></a>      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l1258"><span class="linenum">1258</span></a>  
<a name="l1259"><span class="linenum">1259</span></a>      echo <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('view_student_summary')" href="../../_functions/view_student_summary.html" onMouseOver="funcPopup(event,'view_student_summary')">view_student_summary</a>(<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, false);
<a name="l1260"><span class="linenum">1260</span></a>  }
<a name="l1261"><span class="linenum">1261</span></a>  
<a name="l1262"><span class="linenum">1262</span></a>  <span class="comment">/**</span>
<a name="l1263"><span class="linenum">1263</span></a>  <span class="comment"> * Print the grade information for the assignment for this user.</span>
<a name="l1264"><span class="linenum">1264</span></a>  <span class="comment"> *</span>
<a name="l1265"><span class="linenum">1265</span></a>  <span class="comment"> * @param stdClass $course</span>
<a name="l1266"><span class="linenum">1266</span></a>  <span class="comment"> * @param stdClass $user</span>
<a name="l1267"><span class="linenum">1267</span></a>  <span class="comment"> * @param stdClass $coursemodule</span>
<a name="l1268"><span class="linenum">1268</span></a>  <span class="comment"> * @param stdClass $assignment</span>
<a name="l1269"><span class="linenum">1269</span></a>  <span class="comment"> */</span>
<a name="l1270"><span class="linenum">1270</span></a>  function <a class="function" onClick="logFunction('assign_user_outline')" href="../../_functions/assign_user_outline.html" onMouseOver="funcPopup(event,'assign_user_outline')">assign_user_outline</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>, <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>) {
<a name="l1271"><span class="linenum">1271</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1272"><span class="linenum">1272</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>.'/gradelib.php');
<a name="l1273"><span class="linenum">1273</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../../grade/grading/lib.php.html">/grade/grading/lib.php</a>');
<a name="l1274"><span class="linenum">1274</span></a>  
<a name="l1275"><span class="linenum">1275</span></a>      <a class="var it5807" onMouseOver="hilite(5807)" onMouseOut="lolite()" onClick="logVariable('gradinginfo')" href="../../_variables/gradinginfo.html">$gradinginfo</a> = <a class="function" onClick="logFunction('grade_get_grades')" href="../../_functions/grade_get_grades.html" onMouseOver="funcPopup(event,'grade_get_grades')">grade_get_grades</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l1276"><span class="linenum">1276</span></a>                                          'mod',
<a name="l1277"><span class="linenum">1277</span></a>                                          'assign',
<a name="l1278"><span class="linenum">1278</span></a>                                          <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('id')" class="var it39649" onMouseOver="hilite(39649)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l1279"><span class="linenum">1279</span></a>                                          <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1280"><span class="linenum">1280</span></a>  
<a name="l1281"><span class="linenum">1281</span></a>      <a class="var it7078" onMouseOver="hilite(7078)" onMouseOut="lolite()" onClick="logVariable('gradingitem')" href="../../_variables/gradingitem.html">$gradingitem</a> = <a class="var it5807" onMouseOver="hilite(5807)" onMouseOut="lolite()" onClick="logVariable('gradinginfo')" href="../../_variables/gradinginfo.html">$gradinginfo</a>-&gt;<a onClick="logVariable('items')" class="var it40508" onMouseOver="hilite(40508)" onMouseOut="lolite()" href="../../_variables/items.html">items</a>[0];
<a name="l1282"><span class="linenum">1282</span></a>      <a class="var it7079" onMouseOver="hilite(7079)" onMouseOut="lolite()" onClick="logVariable('gradebookgrade')" href="../../_variables/gradebookgrade.html">$gradebookgrade</a> = <a class="var it7078" onMouseOver="hilite(7078)" onMouseOut="lolite()" onClick="logVariable('gradingitem')" href="../../_variables/gradingitem.html">$gradingitem</a>-&gt;<a onClick="logVariable('grades')" class="var it41160" onMouseOver="hilite(41160)" onMouseOut="lolite()" href="../../_variables/grades.html">grades</a>[<a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it39447" onMouseOver="hilite(39447)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>];
<a name="l1283"><span class="linenum">1283</span></a>  
<a name="l1284"><span class="linenum">1284</span></a>      if (empty(<a class="var it7079" onMouseOver="hilite(7079)" onMouseOut="lolite()" onClick="logVariable('gradebookgrade')" href="../../_variables/gradebookgrade.html">$gradebookgrade</a>-&gt;<a onClick="logVariable('str_long_grade')" class="var it41161" onMouseOver="hilite(41161)" onMouseOut="lolite()" href="../../_variables/str_long_grade.html">str_long_grade</a>)) {
<a name="l1285"><span class="linenum">1285</span></a>          return null;
<a name="l1286"><span class="linenum">1286</span></a>      }
<a name="l1287"><span class="linenum">1287</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = new stdClass();
<a name="l1288"><span class="linenum">1288</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('info')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../../_variables/info.html">info</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('outlinegrade', 'assign', <a class="var it7079" onMouseOver="hilite(7079)" onMouseOut="lolite()" onClick="logVariable('gradebookgrade')" href="../../_variables/gradebookgrade.html">$gradebookgrade</a>-&gt;<a onClick="logVariable('str_long_grade')" class="var it41161" onMouseOver="hilite(41161)" onMouseOut="lolite()" href="../../_variables/str_long_grade.html">str_long_grade</a>);
<a name="l1289"><span class="linenum">1289</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('time')" class="var it39442" onMouseOver="hilite(39442)" onMouseOut="lolite()" href="../../_variables/time.html">time</a> = <a class="var it7079" onMouseOver="hilite(7079)" onMouseOut="lolite()" onClick="logVariable('gradebookgrade')" href="../../_variables/gradebookgrade.html">$gradebookgrade</a>-&gt;<a onClick="logVariable('dategraded')" class="var it41161" onMouseOver="hilite(41161)" onMouseOut="lolite()" href="../../_variables/dategraded.html">dategraded</a>;
<a name="l1290"><span class="linenum">1290</span></a>  
<a name="l1291"><span class="linenum">1291</span></a>      return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l1292"><span class="linenum">1292</span></a>  }
<a name="l1293"><span class="linenum">1293</span></a>  
<a name="l1294"><span class="linenum">1294</span></a>  <span class="comment">/**</span>
<a name="l1295"><span class="linenum">1295</span></a>  <span class="comment"> * Obtains the automatic completion state for this module based on any conditions</span>
<a name="l1296"><span class="linenum">1296</span></a>  <span class="comment"> * in assign settings.</span>
<a name="l1297"><span class="linenum">1297</span></a>  <span class="comment"> *</span>
<a name="l1298"><span class="linenum">1298</span></a>  <span class="comment"> * @param object $course Course</span>
<a name="l1299"><span class="linenum">1299</span></a>  <span class="comment"> * @param object $cm Course-module</span>
<a name="l1300"><span class="linenum">1300</span></a>  <span class="comment"> * @param int $userid User ID</span>
<a name="l1301"><span class="linenum">1301</span></a>  <span class="comment"> * @param bool $type Type of comparison (or/and; can be used as return value if no conditions)</span>
<a name="l1302"><span class="linenum">1302</span></a>  <span class="comment"> * @return bool True if completed, false if not, $type if conditions not set.</span>
<a name="l1303"><span class="linenum">1303</span></a>  <span class="comment"> */</span>
<a name="l1304"><span class="linenum">1304</span></a>  function <a class="function" onClick="logFunction('assign_get_completion_state')" href="../../_functions/assign_get_completion_state.html" onMouseOver="funcPopup(event,'assign_get_completion_state')">assign_get_completion_state</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>) {
<a name="l1305"><span class="linenum">1305</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l1306"><span class="linenum">1306</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l1307"><span class="linenum">1307</span></a>  
<a name="l1308"><span class="linenum">1308</span></a>      <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(null, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l1309"><span class="linenum">1309</span></a>  
<a name="l1310"><span class="linenum">1310</span></a>  <span class="comment">    // If completion option is enabled, evaluate it and return true/false.</span>
<a name="l1311"><span class="linenum">1311</span></a>      if (<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>()-&gt;completionsubmit) {
<a name="l1312"><span class="linenum">1312</span></a>          <a class="var it4355" onMouseOver="hilite(4355)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a> = array('assignment'=&gt;<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>()-&gt;id, 'userid'=&gt;<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>);
<a name="l1313"><span class="linenum">1313</span></a>          <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('assign_submission', <a class="var it4355" onMouseOver="hilite(4355)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a>, '*', <a class="constant" onClick="logConstant('IGNORE_MISSING')" href="../../_constants/IGNORE_MISSING.html" onMouseOver="constPopup(event,'IGNORE_MISSING')">IGNORE_MISSING</a>);
<a name="l1314"><span class="linenum">1314</span></a>          return <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a> &amp;&amp; <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('status')" class="var it39626" onMouseOver="hilite(39626)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> == <a class="constant" onClick="logConstant('ASSIGN_SUBMISSION_STATUS_SUBMITTED')" href="../../_constants/ASSIGN_SUBMISSION_STATUS_SUBMITTED.html" onMouseOver="constPopup(event,'ASSIGN_SUBMISSION_STATUS_SUBMITTED')">ASSIGN_SUBMISSION_STATUS_SUBMITTED</a>;
<a name="l1315"><span class="linenum">1315</span></a>      } else {
<a name="l1316"><span class="linenum">1316</span></a>  <span class="comment">        // Completion option is not enabled so just return $type.</span>
<a name="l1317"><span class="linenum">1317</span></a>          return <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>;
<a name="l1318"><span class="linenum">1318</span></a>      }
<a name="l1319"><span class="linenum">1319</span></a>  }
<a name="l1320"><span class="linenum">1320</span></a>  
<a name="l1321"><span class="linenum">1321</span></a>  <span class="comment">/**</span>
<a name="l1322"><span class="linenum">1322</span></a>  <span class="comment"> * Serves intro attachment files.</span>
<a name="l1323"><span class="linenum">1323</span></a>  <span class="comment"> *</span>
<a name="l1324"><span class="linenum">1324</span></a>  <span class="comment"> * @param mixed $course course or id of the course</span>
<a name="l1325"><span class="linenum">1325</span></a>  <span class="comment"> * @param mixed $cm course module or id of the course module</span>
<a name="l1326"><span class="linenum">1326</span></a>  <span class="comment"> * @param context $context</span>
<a name="l1327"><span class="linenum">1327</span></a>  <span class="comment"> * @param string $filearea</span>
<a name="l1328"><span class="linenum">1328</span></a>  <span class="comment"> * @param array $args</span>
<a name="l1329"><span class="linenum">1329</span></a>  <span class="comment"> * @param bool $forcedownload</span>
<a name="l1330"><span class="linenum">1330</span></a>  <span class="comment"> * @param array $options additional options affecting the file serving</span>
<a name="l1331"><span class="linenum">1331</span></a>  <span class="comment"> * @return bool false if file not found, does not return if found - just send the file</span>
<a name="l1332"><span class="linenum">1332</span></a>  <span class="comment"> */</span>
<a name="l1333"><span class="linenum">1333</span></a>  function <a class="function" onClick="logFunction('assign_pluginfile')" href="../../_functions/assign_pluginfile.html" onMouseOver="funcPopup(event,'assign_pluginfile')">assign_pluginfile</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>,
<a name="l1334"><span class="linenum">1334</span></a>                  <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>,
<a name="l1335"><span class="linenum">1335</span></a>                  context <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>,
<a name="l1336"><span class="linenum">1336</span></a>                  <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>,
<a name="l1337"><span class="linenum">1337</span></a>                  <a class="var it626" onMouseOver="hilite(626)" onMouseOut="lolite()" onClick="logVariable('args')" href="../../_variables/args.html">$args</a>,
<a name="l1338"><span class="linenum">1338</span></a>                  <a class="var it713" onMouseOver="hilite(713)" onMouseOut="lolite()" onClick="logVariable('forcedownload')" href="../../_variables/forcedownload.html">$forcedownload</a>,
<a name="l1339"><span class="linenum">1339</span></a>                  array <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>=array()) {
<a name="l1340"><span class="linenum">1340</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1341"><span class="linenum">1341</span></a>  
<a name="l1342"><span class="linenum">1342</span></a>      if (<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_MODULE')" href="../../_constants/CONTEXT_MODULE.html" onMouseOver="constPopup(event,'CONTEXT_MODULE')">CONTEXT_MODULE</a>) {
<a name="l1343"><span class="linenum">1343</span></a>          return false;
<a name="l1344"><span class="linenum">1344</span></a>      }
<a name="l1345"><span class="linenum">1345</span></a>  
<a name="l1346"><span class="linenum">1346</span></a>      <a class="function" onClick="logFunction('require_login')" href="../../_functions/require_login.html" onMouseOver="funcPopup(event,'require_login')">require_login</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, false, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>);
<a name="l1347"><span class="linenum">1347</span></a>      if (!<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/assign:view', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l1348"><span class="linenum">1348</span></a>          return false;
<a name="l1349"><span class="linenum">1349</span></a>      }
<a name="l1350"><span class="linenum">1350</span></a>  
<a name="l1351"><span class="linenum">1351</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l1352"><span class="linenum">1352</span></a>      <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l1353"><span class="linenum">1353</span></a>  
<a name="l1354"><span class="linenum">1354</span></a>      if (<a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a> !== <a class="constant" onClick="logConstant('ASSIGN_INTROATTACHMENT_FILEAREA')" href="../../_constants/ASSIGN_INTROATTACHMENT_FILEAREA.html" onMouseOver="constPopup(event,'ASSIGN_INTROATTACHMENT_FILEAREA')">ASSIGN_INTROATTACHMENT_FILEAREA</a>) {
<a name="l1355"><span class="linenum">1355</span></a>          return false;
<a name="l1356"><span class="linenum">1356</span></a>      }
<a name="l1357"><span class="linenum">1357</span></a>      if (!<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('show_intro')" href="../../_functions/show_intro.html" onMouseOver="funcPopup(event,'show_intro')">show_intro</a>()) {
<a name="l1358"><span class="linenum">1358</span></a>          return false;
<a name="l1359"><span class="linenum">1359</span></a>      }
<a name="l1360"><span class="linenum">1360</span></a>  
<a name="l1361"><span class="linenum">1361</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a> = (int)<a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it626" onMouseOver="hilite(626)" onMouseOut="lolite()" onClick="logVariable('args')" href="../../_variables/args.html">$args</a>);
<a name="l1362"><span class="linenum">1362</span></a>      if (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a> != 0) {
<a name="l1363"><span class="linenum">1363</span></a>          return false;
<a name="l1364"><span class="linenum">1364</span></a>      }
<a name="l1365"><span class="linenum">1365</span></a>  
<a name="l1366"><span class="linenum">1366</span></a>      <a class="var it1175" onMouseOver="hilite(1175)" onMouseOut="lolite()" onClick="logVariable('relativepath')" href="../../_variables/relativepath.html">$relativepath</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('/', <a class="var it626" onMouseOver="hilite(626)" onMouseOut="lolite()" onClick="logVariable('args')" href="../../_variables/args.html">$args</a>);
<a name="l1367"><span class="linenum">1367</span></a>  
<a name="l1368"><span class="linenum">1368</span></a>      <a class="var it1176" onMouseOver="hilite(1176)" onMouseOut="lolite()" onClick="logVariable('fullpath')" href="../../_variables/fullpath.html">$fullpath</a> = &quot;/{<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>}/mod_assign/<a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>/<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a>/<a class="var it1175" onMouseOver="hilite(1175)" onMouseOut="lolite()" onClick="logVariable('relativepath')" href="../../_variables/relativepath.html">$relativepath</a>&quot;;
<a name="l1369"><span class="linenum">1369</span></a>  
<a name="l1370"><span class="linenum">1370</span></a>      <a class="var it586" onMouseOver="hilite(586)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a> = <a class="function" onClick="logFunction('get_file_storage')" href="../../_functions/get_file_storage.html" onMouseOver="funcPopup(event,'get_file_storage')">get_file_storage</a>();
<a name="l1371"><span class="linenum">1371</span></a>      if (!<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a> = <a class="var it586" onMouseOver="hilite(586)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a>-&gt;<a class="function" onClick="logFunction('get_file_by_hash')" href="../../_functions/get_file_by_hash.html" onMouseOver="funcPopup(event,'get_file_by_hash')">get_file_by_hash</a>(<a class="phpfunction" onClick="logFunction('sha1')" href="../../_functions/sha1.html" onMouseOver="phpfuncPopup(event,'sha1')">sha1</a>(<a class="var it1176" onMouseOver="hilite(1176)" onMouseOut="lolite()" onClick="logVariable('fullpath')" href="../../_variables/fullpath.html">$fullpath</a>)) or <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('is_directory')" href="../../_functions/is_directory.html" onMouseOver="funcPopup(event,'is_directory')">is_directory</a>()) {
<a name="l1372"><span class="linenum">1372</span></a>          return false;
<a name="l1373"><span class="linenum">1373</span></a>      }
<a name="l1374"><span class="linenum">1374</span></a>      <a class="function" onClick="logFunction('send_stored_file')" href="../../_functions/send_stored_file.html" onMouseOver="funcPopup(event,'send_stored_file')">send_stored_file</a>(<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>, 0, 0, <a class="var it713" onMouseOver="hilite(713)" onMouseOut="lolite()" onClick="logVariable('forcedownload')" href="../../_variables/forcedownload.html">$forcedownload</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>);
<a name="l1375"><span class="linenum">1375</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'assign_grading_areas_list': ['assign_grading_areas_list', 'Lists all gradable areas for the advanced grading methods gramework ', [['mod/assign','lib.php',183]], 0],
'assign_grade_item_update': ['assign_grade_item_update', 'Create grade item for given assignment. ', [['mod/assign','lib.php',1006]], 10],
'get_config': ['get_config', 'Get a configuration value for this plugin ', [['mod/assign','assignmentplugin.php',345],['lib/portfolio','plugin.php',546],['question/engine','bank.php',109],['lib','moodlelib.php',1404],['lib','enrollib.php',1141],['lib/editor/tinymce/classes','plugin.php',73],['admin/tool/log/classes/helper','store.php',63]], 847],
'show_intro': ['show_intro', 'Based on the current assignment settings should we display the intro. ', [['mod/assign','locallib.php',210]], 14],
'assign_reset_course_form_defaults': ['assign_reset_course_form_defaults', 'Course reset form defaults. ', [['mod/assign','lib.php',122]], 0],
'format_string': ['format_string', 'Given a simple string, this function returns the string processed by enabled string filters if $CFG->filterall is enabled ', [['lib','weblib.php',1318]], 854],
'addelement': ['addelement', 'Adds a custom element to your HTML definition ', [['lib/htmlpurifier/HTMLPurifier','HTMLDefinition.php',124],['lib/zend/Zend/Soap','Wsdl.php',641],['lib/htmlpurifier/HTMLPurifier','HTMLModule.php',130],['lib/pear/HTML','QuickForm.php',582]], 3296],
'update_instance': ['update_instance', 'Update this instance in the database. ', [['mod/assign','locallib.php',930]], 9],
'grade_get_grades': ['grade_get_grades', 'Returns grading information for given activity, optionally with user grades Manual, course or category items can not be queried. ', [['lib','gradelib.php',328]], 53],
'send_stored_file': ['send_stored_file', 'Handles the sending of file data to the user\'s browser, including support for byteranges etc. ', [['lib','filelib.php',2170]], 73],
'assign_reset_userdata': ['assign_reset_userdata', 'This function is used by the reset_course_userdata function in moodlelib. This function will remove all assignment submissions and feedbacks in the database and clean up any related data. ', [['mod/assign','lib.php',59]], 2],
'assign_get_file_info': ['assign_get_file_info', 'File browsing support for assign module. ', [['mod/assign','lib.php',1152]], 0],
'fullname': ['fullname', 'Returns a persons full name ', [['lib','moodlelib.php',3234],['mod/assign','locallib.php',3440]], 532],
'assign_page_type_list': ['assign_page_type_list', 'Return a list of page types ', [['mod/assign','lib.php',276]], 0],
'set_instance': ['set_instance', 'Set the submitted form data. ', [['mod/assign','locallib.php',237]], 1],
'assign_extend_settings_navigation': ['assign_extend_settings_navigation', 'extend an assigment navigation settings ', [['mod/assign','lib.php',193]], 0],
'assign_get_file_areas': ['assign_get_file_areas', 'List the file areas that can be browsed. ', [['mod/assign','lib.php',1115]], 0],
'require_login': ['require_login', 'This function checks that the current user is logged in and has the required privileges ', [['lib','moodlelib.php',2444]], 635],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',884],['lib','accesslib.php',346]], 1929],
'view_student_summary': ['view_student_summary', 'Print 2 tables of information with no action links - the submission summary and the grading summary. ', [['mod/assign','locallib.php',3885]], 43],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'assign_reset_gradebook': ['assign_reset_gradebook', 'Removes all grades from gradebook ', [['mod/assign','lib.php',90]], 1],
'get_recordset_sql': ['get_recordset_sql', 'Get a number of records as a moodle_recordset using a SQL statement. ', [['lib/dml','pgsql_native_moodle_database.php',688],['lib/dml','oci_native_moodle_database.php',1065],['lib/dml','sqlsrv_native_moodle_database.php',761],['lib/dml','mssql_native_moodle_database.php',687],['lib/dml','mysqli_native_moodle_database.php',985],['lib/dml/tests','dml_test.php',5423],['lib/dml','pdo_moodle_database.php',251]], 279],
'get_cm': ['get_cm', 'Obtains a single course-module object (for a course-module that is on this course). ', [['lib','modinfolib.php',222],['mod/quiz','attemptlib.php',215],['mod/quiz','attemptlib.php',701],['comment','lib.php',1006]], 96],
'delete_instance': ['delete_instance', 'The assignment has been deleted - remove the plugin specific data ', [['mod/assign','assignmentplugin.php',525],['mod/workshop/allocation/random','lib.php',243],['mod/assign/submission/file','locallib.php',447],['mod/assign/submission/onlinetext','locallib.php',538],['mod/workshop/form/accumulative','lib.php',375],['mod/workshop/form/rubric','lib.php',405],['mod/workshop/form/numerrors','lib.php',394],['lib','enrollib.php',1737],['mod/assign','locallib.php',677],['mod/workshop/form','lib.php',118],['mod/workshop/allocation/scheduled','lib.php',200],['mod/assign/feedback/editpdf','locallib.php',260],['mod/workshop/form/comments','lib.php',360],['mod/assign/feedback/file','locallib.php',256],['lib','accesslib.php',6060],['mod/workshop/eval','lib.php',59],['mod/workshop/allocation/manual','lib.php',349],['mod/assign/feedback/comments','locallib.php',458],['mod/workshop/eval/best','lib.php',125],['mod/workshop/allocation','lib.php',62]], 35],
'assign_get_view_actions': ['assign_get_view_actions', 'List the actions that correspond to a view of this module. This is used by the participation report. ', [['mod/assign','lib.php',934]], 0],
'userdate': ['userdate', 'Also in ADORecordSet. ', [['lib/adodb','adodb.inc.php',2607],['lib/adodb','adodb.inc.php',3271],['lib','moodlelib.php',2150]], 496],
'has_any_capability': ['has_any_capability', 'Check if the user has any one of several capabilities from a list. ', [['lib','accesslib.php',498]], 56],
'assign_get_post_actions': ['assign_get_post_actions', 'List the actions that correspond to a post of this module. This is used by the participation report. ', [['mod/assign','lib.php',948]], 0],
'assign_scale_used_anywhere': ['assign_scale_used_anywhere', 'Checks if scale is being used by any instance of assignment ', [['mod/assign','lib.php',917]], 0],
'assign_delete_instance': ['assign_delete_instance', 'delete an assignment instance ', [['mod/assign','lib.php',44]], 0],
'get_file_info': ['get_file_info', 'Return information about this specific context level ', [['lib/filebrowser','file_info_context_course.php',51],['mod/assign','assignmentplugin.php',558],['lib/filebrowser','file_info_context_system.php',47],['lib/filebrowser','file_info_context_coursecat.php',51],['lib/filebrowser','file_info_context_module.php',81],['lib','boxlib.php',85],['lib','boxlib.php',435],['lib/filebrowser','file_browser.php',63],['lib/filebrowser','file_info_context_user.php',51]], 80],
'assign_print_overview': ['assign_print_overview', 'Print an overview of all assignments for the courses. ', [['mod/assign','lib.php',290]], 7],
'is_gradebook_feedback_enabled': ['is_gradebook_feedback_enabled', 'Returns true if gradebook feedback plugin is enabled ', [['mod/assign','locallib.php',7318]], 5],
'assign_update_grades': ['assign_update_grades', 'Update activity grades. ', [['mod/assign','lib.php',1088]], 1],
'user_picture': ['user_picture', '', [['mod/quiz','attemptlib.php',2188],['lib','outputrenderers.php',2367],['lib','outputrenderers.php',4702]], 114],
'get_record': ['get_record', 'Get a single database record as an object where all the given conditions met. ', [['lib/dml','moodle_database.php',1413]], 2960],
'record_exists': ['record_exists', 'Test whether a record exists in a table where all the given conditions met. ', [['lib/dml','moodle_database.php',1768]], 735],
'cron': ['cron', 'The method being run via cron.php ', [['lib/classes/update','checker.php',189],['mod/assign','assignmentplugin.php',534],['completion/criteria','completion_criteria_grade.php',176],['repository/dropbox','lib.php',704],['question/engine','bank.php',415],['enrol/category','lib.php',77],['completion/criteria','completion_criteria_activity.php',197],['completion/criteria','completion_criteria_course.php',152],['enrol/cohort','lib.php',136],['lib','enrollib.php',1849],['enrol/paypal','lib.php',310],['mod/assign','locallib.php',1695],['enrol/manual','lib.php',285],['auth/mnet','auth.php',822],['lib/filestorage','file_storage.php',2200],['enrol/imsenterprise','lib.php',67],['repository','lib.php',2407],['enrol/flatfile','lib.php',164],['completion/criteria','completion_criteria_date.php',144],['cache/classes','helper.php',659],['blocks/recent_activity','block_recent_activity.php',231],['enrol/meta','lib.php',146],['admin/registration','lib.php',50],['enrol/self','lib.php',456],['completion/criteria','completion_criteria_duration.php',197],['blocks/rss_client','block_rss_client.php',277]], 41],
'assign_get_user_grades': ['assign_get_user_grades', 'Return grade for given user or all users. ', [['mod/assign','lib.php',1069]], 1],
'get_instance': ['get_instance', 'Returns the object of type gradingform_XXX_instance (where XXX is the plugin method name) ', [['grade/grading/form','lib.php',474],['blog','locallib.php',859],['question/engine','bank.php',445],['mod/assign','locallib.php',1164],['backup/util/helper','restore_logs_processor.class.php',69],['repository','lib.php',1135],['mnet/service/enrol','locallib.php',57],['lib','externallib.php',794],['backup/util/output','output_controller.class.php',53]], 393],
'assign_pluginfile': ['assign_pluginfile', 'Serves intro attachment files. ', [['mod/assign','lib.php',1321]], 0],
'get_feedback_plugins': ['get_feedback_plugins', 'Get list of feedback plugins installed. ', [['mod/assign','locallib.php',264]], 19],
'print_recent_activity_note': ['print_recent_activity_note', 'Display a recent activity note ', [['lib','weblib.php',2286]], 5],
'reset_userdata': ['reset_userdata', 'Actual implementation of the reset course functionality, delete all the assignment submissions for course $data->courseid. ', [['mod/assign','locallib.php',723],['mod/workshop','locallib.php',2392]], 8],
'assign_scale_used': ['assign_scale_used', 'Checks if a scale is being used by an assignment. ', [['mod/assign','lib.php',896]], 0],
'grade_update': ['grade_update', 'Submit new or update grade; update/create grade_item definition. Grade must have userid specified, rawgrade and feedback with format are optional. rawgrade NULL means \'Not graded\'. Missing property or key means does not change the existing value. ', [['lib','gradelib.php',40]], 27],
'assign_supports': ['assign_supports', 'Return the list if Moodle features this module supports ', [['mod/assign','lib.php',147]], 0],
'assign_print_recent_activity': ['assign_print_recent_activity', 'Print recent activity from all assignments in a given course ', [['mod/assign','lib.php',586]], 2],
'assign_user_outline': ['assign_user_outline', 'Print the grade information for the assignment for this user. ', [['mod/assign','lib.php',1262]], 1],
'add': ['add', '', [['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',454],['blog','locallib.php',242],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',11],['lib/htmlpurifier/HTMLPurifier','IDAccumulator.php',31],['lib/xhprof/xhprof_html/jquery','jquery.autocomplete.js',428],['backup/cc','validator.php',51],['lib/google/src/Google/Http','Batch.php',47],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',37],['lib/horde/framework/Horde/Support','ConsistentHash.php',148],['lib/horde/framework/Horde/Imap/Client','Ids.php',155],['lib/zend/Zend/Service/Simpy','WatchlistFilterSet.php',47],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',109],['lib/lessphp/Output','Mapped.php',50],['lib/horde/framework/Horde/Stream','TempString.php',118],['lib','licenselib.php',32],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',207],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',29],['lib/horde/framework/Horde/Mail/Rfc822','List.php',116],['lib/xhprof/xhprof_html/jquery','jquery-1.2.6.js',3450],['lib/google/src/Google/Service','Webmasters.php',375],['lib/horde/framework/Horde','Variables.php',297],['lib','outputcomponents.php',2700],['lib','outputcomponents.php',3375],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',14],['lib/zend/Zend','Date.php',1081],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',33],['comment','lib.php',675],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',86],['lib/horde/framework/Horde','Stream.php',116],['backup/cc/cc_lib/gral_lib','cssparser.php',111],['lib/lessphp','Output.php',18],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',50],['lib','adminlib.php',736],['lib','adminlib.php',895],['lib','adminlib.php',1447],['lib','csslib.php',1508],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',95],['lib','navigationlib.php',302],['lib','navigationlib.php',758],['lib','navigationlib.php',3288],['lib','navigationlib.php',3542],['lib/phpexcel/PHPExcel','HashTable.php',85],['lib/mustache/src/Mustache','HelperCollection.php',56],['lib/horde/framework/Horde/Mail/Rfc822','GroupList.php',25],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',27],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',80],['backup/cc/cc_lib','cc_utils.php',395],['backup/cc/cc_lib','cc_utils.php',454]], 5988],
'assign_get_extra_capabilities': ['assign_get_extra_capabilities', 'Returns all other capabilities used by this module. ', [['mod/assign','lib.php',995]], 0],
'assign_get_grade_details_for_print_overview': ['assign_get_grade_details_for_print_overview', 'This api generates html to be displayed to teachers in print overview section, related to the grading status of the given assignment\'s submissions. ', [['mod/assign','lib.php',516]], 1],
'get_fast_modinfo': ['get_fast_modinfo', 'Returns reference to full info about modules in course (including visibility). Cached and as fast as possible (0 or 1 db query). ', [['lib','modinfolib.php',2001]], 277],
'add_instance': ['add_instance', 'Add new instance of enrol plugin. ', [['enrol/guest','lib.php',345],['lib','enrollib.php',1670],['mod/assign','locallib.php',562],['enrol/manual','lib.php',174]], 76],
'pix_url': ['pix_url', 'Return the URL for an image ', [['lib','outputlib.php',1356],['lib','outputrenderers.php',234]], 406],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 1891],
'get_all_instances_in_courses': ['get_all_instances_in_courses', 'Returns an array of all the active instances of a particular module in given courses, sorted in the order they are defined ', [['lib','datalib.php',1413]], 13],
'get_coursemodule_from_instance': ['get_coursemodule_from_instance', 'Given an instance number of a module, finds the coursemodule description ', [['lib','datalib.php',1331]], 365],
'assign_get_coursemodule_info': ['assign_get_coursemodule_info', 'Add a get_coursemodule_info function in case any assignment type wants to add \'extra\' information for the course (see resource). ', [['mod/assign','lib.php',245]], 1],
'isguestuser': ['isguestuser', 'Determines if a user is logged in as real guest user with username \'guest\'. ', [['lib','accesslib.php',1922]], 237],
'assign_get_mysubmission_details_for_print_overview': ['assign_get_mysubmission_details_for_print_overview', 'This api generates html to be displayed to students in print overview section, related to their submission status of the given assignment. ', [['mod/assign','lib.php',430]], 1],
'instance': ['instance', 'Retrieve sole instance of the registry. ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29],['lib/classes','useragent.php',101],['backup/cc','validator.php',35],['lib/portfolio','exporter.php',251],['lib/tests','update_deployer_test.php',69],['lib/tests','string_manager_standard_test.php',124],['lib','modinfolib.php',373],['','mdeploy.php',96],['cache','disabledlib.php',171],['cache','disabledlib.php',296],['admin/tool/installaddon/classes','validator.php',85],['cache/classes','config.php',87],['course/format','lib.php',156],['lib','accesslib.php',6184],['lib','accesslib.php',6436],['lib','accesslib.php',6614],['lib','accesslib.php',6868],['lib','accesslib.php',7129],['lib','accesslib.php',7341],['cache','locallib.php',52],['lib/htmlpurifier','HTMLPurifier.php',251],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['cache/classes','helper.php',76],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['lib/classes','plugin_manager.php',83],['lib','filterlib.php',81],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/classes/update','deployer.php',54],['admin/tool/installaddon/classes','pluginfo_client.php',37],['admin/tool/installaddon/classes','installer.php',40],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443]], 3942],
'get_records_sql': ['get_records_sql', 'Get a number of records as an array of objects using a SQL statement. ', [['lib/dml','pgsql_native_moodle_database.php',732],['lib/dml','oci_native_moodle_database.php',1102],['lib/dml','sqlsrv_native_moodle_database.php',823],['lib/dml','mssql_native_moodle_database.php',741],['lib/dml','mysqli_native_moodle_database.php',1049],['lib/dml/tests','dml_test.php',5424],['lib/dml','pdo_moodle_database.php',308]], 678],
'assign_user_complete': ['assign_user_complete', 'Prints the complete info about a user\'s interaction with an assignment. ', [['mod/assign','lib.php',1241]], 1],
'assign_print_recent_mod_activity': ['assign_print_recent_mod_activity', 'Print recent activity from all assignments in a given course ', [['mod/assign','lib.php',852]], 0],
'format_module_intro': ['format_module_intro', 'Formats activity intro text ', [['lib','weblib.php',1473]], 57],
'assign_reset_course_form_definition': ['assign_reset_course_form_definition', 'Implementation of the function for printing the form elements that control whether the course reset functionality affects the assignment. ', [['mod/assign','lib.php',111]], 0],
'fields': ['fields', 'Get the value of a field in the current row by column name. Will not work if ADODB_FETCH_MODE is set to ADODB_FETCH_NUM. ', [['lib/adodb','adodb.inc.php',3469],['lib/adodb','adodb.inc.php',4073],['lib/adodb/drivers','adodb-odbtp.inc.php',718],['lib/adodb/drivers','adodb-sqlite.inc.php',369],['lib/adodb/drivers','adodb-pdo.inc.php',611],['lib/adodb/drivers','adodb-mysqli.inc.php',963],['lib/adodb/drivers','adodb-mssql.inc.php',904],['mod/quiz/classes','admin_review_setting.php',65],['lib/adodb/drivers','adodb-postgres64.inc.php',951],['lib/adodb/drivers','adodb-oracle.inc.php',265],['lib/adodb/drivers','adodb-ado.inc.php',373],['lib','outputcomponents.php',235],['lib/adodb/drivers','adodb-ado5.inc.php',410],['lib/adodb/drivers','adodb-db2.inc.php',754],['lib/adodb/drivers','adodb-sqlite3.inc.php',399],['lib/adodb/drivers','adodb-mssqlnative.inc.php',888],['lib/adodb/drivers','adodb-ibase.inc.php',833],['lib/adodb/drivers','adodb-oci8po.inc.php',91],['lib/adodb/drivers','adodb-ads.inc.php',690],['lib/adodb/drivers','adodb-odbc.inc.php',642],['lib/adodb/drivers','adodb-mysql.inc.php',764],['lib/adodb/drivers','adodb-oci8.inc.php',1549]], 145],
'assign_update_instance': ['assign_update_instance', 'Update an assignment instance ', [['mod/assign','lib.php',131]], 0],
'heading': ['heading', 'Get the heading for this page. ', [['grade/report/singleview/classes/local/screen','grade.php',283],['grade/report/singleview/classes/local/screen','user.php',281],['lib','outputrenderers.php',2957],['lib','outputrenderers.php',4080],['lib','outputrenderers.php',4254],['grade/report/singleview/classes/local/screen','screen.php',197]], 763],
'assign_add_instance': ['assign_add_instance', 'Adds an assignment instance ', [['mod/assign','lib.php',28]], 0],
'get_plugin_list': ['get_plugin_list', 'Get list of plugins of given type. ', [['lib/classes','component.php',781],['lib','deprecatedlib.php',467],['admin/tool/monitor/classes','eventlist.php',176]], 184],
'close': ['close', 'Close the connection to the server ', [['lib/zend/Zend/Http/Client/Adapter','Socket.php',486],['lib/tests','completionlib_test.php',888],['lib/adodb','adodb.inc.php',2164],['lib/adodb','adodb.inc.php',2844],['lib/adodb','adodb.inc.php',3536],['lib','webdavlib.php',176],['admin/tool/uploaduser','locallib.php',149],['lib/dml','oci_native_moodle_recordset.php',80],['lib/tcpdf','tcpdf.php',2943],['lib/horde/framework/Horde/Imap/Client','Base.php',1846],['lib','excellib.class.php',93],['lib/zend/Zend/Http/Client/Adapter','Test.php',187],['lib/classes/dml','recordset_walk.php',153],['mod/assign/feedback/offline','importgradeslib.php',178],['lib/pear/Net','GeoIP.php',556],['backup/util/helper','backup_array_iterator.class.php',63],['lib/zend/Zend/Gdata/App','LoggingHttpClientAdapterSocket.php',109],['lib/zend/Zend/Http/Client/Adapter','Proxy.php',266],['lib/dml','mssql_native_moodle_recordset.php',87],['lib/pear/Auth','RADIUS.php',542],['lib/pear/Auth','RADIUS.php',703],['lib/pear/Auth','RADIUS.php',824],['lib/phpmailer','class.smtp.php',507],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',80],['lib/phpunit/classes','event_sink.php',39],['lib/zend/Zend/Http/Client/Adapter','Interface.php',73],['lib/dml','pgsql_native_moodle_recordset.php',104],['auth/fc','fcFPP.php',72],['lib/filestorage','zip_archive.php',183],['lib','odslib.class.php',71],['lib/horde/framework/Horde/Socket','Client.php',135],['question/engine/tests','helpers.php',1225],['grade','lib.php',323],['lib/dml','mysqli_native_moodle_recordset.php',86],['lib','csvlib.class.php',256],['lib/google/src/Google/Logger','File.php',130],['lib/horde/framework/Horde','Stream.php',585],['lib/phpunit/classes','phpmailer_sink.php',41],['lib/phpunit/classes','message_sink.php',39],['lib/zend/Zend/Http/Client/Adapter','Curl.php',460],['lib/dml','sqlsrv_native_moodle_recordset.php',133],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',109],['backup/util/helper','backup_null_iterator.class.php',53],['grade/export','lib.php',662],['lib/dml','pdo_moodle_recordset.php',79]], 1036],
'groups_get_all_groups': ['groups_get_all_groups', 'Gets array of all groups in a specified course. ', [['lib','grouplib.php',189]], 104],
'get_user_grades_for_gradebook': ['get_user_grades_for_gradebook', 'Get an upto date list of user grades and feedback for the gradebook. ', [['mod/assign','locallib.php',7081]], 9],
'is_directory': ['is_directory', 'Whether or not this is a directory ', [['lib/filebrowser','file_info_context_course.php',372],['lib/filebrowser','file_info_context_course.php',657],['lib/filebrowser','file_info_context_course.php',803],['lib/filebrowser','file_info_context_system.php',83],['mod/book','locallib.php',454],['lib/filebrowser','file_info_context_coursecat.php',143],['mod/forum','locallib.php',463],['lib/filebrowser','file_info_context_module.php',249],['lib/filebrowser','file_info_context_user.php',265],['mod/data','locallib.php',475],['mod/workshop','fileinfolib.php',82],['mod/workshop','fileinfolib.php',241],['mod/imscp','locallib.php',328],['mod/lesson/classes','file_info.php',94],['mod/glossary','locallib.php',525],['lib/filestorage','stored_file.php',310],['lib/filebrowser','virtual_root_file.php',60],['lib/filebrowser','file_info_stored.php',267]], 131],
'groups_get_activity_groupmode': ['groups_get_activity_groupmode', 'Returns effective groupmode used in activity, course setting overrides activity setting if groupmodeforce enabled. ', [['lib','grouplib.php',468]], 133],
'get_in_or_equal': ['get_in_or_equal', 'Constructs \'IN()\' or \'=\' sql fragment ', [['lib/dml','oci_native_moodle_database.php',1583],['lib/dml','moodle_database.php',678]], 375],
'assign_get_completion_state': ['assign_get_completion_state', 'Obtains the automatic completion state for this module based on any conditions in assign settings. ', [['mod/assign','lib.php',1294]], 2],
'get_file_by_hash': ['get_file_by_hash', 'Fetch file using local file full pathname hash ', [['lib/filestorage','file_storage.php',427]], 75],
'get_file': ['get_file', 'Return file path. ', [['repository/filesystem','lib.php',183],['repository/flickr_public','lib.php',453],['repository/boxnet','lib.php',179],['lib','webdavlib.php',391],['repository/dropbox','lib.php',410],['mod/data/field/picture','field.class.php',124],['repository/s3','lib.php',201],['lib/filestorage','file_storage.php',448],['repository/skydrive','lib.php',130],['repository/webdav','lib.php',73],['repository/dropbox','locallib.php',114],['repository','lib.php',1701],['repository/flickr','lib.php',277],['repository/googledocs','lib.php',408],['lib','externallib.php',870],['mod/data/field/file','field.class.php',121],['repository/equella','lib.php',166],['repository/alfresco','lib.php',195]], 162],
'get_submission_plugins': ['get_submission_plugins', 'Get list of submission plugins installed. ', [['mod/assign','locallib.php',273]], 24],
'is_visible': ['is_visible', 'Is this plugin enaled? ', [['mod/assign','assignmentplugin.php',287],['repository/coursefiles','lib.php',167],['user/profile','lib.php',312],['repository','lib.php',1829],['backup/cc/cc_lib','cc_converters.php',113]], 56],
'get_cms': ['get_cms', '', [['lib','modinfolib.php',218]], 32],
'get_groups': ['get_groups', 'Returns groups that the current user belongs to on the course. Note: If not already available, this may make a database query. ', [['lib','modinfolib.php',289],['group','externallib.php',155],['group','externallib.php',1338]], 30],
'assign_get_recent_mod_activity': ['assign_get_recent_mod_activity', 'Returns all assignments since a given time. ', [['mod/assign','lib.php',695]], 1],
'get_field': ['get_field', 'Get the right field name to fetch a stat for these attempts that is calculated for more than one $whichattempts (count or avg). ', [['mod/quiz/report/statistics/classes','calculated.php',109],['lib/dml','moodle_database.php',1497],['user/filters','lib.php',124],['lib/behat','behat_field_manager.php',243]], 485],
'get_enrolled_users': ['get_enrolled_users', 'Returns list of users enrolled into course. ', [['lib','accesslib.php',2438],['enrol','externallib.php',390],['enrol','externallib.php',821]], 51],
'get_context': ['get_context', '', [['availability/classes','info_module.php',72],['grade/grading/form','lib.php',102],['availability/tests/fixtures','mock_info.php',59],['lib/classes/event','base.php',544],['lib','modinfolib.php',1501],['mod/assign','locallib.php',1247],['enrol','locallib.php',906],['lib/tests/behat','behat_data_generators.php',718],['mod/quiz','attemptlib.php',220],['comment','lib.php',990],['availability/classes','info_section.php',55],['grade/grading','lib.php',107],['lib','badgeslib.php',157],['lib','coursecatlib.php',2255],['lib','coursecatlib.php',2951]], 676],
'get_file_storage': ['get_file_storage', 'Returns local file storage instance ', [['lib','moodlelib.php',5950]], 486],
'get_file_areas': ['get_file_areas', 'Get file areas returns a list of areas this plugin stores files ', [['mod/assign','assignmentplugin.php',549],['mod/assign/submission/file','locallib.php',482],['mod/assign/submission/onlinetext','locallib.php',563],['mod/assign/feedback/file','locallib.php',279]], 7],
'assign_cron': ['assign_cron', 'Call cron on the assign module. ', [['mod/assign','lib.php',962]], 0],
'explode': ['explode', '', [], 1599],
'is_array': ['is_array', '', [], 1820],
'count': ['count', '', [], 3984],
'in_array': ['in_array', '', [], 1173],
'time': ['time', '', [], 1768],
'array_shift': ['array_shift', '', [], 607],
'implode': ['implode', '', [], 1259],
'array_key_exists': ['array_key_exists', '', [], 1539],
'is_null': ['is_null', '', [], 1992],
'sha1': ['sha1', '', [], 188],
'array_keys': ['array_keys', '', [], 1152],
'array_merge': ['array_merge', '', [], 2320],
'array_intersect': ['array_intersect', '', [], 51],
'defined': ['defined', '', [], 4098]};
CLASS_DATA={
'assign': ['assign', 'Standard base class for mod_assign (assignment types). ', [['mod/assign','locallib.php',80]], 76],
'cached_cm_info': ['cached_cm_info', 'Class that is the return value for the _get_coursemodule_info module API function. ', [['lib','modinfolib.php',2289]], 7],
'file_info_stored': ['file_info_stored', 'Represents an actual file or folder - a row in the file table in the tree navigated by {@link file_browser}. ', [['lib/filebrowser','file_info_stored.php',28]], 32],
'navigation_node': ['navigation_node', 'This class is used to represent a node in a navigation tree ', [['lib','navigationlib.php',34]], 338],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',240]], 2887],
'user_picture': ['user_picture', 'Data structure representing a user picture. ', [['lib','outputcomponents.php',142]], 135],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',6988]], 942],
'core_component': ['core_component', 'Collection of components related methods. ', [['lib/classes','component.php',41]], 485]};
CONST_DATA={
'FEATURE_MOD_INTRO': ['FEATURE_MOD_INTRO', '', [['lib','moodlelib.php',426]], 31],
'FEATURE_PLAGIARISM': ['FEATURE_PLAGIARISM', '', [['lib','moodlelib.php',402]], 4],
'CONTEXT_MODULE': ['CONTEXT_MODULE', '', [['lib','accesslib.php',150]], 462],
'IGNORE_MISSING': ['IGNORE_MISSING', '', [['lib','dmllib.php',48]], 204],
'FEATURE_COMPLETION_HAS_RULES': ['FEATURE_COMPLETION_HAS_RULES', '', [['lib','moodlelib.php',407]], 11],
'ASSIGN_GRADING_STATUS_NOT_GRADED': ['ASSIGN_GRADING_STATUS_NOT_GRADED', '', [['mod/assign','locallib.php',54]], 4],
'ASSIGN_SUBMISSION_STATUS_SUBMITTED': ['ASSIGN_SUBMISSION_STATUS_SUBMITTED', '', [['mod/assign','locallib.php',33]], 65],
'FEATURE_GRADE_HAS_GRADE': ['FEATURE_GRADE_HAS_GRADE', '', [['lib','moodlelib.php',394]], 29],
'ASSIGN_GRADING_STATUS_GRADED': ['ASSIGN_GRADING_STATUS_GRADED', '', [['mod/assign','locallib.php',53]], 5],
'FEATURE_SHOW_DESCRIPTION': ['FEATURE_SHOW_DESCRIPTION', '', [['lib','moodlelib.php',437]], 22],
'FEATURE_GRADE_OUTCOMES': ['FEATURE_GRADE_OUTCOMES', '', [['lib','moodlelib.php',396]], 23],
'ASSIGN_SUBMISSION_STATUS_DRAFT': ['ASSIGN_SUBMISSION_STATUS_DRAFT', '', [['mod/assign','locallib.php',32]], 17],
'GRADE_TYPE_NONE': ['GRADE_TYPE_NONE', '', [['lib/grade','constants.php',80]], 41],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1252],
'GRADE_TYPE_SCALE': ['GRADE_TYPE_SCALE', '', [['lib/grade','constants.php',90]], 63],
'FEATURE_BACKUP_MOODLE2': ['FEATURE_BACKUP_MOODLE2', '', [['lib','moodlelib.php',434]], 34],
'ASSIGN_INTROATTACHMENT_FILEAREA': ['ASSIGN_INTROATTACHMENT_FILEAREA', '', [['mod/assign','locallib.php',65]], 12],
'FEATURE_COMPLETION_TRACKS_VIEWS': ['FEATURE_COMPLETION_TRACKS_VIEWS', '', [['lib','moodlelib.php',405]], 23],
'FEATURE_GROUPS': ['FEATURE_GROUPS', '', [['lib','moodlelib.php',414]], 25],
'GRADE_TYPE_VALUE': ['GRADE_TYPE_VALUE', '', [['lib/grade','constants.php',85]], 71],
'GRADE_TYPE_TEXT': ['GRADE_TYPE_TEXT', '', [['lib/grade','constants.php',95]], 25],
'FEATURE_ADVANCED_GRADING': ['FEATURE_ADVANCED_GRADING', '', [['lib','moodlelib.php',398]], 9],
'ASSIGN_MARKING_WORKFLOW_STATE_NOTMARKED': ['ASSIGN_MARKING_WORKFLOW_STATE_NOTMARKED', '', [['mod/assign','locallib.php',57]], 10],
'ASSIGN_SUBMISSION_STATUS_NEW': ['ASSIGN_SUBMISSION_STATUS_NEW', '', [['mod/assign','locallib.php',30]], 12],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532],
'SEPARATEGROUPS': ['SEPARATEGROUPS', '', [['lib','grouplib.php',34]], 158],
'FEATURE_GROUPINGS': ['FEATURE_GROUPINGS', '', [['lib','moodlelib.php',416]], 23]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
