<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/assign/lib.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='mod/assign';
filename='lib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/assign/</a> -> <a href="lib.php.html">lib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="lib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="lib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * This file contains the moodle hooks for the assign module.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * It delegates most functions to the assignment class.</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> *</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @package   mod_assign</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @copyright 2012 NetSpot {@link http://www.netspot.com.au}</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> */</span>
<a name="l26"><span class="linenum">  26</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">/**</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> * Adds an assignment instance</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> *</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * This is done by calling the add_instance() method of the assignment type class</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * @param stdClass $data</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * @param mod_assign_mod_form $form</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * @return int The instance id of the new assignment</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> */</span>
<a name="l36"><span class="linenum">  36</span></a>  function <a class="function" onClick="logFunction('assign_add_instance')" href="../../_functions/assign_add_instance.html" onMouseOver="funcPopup(event,'assign_add_instance')">assign_add_instance</a>(stdClass <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>, mod_assign_mod_form <a class="var it371" onMouseOver="hilite(371)" onMouseOut="lolite()" onClick="logVariable('form')" href="../../_variables/form.html">$form</a> = null) {
<a name="l37"><span class="linenum">  37</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l38"><span class="linenum">  38</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l39"><span class="linenum">  39</span></a>  
<a name="l40"><span class="linenum">  40</span></a>      <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../_variables/coursemodule.html">coursemodule</a>), null, null);
<a name="l41"><span class="linenum">  41</span></a>      return <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('add_instance')" href="../../_functions/add_instance.html" onMouseOver="funcPopup(event,'add_instance')">add_instance</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>, true);
<a name="l42"><span class="linenum">  42</span></a>  }
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">/**</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment"> * delete an assignment instance</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment"> * @param int $id</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment"> * @return bool</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment"> */</span>
<a name="l49"><span class="linenum">  49</span></a>  function <a class="function" onClick="logFunction('assign_delete_instance')" href="../../_functions/assign_delete_instance.html" onMouseOver="funcPopup(event,'assign_delete_instance')">assign_delete_instance</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>) {
<a name="l50"><span class="linenum">  50</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l51"><span class="linenum">  51</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l52"><span class="linenum">  52</span></a>      <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>, 0, false, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l53"><span class="linenum">  53</span></a>      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l54"><span class="linenum">  54</span></a>  
<a name="l55"><span class="linenum">  55</span></a>      <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, null, null);
<a name="l56"><span class="linenum">  56</span></a>      return <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('delete_instance')" href="../../_functions/delete_instance.html" onMouseOver="funcPopup(event,'delete_instance')">delete_instance</a>();
<a name="l57"><span class="linenum">  57</span></a>  }
<a name="l58"><span class="linenum">  58</span></a>  
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">/**</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment"> * This function is used by the reset_course_userdata function in moodlelib.</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment"> * This function will remove all assignment submissions and feedbacks in the database</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment"> * and clean up any related data.</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment"> *</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment"> * @param stdClass $data the data submitted from the reset course.</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment"> * @return array</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment"> */</span>
<a name="l67"><span class="linenum">  67</span></a>  function <a class="function" onClick="logFunction('assign_reset_userdata')" href="../../_functions/assign_reset_userdata.html" onMouseOver="funcPopup(event,'assign_reset_userdata')">assign_reset_userdata</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>) {
<a name="l68"><span class="linenum">  68</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l69"><span class="linenum">  69</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l70"><span class="linenum">  70</span></a>  
<a name="l71"><span class="linenum">  71</span></a>      <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a> = array();
<a name="l72"><span class="linenum">  72</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('courseid'=&gt;<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('courseid')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a>);
<a name="l73"><span class="linenum">  73</span></a>      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;SELECT a.id FROM {assign} a WHERE a.course=:courseid&quot;;
<a name="l74"><span class="linenum">  74</span></a>      <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id'=&gt;<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('courseid')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l75"><span class="linenum">  75</span></a>      if (<a class="var it33025" onMouseOver="hilite(33025)" onMouseOut="lolite()" onClick="logVariable('assigns')" href="../../_variables/assigns.html">$assigns</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>)) {
<a name="l76"><span class="linenum">  76</span></a>          foreach (<a class="var it33025" onMouseOver="hilite(33025)" onMouseOut="lolite()" onClick="logVariable('assigns')" href="../../_variables/assigns.html">$assigns</a> as <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>) {
<a name="l77"><span class="linenum">  77</span></a>              <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign',
<a name="l78"><span class="linenum">  78</span></a>                                                   <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('id')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l79"><span class="linenum">  79</span></a>                                                   <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('courseid')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a>,
<a name="l80"><span class="linenum">  80</span></a>                                                   false,
<a name="l81"><span class="linenum">  81</span></a>                                                   <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l82"><span class="linenum">  82</span></a>              <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l83"><span class="linenum">  83</span></a>              <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l84"><span class="linenum">  84</span></a>              <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a>, <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('reset_userdata')" href="../../_functions/reset_userdata.html" onMouseOver="funcPopup(event,'reset_userdata')">reset_userdata</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>));
<a name="l85"><span class="linenum">  85</span></a>          }
<a name="l86"><span class="linenum">  86</span></a>      }
<a name="l87"><span class="linenum">  87</span></a>      return <a class="var it646" onMouseOver="hilite(646)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a>;
<a name="l88"><span class="linenum">  88</span></a>  }
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">/**</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment"> * This standard function will check all instances of this module</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment"> * and make sure there are up-to-date events created for each of them.</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment"> * If courseid = 0, then every assignment event in the site is checked, else</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment"> * only assignment events belonging to the course specified are checked.</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment"> *</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment"> * @param int $courseid</span>
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment"> * @return bool</span>
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment"> */</span>
<a name="l99"><span class="linenum">  99</span></a>  function <a class="function" onClick="logFunction('assign_refresh_events')" href="../../_functions/assign_refresh_events.html" onMouseOver="funcPopup(event,'assign_refresh_events')">assign_refresh_events</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a> = 0) {
<a name="l100"><span class="linenum"> 100</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l101"><span class="linenum"> 101</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l102"><span class="linenum"> 102</span></a>  
<a name="l103"><span class="linenum"> 103</span></a>      if (<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>) {
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">        // Make sure that the course id is numeric.</span>
<a name="l105"><span class="linenum"> 105</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_numeric')" href="../../_functions/is_numeric.html" onMouseOver="phpfuncPopup(event,'is_numeric')">is_numeric</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>)) {
<a name="l106"><span class="linenum"> 106</span></a>              return false;
<a name="l107"><span class="linenum"> 107</span></a>          }
<a name="l108"><span class="linenum"> 108</span></a>          if (!<a class="var it33025" onMouseOver="hilite(33025)" onMouseOut="lolite()" onClick="logVariable('assigns')" href="../../_variables/assigns.html">$assigns</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('assign', array('course' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>))) {
<a name="l109"><span class="linenum"> 109</span></a>              return false;
<a name="l110"><span class="linenum"> 110</span></a>          }
<a name="l111"><span class="linenum"> 111</span></a>  <span class="comment">        // Get course from courseid parameter.</span>
<a name="l112"><span class="linenum"> 112</span></a>          if (!<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>), '*')) {
<a name="l113"><span class="linenum"> 113</span></a>              return false;
<a name="l114"><span class="linenum"> 114</span></a>          }
<a name="l115"><span class="linenum"> 115</span></a>      } else {
<a name="l116"><span class="linenum"> 116</span></a>          if (!<a class="var it33025" onMouseOver="hilite(33025)" onMouseOut="lolite()" onClick="logVariable('assigns')" href="../../_variables/assigns.html">$assigns</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('assign')) {
<a name="l117"><span class="linenum"> 117</span></a>              return false;
<a name="l118"><span class="linenum"> 118</span></a>          }
<a name="l119"><span class="linenum"> 119</span></a>      }
<a name="l120"><span class="linenum"> 120</span></a>      foreach (<a class="var it33025" onMouseOver="hilite(33025)" onMouseOut="lolite()" onClick="logVariable('assigns')" href="../../_variables/assigns.html">$assigns</a> as <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>) {
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">        // Use assignment's course column if courseid parameter is not given.</span>
<a name="l122"><span class="linenum"> 122</span></a>          if (!<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>) {
<a name="l123"><span class="linenum"> 123</span></a>              <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a> = <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('course')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>;
<a name="l124"><span class="linenum"> 124</span></a>              if (!<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>), '*')) {
<a name="l125"><span class="linenum"> 125</span></a>                  continue;
<a name="l126"><span class="linenum"> 126</span></a>              }
<a name="l127"><span class="linenum"> 127</span></a>          }
<a name="l128"><span class="linenum"> 128</span></a>          if (!<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('id')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, false)) {
<a name="l129"><span class="linenum"> 129</span></a>              continue;
<a name="l130"><span class="linenum"> 130</span></a>          }
<a name="l131"><span class="linenum"> 131</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l132"><span class="linenum"> 132</span></a>          <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l133"><span class="linenum"> 133</span></a>          <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('update_calendar')" href="../../_functions/update_calendar.html" onMouseOver="funcPopup(event,'update_calendar')">update_calendar</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l134"><span class="linenum"> 134</span></a>      }
<a name="l135"><span class="linenum"> 135</span></a>  
<a name="l136"><span class="linenum"> 136</span></a>      return true;
<a name="l137"><span class="linenum"> 137</span></a>  }
<a name="l138"><span class="linenum"> 138</span></a>  
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">/**</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment"> * Removes all grades from gradebook</span>
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment"> *</span>
<a name="l142"><span class="linenum"> 142</span></a>  <span class="comment"> * @param int $courseid The ID of the course to reset</span>
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment"> * @param string $type Optional type of assignment to limit the reset to a particular assignment type</span>
<a name="l144"><span class="linenum"> 144</span></a>  <span class="comment"> */</span>
<a name="l145"><span class="linenum"> 145</span></a>  function <a class="function" onClick="logFunction('assign_reset_gradebook')" href="../../_functions/assign_reset_gradebook.html" onMouseOver="funcPopup(event,'assign_reset_gradebook')">assign_reset_gradebook</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>='') {
<a name="l146"><span class="linenum"> 146</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('moduletype'=&gt;'assign', 'courseid'=&gt;<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>);
<a name="l149"><span class="linenum"> 149</span></a>      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = 'SELECT a.*, cm.idnumber as cmidnumber, a.course as courseid
<a name="l150"><span class="linenum"> 150</span></a>              FROM {assign} a, {course_modules} cm, {modules} m
<a name="l151"><span class="linenum"> 151</span></a>              WHERE m.name=:moduletype AND m.id=cm.module AND cm.instance=a.id AND a.course=:courseid';
<a name="l152"><span class="linenum"> 152</span></a>  
<a name="l153"><span class="linenum"> 153</span></a>      if (<a class="var it22395" onMouseOver="hilite(22395)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>)) {
<a name="l154"><span class="linenum"> 154</span></a>          foreach (<a class="var it22395" onMouseOver="hilite(22395)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a> as <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>) {
<a name="l155"><span class="linenum"> 155</span></a>              <a class="function" onClick="logFunction('assign_grade_item_update')" href="../../_functions/assign_grade_item_update.html" onMouseOver="funcPopup(event,'assign_grade_item_update')">assign_grade_item_update</a>(<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>, 'reset');
<a name="l156"><span class="linenum"> 156</span></a>          }
<a name="l157"><span class="linenum"> 157</span></a>      }
<a name="l158"><span class="linenum"> 158</span></a>  }
<a name="l159"><span class="linenum"> 159</span></a>  
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">/**</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment"> * Implementation of the function for printing the form elements that control</span>
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment"> * whether the course reset functionality affects the assignment.</span>
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment"> * @param moodleform $mform form passed by reference</span>
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment"> */</span>
<a name="l165"><span class="linenum"> 165</span></a>  function <a class="function" onClick="logFunction('assign_reset_course_form_definition')" href="../../_functions/assign_reset_course_form_definition.html" onMouseOver="funcPopup(event,'assign_reset_course_form_definition')">assign_reset_course_form_definition</a>(&amp;<a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>) {
<a name="l166"><span class="linenum"> 166</span></a>      <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('header', 'assignheader', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulenameplural', 'assign'));
<a name="l167"><span class="linenum"> 167</span></a>      <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('deleteallsubmissions', 'assign');
<a name="l168"><span class="linenum"> 168</span></a>      <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('advcheckbox', 'reset_assign_submissions', <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>);
<a name="l169"><span class="linenum"> 169</span></a>  }
<a name="l170"><span class="linenum"> 170</span></a>  
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">/**</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment"> * Course reset form defaults.</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment"> * @param  object $course</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment"> * @return array</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment"> */</span>
<a name="l176"><span class="linenum"> 176</span></a>  function <a class="function" onClick="logFunction('assign_reset_course_form_defaults')" href="../../_functions/assign_reset_course_form_defaults.html" onMouseOver="funcPopup(event,'assign_reset_course_form_defaults')">assign_reset_course_form_defaults</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>) {
<a name="l177"><span class="linenum"> 177</span></a>      return array('reset_assign_submissions'=&gt;1);
<a name="l178"><span class="linenum"> 178</span></a>  }
<a name="l179"><span class="linenum"> 179</span></a>  
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment">/**</span>
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment"> * Update an assignment instance</span>
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment"> *</span>
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment"> * This is done by calling the update_instance() method of the assignment type class</span>
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment"> * @param stdClass $data</span>
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment"> * @param stdClass $form - unused</span>
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment"> * @return object</span>
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment"> */</span>
<a name="l188"><span class="linenum"> 188</span></a>  function <a class="function" onClick="logFunction('assign_update_instance')" href="../../_functions/assign_update_instance.html" onMouseOver="funcPopup(event,'assign_update_instance')">assign_update_instance</a>(stdClass <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>, <a class="var it371" onMouseOver="hilite(371)" onMouseOut="lolite()" onClick="logVariable('form')" href="../../_variables/form.html">$form</a>) {
<a name="l189"><span class="linenum"> 189</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l190"><span class="linenum"> 190</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l191"><span class="linenum"> 191</span></a>      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../_variables/coursemodule.html">coursemodule</a>);
<a name="l192"><span class="linenum"> 192</span></a>      <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, null, null);
<a name="l193"><span class="linenum"> 193</span></a>      return <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('update_instance')" href="../../_functions/update_instance.html" onMouseOver="funcPopup(event,'update_instance')">update_instance</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>);
<a name="l194"><span class="linenum"> 194</span></a>  }
<a name="l195"><span class="linenum"> 195</span></a>  
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">/**</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment"> * Return the list if Moodle features this module supports</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment"> *</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment"> * @param string $feature FEATURE_xx constant for requested feature</span>
<a name="l200"><span class="linenum"> 200</span></a>  <span class="comment"> * @return mixed True if module supports feature, null if doesn't know</span>
<a name="l201"><span class="linenum"> 201</span></a>  <span class="comment"> */</span>
<a name="l202"><span class="linenum"> 202</span></a>  function <a class="function" onClick="logFunction('assign_supports')" href="../../_functions/assign_supports.html" onMouseOver="funcPopup(event,'assign_supports')">assign_supports</a>(<a class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" onClick="logVariable('feature')" href="../../_variables/feature.html">$feature</a>) {
<a name="l203"><span class="linenum"> 203</span></a>      switch(<a class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" onClick="logVariable('feature')" href="../../_variables/feature.html">$feature</a>) {
<a name="l204"><span class="linenum"> 204</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GROUPS')" href="../../_constants/FEATURE_GROUPS.html" onMouseOver="constPopup(event,'FEATURE_GROUPS')">FEATURE_GROUPS</a>:
<a name="l205"><span class="linenum"> 205</span></a>              return true;
<a name="l206"><span class="linenum"> 206</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GROUPINGS')" href="../../_constants/FEATURE_GROUPINGS.html" onMouseOver="constPopup(event,'FEATURE_GROUPINGS')">FEATURE_GROUPINGS</a>:
<a name="l207"><span class="linenum"> 207</span></a>              return true;
<a name="l208"><span class="linenum"> 208</span></a>          case <a class="constant" onClick="logConstant('FEATURE_MOD_INTRO')" href="../../_constants/FEATURE_MOD_INTRO.html" onMouseOver="constPopup(event,'FEATURE_MOD_INTRO')">FEATURE_MOD_INTRO</a>:
<a name="l209"><span class="linenum"> 209</span></a>              return true;
<a name="l210"><span class="linenum"> 210</span></a>          case <a class="constant" onClick="logConstant('FEATURE_COMPLETION_TRACKS_VIEWS')" href="../../_constants/FEATURE_COMPLETION_TRACKS_VIEWS.html" onMouseOver="constPopup(event,'FEATURE_COMPLETION_TRACKS_VIEWS')">FEATURE_COMPLETION_TRACKS_VIEWS</a>:
<a name="l211"><span class="linenum"> 211</span></a>              return true;
<a name="l212"><span class="linenum"> 212</span></a>          case <a class="constant" onClick="logConstant('FEATURE_COMPLETION_HAS_RULES')" href="../../_constants/FEATURE_COMPLETION_HAS_RULES.html" onMouseOver="constPopup(event,'FEATURE_COMPLETION_HAS_RULES')">FEATURE_COMPLETION_HAS_RULES</a>:
<a name="l213"><span class="linenum"> 213</span></a>              return true;
<a name="l214"><span class="linenum"> 214</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GRADE_HAS_GRADE')" href="../../_constants/FEATURE_GRADE_HAS_GRADE.html" onMouseOver="constPopup(event,'FEATURE_GRADE_HAS_GRADE')">FEATURE_GRADE_HAS_GRADE</a>:
<a name="l215"><span class="linenum"> 215</span></a>              return true;
<a name="l216"><span class="linenum"> 216</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GRADE_OUTCOMES')" href="../../_constants/FEATURE_GRADE_OUTCOMES.html" onMouseOver="constPopup(event,'FEATURE_GRADE_OUTCOMES')">FEATURE_GRADE_OUTCOMES</a>:
<a name="l217"><span class="linenum"> 217</span></a>              return true;
<a name="l218"><span class="linenum"> 218</span></a>          case <a class="constant" onClick="logConstant('FEATURE_BACKUP_MOODLE2')" href="../../_constants/FEATURE_BACKUP_MOODLE2.html" onMouseOver="constPopup(event,'FEATURE_BACKUP_MOODLE2')">FEATURE_BACKUP_MOODLE2</a>:
<a name="l219"><span class="linenum"> 219</span></a>              return true;
<a name="l220"><span class="linenum"> 220</span></a>          case <a class="constant" onClick="logConstant('FEATURE_SHOW_DESCRIPTION')" href="../../_constants/FEATURE_SHOW_DESCRIPTION.html" onMouseOver="constPopup(event,'FEATURE_SHOW_DESCRIPTION')">FEATURE_SHOW_DESCRIPTION</a>:
<a name="l221"><span class="linenum"> 221</span></a>              return true;
<a name="l222"><span class="linenum"> 222</span></a>          case <a class="constant" onClick="logConstant('FEATURE_ADVANCED_GRADING')" href="../../_constants/FEATURE_ADVANCED_GRADING.html" onMouseOver="constPopup(event,'FEATURE_ADVANCED_GRADING')">FEATURE_ADVANCED_GRADING</a>:
<a name="l223"><span class="linenum"> 223</span></a>              return true;
<a name="l224"><span class="linenum"> 224</span></a>          case <a class="constant" onClick="logConstant('FEATURE_PLAGIARISM')" href="../../_constants/FEATURE_PLAGIARISM.html" onMouseOver="constPopup(event,'FEATURE_PLAGIARISM')">FEATURE_PLAGIARISM</a>:
<a name="l225"><span class="linenum"> 225</span></a>              return true;
<a name="l226"><span class="linenum"> 226</span></a>  
<a name="l227"><span class="linenum"> 227</span></a>          default:
<a name="l228"><span class="linenum"> 228</span></a>              return null;
<a name="l229"><span class="linenum"> 229</span></a>      }
<a name="l230"><span class="linenum"> 230</span></a>  }
<a name="l231"><span class="linenum"> 231</span></a>  
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment">/**</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment"> * Lists all gradable areas for the advanced grading methods gramework</span>
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment"> *</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment"> * @return array('string'=&gt;'string') An array with area names as keys and descriptions as values</span>
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment"> */</span>
<a name="l237"><span class="linenum"> 237</span></a>  function <a class="function" onClick="logFunction('assign_grading_areas_list')" href="../../_functions/assign_grading_areas_list.html" onMouseOver="funcPopup(event,'assign_grading_areas_list')">assign_grading_areas_list</a>() {
<a name="l238"><span class="linenum"> 238</span></a>      return array('submissions'=&gt;<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('submissions', 'assign'));
<a name="l239"><span class="linenum"> 239</span></a>  }
<a name="l240"><span class="linenum"> 240</span></a>  
<a name="l241"><span class="linenum"> 241</span></a>  
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">/**</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment"> * extend an assigment navigation settings</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment"> *</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment"> * @param settings_navigation $settings</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment"> * @param navigation_node $navref</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment"> * @return void</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment"> */</span>
<a name="l249"><span class="linenum"> 249</span></a>  function <a class="function" onClick="logFunction('assign_extend_settings_navigation')" href="../../_functions/assign_extend_settings_navigation.html" onMouseOver="funcPopup(event,'assign_extend_settings_navigation')">assign_extend_settings_navigation</a>(settings_navigation <a class="var it18" onMouseOver="hilite(18)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../../_variables/settings.html">$settings</a>, navigation_node <a class="var it11307" onMouseOver="hilite(11307)" onMouseOut="lolite()" onClick="logVariable('navref')" href="../../_variables/navref.html">$navref</a>) {
<a name="l250"><span class="linenum"> 250</span></a>      global <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l251"><span class="linenum"> 251</span></a>  
<a name="l252"><span class="linenum"> 252</span></a>      <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('cm')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../../_variables/cm.html">cm</a>;
<a name="l253"><span class="linenum"> 253</span></a>      if (!<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>) {
<a name="l254"><span class="linenum"> 254</span></a>          return;
<a name="l255"><span class="linenum"> 255</span></a>      }
<a name="l256"><span class="linenum"> 256</span></a>  
<a name="l257"><span class="linenum"> 257</span></a>      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('context')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/context.html">context</a>;
<a name="l258"><span class="linenum"> 258</span></a>      <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('course')" class="var it42916" onMouseOver="hilite(42916)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>;
<a name="l259"><span class="linenum"> 259</span></a>  
<a name="l260"><span class="linenum"> 260</span></a>      if (!<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>) {
<a name="l261"><span class="linenum"> 261</span></a>          return;
<a name="l262"><span class="linenum"> 262</span></a>      }
<a name="l263"><span class="linenum"> 263</span></a>  
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">    // Link to gradebook.</span>
<a name="l265"><span class="linenum"> 265</span></a>      if (<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('gradereport/grader:view', <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('context')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/context.html">context</a>) &amp;&amp;
<a name="l266"><span class="linenum"> 266</span></a>              <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:viewall', <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('context')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/context.html">context</a>)) {
<a name="l267"><span class="linenum"> 267</span></a>          <a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../grade/report/grader/index.php.html">/grade/report/grader/index.php</a>', array('id' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l268"><span class="linenum"> 268</span></a>          <a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('linkname')" href="../../_variables/linkname.html">$linkname</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewgradebook', 'assign');
<a name="l269"><span class="linenum"> 269</span></a>          <a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../_variables/node.html">$node</a> = <a class="var it11307" onMouseOver="hilite(11307)" onMouseOut="lolite()" onClick="logVariable('navref')" href="../../_variables/navref.html">$navref</a>-&gt;<a class="function" onClick="logFunction('add')" href="../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('linkname')" href="../../_variables/linkname.html">$linkname</a>, <a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>, <a class="class" onClick="logClass('navigation_node')" href="../../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_SETTING);
<a name="l270"><span class="linenum"> 270</span></a>      }
<a name="l271"><span class="linenum"> 271</span></a>  
<a name="l272"><span class="linenum"> 272</span></a>  <span class="comment">    // Link to download all submissions.</span>
<a name="l273"><span class="linenum"> 273</span></a>      if (<a class="function" onClick="logFunction('has_any_capability')" href="../../_functions/has_any_capability.html" onMouseOver="funcPopup(event,'has_any_capability')">has_any_capability</a>(array('mod/assign:grade', 'mod/assign:viewgrades'), <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l274"><span class="linenum"> 274</span></a>          <a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../mod/assign/view.php.html">/mod/assign/view.php</a>', array('id' =&gt; <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'action'=&gt;'grading'));
<a name="l275"><span class="linenum"> 275</span></a>          <a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../_variables/node.html">$node</a> = <a class="var it11307" onMouseOver="hilite(11307)" onMouseOut="lolite()" onClick="logVariable('navref')" href="../../_variables/navref.html">$navref</a>-&gt;<a class="function" onClick="logFunction('add')" href="../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('viewgrading', 'assign'), <a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>, <a class="class" onClick="logClass('navigation_node')" href="../../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_SETTING);
<a name="l276"><span class="linenum"> 276</span></a>  
<a name="l277"><span class="linenum"> 277</span></a>          <a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../mod/assign/view.php.html">/mod/assign/view.php</a>', array('id' =&gt; <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'action'=&gt;'downloadall'));
<a name="l278"><span class="linenum"> 278</span></a>          <a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../_variables/node.html">$node</a> = <a class="var it11307" onMouseOver="hilite(11307)" onMouseOut="lolite()" onClick="logVariable('navref')" href="../../_variables/navref.html">$navref</a>-&gt;<a class="function" onClick="logFunction('add')" href="../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('downloadall', 'assign'), <a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>, <a class="class" onClick="logClass('navigation_node')" href="../../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_SETTING);
<a name="l279"><span class="linenum"> 279</span></a>      }
<a name="l280"><span class="linenum"> 280</span></a>  
<a name="l281"><span class="linenum"> 281</span></a>      if (<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/assign:revealidentities', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l282"><span class="linenum"> 282</span></a>          <a class="var it11272" onMouseOver="hilite(11272)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a> = array('id'=&gt;<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>);
<a name="l283"><span class="linenum"> 283</span></a>          <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('assign', <a class="var it11272" onMouseOver="hilite(11272)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a>, 'blindmarking, revealidentities');
<a name="l284"><span class="linenum"> 284</span></a>  
<a name="l285"><span class="linenum"> 285</span></a>          if (<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> &amp;&amp; <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('blindmarking')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/blindmarking.html">blindmarking</a> &amp;&amp; !<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('revealidentities')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/revealidentities.html">revealidentities</a>) {
<a name="l286"><span class="linenum"> 286</span></a>              <a class="var it4704" onMouseOver="hilite(4704)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../../_variables/urlparams.html">$urlparams</a> = array('id' =&gt; <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'action'=&gt;'revealidentities');
<a name="l287"><span class="linenum"> 287</span></a>              <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../mod/assign/view.php.html">/mod/assign/view.php</a>', <a class="var it4704" onMouseOver="hilite(4704)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../../_variables/urlparams.html">$urlparams</a>);
<a name="l288"><span class="linenum"> 288</span></a>              <a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('linkname')" href="../../_variables/linkname.html">$linkname</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('revealidentities', 'assign');
<a name="l289"><span class="linenum"> 289</span></a>              <a class="var it481" onMouseOver="hilite(481)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../_variables/node.html">$node</a> = <a class="var it11307" onMouseOver="hilite(11307)" onMouseOut="lolite()" onClick="logVariable('navref')" href="../../_variables/navref.html">$navref</a>-&gt;<a class="function" onClick="logFunction('add')" href="../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="var it1004" onMouseOver="hilite(1004)" onMouseOut="lolite()" onClick="logVariable('linkname')" href="../../_variables/linkname.html">$linkname</a>, <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>, <a class="class" onClick="logClass('navigation_node')" href="../../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_SETTING);
<a name="l290"><span class="linenum"> 290</span></a>          }
<a name="l291"><span class="linenum"> 291</span></a>      }
<a name="l292"><span class="linenum"> 292</span></a>  }
<a name="l293"><span class="linenum"> 293</span></a>  
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment">/**</span>
<a name="l295"><span class="linenum"> 295</span></a>  <span class="comment"> * Add a get_coursemodule_info function in case any assignment type wants to add 'extra' information</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment"> * for the course (see resource).</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment"> *</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment"> * Given a course_module object, this function returns any &quot;extra&quot; information that may be needed</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment"> * when printing this activity in a course listing.  See get_array_of_activities() in course/lib.php.</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment"> *</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment"> * @param stdClass $coursemodule The coursemodule object (record).</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment"> * @return cached_cm_info An object on information that the courses</span>
<a name="l303"><span class="linenum"> 303</span></a>  <span class="comment"> *                        will know about (most noticeably, an icon).</span>
<a name="l304"><span class="linenum"> 304</span></a>  <span class="comment"> */</span>
<a name="l305"><span class="linenum"> 305</span></a>  function <a class="function" onClick="logFunction('assign_get_coursemodule_info')" href="../../_functions/assign_get_coursemodule_info.html" onMouseOver="funcPopup(event,'assign_get_coursemodule_info')">assign_get_coursemodule_info</a>(<a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>) {
<a name="l306"><span class="linenum"> 306</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l307"><span class="linenum"> 307</span></a>  
<a name="l308"><span class="linenum"> 308</span></a>      <a class="var it11272" onMouseOver="hilite(11272)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a> = array('id'=&gt;<a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('instance')" class="var it43092" onMouseOver="hilite(43092)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>);
<a name="l309"><span class="linenum"> 309</span></a>      <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> = 'id, name, alwaysshowdescription, allowsubmissionsfromdate, intro, introformat';
<a name="l310"><span class="linenum"> 310</span></a>      if (! <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('assign', <a class="var it11272" onMouseOver="hilite(11272)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a>, <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>)) {
<a name="l311"><span class="linenum"> 311</span></a>          return false;
<a name="l312"><span class="linenum"> 312</span></a>      }
<a name="l313"><span class="linenum"> 313</span></a>  
<a name="l314"><span class="linenum"> 314</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <span class="keyword">new </span><a class="class" onClick="logClass('cached_cm_info')" href="../../_classes/cached_cm_info.html" onMouseOver="classPopup(event,'cached_cm_info')">cached_cm_info</a>();
<a name="l315"><span class="linenum"> 315</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('name')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/name.html">name</a> = <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('name')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>;
<a name="l316"><span class="linenum"> 316</span></a>      if (<a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('showdescription')" class="var it43092" onMouseOver="hilite(43092)" onMouseOut="lolite()" href="../../_variables/showdescription.html">showdescription</a>) {
<a name="l317"><span class="linenum"> 317</span></a>          if (<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('alwaysshowdescription')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/alwaysshowdescription.html">alwaysshowdescription</a> || <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>() &gt; <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('allowsubmissionsfromdate')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/allowsubmissionsfromdate.html">allowsubmissionsfromdate</a>) {
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment">            // Convert intro to html. Do not filter cached version, filters run at display time.</span>
<a name="l319"><span class="linenum"> 319</span></a>              <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('content')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/content.html">content</a> = <a class="function" onClick="logFunction('format_module_intro')" href="../../_functions/format_module_intro.html" onMouseOver="funcPopup(event,'format_module_intro')">format_module_intro</a>('assign', <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>, <a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('id')" class="var it43092" onMouseOver="hilite(43092)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, false);
<a name="l320"><span class="linenum"> 320</span></a>          }
<a name="l321"><span class="linenum"> 321</span></a>      }
<a name="l322"><span class="linenum"> 322</span></a>      return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l323"><span class="linenum"> 323</span></a>  }
<a name="l324"><span class="linenum"> 324</span></a>  
<a name="l325"><span class="linenum"> 325</span></a>  <span class="comment">/**</span>
<a name="l326"><span class="linenum"> 326</span></a>  <span class="comment"> * Return a list of page types</span>
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment"> * @param string $pagetype current page type</span>
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment"> * @param stdClass $parentcontext Block's parent context</span>
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment"> * @param stdClass $currentcontext Current context of block</span>
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment"> */</span>
<a name="l331"><span class="linenum"> 331</span></a>  function <a class="function" onClick="logFunction('assign_page_type_list')" href="../../_functions/assign_page_type_list.html" onMouseOver="funcPopup(event,'assign_page_type_list')">assign_page_type_list</a>(<a class="var it2278" onMouseOver="hilite(2278)" onMouseOut="lolite()" onClick="logVariable('pagetype')" href="../../_variables/pagetype.html">$pagetype</a>, <a class="var it2279" onMouseOver="hilite(2279)" onMouseOut="lolite()" onClick="logVariable('parentcontext')" href="../../_variables/parentcontext.html">$parentcontext</a>, <a class="var it2280" onMouseOver="hilite(2280)" onMouseOut="lolite()" onClick="logVariable('currentcontext')" href="../../_variables/currentcontext.html">$currentcontext</a>) {
<a name="l332"><span class="linenum"> 332</span></a>      <a class="var it2281" onMouseOver="hilite(2281)" onMouseOut="lolite()" onClick="logVariable('modulepagetype')" href="../../_variables/modulepagetype.html">$modulepagetype</a> = array(
<a name="l333"><span class="linenum"> 333</span></a>          'mod-assign-*' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('page-mod-assign-x', 'assign'),
<a name="l334"><span class="linenum"> 334</span></a>          'mod-assign-view' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('page-mod-assign-view', 'assign'),
<a name="l335"><span class="linenum"> 335</span></a>      );
<a name="l336"><span class="linenum"> 336</span></a>      return <a class="var it2281" onMouseOver="hilite(2281)" onMouseOut="lolite()" onClick="logVariable('modulepagetype')" href="../../_variables/modulepagetype.html">$modulepagetype</a>;
<a name="l337"><span class="linenum"> 337</span></a>  }
<a name="l338"><span class="linenum"> 338</span></a>  
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">/**</span>
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment"> * Print an overview of all assignments</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment"> * for the courses.</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment"> *</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment"> * @param mixed $courses The list of courses to print the overview for</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment"> * @param array $htmlarray The array of html to return</span>
<a name="l345"><span class="linenum"> 345</span></a>  <span class="comment"> *</span>
<a name="l346"><span class="linenum"> 346</span></a>  <span class="comment"> * @return true</span>
<a name="l347"><span class="linenum"> 347</span></a>  <span class="comment"> */</span>
<a name="l348"><span class="linenum"> 348</span></a>  function <a class="function" onClick="logFunction('assign_print_overview')" href="../../_functions/assign_print_overview.html" onMouseOver="funcPopup(event,'assign_print_overview')">assign_print_overview</a>(<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>, &amp;<a class="var it9833" onMouseOver="hilite(9833)" onMouseOut="lolite()" onClick="logVariable('htmlarray')" href="../../_variables/htmlarray.html">$htmlarray</a>) {
<a name="l349"><span class="linenum"> 349</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l350"><span class="linenum"> 350</span></a>  
<a name="l351"><span class="linenum"> 351</span></a>      if (empty(<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>) || !<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>) || <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>) == 0) {
<a name="l352"><span class="linenum"> 352</span></a>          return true;
<a name="l353"><span class="linenum"> 353</span></a>      }
<a name="l354"><span class="linenum"> 354</span></a>  
<a name="l355"><span class="linenum"> 355</span></a>      if (!<a class="var it22395" onMouseOver="hilite(22395)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a> = <a class="function" onClick="logFunction('get_all_instances_in_courses')" href="../../_functions/get_all_instances_in_courses.html" onMouseOver="funcPopup(event,'get_all_instances_in_courses')">get_all_instances_in_courses</a>('assign', <a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>)) {
<a name="l356"><span class="linenum"> 356</span></a>          return true;
<a name="l357"><span class="linenum"> 357</span></a>      }
<a name="l358"><span class="linenum"> 358</span></a>  
<a name="l359"><span class="linenum"> 359</span></a>      <a class="var it33026" onMouseOver="hilite(33026)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a> = array();
<a name="l360"><span class="linenum"> 360</span></a>  
<a name="l361"><span class="linenum"> 361</span></a>  <span class="comment">    // Do assignment_base::isopen() here without loading the whole thing for speed.</span>
<a name="l362"><span class="linenum"> 362</span></a>      foreach (<a class="var it22395" onMouseOver="hilite(22395)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>) {
<a name="l363"><span class="linenum"> 363</span></a>          <a class="var it14" onMouseOver="hilite(14)" onMouseOut="lolite()" onClick="logVariable('time')" href="../../_variables/time.html">$time</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l364"><span class="linenum"> 364</span></a>          <a class="var it11941" onMouseOver="hilite(11941)" onMouseOut="lolite()" onClick="logVariable('isopen')" href="../../_variables/isopen.html">$isopen</a> = false;
<a name="l365"><span class="linenum"> 365</span></a>          if (<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('duedate')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/duedate.html">duedate</a>) {
<a name="l366"><span class="linenum"> 366</span></a>              <a class="var it2265" onMouseOver="hilite(2265)" onMouseOut="lolite()" onClick="logVariable('duedate')" href="../../_variables/duedate.html">$duedate</a> = false;
<a name="l367"><span class="linenum"> 367</span></a>              if (<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('cutoffdate')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/cutoffdate.html">cutoffdate</a>) {
<a name="l368"><span class="linenum"> 368</span></a>                  <a class="var it2265" onMouseOver="hilite(2265)" onMouseOut="lolite()" onClick="logVariable('duedate')" href="../../_variables/duedate.html">$duedate</a> = <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('cutoffdate')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/cutoffdate.html">cutoffdate</a>;
<a name="l369"><span class="linenum"> 369</span></a>              }
<a name="l370"><span class="linenum"> 370</span></a>              if (<a class="var it2265" onMouseOver="hilite(2265)" onMouseOut="lolite()" onClick="logVariable('duedate')" href="../../_variables/duedate.html">$duedate</a>) {
<a name="l371"><span class="linenum"> 371</span></a>                  <a class="var it11941" onMouseOver="hilite(11941)" onMouseOut="lolite()" onClick="logVariable('isopen')" href="../../_variables/isopen.html">$isopen</a> = (<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('allowsubmissionsfromdate')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/allowsubmissionsfromdate.html">allowsubmissionsfromdate</a> &lt;= <a class="var it14" onMouseOver="hilite(14)" onMouseOut="lolite()" onClick="logVariable('time')" href="../../_variables/time.html">$time</a> &amp;&amp; <a class="var it14" onMouseOver="hilite(14)" onMouseOut="lolite()" onClick="logVariable('time')" href="../../_variables/time.html">$time</a> &lt;= <a class="var it2265" onMouseOver="hilite(2265)" onMouseOut="lolite()" onClick="logVariable('duedate')" href="../../_variables/duedate.html">$duedate</a>);
<a name="l372"><span class="linenum"> 372</span></a>              } else {
<a name="l373"><span class="linenum"> 373</span></a>                  <a class="var it11941" onMouseOver="hilite(11941)" onMouseOut="lolite()" onClick="logVariable('isopen')" href="../../_variables/isopen.html">$isopen</a> = (<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('allowsubmissionsfromdate')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/allowsubmissionsfromdate.html">allowsubmissionsfromdate</a> &lt;= <a class="var it14" onMouseOver="hilite(14)" onMouseOut="lolite()" onClick="logVariable('time')" href="../../_variables/time.html">$time</a>);
<a name="l374"><span class="linenum"> 374</span></a>              }
<a name="l375"><span class="linenum"> 375</span></a>          }
<a name="l376"><span class="linenum"> 376</span></a>          if (<a class="var it11941" onMouseOver="hilite(11941)" onMouseOut="lolite()" onClick="logVariable('isopen')" href="../../_variables/isopen.html">$isopen</a>) {
<a name="l377"><span class="linenum"> 377</span></a>              <a class="var it33026" onMouseOver="hilite(33026)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a>[] = <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('id')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l378"><span class="linenum"> 378</span></a>          }
<a name="l379"><span class="linenum"> 379</span></a>      }
<a name="l380"><span class="linenum"> 380</span></a>  
<a name="l381"><span class="linenum"> 381</span></a>      if (empty(<a class="var it33026" onMouseOver="hilite(33026)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a>)) {
<a name="l382"><span class="linenum"> 382</span></a>  <span class="comment">        // No assignments to look at - we're done.</span>
<a name="l383"><span class="linenum"> 383</span></a>          return true;
<a name="l384"><span class="linenum"> 384</span></a>      }
<a name="l385"><span class="linenum"> 385</span></a>  
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment">    // Definitely something to print, now include the constants we need.</span>
<a name="l387"><span class="linenum"> 387</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l388"><span class="linenum"> 388</span></a>  
<a name="l389"><span class="linenum"> 389</span></a>      <a class="var it11939" onMouseOver="hilite(11939)" onMouseOut="lolite()" onClick="logVariable('strduedate')" href="../../_variables/strduedate.html">$strduedate</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('duedate', 'assign');
<a name="l390"><span class="linenum"> 390</span></a>      <a class="var it33027" onMouseOver="hilite(33027)" onMouseOut="lolite()" onClick="logVariable('strcutoffdate')" href="../../_variables/strcutoffdate.html">$strcutoffdate</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('nosubmissionsacceptedafter', 'assign');
<a name="l391"><span class="linenum"> 391</span></a>      <a class="var it33028" onMouseOver="hilite(33028)" onMouseOut="lolite()" onClick="logVariable('strnolatesubmissions')" href="../../_variables/strnolatesubmissions.html">$strnolatesubmissions</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('nolatesubmissions', 'assign');
<a name="l392"><span class="linenum"> 392</span></a>      <a class="var it33029" onMouseOver="hilite(33029)" onMouseOut="lolite()" onClick="logVariable('strduedateno')" href="../../_variables/strduedateno.html">$strduedateno</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('duedateno', 'assign');
<a name="l393"><span class="linenum"> 393</span></a>      <a class="var it33030" onMouseOver="hilite(33030)" onMouseOut="lolite()" onClick="logVariable('strassignment')" href="../../_variables/strassignment.html">$strassignment</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulename', 'assign');
<a name="l394"><span class="linenum"> 394</span></a>  
<a name="l395"><span class="linenum"> 395</span></a>  <span class="comment">    // We do all possible database work here *outside* of the loop to ensure this scales.</span>
<a name="l396"><span class="linenum"> 396</span></a>      <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it33031" onMouseOver="hilite(33031)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>, <a class="var it33032" onMouseOver="hilite(33032)" onMouseOut="lolite()" onClick="logVariable('assignmentidparams')" href="../../_variables/assignmentidparams.html">$assignmentidparams</a>) = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it33026" onMouseOver="hilite(33026)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a>);
<a name="l397"><span class="linenum"> 397</span></a>  
<a name="l398"><span class="linenum"> 398</span></a>      <a class="var it33033" onMouseOver="hilite(33033)" onMouseOut="lolite()" onClick="logVariable('mysubmissions')" href="../../_variables/mysubmissions.html">$mysubmissions</a> = null;
<a name="l399"><span class="linenum"> 399</span></a>      <a class="var it33034" onMouseOver="hilite(33034)" onMouseOut="lolite()" onClick="logVariable('unmarkedsubmissions')" href="../../_variables/unmarkedsubmissions.html">$unmarkedsubmissions</a> = null;
<a name="l400"><span class="linenum"> 400</span></a>  
<a name="l401"><span class="linenum"> 401</span></a>      foreach (<a class="var it22395" onMouseOver="hilite(22395)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a> as <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>) {
<a name="l402"><span class="linenum"> 402</span></a>  
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">        // Do not show assignments that are not open.</span>
<a name="l404"><span class="linenum"> 404</span></a>          if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('id')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it33026" onMouseOver="hilite(33026)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a>)) {
<a name="l405"><span class="linenum"> 405</span></a>              continue;
<a name="l406"><span class="linenum"> 406</span></a>          }
<a name="l407"><span class="linenum"> 407</span></a>  
<a name="l408"><span class="linenum"> 408</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/coursemodule.html">coursemodule</a>);
<a name="l409"><span class="linenum"> 409</span></a>  
<a name="l410"><span class="linenum"> 410</span></a>  <span class="comment">        // Does the submission status of the assignment require notification?</span>
<a name="l411"><span class="linenum"> 411</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/assign:submit', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l412"><span class="linenum"> 412</span></a>  <span class="comment">            // Does the submission status of the assignment require notification?</span>
<a name="l413"><span class="linenum"> 413</span></a>              <a class="var it33035" onMouseOver="hilite(33035)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> = <a class="function" onClick="logFunction('assign_get_mysubmission_details_for_print_overview')" href="../../_functions/assign_get_mysubmission_details_for_print_overview.html" onMouseOver="funcPopup(event,'assign_get_mysubmission_details_for_print_overview')">assign_get_mysubmission_details_for_print_overview</a>(<a class="var it33033" onMouseOver="hilite(33033)" onMouseOut="lolite()" onClick="logVariable('mysubmissions')" href="../../_variables/mysubmissions.html">$mysubmissions</a>, <a class="var it33031" onMouseOver="hilite(33031)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>,
<a name="l414"><span class="linenum"> 414</span></a>                      <a class="var it33032" onMouseOver="hilite(33032)" onMouseOut="lolite()" onClick="logVariable('assignmentidparams')" href="../../_variables/assignmentidparams.html">$assignmentidparams</a>, <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>);
<a name="l415"><span class="linenum"> 415</span></a>          } else {
<a name="l416"><span class="linenum"> 416</span></a>              <a class="var it33035" onMouseOver="hilite(33035)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> = false;
<a name="l417"><span class="linenum"> 417</span></a>          }
<a name="l418"><span class="linenum"> 418</span></a>  
<a name="l419"><span class="linenum"> 419</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/assign:grade', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l420"><span class="linenum"> 420</span></a>  <span class="comment">            // Does the grading status of the assignment require notification ?</span>
<a name="l421"><span class="linenum"> 421</span></a>              <a class="var it33036" onMouseOver="hilite(33036)" onMouseOut="lolite()" onClick="logVariable('gradedetails')" href="../../_variables/gradedetails.html">$gradedetails</a> = <a class="function" onClick="logFunction('assign_get_grade_details_for_print_overview')" href="../../_functions/assign_get_grade_details_for_print_overview.html" onMouseOver="funcPopup(event,'assign_get_grade_details_for_print_overview')">assign_get_grade_details_for_print_overview</a>(<a class="var it33034" onMouseOver="hilite(33034)" onMouseOut="lolite()" onClick="logVariable('unmarkedsubmissions')" href="../../_variables/unmarkedsubmissions.html">$unmarkedsubmissions</a>, <a class="var it33031" onMouseOver="hilite(33031)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>,
<a name="l422"><span class="linenum"> 422</span></a>                      <a class="var it33032" onMouseOver="hilite(33032)" onMouseOut="lolite()" onClick="logVariable('assignmentidparams')" href="../../_variables/assignmentidparams.html">$assignmentidparams</a>, <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l423"><span class="linenum"> 423</span></a>          } else {
<a name="l424"><span class="linenum"> 424</span></a>              <a class="var it33036" onMouseOver="hilite(33036)" onMouseOut="lolite()" onClick="logVariable('gradedetails')" href="../../_variables/gradedetails.html">$gradedetails</a> = false;
<a name="l425"><span class="linenum"> 425</span></a>          }
<a name="l426"><span class="linenum"> 426</span></a>  
<a name="l427"><span class="linenum"> 427</span></a>          if (empty(<a class="var it33035" onMouseOver="hilite(33035)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a>) &amp;&amp; empty(<a class="var it33036" onMouseOver="hilite(33036)" onMouseOut="lolite()" onClick="logVariable('gradedetails')" href="../../_variables/gradedetails.html">$gradedetails</a>)) {
<a name="l428"><span class="linenum"> 428</span></a>  <span class="comment">            // There is no need to display this assignment as there is nothing to notify.</span>
<a name="l429"><span class="linenum"> 429</span></a>              continue;
<a name="l430"><span class="linenum"> 430</span></a>          }
<a name="l431"><span class="linenum"> 431</span></a>  
<a name="l432"><span class="linenum"> 432</span></a>          <a class="var it1978" onMouseOver="hilite(1978)" onMouseOut="lolite()" onClick="logVariable('dimmedclass')" href="../../_variables/dimmedclass.html">$dimmedclass</a> = '';
<a name="l433"><span class="linenum"> 433</span></a>          if (!<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('visible')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/visible.html">visible</a>) {
<a name="l434"><span class="linenum"> 434</span></a>              <a class="var it1978" onMouseOver="hilite(1978)" onMouseOut="lolite()" onClick="logVariable('dimmedclass')" href="../../_variables/dimmedclass.html">$dimmedclass</a> = ' class=&quot;dimmed&quot;';
<a name="l435"><span class="linenum"> 435</span></a>          }
<a name="l436"><span class="linenum"> 436</span></a>          <a class="var it7994" onMouseOver="hilite(7994)" onMouseOut="lolite()" onClick="logVariable('href')" href="../../_variables/href.html">$href</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a> . '/mod/assign/view.php?id=' . <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/coursemodule.html">coursemodule</a>;
<a name="l437"><span class="linenum"> 437</span></a>          <a class="var it33037" onMouseOver="hilite(33037)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a> = '&lt;div class=&quot;assign overview&quot;&gt;' .
<a name="l438"><span class="linenum"> 438</span></a>                 '&lt;div class=&quot;name&quot;&gt;' .
<a name="l439"><span class="linenum"> 439</span></a>                 <a class="var it33030" onMouseOver="hilite(33030)" onMouseOut="lolite()" onClick="logVariable('strassignment')" href="../../_variables/strassignment.html">$strassignment</a> . ': '.
<a name="l440"><span class="linenum"> 440</span></a>                 '&lt;a ' . <a class="var it1978" onMouseOver="hilite(1978)" onMouseOut="lolite()" onClick="logVariable('dimmedclass')" href="../../_variables/dimmedclass.html">$dimmedclass</a> .
<a name="l441"><span class="linenum"> 441</span></a>                     'title=&quot;' . <a class="var it33030" onMouseOver="hilite(33030)" onMouseOut="lolite()" onClick="logVariable('strassignment')" href="../../_variables/strassignment.html">$strassignment</a> . '&quot; ' .
<a name="l442"><span class="linenum"> 442</span></a>                     'href=&quot;' . <a class="var it7994" onMouseOver="hilite(7994)" onMouseOut="lolite()" onClick="logVariable('href')" href="../../_variables/href.html">$href</a> . '&quot;&gt;' .
<a name="l443"><span class="linenum"> 443</span></a>                 <a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('name')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>) .
<a name="l444"><span class="linenum"> 444</span></a>                 '&lt;/a&gt;&lt;/div&gt;';
<a name="l445"><span class="linenum"> 445</span></a>          if (<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('duedate')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/duedate.html">duedate</a>) {
<a name="l446"><span class="linenum"> 446</span></a>              <a class="var it13808" onMouseOver="hilite(13808)" onMouseOut="lolite()" onClick="logVariable('userdate')" href="../../_variables/userdate.html">$userdate</a> = <a class="function" onClick="logFunction('userdate')" href="../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('duedate')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/duedate.html">duedate</a>);
<a name="l447"><span class="linenum"> 447</span></a>              <a class="var it33037" onMouseOver="hilite(33037)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a> .= '&lt;div class=&quot;info&quot;&gt;' . <a class="var it11939" onMouseOver="hilite(11939)" onMouseOut="lolite()" onClick="logVariable('strduedate')" href="../../_variables/strduedate.html">$strduedate</a> . ': ' . <a class="var it13808" onMouseOver="hilite(13808)" onMouseOut="lolite()" onClick="logVariable('userdate')" href="../../_variables/userdate.html">$userdate</a> . '&lt;/div&gt;';
<a name="l448"><span class="linenum"> 448</span></a>          } else {
<a name="l449"><span class="linenum"> 449</span></a>              <a class="var it33037" onMouseOver="hilite(33037)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a> .= '&lt;div class=&quot;info&quot;&gt;' . <a class="var it33029" onMouseOver="hilite(33029)" onMouseOut="lolite()" onClick="logVariable('strduedateno')" href="../../_variables/strduedateno.html">$strduedateno</a> . '&lt;/div&gt;';
<a name="l450"><span class="linenum"> 450</span></a>          }
<a name="l451"><span class="linenum"> 451</span></a>          if (<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('cutoffdate')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/cutoffdate.html">cutoffdate</a>) {
<a name="l452"><span class="linenum"> 452</span></a>              if (<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('cutoffdate')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/cutoffdate.html">cutoffdate</a> == <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('duedate')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/duedate.html">duedate</a>) {
<a name="l453"><span class="linenum"> 453</span></a>                  <a class="var it33037" onMouseOver="hilite(33037)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a> .= '&lt;div class=&quot;info&quot;&gt;' . <a class="var it33028" onMouseOver="hilite(33028)" onMouseOut="lolite()" onClick="logVariable('strnolatesubmissions')" href="../../_variables/strnolatesubmissions.html">$strnolatesubmissions</a> . '&lt;/div&gt;';
<a name="l454"><span class="linenum"> 454</span></a>              } else {
<a name="l455"><span class="linenum"> 455</span></a>                  <a class="var it13808" onMouseOver="hilite(13808)" onMouseOut="lolite()" onClick="logVariable('userdate')" href="../../_variables/userdate.html">$userdate</a> = <a class="function" onClick="logFunction('userdate')" href="../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('cutoffdate')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/cutoffdate.html">cutoffdate</a>);
<a name="l456"><span class="linenum"> 456</span></a>                  <a class="var it33037" onMouseOver="hilite(33037)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a> .= '&lt;div class=&quot;info&quot;&gt;' . <a class="var it33027" onMouseOver="hilite(33027)" onMouseOut="lolite()" onClick="logVariable('strcutoffdate')" href="../../_variables/strcutoffdate.html">$strcutoffdate</a> . ': ' . <a class="var it13808" onMouseOver="hilite(13808)" onMouseOut="lolite()" onClick="logVariable('userdate')" href="../../_variables/userdate.html">$userdate</a> . '&lt;/div&gt;';
<a name="l457"><span class="linenum"> 457</span></a>              }
<a name="l458"><span class="linenum"> 458</span></a>          }
<a name="l459"><span class="linenum"> 459</span></a>  
<a name="l460"><span class="linenum"> 460</span></a>  <span class="comment">        // Show only relevant information.</span>
<a name="l461"><span class="linenum"> 461</span></a>          if (!empty(<a class="var it33035" onMouseOver="hilite(33035)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a>)) {
<a name="l462"><span class="linenum"> 462</span></a>              <a class="var it33037" onMouseOver="hilite(33037)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a> .= <a class="var it33035" onMouseOver="hilite(33035)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a>;
<a name="l463"><span class="linenum"> 463</span></a>          }
<a name="l464"><span class="linenum"> 464</span></a>  
<a name="l465"><span class="linenum"> 465</span></a>          if (!empty(<a class="var it33036" onMouseOver="hilite(33036)" onMouseOut="lolite()" onClick="logVariable('gradedetails')" href="../../_variables/gradedetails.html">$gradedetails</a>)) {
<a name="l466"><span class="linenum"> 466</span></a>              <a class="var it33037" onMouseOver="hilite(33037)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a> .= <a class="var it33036" onMouseOver="hilite(33036)" onMouseOut="lolite()" onClick="logVariable('gradedetails')" href="../../_variables/gradedetails.html">$gradedetails</a>;
<a name="l467"><span class="linenum"> 467</span></a>          }
<a name="l468"><span class="linenum"> 468</span></a>          <a class="var it33037" onMouseOver="hilite(33037)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a> .= '&lt;/div&gt;';
<a name="l469"><span class="linenum"> 469</span></a>  
<a name="l470"><span class="linenum"> 470</span></a>          if (empty(<a class="var it9833" onMouseOver="hilite(9833)" onMouseOut="lolite()" onClick="logVariable('htmlarray')" href="../../_variables/htmlarray.html">$htmlarray</a>[<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('course')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>]['assign'])) {
<a name="l471"><span class="linenum"> 471</span></a>              <a class="var it9833" onMouseOver="hilite(9833)" onMouseOut="lolite()" onClick="logVariable('htmlarray')" href="../../_variables/htmlarray.html">$htmlarray</a>[<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('course')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>]['assign'] = <a class="var it33037" onMouseOver="hilite(33037)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a>;
<a name="l472"><span class="linenum"> 472</span></a>          } else {
<a name="l473"><span class="linenum"> 473</span></a>              <a class="var it9833" onMouseOver="hilite(9833)" onMouseOut="lolite()" onClick="logVariable('htmlarray')" href="../../_variables/htmlarray.html">$htmlarray</a>[<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('course')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>]['assign'] .= <a class="var it33037" onMouseOver="hilite(33037)" onMouseOut="lolite()" onClick="logVariable('basestr')" href="../../_variables/basestr.html">$basestr</a>;
<a name="l474"><span class="linenum"> 474</span></a>          }
<a name="l475"><span class="linenum"> 475</span></a>      }
<a name="l476"><span class="linenum"> 476</span></a>      return true;
<a name="l477"><span class="linenum"> 477</span></a>  }
<a name="l478"><span class="linenum"> 478</span></a>  
<a name="l479"><span class="linenum"> 479</span></a>  <span class="comment">/**</span>
<a name="l480"><span class="linenum"> 480</span></a>  <span class="comment"> * This api generates html to be displayed to students in print overview section, related to their submission status of the given</span>
<a name="l481"><span class="linenum"> 481</span></a>  <span class="comment"> * assignment.</span>
<a name="l482"><span class="linenum"> 482</span></a>  <span class="comment"> *</span>
<a name="l483"><span class="linenum"> 483</span></a>  <span class="comment"> * @param array $mysubmissions list of submissions of current user indexed by assignment id.</span>
<a name="l484"><span class="linenum"> 484</span></a>  <span class="comment"> * @param string $sqlassignmentids sql clause used to filter open assignments.</span>
<a name="l485"><span class="linenum"> 485</span></a>  <span class="comment"> * @param array $assignmentidparams sql params used to filter open assignments.</span>
<a name="l486"><span class="linenum"> 486</span></a>  <span class="comment"> * @param stdClass $assignment current assignment</span>
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment"> *</span>
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment"> * @return bool|string html to display , false if nothing needs to be displayed.</span>
<a name="l489"><span class="linenum"> 489</span></a>  <span class="comment"> * @throws coding_exception</span>
<a name="l490"><span class="linenum"> 490</span></a>  <span class="comment"> */</span>
<a name="l491"><span class="linenum"> 491</span></a>  function <a class="function" onClick="logFunction('assign_get_mysubmission_details_for_print_overview')" href="../../_functions/assign_get_mysubmission_details_for_print_overview.html" onMouseOver="funcPopup(event,'assign_get_mysubmission_details_for_print_overview')">assign_get_mysubmission_details_for_print_overview</a>(&amp;<a class="var it33033" onMouseOver="hilite(33033)" onMouseOut="lolite()" onClick="logVariable('mysubmissions')" href="../../_variables/mysubmissions.html">$mysubmissions</a>, <a class="var it33031" onMouseOver="hilite(33031)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>, <a class="var it33032" onMouseOver="hilite(33032)" onMouseOut="lolite()" onClick="logVariable('assignmentidparams')" href="../../_variables/assignmentidparams.html">$assignmentidparams</a>,
<a name="l492"><span class="linenum"> 492</span></a>                                                              <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>) {
<a name="l493"><span class="linenum"> 493</span></a>      global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l494"><span class="linenum"> 494</span></a>  
<a name="l495"><span class="linenum"> 495</span></a>      if (<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('nosubmissions')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/nosubmissions.html">nosubmissions</a>) {
<a name="l496"><span class="linenum"> 496</span></a>  <span class="comment">        // Offline assignment. No need to display alerts for offline assignments.</span>
<a name="l497"><span class="linenum"> 497</span></a>          return false;
<a name="l498"><span class="linenum"> 498</span></a>      }
<a name="l499"><span class="linenum"> 499</span></a>  
<a name="l500"><span class="linenum"> 500</span></a>      <a class="var it33038" onMouseOver="hilite(33038)" onMouseOut="lolite()" onClick="logVariable('strnotsubmittedyet')" href="../../_variables/strnotsubmittedyet.html">$strnotsubmittedyet</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('notsubmittedyet', 'assign');
<a name="l501"><span class="linenum"> 501</span></a>  
<a name="l502"><span class="linenum"> 502</span></a>      if (!isset(<a class="var it33033" onMouseOver="hilite(33033)" onMouseOut="lolite()" onClick="logVariable('mysubmissions')" href="../../_variables/mysubmissions.html">$mysubmissions</a>)) {
<a name="l503"><span class="linenum"> 503</span></a>  
<a name="l504"><span class="linenum"> 504</span></a>  <span class="comment">        // Get all user submissions, indexed by assignment id.</span>
<a name="l505"><span class="linenum"> 505</span></a>          <a class="var it11272" onMouseOver="hilite(11272)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(array(<a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>), <a class="var it33032" onMouseOver="hilite(33032)" onMouseOut="lolite()" onClick="logVariable('assignmentidparams')" href="../../_variables/assignmentidparams.html">$assignmentidparams</a>, array(<a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l506"><span class="linenum"> 506</span></a>          <a class="var it33033" onMouseOver="hilite(33033)" onMouseOut="lolite()" onClick="logVariable('mysubmissions')" href="../../_variables/mysubmissions.html">$mysubmissions</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>('SELECT a.id AS assignment,
<a name="l507"><span class="linenum"> 507</span></a>                                                        a.nosubmissions AS nosubmissions,
<a name="l508"><span class="linenum"> 508</span></a>                                                        g.timemodified AS timemarked,
<a name="l509"><span class="linenum"> 509</span></a>                                                        g.grader AS grader,
<a name="l510"><span class="linenum"> 510</span></a>                                                        g.grade AS grade,
<a name="l511"><span class="linenum"> 511</span></a>                                                        s.status AS status
<a name="l512"><span class="linenum"> 512</span></a>                                                   FROM {assign} a, {assign_submission} s
<a name="l513"><span class="linenum"> 513</span></a>                                              LEFT JOIN {assign_grades} g ON
<a name="l514"><span class="linenum"> 514</span></a>                                                        g.assignment = s.assignment AND
<a name="l515"><span class="linenum"> 515</span></a>                                                        g.userid = ? AND
<a name="l516"><span class="linenum"> 516</span></a>                                                        g.attemptnumber = s.attemptnumber
<a name="l517"><span class="linenum"> 517</span></a>                                                  WHERE a.id ' . <a class="var it33031" onMouseOver="hilite(33031)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a> . ' AND
<a name="l518"><span class="linenum"> 518</span></a>                                                        s.latest = 1 AND
<a name="l519"><span class="linenum"> 519</span></a>                                                        s.assignment = a.id AND
<a name="l520"><span class="linenum"> 520</span></a>                                                        s.userid = ?', <a class="var it11272" onMouseOver="hilite(11272)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a>);
<a name="l521"><span class="linenum"> 521</span></a>      }
<a name="l522"><span class="linenum"> 522</span></a>  
<a name="l523"><span class="linenum"> 523</span></a>      <a class="var it33035" onMouseOver="hilite(33035)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> = '';
<a name="l524"><span class="linenum"> 524</span></a>      <a class="var it33035" onMouseOver="hilite(33035)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> .= '&lt;div class=&quot;details&quot;&gt;';
<a name="l525"><span class="linenum"> 525</span></a>      <a class="var it33035" onMouseOver="hilite(33035)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> .= <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('mysubmission', 'assign');
<a name="l526"><span class="linenum"> 526</span></a>      <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a> = false;
<a name="l527"><span class="linenum"> 527</span></a>  
<a name="l528"><span class="linenum"> 528</span></a>      if (isset(<a class="var it33033" onMouseOver="hilite(33033)" onMouseOut="lolite()" onClick="logVariable('mysubmissions')" href="../../_variables/mysubmissions.html">$mysubmissions</a>[<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('id')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>])) {
<a name="l529"><span class="linenum"> 529</span></a>          <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a> = <a class="var it33033" onMouseOver="hilite(33033)" onMouseOut="lolite()" onClick="logVariable('mysubmissions')" href="../../_variables/mysubmissions.html">$mysubmissions</a>[<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('id')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>];
<a name="l530"><span class="linenum"> 530</span></a>      }
<a name="l531"><span class="linenum"> 531</span></a>  
<a name="l532"><span class="linenum"> 532</span></a>      if (<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a> &amp;&amp; <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('status')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> == <a class="constant" onClick="logConstant('ASSIGN_SUBMISSION_STATUS_SUBMITTED')" href="../../_constants/ASSIGN_SUBMISSION_STATUS_SUBMITTED.html" onMouseOver="constPopup(event,'ASSIGN_SUBMISSION_STATUS_SUBMITTED')">ASSIGN_SUBMISSION_STATUS_SUBMITTED</a>) {
<a name="l533"><span class="linenum"> 533</span></a>  <span class="comment">        // A valid submission already exists, no need to notify students about this.</span>
<a name="l534"><span class="linenum"> 534</span></a>          return false;
<a name="l535"><span class="linenum"> 535</span></a>      }
<a name="l536"><span class="linenum"> 536</span></a>  
<a name="l537"><span class="linenum"> 537</span></a>  <span class="comment">    // We need to show details only if a valid submission doesn't exist.</span>
<a name="l538"><span class="linenum"> 538</span></a>      if (!<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a> ||
<a name="l539"><span class="linenum"> 539</span></a>          !<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('status')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> ||
<a name="l540"><span class="linenum"> 540</span></a>          <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('status')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> == <a class="constant" onClick="logConstant('ASSIGN_SUBMISSION_STATUS_DRAFT')" href="../../_constants/ASSIGN_SUBMISSION_STATUS_DRAFT.html" onMouseOver="constPopup(event,'ASSIGN_SUBMISSION_STATUS_DRAFT')">ASSIGN_SUBMISSION_STATUS_DRAFT</a> ||
<a name="l541"><span class="linenum"> 541</span></a>          <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('status')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> == <a class="constant" onClick="logConstant('ASSIGN_SUBMISSION_STATUS_NEW')" href="../../_constants/ASSIGN_SUBMISSION_STATUS_NEW.html" onMouseOver="constPopup(event,'ASSIGN_SUBMISSION_STATUS_NEW')">ASSIGN_SUBMISSION_STATUS_NEW</a>
<a name="l542"><span class="linenum"> 542</span></a>      ) {
<a name="l543"><span class="linenum"> 543</span></a>          <a class="var it33035" onMouseOver="hilite(33035)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> .= <a class="var it33038" onMouseOver="hilite(33038)" onMouseOut="lolite()" onClick="logVariable('strnotsubmittedyet')" href="../../_variables/strnotsubmittedyet.html">$strnotsubmittedyet</a>;
<a name="l544"><span class="linenum"> 544</span></a>      } else {
<a name="l545"><span class="linenum"> 545</span></a>          <a class="var it33035" onMouseOver="hilite(33035)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> .= <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('submissionstatus_' . <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('status')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/status.html">status</a>, 'assign');
<a name="l546"><span class="linenum"> 546</span></a>      }
<a name="l547"><span class="linenum"> 547</span></a>      if (<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('markingworkflow')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/markingworkflow.html">markingworkflow</a>) {
<a name="l548"><span class="linenum"> 548</span></a>          <a class="var it19948" onMouseOver="hilite(19948)" onMouseOut="lolite()" onClick="logVariable('workflowstate')" href="../../_variables/workflowstate.html">$workflowstate</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('assign_user_flags', 'workflowstate', array('assignment' =&gt;
<a name="l549"><span class="linenum"> 549</span></a>                  <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('id')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'userid' =&gt; <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l550"><span class="linenum"> 550</span></a>          if (<a class="var it19948" onMouseOver="hilite(19948)" onMouseOut="lolite()" onClick="logVariable('workflowstate')" href="../../_variables/workflowstate.html">$workflowstate</a>) {
<a name="l551"><span class="linenum"> 551</span></a>              <a class="var it25230" onMouseOver="hilite(25230)" onMouseOut="lolite()" onClick="logVariable('gradingstatus')" href="../../_variables/gradingstatus.html">$gradingstatus</a> = 'markingworkflowstate' . <a class="var it19948" onMouseOver="hilite(19948)" onMouseOut="lolite()" onClick="logVariable('workflowstate')" href="../../_variables/workflowstate.html">$workflowstate</a>;
<a name="l552"><span class="linenum"> 552</span></a>          } else {
<a name="l553"><span class="linenum"> 553</span></a>              <a class="var it25230" onMouseOver="hilite(25230)" onMouseOut="lolite()" onClick="logVariable('gradingstatus')" href="../../_variables/gradingstatus.html">$gradingstatus</a> = 'markingworkflowstate' . <a class="constant" onClick="logConstant('ASSIGN_MARKING_WORKFLOW_STATE_NOTMARKED')" href="../../_constants/ASSIGN_MARKING_WORKFLOW_STATE_NOTMARKED.html" onMouseOver="constPopup(event,'ASSIGN_MARKING_WORKFLOW_STATE_NOTMARKED')">ASSIGN_MARKING_WORKFLOW_STATE_NOTMARKED</a>;
<a name="l554"><span class="linenum"> 554</span></a>          }
<a name="l555"><span class="linenum"> 555</span></a>      } else if (!empty(<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('grade')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a>) &amp;&amp; <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('grade')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> !== null &amp;&amp; <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('grade')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> &gt;= 0) {
<a name="l556"><span class="linenum"> 556</span></a>          <a class="var it25230" onMouseOver="hilite(25230)" onMouseOut="lolite()" onClick="logVariable('gradingstatus')" href="../../_variables/gradingstatus.html">$gradingstatus</a> = <a class="constant" onClick="logConstant('ASSIGN_GRADING_STATUS_GRADED')" href="../../_constants/ASSIGN_GRADING_STATUS_GRADED.html" onMouseOver="constPopup(event,'ASSIGN_GRADING_STATUS_GRADED')">ASSIGN_GRADING_STATUS_GRADED</a>;
<a name="l557"><span class="linenum"> 557</span></a>      } else {
<a name="l558"><span class="linenum"> 558</span></a>          <a class="var it25230" onMouseOver="hilite(25230)" onMouseOut="lolite()" onClick="logVariable('gradingstatus')" href="../../_variables/gradingstatus.html">$gradingstatus</a> = <a class="constant" onClick="logConstant('ASSIGN_GRADING_STATUS_NOT_GRADED')" href="../../_constants/ASSIGN_GRADING_STATUS_NOT_GRADED.html" onMouseOver="constPopup(event,'ASSIGN_GRADING_STATUS_NOT_GRADED')">ASSIGN_GRADING_STATUS_NOT_GRADED</a>;
<a name="l559"><span class="linenum"> 559</span></a>      }
<a name="l560"><span class="linenum"> 560</span></a>      <a class="var it33035" onMouseOver="hilite(33035)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> .= ', ' . <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(<a class="var it25230" onMouseOver="hilite(25230)" onMouseOut="lolite()" onClick="logVariable('gradingstatus')" href="../../_variables/gradingstatus.html">$gradingstatus</a>, 'assign');
<a name="l561"><span class="linenum"> 561</span></a>      <a class="var it33035" onMouseOver="hilite(33035)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a> .= '&lt;/div&gt;';
<a name="l562"><span class="linenum"> 562</span></a>      return <a class="var it33035" onMouseOver="hilite(33035)" onMouseOut="lolite()" onClick="logVariable('submitdetails')" href="../../_variables/submitdetails.html">$submitdetails</a>;
<a name="l563"><span class="linenum"> 563</span></a>  }
<a name="l564"><span class="linenum"> 564</span></a>  
<a name="l565"><span class="linenum"> 565</span></a>  <span class="comment">/**</span>
<a name="l566"><span class="linenum"> 566</span></a>  <span class="comment"> * This api generates html to be displayed to teachers in print overview section, related to the grading status of the given</span>
<a name="l567"><span class="linenum"> 567</span></a>  <span class="comment"> * assignment's submissions.</span>
<a name="l568"><span class="linenum"> 568</span></a>  <span class="comment"> *</span>
<a name="l569"><span class="linenum"> 569</span></a>  <span class="comment"> * @param array $unmarkedsubmissions list of submissions of that are currently unmarked indexed by assignment id.</span>
<a name="l570"><span class="linenum"> 570</span></a>  <span class="comment"> * @param string $sqlassignmentids sql clause used to filter open assignments.</span>
<a name="l571"><span class="linenum"> 571</span></a>  <span class="comment"> * @param array $assignmentidparams sql params used to filter open assignments.</span>
<a name="l572"><span class="linenum"> 572</span></a>  <span class="comment"> * @param stdClass $assignment current assignment</span>
<a name="l573"><span class="linenum"> 573</span></a>  <span class="comment"> * @param context $context context of the assignment.</span>
<a name="l574"><span class="linenum"> 574</span></a>  <span class="comment"> *</span>
<a name="l575"><span class="linenum"> 575</span></a>  <span class="comment"> * @return bool|string html to display , false if nothing needs to be displayed.</span>
<a name="l576"><span class="linenum"> 576</span></a>  <span class="comment"> * @throws coding_exception</span>
<a name="l577"><span class="linenum"> 577</span></a>  <span class="comment"> */</span>
<a name="l578"><span class="linenum"> 578</span></a>  function <a class="function" onClick="logFunction('assign_get_grade_details_for_print_overview')" href="../../_functions/assign_get_grade_details_for_print_overview.html" onMouseOver="funcPopup(event,'assign_get_grade_details_for_print_overview')">assign_get_grade_details_for_print_overview</a>(&amp;<a class="var it33034" onMouseOver="hilite(33034)" onMouseOut="lolite()" onClick="logVariable('unmarkedsubmissions')" href="../../_variables/unmarkedsubmissions.html">$unmarkedsubmissions</a>, <a class="var it33031" onMouseOver="hilite(33031)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>, <a class="var it33032" onMouseOver="hilite(33032)" onMouseOut="lolite()" onClick="logVariable('assignmentidparams')" href="../../_variables/assignmentidparams.html">$assignmentidparams</a>,
<a name="l579"><span class="linenum"> 579</span></a>                                                       <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>) {
<a name="l580"><span class="linenum"> 580</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l581"><span class="linenum"> 581</span></a>      if (!isset(<a class="var it33034" onMouseOver="hilite(33034)" onMouseOut="lolite()" onClick="logVariable('unmarkedsubmissions')" href="../../_variables/unmarkedsubmissions.html">$unmarkedsubmissions</a>)) {
<a name="l582"><span class="linenum"> 582</span></a>  <span class="comment">        // Build up and array of unmarked submissions indexed by assignment id/ userid</span>
<a name="l583"><span class="linenum"> 583</span></a>  <span class="comment">        // for use where the user has grading rights on assignment.</span>
<a name="l584"><span class="linenum"> 584</span></a>          <a class="var it11272" onMouseOver="hilite(11272)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(array(<a class="constant" onClick="logConstant('ASSIGN_SUBMISSION_STATUS_SUBMITTED')" href="../../_constants/ASSIGN_SUBMISSION_STATUS_SUBMITTED.html" onMouseOver="constPopup(event,'ASSIGN_SUBMISSION_STATUS_SUBMITTED')">ASSIGN_SUBMISSION_STATUS_SUBMITTED</a>), <a class="var it33032" onMouseOver="hilite(33032)" onMouseOut="lolite()" onClick="logVariable('assignmentidparams')" href="../../_variables/assignmentidparams.html">$assignmentidparams</a>);
<a name="l585"><span class="linenum"> 585</span></a>          <a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../_variables/rs.html">$rs</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>('SELECT s.assignment as assignment,
<a name="l586"><span class="linenum"> 586</span></a>                                               s.userid as userid,
<a name="l587"><span class="linenum"> 587</span></a>                                               s.id as id,
<a name="l588"><span class="linenum"> 588</span></a>                                               s.status as status,
<a name="l589"><span class="linenum"> 589</span></a>                                               g.timemodified as timegraded
<a name="l590"><span class="linenum"> 590</span></a>                                          FROM {assign_submission} s
<a name="l591"><span class="linenum"> 591</span></a>                                     LEFT JOIN {assign_grades} g ON
<a name="l592"><span class="linenum"> 592</span></a>                                               s.userid = g.userid AND
<a name="l593"><span class="linenum"> 593</span></a>                                               s.assignment = g.assignment AND
<a name="l594"><span class="linenum"> 594</span></a>                                               g.attemptnumber = s.attemptnumber
<a name="l595"><span class="linenum"> 595</span></a>                                         WHERE
<a name="l596"><span class="linenum"> 596</span></a>                                               ( g.timemodified is NULL OR
<a name="l597"><span class="linenum"> 597</span></a>                                               s.timemodified &gt; g.timemodified OR
<a name="l598"><span class="linenum"> 598</span></a>                                               g.grade IS NULL ) AND
<a name="l599"><span class="linenum"> 599</span></a>                                               s.timemodified IS NOT NULL AND
<a name="l600"><span class="linenum"> 600</span></a>                                               s.status = ? AND
<a name="l601"><span class="linenum"> 601</span></a>                                               s.latest = 1 AND
<a name="l602"><span class="linenum"> 602</span></a>                                               s.assignment ' . <a class="var it33031" onMouseOver="hilite(33031)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>, <a class="var it11272" onMouseOver="hilite(11272)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a>);
<a name="l603"><span class="linenum"> 603</span></a>  
<a name="l604"><span class="linenum"> 604</span></a>          <a class="var it33034" onMouseOver="hilite(33034)" onMouseOut="lolite()" onClick="logVariable('unmarkedsubmissions')" href="../../_variables/unmarkedsubmissions.html">$unmarkedsubmissions</a> = array();
<a name="l605"><span class="linenum"> 605</span></a>          foreach (<a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../_variables/rs.html">$rs</a> as <a class="var it29063" onMouseOver="hilite(29063)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>) {
<a name="l606"><span class="linenum"> 606</span></a>              <a class="var it33034" onMouseOver="hilite(33034)" onMouseOut="lolite()" onClick="logVariable('unmarkedsubmissions')" href="../../_variables/unmarkedsubmissions.html">$unmarkedsubmissions</a>[<a class="var it29063" onMouseOver="hilite(29063)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('assignment')" class="var it44183" onMouseOver="hilite(44183)" onMouseOut="lolite()" href="../../_variables/assignment.html">assignment</a>][<a class="var it29063" onMouseOver="hilite(29063)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('userid')" class="var it44183" onMouseOver="hilite(44183)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>] = <a class="var it29063" onMouseOver="hilite(29063)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('id')" class="var it44183" onMouseOver="hilite(44183)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l607"><span class="linenum"> 607</span></a>          }
<a name="l608"><span class="linenum"> 608</span></a>          <a class="var it83" onMouseOver="hilite(83)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../_variables/rs.html">$rs</a>-&gt;<a class="function" onClick="logFunction('close')" href="../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l609"><span class="linenum"> 609</span></a>      }
<a name="l610"><span class="linenum"> 610</span></a>  
<a name="l611"><span class="linenum"> 611</span></a>  <span class="comment">    // Count how many people can submit.</span>
<a name="l612"><span class="linenum"> 612</span></a>      <a class="var it8117" onMouseOver="hilite(8117)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a> = 0;
<a name="l613"><span class="linenum"> 613</span></a>      if (<a class="var it3996" onMouseOver="hilite(3996)" onMouseOut="lolite()" onClick="logVariable('students')" href="../../_variables/students.html">$students</a> = <a class="function" onClick="logFunction('get_enrolled_users')" href="../../_functions/get_enrolled_users.html" onMouseOver="funcPopup(event,'get_enrolled_users')">get_enrolled_users</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, 'mod/assign:view', 0, 'u.id')) {
<a name="l614"><span class="linenum"> 614</span></a>          foreach (<a class="var it3996" onMouseOver="hilite(3996)" onMouseOut="lolite()" onClick="logVariable('students')" href="../../_variables/students.html">$students</a> as <a class="var it4751" onMouseOver="hilite(4751)" onMouseOut="lolite()" onClick="logVariable('student')" href="../../_variables/student.html">$student</a>) {
<a name="l615"><span class="linenum"> 615</span></a>              if (isset(<a class="var it33034" onMouseOver="hilite(33034)" onMouseOut="lolite()" onClick="logVariable('unmarkedsubmissions')" href="../../_variables/unmarkedsubmissions.html">$unmarkedsubmissions</a>[<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('id')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>][<a class="var it4751" onMouseOver="hilite(4751)" onMouseOut="lolite()" onClick="logVariable('student')" href="../../_variables/student.html">$student</a>-&gt;<a onClick="logVariable('id')" class="var it42939" onMouseOver="hilite(42939)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>])) {
<a name="l616"><span class="linenum"> 616</span></a>                  <a class="var it8117" onMouseOver="hilite(8117)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a>++;
<a name="l617"><span class="linenum"> 617</span></a>              }
<a name="l618"><span class="linenum"> 618</span></a>          }
<a name="l619"><span class="linenum"> 619</span></a>      }
<a name="l620"><span class="linenum"> 620</span></a>  
<a name="l621"><span class="linenum"> 621</span></a>      if (<a class="var it8117" onMouseOver="hilite(8117)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a>) {
<a name="l622"><span class="linenum"> 622</span></a>          <a class="var it4704" onMouseOver="hilite(4704)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../../_variables/urlparams.html">$urlparams</a> = array('id' =&gt; <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/coursemodule.html">coursemodule</a>, 'action' =&gt; 'grading');
<a name="l623"><span class="linenum"> 623</span></a>          <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../mod/assign/view.php.html">/mod/assign/view.php</a>', <a class="var it4704" onMouseOver="hilite(4704)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../../_variables/urlparams.html">$urlparams</a>);
<a name="l624"><span class="linenum"> 624</span></a>          <a class="var it33036" onMouseOver="hilite(33036)" onMouseOut="lolite()" onClick="logVariable('gradedetails')" href="../../_variables/gradedetails.html">$gradedetails</a> = '&lt;div class=&quot;details&quot;&gt;' .
<a name="l625"><span class="linenum"> 625</span></a>                  '&lt;a href=&quot;' . <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> . '&quot;&gt;' .
<a name="l626"><span class="linenum"> 626</span></a>                  <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('submissionsnotgraded', 'assign', <a class="var it8117" onMouseOver="hilite(8117)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a>) .
<a name="l627"><span class="linenum"> 627</span></a>                  '&lt;/a&gt;&lt;/div&gt;';
<a name="l628"><span class="linenum"> 628</span></a>          return <a class="var it33036" onMouseOver="hilite(33036)" onMouseOut="lolite()" onClick="logVariable('gradedetails')" href="../../_variables/gradedetails.html">$gradedetails</a>;
<a name="l629"><span class="linenum"> 629</span></a>      } else {
<a name="l630"><span class="linenum"> 630</span></a>          return false;
<a name="l631"><span class="linenum"> 631</span></a>      }
<a name="l632"><span class="linenum"> 632</span></a>  
<a name="l633"><span class="linenum"> 633</span></a>  }
<a name="l634"><span class="linenum"> 634</span></a>  
<a name="l635"><span class="linenum"> 635</span></a>  <span class="comment">/**</span>
<a name="l636"><span class="linenum"> 636</span></a>  <span class="comment"> * Print recent activity from all assignments in a given course</span>
<a name="l637"><span class="linenum"> 637</span></a>  <span class="comment"> *</span>
<a name="l638"><span class="linenum"> 638</span></a>  <span class="comment"> * This is used by the recent activity block</span>
<a name="l639"><span class="linenum"> 639</span></a>  <span class="comment"> * @param mixed $course the course to print activity for</span>
<a name="l640"><span class="linenum"> 640</span></a>  <span class="comment"> * @param bool $viewfullnames boolean to determine whether to show full names or not</span>
<a name="l641"><span class="linenum"> 641</span></a>  <span class="comment"> * @param int $timestart the time the rendering started</span>
<a name="l642"><span class="linenum"> 642</span></a>  <span class="comment"> * @return bool true if activity was printed, false otherwise.</span>
<a name="l643"><span class="linenum"> 643</span></a>  <span class="comment"> */</span>
<a name="l644"><span class="linenum"> 644</span></a>  function <a class="function" onClick="logFunction('assign_print_recent_activity')" href="../../_functions/assign_print_recent_activity.html" onMouseOver="funcPopup(event,'assign_print_recent_activity')">assign_print_recent_activity</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it5397" onMouseOver="hilite(5397)" onMouseOut="lolite()" onClick="logVariable('viewfullnames')" href="../../_variables/viewfullnames.html">$viewfullnames</a>, <a class="var it1937" onMouseOver="hilite(1937)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../../_variables/timestart.html">$timestart</a>) {
<a name="l645"><span class="linenum"> 645</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l646"><span class="linenum"> 646</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l647"><span class="linenum"> 647</span></a>  
<a name="l648"><span class="linenum"> 648</span></a>  <span class="comment">    // Do not use log table if possible, it may be huge.</span>
<a name="l649"><span class="linenum"> 649</span></a>  
<a name="l650"><span class="linenum"> 650</span></a>      <a class="var it11272" onMouseOver="hilite(11272)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a> = array(<a class="var it1937" onMouseOver="hilite(1937)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../../_variables/timestart.html">$timestart</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'assign', <a class="constant" onClick="logConstant('ASSIGN_SUBMISSION_STATUS_SUBMITTED')" href="../../_constants/ASSIGN_SUBMISSION_STATUS_SUBMITTED.html" onMouseOver="constPopup(event,'ASSIGN_SUBMISSION_STATUS_SUBMITTED')">ASSIGN_SUBMISSION_STATUS_SUBMITTED</a>);
<a name="l651"><span class="linenum"> 651</span></a>      <a class="var it4348" onMouseOver="hilite(4348)" onMouseOut="lolite()" onClick="logVariable('namefields')" href="../../_variables/namefields.html">$namefields</a> = <a class="class" onClick="logClass('user_picture')" href="../../_classes/user_picture.html" onMouseOver="classPopup(event,'user_picture')">user_picture</a>::<a class="function" onClick="logFunction('fields')" href="../../_functions/fields.html" onMouseOver="funcPopup(event,'fields')">fields</a>('u', null, 'userid');
<a name="l652"><span class="linenum"> 652</span></a>      if (!<a class="var it8117" onMouseOver="hilite(8117)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(&quot;SELECT asb.id, asb.timemodified, cm.id AS cmid,
<a name="l653"><span class="linenum"> 653</span></a>                                                       <a class="var it4348" onMouseOver="hilite(4348)" onMouseOut="lolite()" onClick="logVariable('namefields')" href="../../_variables/namefields.html">$namefields</a>
<a name="l654"><span class="linenum"> 654</span></a>                                                  FROM {assign_submission} asb
<a name="l655"><span class="linenum"> 655</span></a>                                                       JOIN {assign} a      ON a.id = asb.assignment
<a name="l656"><span class="linenum"> 656</span></a>                                                       JOIN {course_modules} cm ON cm.instance = a.id
<a name="l657"><span class="linenum"> 657</span></a>                                                       JOIN {modules} md        ON md.id = cm.module
<a name="l658"><span class="linenum"> 658</span></a>                                                       JOIN {user} u            ON u.id = asb.userid
<a name="l659"><span class="linenum"> 659</span></a>                                                 WHERE asb.timemodified &gt; ? AND
<a name="l660"><span class="linenum"> 660</span></a>                                                       asb.latest = 1 AND
<a name="l661"><span class="linenum"> 661</span></a>                                                       a.course = ? AND
<a name="l662"><span class="linenum"> 662</span></a>                                                       md.name = ? AND
<a name="l663"><span class="linenum"> 663</span></a>                                                       asb.status = ?
<a name="l664"><span class="linenum"> 664</span></a>                                              ORDER BY asb.timemodified ASC&quot;, <a class="var it11272" onMouseOver="hilite(11272)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a>)) {
<a name="l665"><span class="linenum"> 665</span></a>           return false;
<a name="l666"><span class="linenum"> 666</span></a>      }
<a name="l667"><span class="linenum"> 667</span></a>  
<a name="l668"><span class="linenum"> 668</span></a>      <a class="var it697" onMouseOver="hilite(697)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a> = <a class="function" onClick="logFunction('get_fast_modinfo')" href="../../_functions/get_fast_modinfo.html" onMouseOver="funcPopup(event,'get_fast_modinfo')">get_fast_modinfo</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l669"><span class="linenum"> 669</span></a>      <a class="var it1794" onMouseOver="hilite(1794)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a>    = array();
<a name="l670"><span class="linenum"> 670</span></a>      <a class="var it8956" onMouseOver="hilite(8956)" onMouseOut="lolite()" onClick="logVariable('grader')" href="../../_variables/grader.html">$grader</a>  = array();
<a name="l671"><span class="linenum"> 671</span></a>  
<a name="l672"><span class="linenum"> 672</span></a>      <a class="var it33039" onMouseOver="hilite(33039)" onMouseOut="lolite()" onClick="logVariable('showrecentsubmissions')" href="../../_variables/showrecentsubmissions.html">$showrecentsubmissions</a> = <a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('assign', 'showrecentsubmissions');
<a name="l673"><span class="linenum"> 673</span></a>  
<a name="l674"><span class="linenum"> 674</span></a>      foreach (<a class="var it8117" onMouseOver="hilite(8117)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a> as <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>) {
<a name="l675"><span class="linenum"> 675</span></a>          if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('cmid')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>, <a class="var it697" onMouseOver="hilite(697)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_cms')" href="../../_functions/get_cms.html" onMouseOver="funcPopup(event,'get_cms')">get_cms</a>())) {
<a name="l676"><span class="linenum"> 676</span></a>              continue;
<a name="l677"><span class="linenum"> 677</span></a>          }
<a name="l678"><span class="linenum"> 678</span></a>          <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="var it697" onMouseOver="hilite(697)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_cm')" href="../../_functions/get_cm.html" onMouseOver="funcPopup(event,'get_cm')">get_cm</a>(<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('cmid')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>);
<a name="l679"><span class="linenum"> 679</span></a>          if (!<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('uservisible')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/uservisible.html">uservisible</a>) {
<a name="l680"><span class="linenum"> 680</span></a>              continue;
<a name="l681"><span class="linenum"> 681</span></a>          }
<a name="l682"><span class="linenum"> 682</span></a>          if (<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('userid')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a> == <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>) {
<a name="l683"><span class="linenum"> 683</span></a>              <a class="var it1794" onMouseOver="hilite(1794)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a>[] = <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>;
<a name="l684"><span class="linenum"> 684</span></a>              continue;
<a name="l685"><span class="linenum"> 685</span></a>          }
<a name="l686"><span class="linenum"> 686</span></a>  
<a name="l687"><span class="linenum"> 687</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('cmid')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>);
<a name="l688"><span class="linenum"> 688</span></a>  <span class="comment">        // The act of submitting of assignment may be considered private -</span>
<a name="l689"><span class="linenum"> 689</span></a>  <span class="comment">        // only graders will see it if specified.</span>
<a name="l690"><span class="linenum"> 690</span></a>          if (empty(<a class="var it33039" onMouseOver="hilite(33039)" onMouseOut="lolite()" onClick="logVariable('showrecentsubmissions')" href="../../_variables/showrecentsubmissions.html">$showrecentsubmissions</a>)) {
<a name="l691"><span class="linenum"> 691</span></a>              if (!<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it8956" onMouseOver="hilite(8956)" onMouseOut="lolite()" onClick="logVariable('grader')" href="../../_variables/grader.html">$grader</a>)) {
<a name="l692"><span class="linenum"> 692</span></a>                  <a class="var it8956" onMouseOver="hilite(8956)" onMouseOut="lolite()" onClick="logVariable('grader')" href="../../_variables/grader.html">$grader</a>[<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>] = <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:viewall', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l693"><span class="linenum"> 693</span></a>              }
<a name="l694"><span class="linenum"> 694</span></a>              if (!<a class="var it8956" onMouseOver="hilite(8956)" onMouseOut="lolite()" onClick="logVariable('grader')" href="../../_variables/grader.html">$grader</a>[<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]) {
<a name="l695"><span class="linenum"> 695</span></a>                  continue;
<a name="l696"><span class="linenum"> 696</span></a>              }
<a name="l697"><span class="linenum"> 697</span></a>          }
<a name="l698"><span class="linenum"> 698</span></a>  
<a name="l699"><span class="linenum"> 699</span></a>          <a class="var it688" onMouseOver="hilite(688)" onMouseOut="lolite()" onClick="logVariable('groupmode')" href="../../_variables/groupmode.html">$groupmode</a> = <a class="function" onClick="logFunction('groups_get_activity_groupmode')" href="../../_functions/groups_get_activity_groupmode.html" onMouseOver="funcPopup(event,'groups_get_activity_groupmode')">groups_get_activity_groupmode</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l700"><span class="linenum"> 700</span></a>  
<a name="l701"><span class="linenum"> 701</span></a>          if (<a class="var it688" onMouseOver="hilite(688)" onMouseOut="lolite()" onClick="logVariable('groupmode')" href="../../_variables/groupmode.html">$groupmode</a> == <a class="constant" onClick="logConstant('SEPARATEGROUPS')" href="../../_constants/SEPARATEGROUPS.html" onMouseOver="constPopup(event,'SEPARATEGROUPS')">SEPARATEGROUPS</a> &amp;&amp;
<a name="l702"><span class="linenum"> 702</span></a>                  !<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/site:accessallgroups',  <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l703"><span class="linenum"> 703</span></a>              if (<a class="function" onClick="logFunction('isguestuser')" href="../../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>()) {
<a name="l704"><span class="linenum"> 704</span></a>  <span class="comment">                // Shortcut - guest user does not belong into any group.</span>
<a name="l705"><span class="linenum"> 705</span></a>                  continue;
<a name="l706"><span class="linenum"> 706</span></a>              }
<a name="l707"><span class="linenum"> 707</span></a>  
<a name="l708"><span class="linenum"> 708</span></a>  <span class="comment">            // This will be slow - show only users that share group with me in this cm.</span>
<a name="l709"><span class="linenum"> 709</span></a>              if (!<a class="var it697" onMouseOver="hilite(697)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_groups')" href="../../_functions/get_groups.html" onMouseOver="funcPopup(event,'get_groups')">get_groups</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('groupingid')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/groupingid.html">groupingid</a>)) {
<a name="l710"><span class="linenum"> 710</span></a>                  continue;
<a name="l711"><span class="linenum"> 711</span></a>              }
<a name="l712"><span class="linenum"> 712</span></a>              <a class="var it8054" onMouseOver="hilite(8054)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a> =  <a class="function" onClick="logFunction('groups_get_all_groups')" href="../../_functions/groups_get_all_groups.html" onMouseOver="funcPopup(event,'groups_get_all_groups')">groups_get_all_groups</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('userid')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('groupingid')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/groupingid.html">groupingid</a>);
<a name="l713"><span class="linenum"> 713</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it8054" onMouseOver="hilite(8054)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a>)) {
<a name="l714"><span class="linenum"> 714</span></a>                  <a class="var it8054" onMouseOver="hilite(8054)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it8054" onMouseOver="hilite(8054)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a>);
<a name="l715"><span class="linenum"> 715</span></a>                  <a class="var it22934" onMouseOver="hilite(22934)" onMouseOut="lolite()" onClick="logVariable('intersect')" href="../../_variables/intersect.html">$intersect</a> = <a class="phpfunction" onClick="logFunction('array_intersect')" href="../../_functions/array_intersect.html" onMouseOver="phpfuncPopup(event,'array_intersect')">array_intersect</a>(<a class="var it8054" onMouseOver="hilite(8054)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a>, <a class="var it697" onMouseOver="hilite(697)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_groups')" href="../../_functions/get_groups.html" onMouseOver="funcPopup(event,'get_groups')">get_groups</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('groupingid')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/groupingid.html">groupingid</a>));
<a name="l716"><span class="linenum"> 716</span></a>                  if (empty(<a class="var it22934" onMouseOver="hilite(22934)" onMouseOut="lolite()" onClick="logVariable('intersect')" href="../../_variables/intersect.html">$intersect</a>)) {
<a name="l717"><span class="linenum"> 717</span></a>                      continue;
<a name="l718"><span class="linenum"> 718</span></a>                  }
<a name="l719"><span class="linenum"> 719</span></a>              }
<a name="l720"><span class="linenum"> 720</span></a>          }
<a name="l721"><span class="linenum"> 721</span></a>          <a class="var it1794" onMouseOver="hilite(1794)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a>[] = <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>;
<a name="l722"><span class="linenum"> 722</span></a>      }
<a name="l723"><span class="linenum"> 723</span></a>  
<a name="l724"><span class="linenum"> 724</span></a>      if (empty(<a class="var it1794" onMouseOver="hilite(1794)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a>)) {
<a name="l725"><span class="linenum"> 725</span></a>          return false;
<a name="l726"><span class="linenum"> 726</span></a>      }
<a name="l727"><span class="linenum"> 727</span></a>  
<a name="l728"><span class="linenum"> 728</span></a>      echo <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('newsubmissions', 'assign').':', 3);
<a name="l729"><span class="linenum"> 729</span></a>  
<a name="l730"><span class="linenum"> 730</span></a>      foreach (<a class="var it1794" onMouseOver="hilite(1794)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a> as <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>) {
<a name="l731"><span class="linenum"> 731</span></a>          <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="var it697" onMouseOver="hilite(697)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_cm')" href="../../_functions/get_cm.html" onMouseOver="funcPopup(event,'get_cm')">get_cm</a>(<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('cmid')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>);
<a name="l732"><span class="linenum"> 732</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('cmid')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>);
<a name="l733"><span class="linenum"> 733</span></a>          <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('course')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>);
<a name="l734"><span class="linenum"> 734</span></a>          <a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>.'/mod/assign/view.php?id='.<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l735"><span class="linenum"> 735</span></a>  <span class="comment">        // Obscure first and last name if blind marking enabled.</span>
<a name="l736"><span class="linenum"> 736</span></a>          if (<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('is_blind_marking')" href="../../_functions/is_blind_marking.html" onMouseOver="funcPopup(event,'is_blind_marking')">is_blind_marking</a>()) {
<a name="l737"><span class="linenum"> 737</span></a>              <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('firstname')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/firstname.html">firstname</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('participant', 'mod_assign');
<a name="l738"><span class="linenum"> 738</span></a>              <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('lastname')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/lastname.html">lastname</a> = <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('get_uniqueid_for_user')" href="../../_functions/get_uniqueid_for_user.html" onMouseOver="funcPopup(event,'get_uniqueid_for_user')">get_uniqueid_for_user</a>(<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('userid')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>);
<a name="l739"><span class="linenum"> 739</span></a>          }
<a name="l740"><span class="linenum"> 740</span></a>          <a class="function" onClick="logFunction('print_recent_activity_note')" href="../../_functions/print_recent_activity_note.html" onMouseOver="funcPopup(event,'print_recent_activity_note')">print_recent_activity_note</a>(<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('timemodified')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a>,
<a name="l741"><span class="linenum"> 741</span></a>                                     <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>,
<a name="l742"><span class="linenum"> 742</span></a>                                     <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('name')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>,
<a name="l743"><span class="linenum"> 743</span></a>                                     <a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>,
<a name="l744"><span class="linenum"> 744</span></a>                                     false,
<a name="l745"><span class="linenum"> 745</span></a>                                     <a class="var it5397" onMouseOver="hilite(5397)" onMouseOut="lolite()" onClick="logVariable('viewfullnames')" href="../../_variables/viewfullnames.html">$viewfullnames</a>);
<a name="l746"><span class="linenum"> 746</span></a>      }
<a name="l747"><span class="linenum"> 747</span></a>  
<a name="l748"><span class="linenum"> 748</span></a>      return true;
<a name="l749"><span class="linenum"> 749</span></a>  }
<a name="l750"><span class="linenum"> 750</span></a>  
<a name="l751"><span class="linenum"> 751</span></a>  <span class="comment">/**</span>
<a name="l752"><span class="linenum"> 752</span></a>  <span class="comment"> * Returns all assignments since a given time.</span>
<a name="l753"><span class="linenum"> 753</span></a>  <span class="comment"> *</span>
<a name="l754"><span class="linenum"> 754</span></a>  <span class="comment"> * @param array $activities The activity information is returned in this array</span>
<a name="l755"><span class="linenum"> 755</span></a>  <span class="comment"> * @param int $index The current index in the activities array</span>
<a name="l756"><span class="linenum"> 756</span></a>  <span class="comment"> * @param int $timestart The earliest activity to show</span>
<a name="l757"><span class="linenum"> 757</span></a>  <span class="comment"> * @param int $courseid Limit the search to this course</span>
<a name="l758"><span class="linenum"> 758</span></a>  <span class="comment"> * @param int $cmid The course module id</span>
<a name="l759"><span class="linenum"> 759</span></a>  <span class="comment"> * @param int $userid Optional user id</span>
<a name="l760"><span class="linenum"> 760</span></a>  <span class="comment"> * @param int $groupid Optional group id</span>
<a name="l761"><span class="linenum"> 761</span></a>  <span class="comment"> * @return void</span>
<a name="l762"><span class="linenum"> 762</span></a>  <span class="comment"> */</span>
<a name="l763"><span class="linenum"> 763</span></a>  function <a class="function" onClick="logFunction('assign_get_recent_mod_activity')" href="../../_functions/assign_get_recent_mod_activity.html" onMouseOver="funcPopup(event,'assign_get_recent_mod_activity')">assign_get_recent_mod_activity</a>(&amp;<a class="var it561" onMouseOver="hilite(561)" onMouseOut="lolite()" onClick="logVariable('activities')" href="../../_variables/activities.html">$activities</a>,
<a name="l764"><span class="linenum"> 764</span></a>                                          &amp;<a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a>,
<a name="l765"><span class="linenum"> 765</span></a>                                          <a class="var it1937" onMouseOver="hilite(1937)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../../_variables/timestart.html">$timestart</a>,
<a name="l766"><span class="linenum"> 766</span></a>                                          <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>,
<a name="l767"><span class="linenum"> 767</span></a>                                          <a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>,
<a name="l768"><span class="linenum"> 768</span></a>                                          <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>=0,
<a name="l769"><span class="linenum"> 769</span></a>                                          <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../_variables/groupid.html">$groupid</a>=0) {
<a name="l770"><span class="linenum"> 770</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it586" onMouseOver="hilite(586)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../../_variables/COURSE.html">$COURSE</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l771"><span class="linenum"> 771</span></a>  
<a name="l772"><span class="linenum"> 772</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l773"><span class="linenum"> 773</span></a>  
<a name="l774"><span class="linenum"> 774</span></a>      if (<a class="var it586" onMouseOver="hilite(586)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../../_variables/COURSE.html">$COURSE</a>-&gt;<a onClick="logVariable('id')" class="var it43316" onMouseOver="hilite(43316)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> == <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>) {
<a name="l775"><span class="linenum"> 775</span></a>          <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it586" onMouseOver="hilite(586)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../../_variables/COURSE.html">$COURSE</a>;
<a name="l776"><span class="linenum"> 776</span></a>      } else {
<a name="l777"><span class="linenum"> 777</span></a>          <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id'=&gt;<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>));
<a name="l778"><span class="linenum"> 778</span></a>      }
<a name="l779"><span class="linenum"> 779</span></a>  
<a name="l780"><span class="linenum"> 780</span></a>      <a class="var it697" onMouseOver="hilite(697)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a> = <a class="function" onClick="logFunction('get_fast_modinfo')" href="../../_functions/get_fast_modinfo.html" onMouseOver="funcPopup(event,'get_fast_modinfo')">get_fast_modinfo</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l781"><span class="linenum"> 781</span></a>  
<a name="l782"><span class="linenum"> 782</span></a>      <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="var it697" onMouseOver="hilite(697)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_cm')" href="../../_functions/get_cm.html" onMouseOver="funcPopup(event,'get_cm')">get_cm</a>(<a class="var it1077" onMouseOver="hilite(1077)" onMouseOut="lolite()" onClick="logVariable('cmid')" href="../../_variables/cmid.html">$cmid</a>);
<a name="l783"><span class="linenum"> 783</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array();
<a name="l784"><span class="linenum"> 784</span></a>      if (<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>) {
<a name="l785"><span class="linenum"> 785</span></a>          <a class="var it3979" onMouseOver="hilite(3979)" onMouseOut="lolite()" onClick="logVariable('userselect')" href="../../_variables/userselect.html">$userselect</a> = 'AND u.id = :userid';
<a name="l786"><span class="linenum"> 786</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userid'] = <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>;
<a name="l787"><span class="linenum"> 787</span></a>      } else {
<a name="l788"><span class="linenum"> 788</span></a>          <a class="var it3979" onMouseOver="hilite(3979)" onMouseOut="lolite()" onClick="logVariable('userselect')" href="../../_variables/userselect.html">$userselect</a> = '';
<a name="l789"><span class="linenum"> 789</span></a>      }
<a name="l790"><span class="linenum"> 790</span></a>  
<a name="l791"><span class="linenum"> 791</span></a>      if (<a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../_variables/groupid.html">$groupid</a>) {
<a name="l792"><span class="linenum"> 792</span></a>          <a class="var it5686" onMouseOver="hilite(5686)" onMouseOut="lolite()" onClick="logVariable('groupselect')" href="../../_variables/groupselect.html">$groupselect</a> = 'AND gm.groupid = :groupid';
<a name="l793"><span class="linenum"> 793</span></a>          <a class="var it9803" onMouseOver="hilite(9803)" onMouseOut="lolite()" onClick="logVariable('groupjoin')" href="../../_variables/groupjoin.html">$groupjoin</a>   = 'JOIN {groups_members} gm ON  gm.userid=u.id';
<a name="l794"><span class="linenum"> 794</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['groupid'] = <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../_variables/groupid.html">$groupid</a>;
<a name="l795"><span class="linenum"> 795</span></a>      } else {
<a name="l796"><span class="linenum"> 796</span></a>          <a class="var it5686" onMouseOver="hilite(5686)" onMouseOut="lolite()" onClick="logVariable('groupselect')" href="../../_variables/groupselect.html">$groupselect</a> = '';
<a name="l797"><span class="linenum"> 797</span></a>          <a class="var it9803" onMouseOver="hilite(9803)" onMouseOut="lolite()" onClick="logVariable('groupjoin')" href="../../_variables/groupjoin.html">$groupjoin</a>   = '';
<a name="l798"><span class="linenum"> 798</span></a>      }
<a name="l799"><span class="linenum"> 799</span></a>  
<a name="l800"><span class="linenum"> 800</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['cminstance'] = <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>;
<a name="l801"><span class="linenum"> 801</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['timestart'] = <a class="var it1937" onMouseOver="hilite(1937)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../../_variables/timestart.html">$timestart</a>;
<a name="l802"><span class="linenum"> 802</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['submitted'] = <a class="constant" onClick="logConstant('ASSIGN_SUBMISSION_STATUS_SUBMITTED')" href="../../_constants/ASSIGN_SUBMISSION_STATUS_SUBMITTED.html" onMouseOver="constPopup(event,'ASSIGN_SUBMISSION_STATUS_SUBMITTED')">ASSIGN_SUBMISSION_STATUS_SUBMITTED</a>;
<a name="l803"><span class="linenum"> 803</span></a>  
<a name="l804"><span class="linenum"> 804</span></a>      <a class="var it4004" onMouseOver="hilite(4004)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../../_variables/userfields.html">$userfields</a> = <a class="class" onClick="logClass('user_picture')" href="../../_classes/user_picture.html" onMouseOver="classPopup(event,'user_picture')">user_picture</a>::<a class="function" onClick="logFunction('fields')" href="../../_functions/fields.html" onMouseOver="funcPopup(event,'fields')">fields</a>('u', null, 'userid');
<a name="l805"><span class="linenum"> 805</span></a>  
<a name="l806"><span class="linenum"> 806</span></a>      if (!<a class="var it8117" onMouseOver="hilite(8117)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>('SELECT asb.id, asb.timemodified, ' .
<a name="l807"><span class="linenum"> 807</span></a>                                                       <a class="var it4004" onMouseOver="hilite(4004)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../../_variables/userfields.html">$userfields</a> .
<a name="l808"><span class="linenum"> 808</span></a>                                               '  FROM {assign_submission} asb
<a name="l809"><span class="linenum"> 809</span></a>                                                  JOIN {assign} a ON a.id = asb.assignment
<a name="l810"><span class="linenum"> 810</span></a>                                                  JOIN {user} u ON u.id = asb.userid ' .
<a name="l811"><span class="linenum"> 811</span></a>                                            <a class="var it9803" onMouseOver="hilite(9803)" onMouseOut="lolite()" onClick="logVariable('groupjoin')" href="../../_variables/groupjoin.html">$groupjoin</a> .
<a name="l812"><span class="linenum"> 812</span></a>                                              '  WHERE asb.timemodified &gt; :timestart AND
<a name="l813"><span class="linenum"> 813</span></a>                                                       asb.status = :submitted AND
<a name="l814"><span class="linenum"> 814</span></a>                                                       a.id = :cminstance
<a name="l815"><span class="linenum"> 815</span></a>                                                       ' . <a class="var it3979" onMouseOver="hilite(3979)" onMouseOut="lolite()" onClick="logVariable('userselect')" href="../../_variables/userselect.html">$userselect</a> . ' ' . <a class="var it5686" onMouseOver="hilite(5686)" onMouseOut="lolite()" onClick="logVariable('groupselect')" href="../../_variables/groupselect.html">$groupselect</a> .
<a name="l816"><span class="linenum"> 816</span></a>                                              ' ORDER BY asb.timemodified ASC', <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>)) {
<a name="l817"><span class="linenum"> 817</span></a>           return;
<a name="l818"><span class="linenum"> 818</span></a>      }
<a name="l819"><span class="linenum"> 819</span></a>  
<a name="l820"><span class="linenum"> 820</span></a>      <a class="var it688" onMouseOver="hilite(688)" onMouseOut="lolite()" onClick="logVariable('groupmode')" href="../../_variables/groupmode.html">$groupmode</a>       = <a class="function" onClick="logFunction('groups_get_activity_groupmode')" href="../../_functions/groups_get_activity_groupmode.html" onMouseOver="funcPopup(event,'groups_get_activity_groupmode')">groups_get_activity_groupmode</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l821"><span class="linenum"> 821</span></a>      <a class="var it13823" onMouseOver="hilite(13823)" onMouseOut="lolite()" onClick="logVariable('cmcontext')" href="../../_variables/cmcontext.html">$cmcontext</a>      = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l822"><span class="linenum"> 822</span></a>      <a class="var it8956" onMouseOver="hilite(8956)" onMouseOut="lolite()" onClick="logVariable('grader')" href="../../_variables/grader.html">$grader</a>          = <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/grade:viewall', <a class="var it13823" onMouseOver="hilite(13823)" onMouseOut="lolite()" onClick="logVariable('cmcontext')" href="../../_variables/cmcontext.html">$cmcontext</a>);
<a name="l823"><span class="linenum"> 823</span></a>      <a class="var it9805" onMouseOver="hilite(9805)" onMouseOut="lolite()" onClick="logVariable('accessallgroups')" href="../../_variables/accessallgroups.html">$accessallgroups</a> = <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/site:accessallgroups', <a class="var it13823" onMouseOver="hilite(13823)" onMouseOut="lolite()" onClick="logVariable('cmcontext')" href="../../_variables/cmcontext.html">$cmcontext</a>);
<a name="l824"><span class="linenum"> 824</span></a>      <a class="var it5397" onMouseOver="hilite(5397)" onMouseOut="lolite()" onClick="logVariable('viewfullnames')" href="../../_variables/viewfullnames.html">$viewfullnames</a>   = <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/site:viewfullnames', <a class="var it13823" onMouseOver="hilite(13823)" onMouseOut="lolite()" onClick="logVariable('cmcontext')" href="../../_variables/cmcontext.html">$cmcontext</a>);
<a name="l825"><span class="linenum"> 825</span></a>  
<a name="l826"><span class="linenum"> 826</span></a>  
<a name="l827"><span class="linenum"> 827</span></a>      <a class="var it33039" onMouseOver="hilite(33039)" onMouseOut="lolite()" onClick="logVariable('showrecentsubmissions')" href="../../_variables/showrecentsubmissions.html">$showrecentsubmissions</a> = <a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('assign', 'showrecentsubmissions');
<a name="l828"><span class="linenum"> 828</span></a>      <a class="var it1794" onMouseOver="hilite(1794)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a> = array();
<a name="l829"><span class="linenum"> 829</span></a>      foreach (<a class="var it8117" onMouseOver="hilite(8117)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a> as <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>) {
<a name="l830"><span class="linenum"> 830</span></a>          if (<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('userid')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a> == <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>) {
<a name="l831"><span class="linenum"> 831</span></a>              <a class="var it1794" onMouseOver="hilite(1794)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a>[] = <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>;
<a name="l832"><span class="linenum"> 832</span></a>              continue;
<a name="l833"><span class="linenum"> 833</span></a>          }
<a name="l834"><span class="linenum"> 834</span></a>  <span class="comment">        // The act of submitting of assignment may be considered private -</span>
<a name="l835"><span class="linenum"> 835</span></a>  <span class="comment">        // only graders will see it if specified.</span>
<a name="l836"><span class="linenum"> 836</span></a>          if (empty(<a class="var it33039" onMouseOver="hilite(33039)" onMouseOut="lolite()" onClick="logVariable('showrecentsubmissions')" href="../../_variables/showrecentsubmissions.html">$showrecentsubmissions</a>)) {
<a name="l837"><span class="linenum"> 837</span></a>              if (!<a class="var it8956" onMouseOver="hilite(8956)" onMouseOut="lolite()" onClick="logVariable('grader')" href="../../_variables/grader.html">$grader</a>) {
<a name="l838"><span class="linenum"> 838</span></a>                  continue;
<a name="l839"><span class="linenum"> 839</span></a>              }
<a name="l840"><span class="linenum"> 840</span></a>          }
<a name="l841"><span class="linenum"> 841</span></a>  
<a name="l842"><span class="linenum"> 842</span></a>          if (<a class="var it688" onMouseOver="hilite(688)" onMouseOut="lolite()" onClick="logVariable('groupmode')" href="../../_variables/groupmode.html">$groupmode</a> == <a class="constant" onClick="logConstant('SEPARATEGROUPS')" href="../../_constants/SEPARATEGROUPS.html" onMouseOver="constPopup(event,'SEPARATEGROUPS')">SEPARATEGROUPS</a> and !<a class="var it9805" onMouseOver="hilite(9805)" onMouseOut="lolite()" onClick="logVariable('accessallgroups')" href="../../_variables/accessallgroups.html">$accessallgroups</a>) {
<a name="l843"><span class="linenum"> 843</span></a>              if (<a class="function" onClick="logFunction('isguestuser')" href="../../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>()) {
<a name="l844"><span class="linenum"> 844</span></a>  <span class="comment">                // Shortcut - guest user does not belong into any group.</span>
<a name="l845"><span class="linenum"> 845</span></a>                  continue;
<a name="l846"><span class="linenum"> 846</span></a>              }
<a name="l847"><span class="linenum"> 847</span></a>  
<a name="l848"><span class="linenum"> 848</span></a>  <span class="comment">            // This will be slow - show only users that share group with me in this cm.</span>
<a name="l849"><span class="linenum"> 849</span></a>              if (!<a class="var it697" onMouseOver="hilite(697)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_groups')" href="../../_functions/get_groups.html" onMouseOver="funcPopup(event,'get_groups')">get_groups</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('groupingid')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/groupingid.html">groupingid</a>)) {
<a name="l850"><span class="linenum"> 850</span></a>                  continue;
<a name="l851"><span class="linenum"> 851</span></a>              }
<a name="l852"><span class="linenum"> 852</span></a>              <a class="var it8054" onMouseOver="hilite(8054)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a> =  <a class="function" onClick="logFunction('groups_get_all_groups')" href="../../_functions/groups_get_all_groups.html" onMouseOver="funcPopup(event,'groups_get_all_groups')">groups_get_all_groups</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('userid')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('groupingid')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/groupingid.html">groupingid</a>);
<a name="l853"><span class="linenum"> 853</span></a>              if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it8054" onMouseOver="hilite(8054)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a>)) {
<a name="l854"><span class="linenum"> 854</span></a>                  <a class="var it8054" onMouseOver="hilite(8054)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it8054" onMouseOver="hilite(8054)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a>);
<a name="l855"><span class="linenum"> 855</span></a>                  <a class="var it22934" onMouseOver="hilite(22934)" onMouseOut="lolite()" onClick="logVariable('intersect')" href="../../_variables/intersect.html">$intersect</a> = <a class="phpfunction" onClick="logFunction('array_intersect')" href="../../_functions/array_intersect.html" onMouseOver="phpfuncPopup(event,'array_intersect')">array_intersect</a>(<a class="var it8054" onMouseOver="hilite(8054)" onMouseOut="lolite()" onClick="logVariable('usersgroups')" href="../../_variables/usersgroups.html">$usersgroups</a>, <a class="var it697" onMouseOver="hilite(697)" onMouseOut="lolite()" onClick="logVariable('modinfo')" href="../../_variables/modinfo.html">$modinfo</a>-&gt;<a class="function" onClick="logFunction('get_groups')" href="../../_functions/get_groups.html" onMouseOver="funcPopup(event,'get_groups')">get_groups</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('groupingid')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/groupingid.html">groupingid</a>));
<a name="l856"><span class="linenum"> 856</span></a>                  if (empty(<a class="var it22934" onMouseOver="hilite(22934)" onMouseOut="lolite()" onClick="logVariable('intersect')" href="../../_variables/intersect.html">$intersect</a>)) {
<a name="l857"><span class="linenum"> 857</span></a>                      continue;
<a name="l858"><span class="linenum"> 858</span></a>                  }
<a name="l859"><span class="linenum"> 859</span></a>              }
<a name="l860"><span class="linenum"> 860</span></a>          }
<a name="l861"><span class="linenum"> 861</span></a>          <a class="var it1794" onMouseOver="hilite(1794)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a>[] = <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>;
<a name="l862"><span class="linenum"> 862</span></a>      }
<a name="l863"><span class="linenum"> 863</span></a>  
<a name="l864"><span class="linenum"> 864</span></a>      if (empty(<a class="var it1794" onMouseOver="hilite(1794)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a>)) {
<a name="l865"><span class="linenum"> 865</span></a>          return;
<a name="l866"><span class="linenum"> 866</span></a>      }
<a name="l867"><span class="linenum"> 867</span></a>  
<a name="l868"><span class="linenum"> 868</span></a>      if (<a class="var it8956" onMouseOver="hilite(8956)" onMouseOut="lolite()" onClick="logVariable('grader')" href="../../_variables/grader.html">$grader</a>) {
<a name="l869"><span class="linenum"> 869</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>.'/gradelib.php');
<a name="l870"><span class="linenum"> 870</span></a>          <a class="var it4024" onMouseOver="hilite(4024)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a> = array();
<a name="l871"><span class="linenum"> 871</span></a>          foreach (<a class="var it1794" onMouseOver="hilite(1794)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a> as <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> =&gt; <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>) {
<a name="l872"><span class="linenum"> 872</span></a>              <a class="var it4024" onMouseOver="hilite(4024)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a>[] = <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('userid')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>;
<a name="l873"><span class="linenum"> 873</span></a>          }
<a name="l874"><span class="linenum"> 874</span></a>          <a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> = <a class="function" onClick="logFunction('grade_get_grades')" href="../../_functions/grade_get_grades.html" onMouseOver="funcPopup(event,'grade_get_grades')">grade_get_grades</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, 'mod', 'assign', <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>, <a class="var it4024" onMouseOver="hilite(4024)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a>);
<a name="l875"><span class="linenum"> 875</span></a>      }
<a name="l876"><span class="linenum"> 876</span></a>  
<a name="l877"><span class="linenum"> 877</span></a>      <a class="var it9806" onMouseOver="hilite(9806)" onMouseOut="lolite()" onClick="logVariable('aname')" href="../../_variables/aname.html">$aname</a> = <a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('name')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>, true);
<a name="l878"><span class="linenum"> 878</span></a>      foreach (<a class="var it1794" onMouseOver="hilite(1794)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../_variables/show.html">$show</a> as <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>) {
<a name="l879"><span class="linenum"> 879</span></a>          <a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a> = new stdClass();
<a name="l880"><span class="linenum"> 880</span></a>  
<a name="l881"><span class="linenum"> 881</span></a>          <a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('type')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/type.html">type</a>         = 'assign';
<a name="l882"><span class="linenum"> 882</span></a>          <a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('cmid')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>         = <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l883"><span class="linenum"> 883</span></a>          <a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('name')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>         = <a class="var it9806" onMouseOver="hilite(9806)" onMouseOut="lolite()" onClick="logVariable('aname')" href="../../_variables/aname.html">$aname</a>;
<a name="l884"><span class="linenum"> 884</span></a>          <a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('sectionnum')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/sectionnum.html">sectionnum</a>   = <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('sectionnum')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/sectionnum.html">sectionnum</a>;
<a name="l885"><span class="linenum"> 885</span></a>          <a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('timestamp')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/timestamp.html">timestamp</a>    = <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('timemodified')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a>;
<a name="l886"><span class="linenum"> 886</span></a>          <a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('user')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/user.html">user</a>         = new stdClass();
<a name="l887"><span class="linenum"> 887</span></a>          if (<a class="var it8956" onMouseOver="hilite(8956)" onMouseOut="lolite()" onClick="logVariable('grader')" href="../../_variables/grader.html">$grader</a>) {
<a name="l888"><span class="linenum"> 888</span></a>              <a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('grade')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> = <a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>-&gt;<a onClick="logVariable('items')" class="var it43825" onMouseOver="hilite(43825)" onMouseOut="lolite()" href="../../_variables/items.html">items</a>[0]-&gt;grades[<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('userid')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>]-&gt;str_long_grade;
<a name="l889"><span class="linenum"> 889</span></a>          }
<a name="l890"><span class="linenum"> 890</span></a>  
<a name="l891"><span class="linenum"> 891</span></a>          <a class="var it4004" onMouseOver="hilite(4004)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../../_variables/userfields.html">$userfields</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(',', <a class="class" onClick="logClass('user_picture')" href="../../_classes/user_picture.html" onMouseOver="classPopup(event,'user_picture')">user_picture</a>::<a class="function" onClick="logFunction('fields')" href="../../_functions/fields.html" onMouseOver="funcPopup(event,'fields')">fields</a>());
<a name="l892"><span class="linenum"> 892</span></a>          foreach (<a class="var it4004" onMouseOver="hilite(4004)" onMouseOut="lolite()" onClick="logVariable('userfields')" href="../../_variables/userfields.html">$userfields</a> as <a class="var it6002" onMouseOver="hilite(6002)" onMouseOut="lolite()" onClick="logVariable('userfield')" href="../../_variables/userfield.html">$userfield</a>) {
<a name="l893"><span class="linenum"> 893</span></a>              if (<a class="var it6002" onMouseOver="hilite(6002)" onMouseOut="lolite()" onClick="logVariable('userfield')" href="../../_variables/userfield.html">$userfield</a> == 'id') {
<a name="l894"><span class="linenum"> 894</span></a>  <span class="comment">                // Aliased in SQL above.</span>
<a name="l895"><span class="linenum"> 895</span></a>                  <a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('user')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/user.html">user</a>-&gt;{<a class="var it6002" onMouseOver="hilite(6002)" onMouseOut="lolite()" onClick="logVariable('userfield')" href="../../_variables/userfield.html">$userfield</a>} = <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('userid')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>;
<a name="l896"><span class="linenum"> 896</span></a>              } else {
<a name="l897"><span class="linenum"> 897</span></a>                  <a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('user')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/user.html">user</a>-&gt;{<a class="var it6002" onMouseOver="hilite(6002)" onMouseOut="lolite()" onClick="logVariable('userfield')" href="../../_variables/userfield.html">$userfield</a>} = <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;{<a class="var it6002" onMouseOver="hilite(6002)" onMouseOut="lolite()" onClick="logVariable('userfield')" href="../../_variables/userfield.html">$userfield</a>};
<a name="l898"><span class="linenum"> 898</span></a>              }
<a name="l899"><span class="linenum"> 899</span></a>          }
<a name="l900"><span class="linenum"> 900</span></a>          <a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('user')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/user.html">user</a>-&gt;fullname = <a class="function" onClick="logFunction('fullname')" href="../../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>, <a class="var it5397" onMouseOver="hilite(5397)" onMouseOut="lolite()" onClick="logVariable('viewfullnames')" href="../../_variables/viewfullnames.html">$viewfullnames</a>);
<a name="l901"><span class="linenum"> 901</span></a>  
<a name="l902"><span class="linenum"> 902</span></a>          <a class="var it561" onMouseOver="hilite(561)" onMouseOut="lolite()" onClick="logVariable('activities')" href="../../_variables/activities.html">$activities</a>[<a class="var it290" onMouseOver="hilite(290)" onMouseOut="lolite()" onClick="logVariable('index')" href="../../_variables/index.html">$index</a>++] = <a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>;
<a name="l903"><span class="linenum"> 903</span></a>      }
<a name="l904"><span class="linenum"> 904</span></a>  
<a name="l905"><span class="linenum"> 905</span></a>      return;
<a name="l906"><span class="linenum"> 906</span></a>  }
<a name="l907"><span class="linenum"> 907</span></a>  
<a name="l908"><span class="linenum"> 908</span></a>  <span class="comment">/**</span>
<a name="l909"><span class="linenum"> 909</span></a>  <span class="comment"> * Print recent activity from all assignments in a given course</span>
<a name="l910"><span class="linenum"> 910</span></a>  <span class="comment"> *</span>
<a name="l911"><span class="linenum"> 911</span></a>  <span class="comment"> * This is used by course/recent.php</span>
<a name="l912"><span class="linenum"> 912</span></a>  <span class="comment"> * @param stdClass $activity</span>
<a name="l913"><span class="linenum"> 913</span></a>  <span class="comment"> * @param int $courseid</span>
<a name="l914"><span class="linenum"> 914</span></a>  <span class="comment"> * @param bool $detail</span>
<a name="l915"><span class="linenum"> 915</span></a>  <span class="comment"> * @param array $modnames</span>
<a name="l916"><span class="linenum"> 916</span></a>  <span class="comment"> */</span>
<a name="l917"><span class="linenum"> 917</span></a>  function <a class="function" onClick="logFunction('assign_print_recent_mod_activity')" href="../../_functions/assign_print_recent_mod_activity.html" onMouseOver="funcPopup(event,'assign_print_recent_mod_activity')">assign_print_recent_mod_activity</a>(<a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>, <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, <a class="var it5390" onMouseOver="hilite(5390)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a>, <a class="var it733" onMouseOver="hilite(733)" onMouseOut="lolite()" onClick="logVariable('modnames')" href="../../_variables/modnames.html">$modnames</a>) {
<a name="l918"><span class="linenum"> 918</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l919"><span class="linenum"> 919</span></a>  
<a name="l920"><span class="linenum"> 920</span></a>      echo '&lt;table border=&quot;0&quot; cellpadding=&quot;3&quot; cellspacing=&quot;0&quot; class=&quot;assignment-recent&quot;&gt;';
<a name="l921"><span class="linenum"> 921</span></a>  
<a name="l922"><span class="linenum"> 922</span></a>      echo '&lt;tr&gt;&lt;td class=&quot;userpicture&quot; valign=&quot;top&quot;&gt;';
<a name="l923"><span class="linenum"> 923</span></a>      echo <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('user_picture')" href="../../_functions/user_picture.html" onMouseOver="funcPopup(event,'user_picture')">user_picture</a>(<a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('user')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/user.html">user</a>);
<a name="l924"><span class="linenum"> 924</span></a>      echo '&lt;/td&gt;&lt;td&gt;';
<a name="l925"><span class="linenum"> 925</span></a>  
<a name="l926"><span class="linenum"> 926</span></a>      if (<a class="var it5390" onMouseOver="hilite(5390)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a>) {
<a name="l927"><span class="linenum"> 927</span></a>          <a class="var it2355" onMouseOver="hilite(2355)" onMouseOut="lolite()" onClick="logVariable('modname')" href="../../_variables/modname.html">$modname</a> = <a class="var it733" onMouseOver="hilite(733)" onMouseOut="lolite()" onClick="logVariable('modnames')" href="../../_variables/modnames.html">$modnames</a>[<a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('type')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/type.html">type</a>];
<a name="l928"><span class="linenum"> 928</span></a>          echo '&lt;div class=&quot;title&quot;&gt;';
<a name="l929"><span class="linenum"> 929</span></a>          echo '&lt;img src=&quot;' . <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('icon', 'assign') . '&quot; '.
<a name="l930"><span class="linenum"> 930</span></a>               'class=&quot;icon&quot; alt=&quot;' . <a class="var it2355" onMouseOver="hilite(2355)" onMouseOut="lolite()" onClick="logVariable('modname')" href="../../_variables/modname.html">$modname</a> . '&quot;&gt;';
<a name="l931"><span class="linenum"> 931</span></a>          echo '&lt;a href=&quot;' . <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a> . '/mod/assign/view.php?id=' . <a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('cmid')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a> . '&quot;&gt;';
<a name="l932"><span class="linenum"> 932</span></a>          echo <a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('name')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>;
<a name="l933"><span class="linenum"> 933</span></a>          echo '&lt;/a&gt;';
<a name="l934"><span class="linenum"> 934</span></a>          echo '&lt;/div&gt;';
<a name="l935"><span class="linenum"> 935</span></a>      }
<a name="l936"><span class="linenum"> 936</span></a>  
<a name="l937"><span class="linenum"> 937</span></a>      if (isset(<a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('grade')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a>)) {
<a name="l938"><span class="linenum"> 938</span></a>          echo '&lt;div class=&quot;grade&quot;&gt;';
<a name="l939"><span class="linenum"> 939</span></a>          echo <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('grade').': ';
<a name="l940"><span class="linenum"> 940</span></a>          echo <a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('grade')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a>;
<a name="l941"><span class="linenum"> 941</span></a>          echo '&lt;/div&gt;';
<a name="l942"><span class="linenum"> 942</span></a>      }
<a name="l943"><span class="linenum"> 943</span></a>  
<a name="l944"><span class="linenum"> 944</span></a>      echo '&lt;div class=&quot;user&quot;&gt;';
<a name="l945"><span class="linenum"> 945</span></a>      echo &quot;&lt;a href=\&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>/user/view.php?id={<a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('user')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/user.html">user</a>-&gt;id}&amp;amp;course=<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>\&quot;&gt;&quot;;
<a name="l946"><span class="linenum"> 946</span></a>      echo &quot;{<a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('user')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/user.html">user</a>-&gt;fullname}&lt;/a&gt;  - &quot; . <a class="function" onClick="logFunction('userdate')" href="../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it562" onMouseOver="hilite(562)" onMouseOut="lolite()" onClick="logVariable('activity')" href="../../_variables/activity.html">$activity</a>-&gt;<a onClick="logVariable('timestamp')" class="var it42975" onMouseOver="hilite(42975)" onMouseOut="lolite()" href="../../_variables/timestamp.html">timestamp</a>);
<a name="l947"><span class="linenum"> 947</span></a>      echo '&lt;/div&gt;';
<a name="l948"><span class="linenum"> 948</span></a>  
<a name="l949"><span class="linenum"> 949</span></a>      echo '&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;';
<a name="l950"><span class="linenum"> 950</span></a>  }
<a name="l951"><span class="linenum"> 951</span></a>  
<a name="l952"><span class="linenum"> 952</span></a>  <span class="comment">/**</span>
<a name="l953"><span class="linenum"> 953</span></a>  <span class="comment"> * Checks if a scale is being used by an assignment.</span>
<a name="l954"><span class="linenum"> 954</span></a>  <span class="comment"> *</span>
<a name="l955"><span class="linenum"> 955</span></a>  <span class="comment"> * This is used by the backup code to decide whether to back up a scale</span>
<a name="l956"><span class="linenum"> 956</span></a>  <span class="comment"> * @param int $assignmentid</span>
<a name="l957"><span class="linenum"> 957</span></a>  <span class="comment"> * @param int $scaleid</span>
<a name="l958"><span class="linenum"> 958</span></a>  <span class="comment"> * @return boolean True if the scale is used by the assignment</span>
<a name="l959"><span class="linenum"> 959</span></a>  <span class="comment"> */</span>
<a name="l960"><span class="linenum"> 960</span></a>  function <a class="function" onClick="logFunction('assign_scale_used')" href="../../_functions/assign_scale_used.html" onMouseOver="funcPopup(event,'assign_scale_used')">assign_scale_used</a>(<a class="var it281" onMouseOver="hilite(281)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>, <a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a>) {
<a name="l961"><span class="linenum"> 961</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l962"><span class="linenum"> 962</span></a>  
<a name="l963"><span class="linenum"> 963</span></a>      <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> = false;
<a name="l964"><span class="linenum"> 964</span></a>      <a class="var it1069" onMouseOver="hilite(1069)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../../_variables/rec.html">$rec</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('assign', array('id'=&gt;<a class="var it281" onMouseOver="hilite(281)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>, 'grade'=&gt;-<a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a>));
<a name="l965"><span class="linenum"> 965</span></a>  
<a name="l966"><span class="linenum"> 966</span></a>      if (!empty(<a class="var it1069" onMouseOver="hilite(1069)" onMouseOut="lolite()" onClick="logVariable('rec')" href="../../_variables/rec.html">$rec</a>) &amp;&amp; !empty(<a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a>)) {
<a name="l967"><span class="linenum"> 967</span></a>          <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> = true;
<a name="l968"><span class="linenum"> 968</span></a>      }
<a name="l969"><span class="linenum"> 969</span></a>  
<a name="l970"><span class="linenum"> 970</span></a>      return <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a>;
<a name="l971"><span class="linenum"> 971</span></a>  }
<a name="l972"><span class="linenum"> 972</span></a>  
<a name="l973"><span class="linenum"> 973</span></a>  <span class="comment">/**</span>
<a name="l974"><span class="linenum"> 974</span></a>  <span class="comment"> * Checks if scale is being used by any instance of assignment</span>
<a name="l975"><span class="linenum"> 975</span></a>  <span class="comment"> *</span>
<a name="l976"><span class="linenum"> 976</span></a>  <span class="comment"> * This is used to find out if scale used anywhere</span>
<a name="l977"><span class="linenum"> 977</span></a>  <span class="comment"> * @param int $scaleid</span>
<a name="l978"><span class="linenum"> 978</span></a>  <span class="comment"> * @return boolean True if the scale is used by any assignment</span>
<a name="l979"><span class="linenum"> 979</span></a>  <span class="comment"> */</span>
<a name="l980"><span class="linenum"> 980</span></a>  function <a class="function" onClick="logFunction('assign_scale_used_anywhere')" href="../../_functions/assign_scale_used_anywhere.html" onMouseOver="funcPopup(event,'assign_scale_used_anywhere')">assign_scale_used_anywhere</a>(<a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a>) {
<a name="l981"><span class="linenum"> 981</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l982"><span class="linenum"> 982</span></a>  
<a name="l983"><span class="linenum"> 983</span></a>      if (<a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a> and <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('assign', array('grade'=&gt;-<a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a>))) {
<a name="l984"><span class="linenum"> 984</span></a>          return true;
<a name="l985"><span class="linenum"> 985</span></a>      } else {
<a name="l986"><span class="linenum"> 986</span></a>          return false;
<a name="l987"><span class="linenum"> 987</span></a>      }
<a name="l988"><span class="linenum"> 988</span></a>  }
<a name="l989"><span class="linenum"> 989</span></a>  
<a name="l990"><span class="linenum"> 990</span></a>  <span class="comment">/**</span>
<a name="l991"><span class="linenum"> 991</span></a>  <span class="comment"> * List the actions that correspond to a view of this module.</span>
<a name="l992"><span class="linenum"> 992</span></a>  <span class="comment"> * This is used by the participation report.</span>
<a name="l993"><span class="linenum"> 993</span></a>  <span class="comment"> *</span>
<a name="l994"><span class="linenum"> 994</span></a>  <span class="comment"> * Note: This is not used by new logging system. Event with</span>
<a name="l995"><span class="linenum"> 995</span></a>  <span class="comment"> *       crud = 'r' and edulevel = LEVEL_PARTICIPATING will</span>
<a name="l996"><span class="linenum"> 996</span></a>  <span class="comment"> *       be considered as view action.</span>
<a name="l997"><span class="linenum"> 997</span></a>  <span class="comment"> *</span>
<a name="l998"><span class="linenum"> 998</span></a>  <span class="comment"> * @return array</span>
<a name="l999"><span class="linenum"> 999</span></a>  <span class="comment"> */</span>
<a name="l1000"><span class="linenum">1000</span></a>  function <a class="function" onClick="logFunction('assign_get_view_actions')" href="../../_functions/assign_get_view_actions.html" onMouseOver="funcPopup(event,'assign_get_view_actions')">assign_get_view_actions</a>() {
<a name="l1001"><span class="linenum">1001</span></a>      return array('view submission', 'view feedback');
<a name="l1002"><span class="linenum">1002</span></a>  }
<a name="l1003"><span class="linenum">1003</span></a>  
<a name="l1004"><span class="linenum">1004</span></a>  <span class="comment">/**</span>
<a name="l1005"><span class="linenum">1005</span></a>  <span class="comment"> * List the actions that correspond to a post of this module.</span>
<a name="l1006"><span class="linenum">1006</span></a>  <span class="comment"> * This is used by the participation report.</span>
<a name="l1007"><span class="linenum">1007</span></a>  <span class="comment"> *</span>
<a name="l1008"><span class="linenum">1008</span></a>  <span class="comment"> * Note: This is not used by new logging system. Event with</span>
<a name="l1009"><span class="linenum">1009</span></a>  <span class="comment"> *       crud = ('c' || 'u' || 'd') and edulevel = LEVEL_PARTICIPATING</span>
<a name="l1010"><span class="linenum">1010</span></a>  <span class="comment"> *       will be considered as post action.</span>
<a name="l1011"><span class="linenum">1011</span></a>  <span class="comment"> *</span>
<a name="l1012"><span class="linenum">1012</span></a>  <span class="comment"> * @return array</span>
<a name="l1013"><span class="linenum">1013</span></a>  <span class="comment"> */</span>
<a name="l1014"><span class="linenum">1014</span></a>  function <a class="function" onClick="logFunction('assign_get_post_actions')" href="../../_functions/assign_get_post_actions.html" onMouseOver="funcPopup(event,'assign_get_post_actions')">assign_get_post_actions</a>() {
<a name="l1015"><span class="linenum">1015</span></a>      return array('upload', 'submit', 'submit for grading');
<a name="l1016"><span class="linenum">1016</span></a>  }
<a name="l1017"><span class="linenum">1017</span></a>  
<a name="l1018"><span class="linenum">1018</span></a>  <span class="comment">/**</span>
<a name="l1019"><span class="linenum">1019</span></a>  <span class="comment"> * Call cron on the assign module.</span>
<a name="l1020"><span class="linenum">1020</span></a>  <span class="comment"> */</span>
<a name="l1021"><span class="linenum">1021</span></a>  function <a class="function" onClick="logFunction('assign_cron')" href="../../_functions/assign_cron.html" onMouseOver="funcPopup(event,'assign_cron')">assign_cron</a>() {
<a name="l1022"><span class="linenum">1022</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1023"><span class="linenum">1023</span></a>  
<a name="l1024"><span class="linenum">1024</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l1025"><span class="linenum">1025</span></a>      <a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>::<a class="function" onClick="logFunction('cron')" href="../../_functions/cron.html" onMouseOver="funcPopup(event,'cron')">cron</a>();
<a name="l1026"><span class="linenum">1026</span></a>  
<a name="l1027"><span class="linenum">1027</span></a>      <a class="var it3924" onMouseOver="hilite(3924)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../../_variables/plugins.html">$plugins</a> = <a class="class" onClick="logClass('core_component')" href="../../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>('assignsubmission');
<a name="l1028"><span class="linenum">1028</span></a>  
<a name="l1029"><span class="linenum">1029</span></a>      foreach (<a class="var it3924" onMouseOver="hilite(3924)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../../_variables/plugins.html">$plugins</a> as <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>) {
<a name="l1030"><span class="linenum">1030</span></a>          <a class="var it1355" onMouseOver="hilite(1355)" onMouseOut="lolite()" onClick="logVariable('disabled')" href="../../_variables/disabled.html">$disabled</a> = <a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('assignsubmission_' . <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, 'disabled');
<a name="l1031"><span class="linenum">1031</span></a>          if (!<a class="var it1355" onMouseOver="hilite(1355)" onMouseOut="lolite()" onClick="logVariable('disabled')" href="../../_variables/disabled.html">$disabled</a>) {
<a name="l1032"><span class="linenum">1032</span></a>              <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a> = 'assign_submission_' . <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>;
<a name="l1033"><span class="linenum">1033</span></a>              require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '/mod/assign/submission/' . <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> . '/locallib.php');
<a name="l1034"><span class="linenum">1034</span></a>              <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>::<a class="function" onClick="logFunction('cron')" href="../../_functions/cron.html" onMouseOver="funcPopup(event,'cron')">cron</a>();
<a name="l1035"><span class="linenum">1035</span></a>          }
<a name="l1036"><span class="linenum">1036</span></a>      }
<a name="l1037"><span class="linenum">1037</span></a>      <a class="var it3924" onMouseOver="hilite(3924)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../../_variables/plugins.html">$plugins</a> = <a class="class" onClick="logClass('core_component')" href="../../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>('assignfeedback');
<a name="l1038"><span class="linenum">1038</span></a>  
<a name="l1039"><span class="linenum">1039</span></a>      foreach (<a class="var it3924" onMouseOver="hilite(3924)" onMouseOut="lolite()" onClick="logVariable('plugins')" href="../../_variables/plugins.html">$plugins</a> as <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>) {
<a name="l1040"><span class="linenum">1040</span></a>          <a class="var it1355" onMouseOver="hilite(1355)" onMouseOut="lolite()" onClick="logVariable('disabled')" href="../../_variables/disabled.html">$disabled</a> = <a class="function" onClick="logFunction('get_config')" href="../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('assignfeedback_' . <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, 'disabled');
<a name="l1041"><span class="linenum">1041</span></a>          if (!<a class="var it1355" onMouseOver="hilite(1355)" onMouseOut="lolite()" onClick="logVariable('disabled')" href="../../_variables/disabled.html">$disabled</a>) {
<a name="l1042"><span class="linenum">1042</span></a>              <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a> = 'assign_feedback_' . <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>;
<a name="l1043"><span class="linenum">1043</span></a>              require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '/mod/assign/feedback/' . <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> . '/locallib.php');
<a name="l1044"><span class="linenum">1044</span></a>              <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../_variables/class.html">$class</a>::<a class="function" onClick="logFunction('cron')" href="../../_functions/cron.html" onMouseOver="funcPopup(event,'cron')">cron</a>();
<a name="l1045"><span class="linenum">1045</span></a>          }
<a name="l1046"><span class="linenum">1046</span></a>      }
<a name="l1047"><span class="linenum">1047</span></a>  
<a name="l1048"><span class="linenum">1048</span></a>      return true;
<a name="l1049"><span class="linenum">1049</span></a>  }
<a name="l1050"><span class="linenum">1050</span></a>  
<a name="l1051"><span class="linenum">1051</span></a>  <span class="comment">/**</span>
<a name="l1052"><span class="linenum">1052</span></a>  <span class="comment"> * Returns all other capabilities used by this module.</span>
<a name="l1053"><span class="linenum">1053</span></a>  <span class="comment"> * @return array Array of capability strings</span>
<a name="l1054"><span class="linenum">1054</span></a>  <span class="comment"> */</span>
<a name="l1055"><span class="linenum">1055</span></a>  function <a class="function" onClick="logFunction('assign_get_extra_capabilities')" href="../../_functions/assign_get_extra_capabilities.html" onMouseOver="funcPopup(event,'assign_get_extra_capabilities')">assign_get_extra_capabilities</a>() {
<a name="l1056"><span class="linenum">1056</span></a>      return array('gradereport/grader:view',
<a name="l1057"><span class="linenum">1057</span></a>                   'moodle/grade:viewall',
<a name="l1058"><span class="linenum">1058</span></a>                   'moodle/site:viewfullnames',
<a name="l1059"><span class="linenum">1059</span></a>                   'moodle/site:config');
<a name="l1060"><span class="linenum">1060</span></a>  }
<a name="l1061"><span class="linenum">1061</span></a>  
<a name="l1062"><span class="linenum">1062</span></a>  <span class="comment">/**</span>
<a name="l1063"><span class="linenum">1063</span></a>  <span class="comment"> * Create grade item for given assignment.</span>
<a name="l1064"><span class="linenum">1064</span></a>  <span class="comment"> *</span>
<a name="l1065"><span class="linenum">1065</span></a>  <span class="comment"> * @param stdClass $assign record with extra cmidnumber</span>
<a name="l1066"><span class="linenum">1066</span></a>  <span class="comment"> * @param array $grades optional array/object of grade(s); 'reset' means reset grades in gradebook</span>
<a name="l1067"><span class="linenum">1067</span></a>  <span class="comment"> * @return int 0 if ok, error code otherwise</span>
<a name="l1068"><span class="linenum">1068</span></a>  <span class="comment"> */</span>
<a name="l1069"><span class="linenum">1069</span></a>  function <a class="function" onClick="logFunction('assign_grade_item_update')" href="../../_functions/assign_grade_item_update.html" onMouseOver="funcPopup(event,'assign_grade_item_update')">assign_grade_item_update</a>(<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>, <a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>=null) {
<a name="l1070"><span class="linenum">1070</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1071"><span class="linenum">1071</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>.'/gradelib.php');
<a name="l1072"><span class="linenum">1072</span></a>  
<a name="l1073"><span class="linenum">1073</span></a>      if (!isset(<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('courseid')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a>)) {
<a name="l1074"><span class="linenum">1074</span></a>          <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('courseid')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a> = <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('course')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>;
<a name="l1075"><span class="linenum">1075</span></a>      }
<a name="l1076"><span class="linenum">1076</span></a>  
<a name="l1077"><span class="linenum">1077</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('itemname'=&gt;<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('name')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>, 'idnumber'=&gt;<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('cmidnumber')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/cmidnumber.html">cmidnumber</a>);
<a name="l1078"><span class="linenum">1078</span></a>  
<a name="l1079"><span class="linenum">1079</span></a>  <span class="comment">    // Check if feedback plugin for gradebook is enabled, if yes then</span>
<a name="l1080"><span class="linenum">1080</span></a>  <span class="comment">    // gradetype = GRADE_TYPE_TEXT else GRADE_TYPE_NONE.</span>
<a name="l1081"><span class="linenum">1081</span></a>      <a class="var it32117" onMouseOver="hilite(32117)" onMouseOut="lolite()" onClick="logVariable('gradefeedbackenabled')" href="../../_variables/gradefeedbackenabled.html">$gradefeedbackenabled</a> = false;
<a name="l1082"><span class="linenum">1082</span></a>  
<a name="l1083"><span class="linenum">1083</span></a>      if (isset(<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('gradefeedbackenabled')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/gradefeedbackenabled.html">gradefeedbackenabled</a>)) {
<a name="l1084"><span class="linenum">1084</span></a>          <a class="var it32117" onMouseOver="hilite(32117)" onMouseOut="lolite()" onClick="logVariable('gradefeedbackenabled')" href="../../_variables/gradefeedbackenabled.html">$gradefeedbackenabled</a> = <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('gradefeedbackenabled')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/gradefeedbackenabled.html">gradefeedbackenabled</a>;
<a name="l1085"><span class="linenum">1085</span></a>      } else if (<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('grade')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> == 0) { // Grade feedback is needed only when grade == 0.
<a name="l1086"><span class="linenum">1086</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l1087"><span class="linenum">1087</span></a>          <a class="var it2586" onMouseOver="hilite(2586)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../../_variables/mod.html">$mod</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('id')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('courseid')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a>);
<a name="l1088"><span class="linenum">1088</span></a>          <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it2586" onMouseOver="hilite(2586)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../../_variables/mod.html">$mod</a>-&gt;<a onClick="logVariable('id')" class="var it43599" onMouseOver="hilite(43599)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1089"><span class="linenum">1089</span></a>          <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, null, null);
<a name="l1090"><span class="linenum">1090</span></a>          <a class="var it32117" onMouseOver="hilite(32117)" onMouseOut="lolite()" onClick="logVariable('gradefeedbackenabled')" href="../../_variables/gradefeedbackenabled.html">$gradefeedbackenabled</a> = <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('is_gradebook_feedback_enabled')" href="../../_functions/is_gradebook_feedback_enabled.html" onMouseOver="funcPopup(event,'is_gradebook_feedback_enabled')">is_gradebook_feedback_enabled</a>();
<a name="l1091"><span class="linenum">1091</span></a>      }
<a name="l1092"><span class="linenum">1092</span></a>  
<a name="l1093"><span class="linenum">1093</span></a>      if (<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('grade')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> &gt; 0) {
<a name="l1094"><span class="linenum">1094</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['gradetype'] = <a class="constant" onClick="logConstant('GRADE_TYPE_VALUE')" href="../../_constants/GRADE_TYPE_VALUE.html" onMouseOver="constPopup(event,'GRADE_TYPE_VALUE')">GRADE_TYPE_VALUE</a>;
<a name="l1095"><span class="linenum">1095</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['grademax']  = <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('grade')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a>;
<a name="l1096"><span class="linenum">1096</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['grademin']  = 0;
<a name="l1097"><span class="linenum">1097</span></a>  
<a name="l1098"><span class="linenum">1098</span></a>      } else if (<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('grade')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> &lt; 0) {
<a name="l1099"><span class="linenum">1099</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['gradetype'] = <a class="constant" onClick="logConstant('GRADE_TYPE_SCALE')" href="../../_constants/GRADE_TYPE_SCALE.html" onMouseOver="constPopup(event,'GRADE_TYPE_SCALE')">GRADE_TYPE_SCALE</a>;
<a name="l1100"><span class="linenum">1100</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['scaleid']   = -<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('grade')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a>;
<a name="l1101"><span class="linenum">1101</span></a>  
<a name="l1102"><span class="linenum">1102</span></a>      } else if (<a class="var it32117" onMouseOver="hilite(32117)" onMouseOut="lolite()" onClick="logVariable('gradefeedbackenabled')" href="../../_variables/gradefeedbackenabled.html">$gradefeedbackenabled</a>) {
<a name="l1103"><span class="linenum">1103</span></a>  <span class="comment">        // $assign-&gt;grade == 0 and feedback enabled.</span>
<a name="l1104"><span class="linenum">1104</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['gradetype'] = <a class="constant" onClick="logConstant('GRADE_TYPE_TEXT')" href="../../_constants/GRADE_TYPE_TEXT.html" onMouseOver="constPopup(event,'GRADE_TYPE_TEXT')">GRADE_TYPE_TEXT</a>;
<a name="l1105"><span class="linenum">1105</span></a>      } else {
<a name="l1106"><span class="linenum">1106</span></a>  <span class="comment">        // $assign-&gt;grade == 0 and no feedback enabled.</span>
<a name="l1107"><span class="linenum">1107</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['gradetype'] = <a class="constant" onClick="logConstant('GRADE_TYPE_NONE')" href="../../_constants/GRADE_TYPE_NONE.html" onMouseOver="constPopup(event,'GRADE_TYPE_NONE')">GRADE_TYPE_NONE</a>;
<a name="l1108"><span class="linenum">1108</span></a>      }
<a name="l1109"><span class="linenum">1109</span></a>  
<a name="l1110"><span class="linenum">1110</span></a>      if (<a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>  === 'reset') {
<a name="l1111"><span class="linenum">1111</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['reset'] = true;
<a name="l1112"><span class="linenum">1112</span></a>          <a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> = null;
<a name="l1113"><span class="linenum">1113</span></a>      }
<a name="l1114"><span class="linenum">1114</span></a>  
<a name="l1115"><span class="linenum">1115</span></a>      return <a class="function" onClick="logFunction('grade_update')" href="../../_functions/grade_update.html" onMouseOver="funcPopup(event,'grade_update')">grade_update</a>('mod/assign',
<a name="l1116"><span class="linenum">1116</span></a>                          <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('courseid')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/courseid.html">courseid</a>,
<a name="l1117"><span class="linenum">1117</span></a>                          'mod',
<a name="l1118"><span class="linenum">1118</span></a>                          'assign',
<a name="l1119"><span class="linenum">1119</span></a>                          <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('id')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l1120"><span class="linenum">1120</span></a>                          0,
<a name="l1121"><span class="linenum">1121</span></a>                          <a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>,
<a name="l1122"><span class="linenum">1122</span></a>                          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l1123"><span class="linenum">1123</span></a>  }
<a name="l1124"><span class="linenum">1124</span></a>  
<a name="l1125"><span class="linenum">1125</span></a>  <span class="comment">/**</span>
<a name="l1126"><span class="linenum">1126</span></a>  <span class="comment"> * Return grade for given user or all users.</span>
<a name="l1127"><span class="linenum">1127</span></a>  <span class="comment"> *</span>
<a name="l1128"><span class="linenum">1128</span></a>  <span class="comment"> * @param stdClass $assign record of assign with an additional cmidnumber</span>
<a name="l1129"><span class="linenum">1129</span></a>  <span class="comment"> * @param int $userid optional user id, 0 means all users</span>
<a name="l1130"><span class="linenum">1130</span></a>  <span class="comment"> * @return array array of grades, false if none</span>
<a name="l1131"><span class="linenum">1131</span></a>  <span class="comment"> */</span>
<a name="l1132"><span class="linenum">1132</span></a>  function <a class="function" onClick="logFunction('assign_get_user_grades')" href="../../_functions/assign_get_user_grades.html" onMouseOver="funcPopup(event,'assign_get_user_grades')">assign_get_user_grades</a>(<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>=0) {
<a name="l1133"><span class="linenum">1133</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1134"><span class="linenum">1134</span></a>  
<a name="l1135"><span class="linenum">1135</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l1136"><span class="linenum">1136</span></a>  
<a name="l1137"><span class="linenum">1137</span></a>      <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('id')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 0, false, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l1138"><span class="linenum">1138</span></a>      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1139"><span class="linenum">1139</span></a>      <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, null, null);
<a name="l1140"><span class="linenum">1140</span></a>      <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('set_instance')" href="../../_functions/set_instance.html" onMouseOver="funcPopup(event,'set_instance')">set_instance</a>(<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>);
<a name="l1141"><span class="linenum">1141</span></a>      return <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('get_user_grades_for_gradebook')" href="../../_functions/get_user_grades_for_gradebook.html" onMouseOver="funcPopup(event,'get_user_grades_for_gradebook')">get_user_grades_for_gradebook</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>);
<a name="l1142"><span class="linenum">1142</span></a>  }
<a name="l1143"><span class="linenum">1143</span></a>  
<a name="l1144"><span class="linenum">1144</span></a>  <span class="comment">/**</span>
<a name="l1145"><span class="linenum">1145</span></a>  <span class="comment"> * Update activity grades.</span>
<a name="l1146"><span class="linenum">1146</span></a>  <span class="comment"> *</span>
<a name="l1147"><span class="linenum">1147</span></a>  <span class="comment"> * @param stdClass $assign database record</span>
<a name="l1148"><span class="linenum">1148</span></a>  <span class="comment"> * @param int $userid specific user only, 0 means all</span>
<a name="l1149"><span class="linenum">1149</span></a>  <span class="comment"> * @param bool $nullifnone - not used</span>
<a name="l1150"><span class="linenum">1150</span></a>  <span class="comment"> */</span>
<a name="l1151"><span class="linenum">1151</span></a>  function <a class="function" onClick="logFunction('assign_update_grades')" href="../../_functions/assign_update_grades.html" onMouseOver="funcPopup(event,'assign_update_grades')">assign_update_grades</a>(<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>=0, <a class="var it9796" onMouseOver="hilite(9796)" onMouseOut="lolite()" onClick="logVariable('nullifnone')" href="../../_variables/nullifnone.html">$nullifnone</a>=true) {
<a name="l1152"><span class="linenum">1152</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1153"><span class="linenum">1153</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>.'/gradelib.php');
<a name="l1154"><span class="linenum">1154</span></a>  
<a name="l1155"><span class="linenum">1155</span></a>      if (<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('grade')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> == 0) {
<a name="l1156"><span class="linenum">1156</span></a>          <a class="function" onClick="logFunction('assign_grade_item_update')" href="../../_functions/assign_grade_item_update.html" onMouseOver="funcPopup(event,'assign_grade_item_update')">assign_grade_item_update</a>(<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>);
<a name="l1157"><span class="linenum">1157</span></a>  
<a name="l1158"><span class="linenum">1158</span></a>      } else if (<a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> = <a class="function" onClick="logFunction('assign_get_user_grades')" href="../../_functions/assign_get_user_grades.html" onMouseOver="funcPopup(event,'assign_get_user_grades')">assign_get_user_grades</a>(<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>)) {
<a name="l1159"><span class="linenum">1159</span></a>          foreach (<a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> as <a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a> =&gt; <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>) {
<a name="l1160"><span class="linenum">1160</span></a>              if (<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../_variables/v.html">$v</a>-&gt;<a onClick="logVariable('rawgrade')" class="var it43036" onMouseOver="hilite(43036)" onMouseOut="lolite()" href="../../_variables/rawgrade.html">rawgrade</a> == -1) {
<a name="l1161"><span class="linenum">1161</span></a>                  <a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>[<a class="var it68" onMouseOver="hilite(68)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../_variables/k.html">$k</a>]-&gt;rawgrade = null;
<a name="l1162"><span class="linenum">1162</span></a>              }
<a name="l1163"><span class="linenum">1163</span></a>          }
<a name="l1164"><span class="linenum">1164</span></a>          <a class="function" onClick="logFunction('assign_grade_item_update')" href="../../_functions/assign_grade_item_update.html" onMouseOver="funcPopup(event,'assign_grade_item_update')">assign_grade_item_update</a>(<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>, <a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>);
<a name="l1165"><span class="linenum">1165</span></a>  
<a name="l1166"><span class="linenum">1166</span></a>      } else {
<a name="l1167"><span class="linenum">1167</span></a>          <a class="function" onClick="logFunction('assign_grade_item_update')" href="../../_functions/assign_grade_item_update.html" onMouseOver="funcPopup(event,'assign_grade_item_update')">assign_grade_item_update</a>(<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>);
<a name="l1168"><span class="linenum">1168</span></a>      }
<a name="l1169"><span class="linenum">1169</span></a>  }
<a name="l1170"><span class="linenum">1170</span></a>  
<a name="l1171"><span class="linenum">1171</span></a>  <span class="comment">/**</span>
<a name="l1172"><span class="linenum">1172</span></a>  <span class="comment"> * List the file areas that can be browsed.</span>
<a name="l1173"><span class="linenum">1173</span></a>  <span class="comment"> *</span>
<a name="l1174"><span class="linenum">1174</span></a>  <span class="comment"> * @param stdClass $course</span>
<a name="l1175"><span class="linenum">1175</span></a>  <span class="comment"> * @param stdClass $cm</span>
<a name="l1176"><span class="linenum">1176</span></a>  <span class="comment"> * @param stdClass $context</span>
<a name="l1177"><span class="linenum">1177</span></a>  <span class="comment"> * @return array</span>
<a name="l1178"><span class="linenum">1178</span></a>  <span class="comment"> */</span>
<a name="l1179"><span class="linenum">1179</span></a>  function <a class="function" onClick="logFunction('assign_get_file_areas')" href="../../_functions/assign_get_file_areas.html" onMouseOver="funcPopup(event,'assign_get_file_areas')">assign_get_file_areas</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>) {
<a name="l1180"><span class="linenum">1180</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1181"><span class="linenum">1181</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l1182"><span class="linenum">1182</span></a>  
<a name="l1183"><span class="linenum">1183</span></a>      <a class="var it2274" onMouseOver="hilite(2274)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a> = array(<a class="constant" onClick="logConstant('ASSIGN_INTROATTACHMENT_FILEAREA')" href="../../_constants/ASSIGN_INTROATTACHMENT_FILEAREA.html" onMouseOver="constPopup(event,'ASSIGN_INTROATTACHMENT_FILEAREA')">ASSIGN_INTROATTACHMENT_FILEAREA</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('introattachments', 'mod_assign'));
<a name="l1184"><span class="linenum">1184</span></a>  
<a name="l1185"><span class="linenum">1185</span></a>      <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l1186"><span class="linenum">1186</span></a>      foreach (<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('get_submission_plugins')" href="../../_functions/get_submission_plugins.html" onMouseOver="funcPopup(event,'get_submission_plugins')">get_submission_plugins</a>() as <a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>) {
<a name="l1187"><span class="linenum">1187</span></a>          if (<a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('is_visible')" href="../../_functions/is_visible.html" onMouseOver="funcPopup(event,'is_visible')">is_visible</a>()) {
<a name="l1188"><span class="linenum">1188</span></a>              <a class="var it33040" onMouseOver="hilite(33040)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a> = <a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('get_file_areas')" href="../../_functions/get_file_areas.html" onMouseOver="funcPopup(event,'get_file_areas')">get_file_areas</a>();
<a name="l1189"><span class="linenum">1189</span></a>  
<a name="l1190"><span class="linenum">1190</span></a>              if (<a class="var it33040" onMouseOver="hilite(33040)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a>) {
<a name="l1191"><span class="linenum">1191</span></a>                  <a class="var it2274" onMouseOver="hilite(2274)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it2274" onMouseOver="hilite(2274)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a>, <a class="var it33040" onMouseOver="hilite(33040)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a>);
<a name="l1192"><span class="linenum">1192</span></a>              }
<a name="l1193"><span class="linenum">1193</span></a>          }
<a name="l1194"><span class="linenum">1194</span></a>      }
<a name="l1195"><span class="linenum">1195</span></a>      foreach (<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('get_feedback_plugins')" href="../../_functions/get_feedback_plugins.html" onMouseOver="funcPopup(event,'get_feedback_plugins')">get_feedback_plugins</a>() as <a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>) {
<a name="l1196"><span class="linenum">1196</span></a>          if (<a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('is_visible')" href="../../_functions/is_visible.html" onMouseOver="funcPopup(event,'is_visible')">is_visible</a>()) {
<a name="l1197"><span class="linenum">1197</span></a>              <a class="var it33040" onMouseOver="hilite(33040)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a> = <a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('get_file_areas')" href="../../_functions/get_file_areas.html" onMouseOver="funcPopup(event,'get_file_areas')">get_file_areas</a>();
<a name="l1198"><span class="linenum">1198</span></a>  
<a name="l1199"><span class="linenum">1199</span></a>              if (<a class="var it33040" onMouseOver="hilite(33040)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a>) {
<a name="l1200"><span class="linenum">1200</span></a>                  <a class="var it2274" onMouseOver="hilite(2274)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it2274" onMouseOver="hilite(2274)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a>, <a class="var it33040" onMouseOver="hilite(33040)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a>);
<a name="l1201"><span class="linenum">1201</span></a>              }
<a name="l1202"><span class="linenum">1202</span></a>          }
<a name="l1203"><span class="linenum">1203</span></a>      }
<a name="l1204"><span class="linenum">1204</span></a>  
<a name="l1205"><span class="linenum">1205</span></a>      return <a class="var it2274" onMouseOver="hilite(2274)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a>;
<a name="l1206"><span class="linenum">1206</span></a>  }
<a name="l1207"><span class="linenum">1207</span></a>  
<a name="l1208"><span class="linenum">1208</span></a>  <span class="comment">/**</span>
<a name="l1209"><span class="linenum">1209</span></a>  <span class="comment"> * File browsing support for assign module.</span>
<a name="l1210"><span class="linenum">1210</span></a>  <span class="comment"> *</span>
<a name="l1211"><span class="linenum">1211</span></a>  <span class="comment"> * @param file_browser $browser</span>
<a name="l1212"><span class="linenum">1212</span></a>  <span class="comment"> * @param object $areas</span>
<a name="l1213"><span class="linenum">1213</span></a>  <span class="comment"> * @param object $course</span>
<a name="l1214"><span class="linenum">1214</span></a>  <span class="comment"> * @param object $cm</span>
<a name="l1215"><span class="linenum">1215</span></a>  <span class="comment"> * @param object $context</span>
<a name="l1216"><span class="linenum">1216</span></a>  <span class="comment"> * @param string $filearea</span>
<a name="l1217"><span class="linenum">1217</span></a>  <span class="comment"> * @param int $itemid</span>
<a name="l1218"><span class="linenum">1218</span></a>  <span class="comment"> * @param string $filepath</span>
<a name="l1219"><span class="linenum">1219</span></a>  <span class="comment"> * @param string $filename</span>
<a name="l1220"><span class="linenum">1220</span></a>  <span class="comment"> * @return object file_info instance or null if not found</span>
<a name="l1221"><span class="linenum">1221</span></a>  <span class="comment"> */</span>
<a name="l1222"><span class="linenum">1222</span></a>  function <a class="function" onClick="logFunction('assign_get_file_info')" href="../../_functions/assign_get_file_info.html" onMouseOver="funcPopup(event,'assign_get_file_info')">assign_get_file_info</a>(<a class="var it1462" onMouseOver="hilite(1462)" onMouseOut="lolite()" onClick="logVariable('browser')" href="../../_variables/browser.html">$browser</a>,
<a name="l1223"><span class="linenum">1223</span></a>                                <a class="var it2274" onMouseOver="hilite(2274)" onMouseOut="lolite()" onClick="logVariable('areas')" href="../../_variables/areas.html">$areas</a>,
<a name="l1224"><span class="linenum">1224</span></a>                                <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>,
<a name="l1225"><span class="linenum">1225</span></a>                                <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>,
<a name="l1226"><span class="linenum">1226</span></a>                                <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>,
<a name="l1227"><span class="linenum">1227</span></a>                                <a class="var it24" onMouseOver="hilite(24)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>,
<a name="l1228"><span class="linenum">1228</span></a>                                <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a>,
<a name="l1229"><span class="linenum">1229</span></a>                                <a class="var it886" onMouseOver="hilite(886)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>,
<a name="l1230"><span class="linenum">1230</span></a>                                <a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>) {
<a name="l1231"><span class="linenum">1231</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1232"><span class="linenum">1232</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l1233"><span class="linenum">1233</span></a>  
<a name="l1234"><span class="linenum">1234</span></a>      if (<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_MODULE')" href="../../_constants/CONTEXT_MODULE.html" onMouseOver="constPopup(event,'CONTEXT_MODULE')">CONTEXT_MODULE</a>) {
<a name="l1235"><span class="linenum">1235</span></a>          return null;
<a name="l1236"><span class="linenum">1236</span></a>      }
<a name="l1237"><span class="linenum">1237</span></a>  
<a name="l1238"><span class="linenum">1238</span></a>      <a class="var it2276" onMouseOver="hilite(2276)" onMouseOut="lolite()" onClick="logVariable('urlbase')" href="../../_variables/urlbase.html">$urlbase</a> = <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>.'<a class="filename" href="../../pluginfile.php.html">/pluginfile.php</a>';
<a name="l1239"><span class="linenum">1239</span></a>      <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a> = <a class="function" onClick="logFunction('get_file_storage')" href="../../_functions/get_file_storage.html" onMouseOver="funcPopup(event,'get_file_storage')">get_file_storage</a>();
<a name="l1240"><span class="linenum">1240</span></a>      <a class="var it886" onMouseOver="hilite(886)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it886" onMouseOver="hilite(886)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>) ? '/' : <a class="var it886" onMouseOver="hilite(886)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>;
<a name="l1241"><span class="linenum">1241</span></a>      <a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a> = <a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>) ? '.' : <a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>;
<a name="l1242"><span class="linenum">1242</span></a>  
<a name="l1243"><span class="linenum">1243</span></a>  <span class="comment">    // Need to find where this belongs to.</span>
<a name="l1244"><span class="linenum">1244</span></a>      <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l1245"><span class="linenum">1245</span></a>      if (<a class="var it24" onMouseOver="hilite(24)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a> === <a class="constant" onClick="logConstant('ASSIGN_INTROATTACHMENT_FILEAREA')" href="../../_constants/ASSIGN_INTROATTACHMENT_FILEAREA.html" onMouseOver="constPopup(event,'ASSIGN_INTROATTACHMENT_FILEAREA')">ASSIGN_INTROATTACHMENT_FILEAREA</a>) {
<a name="l1246"><span class="linenum">1246</span></a>          if (!<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:managefiles', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l1247"><span class="linenum">1247</span></a>  <span class="comment">            // Students can not peak here!</span>
<a name="l1248"><span class="linenum">1248</span></a>              return null;
<a name="l1249"><span class="linenum">1249</span></a>          }
<a name="l1250"><span class="linenum">1250</span></a>          if (!(<a class="var it2275" onMouseOver="hilite(2275)" onMouseOut="lolite()" onClick="logVariable('storedfile')" href="../../_variables/storedfile.html">$storedfile</a> = <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a>-&gt;<a class="function" onClick="logFunction('get_file')" href="../../_functions/get_file.html" onMouseOver="funcPopup(event,'get_file')">get_file</a>(<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('get_context')" href="../../_functions/get_context.html" onMouseOver="funcPopup(event,'get_context')">get_context</a>()-&gt;id,
<a name="l1251"><span class="linenum">1251</span></a>                                            'mod_assign', <a class="var it24" onMouseOver="hilite(24)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>, 0, <a class="var it886" onMouseOver="hilite(886)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>, <a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>))) {
<a name="l1252"><span class="linenum">1252</span></a>              return null;
<a name="l1253"><span class="linenum">1253</span></a>          }
<a name="l1254"><span class="linenum">1254</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('file_info_stored')" href="../../_classes/file_info_stored.html" onMouseOver="classPopup(event,'file_info_stored')">file_info_stored</a>(<a class="var it1462" onMouseOver="hilite(1462)" onMouseOut="lolite()" onClick="logVariable('browser')" href="../../_variables/browser.html">$browser</a>,
<a name="l1255"><span class="linenum">1255</span></a>                          <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('get_context')" href="../../_functions/get_context.html" onMouseOver="funcPopup(event,'get_context')">get_context</a>(),
<a name="l1256"><span class="linenum">1256</span></a>                          <a class="var it2275" onMouseOver="hilite(2275)" onMouseOut="lolite()" onClick="logVariable('storedfile')" href="../../_variables/storedfile.html">$storedfile</a>,
<a name="l1257"><span class="linenum">1257</span></a>                          <a class="var it2276" onMouseOver="hilite(2276)" onMouseOut="lolite()" onClick="logVariable('urlbase')" href="../../_variables/urlbase.html">$urlbase</a>,
<a name="l1258"><span class="linenum">1258</span></a>                          <a class="var it24" onMouseOver="hilite(24)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>,
<a name="l1259"><span class="linenum">1259</span></a>                          <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a>,
<a name="l1260"><span class="linenum">1260</span></a>                          true,
<a name="l1261"><span class="linenum">1261</span></a>                          true,
<a name="l1262"><span class="linenum">1262</span></a>                          false);
<a name="l1263"><span class="linenum">1263</span></a>      }
<a name="l1264"><span class="linenum">1264</span></a>  
<a name="l1265"><span class="linenum">1265</span></a>      <a class="var it33041" onMouseOver="hilite(33041)" onMouseOut="lolite()" onClick="logVariable('pluginowner')" href="../../_variables/pluginowner.html">$pluginowner</a> = null;
<a name="l1266"><span class="linenum">1266</span></a>      foreach (<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('get_submission_plugins')" href="../../_functions/get_submission_plugins.html" onMouseOver="funcPopup(event,'get_submission_plugins')">get_submission_plugins</a>() as <a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>) {
<a name="l1267"><span class="linenum">1267</span></a>          if (<a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('is_visible')" href="../../_functions/is_visible.html" onMouseOver="funcPopup(event,'is_visible')">is_visible</a>()) {
<a name="l1268"><span class="linenum">1268</span></a>              <a class="var it33040" onMouseOver="hilite(33040)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a> = <a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('get_file_areas')" href="../../_functions/get_file_areas.html" onMouseOver="funcPopup(event,'get_file_areas')">get_file_areas</a>();
<a name="l1269"><span class="linenum">1269</span></a>  
<a name="l1270"><span class="linenum">1270</span></a>              if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it24" onMouseOver="hilite(24)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>, <a class="var it33040" onMouseOver="hilite(33040)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a>)) {
<a name="l1271"><span class="linenum">1271</span></a>                  <a class="var it33041" onMouseOver="hilite(33041)" onMouseOut="lolite()" onClick="logVariable('pluginowner')" href="../../_variables/pluginowner.html">$pluginowner</a> = <a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>;
<a name="l1272"><span class="linenum">1272</span></a>                  break;
<a name="l1273"><span class="linenum">1273</span></a>              }
<a name="l1274"><span class="linenum">1274</span></a>          }
<a name="l1275"><span class="linenum">1275</span></a>      }
<a name="l1276"><span class="linenum">1276</span></a>      if (!<a class="var it33041" onMouseOver="hilite(33041)" onMouseOut="lolite()" onClick="logVariable('pluginowner')" href="../../_variables/pluginowner.html">$pluginowner</a>) {
<a name="l1277"><span class="linenum">1277</span></a>          foreach (<a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('get_feedback_plugins')" href="../../_functions/get_feedback_plugins.html" onMouseOver="funcPopup(event,'get_feedback_plugins')">get_feedback_plugins</a>() as <a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>) {
<a name="l1278"><span class="linenum">1278</span></a>              if (<a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('is_visible')" href="../../_functions/is_visible.html" onMouseOver="funcPopup(event,'is_visible')">is_visible</a>()) {
<a name="l1279"><span class="linenum">1279</span></a>                  <a class="var it33040" onMouseOver="hilite(33040)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a> = <a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('get_file_areas')" href="../../_functions/get_file_areas.html" onMouseOver="funcPopup(event,'get_file_areas')">get_file_areas</a>();
<a name="l1280"><span class="linenum">1280</span></a>  
<a name="l1281"><span class="linenum">1281</span></a>                  if (<a class="phpfunction" onClick="logFunction('array_key_exists')" href="../../_functions/array_key_exists.html" onMouseOver="phpfuncPopup(event,'array_key_exists')">array_key_exists</a>(<a class="var it24" onMouseOver="hilite(24)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>, <a class="var it33040" onMouseOver="hilite(33040)" onMouseOut="lolite()" onClick="logVariable('pluginareas')" href="../../_variables/pluginareas.html">$pluginareas</a>)) {
<a name="l1282"><span class="linenum">1282</span></a>                      <a class="var it33041" onMouseOver="hilite(33041)" onMouseOut="lolite()" onClick="logVariable('pluginowner')" href="../../_variables/pluginowner.html">$pluginowner</a> = <a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>;
<a name="l1283"><span class="linenum">1283</span></a>                      break;
<a name="l1284"><span class="linenum">1284</span></a>                  }
<a name="l1285"><span class="linenum">1285</span></a>              }
<a name="l1286"><span class="linenum">1286</span></a>          }
<a name="l1287"><span class="linenum">1287</span></a>      }
<a name="l1288"><span class="linenum">1288</span></a>  
<a name="l1289"><span class="linenum">1289</span></a>      if (!<a class="var it33041" onMouseOver="hilite(33041)" onMouseOut="lolite()" onClick="logVariable('pluginowner')" href="../../_variables/pluginowner.html">$pluginowner</a>) {
<a name="l1290"><span class="linenum">1290</span></a>          return null;
<a name="l1291"><span class="linenum">1291</span></a>      }
<a name="l1292"><span class="linenum">1292</span></a>  
<a name="l1293"><span class="linenum">1293</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = <a class="var it33041" onMouseOver="hilite(33041)" onMouseOut="lolite()" onClick="logVariable('pluginowner')" href="../../_variables/pluginowner.html">$pluginowner</a>-&gt;<a class="function" onClick="logFunction('get_file_info')" href="../../_functions/get_file_info.html" onMouseOver="funcPopup(event,'get_file_info')">get_file_info</a>(<a class="var it1462" onMouseOver="hilite(1462)" onMouseOut="lolite()" onClick="logVariable('browser')" href="../../_variables/browser.html">$browser</a>, <a class="var it24" onMouseOver="hilite(24)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>, <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a>, <a class="var it886" onMouseOver="hilite(886)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>, <a class="var it243" onMouseOver="hilite(243)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>);
<a name="l1294"><span class="linenum">1294</span></a>      return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l1295"><span class="linenum">1295</span></a>  }
<a name="l1296"><span class="linenum">1296</span></a>  
<a name="l1297"><span class="linenum">1297</span></a>  <span class="comment">/**</span>
<a name="l1298"><span class="linenum">1298</span></a>  <span class="comment"> * Prints the complete info about a user's interaction with an assignment.</span>
<a name="l1299"><span class="linenum">1299</span></a>  <span class="comment"> *</span>
<a name="l1300"><span class="linenum">1300</span></a>  <span class="comment"> * @param stdClass $course</span>
<a name="l1301"><span class="linenum">1301</span></a>  <span class="comment"> * @param stdClass $user</span>
<a name="l1302"><span class="linenum">1302</span></a>  <span class="comment"> * @param stdClass $coursemodule</span>
<a name="l1303"><span class="linenum">1303</span></a>  <span class="comment"> * @param stdClass $assign the database assign record</span>
<a name="l1304"><span class="linenum">1304</span></a>  <span class="comment"> *</span>
<a name="l1305"><span class="linenum">1305</span></a>  <span class="comment"> * This prints the submission summary and feedback summary for this student.</span>
<a name="l1306"><span class="linenum">1306</span></a>  <span class="comment"> */</span>
<a name="l1307"><span class="linenum">1307</span></a>  function <a class="function" onClick="logFunction('assign_user_complete')" href="../../_functions/assign_user_complete.html" onMouseOver="funcPopup(event,'assign_user_complete')">assign_user_complete</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>, <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>) {
<a name="l1308"><span class="linenum">1308</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1309"><span class="linenum">1309</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l1310"><span class="linenum">1310</span></a>  
<a name="l1311"><span class="linenum">1311</span></a>      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('id')" class="var it43092" onMouseOver="hilite(43092)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1312"><span class="linenum">1312</span></a>  
<a name="l1313"><span class="linenum">1313</span></a>      <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l1314"><span class="linenum">1314</span></a>  
<a name="l1315"><span class="linenum">1315</span></a>      echo <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('view_student_summary')" href="../../_functions/view_student_summary.html" onMouseOver="funcPopup(event,'view_student_summary')">view_student_summary</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, false);
<a name="l1316"><span class="linenum">1316</span></a>  }
<a name="l1317"><span class="linenum">1317</span></a>  
<a name="l1318"><span class="linenum">1318</span></a>  <span class="comment">/**</span>
<a name="l1319"><span class="linenum">1319</span></a>  <span class="comment"> * Rescale all grades for this activity and push the new grades to the gradebook.</span>
<a name="l1320"><span class="linenum">1320</span></a>  <span class="comment"> *</span>
<a name="l1321"><span class="linenum">1321</span></a>  <span class="comment"> * @param stdClass $course Course db record</span>
<a name="l1322"><span class="linenum">1322</span></a>  <span class="comment"> * @param stdClass $cm Course module db record</span>
<a name="l1323"><span class="linenum">1323</span></a>  <span class="comment"> * @param float $oldmin</span>
<a name="l1324"><span class="linenum">1324</span></a>  <span class="comment"> * @param float $oldmax</span>
<a name="l1325"><span class="linenum">1325</span></a>  <span class="comment"> * @param float $newmin</span>
<a name="l1326"><span class="linenum">1326</span></a>  <span class="comment"> * @param float $newmax</span>
<a name="l1327"><span class="linenum">1327</span></a>  <span class="comment"> */</span>
<a name="l1328"><span class="linenum">1328</span></a>  function <a class="function" onClick="logFunction('assign_rescale_activity_grades')" href="../../_functions/assign_rescale_activity_grades.html" onMouseOver="funcPopup(event,'assign_rescale_activity_grades')">assign_rescale_activity_grades</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it30173" onMouseOver="hilite(30173)" onMouseOut="lolite()" onClick="logVariable('oldmin')" href="../../_variables/oldmin.html">$oldmin</a>, <a class="var it30174" onMouseOver="hilite(30174)" onMouseOut="lolite()" onClick="logVariable('oldmax')" href="../../_variables/oldmax.html">$oldmax</a>, <a class="var it24258" onMouseOver="hilite(24258)" onMouseOut="lolite()" onClick="logVariable('newmin')" href="../../_variables/newmin.html">$newmin</a>, <a class="var it24260" onMouseOver="hilite(24260)" onMouseOut="lolite()" onClick="logVariable('newmax')" href="../../_variables/newmax.html">$newmax</a>) {
<a name="l1329"><span class="linenum">1329</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l1330"><span class="linenum">1330</span></a>  
<a name="l1331"><span class="linenum">1331</span></a>      if (<a class="var it30174" onMouseOver="hilite(30174)" onMouseOut="lolite()" onClick="logVariable('oldmax')" href="../../_variables/oldmax.html">$oldmax</a> &lt;= <a class="var it30173" onMouseOver="hilite(30173)" onMouseOut="lolite()" onClick="logVariable('oldmin')" href="../../_variables/oldmin.html">$oldmin</a>) {
<a name="l1332"><span class="linenum">1332</span></a>  <span class="comment">        // Grades cannot be scaled.</span>
<a name="l1333"><span class="linenum">1333</span></a>          return false;
<a name="l1334"><span class="linenum">1334</span></a>      }
<a name="l1335"><span class="linenum">1335</span></a>      <a class="var it94" onMouseOver="hilite(94)" onMouseOut="lolite()" onClick="logVariable('scale')" href="../../_variables/scale.html">$scale</a> = (<a class="var it24260" onMouseOver="hilite(24260)" onMouseOut="lolite()" onClick="logVariable('newmax')" href="../../_variables/newmax.html">$newmax</a> - <a class="var it24258" onMouseOver="hilite(24258)" onMouseOut="lolite()" onClick="logVariable('newmin')" href="../../_variables/newmin.html">$newmin</a>) / (<a class="var it30174" onMouseOver="hilite(30174)" onMouseOut="lolite()" onClick="logVariable('oldmax')" href="../../_variables/oldmax.html">$oldmax</a> - <a class="var it30173" onMouseOver="hilite(30173)" onMouseOut="lolite()" onClick="logVariable('oldmin')" href="../../_variables/oldmin.html">$oldmin</a>);
<a name="l1336"><span class="linenum">1336</span></a>      if ((<a class="var it24260" onMouseOver="hilite(24260)" onMouseOut="lolite()" onClick="logVariable('newmax')" href="../../_variables/newmax.html">$newmax</a> - <a class="var it24258" onMouseOver="hilite(24258)" onMouseOut="lolite()" onClick="logVariable('newmin')" href="../../_variables/newmin.html">$newmin</a>) &lt;= 1) {
<a name="l1337"><span class="linenum">1337</span></a>  <span class="comment">        // We would lose too much precision, lets bail.</span>
<a name="l1338"><span class="linenum">1338</span></a>          return false;
<a name="l1339"><span class="linenum">1339</span></a>      }
<a name="l1340"><span class="linenum">1340</span></a>  
<a name="l1341"><span class="linenum">1341</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array(
<a name="l1342"><span class="linenum">1342</span></a>          'p1' =&gt; <a class="var it30173" onMouseOver="hilite(30173)" onMouseOut="lolite()" onClick="logVariable('oldmin')" href="../../_variables/oldmin.html">$oldmin</a>,
<a name="l1343"><span class="linenum">1343</span></a>          'p2' =&gt; <a class="var it94" onMouseOver="hilite(94)" onMouseOut="lolite()" onClick="logVariable('scale')" href="../../_variables/scale.html">$scale</a>,
<a name="l1344"><span class="linenum">1344</span></a>          'p3' =&gt; <a class="var it24258" onMouseOver="hilite(24258)" onMouseOut="lolite()" onClick="logVariable('newmin')" href="../../_variables/newmin.html">$newmin</a>,
<a name="l1345"><span class="linenum">1345</span></a>          'a' =&gt; <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;instance
<a name="l1346"><span class="linenum">1346</span></a>      );
<a name="l1347"><span class="linenum">1347</span></a>  
<a name="l1348"><span class="linenum">1348</span></a>      <a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = 'UPDATE {assign_grades} set grade = (((grade - :p1) * :p2) + :p3) where assignment = :a';
<a name="l1349"><span class="linenum">1349</span></a>      <a class="var it33042" onMouseOver="hilite(33042)" onMouseOut="lolite()" onClick="logVariable('dbupdate')" href="../../_variables/dbupdate.html">$dbupdate</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('execute')" href="../../_functions/execute.html" onMouseOver="funcPopup(event,'execute')">execute</a>(<a class="var it64" onMouseOver="hilite(64)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l1350"><span class="linenum">1350</span></a>      if (!<a class="var it33042" onMouseOver="hilite(33042)" onMouseOut="lolite()" onClick="logVariable('dbupdate')" href="../../_variables/dbupdate.html">$dbupdate</a>) {
<a name="l1351"><span class="linenum">1351</span></a>          return false;
<a name="l1352"><span class="linenum">1352</span></a>      }
<a name="l1353"><span class="linenum">1353</span></a>  
<a name="l1354"><span class="linenum">1354</span></a>  <span class="comment">    // Now re-push all grades to the gradebook.</span>
<a name="l1355"><span class="linenum">1355</span></a>      <a class="var it11272" onMouseOver="hilite(11272)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a> = array('id' =&gt; <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>);
<a name="l1356"><span class="linenum">1356</span></a>      <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('assign', <a class="var it11272" onMouseOver="hilite(11272)" onMouseOut="lolite()" onClick="logVariable('dbparams')" href="../../_variables/dbparams.html">$dbparams</a>);
<a name="l1357"><span class="linenum">1357</span></a>      <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a onClick="logVariable('cmidnumber')" class="var it43084" onMouseOver="hilite(43084)" onMouseOut="lolite()" href="../../_variables/cmidnumber.html">cmidnumber</a> = <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('idnumber')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../_variables/idnumber.html">idnumber</a>;
<a name="l1358"><span class="linenum">1358</span></a>  
<a name="l1359"><span class="linenum">1359</span></a>      <a class="function" onClick="logFunction('assign_update_grades')" href="../../_functions/assign_update_grades.html" onMouseOver="funcPopup(event,'assign_update_grades')">assign_update_grades</a>(<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>);
<a name="l1360"><span class="linenum">1360</span></a>  
<a name="l1361"><span class="linenum">1361</span></a>      return true;
<a name="l1362"><span class="linenum">1362</span></a>  }
<a name="l1363"><span class="linenum">1363</span></a>  
<a name="l1364"><span class="linenum">1364</span></a>  <span class="comment">/**</span>
<a name="l1365"><span class="linenum">1365</span></a>  <span class="comment"> * Print the grade information for the assignment for this user.</span>
<a name="l1366"><span class="linenum">1366</span></a>  <span class="comment"> *</span>
<a name="l1367"><span class="linenum">1367</span></a>  <span class="comment"> * @param stdClass $course</span>
<a name="l1368"><span class="linenum">1368</span></a>  <span class="comment"> * @param stdClass $user</span>
<a name="l1369"><span class="linenum">1369</span></a>  <span class="comment"> * @param stdClass $coursemodule</span>
<a name="l1370"><span class="linenum">1370</span></a>  <span class="comment"> * @param stdClass $assignment</span>
<a name="l1371"><span class="linenum">1371</span></a>  <span class="comment"> */</span>
<a name="l1372"><span class="linenum">1372</span></a>  function <a class="function" onClick="logFunction('assign_user_outline')" href="../../_functions/assign_user_outline.html" onMouseOver="funcPopup(event,'assign_user_outline')">assign_user_outline</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>, <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>) {
<a name="l1373"><span class="linenum">1373</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1374"><span class="linenum">1374</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>.'/gradelib.php');
<a name="l1375"><span class="linenum">1375</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../../grade/grading/lib.php.html">/grade/grading/lib.php</a>');
<a name="l1376"><span class="linenum">1376</span></a>  
<a name="l1377"><span class="linenum">1377</span></a>      <a class="var it25297" onMouseOver="hilite(25297)" onMouseOut="lolite()" onClick="logVariable('gradinginfo')" href="../../_variables/gradinginfo.html">$gradinginfo</a> = <a class="function" onClick="logFunction('grade_get_grades')" href="../../_functions/grade_get_grades.html" onMouseOver="funcPopup(event,'grade_get_grades')">grade_get_grades</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l1378"><span class="linenum">1378</span></a>                                          'mod',
<a name="l1379"><span class="linenum">1379</span></a>                                          'assign',
<a name="l1380"><span class="linenum">1380</span></a>                                          <a class="var it284" onMouseOver="hilite(284)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a onClick="logVariable('id')" class="var it43688" onMouseOver="hilite(43688)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l1381"><span class="linenum">1381</span></a>                                          <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1382"><span class="linenum">1382</span></a>  
<a name="l1383"><span class="linenum">1383</span></a>      <a class="var it30891" onMouseOver="hilite(30891)" onMouseOut="lolite()" onClick="logVariable('gradingitem')" href="../../_variables/gradingitem.html">$gradingitem</a> = <a class="var it25297" onMouseOver="hilite(25297)" onMouseOut="lolite()" onClick="logVariable('gradinginfo')" href="../../_variables/gradinginfo.html">$gradinginfo</a>-&gt;<a onClick="logVariable('items')" class="var it43809" onMouseOver="hilite(43809)" onMouseOut="lolite()" href="../../_variables/items.html">items</a>[0];
<a name="l1384"><span class="linenum">1384</span></a>      <a class="var it21767" onMouseOver="hilite(21767)" onMouseOut="lolite()" onClick="logVariable('gradebookgrade')" href="../../_variables/gradebookgrade.html">$gradebookgrade</a> = <a class="var it30891" onMouseOver="hilite(30891)" onMouseOut="lolite()" onClick="logVariable('gradingitem')" href="../../_variables/gradingitem.html">$gradingitem</a>-&gt;<a onClick="logVariable('grades')" class="var it44980" onMouseOver="hilite(44980)" onMouseOut="lolite()" href="../../_variables/grades.html">grades</a>[<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>];
<a name="l1385"><span class="linenum">1385</span></a>  
<a name="l1386"><span class="linenum">1386</span></a>      if (empty(<a class="var it21767" onMouseOver="hilite(21767)" onMouseOut="lolite()" onClick="logVariable('gradebookgrade')" href="../../_variables/gradebookgrade.html">$gradebookgrade</a>-&gt;<a onClick="logVariable('str_long_grade')" class="var it43555" onMouseOver="hilite(43555)" onMouseOut="lolite()" href="../../_variables/str_long_grade.html">str_long_grade</a>)) {
<a name="l1387"><span class="linenum">1387</span></a>          return null;
<a name="l1388"><span class="linenum">1388</span></a>      }
<a name="l1389"><span class="linenum">1389</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = new stdClass();
<a name="l1390"><span class="linenum">1390</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('info')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/info.html">info</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('outlinegrade', 'assign', <a class="var it21767" onMouseOver="hilite(21767)" onMouseOut="lolite()" onClick="logVariable('gradebookgrade')" href="../../_variables/gradebookgrade.html">$gradebookgrade</a>-&gt;<a onClick="logVariable('str_long_grade')" class="var it43555" onMouseOver="hilite(43555)" onMouseOut="lolite()" href="../../_variables/str_long_grade.html">str_long_grade</a>);
<a name="l1391"><span class="linenum">1391</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>-&gt;<a onClick="logVariable('time')" class="var it43057" onMouseOver="hilite(43057)" onMouseOut="lolite()" href="../../_variables/time.html">time</a> = <a class="var it21767" onMouseOver="hilite(21767)" onMouseOut="lolite()" onClick="logVariable('gradebookgrade')" href="../../_variables/gradebookgrade.html">$gradebookgrade</a>-&gt;<a onClick="logVariable('dategraded')" class="var it43555" onMouseOver="hilite(43555)" onMouseOut="lolite()" href="../../_variables/dategraded.html">dategraded</a>;
<a name="l1392"><span class="linenum">1392</span></a>  
<a name="l1393"><span class="linenum">1393</span></a>      return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l1394"><span class="linenum">1394</span></a>  }
<a name="l1395"><span class="linenum">1395</span></a>  
<a name="l1396"><span class="linenum">1396</span></a>  <span class="comment">/**</span>
<a name="l1397"><span class="linenum">1397</span></a>  <span class="comment"> * Obtains the automatic completion state for this module based on any conditions</span>
<a name="l1398"><span class="linenum">1398</span></a>  <span class="comment"> * in assign settings.</span>
<a name="l1399"><span class="linenum">1399</span></a>  <span class="comment"> *</span>
<a name="l1400"><span class="linenum">1400</span></a>  <span class="comment"> * @param object $course Course</span>
<a name="l1401"><span class="linenum">1401</span></a>  <span class="comment"> * @param object $cm Course-module</span>
<a name="l1402"><span class="linenum">1402</span></a>  <span class="comment"> * @param int $userid User ID</span>
<a name="l1403"><span class="linenum">1403</span></a>  <span class="comment"> * @param bool $type Type of comparison (or/and; can be used as return value if no conditions)</span>
<a name="l1404"><span class="linenum">1404</span></a>  <span class="comment"> * @return bool True if completed, false if not, $type if conditions not set.</span>
<a name="l1405"><span class="linenum">1405</span></a>  <span class="comment"> */</span>
<a name="l1406"><span class="linenum">1406</span></a>  function <a class="function" onClick="logFunction('assign_get_completion_state')" href="../../_functions/assign_get_completion_state.html" onMouseOver="funcPopup(event,'assign_get_completion_state')">assign_get_completion_state</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>) {
<a name="l1407"><span class="linenum">1407</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l1408"><span class="linenum">1408</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l1409"><span class="linenum">1409</span></a>  
<a name="l1410"><span class="linenum">1410</span></a>      <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(null, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l1411"><span class="linenum">1411</span></a>  
<a name="l1412"><span class="linenum">1412</span></a>  <span class="comment">    // If completion option is enabled, evaluate it and return true/false.</span>
<a name="l1413"><span class="linenum">1413</span></a>      if (<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>()-&gt;completionsubmit) {
<a name="l1414"><span class="linenum">1414</span></a>          if (<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>()-&gt;teamsubmission) {
<a name="l1415"><span class="linenum">1415</span></a>              <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a> = <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('get_group_submission')" href="../../_functions/get_group_submission.html" onMouseOver="funcPopup(event,'get_group_submission')">get_group_submission</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, 0, false);
<a name="l1416"><span class="linenum">1416</span></a>          } else {
<a name="l1417"><span class="linenum">1417</span></a>              <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a> = <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('get_user_submission')" href="../../_functions/get_user_submission.html" onMouseOver="funcPopup(event,'get_user_submission')">get_user_submission</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, false);
<a name="l1418"><span class="linenum">1418</span></a>          }
<a name="l1419"><span class="linenum">1419</span></a>          return <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a> &amp;&amp; <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('status')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../_variables/status.html">status</a> == <a class="constant" onClick="logConstant('ASSIGN_SUBMISSION_STATUS_SUBMITTED')" href="../../_constants/ASSIGN_SUBMISSION_STATUS_SUBMITTED.html" onMouseOver="constPopup(event,'ASSIGN_SUBMISSION_STATUS_SUBMITTED')">ASSIGN_SUBMISSION_STATUS_SUBMITTED</a>;
<a name="l1420"><span class="linenum">1420</span></a>      } else {
<a name="l1421"><span class="linenum">1421</span></a>  <span class="comment">        // Completion option is not enabled so just return $type.</span>
<a name="l1422"><span class="linenum">1422</span></a>          return <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>;
<a name="l1423"><span class="linenum">1423</span></a>      }
<a name="l1424"><span class="linenum">1424</span></a>  }
<a name="l1425"><span class="linenum">1425</span></a>  
<a name="l1426"><span class="linenum">1426</span></a>  <span class="comment">/**</span>
<a name="l1427"><span class="linenum">1427</span></a>  <span class="comment"> * Serves intro attachment files.</span>
<a name="l1428"><span class="linenum">1428</span></a>  <span class="comment"> *</span>
<a name="l1429"><span class="linenum">1429</span></a>  <span class="comment"> * @param mixed $course course or id of the course</span>
<a name="l1430"><span class="linenum">1430</span></a>  <span class="comment"> * @param mixed $cm course module or id of the course module</span>
<a name="l1431"><span class="linenum">1431</span></a>  <span class="comment"> * @param context $context</span>
<a name="l1432"><span class="linenum">1432</span></a>  <span class="comment"> * @param string $filearea</span>
<a name="l1433"><span class="linenum">1433</span></a>  <span class="comment"> * @param array $args</span>
<a name="l1434"><span class="linenum">1434</span></a>  <span class="comment"> * @param bool $forcedownload</span>
<a name="l1435"><span class="linenum">1435</span></a>  <span class="comment"> * @param array $options additional options affecting the file serving</span>
<a name="l1436"><span class="linenum">1436</span></a>  <span class="comment"> * @return bool false if file not found, does not return if found - just send the file</span>
<a name="l1437"><span class="linenum">1437</span></a>  <span class="comment"> */</span>
<a name="l1438"><span class="linenum">1438</span></a>  function <a class="function" onClick="logFunction('assign_pluginfile')" href="../../_functions/assign_pluginfile.html" onMouseOver="funcPopup(event,'assign_pluginfile')">assign_pluginfile</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>,
<a name="l1439"><span class="linenum">1439</span></a>                  <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>,
<a name="l1440"><span class="linenum">1440</span></a>                  context <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>,
<a name="l1441"><span class="linenum">1441</span></a>                  <a class="var it24" onMouseOver="hilite(24)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>,
<a name="l1442"><span class="linenum">1442</span></a>                  <a class="var it25" onMouseOver="hilite(25)" onMouseOut="lolite()" onClick="logVariable('args')" href="../../_variables/args.html">$args</a>,
<a name="l1443"><span class="linenum">1443</span></a>                  <a class="var it26" onMouseOver="hilite(26)" onMouseOut="lolite()" onClick="logVariable('forcedownload')" href="../../_variables/forcedownload.html">$forcedownload</a>,
<a name="l1444"><span class="linenum">1444</span></a>                  array <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>=array()) {
<a name="l1445"><span class="linenum">1445</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1446"><span class="linenum">1446</span></a>  
<a name="l1447"><span class="linenum">1447</span></a>      if (<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_MODULE')" href="../../_constants/CONTEXT_MODULE.html" onMouseOver="constPopup(event,'CONTEXT_MODULE')">CONTEXT_MODULE</a>) {
<a name="l1448"><span class="linenum">1448</span></a>          return false;
<a name="l1449"><span class="linenum">1449</span></a>      }
<a name="l1450"><span class="linenum">1450</span></a>  
<a name="l1451"><span class="linenum">1451</span></a>      <a class="function" onClick="logFunction('require_login')" href="../../_functions/require_login.html" onMouseOver="funcPopup(event,'require_login')">require_login</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, false, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>);
<a name="l1452"><span class="linenum">1452</span></a>      if (!<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/assign:view', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l1453"><span class="linenum">1453</span></a>          return false;
<a name="l1454"><span class="linenum">1454</span></a>      }
<a name="l1455"><span class="linenum">1455</span></a>  
<a name="l1456"><span class="linenum">1456</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l1457"><span class="linenum">1457</span></a>      <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l1458"><span class="linenum">1458</span></a>  
<a name="l1459"><span class="linenum">1459</span></a>      if (<a class="var it24" onMouseOver="hilite(24)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a> !== <a class="constant" onClick="logConstant('ASSIGN_INTROATTACHMENT_FILEAREA')" href="../../_constants/ASSIGN_INTROATTACHMENT_FILEAREA.html" onMouseOver="constPopup(event,'ASSIGN_INTROATTACHMENT_FILEAREA')">ASSIGN_INTROATTACHMENT_FILEAREA</a>) {
<a name="l1460"><span class="linenum">1460</span></a>          return false;
<a name="l1461"><span class="linenum">1461</span></a>      }
<a name="l1462"><span class="linenum">1462</span></a>      if (!<a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('show_intro')" href="../../_functions/show_intro.html" onMouseOver="funcPopup(event,'show_intro')">show_intro</a>()) {
<a name="l1463"><span class="linenum">1463</span></a>          return false;
<a name="l1464"><span class="linenum">1464</span></a>      }
<a name="l1465"><span class="linenum">1465</span></a>  
<a name="l1466"><span class="linenum">1466</span></a>      <a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a> = (int)<a class="phpfunction" onClick="logFunction('array_shift')" href="../../_functions/array_shift.html" onMouseOver="phpfuncPopup(event,'array_shift')">array_shift</a>(<a class="var it25" onMouseOver="hilite(25)" onMouseOut="lolite()" onClick="logVariable('args')" href="../../_variables/args.html">$args</a>);
<a name="l1467"><span class="linenum">1467</span></a>      if (<a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a> != 0) {
<a name="l1468"><span class="linenum">1468</span></a>          return false;
<a name="l1469"><span class="linenum">1469</span></a>      }
<a name="l1470"><span class="linenum">1470</span></a>  
<a name="l1471"><span class="linenum">1471</span></a>      <a class="var it2277" onMouseOver="hilite(2277)" onMouseOut="lolite()" onClick="logVariable('relativepath')" href="../../_variables/relativepath.html">$relativepath</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>('/', <a class="var it25" onMouseOver="hilite(25)" onMouseOut="lolite()" onClick="logVariable('args')" href="../../_variables/args.html">$args</a>);
<a name="l1472"><span class="linenum">1472</span></a>  
<a name="l1473"><span class="linenum">1473</span></a>      <a class="var it241" onMouseOver="hilite(241)" onMouseOut="lolite()" onClick="logVariable('fullpath')" href="../../_variables/fullpath.html">$fullpath</a> = &quot;/{<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>}/mod_assign/<a class="var it24" onMouseOver="hilite(24)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>/<a class="var it868" onMouseOver="hilite(868)" onMouseOut="lolite()" onClick="logVariable('itemid')" href="../../_variables/itemid.html">$itemid</a>/<a class="var it2277" onMouseOver="hilite(2277)" onMouseOut="lolite()" onClick="logVariable('relativepath')" href="../../_variables/relativepath.html">$relativepath</a>&quot;;
<a name="l1474"><span class="linenum">1474</span></a>  
<a name="l1475"><span class="linenum">1475</span></a>      <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a> = <a class="function" onClick="logFunction('get_file_storage')" href="../../_functions/get_file_storage.html" onMouseOver="funcPopup(event,'get_file_storage')">get_file_storage</a>();
<a name="l1476"><span class="linenum">1476</span></a>      if (!<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a> = <a class="var it640" onMouseOver="hilite(640)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a>-&gt;<a class="function" onClick="logFunction('get_file_by_hash')" href="../../_functions/get_file_by_hash.html" onMouseOver="funcPopup(event,'get_file_by_hash')">get_file_by_hash</a>(<a class="phpfunction" onClick="logFunction('sha1')" href="../../_functions/sha1.html" onMouseOver="phpfuncPopup(event,'sha1')">sha1</a>(<a class="var it241" onMouseOver="hilite(241)" onMouseOut="lolite()" onClick="logVariable('fullpath')" href="../../_variables/fullpath.html">$fullpath</a>)) or <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('is_directory')" href="../../_functions/is_directory.html" onMouseOver="funcPopup(event,'is_directory')">is_directory</a>()) {
<a name="l1477"><span class="linenum">1477</span></a>          return false;
<a name="l1478"><span class="linenum">1478</span></a>      }
<a name="l1479"><span class="linenum">1479</span></a>      <a class="function" onClick="logFunction('send_stored_file')" href="../../_functions/send_stored_file.html" onMouseOver="funcPopup(event,'send_stored_file')">send_stored_file</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>, 0, 0, <a class="var it26" onMouseOver="hilite(26)" onMouseOut="lolite()" onClick="logVariable('forcedownload')" href="../../_variables/forcedownload.html">$forcedownload</a>, <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../_variables/options.html">$options</a>);
<a name="l1480"><span class="linenum">1480</span></a>  }
<a name="l1481"><span class="linenum">1481</span></a>  
<a name="l1482"><span class="linenum">1482</span></a>  <span class="comment">/**</span>
<a name="l1483"><span class="linenum">1483</span></a>  <span class="comment"> * Serve the grading panel as a fragment.</span>
<a name="l1484"><span class="linenum">1484</span></a>  <span class="comment"> *</span>
<a name="l1485"><span class="linenum">1485</span></a>  <span class="comment"> * @param array $args List of named arguments for the fragment loader.</span>
<a name="l1486"><span class="linenum">1486</span></a>  <span class="comment"> * @return string</span>
<a name="l1487"><span class="linenum">1487</span></a>  <span class="comment"> */</span>
<a name="l1488"><span class="linenum">1488</span></a>  function <a class="function" onClick="logFunction('mod_assign_output_fragment_gradingpanel')" href="../../_functions/mod_assign_output_fragment_gradingpanel.html" onMouseOver="funcPopup(event,'mod_assign_output_fragment_gradingpanel')">mod_assign_output_fragment_gradingpanel</a>(<a class="var it25" onMouseOver="hilite(25)" onMouseOut="lolite()" onClick="logVariable('args')" href="../../_variables/args.html">$args</a>) {
<a name="l1489"><span class="linenum">1489</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1490"><span class="linenum">1490</span></a>  
<a name="l1491"><span class="linenum">1491</span></a>      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="var it25" onMouseOver="hilite(25)" onMouseOut="lolite()" onClick="logVariable('args')" href="../../_variables/args.html">$args</a>['context'];
<a name="l1492"><span class="linenum">1492</span></a>  
<a name="l1493"><span class="linenum">1493</span></a>      if (<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_MODULE')" href="../../_constants/CONTEXT_MODULE.html" onMouseOver="constPopup(event,'CONTEXT_MODULE')">CONTEXT_MODULE</a>) {
<a name="l1494"><span class="linenum">1494</span></a>          return null;
<a name="l1495"><span class="linenum">1495</span></a>      }
<a name="l1496"><span class="linenum">1496</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>');
<a name="l1497"><span class="linenum">1497</span></a>      <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, null, null);
<a name="l1498"><span class="linenum">1498</span></a>  
<a name="l1499"><span class="linenum">1499</span></a>      <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = <a class="function" onClick="logFunction('clean_param')" href="../../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="var it25" onMouseOver="hilite(25)" onMouseOut="lolite()" onClick="logVariable('args')" href="../../_variables/args.html">$args</a>['userid'], <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l1500"><span class="linenum">1500</span></a>      <a class="var it282" onMouseOver="hilite(282)" onMouseOut="lolite()" onClick="logVariable('attemptnumber')" href="../../_variables/attemptnumber.html">$attemptnumber</a> = <a class="function" onClick="logFunction('clean_param')" href="../../_functions/clean_param.html" onMouseOver="funcPopup(event,'clean_param')">clean_param</a>(<a class="var it25" onMouseOver="hilite(25)" onMouseOut="lolite()" onClick="logVariable('args')" href="../../_variables/args.html">$args</a>['attemptnumber'], <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l1501"><span class="linenum">1501</span></a>      <a class="var it466" onMouseOver="hilite(466)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a> = array();
<a name="l1502"><span class="linenum">1502</span></a>      if (!empty(<a class="var it25" onMouseOver="hilite(25)" onMouseOut="lolite()" onClick="logVariable('args')" href="../../_variables/args.html">$args</a>['jsonformdata'])) {
<a name="l1503"><span class="linenum">1503</span></a>          <a class="var it33043" onMouseOver="hilite(33043)" onMouseOut="lolite()" onClick="logVariable('serialiseddata')" href="../../_variables/serialiseddata.html">$serialiseddata</a> = json_decode(<a class="var it25" onMouseOver="hilite(25)" onMouseOut="lolite()" onClick="logVariable('args')" href="../../_variables/args.html">$args</a>['jsonformdata']);
<a name="l1504"><span class="linenum">1504</span></a>          <a class="phpfunction" onClick="logFunction('parse_str')" href="../../_functions/parse_str.html" onMouseOver="phpfuncPopup(event,'parse_str')">parse_str</a>(<a class="var it33043" onMouseOver="hilite(33043)" onMouseOut="lolite()" onClick="logVariable('serialiseddata')" href="../../_variables/serialiseddata.html">$serialiseddata</a>, <a class="var it466" onMouseOver="hilite(466)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>);
<a name="l1505"><span class="linenum">1505</span></a>      }
<a name="l1506"><span class="linenum">1506</span></a>      <a class="var it33044" onMouseOver="hilite(33044)" onMouseOut="lolite()" onClick="logVariable('viewargs')" href="../../_variables/viewargs.html">$viewargs</a> = array(
<a name="l1507"><span class="linenum">1507</span></a>          'userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>,
<a name="l1508"><span class="linenum">1508</span></a>          'attemptnumber' =&gt; <a class="var it282" onMouseOver="hilite(282)" onMouseOut="lolite()" onClick="logVariable('attemptnumber')" href="../../_variables/attemptnumber.html">$attemptnumber</a>,
<a name="l1509"><span class="linenum">1509</span></a>          'formdata' =&gt; <a class="var it466" onMouseOver="hilite(466)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>
<a name="l1510"><span class="linenum">1510</span></a>      );
<a name="l1511"><span class="linenum">1511</span></a>  
<a name="l1512"><span class="linenum">1512</span></a>      return <a class="var it684" onMouseOver="hilite(684)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('view')" href="../../_functions/view.html" onMouseOver="funcPopup(event,'view')">view</a>('gradingpanel', <a class="var it33044" onMouseOver="hilite(33044)" onMouseOut="lolite()" onClick="logVariable('viewargs')" href="../../_variables/viewargs.html">$viewargs</a>);
<a name="l1513"><span class="linenum">1513</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'assign_get_file_areas': ['assign_get_file_areas', 'List the file areas that can be browsed. ', [['mod/assign','lib.php',1171]], 0],
'get_recordset_sql': ['get_recordset_sql', 'Get a number of records as an moodle_recordset.  $sql must be a complete SQL query. Since this method is a little less readable, use of it should be restricted to code where it\'s possible there might be large datasets being returned.  For known small datasets use get_records_sql - it leads to simpler code. ', [['lib/dml','pdo_moodle_database.php',252],['lib/dml','oci_native_moodle_database.php',1106],['lib/dml','pgsql_native_moodle_database.php',688],['lib/dml','mssql_native_moodle_database.php',736],['lib/dml','mysqli_native_moodle_database.php',993],['lib/dml','sqlsrv_native_moodle_database.php',811],['lib/dml/tests','dml_test.php',5544]], 283],
'get_enrolled_users': ['get_enrolled_users', 'Returns list of users enrolled into course. ', [['lib','accesslib.php',2439],['enrol','externallib.php',409]], 61],
'assign_pluginfile': ['assign_pluginfile', 'Serves intro attachment files. ', [['mod/assign','lib.php',1426]], 0],
'is_blind_marking': ['is_blind_marking', 'Is blind marking enabled and reveal identities not set yet? ', [['mod/assign','locallib.php',310]], 36],
'execute': ['execute', 'Run langpack update ', [['admin/tool/langimport/classes/task','update_langpacks_task.php',44],['backup/converter/imscc1','lib.php',84],['lib/classes/task','blog_cron_task.php',40],['mod/workshop/allocation/scheduled','lib.php',128],['lib/classes/task','send_new_user_passwords_task.php',40],['admin/tool/log/store/standard/classes/task','cleanup_task.php',40],['lib/dml','pdo_moodle_database.php',227],['lib/classes/task','tag_cron_task.php',42],['enrol/imsenterprise/classes/task','cron_task.php',43],['lib/classes/task','completion_daily_task.php',42],['lib/google/src/Google/Http','Batch.php',61],['lib/dml','oci_native_moodle_database.php',1048],['lib/classes/task','context_cleanup_task.php',41],['backup/util/plan','backup_structure_step.class.php',50],['backup/util/ui','restore_ui.class.php',206],['webservice','lib.php',1319],['lib/classes/task','stats_cron_task.php',40],['lib/htmlpurifier/HTMLPurifier/Strategy','ValidateAttributes.php',16],['lib/htmlpurifier/HTMLPurifier/Strategy','RemoveForeignElements.php',20],['lib/classes/task','legacy_plugin_cron_task.php',42],['backup/moodle2','restore_activity_task.class.php',189],['lib/classes/task','portfolio_cron_task.php',40],['lib/google/src/Google/Http','REST.php',27],['lib/htmlpurifier/HTMLPurifier/Strategy','MakeWellFormed.php',66],['backup/converter/imscc11','backuplib.php',42],['lib/classes/task','question_cron_task.php',40],['lib/classes/task','cache_cron_task.php',40],['admin/tool/log/store/legacy/classes/task','cleanup_task.php',40],['mod/lti/service/memberships/classes/local/resource','linkmemberships.php',62],['admin/tool/messageinbound/classes/task','cleanup_task.php',47],['lib/adodb/drivers','adodb-pdo.inc.php',559],['lib/editor/atto/classes/task','autosave_cleanup_task.php',42],['admin/tool/recyclebin/classes/task','cleanup_category_bin.php',43],['lib/classes/task','completion_regular_task.php',42],['lib/adodb/drivers','adodb-oci8po.inc.php',54],['lib/classes/task','events_cron_task.php',40],['mod/workshop/allocation/random','lib.php',83],['mod/assign/feedback/editpdf/classes/task','convert_submissions.php',47],['auth/cas/classes/task','sync_task.php',43],['admin/tool/recyclebin/classes/task','cleanup_course_bin.php',43],['mod/lti/service/toolsettings/classes/local/resource','contextsettings.php',62],['backup/util/helper','restore_decode_processor.class.php',73],['lib/behat','behat_base.php',840],['enrol/flatfile/classes/task','flatfile_sync_task.php',46],['lib/classes/task','registration_cron_task.php',40],['backup/moodle2','backup_section_task.class.php',97],['lib/classes/task','check_for_updates_task.php',40],['backup/util/plan/tests/fixtures','plan_fixtures.php',48],['backup/util/plan/tests/fixtures','plan_fixtures.php',56],['mod/forum/classes/task','cron_task.php',39],['lib/classes/task','send_failed_login_notifications_task.php',43],['enrol/lti/classes/task','sync_grades.php',45],['lib/dml','pgsql_native_moodle_database.php',665],['lib/htmlpurifier/HTMLPurifier/Strategy','Composite.php',21],['lib/classes/update','validator.php',117],['lib/google/src/Google','Client.php',574],['lib/dml','mssql_native_moodle_database.php',711],['mod/lti/service/profile/classes/local/resource','profile.php',76],['backup/util/plan','backup_plan.class.php',112],['lib/dml','mysqli_native_moodle_database.php',963],['backup/util/ui','backup_ui.class.php',122],['admin/tool/monitor/classes/task','clean_events.php',41],['backup/converter/moodle1','backuplib.php',10],['backup/converter/imscc11','lib.php',85],['lib/classes/task','grade_cron_task.php',40],['lib/classes/task','file_temp_cleanup_task.php',40],['backup/moodle2','restore_section_task.class.php',87],['mod/lti/service/toolsettings/classes/local/resource','linksettings.php',63],['filter/tex','latex.php',70],['lib/adodb','adodb.inc.php',1088],['lib/classes/task','plagiarism_cron_task.php',40],['mod/lti/service/toolproxy/classes/local/resource','toolproxy.php',62],['backup/converter/moodle1','lib.php',142],['backup/util/plan','restore_structure_step.class.php',62],['lib/classes/task','search_index_task.php',44],['enrol/lti/classes/task','sync_members.php',55],['lib/classes/task','session_cleanup_task.php',40],['mod/lti/service/toolsettings/classes/local/resource','systemsettings.php',61],['lib/classes/task','backup_cleanup_task.php',40],['lib/classes/task','delete_unconfirmed_users_task.php',40],['backup/converter/imscc1','backuplib.php',10],['lib/classes/task','badges_cron_task.php',40],['admin/tool/uploadcourse/classes','processor.php',174],['lib/classes/task','calendar_cron_task.php',40],['backup/util/plan','base_plan.class.php',158],['auth/ldap/classes/task','sync_task.php',43],['lib/adodb/drivers','adodb-oci8.inc.php',920],['backup/util/plan','restore_plan.class.php',159],['lib/tests/fixtures','task_fixtures.php',30],['lib/tests/fixtures','task_fixtures.php',39],['lib/tests/fixtures','task_fixtures.php',48],['lib/tests/fixtures','task_fixtures.php',57],['lib/dml','sqlsrv_native_moodle_database.php',795],['lib/classes/task','create_contexts_task.php',40],['lib/classes/task','file_trash_cleanup_task.php',40],['admin/tool/cohortroles/classes/task','cohort_role_sync.php',46],['lib/classes/task','complete_plans_task.php',52],['lib/classes/task','messaging_cleanup_task.php',40],['backup/util/plan','backup_execution_step.class.php',25],['lib/classes/task','cache_cleanup_task.php',40],['backup/moodle2','backup_activity_task.class.php',211],['filter/tex','texdebug.php',287],['lib/classes/task','password_reset_cleanup_task.php',40],['lib/classes/task','search_optimize_task.php',47],['mod/assign','adminlib.php',342],['lib/classes/task','delete_incomplete_users_task.php',40],['lib/classes/task','automated_backup_task.php',40],['admin/tool/messageinbound/classes/task','pickup_task.php',47],['backup/util/plan','restore_execution_step.class.php',25],['lib/classes/task','sync_plans_from_template_cohorts_task.php',50],['admin/tool/monitor/classes','notification_task.php',39],['lib/dml/tests','dml_test.php',5543],['lib/htmlpurifier/HTMLPurifier/Strategy','FixNesting.php',41],['mod/lti/service/memberships/classes/local/resource','contextmemberships.php',60],['admin/tool/monitor/classes/task','check_subscriptions.php',60],['backup/util/interfaces','executable.class.php',32],['backup/util/plan','base_task.class.php',162]], 1058],
'assign_add_instance': ['assign_add_instance', 'Adds an assignment instance ', [['mod/assign','lib.php',28]], 0],
'get_file': ['get_file', 'Downloads a repository file and saves to a path. ', [['repository/boxnet','lib.php',179],['repository/flickr_public','lib.php',453],['repository/dropbox','lib.php',410],['repository/skydrive','lib.php',130],['repository','lib.php',1647],['repository/s3','lib.php',227],['repository/equella','lib.php',166],['mod/data/field/picture','field.class.php',126],['mod/data/field/file','field.class.php',123],['repository/googledocs','lib.php',408],['lib/filestorage','file_storage.php',700],['repository/webdav','lib.php',73],['repository/filesystem','lib.php',398],['repository/flickr','lib.php',277],['lib','externallib.php',1076],['repository/dropbox','locallib.php',114],['lib','webdavlib.php',391]], 169],
'add': ['add', 'Add HashTable item ', [['lib/phpexcel/PHPExcel','HashTable.php',78],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',95],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',109],['lib/google/src/Google/Http','Batch.php',52],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',37],['lib','csslib.php',1508],['lib/horde/framework/Horde/Mail/Rfc822','List.php',116],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',33],['lib/horde/framework/Horde/Support','ConsistentHash.php',148],['lib/horde/framework/Horde','Variables.php',297],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',29],['lib','outputcomponents.php',2705],['lib','outputcomponents.php',3380],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',436],['lib','adminlib.php',735],['lib','adminlib.php',894],['lib','adminlib.php',1446],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',27],['lib/xhprof/xhprof_html/jquery','jquery-1.2.6.js',3450],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',80],['lib/google/src/Google/Service','Webmasters.php',436],['lib','navigationlib.php',304],['lib','navigationlib.php',761],['lib','navigationlib.php',3305],['lib','navigationlib.php',3583],['lib/horde/framework/Horde/Imap/Client','Ids.php',155],['backup/cc/cc_lib/gral_lib','cssparser.php',121],['lib/xhprof/xhprof_html/jquery','jquery.autocomplete.js',428],['lib/horde/framework/Horde','Stream.php',116],['comment','lib.php',679],['lib/mustache/src/Mustache','HelperCollection.php',56],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',207],['backup/cc/cc_lib','cc_utils.php',395],['backup/cc/cc_lib','cc_utils.php',454],['lib/lessphp/Output','Mapped.php',50],['lib','licenselib.php',32],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',50],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',74],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',14],['lib/horde/framework/Horde/Mail/Rfc822','GroupList.php',25],['lib/htmlpurifier/HTMLPurifier','IDAccumulator.php',31],['tag/classes','tag.php',152],['blog','locallib.php',242],['lib/classes','notification.php',50],['lib/lessphp','Output.php',18],['tag/classes/output','tagfeed.php',61],['backup/cc','validator.php',51],['lib/horde/framework/Horde/Stream','TempString.php',118],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',11]], 6188],
'assign_grade_item_update': ['assign_grade_item_update', 'Create grade item for given assignment. ', [['mod/assign','lib.php',1062]], 10],
'update_instance': ['update_instance', 'Update instance of enrol plugin. ', [['enrol/manual','lib.php',164],['lib','enrollib.php',1783],['enrol/self','lib.php',978],['enrol/cohort','lib.php',126],['mod/assign','locallib.php',990],['enrol/lti','lib.php',114],['enrol/paypal','lib.php',137],['enrol/meta','lib.php',165]], 16],
'assign_delete_instance': ['assign_delete_instance', 'delete an assignment instance ', [['mod/assign','lib.php',44]], 0],
'get_groups': ['get_groups', 'Returns groups that the current user belongs to on the course. Note: If not already available, this may make a database query. ', [['lib','modinfolib.php',289],['group','externallib.php',164]], 29],
'get_records': ['get_records', 'Load a list of records. ', [['competency/classes','persistent.php',709],['mod/glossary/classes','entry_query_builder.php',295],['lib/dml','moodle_database.php',1285],['lib','coursecatlib.php',651],['question','category_class.php',63]], 965],
'assign_grading_areas_list': ['assign_grading_areas_list', 'Lists all gradable areas for the advanced grading methods gramework ', [['mod/assign','lib.php',232]], 0],
'assign_refresh_events': ['assign_refresh_events', 'This standard function will check all instances of this module and make sure there are up-to-date events created for each of them. If courseid = 0, then every assignment event in the site is checked, else only assignment events belonging to the course specified are checked. ', [['mod/assign','lib.php',90]], 5],
'assign_user_outline': ['assign_user_outline', 'Print the grade information for the assignment for this user. ', [['mod/assign','lib.php',1364]], 1],
'fullname': ['fullname', 'Returns a persons full name ', [['lib','moodlelib.php',3249],['mod/assign','locallib.php',3915]], 546],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'get_context': ['get_context', 'Return the course context for new modules, or the module context for existing modules. ', [['course','moodleform_mod.php',148],['availability/classes','info_module.php',72],['availability/classes','info_section.php',55],['competency/classes','user_competency_plan.php',83],['availability/tests/fixtures','mock_info.php',59],['mod/feedback/classes','responses_table.php',146],['competency/classes','competency.php',730],['competency/classes','plan.php',258],['mod/quiz','attemptlib.php',220],['competency/classes','user_competency.php',216],['grade/grading','lib.php',107],['lib','modinfolib.php',1486],['lib','badgeslib.php',157],['competency/classes/external','exporter.php',172],['comment','lib.php',994],['grade/grading/form','lib.php',102],['mod/assign','locallib.php',1307],['competency/classes','user_evidence.php',90],['competency/classes','user_competency_course.php',80],['lib/classes/event','base.php',627],['enrol','locallib.php',921],['lib','coursecatlib.php',2369],['lib','coursecatlib.php',3065],['competency/classes','course_competency_settings.php',133],['lib/tests/behat','behat_data_generators.php',769],['competency/classes','competency_framework.php',70],['competency/classes','template.php',139]], 1033],
'grade_update': ['grade_update', 'Submit new or update grade; update/create grade_item definition. Grade must have userid specified, rawgrade and feedback with format are optional. rawgrade NULL means \'Not graded\'. Missing property or key means does not change the existing value. ', [['lib','gradelib.php',40]], 27],
'assign_reset_course_form_definition': ['assign_reset_course_form_definition', 'Implementation of the function for printing the form elements that control whether the course reset functionality affects the assignment. ', [['mod/assign','lib.php',160]], 0],
'assign_rescale_activity_grades': ['assign_rescale_activity_grades', 'Rescale all grades for this activity and push the new grades to the gradebook. ', [['mod/assign','lib.php',1318]], 0],
'has_any_capability': ['has_any_capability', 'Check if the user has any one of several capabilities from a list. ', [['lib','accesslib.php',496]], 100],
'assign_print_recent_mod_activity': ['assign_print_recent_mod_activity', 'Print recent activity from all assignments in a given course ', [['mod/assign','lib.php',908]], 0],
'delete_instance': ['delete_instance', 'Delete all data related to a given workshop module instance ', [['mod/workshop/eval','lib.php',59],['mod/workshop/allocation/scheduled','lib.php',200],['mod/workshop/eval/best','lib.php',125],['mod/workshop/form','lib.php',118],['lib','enrollib.php',1849],['mod/workshop/allocation/random','lib.php',243],['mod/assign/submission/file','locallib.php',447],['mod/workshop/form/rubric','lib.php',405],['mod/assign/feedback/comments','locallib.php',485],['mod/workshop/form/comments','lib.php',360],['mod/workshop/allocation/manual','lib.php',349],['lib','accesslib.php',6111],['mod/assign','assignmentplugin.php',525],['mod/workshop/allocation','lib.php',62],['mod/assign','locallib.php',715],['mod/workshop/form/accumulative','lib.php',375],['mod/workshop/form/numerrors','lib.php',394],['mod/assign/submission/onlinetext','locallib.php',550],['mod/assign/feedback/file','locallib.php',320],['mod/assign/feedback/editpdf','locallib.php',324],['tag/classes','tag.php',473],['enrol/lti','lib.php',145]], 37],
'set_instance': ['set_instance', 'Set the submitted form data. ', [['mod/assign','locallib.php',265]], 1],
'assign_get_post_actions': ['assign_get_post_actions', 'List the actions that correspond to a post of this module. This is used by the participation report. ', [['mod/assign','lib.php',1004]], 0],
'record_exists': ['record_exists', 'Check if a record exists by ID. ', [['competency/classes','persistent.php',842],['lib/dml','moodle_database.php',1817]], 901],
'assign_cron': ['assign_cron', 'Call cron on the assign module. ', [['mod/assign','lib.php',1018]], 0],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',922],['lib','accesslib.php',344]], 2064],
'get_fast_modinfo': ['get_fast_modinfo', 'Returns reference to full info about modules in course (including visibility). Cached and as fast as possible (0 or 1 db query). ', [['lib','modinfolib.php',1977]], 289],
'assign_get_extra_capabilities': ['assign_get_extra_capabilities', 'Returns all other capabilities used by this module. ', [['mod/assign','lib.php',1051]], 0],
'reset_userdata': ['reset_userdata', 'Actual implementation of the reset course functionality, delete all the assignment submissions for course $data->courseid. ', [['mod/assign','locallib.php',761],['mod/workshop','locallib.php',2567]], 8],
'cron': ['cron', 'Find user\'s who have completed this criteria ', [['completion/criteria','completion_criteria_course.php',152],['enrol/manual','lib.php',284],['admin/registration','lib.php',50],['question/engine','bank.php',415],['completion/criteria','completion_criteria_date.php',144],['repository/dropbox','lib.php',704],['lib/classes/update','checker.php',193],['enrol/imsenterprise','lib.php',87],['lib','enrollib.php',1980],['repository','lib.php',2357],['auth/mnet','auth.php',832],['enrol/self','lib.php',423],['cache/classes','helper.php',659],['enrol/cohort','lib.php',164],['lib/filestorage','file_storage.php',2494],['enrol/category','lib.php',77],['mod/assign','assignmentplugin.php',534],['mod/assign','locallib.php',1880],['completion/criteria','completion_criteria_grade.php',185],['blocks/recent_activity','block_recent_activity.php',231],['completion/criteria','completion_criteria_activity.php',198],['enrol/paypal','lib.php',303],['completion/criteria','completion_criteria_duration.php',197],['blocks/rss_client','block_rss_client.php',262],['enrol/meta','lib.php',206]], 71],
'assign_get_mysubmission_details_for_print_overview': ['assign_get_mysubmission_details_for_print_overview', 'This api generates html to be displayed to students in print overview section, related to their submission status of the given assignment. ', [['mod/assign','lib.php',479]], 1],
'print_recent_activity_note': ['print_recent_activity_note', 'Display a recent activity note ', [['lib','weblib.php',2431]], 5],
'assign_reset_userdata': ['assign_reset_userdata', 'This function is used by the reset_course_userdata function in moodlelib. This function will remove all assignment submissions and feedbacks in the database and clean up any related data. ', [['mod/assign','lib.php',59]], 2],
'get_file_areas': ['get_file_areas', 'Get file areas returns a list of areas this plugin stores files ', [['mod/assign/submission/file','locallib.php',496],['mod/assign','assignmentplugin.php',549],['mod/assign/submission/onlinetext','locallib.php',591],['mod/assign/feedback/file','locallib.php',343],['mod/assign/feedback/editpdf','locallib.php',362]], 9],
'isguestuser': ['isguestuser', 'Determines if a user is logged in as real guest user with username \'guest\'. ', [['lib','accesslib.php',1923]], 260],
'is_gradebook_feedback_enabled': ['is_gradebook_feedback_enabled', 'Returns true if gradebook feedback plugin is enabled ', [['mod/assign','locallib.php',7967]], 5],
'assign_page_type_list': ['assign_page_type_list', 'Return a list of page types ', [['mod/assign','lib.php',325]], 0],
'assign_get_coursemodule_info': ['assign_get_coursemodule_info', 'Add a get_coursemodule_info function in case any assignment type wants to add \'extra\' information for the course (see resource). ', [['mod/assign','lib.php',294]], 1],
'get_file_storage': ['get_file_storage', 'Returns local file storage instance ', [['lib','moodlelib.php',6144]], 546],
'get_user_grades_for_gradebook': ['get_user_grades_for_gradebook', 'Get an upto date list of user grades and feedback for the gradebook. ', [['mod/assign','locallib.php',7730]], 9],
'grade_get_grades': ['grade_get_grades', 'Returns grading information for given activity, optionally with user grades Manual, course or category items can not be queried. ', [['lib','gradelib.php',408]], 53],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'assign_user_complete': ['assign_user_complete', 'Prints the complete info about a user\'s interaction with an assignment. ', [['mod/assign','lib.php',1297]], 1],
'get_user_submission': ['get_user_submission', 'Load the submission object for a particular user, optionally creating it if required. ', [['mod/assign','locallib.php',3001]], 87],
'get_in_or_equal': ['get_in_or_equal', 'Constructs \'IN()\' or \'=\' sql fragment ', [['lib/dml','oci_native_moodle_database.php',1635],['lib/dml','moodle_database.php',711]], 438],
'get_field': ['get_field', 'Gets an instance of the form field. ', [['lib/behat','behat_field_manager.php',248],['mod/quiz/report/statistics/classes','calculated.php',109],['lib/dml','moodle_database.php',1546],['user/filters','lib.php',124]], 536],
'get_feedback_plugins': ['get_feedback_plugins', 'Get list of feedback plugins installed. ', [['mod/assign','locallib.php',292]], 21],
'is_visible': ['is_visible', 'Check if the field data is visible to the current user ', [['user/profile','lib.php',322],['repository/coursefiles','lib.php',167],['repository','lib.php',1779],['mod/assign','assignmentplugin.php',287],['backup/cc/cc_lib','cc_converters.php',113]], 63],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'assign_update_grades': ['assign_update_grades', 'Update activity grades. ', [['mod/assign','lib.php',1144]], 2],
'user_picture': ['user_picture', '', [['mod/quiz','attemptlib.php',2467],['lib','outputrenderers.php',2454],['lib','outputrenderers.php',5000]], 138],
'require_login': ['require_login', 'This function checks that the current user is logged in and has the required privileges ', [['lib','moodlelib.php',2449]], 636],
'assign_supports': ['assign_supports', 'Return the list if Moodle features this module supports ', [['mod/assign','lib.php',196]], 0],
'get_submission_plugins': ['get_submission_plugins', 'Get list of submission plugins installed. ', [['mod/assign','locallib.php',301]], 27],
'pix_url': ['pix_url', 'Return the moodle_url for an image. ', [['lib','outputrenderers.php',237],['lib','outputlib.php',1394]], 367],
'get_coursemodule_from_instance': ['get_coursemodule_from_instance', 'Given an instance number of a module, finds the coursemodule description ', [['lib','datalib.php',1300]], 441],
'get_uniqueid_for_user': ['get_uniqueid_for_user', 'Call the static version of this function ', [['mod/assign','locallib.php',7805]], 26],
'assign_get_completion_state': ['assign_get_completion_state', 'Obtains the automatic completion state for this module based on any conditions in assign settings. ', [['mod/assign','lib.php',1396]], 2],
'view': ['view', 'No full submission view - the summary contains the list of files and that is the whole submission ', [['mod/assign/submission/file','locallib.php',333],['lib/yuilib/3.17.2/view','view.js',42],['mod/assign/feedback/comments','locallib.php',369],['lib/yuilib/3.17.2/view','view-debug.js',42],['mod/assign','assignmentplugin.php',265],['mod/assign','locallib.php',409],['mod/assign/submission/onlinetext','locallib.php',419],['mod/assign/feedback/file','locallib.php',308],['mod/assign/feedback/editpdf','locallib.php',287]], 23],
'is_directory': ['is_directory', 'Whether or not this is a directory ', [['lib/filebrowser','file_info_context_system.php',133],['mod/lesson/classes','file_info.php',94],['mod/imscp','locallib.php',328],['lib/filebrowser','file_info_context_coursecat.php',146],['mod/book','locallib.php',463],['lib/filebrowser','file_info_context_user.php',265],['lib/filebrowser','virtual_root_file.php',60],['mod/data','locallib.php',477],['lib/filebrowser','file_info_stored.php',267],['lib/filestorage','stored_file.php',310],['mod/workshop','fileinfolib.php',82],['mod/workshop','fileinfolib.php',241],['lib/filebrowser','file_info_context_module.php',249],['mod/glossary','locallib.php',525],['lib/filebrowser','file_info_context_course.php',372],['lib/filebrowser','file_info_context_course.php',657],['lib/filebrowser','file_info_context_course.php',803],['mod/forum','locallib.php',463]], 140],
'assign_reset_gradebook': ['assign_reset_gradebook', 'Removes all grades from gradebook ', [['mod/assign','lib.php',139]], 1],
'addelement': ['addelement', 'Adds a custom element to your HTML definition ', [['lib/htmlpurifier/HTMLPurifier','HTMLDefinition.php',124],['lib/htmlpurifier/HTMLPurifier','HTMLModule.php',130],['lib/pear/HTML','QuickForm.php',592]], 3302],
'clean_param': ['clean_param', 'Used by {@link optional_param()} and {@link required_param()} to clean the variables and/or cast to specific types, based on an options field. <code> $course->format = clean_param($course->format, PARAM_ALPHA); $selectedgradeitem = clean_param($selectedgradeitem, PARAM_INT); </code> ', [['lib','moodlelib.php',769]], 635],
'assign_update_instance': ['assign_update_instance', 'Update an assignment instance ', [['mod/assign','lib.php',180]], 0],
'get_all_instances_in_courses': ['get_all_instances_in_courses', 'Returns an array of all the active instances of a particular module in given courses, sorted in the order they are defined ', [['lib','datalib.php',1382]], 23],
'format_string': ['format_string', 'Given a simple string, this function returns the string processed by enabled string filters if $CFG->filterall is enabled ', [['lib','weblib.php',1379]], 880],
'view_student_summary': ['view_student_summary', 'Print 2 tables of information with no action links - the submission summary and the grading summary. ', [['mod/assign','locallib.php',4563]], 43],
'assign_scale_used_anywhere': ['assign_scale_used_anywhere', 'Checks if scale is being used by any instance of assignment ', [['mod/assign','lib.php',973]], 0],
'update_calendar': ['update_calendar', 'Update the calendar entries for this assignment. ', [['mod/assign','locallib.php',924]], 5],
'assign_get_user_grades': ['assign_get_user_grades', 'Return grade for given user or all users. ', [['mod/assign','lib.php',1125]], 1],
'assign_get_view_actions': ['assign_get_view_actions', 'List the actions that correspond to a view of this module. This is used by the participation report. ', [['mod/assign','lib.php',990]], 0],
'send_stored_file': ['send_stored_file', 'Handles the sending of file data to the user\'s browser, including support for byteranges etc. ', [['lib','filelib.php',2192]], 75],
'get_group_submission': ['get_group_submission', 'Load the group submission object for a particular user, optionally creating it if required. ', [['mod/assign','locallib.php',2326]], 36],
'assign_extend_settings_navigation': ['assign_extend_settings_navigation', 'extend an assigment navigation settings ', [['mod/assign','lib.php',242]], 0],
'add_instance': ['add_instance', 'Add new instance of enrol plugin. ', [['enrol/manual','lib.php',147],['lib','enrollib.php',1745],['enrol/self','lib.php',958],['enrol/cohort','lib.php',99],['mod/assign','locallib.php',600],['tag/classes','tag.php',543],['enrol/lti','lib.php',88],['enrol/paypal','lib.php',124],['enrol/guest','lib.php',247],['enrol/meta','lib.php',131]], 91],
'format_module_intro': ['format_module_intro', 'Formats activity intro text ', [['lib','weblib.php',1542]], 65],
'get_file_info': ['get_file_info', 'Return information about this specific part of context level ', [['lib/filebrowser','file_info_context_system.php',47],['lib/filebrowser','file_info_context_coursecat.php',51],['lib/filebrowser','file_info_context_user.php',51],['lib','boxlib.php',85],['lib/filebrowser','file_browser.php',63],['lib/filebrowser','file_info_context_module.php',81],['mod/assign','assignmentplugin.php',558],['lib/filebrowser','file_info_context_course.php',51]], 79],
'mod_assign_output_fragment_gradingpanel': ['mod_assign_output_fragment_gradingpanel', 'Serve the grading panel as a fragment. ', [['mod/assign','lib.php',1482]], 0],
'assign_get_file_info': ['assign_get_file_info', 'File browsing support for assign module. ', [['mod/assign','lib.php',1208]], 0],
'assign_print_recent_activity': ['assign_print_recent_activity', 'Print recent activity from all assignments in a given course ', [['mod/assign','lib.php',635]], 3],
'fields': ['fields', '', [['lib/adodb/drivers','adodb-odbtp.inc.php',720],['lib/adodb/drivers','adodb-sqlite3.inc.php',403],['mod/quiz/classes','admin_review_setting.php',65],['lib/adodb/drivers','adodb-ibase.inc.php',865],['lib/adodb/drivers','adodb-postgres64.inc.php',968],['lib/adodb/drivers','adodb-odbc.inc.php',644],['lib/adodb/drivers','adodb-sqlite.inc.php',420],['lib/adodb/drivers','adodb-pdo.inc.php',742],['lib','outputcomponents.php',235],['lib/adodb/drivers','adodb-oci8po.inc.php',104],['lib/adodb/drivers','adodb-mssql.inc.php',906],['lib/adodb/drivers','adodb-mysql.inc.php',774],['lib/adodb/drivers','adodb-mssqlnative.inc.php',895],['lib/adodb/drivers','adodb-oracle.inc.php',267],['lib/adodb','adodb.inc.php',3781],['lib/adodb','adodb.inc.php',4459],['lib/adodb/drivers','adodb-ado5.inc.php',412],['lib/adodb/drivers','adodb-db2.inc.php',756],['lib/adodb/drivers','adodb-oci8.inc.php',1701],['lib/adodb/drivers','adodb-mysqli.inc.php',973],['lib/adodb/drivers','adodb-ado.inc.php',375],['lib/adodb/drivers','adodb-ads.inc.php',690]], 156],
'close': ['close', 'Close archive, write changes to disk. ', [['lib/filestorage','zip_archive.php',183],['lib/dml','mssql_native_moodle_recordset.php',87],['auth/fc','fcFPP.php',78],['lib/dml','mysqli_native_moodle_recordset.php',86],['lib/spout/src/Spout/Reader','ReaderInterface.php',30],['lib/spout/src/Spout/Writer/ODS/Internal','Workbook.php',81],['lib/dml','pdo_moodle_recordset.php',79],['lib','csvlib.class.php',256],['lib/horde/framework/Horde/Socket','Client.php',135],['backup/util/helper','backup_null_iterator.class.php',53],['admin/tool/uploaduser','locallib.php',149],['lib/tcpdf','tcpdf.php',2943],['lib/phpunit/classes','phpmailer_sink.php',41],['lib/phpmailer','class.smtp.php',582],['lib/dml','sqlsrv_native_moodle_recordset.php',133],['lib/classes/dml','recordset_walk.php',153],['lib/spout/src/Spout/Writer/XLSX/Helper','SharedStringsHelper.php',84],['grade/export','lib.php',689],['lib','excellib.class.php',93],['backup/util/loggers','file_logger.class.php',69],['grade','lib.php',324],['backup/util/helper','backup_array_iterator.class.php',63],['lib/horde/framework/Horde/Imap/Client','Base.php',1846],['mod/assign/feedback/offline','importgradeslib.php',204],['lib/dml','oci_native_moodle_recordset.php',80],['lib/adodb','adodb.inc.php',2361],['lib/adodb','adodb.inc.php',3090],['lib/adodb','adodb.inc.php',3870],['lib/google/src/Google/Logger','File.php',132],['lib/phpunit/classes','event_sink.php',39],['lib/horde/framework/Horde','Stream.php',585],['backup/util/loggers','base_logger.class.php',89],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',71],['question/engine/tests','helpers.php',1241],['lib/spout/src/Spout/Writer','AbstractWriter.php',312],['lib','odslib.class.php',71],['lib/spout/src/Spout/Writer/Common/Internal','WorksheetInterface.php',34],['lib/spout/src/Spout/Writer/ODS/Internal','Worksheet.php',214],['lib/spout/src/Spout/Writer','WriterInterface.php',84],['lib/spout/src/Spout/Writer/XLSX/Internal','Worksheet.php',174],['lib/spout/src/Spout/Reader','AbstractReader.php',183],['lib/phpunit/classes','message_sink.php',39],['lib/spout/src/Spout/Writer/Common/Internal','WorkbookInterface.php',65],['lib/spout/src/Spout/Writer/XLSX/Internal','Workbook.php',95],['lib/pear/Net','GeoIP.php',556],['lib/tests','completionlib_test.php',907],['lib/pear/Auth','RADIUS.php',550],['lib/pear/Auth','RADIUS.php',710],['lib/pear/Auth','RADIUS.php',829],['lib','webdavlib.php',176],['lib/dml','pgsql_native_moodle_recordset.php',107]], 1128],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'assign_get_recent_mod_activity': ['assign_get_recent_mod_activity', 'Returns all assignments since a given time. ', [['mod/assign','lib.php',751]], 1],
'assign_reset_course_form_defaults': ['assign_reset_course_form_defaults', 'Course reset form defaults. ', [['mod/assign','lib.php',171]], 0],
'heading': ['heading', 'Outputs a heading ', [['lib','outputrenderers.php',3072],['lib','outputrenderers.php',4364],['lib','outputrenderers.php',4552],['grade/report/singleview/classes/local/screen','screen.php',197],['grade/report/singleview/classes/local/screen','user.php',264],['grade/report/singleview/classes/local/screen','grade.php',283]], 796],
'get_records_sql': ['get_records_sql', 'Get a number of records as an array of objects. ', [['lib/dml','pdo_moodle_database.php',309],['lib/dml','oci_native_moodle_database.php',1145],['lib/dml','pgsql_native_moodle_database.php',732],['lib/dml','mssql_native_moodle_database.php',805],['lib/dml','mysqli_native_moodle_database.php',1057],['lib/dml','sqlsrv_native_moodle_database.php',890],['lib/dml/tests','dml_test.php',5545]], 700],
'get_instance': ['get_instance', 'Get the DB record for the current instance. ', [['course','moodleform_mod.php',116],['question/engine','bank.php',464],['backup/util/output','output_controller.class.php',53],['repository','lib.php',1137],['backup/util/helper','restore_logs_processor.class.php',69],['grade/grading/form','lib.php',474],['mnet/service/enrol','locallib.php',57],['mod/assign','locallib.php',1224],['lib','externallib.php',1000],['blog','locallib.php',857]], 420],
'assign_print_overview': ['assign_print_overview', 'Print an overview of all assignments for the courses. ', [['mod/assign','lib.php',339]], 7],
'show_intro': ['show_intro', 'Based on the current assignment settings should we display the intro. ', [['mod/assign','locallib.php',238]], 14],
'get_cms': ['get_cms', '', [['lib','modinfolib.php',218]], 32],
'get_plugin_list': ['get_plugin_list', 'Use when listing real plugins of one type. ', [['lib','deprecatedlib.php',150],['lib/classes','component.php',796],['admin/tool/monitor/classes','eventlist.php',176]], 191],
'assign_get_grade_details_for_print_overview': ['assign_get_grade_details_for_print_overview', 'This api generates html to be displayed to teachers in print overview section, related to the grading status of the given assignment\'s submissions. ', [['mod/assign','lib.php',565]], 1],
'get_file_by_hash': ['get_file_by_hash', 'Fetch file using local file full pathname hash ', [['lib/filestorage','file_storage.php',679]], 73],
'assign_scale_used': ['assign_scale_used', 'Checks if a scale is being used by an assignment. ', [['mod/assign','lib.php',952]], 0],
'groups_get_activity_groupmode': ['groups_get_activity_groupmode', 'Returns effective groupmode used in activity, course setting overrides activity setting if groupmodeforce enabled. ', [['lib','grouplib.php',468]], 136],
'get_config': ['get_config', 'Config get method. ', [['lib/classes/antivirus','scanner.php',54],['competency/classes','competency_rule.php',59],['question/engine','bank.php',109],['admin/tool/log/classes/helper','store.php',63],['lib','moodlelib.php',1409],['lib','enrollib.php',1142],['lib/editor/tinymce/classes','plugin.php',73],['competency/classes','competency_rule_points.php',43],['search/classes','base.php',169],['mod/assign','assignmentplugin.php',345],['lib/portfolio','plugin.php',546]], 934],
'userdate': ['userdate', 'Returns a formatted string that represents a date in user time. ', [['lib','moodlelib.php',2155],['lib/adodb','adodb.inc.php',2842],['lib/adodb','adodb.inc.php',3569]], 525],
'groups_get_all_groups': ['groups_get_all_groups', 'Gets array of all groups in a specified course. ', [['lib','grouplib.php',189]], 108],
'get_cm': ['get_cm', 'Returns the current course module ', [['mod/feedback/classes','complete_form.php',245],['search/classes','base_mod.php',51],['mod/feedback/classes','structure.php',72],['mod/quiz','attemptlib.php',215],['mod/quiz','attemptlib.php',742],['lib','modinfolib.php',222],['comment','lib.php',1010]], 137],
'array_key_exists': ['array_key_exists', '', [], 1445],
'sha1': ['sha1', '', [], 186],
'parse_str': ['parse_str', '', [], 11],
'array_keys': ['array_keys', '', [], 1256],
'array_merge': ['array_merge', '', [], 2944],
'defined': ['defined', '', [], 4731],
'explode': ['explode', '', [], 1572],
'in_array': ['in_array', '', [], 1234],
'array_shift': ['array_shift', '', [], 700],
'array_intersect': ['array_intersect', '', [], 50],
'is_null': ['is_null', '', [], 2003],
'is_numeric': ['is_numeric', '', [], 672],
'count': ['count', '', [], 4095],
'time': ['time', '', [], 1959],
'implode': ['implode', '', [], 1281],
'is_array': ['is_array', '', [], 1608]};
CLASS_DATA={
'core_component': ['core_component', 'Collection of components related methods. ', [['lib/classes','component.php',41]], 511],
'navigation_node': ['navigation_node', 'This class is used to represent a node in a navigation tree ', [['lib','navigationlib.php',34]], 348],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',238]], 3088],
'file_info_stored': ['file_info_stored', 'Represents an actual file or folder - a row in the file table in the tree navigated by {@link file_browser}. ', [['lib/filebrowser','file_info_stored.php',28]], 33],
'cached_cm_info': ['cached_cm_info', 'Class that is the return value for the _get_coursemodule_info module API function. ', [['lib','modinfolib.php',2265]], 7],
'user_picture': ['user_picture', 'Data structure representing a user picture. ', [['lib','outputcomponents.php',142]], 165],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',7039]], 1106],
'assign': ['assign', 'Standard base class for mod_assign (assignment types). ', [['mod/assign','locallib.php',82]], 76]};
CONST_DATA={
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'GRADE_TYPE_NONE': ['GRADE_TYPE_NONE', '', [['lib/grade','constants.php',80]], 47],
'ASSIGN_SUBMISSION_STATUS_SUBMITTED': ['ASSIGN_SUBMISSION_STATUS_SUBMITTED', '', [['mod/assign','locallib.php',33]], 70],
'FEATURE_GRADE_OUTCOMES': ['FEATURE_GRADE_OUTCOMES', '', [['lib','moodlelib.php',396]], 23],
'FEATURE_COMPLETION_TRACKS_VIEWS': ['FEATURE_COMPLETION_TRACKS_VIEWS', '', [['lib','moodlelib.php',405]], 23],
'FEATURE_GRADE_HAS_GRADE': ['FEATURE_GRADE_HAS_GRADE', '', [['lib','moodlelib.php',394]], 29],
'ASSIGN_SUBMISSION_STATUS_DRAFT': ['ASSIGN_SUBMISSION_STATUS_DRAFT', '', [['mod/assign','locallib.php',32]], 17],
'FEATURE_BACKUP_MOODLE2': ['FEATURE_BACKUP_MOODLE2', '', [['lib','moodlelib.php',434]], 35],
'CONTEXT_MODULE': ['CONTEXT_MODULE', '', [['lib','accesslib.php',150]], 466],
'FEATURE_SHOW_DESCRIPTION': ['FEATURE_SHOW_DESCRIPTION', '', [['lib','moodlelib.php',437]], 22],
'GRADE_TYPE_SCALE': ['GRADE_TYPE_SCALE', '', [['lib/grade','constants.php',90]], 70],
'FEATURE_MOD_INTRO': ['FEATURE_MOD_INTRO', '', [['lib','moodlelib.php',426]], 31],
'FEATURE_ADVANCED_GRADING': ['FEATURE_ADVANCED_GRADING', '', [['lib','moodlelib.php',398]], 9],
'FEATURE_PLAGIARISM': ['FEATURE_PLAGIARISM', '', [['lib','moodlelib.php',402]], 4],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 3812],
'ASSIGN_MARKING_WORKFLOW_STATE_NOTMARKED': ['ASSIGN_MARKING_WORKFLOW_STATE_NOTMARKED', '', [['mod/assign','locallib.php',57]], 10],
'FEATURE_COMPLETION_HAS_RULES': ['FEATURE_COMPLETION_HAS_RULES', '', [['lib','moodlelib.php',407]], 12],
'FEATURE_GROUPINGS': ['FEATURE_GROUPINGS', '', [['lib','moodlelib.php',416]], 23],
'GRADE_TYPE_VALUE': ['GRADE_TYPE_VALUE', '', [['lib/grade','constants.php',85]], 80],
'ASSIGN_INTROATTACHMENT_FILEAREA': ['ASSIGN_INTROATTACHMENT_FILEAREA', '', [['mod/assign','locallib.php',65]], 12],
'FEATURE_GROUPS': ['FEATURE_GROUPS', '', [['lib','moodlelib.php',414]], 25],
'ASSIGN_SUBMISSION_STATUS_NEW': ['ASSIGN_SUBMISSION_STATUS_NEW', '', [['mod/assign','locallib.php',30]], 20],
'ASSIGN_GRADING_STATUS_NOT_GRADED': ['ASSIGN_GRADING_STATUS_NOT_GRADED', '', [['mod/assign','locallib.php',54]], 5],
'ASSIGN_GRADING_STATUS_GRADED': ['ASSIGN_GRADING_STATUS_GRADED', '', [['mod/assign','locallib.php',53]], 7],
'GRADE_TYPE_TEXT': ['GRADE_TYPE_TEXT', '', [['lib/grade','constants.php',95]], 28],
'SEPARATEGROUPS': ['SEPARATEGROUPS', '', [['lib','grouplib.php',34]], 190],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1384]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
