<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/assign/feedback/comments/locallib.php source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='mod/assign/feedback/comments';
filename='locallib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/assign/feedback/comments/</a> -> <a href="locallib.php.html">locallib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="locallib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="locallib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * This file contains the definition for the library class for comment feedback plugin</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package   assignfeedback_comments</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright 2012 NetSpot {@link http://www.netspot.com.au}</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> */</span>
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment">/**</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> * Library class for comment feedback plugin extending feedback plugin base class.</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> *</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> * @package   assignfeedback_comments</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * @copyright 2012 NetSpot {@link http://www.netspot.com.au}</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> */</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('assign_feedback_comments')" href="../../../../_classes/assign_feedback_comments.html" onMouseOver="classPopup(event,'assign_feedback_comments')">assign_feedback_comments</a> extends assign_feedback_plugin {
<a name="l35"><span class="linenum">  35</span></a>  
<a name="l36"><span class="linenum">  36</span></a>      <span class="comment">/**</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">     * Get the name of the online comment feedback plugin.</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     * @return string</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     */</span>
<a name="l40"><span class="linenum">  40</span></a>      public function <a class="function" onClick="logFunction('get_name')" href="../../../../_functions/get_name.html" onMouseOver="funcPopup(event,'get_name')">get_name</a>() {
<a name="l41"><span class="linenum">  41</span></a>          return <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('pluginname', 'assignfeedback_comments');
<a name="l42"><span class="linenum">  42</span></a>      }
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>      <span class="comment">/**</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     * Get the feedback comment from the database.</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     *</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     * @param int $gradeid</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     * @return stdClass|false The feedback comments for the given grade if it exists.</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">     *                        False if it doesn't.</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">     */</span>
<a name="l51"><span class="linenum">  51</span></a>      public function <a class="function" onClick="logFunction('get_feedback_comments')" href="../../../../_functions/get_feedback_comments.html" onMouseOver="funcPopup(event,'get_feedback_comments')">get_feedback_comments</a>(<a class="var it300" onMouseOver="hilite(300)" onMouseOut="lolite()" onClick="logVariable('gradeid')" href="../../../../_variables/gradeid.html">$gradeid</a>) {
<a name="l52"><span class="linenum">  52</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l53"><span class="linenum">  53</span></a>          return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('assignfeedback_comments', array('grade'=&gt;<a class="var it300" onMouseOver="hilite(300)" onMouseOut="lolite()" onClick="logVariable('gradeid')" href="../../../../_variables/gradeid.html">$gradeid</a>));
<a name="l54"><span class="linenum">  54</span></a>      }
<a name="l55"><span class="linenum">  55</span></a>  
<a name="l56"><span class="linenum">  56</span></a>      <span class="comment">/**</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">     * Get quickgrading form elements as html.</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">     *</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">     * @param int $userid The user id in the table this quickgrading element relates to</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">     * @param mixed $grade - The grade data - may be null if there are no grades for this user (yet)</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">     * @return mixed - A html string containing the html form elements required for quickgrading</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">     */</span>
<a name="l63"><span class="linenum">  63</span></a>      public function <a class="function" onClick="logFunction('get_quickgrading_html')" href="../../../../_functions/get_quickgrading_html.html" onMouseOver="funcPopup(event,'get_quickgrading_html')">get_quickgrading_html</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>, <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>) {
<a name="l64"><span class="linenum">  64</span></a>          <a class="var it16055" onMouseOver="hilite(16055)" onMouseOut="lolite()" onClick="logVariable('commenttext')" href="../../../../_variables/commenttext.html">$commenttext</a> = '';
<a name="l65"><span class="linenum">  65</span></a>          if (<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>) {
<a name="l66"><span class="linenum">  66</span></a>              <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_feedback_comments')" href="../../../../_functions/get_feedback_comments.html" onMouseOver="funcPopup(event,'get_feedback_comments')">get_feedback_comments</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('id')" class="var it42963" onMouseOver="hilite(42963)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>);
<a name="l67"><span class="linenum">  67</span></a>              if (<a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>) {
<a name="l68"><span class="linenum">  68</span></a>                  <a class="var it16055" onMouseOver="hilite(16055)" onMouseOut="lolite()" onClick="logVariable('commenttext')" href="../../../../_variables/commenttext.html">$commenttext</a> = <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>-&gt;<a onClick="logVariable('commenttext')" class="var it45254" onMouseOver="hilite(45254)" onMouseOut="lolite()" href="../../../../_variables/commenttext.html">commenttext</a>;
<a name="l69"><span class="linenum">  69</span></a>              }
<a name="l70"><span class="linenum">  70</span></a>          }
<a name="l71"><span class="linenum">  71</span></a>  
<a name="l72"><span class="linenum">  72</span></a>          <a class="var it2767" onMouseOver="hilite(2767)" onMouseOut="lolite()" onClick="logVariable('pluginname')" href="../../../../_variables/pluginname.html">$pluginname</a> = <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('pluginname', 'assignfeedback_comments');
<a name="l73"><span class="linenum">  73</span></a>          <a class="var it26793" onMouseOver="hilite(26793)" onMouseOut="lolite()" onClick="logVariable('labeloptions')" href="../../../../_variables/labeloptions.html">$labeloptions</a> = array('for'=&gt;'quickgrade_comments_' . <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>,
<a name="l74"><span class="linenum">  74</span></a>                                'class'=&gt;'accesshide');
<a name="l75"><span class="linenum">  75</span></a>          <a class="var it26794" onMouseOver="hilite(26794)" onMouseOut="lolite()" onClick="logVariable('textareaoptions')" href="../../../../_variables/textareaoptions.html">$textareaoptions</a> = array('name'=&gt;'quickgrade_comments_' . <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>,
<a name="l76"><span class="linenum">  76</span></a>                                   'id'=&gt;'quickgrade_comments_' . <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>,
<a name="l77"><span class="linenum">  77</span></a>                                   'class'=&gt;'quickgrade');
<a name="l78"><span class="linenum">  78</span></a>          return <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('label', <a class="var it2767" onMouseOver="hilite(2767)" onMouseOut="lolite()" onClick="logVariable('pluginname')" href="../../../../_variables/pluginname.html">$pluginname</a>, <a class="var it26793" onMouseOver="hilite(26793)" onMouseOut="lolite()" onClick="logVariable('labeloptions')" href="../../../../_variables/labeloptions.html">$labeloptions</a>) .
<a name="l79"><span class="linenum">  79</span></a>                 <a class="class" onClick="logClass('html_writer')" href="../../../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('textarea', <a class="var it16055" onMouseOver="hilite(16055)" onMouseOut="lolite()" onClick="logVariable('commenttext')" href="../../../../_variables/commenttext.html">$commenttext</a>, <a class="var it26794" onMouseOver="hilite(26794)" onMouseOut="lolite()" onClick="logVariable('textareaoptions')" href="../../../../_variables/textareaoptions.html">$textareaoptions</a>);
<a name="l80"><span class="linenum">  80</span></a>      }
<a name="l81"><span class="linenum">  81</span></a>  
<a name="l82"><span class="linenum">  82</span></a>      <span class="comment">/**</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">     * Has the plugin quickgrading form element been modified in the current form submission?</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">     *</span>
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">     * @param int $userid The user id in the table this quickgrading element relates to</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment">     * @param stdClass $grade The grade</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">     * @return boolean - true if the quickgrading form element has been modified</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">     */</span>
<a name="l89"><span class="linenum">  89</span></a>      public function <a class="function" onClick="logFunction('is_quickgrading_modified')" href="../../../../_functions/is_quickgrading_modified.html" onMouseOver="funcPopup(event,'is_quickgrading_modified')">is_quickgrading_modified</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>, <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>) {
<a name="l90"><span class="linenum">  90</span></a>          <a class="var it16055" onMouseOver="hilite(16055)" onMouseOut="lolite()" onClick="logVariable('commenttext')" href="../../../../_variables/commenttext.html">$commenttext</a> = '';
<a name="l91"><span class="linenum">  91</span></a>          if (<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>) {
<a name="l92"><span class="linenum">  92</span></a>              <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_feedback_comments')" href="../../../../_functions/get_feedback_comments.html" onMouseOver="funcPopup(event,'get_feedback_comments')">get_feedback_comments</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('id')" class="var it42963" onMouseOver="hilite(42963)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>);
<a name="l93"><span class="linenum">  93</span></a>              if (<a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>) {
<a name="l94"><span class="linenum">  94</span></a>                  <a class="var it16055" onMouseOver="hilite(16055)" onMouseOut="lolite()" onClick="logVariable('commenttext')" href="../../../../_variables/commenttext.html">$commenttext</a> = <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>-&gt;<a onClick="logVariable('commenttext')" class="var it45254" onMouseOver="hilite(45254)" onMouseOut="lolite()" href="../../../../_variables/commenttext.html">commenttext</a>;
<a name="l95"><span class="linenum">  95</span></a>              }
<a name="l96"><span class="linenum">  96</span></a>          }
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">        // Note that this handles the difference between empty and not in the quickgrading</span>
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">        // form at all (hidden column).</span>
<a name="l99"><span class="linenum">  99</span></a>          <a class="var it3475" onMouseOver="hilite(3475)" onMouseOut="lolite()" onClick="logVariable('newvalue')" href="../../../../_variables/newvalue.html">$newvalue</a> = <a class="function" onClick="logFunction('optional_param')" href="../../../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('quickgrade_comments_' . <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>, false, <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>);
<a name="l100"><span class="linenum"> 100</span></a>          return (<a class="var it3475" onMouseOver="hilite(3475)" onMouseOut="lolite()" onClick="logVariable('newvalue')" href="../../../../_variables/newvalue.html">$newvalue</a> !== false) &amp;&amp; (<a class="var it3475" onMouseOver="hilite(3475)" onMouseOut="lolite()" onClick="logVariable('newvalue')" href="../../../../_variables/newvalue.html">$newvalue</a> != <a class="var it16055" onMouseOver="hilite(16055)" onMouseOut="lolite()" onClick="logVariable('commenttext')" href="../../../../_variables/commenttext.html">$commenttext</a>);
<a name="l101"><span class="linenum"> 101</span></a>      }
<a name="l102"><span class="linenum"> 102</span></a>  
<a name="l103"><span class="linenum"> 103</span></a>      <span class="comment">/**</span>
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">     * Has the comment feedback been modified?</span>
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment">     *</span>
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">     * @param stdClass $grade The grade object.</span>
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment">     * @param stdClass $data Data from the form submission.</span>
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment">     * @return boolean True if the comment feedback has been modified, else false.</span>
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment">     */</span>
<a name="l110"><span class="linenum"> 110</span></a>      public function <a class="function" onClick="logFunction('is_feedback_modified')" href="../../../../_functions/is_feedback_modified.html" onMouseOver="funcPopup(event,'is_feedback_modified')">is_feedback_modified</a>(stdClass <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>, stdClass <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>) {
<a name="l111"><span class="linenum"> 111</span></a>          <a class="var it16055" onMouseOver="hilite(16055)" onMouseOut="lolite()" onClick="logVariable('commenttext')" href="../../../../_variables/commenttext.html">$commenttext</a> = '';
<a name="l112"><span class="linenum"> 112</span></a>          if (<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>) {
<a name="l113"><span class="linenum"> 113</span></a>              <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_feedback_comments')" href="../../../../_functions/get_feedback_comments.html" onMouseOver="funcPopup(event,'get_feedback_comments')">get_feedback_comments</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('id')" class="var it42963" onMouseOver="hilite(42963)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>);
<a name="l114"><span class="linenum"> 114</span></a>              if (<a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>) {
<a name="l115"><span class="linenum"> 115</span></a>                  <a class="var it16055" onMouseOver="hilite(16055)" onMouseOut="lolite()" onClick="logVariable('commenttext')" href="../../../../_variables/commenttext.html">$commenttext</a> = <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>-&gt;<a onClick="logVariable('commenttext')" class="var it45254" onMouseOver="hilite(45254)" onMouseOut="lolite()" href="../../../../_variables/commenttext.html">commenttext</a>;
<a name="l116"><span class="linenum"> 116</span></a>              }
<a name="l117"><span class="linenum"> 117</span></a>          }
<a name="l118"><span class="linenum"> 118</span></a>  
<a name="l119"><span class="linenum"> 119</span></a>          if (<a class="var it16055" onMouseOver="hilite(16055)" onMouseOut="lolite()" onClick="logVariable('commenttext')" href="../../../../_variables/commenttext.html">$commenttext</a> == <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('assignfeedbackcomments_editor')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../_variables/assignfeedbackcomments_editor.html">assignfeedbackcomments_editor</a>['text']) {
<a name="l120"><span class="linenum"> 120</span></a>              return false;
<a name="l121"><span class="linenum"> 121</span></a>          } else {
<a name="l122"><span class="linenum"> 122</span></a>              return true;
<a name="l123"><span class="linenum"> 123</span></a>          }
<a name="l124"><span class="linenum"> 124</span></a>      }
<a name="l125"><span class="linenum"> 125</span></a>  
<a name="l126"><span class="linenum"> 126</span></a>  
<a name="l127"><span class="linenum"> 127</span></a>      <span class="comment">/**</span>
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment">     * Override to indicate a plugin supports quickgrading.</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment">     *</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment">     * @return boolean - True if the plugin supports quickgrading</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     */</span>
<a name="l132"><span class="linenum"> 132</span></a>      public function <a class="function" onClick="logFunction('supports_quickgrading')" href="../../../../_functions/supports_quickgrading.html" onMouseOver="funcPopup(event,'supports_quickgrading')">supports_quickgrading</a>() {
<a name="l133"><span class="linenum"> 133</span></a>          return true;
<a name="l134"><span class="linenum"> 134</span></a>      }
<a name="l135"><span class="linenum"> 135</span></a>  
<a name="l136"><span class="linenum"> 136</span></a>      <span class="comment">/**</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">     * Return a list of the text fields that can be imported/exported by this plugin.</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">     *</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">     * @return array An array of field names and descriptions. (name=&gt;description, ...)</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">     */</span>
<a name="l141"><span class="linenum"> 141</span></a>      public function <a class="function" onClick="logFunction('get_editor_fields')" href="../../../../_functions/get_editor_fields.html" onMouseOver="funcPopup(event,'get_editor_fields')">get_editor_fields</a>() {
<a name="l142"><span class="linenum"> 142</span></a>          return array('comments' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('pluginname', 'assignfeedback_comments'));
<a name="l143"><span class="linenum"> 143</span></a>      }
<a name="l144"><span class="linenum"> 144</span></a>  
<a name="l145"><span class="linenum"> 145</span></a>      <span class="comment">/**</span>
<a name="l146"><span class="linenum"> 146</span></a>  <span class="comment">     * Get the saved text content from the editor.</span>
<a name="l147"><span class="linenum"> 147</span></a>  <span class="comment">     *</span>
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">     * @param string $name</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment">     * @param int $gradeid</span>
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">     * @return string</span>
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment">     */</span>
<a name="l152"><span class="linenum"> 152</span></a>      public function <a class="function" onClick="logFunction('get_editor_text')" href="../../../../_functions/get_editor_text.html" onMouseOver="funcPopup(event,'get_editor_text')">get_editor_text</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../../_variables/name.html">$name</a>, <a class="var it300" onMouseOver="hilite(300)" onMouseOut="lolite()" onClick="logVariable('gradeid')" href="../../../../_variables/gradeid.html">$gradeid</a>) {
<a name="l153"><span class="linenum"> 153</span></a>          if (<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../../_variables/name.html">$name</a> == 'comments') {
<a name="l154"><span class="linenum"> 154</span></a>              <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_feedback_comments')" href="../../../../_functions/get_feedback_comments.html" onMouseOver="funcPopup(event,'get_feedback_comments')">get_feedback_comments</a>(<a class="var it300" onMouseOver="hilite(300)" onMouseOut="lolite()" onClick="logVariable('gradeid')" href="../../../../_variables/gradeid.html">$gradeid</a>);
<a name="l155"><span class="linenum"> 155</span></a>              if (<a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>) {
<a name="l156"><span class="linenum"> 156</span></a>                  return <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>-&gt;<a onClick="logVariable('commenttext')" class="var it45254" onMouseOver="hilite(45254)" onMouseOut="lolite()" href="../../../../_variables/commenttext.html">commenttext</a>;
<a name="l157"><span class="linenum"> 157</span></a>              }
<a name="l158"><span class="linenum"> 158</span></a>          }
<a name="l159"><span class="linenum"> 159</span></a>  
<a name="l160"><span class="linenum"> 160</span></a>          return '';
<a name="l161"><span class="linenum"> 161</span></a>      }
<a name="l162"><span class="linenum"> 162</span></a>  
<a name="l163"><span class="linenum"> 163</span></a>      <span class="comment">/**</span>
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment">     * Get the saved text content from the editor.</span>
<a name="l165"><span class="linenum"> 165</span></a>  <span class="comment">     *</span>
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment">     * @param string $name</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment">     * @param string $value</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">     * @param int $gradeid</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">     * @return string</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">     */</span>
<a name="l171"><span class="linenum"> 171</span></a>      public function <a class="function" onClick="logFunction('set_editor_text')" href="../../../../_functions/set_editor_text.html" onMouseOver="funcPopup(event,'set_editor_text')">set_editor_text</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../../_variables/name.html">$name</a>, <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>, <a class="var it300" onMouseOver="hilite(300)" onMouseOut="lolite()" onClick="logVariable('gradeid')" href="../../../../_variables/gradeid.html">$gradeid</a>) {
<a name="l172"><span class="linenum"> 172</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l173"><span class="linenum"> 173</span></a>  
<a name="l174"><span class="linenum"> 174</span></a>          if (<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../../_variables/name.html">$name</a> == 'comments') {
<a name="l175"><span class="linenum"> 175</span></a>              <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_feedback_comments')" href="../../../../_functions/get_feedback_comments.html" onMouseOver="funcPopup(event,'get_feedback_comments')">get_feedback_comments</a>(<a class="var it300" onMouseOver="hilite(300)" onMouseOut="lolite()" onClick="logVariable('gradeid')" href="../../../../_variables/gradeid.html">$gradeid</a>);
<a name="l176"><span class="linenum"> 176</span></a>              if (<a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>) {
<a name="l177"><span class="linenum"> 177</span></a>                  <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>-&gt;<a onClick="logVariable('commenttext')" class="var it45255" onMouseOver="hilite(45255)" onMouseOut="lolite()" href="../../../../_variables/commenttext.html">commenttext</a> = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>;
<a name="l178"><span class="linenum"> 178</span></a>                  return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('assignfeedback_comments', <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>);
<a name="l179"><span class="linenum"> 179</span></a>              } else {
<a name="l180"><span class="linenum"> 180</span></a>                  <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a> = new stdClass();
<a name="l181"><span class="linenum"> 181</span></a>                  <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>-&gt;<a onClick="logVariable('commenttext')" class="var it45255" onMouseOver="hilite(45255)" onMouseOut="lolite()" href="../../../../_variables/commenttext.html">commenttext</a> = <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>;
<a name="l182"><span class="linenum"> 182</span></a>                  <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>-&gt;<a onClick="logVariable('commentformat')" class="var it45255" onMouseOver="hilite(45255)" onMouseOut="lolite()" href="../../../../_variables/commentformat.html">commentformat</a> = <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>;
<a name="l183"><span class="linenum"> 183</span></a>                  <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>-&gt;<a onClick="logVariable('grade')" class="var it45255" onMouseOver="hilite(45255)" onMouseOut="lolite()" href="../../../../_variables/grade.html">grade</a> = <a class="var it300" onMouseOver="hilite(300)" onMouseOut="lolite()" onClick="logVariable('gradeid')" href="../../../../_variables/gradeid.html">$gradeid</a>;
<a name="l184"><span class="linenum"> 184</span></a>                  <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>-&gt;<a onClick="logVariable('assignment')" class="var it45255" onMouseOver="hilite(45255)" onMouseOut="lolite()" href="../../../../_variables/assignment.html">assignment</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignment')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/assignment.html">assignment</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>()-&gt;id;
<a name="l185"><span class="linenum"> 185</span></a>                  return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('assignfeedback_comments', <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>) &gt; 0;
<a name="l186"><span class="linenum"> 186</span></a>              }
<a name="l187"><span class="linenum"> 187</span></a>          }
<a name="l188"><span class="linenum"> 188</span></a>  
<a name="l189"><span class="linenum"> 189</span></a>          return false;
<a name="l190"><span class="linenum"> 190</span></a>      }
<a name="l191"><span class="linenum"> 191</span></a>  
<a name="l192"><span class="linenum"> 192</span></a>      <span class="comment">/**</span>
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment">     * Save quickgrading changes.</span>
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment">     *</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment">     * @param int $userid The user id in the table this quickgrading element relates to</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">     * @param stdClass $grade The grade</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">     * @return boolean - true if the grade changes were saved correctly</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment">     */</span>
<a name="l199"><span class="linenum"> 199</span></a>      public function <a class="function" onClick="logFunction('save_quickgrading_changes')" href="../../../../_functions/save_quickgrading_changes.html" onMouseOver="funcPopup(event,'save_quickgrading_changes')">save_quickgrading_changes</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>, <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>) {
<a name="l200"><span class="linenum"> 200</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l201"><span class="linenum"> 201</span></a>          <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_feedback_comments')" href="../../../../_functions/get_feedback_comments.html" onMouseOver="funcPopup(event,'get_feedback_comments')">get_feedback_comments</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('id')" class="var it42963" onMouseOver="hilite(42963)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>);
<a name="l202"><span class="linenum"> 202</span></a>          <a class="var it26796" onMouseOver="hilite(26796)" onMouseOut="lolite()" onClick="logVariable('quickgradecomments')" href="../../../../_variables/quickgradecomments.html">$quickgradecomments</a> = <a class="function" onClick="logFunction('optional_param')" href="../../../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('quickgrade_comments_' . <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>, null, <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>);
<a name="l203"><span class="linenum"> 203</span></a>          if (!<a class="var it26796" onMouseOver="hilite(26796)" onMouseOut="lolite()" onClick="logVariable('quickgradecomments')" href="../../../../_variables/quickgradecomments.html">$quickgradecomments</a>) {
<a name="l204"><span class="linenum"> 204</span></a>              return true;
<a name="l205"><span class="linenum"> 205</span></a>          }
<a name="l206"><span class="linenum"> 206</span></a>          if (<a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>) {
<a name="l207"><span class="linenum"> 207</span></a>              <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>-&gt;<a onClick="logVariable('commenttext')" class="var it45255" onMouseOver="hilite(45255)" onMouseOut="lolite()" href="../../../../_variables/commenttext.html">commenttext</a> = <a class="var it26796" onMouseOver="hilite(26796)" onMouseOut="lolite()" onClick="logVariable('quickgradecomments')" href="../../../../_variables/quickgradecomments.html">$quickgradecomments</a>;
<a name="l208"><span class="linenum"> 208</span></a>              return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('assignfeedback_comments', <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>);
<a name="l209"><span class="linenum"> 209</span></a>          } else {
<a name="l210"><span class="linenum"> 210</span></a>              <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a> = new stdClass();
<a name="l211"><span class="linenum"> 211</span></a>              <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>-&gt;<a onClick="logVariable('commenttext')" class="var it45255" onMouseOver="hilite(45255)" onMouseOut="lolite()" href="../../../../_variables/commenttext.html">commenttext</a> = <a class="var it26796" onMouseOver="hilite(26796)" onMouseOut="lolite()" onClick="logVariable('quickgradecomments')" href="../../../../_variables/quickgradecomments.html">$quickgradecomments</a>;
<a name="l212"><span class="linenum"> 212</span></a>              <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>-&gt;<a onClick="logVariable('commentformat')" class="var it45255" onMouseOver="hilite(45255)" onMouseOut="lolite()" href="../../../../_variables/commentformat.html">commentformat</a> = <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>;
<a name="l213"><span class="linenum"> 213</span></a>              <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>-&gt;<a onClick="logVariable('grade')" class="var it45255" onMouseOver="hilite(45255)" onMouseOut="lolite()" href="../../../../_variables/grade.html">grade</a> = <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('id')" class="var it42963" onMouseOver="hilite(42963)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>;
<a name="l214"><span class="linenum"> 214</span></a>              <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>-&gt;<a onClick="logVariable('assignment')" class="var it45255" onMouseOver="hilite(45255)" onMouseOut="lolite()" href="../../../../_variables/assignment.html">assignment</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignment')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/assignment.html">assignment</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>()-&gt;id;
<a name="l215"><span class="linenum"> 215</span></a>              return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('assignfeedback_comments', <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>) &gt; 0;
<a name="l216"><span class="linenum"> 216</span></a>          }
<a name="l217"><span class="linenum"> 217</span></a>      }
<a name="l218"><span class="linenum"> 218</span></a>  
<a name="l219"><span class="linenum"> 219</span></a>      <span class="comment">/**</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">     * Save the settings for feedback comments plugin</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment">     *</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment">     * @param stdClass $data</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">     * @return bool</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment">     */</span>
<a name="l225"><span class="linenum"> 225</span></a>      public function <a class="function" onClick="logFunction('save_settings')" href="../../../../_functions/save_settings.html" onMouseOver="funcPopup(event,'save_settings')">save_settings</a>(stdClass <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>) {
<a name="l226"><span class="linenum"> 226</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('set_config')" href="../../../../_functions/set_config.html" onMouseOver="funcPopup(event,'set_config')">set_config</a>('commentinline', !empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('assignfeedback_comments_commentinline')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../_variables/assignfeedback_comments_commentinline.html">assignfeedback_comments_commentinline</a>));
<a name="l227"><span class="linenum"> 227</span></a>          return true;
<a name="l228"><span class="linenum"> 228</span></a>      }
<a name="l229"><span class="linenum"> 229</span></a>  
<a name="l230"><span class="linenum"> 230</span></a>      <span class="comment">/**</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment">     * Get the default setting for feedback comments plugin</span>
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment">     *</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment">     * @param MoodleQuickForm $mform The form to add elements to</span>
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment">     * @return void</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">     */</span>
<a name="l236"><span class="linenum"> 236</span></a>      public function <a class="function" onClick="logFunction('get_settings')" href="../../../../_functions/get_settings.html" onMouseOver="funcPopup(event,'get_settings')">get_settings</a>(MoodleQuickForm <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../../../_variables/mform.html">$mform</a>) {
<a name="l237"><span class="linenum"> 237</span></a>          <a class="var it777" onMouseOver="hilite(777)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../../../_variables/default.html">$default</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_config')" href="../../../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('commentinline');
<a name="l238"><span class="linenum"> 238</span></a>          if (<a class="var it777" onMouseOver="hilite(777)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../../../_variables/default.html">$default</a> === false) {
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">            // Apply the admin default if we don't have a value yet.</span>
<a name="l240"><span class="linenum"> 240</span></a>              <a class="var it777" onMouseOver="hilite(777)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../../../_variables/default.html">$default</a> = <a class="function" onClick="logFunction('get_config')" href="../../../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('assignfeedback_comments', 'inline');
<a name="l241"><span class="linenum"> 241</span></a>          }
<a name="l242"><span class="linenum"> 242</span></a>          <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../../../../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('selectyesno',
<a name="l243"><span class="linenum"> 243</span></a>                             'assignfeedback_comments_commentinline',
<a name="l244"><span class="linenum"> 244</span></a>                             <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('commentinline', 'assignfeedback_comments'));
<a name="l245"><span class="linenum"> 245</span></a>          <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addHelpButton')" href="../../../../_functions/addhelpbutton.html" onMouseOver="funcPopup(event,'addhelpbutton')">addHelpButton</a>('assignfeedback_comments_commentinline', 'commentinline', 'assignfeedback_comments');
<a name="l246"><span class="linenum"> 246</span></a>          <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('setDefault')" href="../../../../_functions/setdefault.html" onMouseOver="funcPopup(event,'setdefault')">setDefault</a>('assignfeedback_comments_commentinline', <a class="var it777" onMouseOver="hilite(777)" onMouseOut="lolite()" onClick="logVariable('default')" href="../../../../_variables/default.html">$default</a>);
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">        // Disable comment online if comment feedback plugin is disabled.</span>
<a name="l248"><span class="linenum"> 248</span></a>          <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('disabledIf')" href="../../../../_functions/disabledif.html" onMouseOver="funcPopup(event,'disabledif')">disabledIf</a>('assignfeedback_comments_commentinline', 'assignfeedback_comments_enabled', 'notchecked');
<a name="l249"><span class="linenum"> 249</span></a>     }
<a name="l250"><span class="linenum"> 250</span></a>  
<a name="l251"><span class="linenum"> 251</span></a>      <span class="comment">/**</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment">     * Convert the text from any submission plugin that has an editor field to</span>
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment">     * a format suitable for inserting in the feedback text field.</span>
<a name="l254"><span class="linenum"> 254</span></a>  <span class="comment">     *</span>
<a name="l255"><span class="linenum"> 255</span></a>  <span class="comment">     * @param stdClass $submission</span>
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment">     * @param stdClass $data - Form data to be filled with the converted submission text and format.</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment">     * @return boolean - True if feedback text was set.</span>
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment">     */</span>
<a name="l259"><span class="linenum"> 259</span></a>      protected function <a class="function" onClick="logFunction('convert_submission_text_to_feedback')" href="../../../../_functions/convert_submission_text_to_feedback.html" onMouseOver="funcPopup(event,'convert_submission_text_to_feedback')">convert_submission_text_to_feedback</a>(<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../../../_variables/submission.html">$submission</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>) {
<a name="l260"><span class="linenum"> 260</span></a>          <a class="var it606" onMouseOver="hilite(606)" onMouseOut="lolite()" onClick="logVariable('format')" href="../../../../_variables/format.html">$format</a> = false;
<a name="l261"><span class="linenum"> 261</span></a>          <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a> = '';
<a name="l262"><span class="linenum"> 262</span></a>  
<a name="l263"><span class="linenum"> 263</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignment')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/assignment.html">assignment</a>-&gt;<a class="function" onClick="logFunction('get_submission_plugins')" href="../../../../_functions/get_submission_plugins.html" onMouseOver="funcPopup(event,'get_submission_plugins')">get_submission_plugins</a>() as <a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../../../_variables/plugin.html">$plugin</a>) {
<a name="l264"><span class="linenum"> 264</span></a>              <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../../../_variables/fields.html">$fields</a> = <a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('get_editor_fields')" href="../../../../_functions/get_editor_fields.html" onMouseOver="funcPopup(event,'get_editor_fields')">get_editor_fields</a>();
<a name="l265"><span class="linenum"> 265</span></a>              if (<a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('is_enabled')" href="../../../../_functions/is_enabled.html" onMouseOver="funcPopup(event,'is_enabled')">is_enabled</a>() &amp;&amp; <a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('is_visible')" href="../../../../_functions/is_visible.html" onMouseOver="funcPopup(event,'is_visible')">is_visible</a>() &amp;&amp; !<a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('is_empty')" href="../../../../_functions/is_empty.html" onMouseOver="funcPopup(event,'is_empty')">is_empty</a>(<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../../../_variables/submission.html">$submission</a>) &amp;&amp; !empty(<a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../../../_variables/fields.html">$fields</a>)) {
<a name="l266"><span class="linenum"> 266</span></a>                  foreach (<a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../../../_variables/fields.html">$fields</a> as <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../_variables/key.html">$key</a> =&gt; <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('description')" href="../../../../_variables/description.html">$description</a>) {
<a name="l267"><span class="linenum"> 267</span></a>                      <a class="var it5013" onMouseOver="hilite(5013)" onMouseOut="lolite()" onClick="logVariable('rawtext')" href="../../../../_variables/rawtext.html">$rawtext</a> = <a class="function" onClick="logFunction('strip_pluginfile_content')" href="../../../../_functions/strip_pluginfile_content.html" onMouseOver="funcPopup(event,'strip_pluginfile_content')">strip_pluginfile_content</a>(<a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('get_editor_text')" href="../../../../_functions/get_editor_text.html" onMouseOver="funcPopup(event,'get_editor_text')">get_editor_text</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../_variables/key.html">$key</a>, <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('id')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>));
<a name="l268"><span class="linenum"> 268</span></a>  
<a name="l269"><span class="linenum"> 269</span></a>                      <a class="var it13851" onMouseOver="hilite(13851)" onMouseOut="lolite()" onClick="logVariable('newformat')" href="../../../../_variables/newformat.html">$newformat</a> = <a class="var it265" onMouseOver="hilite(265)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('get_editor_format')" href="../../../../_functions/get_editor_format.html" onMouseOver="funcPopup(event,'get_editor_format')">get_editor_format</a>(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../../_variables/key.html">$key</a>, <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../../../_variables/submission.html">$submission</a>-&gt;<a onClick="logVariable('id')" class="var it42978" onMouseOver="hilite(42978)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>);
<a name="l270"><span class="linenum"> 270</span></a>  
<a name="l271"><span class="linenum"> 271</span></a>                      if (<a class="var it606" onMouseOver="hilite(606)" onMouseOut="lolite()" onClick="logVariable('format')" href="../../../../_variables/format.html">$format</a> !== false &amp;&amp; <a class="var it13851" onMouseOver="hilite(13851)" onMouseOut="lolite()" onClick="logVariable('newformat')" href="../../../../_variables/newformat.html">$newformat</a> != <a class="var it606" onMouseOver="hilite(606)" onMouseOut="lolite()" onClick="logVariable('format')" href="../../../../_variables/format.html">$format</a>) {
<a name="l272"><span class="linenum"> 272</span></a>  <span class="comment">                        // There are 2 or more editor fields using different formats, set to plain as a fallback.</span>
<a name="l273"><span class="linenum"> 273</span></a>                          <a class="var it606" onMouseOver="hilite(606)" onMouseOut="lolite()" onClick="logVariable('format')" href="../../../../_variables/format.html">$format</a> = <a class="constant" onClick="logConstant('FORMAT_PLAIN')" href="../../../../_constants/FORMAT_PLAIN.html" onMouseOver="constPopup(event,'FORMAT_PLAIN')">FORMAT_PLAIN</a>;
<a name="l274"><span class="linenum"> 274</span></a>                      } else {
<a name="l275"><span class="linenum"> 275</span></a>                          <a class="var it606" onMouseOver="hilite(606)" onMouseOut="lolite()" onClick="logVariable('format')" href="../../../../_variables/format.html">$format</a> = <a class="var it13851" onMouseOver="hilite(13851)" onMouseOut="lolite()" onClick="logVariable('newformat')" href="../../../../_variables/newformat.html">$newformat</a>;
<a name="l276"><span class="linenum"> 276</span></a>                      }
<a name="l277"><span class="linenum"> 277</span></a>                      <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a> .= <a class="var it5013" onMouseOver="hilite(5013)" onMouseOut="lolite()" onClick="logVariable('rawtext')" href="../../../../_variables/rawtext.html">$rawtext</a>;
<a name="l278"><span class="linenum"> 278</span></a>                  }
<a name="l279"><span class="linenum"> 279</span></a>              }
<a name="l280"><span class="linenum"> 280</span></a>          }
<a name="l281"><span class="linenum"> 281</span></a>  
<a name="l282"><span class="linenum"> 282</span></a>          if (<a class="var it606" onMouseOver="hilite(606)" onMouseOut="lolite()" onClick="logVariable('format')" href="../../../../_variables/format.html">$format</a> === false) {
<a name="l283"><span class="linenum"> 283</span></a>              <a class="var it606" onMouseOver="hilite(606)" onMouseOut="lolite()" onClick="logVariable('format')" href="../../../../_variables/format.html">$format</a> = <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>;
<a name="l284"><span class="linenum"> 284</span></a>          }
<a name="l285"><span class="linenum"> 285</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('assignfeedbackcomments_editor')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../_variables/assignfeedbackcomments_editor.html">assignfeedbackcomments_editor</a>['text'] = <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a>;
<a name="l286"><span class="linenum"> 286</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('assignfeedbackcomments_editor')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../_variables/assignfeedbackcomments_editor.html">assignfeedbackcomments_editor</a>['format'] = <a class="var it606" onMouseOver="hilite(606)" onMouseOut="lolite()" onClick="logVariable('format')" href="../../../../_variables/format.html">$format</a>;
<a name="l287"><span class="linenum"> 287</span></a>  
<a name="l288"><span class="linenum"> 288</span></a>          return true;
<a name="l289"><span class="linenum"> 289</span></a>      }
<a name="l290"><span class="linenum"> 290</span></a>  
<a name="l291"><span class="linenum"> 291</span></a>      <span class="comment">/**</span>
<a name="l292"><span class="linenum"> 292</span></a>  <span class="comment">     * Get form elements for the grading page</span>
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment">     *</span>
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment">     * @param stdClass|null $grade</span>
<a name="l295"><span class="linenum"> 295</span></a>  <span class="comment">     * @param MoodleQuickForm $mform</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment">     * @param stdClass $data</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment">     * @return bool true if elements were added to the form</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment">     */</span>
<a name="l299"><span class="linenum"> 299</span></a>      public function <a class="function" onClick="logFunction('get_form_elements_for_user')" href="../../../../_functions/get_form_elements_for_user.html" onMouseOver="funcPopup(event,'get_form_elements_for_user')">get_form_elements_for_user</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>, MoodleQuickForm <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../../../_variables/mform.html">$mform</a>, stdClass <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>) {
<a name="l300"><span class="linenum"> 300</span></a>          <a class="var it26798" onMouseOver="hilite(26798)" onMouseOut="lolite()" onClick="logVariable('commentinlinenabled')" href="../../../../_variables/commentinlinenabled.html">$commentinlinenabled</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_config')" href="../../../../_functions/get_config.html" onMouseOver="funcPopup(event,'get_config')">get_config</a>('commentinline');
<a name="l301"><span class="linenum"> 301</span></a>          <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../../../_variables/submission.html">$submission</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignment')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/assignment.html">assignment</a>-&gt;<a class="function" onClick="logFunction('get_user_submission')" href="../../../../_functions/get_user_submission.html" onMouseOver="funcPopup(event,'get_user_submission')">get_user_submission</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../../_variables/userid.html">$userid</a>, false);
<a name="l302"><span class="linenum"> 302</span></a>          <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a> = false;
<a name="l303"><span class="linenum"> 303</span></a>  
<a name="l304"><span class="linenum"> 304</span></a>          if (<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>) {
<a name="l305"><span class="linenum"> 305</span></a>              <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_feedback_comments')" href="../../../../_functions/get_feedback_comments.html" onMouseOver="funcPopup(event,'get_feedback_comments')">get_feedback_comments</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('id')" class="var it42963" onMouseOver="hilite(42963)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>);
<a name="l306"><span class="linenum"> 306</span></a>          }
<a name="l307"><span class="linenum"> 307</span></a>  
<a name="l308"><span class="linenum"> 308</span></a>          if (<a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a> &amp;&amp; !empty(<a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>-&gt;<a onClick="logVariable('commenttext')" class="var it45254" onMouseOver="hilite(45254)" onMouseOut="lolite()" href="../../../../_variables/commenttext.html">commenttext</a>)) {
<a name="l309"><span class="linenum"> 309</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('assignfeedbackcomments_editor')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../_variables/assignfeedbackcomments_editor.html">assignfeedbackcomments_editor</a>['text'] = <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>-&gt;<a onClick="logVariable('commenttext')" class="var it45254" onMouseOver="hilite(45254)" onMouseOut="lolite()" href="../../../../_variables/commenttext.html">commenttext</a>;
<a name="l310"><span class="linenum"> 310</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('assignfeedbackcomments_editor')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../_variables/assignfeedbackcomments_editor.html">assignfeedbackcomments_editor</a>['format'] = <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>-&gt;<a onClick="logVariable('commentformat')" class="var it45254" onMouseOver="hilite(45254)" onMouseOut="lolite()" href="../../../../_variables/commentformat.html">commentformat</a>;
<a name="l311"><span class="linenum"> 311</span></a>          } else {
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">            // No feedback given yet - maybe we need to copy the text from the submission?</span>
<a name="l313"><span class="linenum"> 313</span></a>              if (!empty(<a class="var it26798" onMouseOver="hilite(26798)" onMouseOut="lolite()" onClick="logVariable('commentinlinenabled')" href="../../../../_variables/commentinlinenabled.html">$commentinlinenabled</a>) &amp;&amp; <a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../../../_variables/submission.html">$submission</a>) {
<a name="l314"><span class="linenum"> 314</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('convert_submission_text_to_feedback')" href="../../../../_functions/convert_submission_text_to_feedback.html" onMouseOver="funcPopup(event,'convert_submission_text_to_feedback')">convert_submission_text_to_feedback</a>(<a class="var it5006" onMouseOver="hilite(5006)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../../../_variables/submission.html">$submission</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>);
<a name="l315"><span class="linenum"> 315</span></a>              }
<a name="l316"><span class="linenum"> 316</span></a>          }
<a name="l317"><span class="linenum"> 317</span></a>  
<a name="l318"><span class="linenum"> 318</span></a>          <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../../../../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('editor', 'assignfeedbackcomments_editor', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_name')" href="../../../../_functions/get_name.html" onMouseOver="funcPopup(event,'get_name')">get_name</a>(), null, null);
<a name="l319"><span class="linenum"> 319</span></a>  
<a name="l320"><span class="linenum"> 320</span></a>          return true;
<a name="l321"><span class="linenum"> 321</span></a>      }
<a name="l322"><span class="linenum"> 322</span></a>  
<a name="l323"><span class="linenum"> 323</span></a>      <span class="comment">/**</span>
<a name="l324"><span class="linenum"> 324</span></a>  <span class="comment">     * Saving the comment content into database.</span>
<a name="l325"><span class="linenum"> 325</span></a>  <span class="comment">     *</span>
<a name="l326"><span class="linenum"> 326</span></a>  <span class="comment">     * @param stdClass $grade</span>
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment">     * @param stdClass $data</span>
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">     * @return bool</span>
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">     */</span>
<a name="l330"><span class="linenum"> 330</span></a>      public function <a class="function" onClick="logFunction('save')" href="../../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>(stdClass <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>, stdClass <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>) {
<a name="l331"><span class="linenum"> 331</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l332"><span class="linenum"> 332</span></a>          <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_feedback_comments')" href="../../../../_functions/get_feedback_comments.html" onMouseOver="funcPopup(event,'get_feedback_comments')">get_feedback_comments</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('id')" class="var it42963" onMouseOver="hilite(42963)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>);
<a name="l333"><span class="linenum"> 333</span></a>          if (<a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>) {
<a name="l334"><span class="linenum"> 334</span></a>              <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>-&gt;<a onClick="logVariable('commenttext')" class="var it45255" onMouseOver="hilite(45255)" onMouseOut="lolite()" href="../../../../_variables/commenttext.html">commenttext</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('assignfeedbackcomments_editor')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../_variables/assignfeedbackcomments_editor.html">assignfeedbackcomments_editor</a>['text'];
<a name="l335"><span class="linenum"> 335</span></a>              <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>-&gt;<a onClick="logVariable('commentformat')" class="var it45255" onMouseOver="hilite(45255)" onMouseOut="lolite()" href="../../../../_variables/commentformat.html">commentformat</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('assignfeedbackcomments_editor')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../_variables/assignfeedbackcomments_editor.html">assignfeedbackcomments_editor</a>['format'];
<a name="l336"><span class="linenum"> 336</span></a>              return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('assignfeedback_comments', <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>);
<a name="l337"><span class="linenum"> 337</span></a>          } else {
<a name="l338"><span class="linenum"> 338</span></a>              <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a> = new stdClass();
<a name="l339"><span class="linenum"> 339</span></a>              <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>-&gt;<a onClick="logVariable('commenttext')" class="var it45255" onMouseOver="hilite(45255)" onMouseOut="lolite()" href="../../../../_variables/commenttext.html">commenttext</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('assignfeedbackcomments_editor')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../_variables/assignfeedbackcomments_editor.html">assignfeedbackcomments_editor</a>['text'];
<a name="l340"><span class="linenum"> 340</span></a>              <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>-&gt;<a onClick="logVariable('commentformat')" class="var it45255" onMouseOver="hilite(45255)" onMouseOut="lolite()" href="../../../../_variables/commentformat.html">commentformat</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('assignfeedbackcomments_editor')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../../_variables/assignfeedbackcomments_editor.html">assignfeedbackcomments_editor</a>['format'];
<a name="l341"><span class="linenum"> 341</span></a>              <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>-&gt;<a onClick="logVariable('grade')" class="var it45255" onMouseOver="hilite(45255)" onMouseOut="lolite()" href="../../../../_variables/grade.html">grade</a> = <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('id')" class="var it42963" onMouseOver="hilite(42963)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>;
<a name="l342"><span class="linenum"> 342</span></a>              <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>-&gt;<a onClick="logVariable('assignment')" class="var it45255" onMouseOver="hilite(45255)" onMouseOut="lolite()" href="../../../../_variables/assignment.html">assignment</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignment')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/assignment.html">assignment</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>()-&gt;id;
<a name="l343"><span class="linenum"> 343</span></a>              return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('assignfeedback_comments', <a class="var it26795" onMouseOver="hilite(26795)" onMouseOut="lolite()" onClick="logVariable('feedbackcomment')" href="../../../../_variables/feedbackcomment.html">$feedbackcomment</a>) &gt; 0;
<a name="l344"><span class="linenum"> 344</span></a>          }
<a name="l345"><span class="linenum"> 345</span></a>      }
<a name="l346"><span class="linenum"> 346</span></a>  
<a name="l347"><span class="linenum"> 347</span></a>      <span class="comment">/**</span>
<a name="l348"><span class="linenum"> 348</span></a>  <span class="comment">     * Display the comment in the feedback table.</span>
<a name="l349"><span class="linenum"> 349</span></a>  <span class="comment">     *</span>
<a name="l350"><span class="linenum"> 350</span></a>  <span class="comment">     * @param stdClass $grade</span>
<a name="l351"><span class="linenum"> 351</span></a>  <span class="comment">     * @param bool $showviewlink Set to true to show a link to view the full feedback</span>
<a name="l352"><span class="linenum"> 352</span></a>  <span class="comment">     * @return string</span>
<a name="l353"><span class="linenum"> 353</span></a>  <span class="comment">     */</span>
<a name="l354"><span class="linenum"> 354</span></a>      public function <a class="function" onClick="logFunction('view_summary')" href="../../../../_functions/view_summary.html" onMouseOver="funcPopup(event,'view_summary')">view_summary</a>(stdClass <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>, &amp; <a class="var it24337" onMouseOver="hilite(24337)" onMouseOut="lolite()" onClick="logVariable('showviewlink')" href="../../../../_variables/showviewlink.html">$showviewlink</a>) {
<a name="l355"><span class="linenum"> 355</span></a>          <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_feedback_comments')" href="../../../../_functions/get_feedback_comments.html" onMouseOver="funcPopup(event,'get_feedback_comments')">get_feedback_comments</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('id')" class="var it42963" onMouseOver="hilite(42963)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>);
<a name="l356"><span class="linenum"> 356</span></a>          if (<a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>) {
<a name="l357"><span class="linenum"> 357</span></a>              <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a> = <a class="function" onClick="logFunction('format_text')" href="../../../../_functions/format_text.html" onMouseOver="funcPopup(event,'format_text')">format_text</a>(<a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>-&gt;<a onClick="logVariable('commenttext')" class="var it45254" onMouseOver="hilite(45254)" onMouseOut="lolite()" href="../../../../_variables/commenttext.html">commenttext</a>,
<a name="l358"><span class="linenum"> 358</span></a>                                  <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>-&gt;<a onClick="logVariable('commentformat')" class="var it45254" onMouseOver="hilite(45254)" onMouseOut="lolite()" href="../../../../_variables/commentformat.html">commentformat</a>,
<a name="l359"><span class="linenum"> 359</span></a>                                  array('context' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignment')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/assignment.html">assignment</a>-&gt;<a class="function" onClick="logFunction('get_context')" href="../../../../_functions/get_context.html" onMouseOver="funcPopup(event,'get_context')">get_context</a>()));
<a name="l360"><span class="linenum"> 360</span></a>              <a class="var it2618" onMouseOver="hilite(2618)" onMouseOut="lolite()" onClick="logVariable('short')" href="../../../../_variables/short.html">$short</a> = <a class="function" onClick="logFunction('shorten_text')" href="../../../../_functions/shorten_text.html" onMouseOver="funcPopup(event,'shorten_text')">shorten_text</a>(<a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a>, 140);
<a name="l361"><span class="linenum"> 361</span></a>  
<a name="l362"><span class="linenum"> 362</span></a>  <span class="comment">            // Show the view all link if the text has been shortened.</span>
<a name="l363"><span class="linenum"> 363</span></a>              <a class="var it24337" onMouseOver="hilite(24337)" onMouseOut="lolite()" onClick="logVariable('showviewlink')" href="../../../../_variables/showviewlink.html">$showviewlink</a> = <a class="var it2618" onMouseOver="hilite(2618)" onMouseOut="lolite()" onClick="logVariable('short')" href="../../../../_variables/short.html">$short</a> != <a class="var it151" onMouseOver="hilite(151)" onMouseOut="lolite()" onClick="logVariable('text')" href="../../../../_variables/text.html">$text</a>;
<a name="l364"><span class="linenum"> 364</span></a>              return <a class="var it2618" onMouseOver="hilite(2618)" onMouseOut="lolite()" onClick="logVariable('short')" href="../../../../_variables/short.html">$short</a>;
<a name="l365"><span class="linenum"> 365</span></a>          }
<a name="l366"><span class="linenum"> 366</span></a>          return '';
<a name="l367"><span class="linenum"> 367</span></a>      }
<a name="l368"><span class="linenum"> 368</span></a>  
<a name="l369"><span class="linenum"> 369</span></a>      <span class="comment">/**</span>
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment">     * Display the comment in the feedback table.</span>
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment">     *</span>
<a name="l372"><span class="linenum"> 372</span></a>  <span class="comment">     * @param stdClass $grade</span>
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment">     * @return string</span>
<a name="l374"><span class="linenum"> 374</span></a>  <span class="comment">     */</span>
<a name="l375"><span class="linenum"> 375</span></a>      public function <a class="function" onClick="logFunction('view')" href="../../../../_functions/view.html" onMouseOver="funcPopup(event,'view')">view</a>(stdClass <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>) {
<a name="l376"><span class="linenum"> 376</span></a>          <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_feedback_comments')" href="../../../../_functions/get_feedback_comments.html" onMouseOver="funcPopup(event,'get_feedback_comments')">get_feedback_comments</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('id')" class="var it42963" onMouseOver="hilite(42963)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>);
<a name="l377"><span class="linenum"> 377</span></a>          if (<a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>) {
<a name="l378"><span class="linenum"> 378</span></a>              return <a class="function" onClick="logFunction('format_text')" href="../../../../_functions/format_text.html" onMouseOver="funcPopup(event,'format_text')">format_text</a>(<a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>-&gt;<a onClick="logVariable('commenttext')" class="var it45254" onMouseOver="hilite(45254)" onMouseOut="lolite()" href="../../../../_variables/commenttext.html">commenttext</a>,
<a name="l379"><span class="linenum"> 379</span></a>                                 <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>-&gt;<a onClick="logVariable('commentformat')" class="var it45254" onMouseOver="hilite(45254)" onMouseOut="lolite()" href="../../../../_variables/commentformat.html">commentformat</a>,
<a name="l380"><span class="linenum"> 380</span></a>                                 array('context' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignment')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/assignment.html">assignment</a>-&gt;<a class="function" onClick="logFunction('get_context')" href="../../../../_functions/get_context.html" onMouseOver="funcPopup(event,'get_context')">get_context</a>()));
<a name="l381"><span class="linenum"> 381</span></a>          }
<a name="l382"><span class="linenum"> 382</span></a>          return '';
<a name="l383"><span class="linenum"> 383</span></a>      }
<a name="l384"><span class="linenum"> 384</span></a>  
<a name="l385"><span class="linenum"> 385</span></a>      <span class="comment">/**</span>
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment">     * Return true if this plugin can upgrade an old Moodle 2.2 assignment of this type</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">     * and version.</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">     *</span>
<a name="l389"><span class="linenum"> 389</span></a>  <span class="comment">     * @param string $type old assignment subtype</span>
<a name="l390"><span class="linenum"> 390</span></a>  <span class="comment">     * @param int $version old assignment version</span>
<a name="l391"><span class="linenum"> 391</span></a>  <span class="comment">     * @return bool True if upgrade is possible</span>
<a name="l392"><span class="linenum"> 392</span></a>  <span class="comment">     */</span>
<a name="l393"><span class="linenum"> 393</span></a>      public function <a class="function" onClick="logFunction('can_upgrade')" href="../../../../_functions/can_upgrade.html" onMouseOver="funcPopup(event,'can_upgrade')">can_upgrade</a>(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../../../../_variables/version.html">$version</a>) {
<a name="l394"><span class="linenum"> 394</span></a>  
<a name="l395"><span class="linenum"> 395</span></a>          if ((<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a> == 'upload' || <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a> == 'uploadsingle' ||
<a name="l396"><span class="linenum"> 396</span></a>               <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a> == 'online' || <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../../_variables/type.html">$type</a> == 'offline') &amp;&amp; <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../../../../_variables/version.html">$version</a> &gt;= 2011112900) {
<a name="l397"><span class="linenum"> 397</span></a>              return true;
<a name="l398"><span class="linenum"> 398</span></a>          }
<a name="l399"><span class="linenum"> 399</span></a>          return false;
<a name="l400"><span class="linenum"> 400</span></a>      }
<a name="l401"><span class="linenum"> 401</span></a>  
<a name="l402"><span class="linenum"> 402</span></a>      <span class="comment">/**</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">     * Upgrade the settings from the old assignment to the new plugin based one</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment">     *</span>
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment">     * @param context $oldcontext - the context for the old assignment</span>
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment">     * @param stdClass $oldassignment - the data for the old assignment</span>
<a name="l407"><span class="linenum"> 407</span></a>  <span class="comment">     * @param string $log - can be appended to by the upgrade</span>
<a name="l408"><span class="linenum"> 408</span></a>  <span class="comment">     * @return bool was it a success? (false will trigger a rollback)</span>
<a name="l409"><span class="linenum"> 409</span></a>  <span class="comment">     */</span>
<a name="l410"><span class="linenum"> 410</span></a>      public function <a class="function" onClick="logFunction('upgrade_settings')" href="../../../../_functions/upgrade_settings.html" onMouseOver="funcPopup(event,'upgrade_settings')">upgrade_settings</a>(context <a class="var it7759" onMouseOver="hilite(7759)" onMouseOut="lolite()" onClick="logVariable('oldcontext')" href="../../../../_variables/oldcontext.html">$oldcontext</a>, stdClass <a class="var it24340" onMouseOver="hilite(24340)" onMouseOut="lolite()" onClick="logVariable('oldassignment')" href="../../../../_variables/oldassignment.html">$oldassignment</a>, &amp; <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../../../_variables/log.html">$log</a>) {
<a name="l411"><span class="linenum"> 411</span></a>          if (<a class="var it24340" onMouseOver="hilite(24340)" onMouseOut="lolite()" onClick="logVariable('oldassignment')" href="../../../../_variables/oldassignment.html">$oldassignment</a>-&gt;<a onClick="logVariable('assignmenttype')" class="var it43958" onMouseOver="hilite(43958)" onMouseOut="lolite()" href="../../../../_variables/assignmenttype.html">assignmenttype</a> == 'online') {
<a name="l412"><span class="linenum"> 412</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('set_config')" href="../../../../_functions/set_config.html" onMouseOver="funcPopup(event,'set_config')">set_config</a>('commentinline', <a class="var it24340" onMouseOver="hilite(24340)" onMouseOut="lolite()" onClick="logVariable('oldassignment')" href="../../../../_variables/oldassignment.html">$oldassignment</a>-&gt;<a onClick="logVariable('var1')" class="var it43958" onMouseOver="hilite(43958)" onMouseOut="lolite()" href="../../../../_variables/var1.html">var1</a>);
<a name="l413"><span class="linenum"> 413</span></a>              return true;
<a name="l414"><span class="linenum"> 414</span></a>          }
<a name="l415"><span class="linenum"> 415</span></a>          return true;
<a name="l416"><span class="linenum"> 416</span></a>      }
<a name="l417"><span class="linenum"> 417</span></a>  
<a name="l418"><span class="linenum"> 418</span></a>      <span class="comment">/**</span>
<a name="l419"><span class="linenum"> 419</span></a>  <span class="comment">     * Upgrade the feedback from the old assignment to the new one</span>
<a name="l420"><span class="linenum"> 420</span></a>  <span class="comment">     *</span>
<a name="l421"><span class="linenum"> 421</span></a>  <span class="comment">     * @param context $oldcontext - the database for the old assignment context</span>
<a name="l422"><span class="linenum"> 422</span></a>  <span class="comment">     * @param stdClass $oldassignment The data record for the old assignment</span>
<a name="l423"><span class="linenum"> 423</span></a>  <span class="comment">     * @param stdClass $oldsubmission The data record for the old submission</span>
<a name="l424"><span class="linenum"> 424</span></a>  <span class="comment">     * @param stdClass $grade The data record for the new grade</span>
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment">     * @param string $log Record upgrade messages in the log</span>
<a name="l426"><span class="linenum"> 426</span></a>  <span class="comment">     * @return bool true or false - false will trigger a rollback</span>
<a name="l427"><span class="linenum"> 427</span></a>  <span class="comment">     */</span>
<a name="l428"><span class="linenum"> 428</span></a>      public function <a class="function" onClick="logFunction('upgrade')" href="../../../../_functions/upgrade.html" onMouseOver="funcPopup(event,'upgrade')">upgrade</a>(context <a class="var it7759" onMouseOver="hilite(7759)" onMouseOut="lolite()" onClick="logVariable('oldcontext')" href="../../../../_variables/oldcontext.html">$oldcontext</a>,
<a name="l429"><span class="linenum"> 429</span></a>                              stdClass <a class="var it24340" onMouseOver="hilite(24340)" onMouseOut="lolite()" onClick="logVariable('oldassignment')" href="../../../../_variables/oldassignment.html">$oldassignment</a>,
<a name="l430"><span class="linenum"> 430</span></a>                              stdClass <a class="var it24346" onMouseOver="hilite(24346)" onMouseOut="lolite()" onClick="logVariable('oldsubmission')" href="../../../../_variables/oldsubmission.html">$oldsubmission</a>,
<a name="l431"><span class="linenum"> 431</span></a>                              stdClass <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>,
<a name="l432"><span class="linenum"> 432</span></a>                              &amp; <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../../../_variables/log.html">$log</a>) {
<a name="l433"><span class="linenum"> 433</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l434"><span class="linenum"> 434</span></a>  
<a name="l435"><span class="linenum"> 435</span></a>          <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a> = new stdClass();
<a name="l436"><span class="linenum"> 436</span></a>          <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>-&gt;<a onClick="logVariable('commenttext')" class="var it45254" onMouseOver="hilite(45254)" onMouseOut="lolite()" href="../../../../_variables/commenttext.html">commenttext</a> = <a class="var it24346" onMouseOver="hilite(24346)" onMouseOut="lolite()" onClick="logVariable('oldsubmission')" href="../../../../_variables/oldsubmission.html">$oldsubmission</a>-&gt;<a onClick="logVariable('submissioncomment')" class="var it43959" onMouseOver="hilite(43959)" onMouseOut="lolite()" href="../../../../_variables/submissioncomment.html">submissioncomment</a>;
<a name="l437"><span class="linenum"> 437</span></a>          <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>-&gt;<a onClick="logVariable('commentformat')" class="var it45254" onMouseOver="hilite(45254)" onMouseOut="lolite()" href="../../../../_variables/commentformat.html">commentformat</a> = <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>;
<a name="l438"><span class="linenum"> 438</span></a>  
<a name="l439"><span class="linenum"> 439</span></a>          <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>-&gt;<a onClick="logVariable('grade')" class="var it45254" onMouseOver="hilite(45254)" onMouseOut="lolite()" href="../../../../_variables/grade.html">grade</a> = <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('id')" class="var it42963" onMouseOver="hilite(42963)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>;
<a name="l440"><span class="linenum"> 440</span></a>          <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>-&gt;<a onClick="logVariable('assignment')" class="var it45254" onMouseOver="hilite(45254)" onMouseOut="lolite()" href="../../../../_variables/assignment.html">assignment</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignment')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/assignment.html">assignment</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>()-&gt;id;
<a name="l441"><span class="linenum"> 441</span></a>          if (!<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('assignfeedback_comments', <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>) &gt; 0) {
<a name="l442"><span class="linenum"> 442</span></a>              <a class="var it1135" onMouseOver="hilite(1135)" onMouseOut="lolite()" onClick="logVariable('log')" href="../../../../_variables/log.html">$log</a> .= <a class="function" onClick="logFunction('get_string')" href="../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('couldnotconvertgrade', 'mod_assign', <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('userid')" class="var it42963" onMouseOver="hilite(42963)" onMouseOut="lolite()" href="../../../../_variables/userid.html">userid</a>);
<a name="l443"><span class="linenum"> 443</span></a>              return false;
<a name="l444"><span class="linenum"> 444</span></a>          }
<a name="l445"><span class="linenum"> 445</span></a>  
<a name="l446"><span class="linenum"> 446</span></a>          return true;
<a name="l447"><span class="linenum"> 447</span></a>      }
<a name="l448"><span class="linenum"> 448</span></a>  
<a name="l449"><span class="linenum"> 449</span></a>      <span class="comment">/**</span>
<a name="l450"><span class="linenum"> 450</span></a>  <span class="comment">     * If this plugin adds to the gradebook comments field, it must specify the format of the text</span>
<a name="l451"><span class="linenum"> 451</span></a>  <span class="comment">     * of the comment</span>
<a name="l452"><span class="linenum"> 452</span></a>  <span class="comment">     *</span>
<a name="l453"><span class="linenum"> 453</span></a>  <span class="comment">     * Only one feedback plugin can push comments to the gradebook and that is chosen by the assignment</span>
<a name="l454"><span class="linenum"> 454</span></a>  <span class="comment">     * settings page.</span>
<a name="l455"><span class="linenum"> 455</span></a>  <span class="comment">     *</span>
<a name="l456"><span class="linenum"> 456</span></a>  <span class="comment">     * @param stdClass $grade The grade</span>
<a name="l457"><span class="linenum"> 457</span></a>  <span class="comment">     * @return int</span>
<a name="l458"><span class="linenum"> 458</span></a>  <span class="comment">     */</span>
<a name="l459"><span class="linenum"> 459</span></a>      public function <a class="function" onClick="logFunction('format_for_gradebook')" href="../../../../_functions/format_for_gradebook.html" onMouseOver="funcPopup(event,'format_for_gradebook')">format_for_gradebook</a>(stdClass <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>) {
<a name="l460"><span class="linenum"> 460</span></a>          <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_feedback_comments')" href="../../../../_functions/get_feedback_comments.html" onMouseOver="funcPopup(event,'get_feedback_comments')">get_feedback_comments</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('id')" class="var it42963" onMouseOver="hilite(42963)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>);
<a name="l461"><span class="linenum"> 461</span></a>          if (<a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>) {
<a name="l462"><span class="linenum"> 462</span></a>              return <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>-&gt;<a onClick="logVariable('commentformat')" class="var it45254" onMouseOver="hilite(45254)" onMouseOut="lolite()" href="../../../../_variables/commentformat.html">commentformat</a>;
<a name="l463"><span class="linenum"> 463</span></a>          }
<a name="l464"><span class="linenum"> 464</span></a>          return <a class="constant" onClick="logConstant('FORMAT_MOODLE')" href="../../../../_constants/FORMAT_MOODLE.html" onMouseOver="constPopup(event,'FORMAT_MOODLE')">FORMAT_MOODLE</a>;
<a name="l465"><span class="linenum"> 465</span></a>      }
<a name="l466"><span class="linenum"> 466</span></a>  
<a name="l467"><span class="linenum"> 467</span></a>      <span class="comment">/**</span>
<a name="l468"><span class="linenum"> 468</span></a>  <span class="comment">     * If this plugin adds to the gradebook comments field, it must format the text</span>
<a name="l469"><span class="linenum"> 469</span></a>  <span class="comment">     * of the comment</span>
<a name="l470"><span class="linenum"> 470</span></a>  <span class="comment">     *</span>
<a name="l471"><span class="linenum"> 471</span></a>  <span class="comment">     * Only one feedback plugin can push comments to the gradebook and that is chosen by the assignment</span>
<a name="l472"><span class="linenum"> 472</span></a>  <span class="comment">     * settings page.</span>
<a name="l473"><span class="linenum"> 473</span></a>  <span class="comment">     *</span>
<a name="l474"><span class="linenum"> 474</span></a>  <span class="comment">     * @param stdClass $grade The grade</span>
<a name="l475"><span class="linenum"> 475</span></a>  <span class="comment">     * @return string</span>
<a name="l476"><span class="linenum"> 476</span></a>  <span class="comment">     */</span>
<a name="l477"><span class="linenum"> 477</span></a>      public function <a class="function" onClick="logFunction('text_for_gradebook')" href="../../../../_functions/text_for_gradebook.html" onMouseOver="funcPopup(event,'text_for_gradebook')">text_for_gradebook</a>(stdClass <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>) {
<a name="l478"><span class="linenum"> 478</span></a>          <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_feedback_comments')" href="../../../../_functions/get_feedback_comments.html" onMouseOver="funcPopup(event,'get_feedback_comments')">get_feedback_comments</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('id')" class="var it42963" onMouseOver="hilite(42963)" onMouseOut="lolite()" href="../../../../_variables/id.html">id</a>);
<a name="l479"><span class="linenum"> 479</span></a>          if (<a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>) {
<a name="l480"><span class="linenum"> 480</span></a>              return <a class="var it26792" onMouseOver="hilite(26792)" onMouseOut="lolite()" onClick="logVariable('feedbackcomments')" href="../../../../_variables/feedbackcomments.html">$feedbackcomments</a>-&gt;<a onClick="logVariable('commenttext')" class="var it45254" onMouseOver="hilite(45254)" onMouseOut="lolite()" href="../../../../_variables/commenttext.html">commenttext</a>;
<a name="l481"><span class="linenum"> 481</span></a>          }
<a name="l482"><span class="linenum"> 482</span></a>          return '';
<a name="l483"><span class="linenum"> 483</span></a>      }
<a name="l484"><span class="linenum"> 484</span></a>  
<a name="l485"><span class="linenum"> 485</span></a>      <span class="comment">/**</span>
<a name="l486"><span class="linenum"> 486</span></a>  <span class="comment">     * The assignment has been deleted - cleanup</span>
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment">     *</span>
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment">     * @return bool</span>
<a name="l489"><span class="linenum"> 489</span></a>  <span class="comment">     */</span>
<a name="l490"><span class="linenum"> 490</span></a>      public function <a class="function" onClick="logFunction('delete_instance')" href="../../../../_functions/delete_instance.html" onMouseOver="funcPopup(event,'delete_instance')">delete_instance</a>() {
<a name="l491"><span class="linenum"> 491</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l492"><span class="linenum"> 492</span></a>  <span class="comment">        // Will throw exception on failure.</span>
<a name="l493"><span class="linenum"> 493</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('assignfeedback_comments',
<a name="l494"><span class="linenum"> 494</span></a>                              array('assignment'=&gt;<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignment')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../../../_variables/assignment.html">assignment</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>()-&gt;id));
<a name="l495"><span class="linenum"> 495</span></a>          return true;
<a name="l496"><span class="linenum"> 496</span></a>      }
<a name="l497"><span class="linenum"> 497</span></a>  
<a name="l498"><span class="linenum"> 498</span></a>      <span class="comment">/**</span>
<a name="l499"><span class="linenum"> 499</span></a>  <span class="comment">     * Returns true if there are no feedback comments for the given grade.</span>
<a name="l500"><span class="linenum"> 500</span></a>  <span class="comment">     *</span>
<a name="l501"><span class="linenum"> 501</span></a>  <span class="comment">     * @param stdClass $grade</span>
<a name="l502"><span class="linenum"> 502</span></a>  <span class="comment">     * @return bool</span>
<a name="l503"><span class="linenum"> 503</span></a>  <span class="comment">     */</span>
<a name="l504"><span class="linenum"> 504</span></a>      public function <a class="function" onClick="logFunction('is_empty')" href="../../../../_functions/is_empty.html" onMouseOver="funcPopup(event,'is_empty')">is_empty</a>(stdClass <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>) {
<a name="l505"><span class="linenum"> 505</span></a>          return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('view')" href="../../../../_functions/view.html" onMouseOver="funcPopup(event,'view')">view</a>(<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../../../_variables/grade.html">$grade</a>) == '';
<a name="l506"><span class="linenum"> 506</span></a>      }
<a name="l507"><span class="linenum"> 507</span></a>  
<a name="l508"><span class="linenum"> 508</span></a>      <span class="comment">/**</span>
<a name="l509"><span class="linenum"> 509</span></a>  <span class="comment">     * Return a description of external params suitable for uploading an feedback comment from a webservice.</span>
<a name="l510"><span class="linenum"> 510</span></a>  <span class="comment">     *</span>
<a name="l511"><span class="linenum"> 511</span></a>  <span class="comment">     * @return external_description|null</span>
<a name="l512"><span class="linenum"> 512</span></a>  <span class="comment">     */</span>
<a name="l513"><span class="linenum"> 513</span></a>      public function <a class="function" onClick="logFunction('get_external_parameters')" href="../../../../_functions/get_external_parameters.html" onMouseOver="funcPopup(event,'get_external_parameters')">get_external_parameters</a>() {
<a name="l514"><span class="linenum"> 514</span></a>          <a class="var it6171" onMouseOver="hilite(6171)" onMouseOut="lolite()" onClick="logVariable('editorparams')" href="../../../../_variables/editorparams.html">$editorparams</a> = array('text' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The text for this feedback.'),
<a name="l515"><span class="linenum"> 515</span></a>                                'format' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The format for this feedback'));
<a name="l516"><span class="linenum"> 516</span></a>          <a class="var it26800" onMouseOver="hilite(26800)" onMouseOut="lolite()" onClick="logVariable('editorstructure')" href="../../../../_variables/editorstructure.html">$editorstructure</a> = <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(<a class="var it6171" onMouseOver="hilite(6171)" onMouseOut="lolite()" onClick="logVariable('editorparams')" href="../../../../_variables/editorparams.html">$editorparams</a>, 'Editor structure', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>);
<a name="l517"><span class="linenum"> 517</span></a>          return array('assignfeedbackcomments_editor' =&gt; <a class="var it26800" onMouseOver="hilite(26800)" onMouseOut="lolite()" onClick="logVariable('editorstructure')" href="../../../../_variables/editorstructure.html">$editorstructure</a>);
<a name="l518"><span class="linenum"> 518</span></a>      }
<a name="l519"><span class="linenum"> 519</span></a>  
<a name="l520"><span class="linenum"> 520</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pdo_moodle_database.php',461],['lib/dml','oci_native_moodle_database.php',1404],['lib/dml','pgsql_native_moodle_database.php',1089],['lib/dml','mssql_native_moodle_database.php',1067],['lib/dml','mysqli_native_moodle_database.php',1405],['lib/dml','sqlsrv_native_moodle_database.php',1148],['lib/dml/tests','dml_test.php',5551]], 650],
'set_config': ['set_config', 'Set a key in global configuration ', [['lib','moodlelib.php',1336],['lib','enrollib.php',1153],['lib/editor/tinymce/classes','plugin.php',84],['mod/assign','assignmentplugin.php',314],['lib/portfolio','plugin.php',515]], 1119],
'get_editor_fields': ['get_editor_fields', 'Return a list of the text fields that can be imported/exported by this plugin. ', [['mod/assign/feedback/comments','locallib.php',136],['mod/assign','assignmentplugin.php',422],['mod/assign/submission/onlinetext','locallib.php',288]], 5],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','sqlite3_pdo_moodle_database.php',345],['lib/dml','moodle_database.php',1864]], 773],
'convert_submission_text_to_feedback': ['convert_submission_text_to_feedback', 'Convert the text from any submission plugin that has an editor field to a format suitable for inserting in the feedback text field. ', [['mod/assign/feedback/comments','locallib.php',251]], 1],
'is_enabled': ['is_enabled', 'Tools cannot be disabled. ', [['lib/classes/plugininfo','tool.php',39],['admin/tool/recyclebin/classes','category_bin.php',54],['admin/tool/log/classes/plugininfo','logstore.php',35],['admin/tool/recyclebin/classes','course_bin.php',54],['mod/assign/feedback/offline','locallib.php',380],['admin/tool/recyclebin/classes','base_bin.php',38],['lib','adminlib.php',1955],['search/classes','base.php',190],['lib','medialib.php',318],['lib','medialib.php',635],['lib','medialib.php',1268],['admin/tool/health','index.php',393],['lib/classes/plugininfo','mnetservice.php',33],['lib/classes/message/inbound','manager.php',37],['mod/assignment/classes/plugininfo','assignment.php',32],['competency/classes','api.php',49],['mod/assign','assignmentplugin.php',223],['lib/classes/plugininfo','orphaned.php',37],['search/tests/fixtures','mock_search_area.php',38],['tag/classes','area.php',106],['lib/classes/plugininfo','base.php',383],['mod/assign/feedback/editpdf','locallib.php',340],['tag/classes','tag.php',1269],['mod/assign/submission/comments','locallib.php',172],['lib','completionlib.php',269]], 276],
'upgrade': ['upgrade', 'Upgrade the submission from the old assignment to the new one ', [['mod/assign/submission/file','locallib.php',406],['mod/assign/feedback/comments','locallib.php',418],['mod/assign','assignmentplugin.php',494],['mod/assign/submission/onlinetext','locallib.php',484],['mod/assign/feedback/file','locallib.php',380],['mod/assign/submission/comments','locallib.php',123]], 6],
'get_feedback_comments': ['get_feedback_comments', 'Get the feedback comment from the database. ', [['mod/assign/feedback/comments','locallib.php',44]], 12],
'upgrade_settings': ['upgrade_settings', 'Upgrade the settings from the old assignment to the new plugin based one ', [['mod/assign/submission/file','locallib.php',367],['mod/assign/feedback/comments','locallib.php',402],['mod/assign','assignmentplugin.php',480],['mod/assign/submission/onlinetext','locallib.php',471],['mod/assign/feedback/file','locallib.php',367],['mod/assign/submission/comments','locallib.php',105]], 2],
'delete_instance': ['delete_instance', 'Delete all data related to a given workshop module instance ', [['mod/workshop/eval','lib.php',59],['mod/workshop/allocation/scheduled','lib.php',200],['mod/workshop/eval/best','lib.php',125],['mod/workshop/form','lib.php',118],['lib','enrollib.php',1849],['mod/workshop/allocation/random','lib.php',243],['mod/assign/submission/file','locallib.php',447],['mod/workshop/form/rubric','lib.php',405],['mod/assign/feedback/comments','locallib.php',485],['mod/workshop/form/comments','lib.php',360],['mod/workshop/allocation/manual','lib.php',349],['lib','accesslib.php',6111],['mod/assign','assignmentplugin.php',525],['mod/workshop/allocation','lib.php',62],['mod/assign','locallib.php',715],['mod/workshop/form/accumulative','lib.php',375],['mod/workshop/form/numerrors','lib.php',394],['mod/assign/submission/onlinetext','locallib.php',550],['mod/assign/feedback/file','locallib.php',320],['mod/assign/feedback/editpdf','locallib.php',324],['tag/classes','tag.php',473],['enrol/lti','lib.php',145]], 37],
'shorten_text': ['shorten_text', 'Given some text (which may contain HTML) and an ideal length, this function truncates the text neatly on a word boundary if possible ', [['lib','moodlelib.php',7822]], 87],
'view_summary': ['view_summary', 'Display the list of files  in the submission status table ', [['mod/assign/submission/file','locallib.php',312],['mod/assign/feedback/comments','locallib.php',347],['mod/assign','assignmentplugin.php',386],['mod/assign/submission/onlinetext','locallib.php',334],['mod/assign/feedback/file','locallib.php',285],['mod/assign/feedback/editpdf','locallib.php',275],['mod/assign/submission/comments','locallib.php',47]], 3],
'save': ['save', 'Save PHPExcel to file ', [['lib/phpexcel/PHPExcel/Writer','CSV.php',89],['lib/phpexcel/PHPExcel/Writer/PDF','DomPDF.php',48],['question/engine','datalib.php',1531],['lib/adodb','adodb-active-record.inc.php',834],['backup/cc/cc_lib','xmlbase.php',168],['lib/phpexcel/PHPExcel/Writer','HTML.php',139],['availability/condition/grouping/classes','condition.php',71],['availability/tests/fixtures','mock_condition.php',67],['lib/phpexcel/PHPExcel/Writer/PDF','tcPDF.php',49],['lib/simplepie/library/SimplePie/Cache','File.php',97],['availability/condition/group/classes','condition.php',60],['completion','completion_aggregation.php',106],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',111],['lib','badgeslib.php',208],['lib/portfolio','exporter.php',638],['mod/assign/submission/file','locallib.php',189],['mod/assign/feedback/comments','locallib.php',323],['lib/phpexcel/PHPExcel/Writer','PDF.php',82],['lib/adodb','adodb-active-recordx.inc.php',943],['lib/simplepie/library/SimplePie/Cache','Base.php',79],['lib/simplepie/library/SimplePie/Cache','MySQL.php',147],['lib/phpexcel/PHPExcel/Writer/PDF','mPDF.php',48],['lib/phpexcel/PHPExcel/Writer','IWriter.php',30],['badges/criteria','award_criteria_overall.php',171],['lib/phpexcel/PHPExcel/Writer','Excel2007.php',175],['availability/classes','tree.php',618],['mod/assign','assignmentplugin.php',190],['availability/condition/completion/classes','condition.php',72],['availability/condition/date/classes','condition.php',75],['lib/lessphp','Parser.php',654],['lib/simplepie/library/SimplePie/Cache','Memcache.php',108],['lib/phpexcel/PHPExcel/Shared/OLE/PPS','Root.php',50],['availability/condition/profile/classes','condition.php',127],['lib/xhprof/xhprof_html/jquery','jquery.tooltip.js',137],['mod/assign/submission/onlinetext','locallib.php',182],['mod/assign/feedback/file','locallib.php',257],['mod/assign/feedback/editpdf','locallib.php',252],['lib/phpexcel/PHPExcel/Writer','OpenDocument.php',83],['availability/condition/grade/classes','condition.php',77],['badges/criteria','award_criteria.php',354],['lib/portfolio','plugin.php',670],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',476],['lib/htmlpurifier/HTMLPurifier/Lexer','PH5P.php',4783],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',270]], 212],
'tag': ['tag', 'Outputs a tag with attributes and contents ', [['lib','outputcomponents.php',1073]], 1292],
'set_editor_text': ['set_editor_text', 'Get the saved text content from the editor. ', [['mod/assign/feedback/comments','locallib.php',163],['mod/assign','assignmentplugin.php',398]], 1],
'setdefault': ['setdefault', 'Set the field default ', [['lib/xmldb','xmldb_field.php',246],['lib','formslib.php',1896],['lib/google/src/Google/Service','YouTube.php',9537],['lib/google/src/Google/Service','YouTube.php',11044],['lib/google/src/Google/Service','Dfareporting.php',15827]], 718],
'save_settings': ['save_settings', 'Save any submitted settings when the quiz settings form is submitted. This is called from {@link quiz_after_add_or_update()} in lib.php. ', [['mod/quiz/accessrule','accessrulebase.php',281],['mod/assign/submission/file','locallib.php',110],['mod/quiz','accessmanager.php',144],['mod/assign/feedback/comments','locallib.php',219],['mod/assign','assignmentplugin.php',110],['mod/assign/submission/onlinetext','locallib.php',103]], 3],
'get_context': ['get_context', 'Return the course context for new modules, or the module context for existing modules. ', [['course','moodleform_mod.php',148],['availability/classes','info_module.php',72],['availability/classes','info_section.php',55],['competency/classes','user_competency_plan.php',83],['availability/tests/fixtures','mock_info.php',59],['mod/feedback/classes','responses_table.php',146],['competency/classes','competency.php',730],['competency/classes','plan.php',258],['mod/quiz','attemptlib.php',220],['competency/classes','user_competency.php',216],['grade/grading','lib.php',107],['lib','modinfolib.php',1486],['lib','badgeslib.php',157],['competency/classes/external','exporter.php',172],['comment','lib.php',994],['grade/grading/form','lib.php',102],['mod/assign','locallib.php',1307],['competency/classes','user_evidence.php',90],['competency/classes','user_competency_course.php',80],['lib/classes/event','base.php',627],['enrol','locallib.php',921],['lib','coursecatlib.php',2369],['lib','coursecatlib.php',3065],['competency/classes','course_competency_settings.php',133],['lib/tests/behat','behat_data_generators.php',769],['competency/classes','competency_framework.php',70],['competency/classes','template.php',139]], 1033],
'is_quickgrading_modified': ['is_quickgrading_modified', 'Has the plugin quickgrading form element been modified in the current form submission? ', [['mod/assign/feedback/comments','locallib.php',82],['mod/assign','feedbackplugin.php',104]], 1],
'can_upgrade': ['can_upgrade', 'Return true if this plugin can upgrade an old Moodle 2.2 assignment of this type and version. ', [['mod/assign/submission/file','locallib.php',347],['mod/assign/feedback/comments','locallib.php',385],['mod/assign','assignmentplugin.php',468],['mod/assign','locallib.php',7566],['mod/assign/submission/onlinetext','locallib.php',456],['mod/assign/feedback/file','locallib.php',352],['mod/assign/submission/comments','locallib.php',88]], 7],
'text_for_gradebook': ['text_for_gradebook', 'If this plugin adds to the gradebook comments field, it must format the text of the comment ', [['mod/assign/feedback/comments','locallib.php',467],['mod/assign','feedbackplugin.php',68]], 5],
'disabledif': ['disabledif', 'Adds a dependency for $elementName which will be disabled if $condition is met. If $condition = \'notchecked\' (default) then the condition is that the $dependentOn element is not checked. If $condition = \'checked\' then the condition is that the $dependentOn element is checked. If $condition is something else (like "eq" for equals) then it is checked to see if the value of the $dependentOn element is $condition (such as equal) to $value. ', [['lib','formslib.php',2429]], 343],
'get_editor_format': ['get_editor_format', 'Given a field name, should return the format of an editor field that is part of this plugin. This is used when exporting to portfolio. ', [['mod/assign','assignmentplugin.php',456],['mod/assign/submission/onlinetext','locallib.php',315]], 5],
'get_instance': ['get_instance', 'Get the DB record for the current instance. ', [['course','moodleform_mod.php',116],['question/engine','bank.php',464],['backup/util/output','output_controller.class.php',53],['repository','lib.php',1137],['backup/util/helper','restore_logs_processor.class.php',69],['grade/grading/form','lib.php',474],['mnet/service/enrol','locallib.php',57],['mod/assign','locallib.php',1224],['lib','externallib.php',1000],['blog','locallib.php',857]], 420],
'get_quickgrading_html': ['get_quickgrading_html', 'Get quickgrading form elements as html. ', [['mod/assign/feedback/comments','locallib.php',56],['mod/assign','feedbackplugin.php',91]], 1],
'is_empty': ['is_empty', '', [['mod/wiki/diff','difflib.php',364],['mod/feedback/classes','structure.php',132],['user/profile','lib.php',346],['mod/assign/feedback/offline','locallib.php',62],['mod/assign/submission/file','locallib.php',474],['user/profile/field/datetime','field.class.php',117],['mod/assign/feedback/comments','locallib.php',498],['blocks','moodleblock.class.php',181],['blocks','moodleblock.class.php',699],['availability/classes','tree.php',636],['mod/assign','assignmentplugin.php',540],['mod/assign/submission/onlinetext','locallib.php',563],['mod/assign/feedback/file','locallib.php',334],['mod/assign/feedback/editpdf','locallib.php',311],['mod/assign/submission/comments','locallib.php',78]], 20],
'addhelpbutton': ['addhelpbutton', 'Add a help button to element, only one button per element is allowed. ', [['lib','formslib.php',1909]], 670],
'get_config': ['get_config', 'Config get method. ', [['lib/classes/antivirus','scanner.php',54],['competency/classes','competency_rule.php',59],['question/engine','bank.php',109],['admin/tool/log/classes/helper','store.php',63],['lib','moodlelib.php',1409],['lib','enrollib.php',1142],['lib/editor/tinymce/classes','plugin.php',73],['competency/classes','competency_rule_points.php',43],['search/classes','base.php',169],['mod/assign','assignmentplugin.php',345],['lib/portfolio','plugin.php',546]], 934],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'is_feedback_modified': ['is_feedback_modified', 'This plugin does not save through the normal interface so this returns false. ', [['mod/assign/feedback/offline','locallib.php',70],['mod/assign/feedback/comments','locallib.php',103],['mod/assign','feedbackplugin.php',115],['mod/assign/feedback/file','locallib.php',80],['mod/assign/feedback/editpdf','locallib.php',183]], 17],
'get_form_elements_for_user': ['get_form_elements_for_user', 'Get form elements for the grading page ', [['mod/assign/feedback/comments','locallib.php',291],['mod/assign','assignmentplugin.php',236],['mod/assign/feedback/file','locallib.php',188],['mod/assign/feedback/editpdf','locallib.php',154]], 2],
'get_settings': ['get_settings', 'Get the default setting for file submission plugin ', [['mod/assign/submission/file','locallib.php',63],['mod/assign/feedback/comments','locallib.php',230],['mod/assign','assignmentplugin.php',90],['backup/util/plan','base_plan.class.php',107],['mod/assign/submission/onlinetext','locallib.php',61],['backup/util/plan','base_step.class.php',77],['backup/util/plan','base_task.class.php',66]], 30],
'view': ['view', 'No full submission view - the summary contains the list of files and that is the whole submission ', [['mod/assign/submission/file','locallib.php',333],['lib/yuilib/3.17.2/view','view.js',42],['mod/assign/feedback/comments','locallib.php',369],['lib/yuilib/3.17.2/view','view-debug.js',42],['mod/assign','assignmentplugin.php',265],['mod/assign','locallib.php',409],['mod/assign/submission/onlinetext','locallib.php',419],['mod/assign/feedback/file','locallib.php',308],['mod/assign/feedback/editpdf','locallib.php',287]], 23],
'strip_pluginfile_content': ['strip_pluginfile_content', 'Removes the usage of Moodle files from a text. ', [['lib','weblib.php',1560]], 3],
'get_name': ['get_name', 'Return localised event name. ', [['lib/classes/event','competency_plan_unlinked.php',72],['admin/tool/langimport/classes/task','update_langpacks_task.php',35],['lib/simplepie/library/SimplePie','Author.php',106],['portfolio/download','lib.php',10],['backup/util/structure','restore_path_element.class.php',98],['lib/classes/message/inbound','private_files_handler.php',56],['lib/classes/event','grouping_group_assigned.php',48],['calendar/tests','calendartype_test_example.php',32],['lib/classes/event','enrol_instance_deleted.php',70],['report/log/classes/event','user_report_viewed.php',54],['lib/classes/task','blog_cron_task.php',31],['mod/quiz/classes/event','attempt_reviewed.php',53],['lib/classes/event','tag_unflagged.php',55],['lib/classes/task','send_new_user_passwords_task.php',31],['lib/classes/event','role_unassigned.php',53],['mod/assign/classes/event','grading_form_viewed.php',82],['question/classes/bank','edit_action_column.php',35],['admin/tool/log/store/standard/classes/task','cleanup_task.php',31],['mod/workshop/classes/event','submission_deleted.php',63],['mod/forum/classes/event','discussion_updated.php',65],['lib/classes/event','course_module_instance_list_viewed.php',75],['lib/classes/event','course_created.php',55],['lib/dml','pdo_moodle_database.php',113],['mod/assign/classes/event','extension_granted.php',77],['lib/classes/task','tag_cron_task.php',33],['enrol/imsenterprise/classes/task','cron_task.php',34],['lib/classes/event','course_deleted.php',56],['lib/classes/task','completion_daily_task.php',33],['mod/forum/classes/event','readtracking_enabled.php',64],['mod/wiki/classes/event','page_created.php',48],['lib/dml','oci_native_moodle_database.php',94],['lib/classes/event','competency_viewed.php',70],['mod/choice/classes/event','answer_updated.php',72],['lib/classes/event','search_indexed.php',47],['lib/classes/event','badge_criteria_updated.php',53],['question/classes/bank','question_type_column.php',26],['mod/wiki/classes/event','page_version_deleted.php',54],['lib/grade','grade_item.php',1384],['lib/classes/event','competency_user_competency_rated_in_plan.php',88],['lib/classes/event','webservice_token_sent.php',56],['mod/glossary/classes/event','entry_deleted.php',54],['admin/tool/messageinbound/classes/message/inbound','invalid_recipient_handler.php',60],['lib/classes/event','competency_template_viewed.php',63],['lib/classes/task','context_cleanup_task.php',32],['mod/assign/tests/fixtures','event_mod_assign_fixtures.php',62],['admin/tool/langimport/classes/event','langpack_removed.php',89],['mod/glossary/classes/event','category_deleted.php',46],['mod/forum/classes/message/inbound','reply_handler.php',51],['competency/classes','competency_rule.php',84],['mod/lti/classes/event','unknown_service_api_called.php',82],['lib/classes/event','badge_deleted.php',49],['mod/quiz/classes/event','user_override_updated.php',54],['lib/classes/event','message_contact_added.php',48],['lib/classes/event','cohort_member_added.php',49],['backup/util/ui','restore_ui.class.php',351],['lib/classes/event','blog_entry_updated.php',74],['mod/assign/classes/event','workflow_state_updated.php',88],['mod/forum/classes/event','assessable_uploaded.php',86],['mod/assign/classes/event','submission_created.php',57],['lib/classes/event','group_deleted.php',65],['lib/classes/event','role_allow_assign_updated.php',47],['mod/lesson/classes/event','highscore_added.php',59],['mod/forum/classes/event','discussion_pinned.php',55],['lib/classes/event','webservice_function_called.php',67],['lib/classes/event','competency_plan_reopened.php',75],['mod/lesson/classes/event','essay_attempt_viewed.php',48],['mod/wiki/classes/event','page_locks_deleted.php',54],['lib/classes/event','webservice_service_deleted.php',59],['mod/forum/classes/event','discussion_subscription_created.php',66],['admin/tool/log/store/database/tests/fixtures','event.php',31],['mod/workshop/classes/event','assessable_uploaded.php',93],['lib','csslib.php',2155],['lib','csslib.php',2283],['lib/classes/event','user_loggedout.php',54],['lib/classes/event','webservice_token_created.php',65],['lib/classes/event','tag_collection_updated.php',65],['competency/classes','competency_rule_all.php',84],['backup/util/settings','base_setting.class.php',145],['mod/data/classes/event','field_deleted.php',57],['mod/book/classes/event','chapter_created.php',79],['lib/classes/event','email_failed.php',56],['lib/classes/task','stats_cron_task.php',31],['mod/survey/classes/event','report_downloaded.php',55],['mod/workshop/classes/event','phase_switched.php',75],['lib/grade','grade_category.php',2300],['lib/grade','grade_scale.php',156],['lib/classes/event','course_reset_started.php',53],['mod/workshop/classes/event','assessment_evaluated.php',66],['lib/classes/event','blog_association_created.php',56],['backup/converter','convertlib.php',109],['report/outline/classes/event','activity_report_viewed.php',48],['lib/classes/task','legacy_plugin_cron_task.php',33],['lib/classes/event','competency_plan_updated.php',75],['mod/choice/classes/event','answer_submitted.php',72],['mod/lesson/classes/event','lesson_ended.php',49],['lib/classes/event','role_allow_switch_updated.php',47],['lib/classes/task','portfolio_cron_task.php',31],['lib/classes/event','competency_user_competency_rated_in_course.php',88],['question/classes/bank','question_text_row.php',35],['lib/classes/event','tag_created.php',75],['report/participation/classes/event','report_viewed.php',58],['lib/classes/event','role_capabilities_updated.php',51],['mod/survey/classes/event','response_submitted.php',53],['lib/classes/event','badge_archived.php',47],['mod/workshop/classes/event','assessment_reevaluated.php',76],['mod/assign/classes/event','submission_locked.php',78],['report/outline/classes/event','report_viewed.php',54],['lib/classes/event','user_deleted.php',57],['lib/classes/event','mnet_access_control_updated.php',57],['mod/lesson/classes/event','essay_assessed.php',78],['mod/book/tool/print/classes/event','book_printed.php',76],['lib/classes/event','grouping_deleted.php',72],['admin/tool/monitor/classes','rule.php',239],['lib/classes/event','course_viewed.php',75],['mod/forum/classes/event','user_report_viewed.php',65],['user/selector','lib.php',309],['mod/quiz/classes/event','attempt_summary_viewed.php',56],['lib/classes/event','webservice_service_user_added.php',59],['mod/forum/classes/event','discussion_unpinned.php',55],['lib/classes/event','grouping_group_unassigned.php',48],['lib/grade','grade_outcome.php',272],['mod/chat/classes/event','message_sent.php',59],['lib/classes/event','role_assigned.php',56],['mod/quiz/classes/question/bank','question_name_text_column.php',37],['question/classes/bank','modifier_name_column.php',27],['mod/glossary/classes/event','entry_viewed.php',48],['mod/data/classes/event','record_created.php',56],['lib/classes/event','course_category_deleted.php',59],['lib/dml','mariadb_native_moodle_database.php',41],['lib/classes/event','role_deleted.php',55],['lib/classes/task','question_cron_task.php',31],['portfolio/flickr','lib.php',41],['lib/classes/task','cache_cron_task.php',31],['mod/wiki/classes/event','page_version_viewed.php',54],['admin/tool/recyclebin/classes/event','category_bin_item_deleted.php',47],['admin/tool/log/store/standard/tests/fixtures','event.php',31],['mod/scorm/classes/event','status_submitted.php',46],['admin/tool/monitor/classes/event','rule_created.php',50],['admin/tool/log/store/legacy/classes/task','cleanup_task.php',31],['question/classes/bank','checkbox_column.php',32],['lib/classes/event','competency_user_competency_plan_viewed.php',81],['mod/assign/feedback/offline','locallib.php',42],['admin/tool/messageinbound/classes/task','cleanup_task.php',38],['mod/workshop/classes/event','submission_updated.php',63],['lib/editor/atto/classes/task','autosave_cleanup_task.php',33],['mod/choice/classes/event','report_viewed.php',53],['mod/lesson/classes/event','group_override_deleted.php',54],['mod/wiki/classes/event','page_map_viewed.php',54],['admin/tool/log/store/legacy/tests/fixtures','event.php',31],['mod/lesson/classes/event','question_answered.php',54],['mod/choice/classes/event','report_downloaded.php',54],['admin/tool/recyclebin/classes/task','cleanup_category_bin.php',36],['backup/util/ui','backup_ui_setting.class.php',86],['lib/classes/event','competency_user_evidence_created.php',64],['lib/classes/event','course_module_completion_updated.php',54],['repository/coursefiles','lib.php',183],['lib/classes/event','note_updated.php',56],['lib/classes/event','note_created.php',56],['lib/classes/event','competency_framework_created.php',63],['lib/classes/event','course_resources_list_viewed.php',60],['lib/classes/event','tag_updated.php',58],['mod/forum/classes/event','subscribers_viewed.php',65],['mod/book/tool/exportimscp/classes/event','book_exported.php',76],['mod/quiz/classes/question/bank','add_action_column.php',45],['lib/classes/task','completion_regular_task.php',33],['lib/classes/event','user_enrolment_deleted.php',54],['grade/report/grader/classes/event','grade_report_viewed.php',39],['lib','enrollib.php',1076],['admin/tool/recyclebin/classes/event','course_bin_item_restored.php',47],['lib/classes/event','webservice_service_updated.php',59],['lib/editor/tinymce/classes','plugin.php',101],['mod/lesson/classes/event','group_override_created.php',55],['mod/scorm/classes/event','attempt_deleted.php',62],['lib/classes/event','competency_user_competency_review_request_cancelled.php',72],['lib/classes/event','webservice_service_created.php',65],['lib/classes/task','events_cron_task.php',31],['mod/wiki/classes/event','page_version_restored.php',54],['mod/forum/classes/event','discussion_deleted.php',66],['lib/classes/event','competency_framework_updated.php',73],['mod/lesson/classes/event','lesson_restarted.php',48],['mod/wiki/classes/event','page_updated.php',54],['mod/assign/classes/event','marker_updated.php',89],['lib','modinfolib.php',1270],['mod/assign/feedback/editpdf/classes/task','convert_submissions.php',38],['lib/classes/event','course_module_updated.php',57],['repository','lib.php',1834],['auth/cas/classes/task','sync_task.php',34],['lib/classes/event','competency_template_deleted.php',73],['mod/assign/classes/event','submission_confirmation_form_viewed.php',79],['lib/bennu','iCalendar_components.php',37],['report/questioninstances/classes/event','report_viewed.php',55],['admin/tool/recyclebin/classes/task','cleanup_course_bin.php',36],['lib/classes/event','message_contact_blocked.php',48],['lib/classes/event','competency_template_updated.php',75],['question/behaviour','behaviourbase.php',83],['grade/report/history/classes/event','grade_report_viewed.php',39],['lib/classes/event','badge_disabled.php',47],['mod/assign/classes/event','grading_table_viewed.php',79],['lib/classes/event','badge_enabled.php',47],['mod/lti','OAuth.php',122],['mod/lti','OAuth.php',149],['mod/lti','OAuth.php',173],['calendar/type/gregorian/classes','structure.php',29],['mod/quiz/classes/event','edit_page_viewed.php',53],['lib/simplepie/library/SimplePie','Credit.php',139],['mod/scorm/classes/event','tracks_viewed.php',64],['mod/wiki/classes/event','page_diff_viewed.php',55],['message/tests/fixtures','inbound_fixtures.php',41],['lib/classes/event','grouping_created.php',65],['lib/classes/event','calendar_event_deleted.php',58],['enrol/flatfile/classes/task','flatfile_sync_task.php',37],['lib/classes/event','group_updated.php',65],['lib/classes/task','registration_cron_task.php',31],['mod/book/classes/event','chapter_updated.php',79],['lib/classes/event','grade_deleted.php',94],['admin/tool/recyclebin/classes/event','course_bin_item_created.php',47],['lib/classes/event','user_loggedin.php',64],['lib/classes/task','check_for_updates_task.php',31],['grade/report/singleview/classes/local/ui','grade_attribute_format.php',56],['mod/assign/submission/file','locallib.php',44],['mod/forum/classes/task','cron_task.php',30],['mod/forum/classes/event','subscription_created.php',65],['lib/classes/event','tag_collection_created.php',65],['grade/report/overview/classes/event','grade_report_viewed.php',48],['mod/assign/classes/event','batch_set_marker_allocation_viewed.php',79],['mod/quiz/classes/event','group_override_updated.php',54],['lib/classes/event','competency_plan_created.php',63],['mod/glossary/classes/event','entry_disapproved.php',46],['lib/classes/task','send_failed_login_notifications_task.php',34],['enrol/lti/classes/task','sync_grades.php',36],['lib/classes/event','message_viewed.php',54],['portfolio/boxnet','lib.php',14],['lib/classes/event','comment_created.php',58],['question/classes/bank','preview_action_column.php',26],['lib/classes/event','course_content_deleted.php',54],['lib/dml','pgsql_native_moodle_database.php',87],['mod/feedback/classes/event','response_deleted.php',83],['lib/classes/event','competency_evidence_created.php',98],['lib/classes/event','comment_deleted.php',58],['lib/classes/event','competency_user_competency_review_requested.php',72],['mod/quiz/classes/event','attempt_abandoned.php',63],['mod/scorm/classes/event','user_report_viewed.php',62],['lib/dml','mssql_native_moodle_database.php',88],['mod/quiz/classes/event','attempt_becameoverdue.php',66],['mod/quiz/classes/event','group_override_created.php',55],['lib/dml','mysqli_native_moodle_database.php',352],['backup/util/ui','backup_ui.class.php',194],['mod/book/tool/print/classes/event','chapter_printed.php',79],['mod/data/classes/event','record_deleted.php',56],['competency/classes','competency_rule_points.php',185],['lib/classes/event','competency_user_competency_viewed.php',81],['lib/classes/event','dashboard_viewed.php',59],['mod/lesson/classes/event','question_viewed.php',54],['lib/classes/event','user_profile_viewed.php',56],['lib','medialib.php',345],['admin/tool/monitor/classes/task','clean_events.php',32],['mod/lesson/classes/event','user_override_deleted.php',53],['lib/classes/event','cohort_member_removed.php',50],['mod/lesson/classes/event','lesson_started.php',48],['mod/lesson/classes/event','page_updated.php',73],['mod/workshop/classes/event','submission_viewed.php',63],['question/classes/bank','question_name_column.php',28],['lib/classes/event','competency_deleted.php',87],['admin/tool/monitor/classes','subscription.php',132],['lib/classes/task','grade_cron_task.php',31],['mod/glossary/classes/event','entry_created.php',52],['lib/classes/task','file_temp_cleanup_task.php',31],['lib/classes/event','dashboard_reset.php',60],['backup/util/structure','base_atom.class.php',71],['portfolio/googledocs','lib.php',54],['mod/assign/feedback/comments','locallib.php',36],['mod/wiki/classes/event','page_history_viewed.php',48],['lib/classes/event','competency_plan_review_request_cancelled.php',75],['lib/classes/event','competency_plan_deleted.php',73],['mod/quiz/classes/event','attempt_viewed.php',54],['mod/data/classes/event','field_updated.php',57],['lib/classes/event','grouping_updated.php',65],['cache/classes','definition.php',621],['lib/classes/task','plagiarism_cron_task.php',31],['backup/converter/moodle1','lib.php',1033],['lib/classes/event','question_category_created.php',48],['grade/report/user/classes/event','grade_report_viewed.php',48],['lib/classes/event','user_login_failed.php',56],['mod/scorm/classes/event','report_viewed.php',63],['mod/chat/classes/event','sessions_viewed.php',65],['admin/tool/recyclebin/classes/event','course_bin_item_deleted.php',47],['mod/quiz/classes/event','user_override_deleted.php',53],['portfolio/mahara','lib.php',61],['mod/quiz/classes/event','attempt_submitted.php',63],['grade/report/outcomes/classes/event','grade_report_viewed.php',39],['mod/lesson/classes/event','group_override_updated.php',54],['mod/workshop/classes/event','submission_created.php',63],['mod/assign/classes/event','submission_updated.php',57],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',83],['lib/classes/event','competency_updated.php',70],['lib/classes/event','note_deleted.php',56],['mod/lesson/classes/event','page_moved.php',56],['lib/classes/event','course_completed.php',73],['lib/classes/event','tag_added.php',58],['lib/classes/event','competency_created.php',70],['mod/lesson/classes/event','highscores_viewed.php',51],['lib/classes/event','message_contact_unblocked.php',48],['lib/classes/event','user_enrolment_created.php',53],['lib/classes/task','search_index_task.php',35],['lib/classes/event','course_module_created.php',86],['lib/classes/event','webservice_service_user_removed.php',59],['report/log/classes/event','report_viewed.php',58],['mod/assign/submission/file/classes/event','assessable_uploaded.php',85],['lib/classes/event','group_member_added.php',78],['mod/forum/classes/event','discussion_viewed.php',60],['mod/assign/classes/event','submission_viewed.php',76],['mod/lti/classes/local/ltiservice','service_base.php',87],['enrol/lti/classes/task','sync_members.php',46],['mod/workshop/classes/event','submission_reassessed.php',77],['lib/classes/task','session_cleanup_task.php',31],['lib/tests','messageinbound_test.php',166],['lib/classes/task','backup_cleanup_task.php',31],['mod/workshop/classes/event','assessment_evaluations_reset.php',75],['mod/scorm/classes/event','scoreraw_submitted.php',46],['mod/assign/classes/event','statement_accepted.php',77],['mod/assign/classes/event','feedback_viewed.php',76],['lib/classes/task','delete_unconfirmed_users_task.php',31],['mod/forum/classes/event','discussion_moved.php',66],['lib/classes/event','competency_user_evidence_deleted.php',64],['mod/assign/classes/event','batch_set_workflow_state_viewed.php',79],['mod/lesson/classes/event','lesson_resumed.php',48],['lib/classes/task','badges_cron_task.php',31],['lib/classes/event','comments_viewed.php',51],['mod/data/classes/event','template_viewed.php',55],['mod/wiki/classes/event','page_deleted.php',54],['mod/quiz/classes/event','report_viewed.php',56],['mod/scorm/classes/event','sco_launched.php',64],['mod/glossary/classes/event','entry_updated.php',52],['mod/lesson/classes/event','user_override_created.php',53],['mod/glossary/classes/event','category_updated.php',46],['lib/classes/event','course_updated.php',58],['grade/report/singleview/classes/event','grade_report_viewed.php',39],['mod/feedback/classes/event','response_submitted.php',83],['lib/classes/event','blog_entry_deleted.php',53],['mod/book/classes/event','chapter_deleted.php',79],['report/completion/classes/event','report_viewed.php',49],['lib/classes/event','recent_activity_viewed.php',49],['mod/quiz/classes/event','question_manually_graded.php',55],['mod/assign/classes/event','submission_status_updated.php',79],['lib/classes/event','user_enrolment_updated.php',53],['lib/classes/event','tag_deleted.php',55],['report/completion/classes/event','user_report_viewed.php',49],['report/stats/classes/event','report_viewed.php',56],['lib/classes/event','calendar_event_created.php',58],['mod/assign/classes/event','submission_duplicated.php',77],['lib/classes/event','competency_framework_deleted.php',73],['lib/classes/event','course_section_updated.php',56],['lib/classes/event','message_sent.php',82],['lib/classes/event','calendar_subscription_deleted.php',56],['lib/classes/event','course_category_updated.php',51],['lib/classes/event','user_password_updated.php',70],['enrol/lti/ims-blti','OAuth.php',65],['enrol/lti/ims-blti','OAuth.php',92],['enrol/lti/ims-blti','OAuth.php',116],['mod/forum/classes/event','subscription_deleted.php',65],['mod/assign/classes/event','reveal_identities_confirmation_page_viewed.php',79],['lib/classes/event','user_loggedinas.php',57],['lib/classes/event','competency_template_created.php',63],['lib/classes/event','user_created.php',48],['admin/tool/recyclebin/classes/event','category_bin_item_restored.php',47],['report/loglive/classes/event','report_viewed.php',48],['admin/tool/monitor/classes/event','subscription_created.php',50],['mod/book/classes/event','chapter_viewed.php',79],['lib/classes/event','badge_awarded.php',54],['lib/classes/event','calendar_subscription_created.php',57],['lib/classes/event','enrol_instance_created.php',69],['lib/classes/event','user_list_viewed.php',56],['lib/classes/task','calendar_cron_task.php',31],['mod/forum/classes/event','post_deleted.php',67],['mod/quiz/classes/event','group_override_deleted.php',54],['lib/classes/event','badge_created.php',47],['backup/util/plan','base_plan.class.php',50],['lib/classes/event','base.php',292],['lib/classes/event','competency_framework_viewed.php',69],['lib/classes/event','tag_collection_deleted.php',65],['lib/classes/event','group_member_removed.php',69],['lib/classes/event','grade_report_viewed.php',54],['lib/classes/event','calendar_event_updated.php',58],['mod/assign/submission/onlinetext','locallib.php',40],['lib/classes/event','user_updated.php',48],['mod/lesson/classes/event','page_created.php',54],['backup/util/ui','base_ui_stage.class.php',110],['mod/assign/classes/event','submission_form_viewed.php',82],['auth/ldap/classes/task','sync_task.php',34],['lib/classes/event','course_completion_updated.php',47],['lib/classes/event','competency_plan_review_started.php',75],['lib/classes/event','course_user_report_viewed.php',66],['mod/folder/classes/event','all_files_downloaded.php',60],['mod/workshop/classes/event','assessments_reset.php',74],['lib/tests/fixtures','task_fixtures.php',35],['lib/tests/fixtures','task_fixtures.php',44],['lib/tests/fixtures','task_fixtures.php',53],['mod/data/classes/event','template_updated.php',56],['mod/assign/classes/event','identities_revealed.php',75],['question/classes/bank','copy_action_column.php',35],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',35],['lib/classes/event','notes_viewed.php',49],['admin/tool/recyclebin/classes/event','category_bin_item_created.php',47],['lib/classes/event','competency_plan_viewed.php',63],['mod/data/classes/event','record_updated.php',56],['mod/assign/feedback/file','locallib.php',45],['lib/classes/event','competency_plan_unapproved.php',75],['mod/lesson/classes/event','content_page_viewed.php',48],['mod/assign/feedback/editpdf','locallib.php',43],['lib/dml','sqlsrv_native_moodle_database.php',108],['admin/tool/monitor/classes/event','subscription_deleted.php',50],['mod/assign/classes/event','assessable_submitted.php',109],['mod/quiz/classes/event','attempt_started.php',62],['lib/classes/task','create_contexts_task.php',31],['lib/classes/task','file_trash_cleanup_task.php',31],['lib/classes/event','competency_user_competency_rated.php',82],['mod/forum/classes/event','post_updated.php',67],['admin/tool/cohortroles/classes/task','cohort_role_sync.php',37],['lib/classes/event','course_module_deleted.php',56],['mod/assign/submission/comments','locallib.php',39],['lib/classes/event','competency_plan_review_requested.php',75],['lib/classes/event','user_graded.php',96],['lib/classes/event','webservice_login_failed.php',71],['mod/forum/classes/event','post_created.php',67],['lib/classes/task','complete_plans_task.php',43],['mod/assign/classes/event','submission_status_viewed.php',81],['lib/classes/event','enrol_instance_updated.php',70],['lib/classes/task','messaging_cleanup_task.php',31],['portfolio/picasa','lib.php',33],['admin/tool/capability/classes/event','report_viewed.php',47],['grade/report/singleview/classes/local/ui','unique_name.php',38],['mod/data/classes/event','field_created.php',58],['mod/folder/classes/event','folder_updated.php',48],['lib/classes/event','badge_updated.php',47],['lib/tests/fixtures','event_fixtures.php',34],['lib/classes/task','cache_cleanup_task.php',31],['mod/survey/classes/event','report_viewed.php',55],['mod/quiz/classes/event','attempt_deleted.php',53],['mod/glossary/classes/event','entry_approved.php',46],['mod/wiki/classes/event','page_viewed.php',57],['lib/classes/log','reader.php',30],['lib/classes/task','password_reset_cleanup_task.php',31],['mod/forum/classes/event','readtracking_disabled.php',64],['admin/tool/langimport/classes/event','langpack_imported.php',80],['lib/classes/event','competency_plan_review_stopped.php',75],['admin/tool/langimport/classes/event','langpack_updated.php',80],['lib/classes/event','unknown_logged.php',43],['lib/classes/event','competency_user_competency_viewed_in_plan.php',85],['lib/classes/event','competency_user_competency_viewed_in_course.php',84],['lib/classes/task','search_optimize_task.php',38],['mod/glossary/classes/event','category_created.php',46],['lib/portfolio','plugin.php',120],['report/stats/classes/event','user_report_viewed.php',48],['lib/classes/event','dashboards_reset.php',59],['lib/classes/event','calendar_subscription_updated.php',57],['lib/classes/event','cohort_updated.php',49],['admin/tool/monitor/classes/event','rule_updated.php',50],['mod/lesson/classes/event','page_deleted.php',54],['lib/classes/event','course_section_deleted.php',57],['lib/classes/task','delete_incomplete_users_task.php',31],['lib/classes/task','automated_backup_task.php',31],['admin/tool/monitor/classes/event','subscription_criteria_met.php',55],['lib/classes/event','mnet_access_control_created.php',57],['admin/tool/messageinbound/classes/task','pickup_task.php',38],['mod/forum/classes/event','discussion_created.php',65],['question/classes/bank','creator_name_column.php',28],['lib/classes/event','blog_entries_viewed.php',62],['lib/classes/task','sync_plans_from_template_cohorts_task.php',41],['mod/quiz/classes/event','attempt_preview_started.php',54],['lib/classes/event','content_viewed.php',80],['lib/classes/event','competency_user_evidence_updated.php',64],['lib/dml/tests','dml_test.php',5530],['mod/assign/classes/event','submission_graded.php',78],['mod/assign/classes/event','all_submissions_downloaded.php',75],['lib/classes/event','course_restored.php',58],['lib/classes/event','group_created.php',65],['lib/classes/event','badge_criteria_deleted.php',52],['lib/classes/event','tag_flagged.php',55],['lib/classes/event','competency_plan_completed.php',75],['mod/lesson/classes/event','user_override_updated.php',54],['lib/classes/event','role_allow_override_updated.php',47],['mod/forum/classes/event','discussion_subscription_deleted.php',66],['lib/classes/event','cohort_deleted.php',49],['lib/classes/event','badge_criteria_created.php',52],['admin/tool/log/classes/helper','reader.php',41],['admin/tool/monitor/classes/task','check_subscriptions.php',50],['lib/classes/event','blog_entry_created.php',76],['mod/scorm/classes/event','interactions_viewed.php',63],['mod/workshop/classes/event','submission_assessed.php',76],['lib/classes/event','badge_duplicated.php',47],['backup/util/plan','base_step.class.php',49],['lib/classes/event','course_category_created.php',48],['lib/classes/event','cohort_created.php',49],['lib/classes/event','tag_removed.php',58],['lib/classes/event','competency_plan_approved.php',75],['mod/choice/classes/event','answer_deleted.php',56],['backup/util/ui','restore_ui_stage.class.php',75],['lib/classes/event','competency_user_competency_review_started.php',72],['lib/classes/event','course_reset_ended.php',53],['mod/quiz/classes/event','user_override_created.php',53],['mod/forum/classes/event','course_searched.php',66],['lib/classes/event','message_contact_removed.php',48],['admin/tool/monitor/classes/event','rule_deleted.php',50],['lib/classes/event','message_deleted.php',91],['mod/assign/classes/event','submission_unlocked.php',78],['lib/classes/event','competency_user_competency_review_stopped.php',72],['lib/classes/event','course_module_viewed.php',62],['backup/util/plan','base_task.class.php',58],['question/classes/bank','delete_action_column.php',36]], 469],
'addelement': ['addelement', 'Adds a custom element to your HTML definition ', [['lib/htmlpurifier/HTMLPurifier','HTMLDefinition.php',124],['lib/htmlpurifier/HTMLPurifier','HTMLModule.php',130],['lib/pear/HTML','QuickForm.php',592]], 3302],
'get_external_parameters': ['get_external_parameters', 'Return a description of external params suitable for uploading a file submission from a webservice. ', [['mod/assign/submission/file','locallib.php',536],['mod/assign/feedback/comments','locallib.php',508],['mod/assign','assignmentplugin.php',651],['mod/assign/submission/onlinetext','locallib.php',628],['mod/assign/feedback/file','locallib.php',676]], 4],
'get_editor_text': ['get_editor_text', 'Get the saved text content from the editor. ', [['mod/assign/feedback/comments','locallib.php',145],['mod/assign','assignmentplugin.php',431],['mod/assign/submission/onlinetext','locallib.php',297]], 10],
'save_quickgrading_changes': ['save_quickgrading_changes', 'Save quickgrading changes. ', [['mod/assign/feedback/comments','locallib.php',192],['mod/assign','feedbackplugin.php',128]], 1],
'optional_param': ['optional_param', 'Returns a particular value for the named variable, taken from POST or GET, otherwise returning a given default. ', [['lib','moodlelib.php',609]], 2210],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'is_visible': ['is_visible', 'Check if the field data is visible to the current user ', [['user/profile','lib.php',322],['repository/coursefiles','lib.php',167],['repository','lib.php',1779],['mod/assign','assignmentplugin.php',287],['backup/cc/cc_lib','cc_converters.php',113]], 63],
'get_user_submission': ['get_user_submission', 'Load the submission object for a particular user, optionally creating it if required. ', [['mod/assign','locallib.php',3001]], 87],
'format_text': ['format_text', 'Formats a text string coming from the search engine. ', [['search/classes','document.php',606],['lib/classes','grading_external.php',182],['search/engine/solr/classes','document.php',129],['lib','weblib.php',1158],['lib','tablelib.php',860],['lib','tablelib.php',1667],['question/type','questionbase.php',345]], 322],
'get_submission_plugins': ['get_submission_plugins', 'Get list of submission plugins installed. ', [['mod/assign','locallib.php',301]], 27],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'supports_quickgrading': ['supports_quickgrading', 'Override to indicate a plugin supports quickgrading. ', [['mod/assign/feedback/comments','locallib.php',127],['mod/assign','feedbackplugin.php',82]], 3],
'format_for_gradebook': ['format_for_gradebook', 'If this plugin adds to the gradebook comments field, it must specify the format of the text of the comment ', [['mod/assign/feedback/comments','locallib.php',449],['mod/assign','feedbackplugin.php',47]], 5],
'defined': ['defined', '', [], 4731]};
CLASS_DATA={
'assign_feedback_comments': ['assign_feedback_comments', 'Library class for comment feedback plugin extending feedback plugin base class. ', [['mod/assign/feedback/comments','locallib.php',27]], 0],
'external_single_structure': ['external_single_structure', 'Associative array description class ', [['lib','externallib.php',580]], 460],
'external_value': ['external_value', 'Scalar value description class ', [['lib','externallib.php',546]], 2505],
'html_writer': ['html_writer', 'Simple html output class ', [['lib','outputcomponents.php',1062]], 5120]};
CONST_DATA={
'VALUE_OPTIONAL': ['VALUE_OPTIONAL', '', [['lib','moodlelib.php',337]], 761],
'FORMAT_HTML': ['FORMAT_HTML', '', [['lib','weblib.php',47]], 1121],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 3812],
'FORMAT_PLAIN': ['FORMAT_PLAIN', '', [['lib','weblib.php',52]], 152],
'FORMAT_MOODLE': ['FORMAT_MOODLE', '', [['lib','weblib.php',42]], 506],
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 921]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
