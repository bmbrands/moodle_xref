<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/assign/externallib.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='mod/assign';
filename='externallib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/assign/</a> -> <a href="externallib.php.html">externallib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="externallib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="externallib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * External assign API</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    mod_assign</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @since      Moodle 2.4</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2012 Paul Charsley</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die;
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>/externallib.php&quot;);
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">/**</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * Assign functions</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * @copyright 2012 Paul Charsley</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> */</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('mod_assign_external')" href="../../_classes/mod_assign_external.html" onMouseOver="classPopup(event,'mod_assign_external')">mod_assign_external</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('external_api')" href="../../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a> {
<a name="l36"><span class="linenum">  36</span></a>  
<a name="l37"><span class="linenum">  37</span></a>      <span class="comment">/**</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     * Generate a warning in a standard structure for a known failure.</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     *</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">     * @param int $assignmentid - The assignment</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">     * @param string $warningcode - The key for the warning message</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">     * @param string $detail - A description of the error</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     * @return array - Warning structure containing item, itemid, warningcode, message</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     */</span>
<a name="l45"><span class="linenum">  45</span></a>      private static function <a class="function" onClick="logFunction('generate_warning')" href="../../_functions/generate_warning.html" onMouseOver="funcPopup(event,'generate_warning')">generate_warning</a>(<a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>, <a class="var it38347" onMouseOver="hilite(38347)" onMouseOut="lolite()" onClick="logVariable('warningcode')" href="../../_variables/warningcode.html">$warningcode</a>, <a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a>) {
<a name="l46"><span class="linenum">  46</span></a>          <a class="var it38348" onMouseOver="hilite(38348)" onMouseOut="lolite()" onClick="logVariable('warningmessages')" href="../../_variables/warningmessages.html">$warningmessages</a> = array(
<a name="l47"><span class="linenum">  47</span></a>              'couldnotlock'=&gt;'Could not lock the submission for this user.',
<a name="l48"><span class="linenum">  48</span></a>              'couldnotunlock'=&gt;'Could not unlock the submission for this user.',
<a name="l49"><span class="linenum">  49</span></a>              'couldnotsubmitforgrading'=&gt;'Could not submit assignment for grading.',
<a name="l50"><span class="linenum">  50</span></a>              'couldnotrevealidentities'=&gt;'Could not reveal identities.',
<a name="l51"><span class="linenum">  51</span></a>              'couldnotgrantextensions'=&gt;'Could not grant submission date extensions.',
<a name="l52"><span class="linenum">  52</span></a>              'couldnotrevert'=&gt;'Could not revert submission to draft.',
<a name="l53"><span class="linenum">  53</span></a>              'invalidparameters'=&gt;'Invalid parameters.',
<a name="l54"><span class="linenum">  54</span></a>              'couldnotsavesubmission'=&gt;'Could not save submission.',
<a name="l55"><span class="linenum">  55</span></a>              'couldnotsavegrade'=&gt;'Could not save grade.'
<a name="l56"><span class="linenum">  56</span></a>          );
<a name="l57"><span class="linenum">  57</span></a>  
<a name="l58"><span class="linenum">  58</span></a>          <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a> = <a class="var it38348" onMouseOver="hilite(38348)" onMouseOut="lolite()" onClick="logVariable('warningmessages')" href="../../_variables/warningmessages.html">$warningmessages</a>[<a class="var it38347" onMouseOver="hilite(38347)" onMouseOut="lolite()" onClick="logVariable('warningcode')" href="../../_variables/warningcode.html">$warningcode</a>];
<a name="l59"><span class="linenum">  59</span></a>          if (empty(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a>)) {
<a name="l60"><span class="linenum">  60</span></a>              <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a> = 'Unknown warning type.';
<a name="l61"><span class="linenum">  61</span></a>          }
<a name="l62"><span class="linenum">  62</span></a>  
<a name="l63"><span class="linenum">  63</span></a>          return array('item'=&gt;<a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a>,
<a name="l64"><span class="linenum">  64</span></a>                       'itemid'=&gt;<a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>,
<a name="l65"><span class="linenum">  65</span></a>                       'warningcode'=&gt;<a class="var it38347" onMouseOver="hilite(38347)" onMouseOut="lolite()" onClick="logVariable('warningcode')" href="../../_variables/warningcode.html">$warningcode</a>,
<a name="l66"><span class="linenum">  66</span></a>                       'message'=&gt;<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a>);
<a name="l67"><span class="linenum">  67</span></a>      }
<a name="l68"><span class="linenum">  68</span></a>  
<a name="l69"><span class="linenum">  69</span></a>      <span class="comment">/**</span>
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">     * Describes the parameters for get_grades</span>
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment">     * @since  Moodle 2.4</span>
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">     */</span>
<a name="l74"><span class="linenum">  74</span></a>      public static function <a class="function" onClick="logFunction('get_grades_parameters')" href="../../_functions/get_grades_parameters.html" onMouseOver="funcPopup(event,'get_grades_parameters')">get_grades_parameters</a>() {
<a name="l75"><span class="linenum">  75</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l76"><span class="linenum">  76</span></a>              array(
<a name="l77"><span class="linenum">  77</span></a>                  'assignmentids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l78"><span class="linenum">  78</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'assignment id'),
<a name="l79"><span class="linenum">  79</span></a>                      '1 or more assignment ids',
<a name="l80"><span class="linenum">  80</span></a>                      <a class="constant" onClick="logConstant('VALUE_REQUIRED')" href="../../_constants/VALUE_REQUIRED.html" onMouseOver="constPopup(event,'VALUE_REQUIRED')">VALUE_REQUIRED</a>),
<a name="l81"><span class="linenum">  81</span></a>                  'since' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>,
<a name="l82"><span class="linenum">  82</span></a>                            'timestamp, only return records where timemodified &gt;= since',
<a name="l83"><span class="linenum">  83</span></a>                            <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 0)
<a name="l84"><span class="linenum">  84</span></a>              )
<a name="l85"><span class="linenum">  85</span></a>          );
<a name="l86"><span class="linenum">  86</span></a>      }
<a name="l87"><span class="linenum">  87</span></a>  
<a name="l88"><span class="linenum">  88</span></a>      <span class="comment">/**</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment">     * Returns grade information from assign_grades for the requested assignment ids</span>
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">     * @param int[] $assignmentids</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment">     * @param int $since only return records with timemodified &gt;= since</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">     * @return array of grade records for each requested assignment</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment">     * @since  Moodle 2.4</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">     */</span>
<a name="l95"><span class="linenum">  95</span></a>      public static function <a class="function" onClick="logFunction('get_grades')" href="../../_functions/get_grades.html" onMouseOver="funcPopup(event,'get_grades')">get_grades</a>(<a class="var it7036" onMouseOver="hilite(7036)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a>, <a class="var it5804" onMouseOver="hilite(5804)" onMouseOut="lolite()" onClick="logVariable('since')" href="../../_variables/since.html">$since</a> = 0) {
<a name="l96"><span class="linenum">  96</span></a>          global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l97"><span class="linenum">  97</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_grades_parameters')" href="../../_functions/get_grades_parameters.html" onMouseOver="funcPopup(event,'get_grades_parameters')">get_grades_parameters</a>(),
<a name="l98"><span class="linenum">  98</span></a>                          array('assignmentids' =&gt; <a class="var it7036" onMouseOver="hilite(7036)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a>,
<a name="l99"><span class="linenum">  99</span></a>                                'since' =&gt; <a class="var it5804" onMouseOver="hilite(5804)" onMouseOut="lolite()" onClick="logVariable('since')" href="../../_variables/since.html">$since</a>));
<a name="l100"><span class="linenum"> 100</span></a>  
<a name="l101"><span class="linenum"> 101</span></a>          <a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a> = array();
<a name="l102"><span class="linenum"> 102</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a> = array();
<a name="l103"><span class="linenum"> 103</span></a>          <a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a> = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentids'];
<a name="l104"><span class="linenum"> 104</span></a>  
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment">        // Check the user is allowed to get the grades for the assignments requested.</span>
<a name="l106"><span class="linenum"> 106</span></a>          <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a> = array();
<a name="l107"><span class="linenum"> 107</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it7045" onMouseOver="hilite(7045)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>, <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a>, <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l108"><span class="linenum"> 108</span></a>          <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;SELECT cm.id, cm.instance FROM {course_modules} cm JOIN {modules} md ON md.id = cm.module &quot;.
<a name="l109"><span class="linenum"> 109</span></a>                 &quot;WHERE md.name = :modname AND cm.instance &quot;.<a class="var it7045" onMouseOver="hilite(7045)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>;
<a name="l110"><span class="linenum"> 110</span></a>          <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>['modname'] = 'assign';
<a name="l111"><span class="linenum"> 111</span></a>          <a class="var it1704" onMouseOver="hilite(1704)" onMouseOut="lolite()" onClick="logVariable('cms')" href="../../_variables/cms.html">$cms</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>);
<a name="l112"><span class="linenum"> 112</span></a>          foreach (<a class="var it1704" onMouseOver="hilite(1704)" onMouseOut="lolite()" onClick="logVariable('cms')" href="../../_variables/cms.html">$cms</a> as <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>) {
<a name="l113"><span class="linenum"> 113</span></a>              try {
<a name="l114"><span class="linenum"> 114</span></a>                  <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l115"><span class="linenum"> 115</span></a>                  self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l116"><span class="linenum"> 116</span></a>                  <a class="function" onClick="logFunction('require_capability')" href="../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('mod/assign:grade', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l117"><span class="linenum"> 117</span></a>              } catch (Exception <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l118"><span class="linenum"> 118</span></a>                  <a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a> = <a class="phpfunction" onClick="logFunction('array_diff')" href="../../_functions/array_diff.html" onMouseOver="phpfuncPopup(event,'array_diff')">array_diff</a>(<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a>, array(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>));
<a name="l119"><span class="linenum"> 119</span></a>                  <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a> = array();
<a name="l120"><span class="linenum"> 120</span></a>                  <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['item'] = 'assignment';
<a name="l121"><span class="linenum"> 121</span></a>                  <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['itemid'] = <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>;
<a name="l122"><span class="linenum"> 122</span></a>                  <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['warningcode'] = '1';
<a name="l123"><span class="linenum"> 123</span></a>                  <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['message'] = 'No access rights in module context';
<a name="l124"><span class="linenum"> 124</span></a>                  <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>;
<a name="l125"><span class="linenum"> 125</span></a>              }
<a name="l126"><span class="linenum"> 126</span></a>          }
<a name="l127"><span class="linenum"> 127</span></a>  
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment">        // Create the query and populate an array of grade records from the recordset results.</span>
<a name="l129"><span class="linenum"> 129</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a> (<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a>) &gt; 0) {
<a name="l130"><span class="linenum"> 130</span></a>              <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a> = array();
<a name="l131"><span class="linenum"> 131</span></a>              <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it38350" onMouseOver="hilite(38350)" onMouseOut="lolite()" onClick="logVariable('inorequalsql')" href="../../_variables/inorequalsql.html">$inorequalsql</a>, <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a>, <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l132"><span class="linenum"> 132</span></a>  
<a name="l133"><span class="linenum"> 133</span></a>              <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;SELECT ag.id,
<a name="l134"><span class="linenum"> 134</span></a>                             ag.assignment,
<a name="l135"><span class="linenum"> 135</span></a>                             ag.userid,
<a name="l136"><span class="linenum"> 136</span></a>                             ag.timecreated,
<a name="l137"><span class="linenum"> 137</span></a>                             ag.timemodified,
<a name="l138"><span class="linenum"> 138</span></a>                             ag.grader,
<a name="l139"><span class="linenum"> 139</span></a>                             ag.grade,
<a name="l140"><span class="linenum"> 140</span></a>                             ag.attemptnumber
<a name="l141"><span class="linenum"> 141</span></a>                        FROM {assign_grades} ag, {assign_submission} s
<a name="l142"><span class="linenum"> 142</span></a>                       WHERE s.assignment <a class="var it38350" onMouseOver="hilite(38350)" onMouseOut="lolite()" onClick="logVariable('inorequalsql')" href="../../_variables/inorequalsql.html">$inorequalsql</a>
<a name="l143"><span class="linenum"> 143</span></a>                         AND s.userid = ag.userid
<a name="l144"><span class="linenum"> 144</span></a>                         AND s.latest = 1
<a name="l145"><span class="linenum"> 145</span></a>                         AND s.attemptnumber = ag.attemptnumber
<a name="l146"><span class="linenum"> 146</span></a>                         AND ag.timemodified  &gt;= :since
<a name="l147"><span class="linenum"> 147</span></a>                         AND ag.assignment = s.assignment
<a name="l148"><span class="linenum"> 148</span></a>                    ORDER BY ag.assignment, ag.id&quot;;
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>              <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>['since'] = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['since'];
<a name="l151"><span class="linenum"> 151</span></a>              <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../_variables/rs.html">$rs</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>);
<a name="l152"><span class="linenum"> 152</span></a>              <a class="var it38351" onMouseOver="hilite(38351)" onMouseOut="lolite()" onClick="logVariable('currentassignmentid')" href="../../_variables/currentassignmentid.html">$currentassignmentid</a> = null;
<a name="l153"><span class="linenum"> 153</span></a>              <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = null;
<a name="l154"><span class="linenum"> 154</span></a>              foreach (<a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../_variables/rs.html">$rs</a> as <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>) {
<a name="l155"><span class="linenum"> 155</span></a>                  <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a> = array();
<a name="l156"><span class="linenum"> 156</span></a>                  <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>['id'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('id')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l157"><span class="linenum"> 157</span></a>                  <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>['userid'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('userid')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>;
<a name="l158"><span class="linenum"> 158</span></a>                  <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>['timecreated'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('timecreated')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/timecreated.html">timecreated</a>;
<a name="l159"><span class="linenum"> 159</span></a>                  <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>['timemodified'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('timemodified')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a>;
<a name="l160"><span class="linenum"> 160</span></a>                  <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>['grader'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('grader')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/grader.html">grader</a>;
<a name="l161"><span class="linenum"> 161</span></a>                  <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>['attemptnumber'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('attemptnumber')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/attemptnumber.html">attemptnumber</a>;
<a name="l162"><span class="linenum"> 162</span></a>                  <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>['grade'] = (string)<a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('grade')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a>;
<a name="l163"><span class="linenum"> 163</span></a>  
<a name="l164"><span class="linenum"> 164</span></a>                  if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it38351" onMouseOver="hilite(38351)" onMouseOut="lolite()" onClick="logVariable('currentassignmentid')" href="../../_variables/currentassignmentid.html">$currentassignmentid</a>) || (<a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('assignment')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/assignment.html">assignment</a> != <a class="var it38351" onMouseOver="hilite(38351)" onMouseOut="lolite()" onClick="logVariable('currentassignmentid')" href="../../_variables/currentassignmentid.html">$currentassignmentid</a> )) {
<a name="l165"><span class="linenum"> 165</span></a>                      if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>)) {
<a name="l166"><span class="linenum"> 166</span></a>                          <a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a>[] = <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>;
<a name="l167"><span class="linenum"> 167</span></a>                      }
<a name="l168"><span class="linenum"> 168</span></a>                      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = array();
<a name="l169"><span class="linenum"> 169</span></a>                      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>['assignmentid'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('assignment')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/assignment.html">assignment</a>;
<a name="l170"><span class="linenum"> 170</span></a>                      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>['grades'] = array();
<a name="l171"><span class="linenum"> 171</span></a>                      <a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a> = <a class="phpfunction" onClick="logFunction('array_diff')" href="../../_functions/array_diff.html" onMouseOver="phpfuncPopup(event,'array_diff')">array_diff</a>(<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a>, array(<a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('assignment')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/assignment.html">assignment</a>));
<a name="l172"><span class="linenum"> 172</span></a>                  }
<a name="l173"><span class="linenum"> 173</span></a>                  <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>['grades'][] = <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>;
<a name="l174"><span class="linenum"> 174</span></a>  
<a name="l175"><span class="linenum"> 175</span></a>                  <a class="var it38351" onMouseOver="hilite(38351)" onMouseOut="lolite()" onClick="logVariable('currentassignmentid')" href="../../_variables/currentassignmentid.html">$currentassignmentid</a> = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('assignment')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/assignment.html">assignment</a>;
<a name="l176"><span class="linenum"> 176</span></a>              }
<a name="l177"><span class="linenum"> 177</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>)) {
<a name="l178"><span class="linenum"> 178</span></a>                  <a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a>[] = <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>;
<a name="l179"><span class="linenum"> 179</span></a>              }
<a name="l180"><span class="linenum"> 180</span></a>              <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../_variables/rs.html">$rs</a>-&gt;<a class="function" onClick="logFunction('close')" href="../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l181"><span class="linenum"> 181</span></a>          }
<a name="l182"><span class="linenum"> 182</span></a>          foreach (<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a> as <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>) {
<a name="l183"><span class="linenum"> 183</span></a>              <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a> = array();
<a name="l184"><span class="linenum"> 184</span></a>              <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['item'] = 'assignment';
<a name="l185"><span class="linenum"> 185</span></a>              <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['itemid'] = <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>;
<a name="l186"><span class="linenum"> 186</span></a>              <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['warningcode'] = '3';
<a name="l187"><span class="linenum"> 187</span></a>              <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['message'] = 'No grades found';
<a name="l188"><span class="linenum"> 188</span></a>              <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>;
<a name="l189"><span class="linenum"> 189</span></a>          }
<a name="l190"><span class="linenum"> 190</span></a>  
<a name="l191"><span class="linenum"> 191</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = array();
<a name="l192"><span class="linenum"> 192</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['assignments'] = <a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a>;
<a name="l193"><span class="linenum"> 193</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['warnings'] = <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>;
<a name="l194"><span class="linenum"> 194</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l195"><span class="linenum"> 195</span></a>      }
<a name="l196"><span class="linenum"> 196</span></a>  
<a name="l197"><span class="linenum"> 197</span></a>      <span class="comment">/**</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment">     * Creates an assign_grades external_single_structure</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l200"><span class="linenum"> 200</span></a>  <span class="comment">     * @since  Moodle 2.4</span>
<a name="l201"><span class="linenum"> 201</span></a>  <span class="comment">     */</span>
<a name="l202"><span class="linenum"> 202</span></a>      private static function <a class="function" onClick="logFunction('assign_grades')" href="../../_functions/assign_grades.html" onMouseOver="funcPopup(event,'assign_grades')">assign_grades</a>() {
<a name="l203"><span class="linenum"> 203</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l204"><span class="linenum"> 204</span></a>              array (
<a name="l205"><span class="linenum"> 205</span></a>                  'assignmentid'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'assignment id'),
<a name="l206"><span class="linenum"> 206</span></a>                  'grades'   =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(<span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l207"><span class="linenum"> 207</span></a>                          array(
<a name="l208"><span class="linenum"> 208</span></a>                              'id'            =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'grade id'),
<a name="l209"><span class="linenum"> 209</span></a>                              'userid'        =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'student id'),
<a name="l210"><span class="linenum"> 210</span></a>                              'attemptnumber' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'attempt number'),
<a name="l211"><span class="linenum"> 211</span></a>                              'timecreated'   =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'grade creation time'),
<a name="l212"><span class="linenum"> 212</span></a>                              'timemodified'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'grade last modified time'),
<a name="l213"><span class="linenum"> 213</span></a>                              'grader'        =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'grader'),
<a name="l214"><span class="linenum"> 214</span></a>                              'grade'         =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'grade')
<a name="l215"><span class="linenum"> 215</span></a>                          )
<a name="l216"><span class="linenum"> 216</span></a>                      )
<a name="l217"><span class="linenum"> 217</span></a>                  )
<a name="l218"><span class="linenum"> 218</span></a>              )
<a name="l219"><span class="linenum"> 219</span></a>          );
<a name="l220"><span class="linenum"> 220</span></a>      }
<a name="l221"><span class="linenum"> 221</span></a>  
<a name="l222"><span class="linenum"> 222</span></a>      <span class="comment">/**</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">     * Describes the get_grades return value</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">     * @since  Moodle 2.4</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">     */</span>
<a name="l227"><span class="linenum"> 227</span></a>      public static function <a class="function" onClick="logFunction('get_grades_returns')" href="../../_functions/get_grades_returns.html" onMouseOver="funcPopup(event,'get_grades_returns')">get_grades_returns</a>() {
<a name="l228"><span class="linenum"> 228</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l229"><span class="linenum"> 229</span></a>              array(
<a name="l230"><span class="linenum"> 230</span></a>                  'assignments' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('assign_grades')" href="../../_functions/assign_grades.html" onMouseOver="funcPopup(event,'assign_grades')">assign_grades</a>(), 'list of assignment grade information'),
<a name="l231"><span class="linenum"> 231</span></a>                  'warnings'      =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>('item is always \'assignment\'',
<a name="l232"><span class="linenum"> 232</span></a>                      'when errorcode is 3 then itemid is an assignment id. When errorcode is 1, itemid is a course module id',
<a name="l233"><span class="linenum"> 233</span></a>                      'errorcode can be 3 (no grades found) or 1 (no permission to get grades)')
<a name="l234"><span class="linenum"> 234</span></a>              )
<a name="l235"><span class="linenum"> 235</span></a>          );
<a name="l236"><span class="linenum"> 236</span></a>      }
<a name="l237"><span class="linenum"> 237</span></a>  
<a name="l238"><span class="linenum"> 238</span></a>      <span class="comment">/**</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l240"><span class="linenum"> 240</span></a>  <span class="comment">     *</span>
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">     * @since  Moodle 2.4</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">     */</span>
<a name="l244"><span class="linenum"> 244</span></a>      public static function <a class="function" onClick="logFunction('get_assignments_parameters')" href="../../_functions/get_assignments_parameters.html" onMouseOver="funcPopup(event,'get_assignments_parameters')">get_assignments_parameters</a>() {
<a name="l245"><span class="linenum"> 245</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l246"><span class="linenum"> 246</span></a>              array(
<a name="l247"><span class="linenum"> 247</span></a>                  'courseids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l248"><span class="linenum"> 248</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'course id'),
<a name="l249"><span class="linenum"> 249</span></a>                      '0 or more course ids',
<a name="l250"><span class="linenum"> 250</span></a>                      <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l251"><span class="linenum"> 251</span></a>                  ),
<a name="l252"><span class="linenum"> 252</span></a>                  'capabilities'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l253"><span class="linenum"> 253</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_CAPABILITY')" href="../../_constants/PARAM_CAPABILITY.html" onMouseOver="constPopup(event,'PARAM_CAPABILITY')">PARAM_CAPABILITY</a>, 'capability'),
<a name="l254"><span class="linenum"> 254</span></a>                      'list of capabilities used to filter courses',
<a name="l255"><span class="linenum"> 255</span></a>                      <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l256"><span class="linenum"> 256</span></a>                  )
<a name="l257"><span class="linenum"> 257</span></a>              )
<a name="l258"><span class="linenum"> 258</span></a>          );
<a name="l259"><span class="linenum"> 259</span></a>      }
<a name="l260"><span class="linenum"> 260</span></a>  
<a name="l261"><span class="linenum"> 261</span></a>      <span class="comment">/**</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment">     * Returns an array of courses the user is enrolled in, and for each course all of the assignments that the user can</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">     * view within that course.</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">     *</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">     * @param array $courseids An optional array of course ids. If provided only assignments within the given course</span>
<a name="l266"><span class="linenum"> 266</span></a>  <span class="comment">     * will be returned. If the user is not enrolled in a given course a warning will be generated and returned.</span>
<a name="l267"><span class="linenum"> 267</span></a>  <span class="comment">     * @param array $capabilities An array of additional capability checks you wish to be made on the course context.</span>
<a name="l268"><span class="linenum"> 268</span></a>  <span class="comment">     * @return An array of courses and warnings.</span>
<a name="l269"><span class="linenum"> 269</span></a>  <span class="comment">     * @since  Moodle 2.4</span>
<a name="l270"><span class="linenum"> 270</span></a>  <span class="comment">     */</span>
<a name="l271"><span class="linenum"> 271</span></a>      public static function <a class="function" onClick="logFunction('get_assignments')" href="../../_functions/get_assignments.html" onMouseOver="funcPopup(event,'get_assignments')">get_assignments</a>(<a class="var it2977" onMouseOver="hilite(2977)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../../_variables/courseids.html">$courseids</a> = array(), <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('capabilities')" href="../../_variables/capabilities.html">$capabilities</a> = array()) {
<a name="l272"><span class="linenum"> 272</span></a>          global <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l273"><span class="linenum"> 273</span></a>          require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/assign/locallib.php&quot;);
<a name="l274"><span class="linenum"> 274</span></a>  
<a name="l275"><span class="linenum"> 275</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(
<a name="l276"><span class="linenum"> 276</span></a>              self::<a class="function" onClick="logFunction('get_assignments_parameters')" href="../../_functions/get_assignments_parameters.html" onMouseOver="funcPopup(event,'get_assignments_parameters')">get_assignments_parameters</a>(),
<a name="l277"><span class="linenum"> 277</span></a>              array('courseids' =&gt; <a class="var it2977" onMouseOver="hilite(2977)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../../_variables/courseids.html">$courseids</a>, 'capabilities' =&gt; <a class="var it497" onMouseOver="hilite(497)" onMouseOut="lolite()" onClick="logVariable('capabilities')" href="../../_variables/capabilities.html">$capabilities</a>)
<a name="l278"><span class="linenum"> 278</span></a>          );
<a name="l279"><span class="linenum"> 279</span></a>  
<a name="l280"><span class="linenum"> 280</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a> = array();
<a name="l281"><span class="linenum"> 281</span></a>          <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a> = 'sortorder,shortname,fullname,timemodified';
<a name="l282"><span class="linenum"> 282</span></a>          <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a> = <a class="function" onClick="logFunction('enrol_get_users_courses')" href="../../_functions/enrol_get_users_courses.html" onMouseOver="funcPopup(event,'enrol_get_users_courses')">enrol_get_users_courses</a>(<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, true, <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../../_variables/fields.html">$fields</a>);
<a name="l283"><span class="linenum"> 283</span></a>  <span class="comment">        // Used to test for ids that have been requested but can't be returned.</span>
<a name="l284"><span class="linenum"> 284</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseids']) &gt; 0) {
<a name="l285"><span class="linenum"> 285</span></a>              foreach (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseids'] as <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>) {
<a name="l286"><span class="linenum"> 286</span></a>                  if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>, <a class="phpfunction" onClick="logFunction('array_keys')" href="../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>))) {
<a name="l287"><span class="linenum"> 287</span></a>                      unset(<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>[<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>]);
<a name="l288"><span class="linenum"> 288</span></a>                      <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = array(
<a name="l289"><span class="linenum"> 289</span></a>                          'item' =&gt; 'course',
<a name="l290"><span class="linenum"> 290</span></a>                          'itemid' =&gt; <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>,
<a name="l291"><span class="linenum"> 291</span></a>                          'warningcode' =&gt; '2',
<a name="l292"><span class="linenum"> 292</span></a>                          'message' =&gt; 'User is not enrolled or does not have requested capability'
<a name="l293"><span class="linenum"> 293</span></a>                      );
<a name="l294"><span class="linenum"> 294</span></a>                  }
<a name="l295"><span class="linenum"> 295</span></a>              }
<a name="l296"><span class="linenum"> 296</span></a>          }
<a name="l297"><span class="linenum"> 297</span></a>          foreach (<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a> as <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> =&gt; <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>) {
<a name="l298"><span class="linenum"> 298</span></a>              if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseids']) &gt; 0 &amp;&amp; !<a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['courseids'])) {
<a name="l299"><span class="linenum"> 299</span></a>                  unset(<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>[<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>]);
<a name="l300"><span class="linenum"> 300</span></a>              }
<a name="l301"><span class="linenum"> 301</span></a>              <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>);
<a name="l302"><span class="linenum"> 302</span></a>              try {
<a name="l303"><span class="linenum"> 303</span></a>                  self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l304"><span class="linenum"> 304</span></a>              } catch (Exception <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l305"><span class="linenum"> 305</span></a>                  unset(<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>[<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>]);
<a name="l306"><span class="linenum"> 306</span></a>                  <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = array(
<a name="l307"><span class="linenum"> 307</span></a>                      'item' =&gt; 'course',
<a name="l308"><span class="linenum"> 308</span></a>                      'itemid' =&gt; <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>,
<a name="l309"><span class="linenum"> 309</span></a>                      'warningcode' =&gt; '1',
<a name="l310"><span class="linenum"> 310</span></a>                      'message' =&gt; 'No access rights in course context '.<a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>-&gt;<a class="function" onClick="logFunction('getMessage')" href="../../_functions/getmessage.html" onMouseOver="funcPopup(event,'getmessage')">getMessage</a>().<a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>-&gt;getTraceAsString()
<a name="l311"><span class="linenum"> 311</span></a>                  );
<a name="l312"><span class="linenum"> 312</span></a>                  continue;
<a name="l313"><span class="linenum"> 313</span></a>              }
<a name="l314"><span class="linenum"> 314</span></a>              if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['capabilities']) &gt; 0 &amp;&amp; !<a class="function" onClick="logFunction('has_all_capabilities')" href="../../_functions/has_all_capabilities.html" onMouseOver="funcPopup(event,'has_all_capabilities')">has_all_capabilities</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['capabilities'], <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l315"><span class="linenum"> 315</span></a>                  unset(<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>[<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>]);
<a name="l316"><span class="linenum"> 316</span></a>              }
<a name="l317"><span class="linenum"> 317</span></a>          }
<a name="l318"><span class="linenum"> 318</span></a>          <a class="var it4833" onMouseOver="hilite(4833)" onMouseOut="lolite()" onClick="logVariable('extrafields')" href="../../_variables/extrafields.html">$extrafields</a>='m.id as assignmentid, ' .
<a name="l319"><span class="linenum"> 319</span></a>                       'm.course, ' .
<a name="l320"><span class="linenum"> 320</span></a>                       'm.nosubmissions, ' .
<a name="l321"><span class="linenum"> 321</span></a>                       'm.submissiondrafts, ' .
<a name="l322"><span class="linenum"> 322</span></a>                       'm.sendnotifications, '.
<a name="l323"><span class="linenum"> 323</span></a>                       'm.sendlatenotifications, ' .
<a name="l324"><span class="linenum"> 324</span></a>                       'm.sendstudentnotifications, ' .
<a name="l325"><span class="linenum"> 325</span></a>                       'm.duedate, ' .
<a name="l326"><span class="linenum"> 326</span></a>                       'm.allowsubmissionsfromdate, '.
<a name="l327"><span class="linenum"> 327</span></a>                       'm.grade, ' .
<a name="l328"><span class="linenum"> 328</span></a>                       'm.timemodified, '.
<a name="l329"><span class="linenum"> 329</span></a>                       'm.completionsubmit, ' .
<a name="l330"><span class="linenum"> 330</span></a>                       'm.cutoffdate, ' .
<a name="l331"><span class="linenum"> 331</span></a>                       'm.teamsubmission, ' .
<a name="l332"><span class="linenum"> 332</span></a>                       'm.requireallteammemberssubmit, '.
<a name="l333"><span class="linenum"> 333</span></a>                       'm.teamsubmissiongroupingid, ' .
<a name="l334"><span class="linenum"> 334</span></a>                       'm.blindmarking, ' .
<a name="l335"><span class="linenum"> 335</span></a>                       'm.revealidentities, ' .
<a name="l336"><span class="linenum"> 336</span></a>                       'm.attemptreopenmethod, '.
<a name="l337"><span class="linenum"> 337</span></a>                       'm.maxattempts, ' .
<a name="l338"><span class="linenum"> 338</span></a>                       'm.markingworkflow, ' .
<a name="l339"><span class="linenum"> 339</span></a>                       'm.markingallocation, ' .
<a name="l340"><span class="linenum"> 340</span></a>                       'm.requiresubmissionstatement, '.
<a name="l341"><span class="linenum"> 341</span></a>                       'm.intro, '.
<a name="l342"><span class="linenum"> 342</span></a>                       'm.introformat';
<a name="l343"><span class="linenum"> 343</span></a>          <a class="var it38352" onMouseOver="hilite(38352)" onMouseOut="lolite()" onClick="logVariable('coursearray')" href="../../_variables/coursearray.html">$coursearray</a> = array();
<a name="l344"><span class="linenum"> 344</span></a>          foreach (<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a> as <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> =&gt; <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>) {
<a name="l345"><span class="linenum"> 345</span></a>              <a class="var it38353" onMouseOver="hilite(38353)" onMouseOut="lolite()" onClick="logVariable('assignmentarray')" href="../../_variables/assignmentarray.html">$assignmentarray</a> = array();
<a name="l346"><span class="linenum"> 346</span></a>  <span class="comment">            // Get a list of assignments for the course.</span>
<a name="l347"><span class="linenum"> 347</span></a>              if (<a class="var it610" onMouseOver="hilite(610)" onMouseOut="lolite()" onClick="logVariable('modules')" href="../../_variables/modules.html">$modules</a> = <a class="function" onClick="logFunction('get_coursemodules_in_course')" href="../../_functions/get_coursemodules_in_course.html" onMouseOver="funcPopup(event,'get_coursemodules_in_course')">get_coursemodules_in_course</a>('assign', <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>[<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>]-&gt;id, <a class="var it4833" onMouseOver="hilite(4833)" onMouseOut="lolite()" onClick="logVariable('extrafields')" href="../../_variables/extrafields.html">$extrafields</a>)) {
<a name="l348"><span class="linenum"> 348</span></a>                  foreach (<a class="var it610" onMouseOver="hilite(610)" onMouseOut="lolite()" onClick="logVariable('modules')" href="../../_variables/modules.html">$modules</a> as <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>) {
<a name="l349"><span class="linenum"> 349</span></a>                      <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('id')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l350"><span class="linenum"> 350</span></a>                      try {
<a name="l351"><span class="linenum"> 351</span></a>                          self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l352"><span class="linenum"> 352</span></a>                          <a class="function" onClick="logFunction('require_capability')" href="../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('mod/assign:view', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l353"><span class="linenum"> 353</span></a>                      } catch (Exception <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l354"><span class="linenum"> 354</span></a>                          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = array(
<a name="l355"><span class="linenum"> 355</span></a>                              'item' =&gt; 'module',
<a name="l356"><span class="linenum"> 356</span></a>                              'itemid' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('id')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l357"><span class="linenum"> 357</span></a>                              'warningcode' =&gt; '1',
<a name="l358"><span class="linenum"> 358</span></a>                              'message' =&gt; 'No access rights in module context'
<a name="l359"><span class="linenum"> 359</span></a>                          );
<a name="l360"><span class="linenum"> 360</span></a>                          continue;
<a name="l361"><span class="linenum"> 361</span></a>                      }
<a name="l362"><span class="linenum"> 362</span></a>                      <a class="var it38354" onMouseOver="hilite(38354)" onMouseOut="lolite()" onClick="logVariable('configrecords')" href="../../_variables/configrecords.html">$configrecords</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset')" href="../../_functions/get_recordset.html" onMouseOver="funcPopup(event,'get_recordset')">get_recordset</a>('assign_plugin_config', array('assignment' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('assignmentid')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/assignmentid.html">assignmentid</a>));
<a name="l363"><span class="linenum"> 363</span></a>                      <a class="var it17978" onMouseOver="hilite(17978)" onMouseOut="lolite()" onClick="logVariable('configarray')" href="../../_variables/configarray.html">$configarray</a> = array();
<a name="l364"><span class="linenum"> 364</span></a>                      foreach (<a class="var it38354" onMouseOver="hilite(38354)" onMouseOut="lolite()" onClick="logVariable('configrecords')" href="../../_variables/configrecords.html">$configrecords</a> as <a class="var it38355" onMouseOver="hilite(38355)" onMouseOut="lolite()" onClick="logVariable('configrecord')" href="../../_variables/configrecord.html">$configrecord</a>) {
<a name="l365"><span class="linenum"> 365</span></a>                          <a class="var it17978" onMouseOver="hilite(17978)" onMouseOut="lolite()" onClick="logVariable('configarray')" href="../../_variables/configarray.html">$configarray</a>[] = array(
<a name="l366"><span class="linenum"> 366</span></a>                              'id' =&gt; <a class="var it38355" onMouseOver="hilite(38355)" onMouseOut="lolite()" onClick="logVariable('configrecord')" href="../../_variables/configrecord.html">$configrecord</a>-&gt;<a onClick="logVariable('id')" class="var it41156" onMouseOver="hilite(41156)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l367"><span class="linenum"> 367</span></a>                              'assignment' =&gt; <a class="var it38355" onMouseOver="hilite(38355)" onMouseOut="lolite()" onClick="logVariable('configrecord')" href="../../_variables/configrecord.html">$configrecord</a>-&gt;<a onClick="logVariable('assignment')" class="var it41156" onMouseOver="hilite(41156)" onMouseOut="lolite()" href="../../_variables/assignment.html">assignment</a>,
<a name="l368"><span class="linenum"> 368</span></a>                              'plugin' =&gt; <a class="var it38355" onMouseOver="hilite(38355)" onMouseOut="lolite()" onClick="logVariable('configrecord')" href="../../_variables/configrecord.html">$configrecord</a>-&gt;<a onClick="logVariable('plugin')" class="var it41156" onMouseOver="hilite(41156)" onMouseOut="lolite()" href="../../_variables/plugin.html">plugin</a>,
<a name="l369"><span class="linenum"> 369</span></a>                              'subtype' =&gt; <a class="var it38355" onMouseOver="hilite(38355)" onMouseOut="lolite()" onClick="logVariable('configrecord')" href="../../_variables/configrecord.html">$configrecord</a>-&gt;<a onClick="logVariable('subtype')" class="var it41156" onMouseOver="hilite(41156)" onMouseOut="lolite()" href="../../_variables/subtype.html">subtype</a>,
<a name="l370"><span class="linenum"> 370</span></a>                              'name' =&gt; <a class="var it38355" onMouseOver="hilite(38355)" onMouseOut="lolite()" onClick="logVariable('configrecord')" href="../../_variables/configrecord.html">$configrecord</a>-&gt;<a onClick="logVariable('name')" class="var it41156" onMouseOver="hilite(41156)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>,
<a name="l371"><span class="linenum"> 371</span></a>                              'value' =&gt; <a class="var it38355" onMouseOver="hilite(38355)" onMouseOut="lolite()" onClick="logVariable('configrecord')" href="../../_variables/configrecord.html">$configrecord</a>-&gt;value
<a name="l372"><span class="linenum"> 372</span></a>                          );
<a name="l373"><span class="linenum"> 373</span></a>                      }
<a name="l374"><span class="linenum"> 374</span></a>                      <a class="var it38354" onMouseOver="hilite(38354)" onMouseOut="lolite()" onClick="logVariable('configrecords')" href="../../_variables/configrecords.html">$configrecords</a>-&gt;<a class="function" onClick="logFunction('close')" href="../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l375"><span class="linenum"> 375</span></a>  
<a name="l376"><span class="linenum"> 376</span></a>                      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = array(
<a name="l377"><span class="linenum"> 377</span></a>                          'id' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('assignmentid')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/assignmentid.html">assignmentid</a>,
<a name="l378"><span class="linenum"> 378</span></a>                          'cmid' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('id')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l379"><span class="linenum"> 379</span></a>                          'course' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('course')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>,
<a name="l380"><span class="linenum"> 380</span></a>                          'name' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('name')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>,
<a name="l381"><span class="linenum"> 381</span></a>                          'nosubmissions' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('nosubmissions')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/nosubmissions.html">nosubmissions</a>,
<a name="l382"><span class="linenum"> 382</span></a>                          'submissiondrafts' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('submissiondrafts')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/submissiondrafts.html">submissiondrafts</a>,
<a name="l383"><span class="linenum"> 383</span></a>                          'sendnotifications' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('sendnotifications')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/sendnotifications.html">sendnotifications</a>,
<a name="l384"><span class="linenum"> 384</span></a>                          'sendlatenotifications' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('sendlatenotifications')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/sendlatenotifications.html">sendlatenotifications</a>,
<a name="l385"><span class="linenum"> 385</span></a>                          'sendstudentnotifications' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('sendstudentnotifications')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/sendstudentnotifications.html">sendstudentnotifications</a>,
<a name="l386"><span class="linenum"> 386</span></a>                          'duedate' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('duedate')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/duedate.html">duedate</a>,
<a name="l387"><span class="linenum"> 387</span></a>                          'allowsubmissionsfromdate' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('allowsubmissionsfromdate')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/allowsubmissionsfromdate.html">allowsubmissionsfromdate</a>,
<a name="l388"><span class="linenum"> 388</span></a>                          'grade' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('grade')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a>,
<a name="l389"><span class="linenum"> 389</span></a>                          'timemodified' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('timemodified')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a>,
<a name="l390"><span class="linenum"> 390</span></a>                          'completionsubmit' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('completionsubmit')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/completionsubmit.html">completionsubmit</a>,
<a name="l391"><span class="linenum"> 391</span></a>                          'cutoffdate' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('cutoffdate')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/cutoffdate.html">cutoffdate</a>,
<a name="l392"><span class="linenum"> 392</span></a>                          'teamsubmission' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('teamsubmission')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/teamsubmission.html">teamsubmission</a>,
<a name="l393"><span class="linenum"> 393</span></a>                          'requireallteammemberssubmit' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('requireallteammemberssubmit')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/requireallteammemberssubmit.html">requireallteammemberssubmit</a>,
<a name="l394"><span class="linenum"> 394</span></a>                          'teamsubmissiongroupingid' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('teamsubmissiongroupingid')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/teamsubmissiongroupingid.html">teamsubmissiongroupingid</a>,
<a name="l395"><span class="linenum"> 395</span></a>                          'blindmarking' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('blindmarking')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/blindmarking.html">blindmarking</a>,
<a name="l396"><span class="linenum"> 396</span></a>                          'revealidentities' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('revealidentities')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/revealidentities.html">revealidentities</a>,
<a name="l397"><span class="linenum"> 397</span></a>                          'attemptreopenmethod' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('attemptreopenmethod')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/attemptreopenmethod.html">attemptreopenmethod</a>,
<a name="l398"><span class="linenum"> 398</span></a>                          'maxattempts' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('maxattempts')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/maxattempts.html">maxattempts</a>,
<a name="l399"><span class="linenum"> 399</span></a>                          'markingworkflow' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('markingworkflow')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/markingworkflow.html">markingworkflow</a>,
<a name="l400"><span class="linenum"> 400</span></a>                          'markingallocation' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('markingallocation')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/markingallocation.html">markingallocation</a>,
<a name="l401"><span class="linenum"> 401</span></a>                          'requiresubmissionstatement' =&gt; <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('requiresubmissionstatement')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/requiresubmissionstatement.html">requiresubmissionstatement</a>,
<a name="l402"><span class="linenum"> 402</span></a>                          'configs' =&gt; <a class="var it17978" onMouseOver="hilite(17978)" onMouseOut="lolite()" onClick="logVariable('configarray')" href="../../_variables/configarray.html">$configarray</a>
<a name="l403"><span class="linenum"> 403</span></a>                      );
<a name="l404"><span class="linenum"> 404</span></a>  
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment">                    // Return or not intro and file attachments depending on the plugin settings.</span>
<a name="l406"><span class="linenum"> 406</span></a>                      <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, null, null);
<a name="l407"><span class="linenum"> 407</span></a>  
<a name="l408"><span class="linenum"> 408</span></a>                      if (<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('show_intro')" href="../../_functions/show_intro.html" onMouseOver="funcPopup(event,'show_intro')">show_intro</a>()) {
<a name="l409"><span class="linenum"> 409</span></a>  
<a name="l410"><span class="linenum"> 410</span></a>                          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>['intro'], <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>['introformat']) = <a class="function" onClick="logFunction('external_format_text')" href="../../_functions/external_format_text.html" onMouseOver="funcPopup(event,'external_format_text')">external_format_text</a>(<a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('intro')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/intro.html">intro</a>,
<a name="l411"><span class="linenum"> 411</span></a>                              <a class="var it611" onMouseOver="hilite(611)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../_variables/module.html">$module</a>-&gt;<a onClick="logVariable('introformat')" class="var it39455" onMouseOver="hilite(39455)" onMouseOut="lolite()" href="../../_variables/introformat.html">introformat</a>, <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'mod_assign', <a class="constant" onClick="logConstant('ASSIGN_INTROATTACHMENT_FILEAREA')" href="../../_constants/ASSIGN_INTROATTACHMENT_FILEAREA.html" onMouseOver="constPopup(event,'ASSIGN_INTROATTACHMENT_FILEAREA')">ASSIGN_INTROATTACHMENT_FILEAREA</a>, 0);
<a name="l412"><span class="linenum"> 412</span></a>  
<a name="l413"><span class="linenum"> 413</span></a>                          <a class="var it586" onMouseOver="hilite(586)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a> = <a class="function" onClick="logFunction('get_file_storage')" href="../../_functions/get_file_storage.html" onMouseOver="funcPopup(event,'get_file_storage')">get_file_storage</a>();
<a name="l414"><span class="linenum"> 414</span></a>                          if (<a class="var it595" onMouseOver="hilite(595)" onMouseOut="lolite()" onClick="logVariable('files')" href="../../_variables/files.html">$files</a> = <a class="var it586" onMouseOver="hilite(586)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a>-&gt;<a class="function" onClick="logFunction('get_area_files')" href="../../_functions/get_area_files.html" onMouseOver="funcPopup(event,'get_area_files')">get_area_files</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'mod_assign', <a class="constant" onClick="logConstant('ASSIGN_INTROATTACHMENT_FILEAREA')" href="../../_constants/ASSIGN_INTROATTACHMENT_FILEAREA.html" onMouseOver="constPopup(event,'ASSIGN_INTROATTACHMENT_FILEAREA')">ASSIGN_INTROATTACHMENT_FILEAREA</a>,
<a name="l415"><span class="linenum"> 415</span></a>                                                              0, 'timemodified', false)) {
<a name="l416"><span class="linenum"> 416</span></a>  
<a name="l417"><span class="linenum"> 417</span></a>                              <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>['introattachments'] = array();
<a name="l418"><span class="linenum"> 418</span></a>                              foreach (<a class="var it595" onMouseOver="hilite(595)" onMouseOut="lolite()" onClick="logVariable('files')" href="../../_variables/files.html">$files</a> as <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>) {
<a name="l419"><span class="linenum"> 419</span></a>                                  <a class="var it93" onMouseOver="hilite(93)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a> = <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filename')" href="../../_functions/get_filename.html" onMouseOver="funcPopup(event,'get_filename')">get_filename</a>();
<a name="l420"><span class="linenum"> 420</span></a>  
<a name="l421"><span class="linenum"> 421</span></a>                                  <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>['introattachments'][] = array(
<a name="l422"><span class="linenum"> 422</span></a>                                      'filename' =&gt; <a class="var it93" onMouseOver="hilite(93)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>,
<a name="l423"><span class="linenum"> 423</span></a>                                      'mimetype' =&gt; <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_mimetype')" href="../../_functions/get_mimetype.html" onMouseOver="funcPopup(event,'get_mimetype')">get_mimetype</a>(),
<a name="l424"><span class="linenum"> 424</span></a>                                      'fileurl'  =&gt; <a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>::<a class="function" onClick="logFunction('make_webservice_pluginfile_url')" href="../../_functions/make_webservice_pluginfile_url.html" onMouseOver="funcPopup(event,'make_webservice_pluginfile_url')">make_webservice_pluginfile_url</a>(
<a name="l425"><span class="linenum"> 425</span></a>                                          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'mod_assign', <a class="constant" onClick="logConstant('ASSIGN_INTROATTACHMENT_FILEAREA')" href="../../_constants/ASSIGN_INTROATTACHMENT_FILEAREA.html" onMouseOver="constPopup(event,'ASSIGN_INTROATTACHMENT_FILEAREA')">ASSIGN_INTROATTACHMENT_FILEAREA</a>, 0, '/', <a class="var it93" onMouseOver="hilite(93)" onMouseOut="lolite()" onClick="logVariable('filename')" href="../../_variables/filename.html">$filename</a>)-&gt;<a class="function" onClick="logFunction('out')" href="../../_functions/out.html" onMouseOver="funcPopup(event,'out')">out</a>(false)
<a name="l426"><span class="linenum"> 426</span></a>                                  );
<a name="l427"><span class="linenum"> 427</span></a>                              }
<a name="l428"><span class="linenum"> 428</span></a>                          }
<a name="l429"><span class="linenum"> 429</span></a>                      }
<a name="l430"><span class="linenum"> 430</span></a>  
<a name="l431"><span class="linenum"> 431</span></a>                      <a class="var it38353" onMouseOver="hilite(38353)" onMouseOut="lolite()" onClick="logVariable('assignmentarray')" href="../../_variables/assignmentarray.html">$assignmentarray</a>[] = <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>;
<a name="l432"><span class="linenum"> 432</span></a>                  }
<a name="l433"><span class="linenum"> 433</span></a>              }
<a name="l434"><span class="linenum"> 434</span></a>              <a class="var it38352" onMouseOver="hilite(38352)" onMouseOut="lolite()" onClick="logVariable('coursearray')" href="../../_variables/coursearray.html">$coursearray</a>[]= array(
<a name="l435"><span class="linenum"> 435</span></a>                  'id' =&gt; <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>[<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>]-&gt;id,
<a name="l436"><span class="linenum"> 436</span></a>                  'fullname' =&gt; <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>[<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>]-&gt;fullname,
<a name="l437"><span class="linenum"> 437</span></a>                  'shortname' =&gt; <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>[<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>]-&gt;shortname,
<a name="l438"><span class="linenum"> 438</span></a>                  'timemodified' =&gt; <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>[<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>]-&gt;timemodified,
<a name="l439"><span class="linenum"> 439</span></a>                  'assignments' =&gt; <a class="var it38353" onMouseOver="hilite(38353)" onMouseOut="lolite()" onClick="logVariable('assignmentarray')" href="../../_variables/assignmentarray.html">$assignmentarray</a>
<a name="l440"><span class="linenum"> 440</span></a>              );
<a name="l441"><span class="linenum"> 441</span></a>          }
<a name="l442"><span class="linenum"> 442</span></a>  
<a name="l443"><span class="linenum"> 443</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = array(
<a name="l444"><span class="linenum"> 444</span></a>              'courses' =&gt; <a class="var it38352" onMouseOver="hilite(38352)" onMouseOut="lolite()" onClick="logVariable('coursearray')" href="../../_variables/coursearray.html">$coursearray</a>,
<a name="l445"><span class="linenum"> 445</span></a>              'warnings' =&gt; <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>
<a name="l446"><span class="linenum"> 446</span></a>          );
<a name="l447"><span class="linenum"> 447</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l448"><span class="linenum"> 448</span></a>      }
<a name="l449"><span class="linenum"> 449</span></a>  
<a name="l450"><span class="linenum"> 450</span></a>      <span class="comment">/**</span>
<a name="l451"><span class="linenum"> 451</span></a>  <span class="comment">     * Creates an assignment external_single_structure</span>
<a name="l452"><span class="linenum"> 452</span></a>  <span class="comment">     *</span>
<a name="l453"><span class="linenum"> 453</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l454"><span class="linenum"> 454</span></a>  <span class="comment">     * @since Moodle 2.4</span>
<a name="l455"><span class="linenum"> 455</span></a>  <span class="comment">     */</span>
<a name="l456"><span class="linenum"> 456</span></a>      private static function <a class="function" onClick="logFunction('get_assignments_assignment_structure')" href="../../_functions/get_assignments_assignment_structure.html" onMouseOver="funcPopup(event,'get_assignments_assignment_structure')">get_assignments_assignment_structure</a>() {
<a name="l457"><span class="linenum"> 457</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l458"><span class="linenum"> 458</span></a>              array(
<a name="l459"><span class="linenum"> 459</span></a>                  'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'assignment id'),
<a name="l460"><span class="linenum"> 460</span></a>                  'cmid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'course module id'),
<a name="l461"><span class="linenum"> 461</span></a>                  'course' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'course id'),
<a name="l462"><span class="linenum"> 462</span></a>                  'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'assignment name'),
<a name="l463"><span class="linenum"> 463</span></a>                  'nosubmissions' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'no submissions'),
<a name="l464"><span class="linenum"> 464</span></a>                  'submissiondrafts' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'submissions drafts'),
<a name="l465"><span class="linenum"> 465</span></a>                  'sendnotifications' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'send notifications'),
<a name="l466"><span class="linenum"> 466</span></a>                  'sendlatenotifications' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'send notifications'),
<a name="l467"><span class="linenum"> 467</span></a>                  'sendstudentnotifications' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'send student <a class="function" onClick="logFunction('notifications')" href="../../_functions/notifications.html" onMouseOver="funcPopup(event,'notifications')">notifications</a> (default)'),
<a name="l468"><span class="linenum"> 468</span></a>                  'duedate' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'assignment due date'),
<a name="l469"><span class="linenum"> 469</span></a>                  'allowsubmissionsfromdate' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'allow submissions from date'),
<a name="l470"><span class="linenum"> 470</span></a>                  'grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'grade type'),
<a name="l471"><span class="linenum"> 471</span></a>                  'timemodified' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'last time assignment was modified'),
<a name="l472"><span class="linenum"> 472</span></a>                  'completionsubmit' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'if enabled, set activity as complete following submission'),
<a name="l473"><span class="linenum"> 473</span></a>                  'cutoffdate' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'date after which submission is not accepted without an extension'),
<a name="l474"><span class="linenum"> 474</span></a>                  'teamsubmission' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'if enabled, students submit as a team'),
<a name="l475"><span class="linenum"> 475</span></a>                  'requireallteammemberssubmit' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'if enabled, all team members must submit'),
<a name="l476"><span class="linenum"> 476</span></a>                  'teamsubmissiongroupingid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'the grouping id for the team submission groups'),
<a name="l477"><span class="linenum"> 477</span></a>                  'blindmarking' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'if enabled, hide identities until reveal identities actioned'),
<a name="l478"><span class="linenum"> 478</span></a>                  'revealidentities' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'show identities for a blind marking assignment'),
<a name="l479"><span class="linenum"> 479</span></a>                  'attemptreopenmethod' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'method used to control opening new attempts'),
<a name="l480"><span class="linenum"> 480</span></a>                  'maxattempts' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'maximum number of attempts allowed'),
<a name="l481"><span class="linenum"> 481</span></a>                  'markingworkflow' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'enable marking workflow'),
<a name="l482"><span class="linenum"> 482</span></a>                  'markingallocation' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'enable marking allocation'),
<a name="l483"><span class="linenum"> 483</span></a>                  'requiresubmissionstatement' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'student must accept submission statement'),
<a name="l484"><span class="linenum"> 484</span></a>                  'configs' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('get_assignments_config_structure')" href="../../_functions/get_assignments_config_structure.html" onMouseOver="funcPopup(event,'get_assignments_config_structure')">get_assignments_config_structure</a>(), 'configuration settings'),
<a name="l485"><span class="linenum"> 485</span></a>                  'intro' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>,
<a name="l486"><span class="linenum"> 486</span></a>                      'assignment intro, not allways returned because it deppends on the activity configuration', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l487"><span class="linenum"> 487</span></a>                  'introformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>('intro', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l488"><span class="linenum"> 488</span></a>                  'introattachments' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l489"><span class="linenum"> 489</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l490"><span class="linenum"> 490</span></a>                          array (
<a name="l491"><span class="linenum"> 491</span></a>                              'filename' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FILE')" href="../../_constants/PARAM_FILE.html" onMouseOver="constPopup(event,'PARAM_FILE')">PARAM_FILE</a>, 'file name'),
<a name="l492"><span class="linenum"> 492</span></a>                              'mimetype' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'mime type'),
<a name="l493"><span class="linenum"> 493</span></a>                              'fileurl'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'file download url')
<a name="l494"><span class="linenum"> 494</span></a>                          )
<a name="l495"><span class="linenum"> 495</span></a>                      ), 'intro attachments files', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>
<a name="l496"><span class="linenum"> 496</span></a>                  )
<a name="l497"><span class="linenum"> 497</span></a>              ), 'assignment information object');
<a name="l498"><span class="linenum"> 498</span></a>      }
<a name="l499"><span class="linenum"> 499</span></a>  
<a name="l500"><span class="linenum"> 500</span></a>      <span class="comment">/**</span>
<a name="l501"><span class="linenum"> 501</span></a>  <span class="comment">     * Creates an assign_plugin_config external_single_structure</span>
<a name="l502"><span class="linenum"> 502</span></a>  <span class="comment">     *</span>
<a name="l503"><span class="linenum"> 503</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l504"><span class="linenum"> 504</span></a>  <span class="comment">     * @since Moodle 2.4</span>
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment">     */</span>
<a name="l506"><span class="linenum"> 506</span></a>      private static function <a class="function" onClick="logFunction('get_assignments_config_structure')" href="../../_functions/get_assignments_config_structure.html" onMouseOver="funcPopup(event,'get_assignments_config_structure')">get_assignments_config_structure</a>() {
<a name="l507"><span class="linenum"> 507</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l508"><span class="linenum"> 508</span></a>              array(
<a name="l509"><span class="linenum"> 509</span></a>                  'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'assign_plugin_config id'),
<a name="l510"><span class="linenum"> 510</span></a>                  'assignment' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'assignment id'),
<a name="l511"><span class="linenum"> 511</span></a>                  'plugin' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'plugin'),
<a name="l512"><span class="linenum"> 512</span></a>                  'subtype' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'subtype'),
<a name="l513"><span class="linenum"> 513</span></a>                  'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'name'),
<a name="l514"><span class="linenum"> 514</span></a>                  'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'value')
<a name="l515"><span class="linenum"> 515</span></a>              ), 'assignment configuration object'
<a name="l516"><span class="linenum"> 516</span></a>          );
<a name="l517"><span class="linenum"> 517</span></a>      }
<a name="l518"><span class="linenum"> 518</span></a>  
<a name="l519"><span class="linenum"> 519</span></a>      <span class="comment">/**</span>
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment">     * Creates a course external_single_structure</span>
<a name="l521"><span class="linenum"> 521</span></a>  <span class="comment">     *</span>
<a name="l522"><span class="linenum"> 522</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l523"><span class="linenum"> 523</span></a>  <span class="comment">     * @since Moodle 2.4</span>
<a name="l524"><span class="linenum"> 524</span></a>  <span class="comment">     */</span>
<a name="l525"><span class="linenum"> 525</span></a>      private static function <a class="function" onClick="logFunction('get_assignments_course_structure')" href="../../_functions/get_assignments_course_structure.html" onMouseOver="funcPopup(event,'get_assignments_course_structure')">get_assignments_course_structure</a>() {
<a name="l526"><span class="linenum"> 526</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l527"><span class="linenum"> 527</span></a>              array(
<a name="l528"><span class="linenum"> 528</span></a>                  'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'course id'),
<a name="l529"><span class="linenum"> 529</span></a>                  'fullname' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'course full name'),
<a name="l530"><span class="linenum"> 530</span></a>                  'shortname' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'course short name'),
<a name="l531"><span class="linenum"> 531</span></a>                  'timemodified' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'last time modified'),
<a name="l532"><span class="linenum"> 532</span></a>                  'assignments' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('get_assignments_assignment_structure')" href="../../_functions/get_assignments_assignment_structure.html" onMouseOver="funcPopup(event,'get_assignments_assignment_structure')">get_assignments_assignment_structure</a>(), 'assignment info')
<a name="l533"><span class="linenum"> 533</span></a>                ), 'course information object'
<a name="l534"><span class="linenum"> 534</span></a>          );
<a name="l535"><span class="linenum"> 535</span></a>      }
<a name="l536"><span class="linenum"> 536</span></a>  
<a name="l537"><span class="linenum"> 537</span></a>      <span class="comment">/**</span>
<a name="l538"><span class="linenum"> 538</span></a>  <span class="comment">     * Describes the return value for get_assignments</span>
<a name="l539"><span class="linenum"> 539</span></a>  <span class="comment">     *</span>
<a name="l540"><span class="linenum"> 540</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l541"><span class="linenum"> 541</span></a>  <span class="comment">     * @since Moodle 2.4</span>
<a name="l542"><span class="linenum"> 542</span></a>  <span class="comment">     */</span>
<a name="l543"><span class="linenum"> 543</span></a>      public static function <a class="function" onClick="logFunction('get_assignments_returns')" href="../../_functions/get_assignments_returns.html" onMouseOver="funcPopup(event,'get_assignments_returns')">get_assignments_returns</a>() {
<a name="l544"><span class="linenum"> 544</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l545"><span class="linenum"> 545</span></a>              array(
<a name="l546"><span class="linenum"> 546</span></a>                  'courses' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('get_assignments_course_structure')" href="../../_functions/get_assignments_course_structure.html" onMouseOver="funcPopup(event,'get_assignments_course_structure')">get_assignments_course_structure</a>(), 'list of courses'),
<a name="l547"><span class="linenum"> 547</span></a>                  'warnings'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>('item can be \'course\' (errorcode 1 or 2) or \'module\' (errorcode 1)',
<a name="l548"><span class="linenum"> 548</span></a>                      'When item is a course then itemid is a course id. When the item is a module then itemid is a module id',
<a name="l549"><span class="linenum"> 549</span></a>                      'errorcode can be 1 (no access rights) or 2 (not enrolled or no permissions)')
<a name="l550"><span class="linenum"> 550</span></a>              )
<a name="l551"><span class="linenum"> 551</span></a>          );
<a name="l552"><span class="linenum"> 552</span></a>      }
<a name="l553"><span class="linenum"> 553</span></a>  
<a name="l554"><span class="linenum"> 554</span></a>      <span class="comment">/**</span>
<a name="l555"><span class="linenum"> 555</span></a>  <span class="comment">     * Describes the parameters for get_submissions</span>
<a name="l556"><span class="linenum"> 556</span></a>  <span class="comment">     *</span>
<a name="l557"><span class="linenum"> 557</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l558"><span class="linenum"> 558</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l559"><span class="linenum"> 559</span></a>  <span class="comment">     */</span>
<a name="l560"><span class="linenum"> 560</span></a>      public static function <a class="function" onClick="logFunction('get_submissions_parameters')" href="../../_functions/get_submissions_parameters.html" onMouseOver="funcPopup(event,'get_submissions_parameters')">get_submissions_parameters</a>() {
<a name="l561"><span class="linenum"> 561</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l562"><span class="linenum"> 562</span></a>              array(
<a name="l563"><span class="linenum"> 563</span></a>                  'assignmentids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l564"><span class="linenum"> 564</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'assignment id'),
<a name="l565"><span class="linenum"> 565</span></a>                      '1 or more assignment ids',
<a name="l566"><span class="linenum"> 566</span></a>                      <a class="constant" onClick="logConstant('VALUE_REQUIRED')" href="../../_constants/VALUE_REQUIRED.html" onMouseOver="constPopup(event,'VALUE_REQUIRED')">VALUE_REQUIRED</a>),
<a name="l567"><span class="linenum"> 567</span></a>                  'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>, 'status', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, ''),
<a name="l568"><span class="linenum"> 568</span></a>                  'since' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'submitted since', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 0),
<a name="l569"><span class="linenum"> 569</span></a>                  'before' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'submitted before', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 0)
<a name="l570"><span class="linenum"> 570</span></a>              )
<a name="l571"><span class="linenum"> 571</span></a>          );
<a name="l572"><span class="linenum"> 572</span></a>      }
<a name="l573"><span class="linenum"> 573</span></a>  
<a name="l574"><span class="linenum"> 574</span></a>      <span class="comment">/**</span>
<a name="l575"><span class="linenum"> 575</span></a>  <span class="comment">     * Returns submissions for the requested assignment ids</span>
<a name="l576"><span class="linenum"> 576</span></a>  <span class="comment">     *</span>
<a name="l577"><span class="linenum"> 577</span></a>  <span class="comment">     * @param int[] $assignmentids</span>
<a name="l578"><span class="linenum"> 578</span></a>  <span class="comment">     * @param string $status only return submissions with this status</span>
<a name="l579"><span class="linenum"> 579</span></a>  <span class="comment">     * @param int $since only return submissions with timemodified &gt;= since</span>
<a name="l580"><span class="linenum"> 580</span></a>  <span class="comment">     * @param int $before only return submissions with timemodified &lt;= before</span>
<a name="l581"><span class="linenum"> 581</span></a>  <span class="comment">     * @return array of submissions for each requested assignment</span>
<a name="l582"><span class="linenum"> 582</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l583"><span class="linenum"> 583</span></a>  <span class="comment">     */</span>
<a name="l584"><span class="linenum"> 584</span></a>      public static function <a class="function" onClick="logFunction('get_submissions')" href="../../_functions/get_submissions.html" onMouseOver="funcPopup(event,'get_submissions')">get_submissions</a>(<a class="var it7036" onMouseOver="hilite(7036)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a>, <a class="var it741" onMouseOver="hilite(741)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a> = '', <a class="var it5804" onMouseOver="hilite(5804)" onMouseOut="lolite()" onClick="logVariable('since')" href="../../_variables/since.html">$since</a> = 0, <a class="var it1662" onMouseOver="hilite(1662)" onMouseOut="lolite()" onClick="logVariable('before')" href="../../_variables/before.html">$before</a> = 0) {
<a name="l585"><span class="linenum"> 585</span></a>          global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l586"><span class="linenum"> 586</span></a>          require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/assign/locallib.php&quot;);
<a name="l587"><span class="linenum"> 587</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_submissions_parameters')" href="../../_functions/get_submissions_parameters.html" onMouseOver="funcPopup(event,'get_submissions_parameters')">get_submissions_parameters</a>(),
<a name="l588"><span class="linenum"> 588</span></a>                          array('assignmentids' =&gt; <a class="var it7036" onMouseOver="hilite(7036)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a>,
<a name="l589"><span class="linenum"> 589</span></a>                                'status' =&gt; <a class="var it741" onMouseOver="hilite(741)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../_variables/status.html">$status</a>,
<a name="l590"><span class="linenum"> 590</span></a>                                'since' =&gt; <a class="var it5804" onMouseOver="hilite(5804)" onMouseOut="lolite()" onClick="logVariable('since')" href="../../_variables/since.html">$since</a>,
<a name="l591"><span class="linenum"> 591</span></a>                                'before' =&gt; <a class="var it1662" onMouseOver="hilite(1662)" onMouseOut="lolite()" onClick="logVariable('before')" href="../../_variables/before.html">$before</a>));
<a name="l592"><span class="linenum"> 592</span></a>  
<a name="l593"><span class="linenum"> 593</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a> = array();
<a name="l594"><span class="linenum"> 594</span></a>          <a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a> = array();
<a name="l595"><span class="linenum"> 595</span></a>  
<a name="l596"><span class="linenum"> 596</span></a>  <span class="comment">        // Check the user is allowed to get the submissions for the assignments requested.</span>
<a name="l597"><span class="linenum"> 597</span></a>          <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a> = array();
<a name="l598"><span class="linenum"> 598</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it38350" onMouseOver="hilite(38350)" onMouseOut="lolite()" onClick="logVariable('inorequalsql')" href="../../_variables/inorequalsql.html">$inorequalsql</a>, <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentids'], <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l599"><span class="linenum"> 599</span></a>          <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;SELECT cm.id, cm.instance FROM {course_modules} cm JOIN {modules} md ON md.id = cm.module &quot;.
<a name="l600"><span class="linenum"> 600</span></a>                 &quot;WHERE md.name = :modname AND cm.instance &quot;.<a class="var it38350" onMouseOver="hilite(38350)" onMouseOut="lolite()" onClick="logVariable('inorequalsql')" href="../../_variables/inorequalsql.html">$inorequalsql</a>;
<a name="l601"><span class="linenum"> 601</span></a>          <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>['modname'] = 'assign';
<a name="l602"><span class="linenum"> 602</span></a>          <a class="var it1704" onMouseOver="hilite(1704)" onMouseOut="lolite()" onClick="logVariable('cms')" href="../../_variables/cms.html">$cms</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>);
<a name="l603"><span class="linenum"> 603</span></a>          <a class="var it6462" onMouseOver="hilite(6462)" onMouseOut="lolite()" onClick="logVariable('assigns')" href="../../_variables/assigns.html">$assigns</a> = array();
<a name="l604"><span class="linenum"> 604</span></a>          foreach (<a class="var it1704" onMouseOver="hilite(1704)" onMouseOut="lolite()" onClick="logVariable('cms')" href="../../_variables/cms.html">$cms</a> as <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>) {
<a name="l605"><span class="linenum"> 605</span></a>              try {
<a name="l606"><span class="linenum"> 606</span></a>                  <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l607"><span class="linenum"> 607</span></a>                  self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l608"><span class="linenum"> 608</span></a>                  <a class="function" onClick="logFunction('require_capability')" href="../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('mod/assign:grade', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l609"><span class="linenum"> 609</span></a>                  <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, null, null);
<a name="l610"><span class="linenum"> 610</span></a>                  <a class="var it6462" onMouseOver="hilite(6462)" onMouseOut="lolite()" onClick="logVariable('assigns')" href="../../_variables/assigns.html">$assigns</a>[] = <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>;
<a name="l611"><span class="linenum"> 611</span></a>              } catch (Exception <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l612"><span class="linenum"> 612</span></a>                  <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = array(
<a name="l613"><span class="linenum"> 613</span></a>                      'item' =&gt; 'assignment',
<a name="l614"><span class="linenum"> 614</span></a>                      'itemid' =&gt; <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>,
<a name="l615"><span class="linenum"> 615</span></a>                      'warningcode' =&gt; '1',
<a name="l616"><span class="linenum"> 616</span></a>                      'message' =&gt; 'No access rights in module context'
<a name="l617"><span class="linenum"> 617</span></a>                  );
<a name="l618"><span class="linenum"> 618</span></a>              }
<a name="l619"><span class="linenum"> 619</span></a>          }
<a name="l620"><span class="linenum"> 620</span></a>  
<a name="l621"><span class="linenum"> 621</span></a>          foreach (<a class="var it6462" onMouseOver="hilite(6462)" onMouseOut="lolite()" onClick="logVariable('assigns')" href="../../_variables/assigns.html">$assigns</a> as <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>) {
<a name="l622"><span class="linenum"> 622</span></a>              <a class="var it7060" onMouseOver="hilite(7060)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a> = array();
<a name="l623"><span class="linenum"> 623</span></a>              <a class="var it14980" onMouseOver="hilite(14980)" onMouseOut="lolite()" onClick="logVariable('submissionplugins')" href="../../_variables/submissionplugins.html">$submissionplugins</a> = <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('get_submission_plugins')" href="../../_functions/get_submission_plugins.html" onMouseOver="funcPopup(event,'get_submission_plugins')">get_submission_plugins</a>();
<a name="l624"><span class="linenum"> 624</span></a>              <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a> = array('assignid1' =&gt; <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>()-&gt;id,
<a name="l625"><span class="linenum"> 625</span></a>                                    'assignid2' =&gt; <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>()-&gt;id);
<a name="l626"><span class="linenum"> 626</span></a>  
<a name="l627"><span class="linenum"> 627</span></a>              <a class="var it38356" onMouseOver="hilite(38356)" onMouseOut="lolite()" onClick="logVariable('submissionmaxattempt')" href="../../_variables/submissionmaxattempt.html">$submissionmaxattempt</a> = 'SELECT mxs.userid, <a class="phpfunction" onClick="logFunction('MAX')" href="../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">MAX</a>(mxs.attemptnumber) AS maxattempt
<a name="l628"><span class="linenum"> 628</span></a>                                       FROM {assign_submission} mxs
<a name="l629"><span class="linenum"> 629</span></a>                                       WHERE mxs.assignment = :assignid1 GROUP BY mxs.userid';
<a name="l630"><span class="linenum"> 630</span></a>  
<a name="l631"><span class="linenum"> 631</span></a>              <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;SELECT mas.id, mas.assignment,mas.userid,&quot;.
<a name="l632"><span class="linenum"> 632</span></a>                     &quot;mas.timecreated,mas.timemodified,mas.status,mas.groupid,mas.attemptnumber &quot;.
<a name="l633"><span class="linenum"> 633</span></a>                     &quot;FROM {assign_submission} mas &quot;.
<a name="l634"><span class="linenum"> 634</span></a>                     &quot;<a class="function" onClick="logFunction('JOIN')" href="../../_functions/join.html" onMouseOver="funcPopup(event,'join')">JOIN</a> ( &quot; . <a class="var it38356" onMouseOver="hilite(38356)" onMouseOut="lolite()" onClick="logVariable('submissionmaxattempt')" href="../../_variables/submissionmaxattempt.html">$submissionmaxattempt</a> . &quot; ) smx ON mas.userid = smx.userid &quot;.
<a name="l635"><span class="linenum"> 635</span></a>                     &quot;WHERE mas.assignment = :assignid2 AND mas.attemptnumber = smx.maxattempt&quot;;
<a name="l636"><span class="linenum"> 636</span></a>  
<a name="l637"><span class="linenum"> 637</span></a>              if (!empty(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['status'])) {
<a name="l638"><span class="linenum"> 638</span></a>                  <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>['status'] = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['status'];
<a name="l639"><span class="linenum"> 639</span></a>                  <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>.&quot; AND mas.status = :status&quot;;
<a name="l640"><span class="linenum"> 640</span></a>              }
<a name="l641"><span class="linenum"> 641</span></a>              if (!empty(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['before'])) {
<a name="l642"><span class="linenum"> 642</span></a>                  <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>['since'] = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['since'];
<a name="l643"><span class="linenum"> 643</span></a>                  <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>['before'] = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['before'];
<a name="l644"><span class="linenum"> 644</span></a>                  <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>.&quot; AND mas.timemodified BETWEEN :since AND :before&quot;;
<a name="l645"><span class="linenum"> 645</span></a>              } else {
<a name="l646"><span class="linenum"> 646</span></a>                  <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>['since'] = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['since'];
<a name="l647"><span class="linenum"> 647</span></a>                  <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>.&quot; AND mas.timemodified &gt;= :since&quot;;
<a name="l648"><span class="linenum"> 648</span></a>              }
<a name="l649"><span class="linenum"> 649</span></a>  
<a name="l650"><span class="linenum"> 650</span></a>              <a class="var it38357" onMouseOver="hilite(38357)" onMouseOut="lolite()" onClick="logVariable('submissionrecords')" href="../../_variables/submissionrecords.html">$submissionrecords</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>);
<a name="l651"><span class="linenum"> 651</span></a>  
<a name="l652"><span class="linenum"> 652</span></a>              if (!empty(<a class="var it38357" onMouseOver="hilite(38357)" onMouseOut="lolite()" onClick="logVariable('submissionrecords')" href="../../_variables/submissionrecords.html">$submissionrecords</a>)) {
<a name="l653"><span class="linenum"> 653</span></a>                  <a class="var it586" onMouseOver="hilite(586)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a> = <a class="function" onClick="logFunction('get_file_storage')" href="../../_functions/get_file_storage.html" onMouseOver="funcPopup(event,'get_file_storage')">get_file_storage</a>();
<a name="l654"><span class="linenum"> 654</span></a>                  foreach (<a class="var it38357" onMouseOver="hilite(38357)" onMouseOut="lolite()" onClick="logVariable('submissionrecords')" href="../../_variables/submissionrecords.html">$submissionrecords</a> as <a class="var it38358" onMouseOver="hilite(38358)" onMouseOut="lolite()" onClick="logVariable('submissionrecord')" href="../../_variables/submissionrecord.html">$submissionrecord</a>) {
<a name="l655"><span class="linenum"> 655</span></a>                      <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a> = array(
<a name="l656"><span class="linenum"> 656</span></a>                          'id' =&gt; <a class="var it38358" onMouseOver="hilite(38358)" onMouseOut="lolite()" onClick="logVariable('submissionrecord')" href="../../_variables/submissionrecord.html">$submissionrecord</a>-&gt;<a onClick="logVariable('id')" class="var it41157" onMouseOver="hilite(41157)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l657"><span class="linenum"> 657</span></a>                          'userid' =&gt; <a class="var it38358" onMouseOver="hilite(38358)" onMouseOut="lolite()" onClick="logVariable('submissionrecord')" href="../../_variables/submissionrecord.html">$submissionrecord</a>-&gt;<a onClick="logVariable('userid')" class="var it41157" onMouseOver="hilite(41157)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>,
<a name="l658"><span class="linenum"> 658</span></a>                          'timecreated' =&gt; <a class="var it38358" onMouseOver="hilite(38358)" onMouseOut="lolite()" onClick="logVariable('submissionrecord')" href="../../_variables/submissionrecord.html">$submissionrecord</a>-&gt;<a onClick="logVariable('timecreated')" class="var it41157" onMouseOver="hilite(41157)" onMouseOut="lolite()" href="../../_variables/timecreated.html">timecreated</a>,
<a name="l659"><span class="linenum"> 659</span></a>                          'timemodified' =&gt; <a class="var it38358" onMouseOver="hilite(38358)" onMouseOut="lolite()" onClick="logVariable('submissionrecord')" href="../../_variables/submissionrecord.html">$submissionrecord</a>-&gt;<a onClick="logVariable('timemodified')" class="var it41157" onMouseOver="hilite(41157)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a>,
<a name="l660"><span class="linenum"> 660</span></a>                          'status' =&gt; <a class="var it38358" onMouseOver="hilite(38358)" onMouseOut="lolite()" onClick="logVariable('submissionrecord')" href="../../_variables/submissionrecord.html">$submissionrecord</a>-&gt;<a onClick="logVariable('status')" class="var it41157" onMouseOver="hilite(41157)" onMouseOut="lolite()" href="../../_variables/status.html">status</a>,
<a name="l661"><span class="linenum"> 661</span></a>                          'attemptnumber' =&gt; <a class="var it38358" onMouseOver="hilite(38358)" onMouseOut="lolite()" onClick="logVariable('submissionrecord')" href="../../_variables/submissionrecord.html">$submissionrecord</a>-&gt;<a onClick="logVariable('attemptnumber')" class="var it41157" onMouseOver="hilite(41157)" onMouseOut="lolite()" href="../../_variables/attemptnumber.html">attemptnumber</a>,
<a name="l662"><span class="linenum"> 662</span></a>                          'groupid' =&gt; <a class="var it38358" onMouseOver="hilite(38358)" onMouseOut="lolite()" onClick="logVariable('submissionrecord')" href="../../_variables/submissionrecord.html">$submissionrecord</a>-&gt;groupid
<a name="l663"><span class="linenum"> 663</span></a>                      );
<a name="l664"><span class="linenum"> 664</span></a>                      foreach (<a class="var it14980" onMouseOver="hilite(14980)" onMouseOut="lolite()" onClick="logVariable('submissionplugins')" href="../../_variables/submissionplugins.html">$submissionplugins</a> as <a class="var it27263" onMouseOver="hilite(27263)" onMouseOut="lolite()" onClick="logVariable('submissionplugin')" href="../../_variables/submissionplugin.html">$submissionplugin</a>) {
<a name="l665"><span class="linenum"> 665</span></a>                          <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a> = array(
<a name="l666"><span class="linenum"> 666</span></a>                              'name' =&gt; <a class="var it27263" onMouseOver="hilite(27263)" onMouseOut="lolite()" onClick="logVariable('submissionplugin')" href="../../_variables/submissionplugin.html">$submissionplugin</a>-&gt;<a class="function" onClick="logFunction('get_name')" href="../../_functions/get_name.html" onMouseOver="funcPopup(event,'get_name')">get_name</a>(),
<a name="l667"><span class="linenum"> 667</span></a>                              'type' =&gt; <a class="var it27263" onMouseOver="hilite(27263)" onMouseOut="lolite()" onClick="logVariable('submissionplugin')" href="../../_variables/submissionplugin.html">$submissionplugin</a>-&gt;<a class="function" onClick="logFunction('get_type')" href="../../_functions/get_type.html" onMouseOver="funcPopup(event,'get_type')">get_type</a>()
<a name="l668"><span class="linenum"> 668</span></a>                          );
<a name="l669"><span class="linenum"> 669</span></a>  <span class="comment">                        // Subtype is 'assignsubmission', type is currently 'file' or 'onlinetext'.</span>
<a name="l670"><span class="linenum"> 670</span></a>                          <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a> = <a class="var it27263" onMouseOver="hilite(27263)" onMouseOut="lolite()" onClick="logVariable('submissionplugin')" href="../../_variables/submissionplugin.html">$submissionplugin</a>-&gt;<a class="function" onClick="logFunction('get_subtype')" href="../../_functions/get_subtype.html" onMouseOver="funcPopup(event,'get_subtype')">get_subtype</a>().'_'.<a class="var it27263" onMouseOver="hilite(27263)" onMouseOut="lolite()" onClick="logVariable('submissionplugin')" href="../../_variables/submissionplugin.html">$submissionplugin</a>-&gt;<a class="function" onClick="logFunction('get_type')" href="../../_functions/get_type.html" onMouseOver="funcPopup(event,'get_type')">get_type</a>();
<a name="l671"><span class="linenum"> 671</span></a>  
<a name="l672"><span class="linenum"> 672</span></a>                          <a class="var it6022" onMouseOver="hilite(6022)" onMouseOut="lolite()" onClick="logVariable('fileareas')" href="../../_variables/fileareas.html">$fileareas</a> = <a class="var it27263" onMouseOver="hilite(27263)" onMouseOut="lolite()" onClick="logVariable('submissionplugin')" href="../../_variables/submissionplugin.html">$submissionplugin</a>-&gt;<a class="function" onClick="logFunction('get_file_areas')" href="../../_functions/get_file_areas.html" onMouseOver="funcPopup(event,'get_file_areas')">get_file_areas</a>();
<a name="l673"><span class="linenum"> 673</span></a>                          foreach (<a class="var it6022" onMouseOver="hilite(6022)" onMouseOut="lolite()" onClick="logVariable('fileareas')" href="../../_variables/fileareas.html">$fileareas</a> as <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a> =&gt; <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>) {
<a name="l674"><span class="linenum"> 674</span></a>                              <a class="var it38359" onMouseOver="hilite(38359)" onMouseOut="lolite()" onClick="logVariable('fileareainfo')" href="../../_variables/fileareainfo.html">$fileareainfo</a> = array('area' =&gt; <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>);
<a name="l675"><span class="linenum"> 675</span></a>                              <a class="var it595" onMouseOver="hilite(595)" onMouseOut="lolite()" onClick="logVariable('files')" href="../../_variables/files.html">$files</a> = <a class="var it586" onMouseOver="hilite(586)" onMouseOut="lolite()" onClick="logVariable('fs')" href="../../_variables/fs.html">$fs</a>-&gt;<a class="function" onClick="logFunction('get_area_files')" href="../../_functions/get_area_files.html" onMouseOver="funcPopup(event,'get_area_files')">get_area_files</a>(
<a name="l676"><span class="linenum"> 676</span></a>                                  <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('get_context')" href="../../_functions/get_context.html" onMouseOver="funcPopup(event,'get_context')">get_context</a>()-&gt;id,
<a name="l677"><span class="linenum"> 677</span></a>                                  <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a>,
<a name="l678"><span class="linenum"> 678</span></a>                                  <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a>,
<a name="l679"><span class="linenum"> 679</span></a>                                  <a class="var it38358" onMouseOver="hilite(38358)" onMouseOut="lolite()" onClick="logVariable('submissionrecord')" href="../../_variables/submissionrecord.html">$submissionrecord</a>-&gt;<a onClick="logVariable('id')" class="var it41157" onMouseOver="hilite(41157)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l680"><span class="linenum"> 680</span></a>                                  &quot;timemodified&quot;,
<a name="l681"><span class="linenum"> 681</span></a>                                  false
<a name="l682"><span class="linenum"> 682</span></a>                              );
<a name="l683"><span class="linenum"> 683</span></a>                              foreach (<a class="var it595" onMouseOver="hilite(595)" onMouseOut="lolite()" onClick="logVariable('files')" href="../../_variables/files.html">$files</a> as <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>) {
<a name="l684"><span class="linenum"> 684</span></a>                                  <a class="var it549" onMouseOver="hilite(549)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a> = <a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filepath')" href="../../_functions/get_filepath.html" onMouseOver="funcPopup(event,'get_filepath')">get_filepath</a>().<a class="var it155" onMouseOver="hilite(155)" onMouseOut="lolite()" onClick="logVariable('file')" href="../../_variables/file.html">$file</a>-&gt;<a class="function" onClick="logFunction('get_filename')" href="../../_functions/get_filename.html" onMouseOver="funcPopup(event,'get_filename')">get_filename</a>();
<a name="l685"><span class="linenum"> 685</span></a>                                  <a class="var it582" onMouseOver="hilite(582)" onMouseOut="lolite()" onClick="logVariable('fileurl')" href="../../_variables/fileurl.html">$fileurl</a> = <a class="function" onClick="logFunction('file_encode_url')" href="../../_functions/file_encode_url.html" onMouseOver="funcPopup(event,'file_encode_url')">file_encode_url</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a> . '<a class="filename" href="../../webservice/pluginfile.php.html">/webservice/pluginfile.php</a>', '/' . <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('get_context')" href="../../_functions/get_context.html" onMouseOver="funcPopup(event,'get_context')">get_context</a>()-&gt;id .
<a name="l686"><span class="linenum"> 686</span></a>                                      '/' . <a class="var it547" onMouseOver="hilite(547)" onMouseOut="lolite()" onClick="logVariable('component')" href="../../_variables/component.html">$component</a>. '/'. <a class="var it548" onMouseOver="hilite(548)" onMouseOut="lolite()" onClick="logVariable('filearea')" href="../../_variables/filearea.html">$filearea</a> . '/' . <a class="var it38358" onMouseOver="hilite(38358)" onMouseOut="lolite()" onClick="logVariable('submissionrecord')" href="../../_variables/submissionrecord.html">$submissionrecord</a>-&gt;<a onClick="logVariable('id')" class="var it41157" onMouseOver="hilite(41157)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> . <a class="var it549" onMouseOver="hilite(549)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>);
<a name="l687"><span class="linenum"> 687</span></a>                                  <a class="var it140" onMouseOver="hilite(140)" onMouseOut="lolite()" onClick="logVariable('fileinfo')" href="../../_variables/fileinfo.html">$fileinfo</a> = array(
<a name="l688"><span class="linenum"> 688</span></a>                                      'filepath' =&gt; <a class="var it549" onMouseOver="hilite(549)" onMouseOut="lolite()" onClick="logVariable('filepath')" href="../../_variables/filepath.html">$filepath</a>,
<a name="l689"><span class="linenum"> 689</span></a>                                      'fileurl' =&gt; <a class="var it582" onMouseOver="hilite(582)" onMouseOut="lolite()" onClick="logVariable('fileurl')" href="../../_variables/fileurl.html">$fileurl</a>
<a name="l690"><span class="linenum"> 690</span></a>                                      );
<a name="l691"><span class="linenum"> 691</span></a>                                  <a class="var it38359" onMouseOver="hilite(38359)" onMouseOut="lolite()" onClick="logVariable('fileareainfo')" href="../../_variables/fileareainfo.html">$fileareainfo</a>['files'][] = <a class="var it140" onMouseOver="hilite(140)" onMouseOut="lolite()" onClick="logVariable('fileinfo')" href="../../_variables/fileinfo.html">$fileinfo</a>;
<a name="l692"><span class="linenum"> 692</span></a>                              }
<a name="l693"><span class="linenum"> 693</span></a>                              <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>['fileareas'][] = <a class="var it38359" onMouseOver="hilite(38359)" onMouseOut="lolite()" onClick="logVariable('fileareainfo')" href="../../_variables/fileareainfo.html">$fileareainfo</a>;
<a name="l694"><span class="linenum"> 694</span></a>                          }
<a name="l695"><span class="linenum"> 695</span></a>  
<a name="l696"><span class="linenum"> 696</span></a>                          <a class="var it38360" onMouseOver="hilite(38360)" onMouseOut="lolite()" onClick="logVariable('editorfields')" href="../../_variables/editorfields.html">$editorfields</a> = <a class="var it27263" onMouseOver="hilite(27263)" onMouseOut="lolite()" onClick="logVariable('submissionplugin')" href="../../_variables/submissionplugin.html">$submissionplugin</a>-&gt;<a class="function" onClick="logFunction('get_editor_fields')" href="../../_functions/get_editor_fields.html" onMouseOver="funcPopup(event,'get_editor_fields')">get_editor_fields</a>();
<a name="l697"><span class="linenum"> 697</span></a>                          foreach (<a class="var it38360" onMouseOver="hilite(38360)" onMouseOut="lolite()" onClick="logVariable('editorfields')" href="../../_variables/editorfields.html">$editorfields</a> as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it507" onMouseOver="hilite(507)" onMouseOut="lolite()" onClick="logVariable('description')" href="../../_variables/description.html">$description</a>) {
<a name="l698"><span class="linenum"> 698</span></a>                              <a class="var it38361" onMouseOver="hilite(38361)" onMouseOut="lolite()" onClick="logVariable('editorfieldinfo')" href="../../_variables/editorfieldinfo.html">$editorfieldinfo</a> = array(
<a name="l699"><span class="linenum"> 699</span></a>                                  'name' =&gt; <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>,
<a name="l700"><span class="linenum"> 700</span></a>                                  'description' =&gt; <a class="var it507" onMouseOver="hilite(507)" onMouseOut="lolite()" onClick="logVariable('description')" href="../../_variables/description.html">$description</a>,
<a name="l701"><span class="linenum"> 701</span></a>                                  'text' =&gt; <a class="var it27263" onMouseOver="hilite(27263)" onMouseOut="lolite()" onClick="logVariable('submissionplugin')" href="../../_variables/submissionplugin.html">$submissionplugin</a>-&gt;<a class="function" onClick="logFunction('get_editor_text')" href="../../_functions/get_editor_text.html" onMouseOver="funcPopup(event,'get_editor_text')">get_editor_text</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it38358" onMouseOver="hilite(38358)" onMouseOut="lolite()" onClick="logVariable('submissionrecord')" href="../../_variables/submissionrecord.html">$submissionrecord</a>-&gt;<a onClick="logVariable('id')" class="var it41157" onMouseOver="hilite(41157)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>),
<a name="l702"><span class="linenum"> 702</span></a>                                  'format' =&gt; <a class="var it27263" onMouseOver="hilite(27263)" onMouseOut="lolite()" onClick="logVariable('submissionplugin')" href="../../_variables/submissionplugin.html">$submissionplugin</a>-&gt;<a class="function" onClick="logFunction('get_editor_format')" href="../../_functions/get_editor_format.html" onMouseOver="funcPopup(event,'get_editor_format')">get_editor_format</a>(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it38358" onMouseOver="hilite(38358)" onMouseOut="lolite()" onClick="logVariable('submissionrecord')" href="../../_variables/submissionrecord.html">$submissionrecord</a>-&gt;<a onClick="logVariable('id')" class="var it41157" onMouseOver="hilite(41157)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>)
<a name="l703"><span class="linenum"> 703</span></a>                              );
<a name="l704"><span class="linenum"> 704</span></a>                              <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>['editorfields'][] = <a class="var it38361" onMouseOver="hilite(38361)" onMouseOut="lolite()" onClick="logVariable('editorfieldinfo')" href="../../_variables/editorfieldinfo.html">$editorfieldinfo</a>;
<a name="l705"><span class="linenum"> 705</span></a>                          }
<a name="l706"><span class="linenum"> 706</span></a>  
<a name="l707"><span class="linenum"> 707</span></a>                          <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>['plugins'][] = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>;
<a name="l708"><span class="linenum"> 708</span></a>                      }
<a name="l709"><span class="linenum"> 709</span></a>                      <a class="var it7060" onMouseOver="hilite(7060)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a>[] = <a class="var it4364" onMouseOver="hilite(4364)" onMouseOut="lolite()" onClick="logVariable('submission')" href="../../_variables/submission.html">$submission</a>;
<a name="l710"><span class="linenum"> 710</span></a>                  }
<a name="l711"><span class="linenum"> 711</span></a>              } else {
<a name="l712"><span class="linenum"> 712</span></a>                  <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = array(
<a name="l713"><span class="linenum"> 713</span></a>                      'item' =&gt; 'module',
<a name="l714"><span class="linenum"> 714</span></a>                      'itemid' =&gt; <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>()-&gt;id,
<a name="l715"><span class="linenum"> 715</span></a>                      'warningcode' =&gt; '3',
<a name="l716"><span class="linenum"> 716</span></a>                      'message' =&gt; 'No submissions found'
<a name="l717"><span class="linenum"> 717</span></a>                  );
<a name="l718"><span class="linenum"> 718</span></a>              }
<a name="l719"><span class="linenum"> 719</span></a>  
<a name="l720"><span class="linenum"> 720</span></a>              <a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a>[] = array(
<a name="l721"><span class="linenum"> 721</span></a>                  'assignmentid' =&gt; <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>()-&gt;id,
<a name="l722"><span class="linenum"> 722</span></a>                  'submissions' =&gt; <a class="var it7060" onMouseOver="hilite(7060)" onMouseOut="lolite()" onClick="logVariable('submissions')" href="../../_variables/submissions.html">$submissions</a>
<a name="l723"><span class="linenum"> 723</span></a>              );
<a name="l724"><span class="linenum"> 724</span></a>  
<a name="l725"><span class="linenum"> 725</span></a>          }
<a name="l726"><span class="linenum"> 726</span></a>  
<a name="l727"><span class="linenum"> 727</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = array(
<a name="l728"><span class="linenum"> 728</span></a>              'assignments' =&gt; <a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a>,
<a name="l729"><span class="linenum"> 729</span></a>              'warnings' =&gt; <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>
<a name="l730"><span class="linenum"> 730</span></a>          );
<a name="l731"><span class="linenum"> 731</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l732"><span class="linenum"> 732</span></a>      }
<a name="l733"><span class="linenum"> 733</span></a>  
<a name="l734"><span class="linenum"> 734</span></a>      <span class="comment">/**</span>
<a name="l735"><span class="linenum"> 735</span></a>  <span class="comment">     * Creates an assign_submissions external_single_structure</span>
<a name="l736"><span class="linenum"> 736</span></a>  <span class="comment">     *</span>
<a name="l737"><span class="linenum"> 737</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l738"><span class="linenum"> 738</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l739"><span class="linenum"> 739</span></a>  <span class="comment">     */</span>
<a name="l740"><span class="linenum"> 740</span></a>      private static function <a class="function" onClick="logFunction('get_submissions_structure')" href="../../_functions/get_submissions_structure.html" onMouseOver="funcPopup(event,'get_submissions_structure')">get_submissions_structure</a>() {
<a name="l741"><span class="linenum"> 741</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l742"><span class="linenum"> 742</span></a>              array (
<a name="l743"><span class="linenum"> 743</span></a>                  'assignmentid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'assignment id'),
<a name="l744"><span class="linenum"> 744</span></a>                  'submissions' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l745"><span class="linenum"> 745</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l746"><span class="linenum"> 746</span></a>                          array(
<a name="l747"><span class="linenum"> 747</span></a>                              'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'submission id'),
<a name="l748"><span class="linenum"> 748</span></a>                              'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'student id'),
<a name="l749"><span class="linenum"> 749</span></a>                              'attemptnumber' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'attempt number'),
<a name="l750"><span class="linenum"> 750</span></a>                              'timecreated' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'submission creation time'),
<a name="l751"><span class="linenum"> 751</span></a>                              'timemodified' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'submission last modified time'),
<a name="l752"><span class="linenum"> 752</span></a>                              'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'submission status'),
<a name="l753"><span class="linenum"> 753</span></a>                              'groupid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'group id'),
<a name="l754"><span class="linenum"> 754</span></a>                              'plugins' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l755"><span class="linenum"> 755</span></a>                                  <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l756"><span class="linenum"> 756</span></a>                                      array(
<a name="l757"><span class="linenum"> 757</span></a>                                          'type' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'submission plugin type'),
<a name="l758"><span class="linenum"> 758</span></a>                                          'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'submission plugin name'),
<a name="l759"><span class="linenum"> 759</span></a>                                          'fileareas' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l760"><span class="linenum"> 760</span></a>                                              <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l761"><span class="linenum"> 761</span></a>                                                  array (
<a name="l762"><span class="linenum"> 762</span></a>                                                      'area' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a> (<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'file area'),
<a name="l763"><span class="linenum"> 763</span></a>                                                      'files' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l764"><span class="linenum"> 764</span></a>                                                          <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l765"><span class="linenum"> 765</span></a>                                                              array (
<a name="l766"><span class="linenum"> 766</span></a>                                                                  'filepath' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a> (<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'file path'),
<a name="l767"><span class="linenum"> 767</span></a>                                                                  'fileurl' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a> (<a class="constant" onClick="logConstant('PARAM_URL')" href="../../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'file download url',
<a name="l768"><span class="linenum"> 768</span></a>                                                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>)
<a name="l769"><span class="linenum"> 769</span></a>                                                              )
<a name="l770"><span class="linenum"> 770</span></a>                                                          ), 'files', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>
<a name="l771"><span class="linenum"> 771</span></a>                                                      )
<a name="l772"><span class="linenum"> 772</span></a>                                                  )
<a name="l773"><span class="linenum"> 773</span></a>                                              ), 'fileareas', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>
<a name="l774"><span class="linenum"> 774</span></a>                                          ),
<a name="l775"><span class="linenum"> 775</span></a>                                          'editorfields' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l776"><span class="linenum"> 776</span></a>                                              <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l777"><span class="linenum"> 777</span></a>                                                  array(
<a name="l778"><span class="linenum"> 778</span></a>                                                      'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'field name'),
<a name="l779"><span class="linenum"> 779</span></a>                                                      'description' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'field description'),
<a name="l780"><span class="linenum"> 780</span></a>                                                      'text' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a> (<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'field value'),
<a name="l781"><span class="linenum"> 781</span></a>                                                      'format' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a> ('text')
<a name="l782"><span class="linenum"> 782</span></a>                                                  )
<a name="l783"><span class="linenum"> 783</span></a>                                              )
<a name="l784"><span class="linenum"> 784</span></a>                                              , 'editorfields', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>
<a name="l785"><span class="linenum"> 785</span></a>                                          )
<a name="l786"><span class="linenum"> 786</span></a>                                      )
<a name="l787"><span class="linenum"> 787</span></a>                                  )
<a name="l788"><span class="linenum"> 788</span></a>                                  , 'plugins', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>
<a name="l789"><span class="linenum"> 789</span></a>                              )
<a name="l790"><span class="linenum"> 790</span></a>                          )
<a name="l791"><span class="linenum"> 791</span></a>                      )
<a name="l792"><span class="linenum"> 792</span></a>                  )
<a name="l793"><span class="linenum"> 793</span></a>              )
<a name="l794"><span class="linenum"> 794</span></a>          );
<a name="l795"><span class="linenum"> 795</span></a>      }
<a name="l796"><span class="linenum"> 796</span></a>  
<a name="l797"><span class="linenum"> 797</span></a>      <span class="comment">/**</span>
<a name="l798"><span class="linenum"> 798</span></a>  <span class="comment">     * Describes the get_submissions return value</span>
<a name="l799"><span class="linenum"> 799</span></a>  <span class="comment">     *</span>
<a name="l800"><span class="linenum"> 800</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l801"><span class="linenum"> 801</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l802"><span class="linenum"> 802</span></a>  <span class="comment">     */</span>
<a name="l803"><span class="linenum"> 803</span></a>      public static function <a class="function" onClick="logFunction('get_submissions_returns')" href="../../_functions/get_submissions_returns.html" onMouseOver="funcPopup(event,'get_submissions_returns')">get_submissions_returns</a>() {
<a name="l804"><span class="linenum"> 804</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l805"><span class="linenum"> 805</span></a>              array(
<a name="l806"><span class="linenum"> 806</span></a>                  'assignments' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('get_submissions_structure')" href="../../_functions/get_submissions_structure.html" onMouseOver="funcPopup(event,'get_submissions_structure')">get_submissions_structure</a>(), 'assignment submissions'),
<a name="l807"><span class="linenum"> 807</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l808"><span class="linenum"> 808</span></a>              )
<a name="l809"><span class="linenum"> 809</span></a>          );
<a name="l810"><span class="linenum"> 810</span></a>      }
<a name="l811"><span class="linenum"> 811</span></a>  
<a name="l812"><span class="linenum"> 812</span></a>      <span class="comment">/**</span>
<a name="l813"><span class="linenum"> 813</span></a>  <span class="comment">     * Describes the parameters for set_user_flags</span>
<a name="l814"><span class="linenum"> 814</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l815"><span class="linenum"> 815</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l816"><span class="linenum"> 816</span></a>  <span class="comment">     */</span>
<a name="l817"><span class="linenum"> 817</span></a>      public static function <a class="function" onClick="logFunction('set_user_flags_parameters')" href="../../_functions/set_user_flags_parameters.html" onMouseOver="funcPopup(event,'set_user_flags_parameters')">set_user_flags_parameters</a>() {
<a name="l818"><span class="linenum"> 818</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l819"><span class="linenum"> 819</span></a>              array(
<a name="l820"><span class="linenum"> 820</span></a>                  'assignmentid'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'assignment id'),
<a name="l821"><span class="linenum"> 821</span></a>                  'userflags' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l822"><span class="linenum"> 822</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l823"><span class="linenum"> 823</span></a>                          array(
<a name="l824"><span class="linenum"> 824</span></a>                              'userid'           =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'student id'),
<a name="l825"><span class="linenum"> 825</span></a>                              'locked'           =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'locked', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l826"><span class="linenum"> 826</span></a>                              'mailed'           =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'mailed', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l827"><span class="linenum"> 827</span></a>                              'extensionduedate' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'extension due date', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l828"><span class="linenum"> 828</span></a>                              'workflowstate'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'marking workflow state', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l829"><span class="linenum"> 829</span></a>                              'allocatedmarker'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'allocated marker', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>)
<a name="l830"><span class="linenum"> 830</span></a>                          )
<a name="l831"><span class="linenum"> 831</span></a>                      )
<a name="l832"><span class="linenum"> 832</span></a>                  )
<a name="l833"><span class="linenum"> 833</span></a>              )
<a name="l834"><span class="linenum"> 834</span></a>          );
<a name="l835"><span class="linenum"> 835</span></a>      }
<a name="l836"><span class="linenum"> 836</span></a>  
<a name="l837"><span class="linenum"> 837</span></a>      <span class="comment">/**</span>
<a name="l838"><span class="linenum"> 838</span></a>  <span class="comment">     * Create or update user_flags records</span>
<a name="l839"><span class="linenum"> 839</span></a>  <span class="comment">     *</span>
<a name="l840"><span class="linenum"> 840</span></a>  <span class="comment">     * @param int $assignmentid the assignment for which the userflags are created or updated</span>
<a name="l841"><span class="linenum"> 841</span></a>  <span class="comment">     * @param array $userflags  An array of userflags to create or update</span>
<a name="l842"><span class="linenum"> 842</span></a>  <span class="comment">     * @return array containing success or failure information for each record</span>
<a name="l843"><span class="linenum"> 843</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l844"><span class="linenum"> 844</span></a>  <span class="comment">     */</span>
<a name="l845"><span class="linenum"> 845</span></a>      public static function <a class="function" onClick="logFunction('set_user_flags')" href="../../_functions/set_user_flags.html" onMouseOver="funcPopup(event,'set_user_flags')">set_user_flags</a>(<a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>, <a class="var it23467" onMouseOver="hilite(23467)" onMouseOut="lolite()" onClick="logVariable('userflags')" href="../../_variables/userflags.html">$userflags</a> = array()) {
<a name="l846"><span class="linenum"> 846</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l847"><span class="linenum"> 847</span></a>          require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . "<a class="filename" href="../../mod/assign/locallib.php.html">/mod/assign/locallib.php</a>");
<a name="l848"><span class="linenum"> 848</span></a>  
<a name="l849"><span class="linenum"> 849</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('set_user_flags_parameters')" href="../../_functions/set_user_flags_parameters.html" onMouseOver="funcPopup(event,'set_user_flags_parameters')">set_user_flags_parameters</a>(),
<a name="l850"><span class="linenum"> 850</span></a>                                              array('assignmentid' =&gt; <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>,
<a name="l851"><span class="linenum"> 851</span></a>                                                    'userflags' =&gt; <a class="var it23467" onMouseOver="hilite(23467)" onMouseOut="lolite()" onClick="logVariable('userflags')" href="../../_variables/userflags.html">$userflags</a>));
<a name="l852"><span class="linenum"> 852</span></a>  
<a name="l853"><span class="linenum"> 853</span></a>  <span class="comment">        // Load assignment if it exists and if the user has the capability.</span>
<a name="l854"><span class="linenum"> 854</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'], 0, false, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l855"><span class="linenum"> 855</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l856"><span class="linenum"> 856</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l857"><span class="linenum"> 857</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('mod/assign:grade', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l858"><span class="linenum"> 858</span></a>          <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, null, null);
<a name="l859"><span class="linenum"> 859</span></a>  
<a name="l860"><span class="linenum"> 860</span></a>          <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a> = array();
<a name="l861"><span class="linenum"> 861</span></a>          foreach (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userflags'] as <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>) {
<a name="l862"><span class="linenum"> 862</span></a>              <a class="var it54" onMouseOver="hilite(54)" onMouseOut="lolite()" onClick="logVariable('success')" href="../../_variables/success.html">$success</a> = true;
<a name="l863"><span class="linenum"> 863</span></a>              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = array();
<a name="l864"><span class="linenum"> 864</span></a>  
<a name="l865"><span class="linenum"> 865</span></a>              <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('get_user_flags')" href="../../_functions/get_user_flags.html" onMouseOver="funcPopup(event,'get_user_flags')">get_user_flags</a>(<a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['userid'], false);
<a name="l866"><span class="linenum"> 866</span></a>              if (<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>) {
<a name="l867"><span class="linenum"> 867</span></a>                  if (isset(<a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['locked'])) {
<a name="l868"><span class="linenum"> 868</span></a>                      <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('locked')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a> = <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['locked'];
<a name="l869"><span class="linenum"> 869</span></a>                  }
<a name="l870"><span class="linenum"> 870</span></a>                  if (isset(<a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['mailed'])) {
<a name="l871"><span class="linenum"> 871</span></a>                      <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('mailed')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/mailed.html">mailed</a> = <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['mailed'];
<a name="l872"><span class="linenum"> 872</span></a>                  }
<a name="l873"><span class="linenum"> 873</span></a>                  if (isset(<a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['extensionduedate'])) {
<a name="l874"><span class="linenum"> 874</span></a>                      <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('extensionduedate')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/extensionduedate.html">extensionduedate</a> = <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['extensionduedate'];
<a name="l875"><span class="linenum"> 875</span></a>                  }
<a name="l876"><span class="linenum"> 876</span></a>                  if (isset(<a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['workflowstate'])) {
<a name="l877"><span class="linenum"> 877</span></a>                      <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('workflowstate')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/workflowstate.html">workflowstate</a> = <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['workflowstate'];
<a name="l878"><span class="linenum"> 878</span></a>                  }
<a name="l879"><span class="linenum"> 879</span></a>                  if (isset(<a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['allocatedmarker'])) {
<a name="l880"><span class="linenum"> 880</span></a>                      <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('allocatedmarker')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/allocatedmarker.html">allocatedmarker</a> = <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['allocatedmarker'];
<a name="l881"><span class="linenum"> 881</span></a>                  }
<a name="l882"><span class="linenum"> 882</span></a>                  if (<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('update_user_flags')" href="../../_functions/update_user_flags.html" onMouseOver="funcPopup(event,'update_user_flags')">update_user_flags</a>(<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>)) {
<a name="l883"><span class="linenum"> 883</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['id'] = <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('id')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l884"><span class="linenum"> 884</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['userid'] = <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['userid'];
<a name="l885"><span class="linenum"> 885</span></a>                  } else {
<a name="l886"><span class="linenum"> 886</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['id'] = <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('id')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l887"><span class="linenum"> 887</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['userid'] = <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['userid'];
<a name="l888"><span class="linenum"> 888</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['errormessage'] = 'Record created but values could not be set';
<a name="l889"><span class="linenum"> 889</span></a>                  }
<a name="l890"><span class="linenum"> 890</span></a>              } else {
<a name="l891"><span class="linenum"> 891</span></a>                  <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = <a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('get_user_flags')" href="../../_functions/get_user_flags.html" onMouseOver="funcPopup(event,'get_user_flags')">get_user_flags</a>(<a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['userid'], true);
<a name="l892"><span class="linenum"> 892</span></a>                  <a class="var it38362" onMouseOver="hilite(38362)" onMouseOut="lolite()" onClick="logVariable('setfields')" href="../../_variables/setfields.html">$setfields</a> = isset(<a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['locked'])
<a name="l893"><span class="linenum"> 893</span></a>                               || isset(<a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['mailed'])
<a name="l894"><span class="linenum"> 894</span></a>                               || isset(<a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['extensionduedate'])
<a name="l895"><span class="linenum"> 895</span></a>                               || isset(<a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['workflowstate'])
<a name="l896"><span class="linenum"> 896</span></a>                               || isset(<a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['allocatedmarker']);
<a name="l897"><span class="linenum"> 897</span></a>                  if (<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>) {
<a name="l898"><span class="linenum"> 898</span></a>                      if (<a class="var it38362" onMouseOver="hilite(38362)" onMouseOut="lolite()" onClick="logVariable('setfields')" href="../../_variables/setfields.html">$setfields</a>) {
<a name="l899"><span class="linenum"> 899</span></a>                          if (isset(<a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['locked'])) {
<a name="l900"><span class="linenum"> 900</span></a>                              <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('locked')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a> = <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['locked'];
<a name="l901"><span class="linenum"> 901</span></a>                          }
<a name="l902"><span class="linenum"> 902</span></a>                          if (isset(<a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['mailed'])) {
<a name="l903"><span class="linenum"> 903</span></a>                              <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('mailed')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/mailed.html">mailed</a> = <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['mailed'];
<a name="l904"><span class="linenum"> 904</span></a>                          }
<a name="l905"><span class="linenum"> 905</span></a>                          if (isset(<a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['extensionduedate'])) {
<a name="l906"><span class="linenum"> 906</span></a>                              <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('extensionduedate')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/extensionduedate.html">extensionduedate</a> = <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['extensionduedate'];
<a name="l907"><span class="linenum"> 907</span></a>                          }
<a name="l908"><span class="linenum"> 908</span></a>                          if (isset(<a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['workflowstate'])) {
<a name="l909"><span class="linenum"> 909</span></a>                              <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('workflowstate')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/workflowstate.html">workflowstate</a> = <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['workflowstate'];
<a name="l910"><span class="linenum"> 910</span></a>                          }
<a name="l911"><span class="linenum"> 911</span></a>                          if (isset(<a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['allocatedmarker'])) {
<a name="l912"><span class="linenum"> 912</span></a>                              <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('allocatedmarker')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/allocatedmarker.html">allocatedmarker</a> = <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['allocatedmarker'];
<a name="l913"><span class="linenum"> 913</span></a>                          }
<a name="l914"><span class="linenum"> 914</span></a>                          if (<a class="var it1610" onMouseOver="hilite(1610)" onMouseOut="lolite()" onClick="logVariable('assign')" href="../../_variables/assign.html">$assign</a>-&gt;<a class="function" onClick="logFunction('update_user_flags')" href="../../_functions/update_user_flags.html" onMouseOver="funcPopup(event,'update_user_flags')">update_user_flags</a>(<a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>)) {
<a name="l915"><span class="linenum"> 915</span></a>                              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['id'] = <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('id')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l916"><span class="linenum"> 916</span></a>                              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['userid'] = <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['userid'];
<a name="l917"><span class="linenum"> 917</span></a>                          } else {
<a name="l918"><span class="linenum"> 918</span></a>                              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['id'] = <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('id')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l919"><span class="linenum"> 919</span></a>                              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['userid'] = <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['userid'];
<a name="l920"><span class="linenum"> 920</span></a>                              <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['errormessage'] = 'Record created but values could not be set';
<a name="l921"><span class="linenum"> 921</span></a>                          }
<a name="l922"><span class="linenum"> 922</span></a>                      } else {
<a name="l923"><span class="linenum"> 923</span></a>                          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['id'] = <a class="var it534" onMouseOver="hilite(534)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('id')" class="var it39518" onMouseOver="hilite(39518)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l924"><span class="linenum"> 924</span></a>                          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['userid'] = <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['userid'];
<a name="l925"><span class="linenum"> 925</span></a>                      }
<a name="l926"><span class="linenum"> 926</span></a>                  } else {
<a name="l927"><span class="linenum"> 927</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['id'] = -1;
<a name="l928"><span class="linenum"> 928</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['userid'] = <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['userid'];
<a name="l929"><span class="linenum"> 929</span></a>                      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['errormessage'] = 'Record could not be created';
<a name="l930"><span class="linenum"> 930</span></a>                  }
<a name="l931"><span class="linenum"> 931</span></a>              }
<a name="l932"><span class="linenum"> 932</span></a>  
<a name="l933"><span class="linenum"> 933</span></a>              <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>[] = <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l934"><span class="linenum"> 934</span></a>          }
<a name="l935"><span class="linenum"> 935</span></a>          return <a class="var it594" onMouseOver="hilite(594)" onMouseOut="lolite()" onClick="logVariable('results')" href="../../_variables/results.html">$results</a>;
<a name="l936"><span class="linenum"> 936</span></a>      }
<a name="l937"><span class="linenum"> 937</span></a>  
<a name="l938"><span class="linenum"> 938</span></a>      <span class="comment">/**</span>
<a name="l939"><span class="linenum"> 939</span></a>  <span class="comment">     * Describes the set_user_flags return value</span>
<a name="l940"><span class="linenum"> 940</span></a>  <span class="comment">     * @return external_multiple_structure</span>
<a name="l941"><span class="linenum"> 941</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l942"><span class="linenum"> 942</span></a>  <span class="comment">     */</span>
<a name="l943"><span class="linenum"> 943</span></a>      public static function <a class="function" onClick="logFunction('set_user_flags_returns')" href="../../_functions/set_user_flags_returns.html" onMouseOver="funcPopup(event,'set_user_flags_returns')">set_user_flags_returns</a>() {
<a name="l944"><span class="linenum"> 944</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l945"><span class="linenum"> 945</span></a>              <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l946"><span class="linenum"> 946</span></a>                  array(
<a name="l947"><span class="linenum"> 947</span></a>                      'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'id of record if successful, -1 for failure'),
<a name="l948"><span class="linenum"> 948</span></a>                      'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'userid of record'),
<a name="l949"><span class="linenum"> 949</span></a>                      'errormessage' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Failure error message', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>)
<a name="l950"><span class="linenum"> 950</span></a>                  )
<a name="l951"><span class="linenum"> 951</span></a>              )
<a name="l952"><span class="linenum"> 952</span></a>          );
<a name="l953"><span class="linenum"> 953</span></a>      }
<a name="l954"><span class="linenum"> 954</span></a>  
<a name="l955"><span class="linenum"> 955</span></a>      <span class="comment">/**</span>
<a name="l956"><span class="linenum"> 956</span></a>  <span class="comment">     * Describes the parameters for get_user_flags</span>
<a name="l957"><span class="linenum"> 957</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l958"><span class="linenum"> 958</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l959"><span class="linenum"> 959</span></a>  <span class="comment">     */</span>
<a name="l960"><span class="linenum"> 960</span></a>      public static function <a class="function" onClick="logFunction('get_user_flags_parameters')" href="../../_functions/get_user_flags_parameters.html" onMouseOver="funcPopup(event,'get_user_flags_parameters')">get_user_flags_parameters</a>() {
<a name="l961"><span class="linenum"> 961</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l962"><span class="linenum"> 962</span></a>              array(
<a name="l963"><span class="linenum"> 963</span></a>                  'assignmentids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l964"><span class="linenum"> 964</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'assignment id'),
<a name="l965"><span class="linenum"> 965</span></a>                      '1 or more assignment ids',
<a name="l966"><span class="linenum"> 966</span></a>                      <a class="constant" onClick="logConstant('VALUE_REQUIRED')" href="../../_constants/VALUE_REQUIRED.html" onMouseOver="constPopup(event,'VALUE_REQUIRED')">VALUE_REQUIRED</a>)
<a name="l967"><span class="linenum"> 967</span></a>              )
<a name="l968"><span class="linenum"> 968</span></a>          );
<a name="l969"><span class="linenum"> 969</span></a>      }
<a name="l970"><span class="linenum"> 970</span></a>  
<a name="l971"><span class="linenum"> 971</span></a>      <span class="comment">/**</span>
<a name="l972"><span class="linenum"> 972</span></a>  <span class="comment">     * Returns user flag information from assign_user_flags for the requested assignment ids</span>
<a name="l973"><span class="linenum"> 973</span></a>  <span class="comment">     * @param int[] $assignmentids</span>
<a name="l974"><span class="linenum"> 974</span></a>  <span class="comment">     * @return array of user flag records for each requested assignment</span>
<a name="l975"><span class="linenum"> 975</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l976"><span class="linenum"> 976</span></a>  <span class="comment">     */</span>
<a name="l977"><span class="linenum"> 977</span></a>      public static function <a class="function" onClick="logFunction('get_user_flags')" href="../../_functions/get_user_flags.html" onMouseOver="funcPopup(event,'get_user_flags')">get_user_flags</a>(<a class="var it7036" onMouseOver="hilite(7036)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a>) {
<a name="l978"><span class="linenum"> 978</span></a>          global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l979"><span class="linenum"> 979</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_user_flags_parameters')" href="../../_functions/get_user_flags_parameters.html" onMouseOver="funcPopup(event,'get_user_flags_parameters')">get_user_flags_parameters</a>(),
<a name="l980"><span class="linenum"> 980</span></a>                          array('assignmentids' =&gt; <a class="var it7036" onMouseOver="hilite(7036)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a>));
<a name="l981"><span class="linenum"> 981</span></a>  
<a name="l982"><span class="linenum"> 982</span></a>          <a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a> = array();
<a name="l983"><span class="linenum"> 983</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a> = array();
<a name="l984"><span class="linenum"> 984</span></a>          <a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a> = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentids'];
<a name="l985"><span class="linenum"> 985</span></a>  
<a name="l986"><span class="linenum"> 986</span></a>  <span class="comment">        // Check the user is allowed to get the user flags for the assignments requested.</span>
<a name="l987"><span class="linenum"> 987</span></a>          <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a> = array();
<a name="l988"><span class="linenum"> 988</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it7045" onMouseOver="hilite(7045)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>, <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a>, <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l989"><span class="linenum"> 989</span></a>          <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;SELECT cm.id, cm.instance FROM {course_modules} cm JOIN {modules} md ON md.id = cm.module &quot;.
<a name="l990"><span class="linenum"> 990</span></a>                 &quot;WHERE md.name = :modname AND cm.instance &quot;.<a class="var it7045" onMouseOver="hilite(7045)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>;
<a name="l991"><span class="linenum"> 991</span></a>          <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>['modname'] = 'assign';
<a name="l992"><span class="linenum"> 992</span></a>          <a class="var it1704" onMouseOver="hilite(1704)" onMouseOut="lolite()" onClick="logVariable('cms')" href="../../_variables/cms.html">$cms</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>);
<a name="l993"><span class="linenum"> 993</span></a>          foreach (<a class="var it1704" onMouseOver="hilite(1704)" onMouseOut="lolite()" onClick="logVariable('cms')" href="../../_variables/cms.html">$cms</a> as <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>) {
<a name="l994"><span class="linenum"> 994</span></a>              try {
<a name="l995"><span class="linenum"> 995</span></a>                  <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l996"><span class="linenum"> 996</span></a>                  self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l997"><span class="linenum"> 997</span></a>                  <a class="function" onClick="logFunction('require_capability')" href="../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('mod/assign:grade', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l998"><span class="linenum"> 998</span></a>              } catch (Exception <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l999"><span class="linenum"> 999</span></a>                  <a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a> = <a class="phpfunction" onClick="logFunction('array_diff')" href="../../_functions/array_diff.html" onMouseOver="phpfuncPopup(event,'array_diff')">array_diff</a>(<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a>, array(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>));
<a name="l1000"><span class="linenum">1000</span></a>                  <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a> = array();
<a name="l1001"><span class="linenum">1001</span></a>                  <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['item'] = 'assignment';
<a name="l1002"><span class="linenum">1002</span></a>                  <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['itemid'] = <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>;
<a name="l1003"><span class="linenum">1003</span></a>                  <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['warningcode'] = '1';
<a name="l1004"><span class="linenum">1004</span></a>                  <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['message'] = 'No access rights in module context';
<a name="l1005"><span class="linenum">1005</span></a>                  <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>;
<a name="l1006"><span class="linenum">1006</span></a>              }
<a name="l1007"><span class="linenum">1007</span></a>          }
<a name="l1008"><span class="linenum">1008</span></a>  
<a name="l1009"><span class="linenum">1009</span></a>  <span class="comment">        // Create the query and populate an array of assign_user_flags records from the recordset results.</span>
<a name="l1010"><span class="linenum">1010</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a> (<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a>) &gt; 0) {
<a name="l1011"><span class="linenum">1011</span></a>              <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a> = array();
<a name="l1012"><span class="linenum">1012</span></a>              <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it38350" onMouseOver="hilite(38350)" onMouseOut="lolite()" onClick="logVariable('inorequalsql')" href="../../_variables/inorequalsql.html">$inorequalsql</a>, <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a>, <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l1013"><span class="linenum">1013</span></a>  
<a name="l1014"><span class="linenum">1014</span></a>              <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;SELECT auf.id,auf.assignment,auf.userid,auf.locked,auf.mailed,&quot;.
<a name="l1015"><span class="linenum">1015</span></a>                     &quot;auf.extensionduedate,auf.workflowstate,auf.allocatedmarker &quot;.
<a name="l1016"><span class="linenum">1016</span></a>                     &quot;FROM {assign_user_flags} auf &quot;.
<a name="l1017"><span class="linenum">1017</span></a>                     &quot;WHERE auf.assignment &quot;.<a class="var it38350" onMouseOver="hilite(38350)" onMouseOut="lolite()" onClick="logVariable('inorequalsql')" href="../../_variables/inorequalsql.html">$inorequalsql</a>.
<a name="l1018"><span class="linenum">1018</span></a>                     &quot; ORDER BY auf.assignment, auf.id&quot;;
<a name="l1019"><span class="linenum">1019</span></a>  
<a name="l1020"><span class="linenum">1020</span></a>              <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../_variables/rs.html">$rs</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>);
<a name="l1021"><span class="linenum">1021</span></a>              <a class="var it38351" onMouseOver="hilite(38351)" onMouseOut="lolite()" onClick="logVariable('currentassignmentid')" href="../../_variables/currentassignmentid.html">$currentassignmentid</a> = null;
<a name="l1022"><span class="linenum">1022</span></a>              <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = null;
<a name="l1023"><span class="linenum">1023</span></a>              foreach (<a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../_variables/rs.html">$rs</a> as <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>) {
<a name="l1024"><span class="linenum">1024</span></a>                  <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a> = array();
<a name="l1025"><span class="linenum">1025</span></a>                  <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['id'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('id')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l1026"><span class="linenum">1026</span></a>                  <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['userid'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('userid')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>;
<a name="l1027"><span class="linenum">1027</span></a>                  <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['locked'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('locked')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/locked.html">locked</a>;
<a name="l1028"><span class="linenum">1028</span></a>                  <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['mailed'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('mailed')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/mailed.html">mailed</a>;
<a name="l1029"><span class="linenum">1029</span></a>                  <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['extensionduedate'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('extensionduedate')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/extensionduedate.html">extensionduedate</a>;
<a name="l1030"><span class="linenum">1030</span></a>                  <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['workflowstate'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('workflowstate')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/workflowstate.html">workflowstate</a>;
<a name="l1031"><span class="linenum">1031</span></a>                  <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>['allocatedmarker'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('allocatedmarker')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/allocatedmarker.html">allocatedmarker</a>;
<a name="l1032"><span class="linenum">1032</span></a>  
<a name="l1033"><span class="linenum">1033</span></a>                  if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it38351" onMouseOver="hilite(38351)" onMouseOut="lolite()" onClick="logVariable('currentassignmentid')" href="../../_variables/currentassignmentid.html">$currentassignmentid</a>) || (<a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('assignment')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/assignment.html">assignment</a> != <a class="var it38351" onMouseOver="hilite(38351)" onMouseOut="lolite()" onClick="logVariable('currentassignmentid')" href="../../_variables/currentassignmentid.html">$currentassignmentid</a> )) {
<a name="l1034"><span class="linenum">1034</span></a>                      if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>)) {
<a name="l1035"><span class="linenum">1035</span></a>                          <a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a>[] = <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>;
<a name="l1036"><span class="linenum">1036</span></a>                      }
<a name="l1037"><span class="linenum">1037</span></a>                      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = array();
<a name="l1038"><span class="linenum">1038</span></a>                      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>['assignmentid'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('assignment')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/assignment.html">assignment</a>;
<a name="l1039"><span class="linenum">1039</span></a>                      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>['userflags'] = array();
<a name="l1040"><span class="linenum">1040</span></a>                      <a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a> = <a class="phpfunction" onClick="logFunction('array_diff')" href="../../_functions/array_diff.html" onMouseOver="phpfuncPopup(event,'array_diff')">array_diff</a>(<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a>, array(<a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('assignment')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/assignment.html">assignment</a>));
<a name="l1041"><span class="linenum">1041</span></a>                  }
<a name="l1042"><span class="linenum">1042</span></a>                  <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>['userflags'][] = <a class="var it23468" onMouseOver="hilite(23468)" onMouseOut="lolite()" onClick="logVariable('userflag')" href="../../_variables/userflag.html">$userflag</a>;
<a name="l1043"><span class="linenum">1043</span></a>  
<a name="l1044"><span class="linenum">1044</span></a>                  <a class="var it38351" onMouseOver="hilite(38351)" onMouseOut="lolite()" onClick="logVariable('currentassignmentid')" href="../../_variables/currentassignmentid.html">$currentassignmentid</a> = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('assignment')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/assignment.html">assignment</a>;
<a name="l1045"><span class="linenum">1045</span></a>              }
<a name="l1046"><span class="linenum">1046</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>)) {
<a name="l1047"><span class="linenum">1047</span></a>                  <a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a>[] = <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>;
<a name="l1048"><span class="linenum">1048</span></a>              }
<a name="l1049"><span class="linenum">1049</span></a>              <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../_variables/rs.html">$rs</a>-&gt;<a class="function" onClick="logFunction('close')" href="../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l1050"><span class="linenum">1050</span></a>  
<a name="l1051"><span class="linenum">1051</span></a>          }
<a name="l1052"><span class="linenum">1052</span></a>  
<a name="l1053"><span class="linenum">1053</span></a>          foreach (<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a> as <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>) {
<a name="l1054"><span class="linenum">1054</span></a>              <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a> = array();
<a name="l1055"><span class="linenum">1055</span></a>              <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['item'] = 'assignment';
<a name="l1056"><span class="linenum">1056</span></a>              <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['itemid'] = <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>;
<a name="l1057"><span class="linenum">1057</span></a>              <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['warningcode'] = '3';
<a name="l1058"><span class="linenum">1058</span></a>              <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['message'] = 'No user flags found';
<a name="l1059"><span class="linenum">1059</span></a>              <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>;
<a name="l1060"><span class="linenum">1060</span></a>          }
<a name="l1061"><span class="linenum">1061</span></a>  
<a name="l1062"><span class="linenum">1062</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = array();
<a name="l1063"><span class="linenum">1063</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['assignments'] = <a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a>;
<a name="l1064"><span class="linenum">1064</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['warnings'] = <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>;
<a name="l1065"><span class="linenum">1065</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l1066"><span class="linenum">1066</span></a>      }
<a name="l1067"><span class="linenum">1067</span></a>  
<a name="l1068"><span class="linenum">1068</span></a>      <span class="comment">/**</span>
<a name="l1069"><span class="linenum">1069</span></a>  <span class="comment">     * Creates an assign_user_flags external_single_structure</span>
<a name="l1070"><span class="linenum">1070</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1071"><span class="linenum">1071</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l1072"><span class="linenum">1072</span></a>  <span class="comment">     */</span>
<a name="l1073"><span class="linenum">1073</span></a>      private static function <a class="function" onClick="logFunction('assign_user_flags')" href="../../_functions/assign_user_flags.html" onMouseOver="funcPopup(event,'assign_user_flags')">assign_user_flags</a>() {
<a name="l1074"><span class="linenum">1074</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1075"><span class="linenum">1075</span></a>              array (
<a name="l1076"><span class="linenum">1076</span></a>                  'assignmentid'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'assignment id'),
<a name="l1077"><span class="linenum">1077</span></a>                  'userflags'   =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(<span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1078"><span class="linenum">1078</span></a>                          array(
<a name="l1079"><span class="linenum">1079</span></a>                              'id'               =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user flag id'),
<a name="l1080"><span class="linenum">1080</span></a>                              'userid'           =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'student id'),
<a name="l1081"><span class="linenum">1081</span></a>                              'locked'           =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'locked'),
<a name="l1082"><span class="linenum">1082</span></a>                              'mailed'           =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'mailed'),
<a name="l1083"><span class="linenum">1083</span></a>                              'extensionduedate' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'extension due date'),
<a name="l1084"><span class="linenum">1084</span></a>                              'workflowstate'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'marking workflow state', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l1085"><span class="linenum">1085</span></a>                              'allocatedmarker'  =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'allocated marker')
<a name="l1086"><span class="linenum">1086</span></a>                          )
<a name="l1087"><span class="linenum">1087</span></a>                      )
<a name="l1088"><span class="linenum">1088</span></a>                  )
<a name="l1089"><span class="linenum">1089</span></a>              )
<a name="l1090"><span class="linenum">1090</span></a>          );
<a name="l1091"><span class="linenum">1091</span></a>      }
<a name="l1092"><span class="linenum">1092</span></a>  
<a name="l1093"><span class="linenum">1093</span></a>      <span class="comment">/**</span>
<a name="l1094"><span class="linenum">1094</span></a>  <span class="comment">     * Describes the get_user_flags return value</span>
<a name="l1095"><span class="linenum">1095</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1096"><span class="linenum">1096</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l1097"><span class="linenum">1097</span></a>  <span class="comment">     */</span>
<a name="l1098"><span class="linenum">1098</span></a>      public static function <a class="function" onClick="logFunction('get_user_flags_returns')" href="../../_functions/get_user_flags_returns.html" onMouseOver="funcPopup(event,'get_user_flags_returns')">get_user_flags_returns</a>() {
<a name="l1099"><span class="linenum">1099</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1100"><span class="linenum">1100</span></a>              array(
<a name="l1101"><span class="linenum">1101</span></a>                  'assignments' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('assign_user_flags')" href="../../_functions/assign_user_flags.html" onMouseOver="funcPopup(event,'assign_user_flags')">assign_user_flags</a>(), 'list of assign user flag information'),
<a name="l1102"><span class="linenum">1102</span></a>                  'warnings'      =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>('item is always \'assignment\'',
<a name="l1103"><span class="linenum">1103</span></a>                      'when errorcode is 3 then itemid is an assignment id. When errorcode is 1, itemid is a course module id',
<a name="l1104"><span class="linenum">1104</span></a>                      'errorcode can be 3 (no user flags found) or 1 (no permission to get user flags)')
<a name="l1105"><span class="linenum">1105</span></a>              )
<a name="l1106"><span class="linenum">1106</span></a>          );
<a name="l1107"><span class="linenum">1107</span></a>      }
<a name="l1108"><span class="linenum">1108</span></a>  
<a name="l1109"><span class="linenum">1109</span></a>      <span class="comment">/**</span>
<a name="l1110"><span class="linenum">1110</span></a>  <span class="comment">     * Describes the parameters for get_user_mappings</span>
<a name="l1111"><span class="linenum">1111</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1112"><span class="linenum">1112</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l1113"><span class="linenum">1113</span></a>  <span class="comment">     */</span>
<a name="l1114"><span class="linenum">1114</span></a>      public static function <a class="function" onClick="logFunction('get_user_mappings_parameters')" href="../../_functions/get_user_mappings_parameters.html" onMouseOver="funcPopup(event,'get_user_mappings_parameters')">get_user_mappings_parameters</a>() {
<a name="l1115"><span class="linenum">1115</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1116"><span class="linenum">1116</span></a>              array(
<a name="l1117"><span class="linenum">1117</span></a>                  'assignmentids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1118"><span class="linenum">1118</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'assignment id'),
<a name="l1119"><span class="linenum">1119</span></a>                      '1 or more assignment ids',
<a name="l1120"><span class="linenum">1120</span></a>                      <a class="constant" onClick="logConstant('VALUE_REQUIRED')" href="../../_constants/VALUE_REQUIRED.html" onMouseOver="constPopup(event,'VALUE_REQUIRED')">VALUE_REQUIRED</a>)
<a name="l1121"><span class="linenum">1121</span></a>              )
<a name="l1122"><span class="linenum">1122</span></a>          );
<a name="l1123"><span class="linenum">1123</span></a>      }
<a name="l1124"><span class="linenum">1124</span></a>  
<a name="l1125"><span class="linenum">1125</span></a>      <span class="comment">/**</span>
<a name="l1126"><span class="linenum">1126</span></a>  <span class="comment">     * Returns user mapping information from assign_user_mapping for the requested assignment ids</span>
<a name="l1127"><span class="linenum">1127</span></a>  <span class="comment">     * @param int[] $assignmentids</span>
<a name="l1128"><span class="linenum">1128</span></a>  <span class="comment">     * @return array of user mapping records for each requested assignment</span>
<a name="l1129"><span class="linenum">1129</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l1130"><span class="linenum">1130</span></a>  <span class="comment">     */</span>
<a name="l1131"><span class="linenum">1131</span></a>      public static function <a class="function" onClick="logFunction('get_user_mappings')" href="../../_functions/get_user_mappings.html" onMouseOver="funcPopup(event,'get_user_mappings')">get_user_mappings</a>(<a class="var it7036" onMouseOver="hilite(7036)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a>) {
<a name="l1132"><span class="linenum">1132</span></a>          global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l1133"><span class="linenum">1133</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_user_mappings_parameters')" href="../../_functions/get_user_mappings_parameters.html" onMouseOver="funcPopup(event,'get_user_mappings_parameters')">get_user_mappings_parameters</a>(),
<a name="l1134"><span class="linenum">1134</span></a>                          array('assignmentids' =&gt; <a class="var it7036" onMouseOver="hilite(7036)" onMouseOut="lolite()" onClick="logVariable('assignmentids')" href="../../_variables/assignmentids.html">$assignmentids</a>));
<a name="l1135"><span class="linenum">1135</span></a>  
<a name="l1136"><span class="linenum">1136</span></a>          <a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a> = array();
<a name="l1137"><span class="linenum">1137</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a> = array();
<a name="l1138"><span class="linenum">1138</span></a>          <a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a> = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentids'];
<a name="l1139"><span class="linenum">1139</span></a>  
<a name="l1140"><span class="linenum">1140</span></a>  <span class="comment">        // Check the user is allowed to get the mappings for the assignments requested.</span>
<a name="l1141"><span class="linenum">1141</span></a>          <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a> = array();
<a name="l1142"><span class="linenum">1142</span></a>          <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it7045" onMouseOver="hilite(7045)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>, <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a>, <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l1143"><span class="linenum">1143</span></a>          <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;SELECT cm.id, cm.instance FROM {course_modules} cm JOIN {modules} md ON md.id = cm.module &quot;.
<a name="l1144"><span class="linenum">1144</span></a>                 &quot;WHERE md.name = :modname AND cm.instance &quot;.<a class="var it7045" onMouseOver="hilite(7045)" onMouseOut="lolite()" onClick="logVariable('sqlassignmentids')" href="../../_variables/sqlassignmentids.html">$sqlassignmentids</a>;
<a name="l1145"><span class="linenum">1145</span></a>          <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>['modname'] = 'assign';
<a name="l1146"><span class="linenum">1146</span></a>          <a class="var it1704" onMouseOver="hilite(1704)" onMouseOut="lolite()" onClick="logVariable('cms')" href="../../_variables/cms.html">$cms</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>);
<a name="l1147"><span class="linenum">1147</span></a>          foreach (<a class="var it1704" onMouseOver="hilite(1704)" onMouseOut="lolite()" onClick="logVariable('cms')" href="../../_variables/cms.html">$cms</a> as <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>) {
<a name="l1148"><span class="linenum">1148</span></a>              try {
<a name="l1149"><span class="linenum">1149</span></a>                  <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1150"><span class="linenum">1150</span></a>                  self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l1151"><span class="linenum">1151</span></a>                  <a class="function" onClick="logFunction('require_capability')" href="../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('mod/assign:revealidentities', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l1152"><span class="linenum">1152</span></a>              } catch (Exception <a class="var it193" onMouseOver="hilite(193)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l1153"><span class="linenum">1153</span></a>                  <a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a> = <a class="phpfunction" onClick="logFunction('array_diff')" href="../../_functions/array_diff.html" onMouseOver="phpfuncPopup(event,'array_diff')">array_diff</a>(<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a>, array(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>));
<a name="l1154"><span class="linenum">1154</span></a>                  <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a> = array();
<a name="l1155"><span class="linenum">1155</span></a>                  <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['item'] = 'assignment';
<a name="l1156"><span class="linenum">1156</span></a>                  <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['itemid'] = <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>;
<a name="l1157"><span class="linenum">1157</span></a>                  <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['warningcode'] = '1';
<a name="l1158"><span class="linenum">1158</span></a>                  <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['message'] = 'No access rights in module context';
<a name="l1159"><span class="linenum">1159</span></a>                  <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>;
<a name="l1160"><span class="linenum">1160</span></a>              }
<a name="l1161"><span class="linenum">1161</span></a>          }
<a name="l1162"><span class="linenum">1162</span></a>  
<a name="l1163"><span class="linenum">1163</span></a>  <span class="comment">        // Create the query and populate an array of assign_user_mapping records from the recordset results.</span>
<a name="l1164"><span class="linenum">1164</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a> (<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a>) &gt; 0) {
<a name="l1165"><span class="linenum">1165</span></a>              <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a> = array();
<a name="l1166"><span class="linenum">1166</span></a>              <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it38350" onMouseOver="hilite(38350)" onMouseOut="lolite()" onClick="logVariable('inorequalsql')" href="../../_variables/inorequalsql.html">$inorequalsql</a>, <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>) = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_in_or_equal')" href="../../_functions/get_in_or_equal.html" onMouseOver="funcPopup(event,'get_in_or_equal')">get_in_or_equal</a>(<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a>, <a class="constant" onClick="logConstant('SQL_PARAMS_NAMED')" href="../../_constants/SQL_PARAMS_NAMED.html" onMouseOver="constPopup(event,'SQL_PARAMS_NAMED')">SQL_PARAMS_NAMED</a>);
<a name="l1167"><span class="linenum">1167</span></a>  
<a name="l1168"><span class="linenum">1168</span></a>              <a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a> = &quot;SELECT aum.id,aum.assignment,aum.userid &quot;.
<a name="l1169"><span class="linenum">1169</span></a>                     &quot;FROM {assign_user_mapping} aum &quot;.
<a name="l1170"><span class="linenum">1170</span></a>                     &quot;WHERE aum.assignment &quot;.<a class="var it38350" onMouseOver="hilite(38350)" onMouseOut="lolite()" onClick="logVariable('inorequalsql')" href="../../_variables/inorequalsql.html">$inorequalsql</a>.
<a name="l1171"><span class="linenum">1171</span></a>                     &quot; ORDER BY aum.assignment, aum.id&quot;;
<a name="l1172"><span class="linenum">1172</span></a>  
<a name="l1173"><span class="linenum">1173</span></a>              <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../_variables/rs.html">$rs</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_recordset_sql')" href="../../_functions/get_recordset_sql.html" onMouseOver="funcPopup(event,'get_recordset_sql')">get_recordset_sql</a>(<a class="var it125" onMouseOver="hilite(125)" onMouseOut="lolite()" onClick="logVariable('sql')" href="../../_variables/sql.html">$sql</a>, <a class="var it24541" onMouseOver="hilite(24541)" onMouseOut="lolite()" onClick="logVariable('placeholders')" href="../../_variables/placeholders.html">$placeholders</a>);
<a name="l1174"><span class="linenum">1174</span></a>              <a class="var it38351" onMouseOver="hilite(38351)" onMouseOut="lolite()" onClick="logVariable('currentassignmentid')" href="../../_variables/currentassignmentid.html">$currentassignmentid</a> = null;
<a name="l1175"><span class="linenum">1175</span></a>              <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = null;
<a name="l1176"><span class="linenum">1176</span></a>              foreach (<a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../_variables/rs.html">$rs</a> as <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>) {
<a name="l1177"><span class="linenum">1177</span></a>                  <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('mapping')" href="../../_variables/mapping.html">$mapping</a> = array();
<a name="l1178"><span class="linenum">1178</span></a>                  <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('mapping')" href="../../_variables/mapping.html">$mapping</a>['id'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('id')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l1179"><span class="linenum">1179</span></a>                  <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('mapping')" href="../../_variables/mapping.html">$mapping</a>['userid'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('userid')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>;
<a name="l1180"><span class="linenum">1180</span></a>  
<a name="l1181"><span class="linenum">1181</span></a>                  if (<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it38351" onMouseOver="hilite(38351)" onMouseOut="lolite()" onClick="logVariable('currentassignmentid')" href="../../_variables/currentassignmentid.html">$currentassignmentid</a>) || (<a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('assignment')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/assignment.html">assignment</a> != <a class="var it38351" onMouseOver="hilite(38351)" onMouseOut="lolite()" onClick="logVariable('currentassignmentid')" href="../../_variables/currentassignmentid.html">$currentassignmentid</a> )) {
<a name="l1182"><span class="linenum">1182</span></a>                      if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>)) {
<a name="l1183"><span class="linenum">1183</span></a>                          <a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a>[] = <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>;
<a name="l1184"><span class="linenum">1184</span></a>                      }
<a name="l1185"><span class="linenum">1185</span></a>                      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = array();
<a name="l1186"><span class="linenum">1186</span></a>                      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>['assignmentid'] = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('assignment')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/assignment.html">assignment</a>;
<a name="l1187"><span class="linenum">1187</span></a>                      <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>['mappings'] = array();
<a name="l1188"><span class="linenum">1188</span></a>                      <a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a> = <a class="phpfunction" onClick="logFunction('array_diff')" href="../../_functions/array_diff.html" onMouseOver="phpfuncPopup(event,'array_diff')">array_diff</a>(<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a>, array(<a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('assignment')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/assignment.html">assignment</a>));
<a name="l1189"><span class="linenum">1189</span></a>                  }
<a name="l1190"><span class="linenum">1190</span></a>                  <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>['mappings'][] = <a class="var it187" onMouseOver="hilite(187)" onMouseOut="lolite()" onClick="logVariable('mapping')" href="../../_variables/mapping.html">$mapping</a>;
<a name="l1191"><span class="linenum">1191</span></a>  
<a name="l1192"><span class="linenum">1192</span></a>                  <a class="var it38351" onMouseOver="hilite(38351)" onMouseOut="lolite()" onClick="logVariable('currentassignmentid')" href="../../_variables/currentassignmentid.html">$currentassignmentid</a> = <a class="var it7059" onMouseOver="hilite(7059)" onMouseOut="lolite()" onClick="logVariable('rd')" href="../../_variables/rd.html">$rd</a>-&gt;<a onClick="logVariable('assignment')" class="var it40976" onMouseOver="hilite(40976)" onMouseOut="lolite()" href="../../_variables/assignment.html">assignment</a>;
<a name="l1193"><span class="linenum">1193</span></a>              }
<a name="l1194"><span class="linenum">1194</span></a>              if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>)) {
<a name="l1195"><span class="linenum">1195</span></a>                  <a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a>[] = <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>;
<a name="l1196"><span class="linenum">1196</span></a>              }
<a name="l1197"><span class="linenum">1197</span></a>              <a class="var it519" onMouseOver="hilite(519)" onMouseOut="lolite()" onClick="logVariable('rs')" href="../../_variables/rs.html">$rs</a>-&gt;<a class="function" onClick="logFunction('close')" href="../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l1198"><span class="linenum">1198</span></a>  
<a name="l1199"><span class="linenum">1199</span></a>          }
<a name="l1200"><span class="linenum">1200</span></a>  
<a name="l1201"><span class="linenum">1201</span></a>          foreach (<a class="var it38349" onMouseOver="hilite(38349)" onMouseOut="lolite()" onClick="logVariable('requestedassignmentids')" href="../../_variables/requestedassignmentids.html">$requestedassignmentids</a> as <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>) {
<a name="l1202"><span class="linenum">1202</span></a>              <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a> = array();
<a name="l1203"><span class="linenum">1203</span></a>              <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['item'] = 'assignment';
<a name="l1204"><span class="linenum">1204</span></a>              <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['itemid'] = <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>;
<a name="l1205"><span class="linenum">1205</span></a>              <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['warningcode'] = '3';
<a name="l1206"><span class="linenum">1206</span></a>              <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>['message'] = 'No mappings found';
<a name="l1207"><span class="linenum">1207</span></a>              <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = <a class="var it3122" onMouseOver="hilite(3122)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../../_variables/warning.html">$warning</a>;
<a name="l1208"><span class="linenum">1208</span></a>          }
<a name="l1209"><span class="linenum">1209</span></a>  
<a name="l1210"><span class="linenum">1210</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = array();
<a name="l1211"><span class="linenum">1211</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['assignments'] = <a class="var it6030" onMouseOver="hilite(6030)" onMouseOut="lolite()" onClick="logVariable('assignments')" href="../../_variables/assignments.html">$assignments</a>;
<a name="l1212"><span class="linenum">1212</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>['warnings'] = <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>;
<a name="l1213"><span class="linenum">1213</span></a>          return <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a>;
<a name="l1214"><span class="linenum">1214</span></a>      }
<a name="l1215"><span class="linenum">1215</span></a>  
<a name="l1216"><span class="linenum">1216</span></a>      <span class="comment">/**</span>
<a name="l1217"><span class="linenum">1217</span></a>  <span class="comment">     * Creates an assign_user_mappings external_single_structure</span>
<a name="l1218"><span class="linenum">1218</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1219"><span class="linenum">1219</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l1220"><span class="linenum">1220</span></a>  <span class="comment">     */</span>
<a name="l1221"><span class="linenum">1221</span></a>      private static function <a class="function" onClick="logFunction('assign_user_mappings')" href="../../_functions/assign_user_mappings.html" onMouseOver="funcPopup(event,'assign_user_mappings')">assign_user_mappings</a>() {
<a name="l1222"><span class="linenum">1222</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1223"><span class="linenum">1223</span></a>              array (
<a name="l1224"><span class="linenum">1224</span></a>                  'assignmentid'    =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'assignment id'),
<a name="l1225"><span class="linenum">1225</span></a>                  'mappings'   =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(<span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1226"><span class="linenum">1226</span></a>                          array(
<a name="l1227"><span class="linenum">1227</span></a>                              'id'     =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user mapping id'),
<a name="l1228"><span class="linenum">1228</span></a>                              'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'student id')
<a name="l1229"><span class="linenum">1229</span></a>                          )
<a name="l1230"><span class="linenum">1230</span></a>                      )
<a name="l1231"><span class="linenum">1231</span></a>                  )
<a name="l1232"><span class="linenum">1232</span></a>              )
<a name="l1233"><span class="linenum">1233</span></a>          );
<a name="l1234"><span class="linenum">1234</span></a>      }
<a name="l1235"><span class="linenum">1235</span></a>  
<a name="l1236"><span class="linenum">1236</span></a>      <span class="comment">/**</span>
<a name="l1237"><span class="linenum">1237</span></a>  <span class="comment">     * Describes the get_user_mappings return value</span>
<a name="l1238"><span class="linenum">1238</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1239"><span class="linenum">1239</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l1240"><span class="linenum">1240</span></a>  <span class="comment">     */</span>
<a name="l1241"><span class="linenum">1241</span></a>      public static function <a class="function" onClick="logFunction('get_user_mappings_returns')" href="../../_functions/get_user_mappings_returns.html" onMouseOver="funcPopup(event,'get_user_mappings_returns')">get_user_mappings_returns</a>() {
<a name="l1242"><span class="linenum">1242</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1243"><span class="linenum">1243</span></a>              array(
<a name="l1244"><span class="linenum">1244</span></a>                  'assignments' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(self::<a class="function" onClick="logFunction('assign_user_mappings')" href="../../_functions/assign_user_mappings.html" onMouseOver="funcPopup(event,'assign_user_mappings')">assign_user_mappings</a>(), 'list of assign user mapping data'),
<a name="l1245"><span class="linenum">1245</span></a>                  'warnings'      =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>('item is always \'assignment\'',
<a name="l1246"><span class="linenum">1246</span></a>                      'when errorcode is 3 then itemid is an assignment id. When errorcode is 1, itemid is a course module id',
<a name="l1247"><span class="linenum">1247</span></a>                      'errorcode can be 3 (no user mappings found) or 1 (no permission to get user mappings)')
<a name="l1248"><span class="linenum">1248</span></a>              )
<a name="l1249"><span class="linenum">1249</span></a>          );
<a name="l1250"><span class="linenum">1250</span></a>      }
<a name="l1251"><span class="linenum">1251</span></a>  
<a name="l1252"><span class="linenum">1252</span></a>      <span class="comment">/**</span>
<a name="l1253"><span class="linenum">1253</span></a>  <span class="comment">     * Describes the parameters for lock_submissions</span>
<a name="l1254"><span class="linenum">1254</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1255"><span class="linenum">1255</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l1256"><span class="linenum">1256</span></a>  <span class="comment">     */</span>
<a name="l1257"><span class="linenum">1257</span></a>      public static function <a class="function" onClick="logFunction('lock_submissions_parameters')" href="../../_functions/lock_submissions_parameters.html" onMouseOver="funcPopup(event,'lock_submissions_parameters')">lock_submissions_parameters</a>() {
<a name="l1258"><span class="linenum">1258</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1259"><span class="linenum">1259</span></a>              array(
<a name="l1260"><span class="linenum">1260</span></a>                  'assignmentid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The assignment id to operate on'),
<a name="l1261"><span class="linenum">1261</span></a>                  'userids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1262"><span class="linenum">1262</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user id'),
<a name="l1263"><span class="linenum">1263</span></a>                      '1 or more user ids',
<a name="l1264"><span class="linenum">1264</span></a>                      <a class="constant" onClick="logConstant('VALUE_REQUIRED')" href="../../_constants/VALUE_REQUIRED.html" onMouseOver="constPopup(event,'VALUE_REQUIRED')">VALUE_REQUIRED</a>),
<a name="l1265"><span class="linenum">1265</span></a>              )
<a name="l1266"><span class="linenum">1266</span></a>          );
<a name="l1267"><span class="linenum">1267</span></a>      }
<a name="l1268"><span class="linenum">1268</span></a>  
<a name="l1269"><span class="linenum">1269</span></a>      <span class="comment">/**</span>
<a name="l1270"><span class="linenum">1270</span></a>  <span class="comment">     * Locks (prevent updates to) submissions in this assignment.</span>
<a name="l1271"><span class="linenum">1271</span></a>  <span class="comment">     *</span>
<a name="l1272"><span class="linenum">1272</span></a>  <span class="comment">     * @param int $assignmentid The id of the assignment</span>
<a name="l1273"><span class="linenum">1273</span></a>  <span class="comment">     * @param array $userids Array of user ids to lock</span>
<a name="l1274"><span class="linenum">1274</span></a>  <span class="comment">     * @return array of warnings for each submission that could not be locked.</span>
<a name="l1275"><span class="linenum">1275</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1276"><span class="linenum">1276</span></a>  <span class="comment">     */</span>
<a name="l1277"><span class="linenum">1277</span></a>      public static function <a class="function" onClick="logFunction('lock_submissions')" href="../../_functions/lock_submissions.html" onMouseOver="funcPopup(event,'lock_submissions')">lock_submissions</a>(<a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>, <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a>) {
<a name="l1278"><span class="linenum">1278</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1279"><span class="linenum">1279</span></a>          require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/assign/locallib.php&quot;);
<a name="l1280"><span class="linenum">1280</span></a>  
<a name="l1281"><span class="linenum">1281</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('lock_submissions_parameters')" href="../../_functions/lock_submissions_parameters.html" onMouseOver="funcPopup(event,'lock_submissions_parameters')">lock_submissions_parameters</a>(),
<a name="l1282"><span class="linenum">1282</span></a>                          array('assignmentid' =&gt; <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>,
<a name="l1283"><span class="linenum">1283</span></a>                                'userids' =&gt; <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a>));
<a name="l1284"><span class="linenum">1284</span></a>  
<a name="l1285"><span class="linenum">1285</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'], 0, false, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l1286"><span class="linenum">1286</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1287"><span class="linenum">1287</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l1288"><span class="linenum">1288</span></a>  
<a name="l1289"><span class="linenum">1289</span></a>          <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, null);
<a name="l1290"><span class="linenum">1290</span></a>  
<a name="l1291"><span class="linenum">1291</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a> = array();
<a name="l1292"><span class="linenum">1292</span></a>          foreach (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userids'] as <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>) {
<a name="l1293"><span class="linenum">1293</span></a>              if (!<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('lock_submission')" href="../../_functions/lock_submission.html" onMouseOver="funcPopup(event,'lock_submission')">lock_submission</a>(<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>)) {
<a name="l1294"><span class="linenum">1294</span></a>                  <a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a> = 'User id: ' . <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> . ', Assignment id: ' . <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'];
<a name="l1295"><span class="linenum">1295</span></a>                  <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = self::<a class="function" onClick="logFunction('generate_warning')" href="../../_functions/generate_warning.html" onMouseOver="funcPopup(event,'generate_warning')">generate_warning</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'],
<a name="l1296"><span class="linenum">1296</span></a>                                                       'couldnotlock',
<a name="l1297"><span class="linenum">1297</span></a>                                                       <a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a>);
<a name="l1298"><span class="linenum">1298</span></a>              }
<a name="l1299"><span class="linenum">1299</span></a>          }
<a name="l1300"><span class="linenum">1300</span></a>  
<a name="l1301"><span class="linenum">1301</span></a>          return <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>;
<a name="l1302"><span class="linenum">1302</span></a>      }
<a name="l1303"><span class="linenum">1303</span></a>  
<a name="l1304"><span class="linenum">1304</span></a>      <span class="comment">/**</span>
<a name="l1305"><span class="linenum">1305</span></a>  <span class="comment">     * Describes the return value for lock_submissions</span>
<a name="l1306"><span class="linenum">1306</span></a>  <span class="comment">     *</span>
<a name="l1307"><span class="linenum">1307</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1308"><span class="linenum">1308</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1309"><span class="linenum">1309</span></a>  <span class="comment">     */</span>
<a name="l1310"><span class="linenum">1310</span></a>      public static function <a class="function" onClick="logFunction('lock_submissions_returns')" href="../../_functions/lock_submissions_returns.html" onMouseOver="funcPopup(event,'lock_submissions_returns')">lock_submissions_returns</a>() {
<a name="l1311"><span class="linenum">1311</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>();
<a name="l1312"><span class="linenum">1312</span></a>      }
<a name="l1313"><span class="linenum">1313</span></a>  
<a name="l1314"><span class="linenum">1314</span></a>      <span class="comment">/**</span>
<a name="l1315"><span class="linenum">1315</span></a>  <span class="comment">     * Describes the parameters for revert_submissions_to_draft</span>
<a name="l1316"><span class="linenum">1316</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1317"><span class="linenum">1317</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l1318"><span class="linenum">1318</span></a>  <span class="comment">     */</span>
<a name="l1319"><span class="linenum">1319</span></a>      public static function <a class="function" onClick="logFunction('revert_submissions_to_draft_parameters')" href="../../_functions/revert_submissions_to_draft_parameters.html" onMouseOver="funcPopup(event,'revert_submissions_to_draft_parameters')">revert_submissions_to_draft_parameters</a>() {
<a name="l1320"><span class="linenum">1320</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1321"><span class="linenum">1321</span></a>              array(
<a name="l1322"><span class="linenum">1322</span></a>                  'assignmentid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The assignment id to operate on'),
<a name="l1323"><span class="linenum">1323</span></a>                  'userids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1324"><span class="linenum">1324</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user id'),
<a name="l1325"><span class="linenum">1325</span></a>                      '1 or more user ids',
<a name="l1326"><span class="linenum">1326</span></a>                      <a class="constant" onClick="logConstant('VALUE_REQUIRED')" href="../../_constants/VALUE_REQUIRED.html" onMouseOver="constPopup(event,'VALUE_REQUIRED')">VALUE_REQUIRED</a>),
<a name="l1327"><span class="linenum">1327</span></a>              )
<a name="l1328"><span class="linenum">1328</span></a>          );
<a name="l1329"><span class="linenum">1329</span></a>      }
<a name="l1330"><span class="linenum">1330</span></a>  
<a name="l1331"><span class="linenum">1331</span></a>      <span class="comment">/**</span>
<a name="l1332"><span class="linenum">1332</span></a>  <span class="comment">     * Reverts a list of user submissions to draft for a single assignment.</span>
<a name="l1333"><span class="linenum">1333</span></a>  <span class="comment">     *</span>
<a name="l1334"><span class="linenum">1334</span></a>  <span class="comment">     * @param int $assignmentid The id of the assignment</span>
<a name="l1335"><span class="linenum">1335</span></a>  <span class="comment">     * @param array $userids Array of user ids to revert</span>
<a name="l1336"><span class="linenum">1336</span></a>  <span class="comment">     * @return array of warnings for each submission that could not be reverted.</span>
<a name="l1337"><span class="linenum">1337</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1338"><span class="linenum">1338</span></a>  <span class="comment">     */</span>
<a name="l1339"><span class="linenum">1339</span></a>      public static function <a class="function" onClick="logFunction('revert_submissions_to_draft')" href="../../_functions/revert_submissions_to_draft.html" onMouseOver="funcPopup(event,'revert_submissions_to_draft')">revert_submissions_to_draft</a>(<a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>, <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a>) {
<a name="l1340"><span class="linenum">1340</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1341"><span class="linenum">1341</span></a>          require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/assign/locallib.php&quot;);
<a name="l1342"><span class="linenum">1342</span></a>  
<a name="l1343"><span class="linenum">1343</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('revert_submissions_to_draft_parameters')" href="../../_functions/revert_submissions_to_draft_parameters.html" onMouseOver="funcPopup(event,'revert_submissions_to_draft_parameters')">revert_submissions_to_draft_parameters</a>(),
<a name="l1344"><span class="linenum">1344</span></a>                          array('assignmentid' =&gt; <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>,
<a name="l1345"><span class="linenum">1345</span></a>                                'userids' =&gt; <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a>));
<a name="l1346"><span class="linenum">1346</span></a>  
<a name="l1347"><span class="linenum">1347</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'], 0, false, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l1348"><span class="linenum">1348</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1349"><span class="linenum">1349</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l1350"><span class="linenum">1350</span></a>  
<a name="l1351"><span class="linenum">1351</span></a>          <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, null);
<a name="l1352"><span class="linenum">1352</span></a>  
<a name="l1353"><span class="linenum">1353</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a> = array();
<a name="l1354"><span class="linenum">1354</span></a>          foreach (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userids'] as <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>) {
<a name="l1355"><span class="linenum">1355</span></a>              if (!<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('revert_to_draft')" href="../../_functions/revert_to_draft.html" onMouseOver="funcPopup(event,'revert_to_draft')">revert_to_draft</a>(<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>)) {
<a name="l1356"><span class="linenum">1356</span></a>                  <a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a> = 'User id: ' . <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> . ', Assignment id: ' . <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'];
<a name="l1357"><span class="linenum">1357</span></a>                  <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = self::<a class="function" onClick="logFunction('generate_warning')" href="../../_functions/generate_warning.html" onMouseOver="funcPopup(event,'generate_warning')">generate_warning</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'],
<a name="l1358"><span class="linenum">1358</span></a>                                                       'couldnotrevert',
<a name="l1359"><span class="linenum">1359</span></a>                                                       <a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a>);
<a name="l1360"><span class="linenum">1360</span></a>              }
<a name="l1361"><span class="linenum">1361</span></a>          }
<a name="l1362"><span class="linenum">1362</span></a>  
<a name="l1363"><span class="linenum">1363</span></a>          return <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>;
<a name="l1364"><span class="linenum">1364</span></a>      }
<a name="l1365"><span class="linenum">1365</span></a>  
<a name="l1366"><span class="linenum">1366</span></a>      <span class="comment">/**</span>
<a name="l1367"><span class="linenum">1367</span></a>  <span class="comment">     * Describes the return value for revert_submissions_to_draft</span>
<a name="l1368"><span class="linenum">1368</span></a>  <span class="comment">     *</span>
<a name="l1369"><span class="linenum">1369</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1370"><span class="linenum">1370</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1371"><span class="linenum">1371</span></a>  <span class="comment">     */</span>
<a name="l1372"><span class="linenum">1372</span></a>      public static function <a class="function" onClick="logFunction('revert_submissions_to_draft_returns')" href="../../_functions/revert_submissions_to_draft_returns.html" onMouseOver="funcPopup(event,'revert_submissions_to_draft_returns')">revert_submissions_to_draft_returns</a>() {
<a name="l1373"><span class="linenum">1373</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>();
<a name="l1374"><span class="linenum">1374</span></a>      }
<a name="l1375"><span class="linenum">1375</span></a>  
<a name="l1376"><span class="linenum">1376</span></a>      <span class="comment">/**</span>
<a name="l1377"><span class="linenum">1377</span></a>  <span class="comment">     * Describes the parameters for unlock_submissions</span>
<a name="l1378"><span class="linenum">1378</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1379"><span class="linenum">1379</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l1380"><span class="linenum">1380</span></a>  <span class="comment">     */</span>
<a name="l1381"><span class="linenum">1381</span></a>      public static function <a class="function" onClick="logFunction('unlock_submissions_parameters')" href="../../_functions/unlock_submissions_parameters.html" onMouseOver="funcPopup(event,'unlock_submissions_parameters')">unlock_submissions_parameters</a>() {
<a name="l1382"><span class="linenum">1382</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1383"><span class="linenum">1383</span></a>              array(
<a name="l1384"><span class="linenum">1384</span></a>                  'assignmentid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The assignment id to operate on'),
<a name="l1385"><span class="linenum">1385</span></a>                  'userids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1386"><span class="linenum">1386</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user id'),
<a name="l1387"><span class="linenum">1387</span></a>                      '1 or more user ids',
<a name="l1388"><span class="linenum">1388</span></a>                      <a class="constant" onClick="logConstant('VALUE_REQUIRED')" href="../../_constants/VALUE_REQUIRED.html" onMouseOver="constPopup(event,'VALUE_REQUIRED')">VALUE_REQUIRED</a>),
<a name="l1389"><span class="linenum">1389</span></a>              )
<a name="l1390"><span class="linenum">1390</span></a>          );
<a name="l1391"><span class="linenum">1391</span></a>      }
<a name="l1392"><span class="linenum">1392</span></a>  
<a name="l1393"><span class="linenum">1393</span></a>      <span class="comment">/**</span>
<a name="l1394"><span class="linenum">1394</span></a>  <span class="comment">     * Locks (prevent updates to) submissions in this assignment.</span>
<a name="l1395"><span class="linenum">1395</span></a>  <span class="comment">     *</span>
<a name="l1396"><span class="linenum">1396</span></a>  <span class="comment">     * @param int $assignmentid The id of the assignment</span>
<a name="l1397"><span class="linenum">1397</span></a>  <span class="comment">     * @param array $userids Array of user ids to lock</span>
<a name="l1398"><span class="linenum">1398</span></a>  <span class="comment">     * @return array of warnings for each submission that could not be locked.</span>
<a name="l1399"><span class="linenum">1399</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1400"><span class="linenum">1400</span></a>  <span class="comment">     */</span>
<a name="l1401"><span class="linenum">1401</span></a>      public static function <a class="function" onClick="logFunction('unlock_submissions')" href="../../_functions/unlock_submissions.html" onMouseOver="funcPopup(event,'unlock_submissions')">unlock_submissions</a>(<a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>, <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a>) {
<a name="l1402"><span class="linenum">1402</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1403"><span class="linenum">1403</span></a>          require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/assign/locallib.php&quot;);
<a name="l1404"><span class="linenum">1404</span></a>  
<a name="l1405"><span class="linenum">1405</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('unlock_submissions_parameters')" href="../../_functions/unlock_submissions_parameters.html" onMouseOver="funcPopup(event,'unlock_submissions_parameters')">unlock_submissions_parameters</a>(),
<a name="l1406"><span class="linenum">1406</span></a>                          array('assignmentid' =&gt; <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>,
<a name="l1407"><span class="linenum">1407</span></a>                                'userids' =&gt; <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a>));
<a name="l1408"><span class="linenum">1408</span></a>  
<a name="l1409"><span class="linenum">1409</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'], 0, false, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l1410"><span class="linenum">1410</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1411"><span class="linenum">1411</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l1412"><span class="linenum">1412</span></a>  
<a name="l1413"><span class="linenum">1413</span></a>          <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, null);
<a name="l1414"><span class="linenum">1414</span></a>  
<a name="l1415"><span class="linenum">1415</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a> = array();
<a name="l1416"><span class="linenum">1416</span></a>          foreach (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userids'] as <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>) {
<a name="l1417"><span class="linenum">1417</span></a>              if (!<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('unlock_submission')" href="../../_functions/unlock_submission.html" onMouseOver="funcPopup(event,'unlock_submission')">unlock_submission</a>(<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>)) {
<a name="l1418"><span class="linenum">1418</span></a>                  <a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a> = 'User id: ' . <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> . ', Assignment id: ' . <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'];
<a name="l1419"><span class="linenum">1419</span></a>                  <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = self::<a class="function" onClick="logFunction('generate_warning')" href="../../_functions/generate_warning.html" onMouseOver="funcPopup(event,'generate_warning')">generate_warning</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'],
<a name="l1420"><span class="linenum">1420</span></a>                                                       'couldnotunlock',
<a name="l1421"><span class="linenum">1421</span></a>                                                       <a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a>);
<a name="l1422"><span class="linenum">1422</span></a>              }
<a name="l1423"><span class="linenum">1423</span></a>          }
<a name="l1424"><span class="linenum">1424</span></a>  
<a name="l1425"><span class="linenum">1425</span></a>          return <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>;
<a name="l1426"><span class="linenum">1426</span></a>      }
<a name="l1427"><span class="linenum">1427</span></a>  
<a name="l1428"><span class="linenum">1428</span></a>      <span class="comment">/**</span>
<a name="l1429"><span class="linenum">1429</span></a>  <span class="comment">     * Describes the return value for unlock_submissions</span>
<a name="l1430"><span class="linenum">1430</span></a>  <span class="comment">     *</span>
<a name="l1431"><span class="linenum">1431</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1432"><span class="linenum">1432</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1433"><span class="linenum">1433</span></a>  <span class="comment">     */</span>
<a name="l1434"><span class="linenum">1434</span></a>      public static function <a class="function" onClick="logFunction('unlock_submissions_returns')" href="../../_functions/unlock_submissions_returns.html" onMouseOver="funcPopup(event,'unlock_submissions_returns')">unlock_submissions_returns</a>() {
<a name="l1435"><span class="linenum">1435</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>();
<a name="l1436"><span class="linenum">1436</span></a>      }
<a name="l1437"><span class="linenum">1437</span></a>  
<a name="l1438"><span class="linenum">1438</span></a>      <span class="comment">/**</span>
<a name="l1439"><span class="linenum">1439</span></a>  <span class="comment">     * Describes the parameters for submit_for_grading</span>
<a name="l1440"><span class="linenum">1440</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1441"><span class="linenum">1441</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l1442"><span class="linenum">1442</span></a>  <span class="comment">     */</span>
<a name="l1443"><span class="linenum">1443</span></a>      public static function <a class="function" onClick="logFunction('submit_for_grading_parameters')" href="../../_functions/submit_for_grading_parameters.html" onMouseOver="funcPopup(event,'submit_for_grading_parameters')">submit_for_grading_parameters</a>() {
<a name="l1444"><span class="linenum">1444</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1445"><span class="linenum">1445</span></a>              array(
<a name="l1446"><span class="linenum">1446</span></a>                  'assignmentid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The assignment id to operate on'),
<a name="l1447"><span class="linenum">1447</span></a>                  'acceptsubmissionstatement' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Accept the assignment submission statement')
<a name="l1448"><span class="linenum">1448</span></a>              )
<a name="l1449"><span class="linenum">1449</span></a>          );
<a name="l1450"><span class="linenum">1450</span></a>      }
<a name="l1451"><span class="linenum">1451</span></a>  
<a name="l1452"><span class="linenum">1452</span></a>      <span class="comment">/**</span>
<a name="l1453"><span class="linenum">1453</span></a>  <span class="comment">     * Submit the logged in users assignment for grading.</span>
<a name="l1454"><span class="linenum">1454</span></a>  <span class="comment">     *</span>
<a name="l1455"><span class="linenum">1455</span></a>  <span class="comment">     * @param int $assignmentid The id of the assignment</span>
<a name="l1456"><span class="linenum">1456</span></a>  <span class="comment">     * @return array of warnings to indicate any errors.</span>
<a name="l1457"><span class="linenum">1457</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1458"><span class="linenum">1458</span></a>  <span class="comment">     */</span>
<a name="l1459"><span class="linenum">1459</span></a>      public static function <a class="function" onClick="logFunction('submit_for_grading')" href="../../_functions/submit_for_grading.html" onMouseOver="funcPopup(event,'submit_for_grading')">submit_for_grading</a>(<a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>, <a class="var it38363" onMouseOver="hilite(38363)" onMouseOut="lolite()" onClick="logVariable('acceptsubmissionstatement')" href="../../_variables/acceptsubmissionstatement.html">$acceptsubmissionstatement</a>) {
<a name="l1460"><span class="linenum">1460</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>;
<a name="l1461"><span class="linenum">1461</span></a>          require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/assign/locallib.php&quot;);
<a name="l1462"><span class="linenum">1462</span></a>  
<a name="l1463"><span class="linenum">1463</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('submit_for_grading_parameters')" href="../../_functions/submit_for_grading_parameters.html" onMouseOver="funcPopup(event,'submit_for_grading_parameters')">submit_for_grading_parameters</a>(),
<a name="l1464"><span class="linenum">1464</span></a>                                              array('assignmentid' =&gt; <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>,
<a name="l1465"><span class="linenum">1465</span></a>                                                    'acceptsubmissionstatement' =&gt; <a class="var it38363" onMouseOver="hilite(38363)" onMouseOut="lolite()" onClick="logVariable('acceptsubmissionstatement')" href="../../_variables/acceptsubmissionstatement.html">$acceptsubmissionstatement</a>));
<a name="l1466"><span class="linenum">1466</span></a>  
<a name="l1467"><span class="linenum">1467</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'], 0, false, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l1468"><span class="linenum">1468</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1469"><span class="linenum">1469</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l1470"><span class="linenum">1470</span></a>  
<a name="l1471"><span class="linenum">1471</span></a>          <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, null);
<a name="l1472"><span class="linenum">1472</span></a>  
<a name="l1473"><span class="linenum">1473</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a> = array();
<a name="l1474"><span class="linenum">1474</span></a>          <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a> = new stdClass();
<a name="l1475"><span class="linenum">1475</span></a>          <a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('submissionstatement')" class="var it39495" onMouseOver="hilite(39495)" onMouseOut="lolite()" href="../../_variables/submissionstatement.html">submissionstatement</a> = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['acceptsubmissionstatement'];
<a name="l1476"><span class="linenum">1476</span></a>          <a class="var it4372" onMouseOver="hilite(4372)" onMouseOut="lolite()" onClick="logVariable('notices')" href="../../_variables/notices.html">$notices</a> = array();
<a name="l1477"><span class="linenum">1477</span></a>  
<a name="l1478"><span class="linenum">1478</span></a>          if (!<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('submit_for_grading')" href="../../_functions/submit_for_grading.html" onMouseOver="funcPopup(event,'submit_for_grading')">submit_for_grading</a>(<a class="var it20" onMouseOver="hilite(20)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../_variables/data.html">$data</a>, <a class="var it4372" onMouseOver="hilite(4372)" onMouseOut="lolite()" onClick="logVariable('notices')" href="../../_variables/notices.html">$notices</a>)) {
<a name="l1479"><span class="linenum">1479</span></a>              <a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a> = 'User id: ' . <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> . ', Assignment id: ' . <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'] . ' Notices:' . <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(', ', <a class="var it4372" onMouseOver="hilite(4372)" onMouseOut="lolite()" onClick="logVariable('notices')" href="../../_variables/notices.html">$notices</a>);
<a name="l1480"><span class="linenum">1480</span></a>              <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = self::<a class="function" onClick="logFunction('generate_warning')" href="../../_functions/generate_warning.html" onMouseOver="funcPopup(event,'generate_warning')">generate_warning</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'],
<a name="l1481"><span class="linenum">1481</span></a>                                                   'couldnotsubmitforgrading',
<a name="l1482"><span class="linenum">1482</span></a>                                                   <a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a>);
<a name="l1483"><span class="linenum">1483</span></a>          }
<a name="l1484"><span class="linenum">1484</span></a>  
<a name="l1485"><span class="linenum">1485</span></a>          return <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>;
<a name="l1486"><span class="linenum">1486</span></a>      }
<a name="l1487"><span class="linenum">1487</span></a>  
<a name="l1488"><span class="linenum">1488</span></a>      <span class="comment">/**</span>
<a name="l1489"><span class="linenum">1489</span></a>  <span class="comment">     * Describes the return value for submit_for_grading</span>
<a name="l1490"><span class="linenum">1490</span></a>  <span class="comment">     *</span>
<a name="l1491"><span class="linenum">1491</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1492"><span class="linenum">1492</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1493"><span class="linenum">1493</span></a>  <span class="comment">     */</span>
<a name="l1494"><span class="linenum">1494</span></a>      public static function <a class="function" onClick="logFunction('submit_for_grading_returns')" href="../../_functions/submit_for_grading_returns.html" onMouseOver="funcPopup(event,'submit_for_grading_returns')">submit_for_grading_returns</a>() {
<a name="l1495"><span class="linenum">1495</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>();
<a name="l1496"><span class="linenum">1496</span></a>      }
<a name="l1497"><span class="linenum">1497</span></a>  
<a name="l1498"><span class="linenum">1498</span></a>      <span class="comment">/**</span>
<a name="l1499"><span class="linenum">1499</span></a>  <span class="comment">     * Describes the parameters for save_user_extensions</span>
<a name="l1500"><span class="linenum">1500</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1501"><span class="linenum">1501</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l1502"><span class="linenum">1502</span></a>  <span class="comment">     */</span>
<a name="l1503"><span class="linenum">1503</span></a>      public static function <a class="function" onClick="logFunction('save_user_extensions_parameters')" href="../../_functions/save_user_extensions_parameters.html" onMouseOver="funcPopup(event,'save_user_extensions_parameters')">save_user_extensions_parameters</a>() {
<a name="l1504"><span class="linenum">1504</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1505"><span class="linenum">1505</span></a>              array(
<a name="l1506"><span class="linenum">1506</span></a>                  'assignmentid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The assignment id to operate on'),
<a name="l1507"><span class="linenum">1507</span></a>                  'userids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1508"><span class="linenum">1508</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user id'),
<a name="l1509"><span class="linenum">1509</span></a>                      '1 or more user ids',
<a name="l1510"><span class="linenum">1510</span></a>                      <a class="constant" onClick="logConstant('VALUE_REQUIRED')" href="../../_constants/VALUE_REQUIRED.html" onMouseOver="constPopup(event,'VALUE_REQUIRED')">VALUE_REQUIRED</a>),
<a name="l1511"><span class="linenum">1511</span></a>                  'dates' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1512"><span class="linenum">1512</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'dates'),
<a name="l1513"><span class="linenum">1513</span></a>                      '1 or more extension dates (timestamp)',
<a name="l1514"><span class="linenum">1514</span></a>                      <a class="constant" onClick="logConstant('VALUE_REQUIRED')" href="../../_constants/VALUE_REQUIRED.html" onMouseOver="constPopup(event,'VALUE_REQUIRED')">VALUE_REQUIRED</a>),
<a name="l1515"><span class="linenum">1515</span></a>              )
<a name="l1516"><span class="linenum">1516</span></a>          );
<a name="l1517"><span class="linenum">1517</span></a>      }
<a name="l1518"><span class="linenum">1518</span></a>  
<a name="l1519"><span class="linenum">1519</span></a>      <span class="comment">/**</span>
<a name="l1520"><span class="linenum">1520</span></a>  <span class="comment">     * Grant extension dates to students for an assignment.</span>
<a name="l1521"><span class="linenum">1521</span></a>  <span class="comment">     *</span>
<a name="l1522"><span class="linenum">1522</span></a>  <span class="comment">     * @param int $assignmentid The id of the assignment</span>
<a name="l1523"><span class="linenum">1523</span></a>  <span class="comment">     * @param array $userids Array of user ids to grant extensions to</span>
<a name="l1524"><span class="linenum">1524</span></a>  <span class="comment">     * @param array $dates Array of extension dates</span>
<a name="l1525"><span class="linenum">1525</span></a>  <span class="comment">     * @return array of warnings for each extension date that could not be granted</span>
<a name="l1526"><span class="linenum">1526</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1527"><span class="linenum">1527</span></a>  <span class="comment">     */</span>
<a name="l1528"><span class="linenum">1528</span></a>      public static function <a class="function" onClick="logFunction('save_user_extensions')" href="../../_functions/save_user_extensions.html" onMouseOver="funcPopup(event,'save_user_extensions')">save_user_extensions</a>(<a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>, <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a>, <a class="var it7217" onMouseOver="hilite(7217)" onMouseOut="lolite()" onClick="logVariable('dates')" href="../../_variables/dates.html">$dates</a>) {
<a name="l1529"><span class="linenum">1529</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1530"><span class="linenum">1530</span></a>          require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/assign/locallib.php&quot;);
<a name="l1531"><span class="linenum">1531</span></a>  
<a name="l1532"><span class="linenum">1532</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('save_user_extensions_parameters')" href="../../_functions/save_user_extensions_parameters.html" onMouseOver="funcPopup(event,'save_user_extensions_parameters')">save_user_extensions_parameters</a>(),
<a name="l1533"><span class="linenum">1533</span></a>                          array('assignmentid' =&gt; <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>,
<a name="l1534"><span class="linenum">1534</span></a>                                'userids' =&gt; <a class="var it2955" onMouseOver="hilite(2955)" onMouseOut="lolite()" onClick="logVariable('userids')" href="../../_variables/userids.html">$userids</a>,
<a name="l1535"><span class="linenum">1535</span></a>                                'dates' =&gt; <a class="var it7217" onMouseOver="hilite(7217)" onMouseOut="lolite()" onClick="logVariable('dates')" href="../../_variables/dates.html">$dates</a>));
<a name="l1536"><span class="linenum">1536</span></a>  
<a name="l1537"><span class="linenum">1537</span></a>          if (<a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userids']) != <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['dates'])) {
<a name="l1538"><span class="linenum">1538</span></a>              <a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a> = 'Length of userids and dates parameters differ.';
<a name="l1539"><span class="linenum">1539</span></a>              <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = self::<a class="function" onClick="logFunction('generate_warning')" href="../../_functions/generate_warning.html" onMouseOver="funcPopup(event,'generate_warning')">generate_warning</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'],
<a name="l1540"><span class="linenum">1540</span></a>                                                   'invalidparameters',
<a name="l1541"><span class="linenum">1541</span></a>                                                   <a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a>);
<a name="l1542"><span class="linenum">1542</span></a>  
<a name="l1543"><span class="linenum">1543</span></a>              return <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>;
<a name="l1544"><span class="linenum">1544</span></a>          }
<a name="l1545"><span class="linenum">1545</span></a>  
<a name="l1546"><span class="linenum">1546</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'], 0, false, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l1547"><span class="linenum">1547</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1548"><span class="linenum">1548</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l1549"><span class="linenum">1549</span></a>  
<a name="l1550"><span class="linenum">1550</span></a>          <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, null);
<a name="l1551"><span class="linenum">1551</span></a>  
<a name="l1552"><span class="linenum">1552</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a> = array();
<a name="l1553"><span class="linenum">1553</span></a>          foreach (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userids'] as <a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('idx')" href="../../_variables/idx.html">$idx</a> =&gt; <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>) {
<a name="l1554"><span class="linenum">1554</span></a>              <a class="var it7038" onMouseOver="hilite(7038)" onMouseOut="lolite()" onClick="logVariable('duedate')" href="../../_variables/duedate.html">$duedate</a> = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['dates'][<a class="var it2039" onMouseOver="hilite(2039)" onMouseOut="lolite()" onClick="logVariable('idx')" href="../../_variables/idx.html">$idx</a>];
<a name="l1555"><span class="linenum">1555</span></a>              if (!<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('save_user_extension')" href="../../_functions/save_user_extension.html" onMouseOver="funcPopup(event,'save_user_extension')">save_user_extension</a>(<a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it7038" onMouseOver="hilite(7038)" onMouseOut="lolite()" onClick="logVariable('duedate')" href="../../_variables/duedate.html">$duedate</a>)) {
<a name="l1556"><span class="linenum">1556</span></a>                  <a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a> = 'User id: ' . <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> . ', Assignment id: ' . <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'] . ', Extension date: ' . <a class="var it7038" onMouseOver="hilite(7038)" onMouseOut="lolite()" onClick="logVariable('duedate')" href="../../_variables/duedate.html">$duedate</a>;
<a name="l1557"><span class="linenum">1557</span></a>                  <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = self::<a class="function" onClick="logFunction('generate_warning')" href="../../_functions/generate_warning.html" onMouseOver="funcPopup(event,'generate_warning')">generate_warning</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'],
<a name="l1558"><span class="linenum">1558</span></a>                                                       'couldnotgrantextensions',
<a name="l1559"><span class="linenum">1559</span></a>                                                       <a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a>);
<a name="l1560"><span class="linenum">1560</span></a>              }
<a name="l1561"><span class="linenum">1561</span></a>          }
<a name="l1562"><span class="linenum">1562</span></a>  
<a name="l1563"><span class="linenum">1563</span></a>          return <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>;
<a name="l1564"><span class="linenum">1564</span></a>      }
<a name="l1565"><span class="linenum">1565</span></a>  
<a name="l1566"><span class="linenum">1566</span></a>      <span class="comment">/**</span>
<a name="l1567"><span class="linenum">1567</span></a>  <span class="comment">     * Describes the return value for save_user_extensions</span>
<a name="l1568"><span class="linenum">1568</span></a>  <span class="comment">     *</span>
<a name="l1569"><span class="linenum">1569</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1570"><span class="linenum">1570</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1571"><span class="linenum">1571</span></a>  <span class="comment">     */</span>
<a name="l1572"><span class="linenum">1572</span></a>      public static function <a class="function" onClick="logFunction('save_user_extensions_returns')" href="../../_functions/save_user_extensions_returns.html" onMouseOver="funcPopup(event,'save_user_extensions_returns')">save_user_extensions_returns</a>() {
<a name="l1573"><span class="linenum">1573</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>();
<a name="l1574"><span class="linenum">1574</span></a>      }
<a name="l1575"><span class="linenum">1575</span></a>  
<a name="l1576"><span class="linenum">1576</span></a>      <span class="comment">/**</span>
<a name="l1577"><span class="linenum">1577</span></a>  <span class="comment">     * Describes the parameters for reveal_identities</span>
<a name="l1578"><span class="linenum">1578</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1579"><span class="linenum">1579</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l1580"><span class="linenum">1580</span></a>  <span class="comment">     */</span>
<a name="l1581"><span class="linenum">1581</span></a>      public static function <a class="function" onClick="logFunction('reveal_identities_parameters')" href="../../_functions/reveal_identities_parameters.html" onMouseOver="funcPopup(event,'reveal_identities_parameters')">reveal_identities_parameters</a>() {
<a name="l1582"><span class="linenum">1582</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1583"><span class="linenum">1583</span></a>              array(
<a name="l1584"><span class="linenum">1584</span></a>                  'assignmentid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The assignment id to operate on')
<a name="l1585"><span class="linenum">1585</span></a>              )
<a name="l1586"><span class="linenum">1586</span></a>          );
<a name="l1587"><span class="linenum">1587</span></a>      }
<a name="l1588"><span class="linenum">1588</span></a>  
<a name="l1589"><span class="linenum">1589</span></a>      <span class="comment">/**</span>
<a name="l1590"><span class="linenum">1590</span></a>  <span class="comment">     * Reveal the identities of anonymous students to markers for a single assignment.</span>
<a name="l1591"><span class="linenum">1591</span></a>  <span class="comment">     *</span>
<a name="l1592"><span class="linenum">1592</span></a>  <span class="comment">     * @param int $assignmentid The id of the assignment</span>
<a name="l1593"><span class="linenum">1593</span></a>  <span class="comment">     * @return array of warnings to indicate any errors.</span>
<a name="l1594"><span class="linenum">1594</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1595"><span class="linenum">1595</span></a>  <span class="comment">     */</span>
<a name="l1596"><span class="linenum">1596</span></a>      public static function <a class="function" onClick="logFunction('reveal_identities')" href="../../_functions/reveal_identities.html" onMouseOver="funcPopup(event,'reveal_identities')">reveal_identities</a>(<a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>) {
<a name="l1597"><span class="linenum">1597</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>;
<a name="l1598"><span class="linenum">1598</span></a>          require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/assign/locallib.php&quot;);
<a name="l1599"><span class="linenum">1599</span></a>  
<a name="l1600"><span class="linenum">1600</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('reveal_identities_parameters')" href="../../_functions/reveal_identities_parameters.html" onMouseOver="funcPopup(event,'reveal_identities_parameters')">reveal_identities_parameters</a>(),
<a name="l1601"><span class="linenum">1601</span></a>                                              array('assignmentid' =&gt; <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>));
<a name="l1602"><span class="linenum">1602</span></a>  
<a name="l1603"><span class="linenum">1603</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'], 0, false, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l1604"><span class="linenum">1604</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1605"><span class="linenum">1605</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l1606"><span class="linenum">1606</span></a>  
<a name="l1607"><span class="linenum">1607</span></a>          <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, null);
<a name="l1608"><span class="linenum">1608</span></a>  
<a name="l1609"><span class="linenum">1609</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a> = array();
<a name="l1610"><span class="linenum">1610</span></a>          if (!<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('reveal_identities')" href="../../_functions/reveal_identities.html" onMouseOver="funcPopup(event,'reveal_identities')">reveal_identities</a>()) {
<a name="l1611"><span class="linenum">1611</span></a>              <a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a> = 'User id: ' . <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> . ', Assignment id: ' . <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'];
<a name="l1612"><span class="linenum">1612</span></a>              <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = self::<a class="function" onClick="logFunction('generate_warning')" href="../../_functions/generate_warning.html" onMouseOver="funcPopup(event,'generate_warning')">generate_warning</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'],
<a name="l1613"><span class="linenum">1613</span></a>                                                   'couldnotrevealidentities',
<a name="l1614"><span class="linenum">1614</span></a>                                                   <a class="var it6083" onMouseOver="hilite(6083)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../../_variables/detail.html">$detail</a>);
<a name="l1615"><span class="linenum">1615</span></a>          }
<a name="l1616"><span class="linenum">1616</span></a>  
<a name="l1617"><span class="linenum">1617</span></a>          return <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>;
<a name="l1618"><span class="linenum">1618</span></a>      }
<a name="l1619"><span class="linenum">1619</span></a>  
<a name="l1620"><span class="linenum">1620</span></a>      <span class="comment">/**</span>
<a name="l1621"><span class="linenum">1621</span></a>  <span class="comment">     * Describes the return value for reveal_identities</span>
<a name="l1622"><span class="linenum">1622</span></a>  <span class="comment">     *</span>
<a name="l1623"><span class="linenum">1623</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1624"><span class="linenum">1624</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1625"><span class="linenum">1625</span></a>  <span class="comment">     */</span>
<a name="l1626"><span class="linenum">1626</span></a>      public static function <a class="function" onClick="logFunction('reveal_identities_returns')" href="../../_functions/reveal_identities_returns.html" onMouseOver="funcPopup(event,'reveal_identities_returns')">reveal_identities_returns</a>() {
<a name="l1627"><span class="linenum">1627</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>();
<a name="l1628"><span class="linenum">1628</span></a>      }
<a name="l1629"><span class="linenum">1629</span></a>  
<a name="l1630"><span class="linenum">1630</span></a>      <span class="comment">/**</span>
<a name="l1631"><span class="linenum">1631</span></a>  <span class="comment">     * Describes the parameters for save_submission</span>
<a name="l1632"><span class="linenum">1632</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1633"><span class="linenum">1633</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l1634"><span class="linenum">1634</span></a>  <span class="comment">     */</span>
<a name="l1635"><span class="linenum">1635</span></a>      public static function <a class="function" onClick="logFunction('save_submission_parameters')" href="../../_functions/save_submission_parameters.html" onMouseOver="funcPopup(event,'save_submission_parameters')">save_submission_parameters</a>() {
<a name="l1636"><span class="linenum">1636</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1637"><span class="linenum">1637</span></a>          require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/assign/locallib.php&quot;);
<a name="l1638"><span class="linenum">1638</span></a>          <a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(null, null, null);
<a name="l1639"><span class="linenum">1639</span></a>          <a class="var it38364" onMouseOver="hilite(38364)" onMouseOut="lolite()" onClick="logVariable('pluginsubmissionparams')" href="../../_variables/pluginsubmissionparams.html">$pluginsubmissionparams</a> = array();
<a name="l1640"><span class="linenum">1640</span></a>  
<a name="l1641"><span class="linenum">1641</span></a>          foreach (<a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>-&gt;<a class="function" onClick="logFunction('get_submission_plugins')" href="../../_functions/get_submission_plugins.html" onMouseOver="funcPopup(event,'get_submission_plugins')">get_submission_plugins</a>() as <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>) {
<a name="l1642"><span class="linenum">1642</span></a>              <a class="var it28194" onMouseOver="hilite(28194)" onMouseOut="lolite()" onClick="logVariable('pluginparams')" href="../../_variables/pluginparams.html">$pluginparams</a> = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('get_external_parameters')" href="../../_functions/get_external_parameters.html" onMouseOver="funcPopup(event,'get_external_parameters')">get_external_parameters</a>();
<a name="l1643"><span class="linenum">1643</span></a>              if (!empty(<a class="var it28194" onMouseOver="hilite(28194)" onMouseOut="lolite()" onClick="logVariable('pluginparams')" href="../../_variables/pluginparams.html">$pluginparams</a>)) {
<a name="l1644"><span class="linenum">1644</span></a>                  <a class="var it38364" onMouseOver="hilite(38364)" onMouseOut="lolite()" onClick="logVariable('pluginsubmissionparams')" href="../../_variables/pluginsubmissionparams.html">$pluginsubmissionparams</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it38364" onMouseOver="hilite(38364)" onMouseOut="lolite()" onClick="logVariable('pluginsubmissionparams')" href="../../_variables/pluginsubmissionparams.html">$pluginsubmissionparams</a>, <a class="var it28194" onMouseOver="hilite(28194)" onMouseOut="lolite()" onClick="logVariable('pluginparams')" href="../../_variables/pluginparams.html">$pluginparams</a>);
<a name="l1645"><span class="linenum">1645</span></a>              }
<a name="l1646"><span class="linenum">1646</span></a>          }
<a name="l1647"><span class="linenum">1647</span></a>  
<a name="l1648"><span class="linenum">1648</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1649"><span class="linenum">1649</span></a>              array(
<a name="l1650"><span class="linenum">1650</span></a>                  'assignmentid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The assignment id to operate on'),
<a name="l1651"><span class="linenum">1651</span></a>                  'plugindata' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1652"><span class="linenum">1652</span></a>                      <a class="var it38364" onMouseOver="hilite(38364)" onMouseOut="lolite()" onClick="logVariable('pluginsubmissionparams')" href="../../_variables/pluginsubmissionparams.html">$pluginsubmissionparams</a>
<a name="l1653"><span class="linenum">1653</span></a>                  )
<a name="l1654"><span class="linenum">1654</span></a>              )
<a name="l1655"><span class="linenum">1655</span></a>          );
<a name="l1656"><span class="linenum">1656</span></a>      }
<a name="l1657"><span class="linenum">1657</span></a>  
<a name="l1658"><span class="linenum">1658</span></a>      <span class="comment">/**</span>
<a name="l1659"><span class="linenum">1659</span></a>  <span class="comment">     * Save a student submission for a single assignment</span>
<a name="l1660"><span class="linenum">1660</span></a>  <span class="comment">     *</span>
<a name="l1661"><span class="linenum">1661</span></a>  <span class="comment">     * @param int $assignmentid The id of the assignment</span>
<a name="l1662"><span class="linenum">1662</span></a>  <span class="comment">     * @param array $plugindata - The submitted data for plugins</span>
<a name="l1663"><span class="linenum">1663</span></a>  <span class="comment">     * @return array of warnings to indicate any errors</span>
<a name="l1664"><span class="linenum">1664</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1665"><span class="linenum">1665</span></a>  <span class="comment">     */</span>
<a name="l1666"><span class="linenum">1666</span></a>      public static function <a class="function" onClick="logFunction('save_submission')" href="../../_functions/save_submission.html" onMouseOver="funcPopup(event,'save_submission')">save_submission</a>(<a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>, <a class="var it38365" onMouseOver="hilite(38365)" onMouseOut="lolite()" onClick="logVariable('plugindata')" href="../../_variables/plugindata.html">$plugindata</a>) {
<a name="l1667"><span class="linenum">1667</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>;
<a name="l1668"><span class="linenum">1668</span></a>          require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/assign/locallib.php&quot;);
<a name="l1669"><span class="linenum">1669</span></a>  
<a name="l1670"><span class="linenum">1670</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('save_submission_parameters')" href="../../_functions/save_submission_parameters.html" onMouseOver="funcPopup(event,'save_submission_parameters')">save_submission_parameters</a>(),
<a name="l1671"><span class="linenum">1671</span></a>                                              array('assignmentid' =&gt; <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>,
<a name="l1672"><span class="linenum">1672</span></a>                                                    'plugindata' =&gt; <a class="var it38365" onMouseOver="hilite(38365)" onMouseOut="lolite()" onClick="logVariable('plugindata')" href="../../_variables/plugindata.html">$plugindata</a>));
<a name="l1673"><span class="linenum">1673</span></a>  
<a name="l1674"><span class="linenum">1674</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'], 0, false, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l1675"><span class="linenum">1675</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1676"><span class="linenum">1676</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l1677"><span class="linenum">1677</span></a>  
<a name="l1678"><span class="linenum">1678</span></a>          <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, null);
<a name="l1679"><span class="linenum">1679</span></a>  
<a name="l1680"><span class="linenum">1680</span></a>          <a class="var it4372" onMouseOver="hilite(4372)" onMouseOut="lolite()" onClick="logVariable('notices')" href="../../_variables/notices.html">$notices</a> = array();
<a name="l1681"><span class="linenum">1681</span></a>  
<a name="l1682"><span class="linenum">1682</span></a>          <a class="var it38366" onMouseOver="hilite(38366)" onMouseOut="lolite()" onClick="logVariable('submissiondata')" href="../../_variables/submissiondata.html">$submissiondata</a> = (object)<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['plugindata'];
<a name="l1683"><span class="linenum">1683</span></a>  
<a name="l1684"><span class="linenum">1684</span></a>          <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('save_submission')" href="../../_functions/save_submission.html" onMouseOver="funcPopup(event,'save_submission')">save_submission</a>(<a class="var it38366" onMouseOver="hilite(38366)" onMouseOut="lolite()" onClick="logVariable('submissiondata')" href="../../_variables/submissiondata.html">$submissiondata</a>, <a class="var it4372" onMouseOver="hilite(4372)" onMouseOut="lolite()" onClick="logVariable('notices')" href="../../_variables/notices.html">$notices</a>);
<a name="l1685"><span class="linenum">1685</span></a>  
<a name="l1686"><span class="linenum">1686</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a> = array();
<a name="l1687"><span class="linenum">1687</span></a>          foreach (<a class="var it4372" onMouseOver="hilite(4372)" onMouseOut="lolite()" onClick="logVariable('notices')" href="../../_variables/notices.html">$notices</a> as <a class="var it3063" onMouseOver="hilite(3063)" onMouseOut="lolite()" onClick="logVariable('notice')" href="../../_variables/notice.html">$notice</a>) {
<a name="l1688"><span class="linenum">1688</span></a>              <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = self::<a class="function" onClick="logFunction('generate_warning')" href="../../_functions/generate_warning.html" onMouseOver="funcPopup(event,'generate_warning')">generate_warning</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'],
<a name="l1689"><span class="linenum">1689</span></a>                                                   'couldnotsavesubmission',
<a name="l1690"><span class="linenum">1690</span></a>                                                   <a class="var it3063" onMouseOver="hilite(3063)" onMouseOut="lolite()" onClick="logVariable('notice')" href="../../_variables/notice.html">$notice</a>);
<a name="l1691"><span class="linenum">1691</span></a>          }
<a name="l1692"><span class="linenum">1692</span></a>  
<a name="l1693"><span class="linenum">1693</span></a>          return <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>;
<a name="l1694"><span class="linenum">1694</span></a>      }
<a name="l1695"><span class="linenum">1695</span></a>  
<a name="l1696"><span class="linenum">1696</span></a>      <span class="comment">/**</span>
<a name="l1697"><span class="linenum">1697</span></a>  <span class="comment">     * Describes the return value for save_submission</span>
<a name="l1698"><span class="linenum">1698</span></a>  <span class="comment">     *</span>
<a name="l1699"><span class="linenum">1699</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1700"><span class="linenum">1700</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1701"><span class="linenum">1701</span></a>  <span class="comment">     */</span>
<a name="l1702"><span class="linenum">1702</span></a>      public static function <a class="function" onClick="logFunction('save_submission_returns')" href="../../_functions/save_submission_returns.html" onMouseOver="funcPopup(event,'save_submission_returns')">save_submission_returns</a>() {
<a name="l1703"><span class="linenum">1703</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>();
<a name="l1704"><span class="linenum">1704</span></a>      }
<a name="l1705"><span class="linenum">1705</span></a>  
<a name="l1706"><span class="linenum">1706</span></a>      <span class="comment">/**</span>
<a name="l1707"><span class="linenum">1707</span></a>  <span class="comment">     * Describes the parameters for save_grade</span>
<a name="l1708"><span class="linenum">1708</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1709"><span class="linenum">1709</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l1710"><span class="linenum">1710</span></a>  <span class="comment">     */</span>
<a name="l1711"><span class="linenum">1711</span></a>      public static function <a class="function" onClick="logFunction('save_grade_parameters')" href="../../_functions/save_grade_parameters.html" onMouseOver="funcPopup(event,'save_grade_parameters')">save_grade_parameters</a>() {
<a name="l1712"><span class="linenum">1712</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1713"><span class="linenum">1713</span></a>          require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/assign/locallib.php&quot;);
<a name="l1714"><span class="linenum">1714</span></a>          require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/grade/grading/lib.php&quot;);
<a name="l1715"><span class="linenum">1715</span></a>          <a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(null, null, null);
<a name="l1716"><span class="linenum">1716</span></a>          <a class="var it38367" onMouseOver="hilite(38367)" onMouseOut="lolite()" onClick="logVariable('pluginfeedbackparams')" href="../../_variables/pluginfeedbackparams.html">$pluginfeedbackparams</a> = array();
<a name="l1717"><span class="linenum">1717</span></a>  
<a name="l1718"><span class="linenum">1718</span></a>          foreach (<a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>-&gt;<a class="function" onClick="logFunction('get_feedback_plugins')" href="../../_functions/get_feedback_plugins.html" onMouseOver="funcPopup(event,'get_feedback_plugins')">get_feedback_plugins</a>() as <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>) {
<a name="l1719"><span class="linenum">1719</span></a>              <a class="var it28194" onMouseOver="hilite(28194)" onMouseOut="lolite()" onClick="logVariable('pluginparams')" href="../../_variables/pluginparams.html">$pluginparams</a> = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('get_external_parameters')" href="../../_functions/get_external_parameters.html" onMouseOver="funcPopup(event,'get_external_parameters')">get_external_parameters</a>();
<a name="l1720"><span class="linenum">1720</span></a>              if (!empty(<a class="var it28194" onMouseOver="hilite(28194)" onMouseOut="lolite()" onClick="logVariable('pluginparams')" href="../../_variables/pluginparams.html">$pluginparams</a>)) {
<a name="l1721"><span class="linenum">1721</span></a>                  <a class="var it38367" onMouseOver="hilite(38367)" onMouseOut="lolite()" onClick="logVariable('pluginfeedbackparams')" href="../../_variables/pluginfeedbackparams.html">$pluginfeedbackparams</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it38367" onMouseOver="hilite(38367)" onMouseOut="lolite()" onClick="logVariable('pluginfeedbackparams')" href="../../_variables/pluginfeedbackparams.html">$pluginfeedbackparams</a>, <a class="var it28194" onMouseOver="hilite(28194)" onMouseOut="lolite()" onClick="logVariable('pluginparams')" href="../../_variables/pluginparams.html">$pluginparams</a>);
<a name="l1722"><span class="linenum">1722</span></a>              }
<a name="l1723"><span class="linenum">1723</span></a>          }
<a name="l1724"><span class="linenum">1724</span></a>  
<a name="l1725"><span class="linenum">1725</span></a>          <a class="var it9671" onMouseOver="hilite(9671)" onMouseOut="lolite()" onClick="logVariable('advancedgradingdata')" href="../../_variables/advancedgradingdata.html">$advancedgradingdata</a> = array();
<a name="l1726"><span class="linenum">1726</span></a>          <a class="var it3198" onMouseOver="hilite(3198)" onMouseOut="lolite()" onClick="logVariable('methods')" href="../../_variables/methods.html">$methods</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="class" onClick="logClass('grading_manager')" href="../../_classes/grading_manager.html" onMouseOver="classPopup(event,'grading_manager')">grading_manager</a>::<a class="function" onClick="logFunction('available_methods')" href="../../_functions/available_methods.html" onMouseOver="funcPopup(event,'available_methods')">available_methods</a>(false));
<a name="l1727"><span class="linenum">1727</span></a>          foreach (<a class="var it3198" onMouseOver="hilite(3198)" onMouseOut="lolite()" onClick="logVariable('methods')" href="../../_variables/methods.html">$methods</a> as <a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>) {
<a name="l1728"><span class="linenum">1728</span></a>              require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'/grade/grading/form/'.<a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>.'/lib.php');
<a name="l1729"><span class="linenum">1729</span></a>              <a class="var it1213" onMouseOver="hilite(1213)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a>  = <a class="phpfunction" onClick="logFunction('call_user_func')" href="../../_functions/call_user_func.html" onMouseOver="phpfuncPopup(event,'call_user_func')">call_user_func</a>('gradingform_'.<a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>.'_controller::get_external_instance_filling_details');
<a name="l1730"><span class="linenum">1730</span></a>              if (!empty(<a class="var it1213" onMouseOver="hilite(1213)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a>)) {
<a name="l1731"><span class="linenum">1731</span></a>                  <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a> = array();
<a name="l1732"><span class="linenum">1732</span></a>                  foreach (<a class="var it1213" onMouseOver="hilite(1213)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1733"><span class="linenum">1733</span></a>                      <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>-&gt;<a onClick="logVariable('required')" class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" href="../../_variables/required.html">required</a> = <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>;
<a name="l1734"><span class="linenum">1734</span></a>                      unset(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>-&gt;<a onClick="logVariable('content')" class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" href="../../_variables/content.html">content</a>-&gt;keys['id']);
<a name="l1735"><span class="linenum">1735</span></a>                      <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>[<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a> (<span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1736"><span class="linenum">1736</span></a>                          array(
<a name="l1737"><span class="linenum">1737</span></a>                              'criterionid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'criterion id'),
<a name="l1738"><span class="linenum">1738</span></a>                              'fillings' =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>
<a name="l1739"><span class="linenum">1739</span></a>                          )
<a name="l1740"><span class="linenum">1740</span></a>                      ));
<a name="l1741"><span class="linenum">1741</span></a>                  }
<a name="l1742"><span class="linenum">1742</span></a>                  <a class="var it9671" onMouseOver="hilite(9671)" onMouseOut="lolite()" onClick="logVariable('advancedgradingdata')" href="../../_variables/advancedgradingdata.html">$advancedgradingdata</a>[<a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>] = <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(<a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>, 'items', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>);
<a name="l1743"><span class="linenum">1743</span></a>              }
<a name="l1744"><span class="linenum">1744</span></a>          }
<a name="l1745"><span class="linenum">1745</span></a>  
<a name="l1746"><span class="linenum">1746</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1747"><span class="linenum">1747</span></a>              array(
<a name="l1748"><span class="linenum">1748</span></a>                  'assignmentid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The assignment id to operate on'),
<a name="l1749"><span class="linenum">1749</span></a>                  'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The student id to operate on'),
<a name="l1750"><span class="linenum">1750</span></a>                  'grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'The <span class="keyword">new </span><a class="class" onClick="logClass('grade')" href="../../_classes/grade.html" onMouseOver="classPopup(event,'grade')">grade</a> for this user. Ignored if advanced grading used'),
<a name="l1751"><span class="linenum">1751</span></a>                  'attemptnumber' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The attempt <a class="function" onClick="logFunction('number')" href="../../_functions/number.html" onMouseOver="funcPopup(event,'number')">number</a> (-1 means latest attempt)'),
<a name="l1752"><span class="linenum">1752</span></a>                  'addattempt' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Allow another attempt if the attempt reopen method is manual'),
<a name="l1753"><span class="linenum">1753</span></a>                  'workflowstate' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>, 'The next marking workflow state'),
<a name="l1754"><span class="linenum">1754</span></a>                  'applytoall' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'If true, this grade will be applied ' .
<a name="l1755"><span class="linenum">1755</span></a>                                                                 'to all members ' .
<a name="l1756"><span class="linenum">1756</span></a>                                                                 'of the <a class="function" onClick="logFunction('group')" href="../../_functions/group.html" onMouseOver="funcPopup(event,'group')">group</a> (for group assignments).'),
<a name="l1757"><span class="linenum">1757</span></a>                  'plugindata' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(<a class="var it38367" onMouseOver="hilite(38367)" onMouseOut="lolite()" onClick="logVariable('pluginfeedbackparams')" href="../../_variables/pluginfeedbackparams.html">$pluginfeedbackparams</a>, 'plugin data', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()),
<a name="l1758"><span class="linenum">1758</span></a>                  'advancedgradingdata' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(<a class="var it9671" onMouseOver="hilite(9671)" onMouseOut="lolite()" onClick="logVariable('advancedgradingdata')" href="../../_variables/advancedgradingdata.html">$advancedgradingdata</a>, 'advanced grading data',
<a name="l1759"><span class="linenum">1759</span></a>                                                                         <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array())
<a name="l1760"><span class="linenum">1760</span></a>              )
<a name="l1761"><span class="linenum">1761</span></a>          );
<a name="l1762"><span class="linenum">1762</span></a>      }
<a name="l1763"><span class="linenum">1763</span></a>  
<a name="l1764"><span class="linenum">1764</span></a>      <span class="comment">/**</span>
<a name="l1765"><span class="linenum">1765</span></a>  <span class="comment">     * Save a student grade for a single assignment.</span>
<a name="l1766"><span class="linenum">1766</span></a>  <span class="comment">     *</span>
<a name="l1767"><span class="linenum">1767</span></a>  <span class="comment">     * @param int $assignmentid The id of the assignment</span>
<a name="l1768"><span class="linenum">1768</span></a>  <span class="comment">     * @param int $userid The id of the user</span>
<a name="l1769"><span class="linenum">1769</span></a>  <span class="comment">     * @param float $grade The grade (ignored if the assignment uses advanced grading)</span>
<a name="l1770"><span class="linenum">1770</span></a>  <span class="comment">     * @param int $attemptnumber The attempt number</span>
<a name="l1771"><span class="linenum">1771</span></a>  <span class="comment">     * @param bool $addattempt Allow another attempt</span>
<a name="l1772"><span class="linenum">1772</span></a>  <span class="comment">     * @param string $workflowstate New workflow state</span>
<a name="l1773"><span class="linenum">1773</span></a>  <span class="comment">     * @param bool $applytoall Apply the grade to all members of the group</span>
<a name="l1774"><span class="linenum">1774</span></a>  <span class="comment">     * @param array $plugindata Custom data used by plugins</span>
<a name="l1775"><span class="linenum">1775</span></a>  <span class="comment">     * @param array $advancedgradingdata Advanced grading data</span>
<a name="l1776"><span class="linenum">1776</span></a>  <span class="comment">     * @return null</span>
<a name="l1777"><span class="linenum">1777</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1778"><span class="linenum">1778</span></a>  <span class="comment">     */</span>
<a name="l1779"><span class="linenum">1779</span></a>      public static function <a class="function" onClick="logFunction('save_grade')" href="../../_functions/save_grade.html" onMouseOver="funcPopup(event,'save_grade')">save_grade</a>(<a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>,
<a name="l1780"><span class="linenum">1780</span></a>                                        <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>,
<a name="l1781"><span class="linenum">1781</span></a>                                        <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>,
<a name="l1782"><span class="linenum">1782</span></a>                                        <a class="var it1616" onMouseOver="hilite(1616)" onMouseOut="lolite()" onClick="logVariable('attemptnumber')" href="../../_variables/attemptnumber.html">$attemptnumber</a>,
<a name="l1783"><span class="linenum">1783</span></a>                                        <a class="var it20534" onMouseOver="hilite(20534)" onMouseOut="lolite()" onClick="logVariable('addattempt')" href="../../_variables/addattempt.html">$addattempt</a>,
<a name="l1784"><span class="linenum">1784</span></a>                                        <a class="var it7057" onMouseOver="hilite(7057)" onMouseOut="lolite()" onClick="logVariable('workflowstate')" href="../../_variables/workflowstate.html">$workflowstate</a>,
<a name="l1785"><span class="linenum">1785</span></a>                                        <a class="var it20538" onMouseOver="hilite(20538)" onMouseOut="lolite()" onClick="logVariable('applytoall')" href="../../_variables/applytoall.html">$applytoall</a>,
<a name="l1786"><span class="linenum">1786</span></a>                                        <a class="var it38365" onMouseOver="hilite(38365)" onMouseOut="lolite()" onClick="logVariable('plugindata')" href="../../_variables/plugindata.html">$plugindata</a> = array(),
<a name="l1787"><span class="linenum">1787</span></a>                                        <a class="var it9671" onMouseOver="hilite(9671)" onMouseOut="lolite()" onClick="logVariable('advancedgradingdata')" href="../../_variables/advancedgradingdata.html">$advancedgradingdata</a> = array()) {
<a name="l1788"><span class="linenum">1788</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>;
<a name="l1789"><span class="linenum">1789</span></a>          require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/assign/locallib.php&quot;);
<a name="l1790"><span class="linenum">1790</span></a>  
<a name="l1791"><span class="linenum">1791</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('save_grade_parameters')" href="../../_functions/save_grade_parameters.html" onMouseOver="funcPopup(event,'save_grade_parameters')">save_grade_parameters</a>(),
<a name="l1792"><span class="linenum">1792</span></a>                                              array('assignmentid' =&gt; <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>,
<a name="l1793"><span class="linenum">1793</span></a>                                                    'userid' =&gt; <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>,
<a name="l1794"><span class="linenum">1794</span></a>                                                    'grade' =&gt; <a class="var it607" onMouseOver="hilite(607)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>,
<a name="l1795"><span class="linenum">1795</span></a>                                                    'attemptnumber' =&gt; <a class="var it1616" onMouseOver="hilite(1616)" onMouseOut="lolite()" onClick="logVariable('attemptnumber')" href="../../_variables/attemptnumber.html">$attemptnumber</a>,
<a name="l1796"><span class="linenum">1796</span></a>                                                    'workflowstate' =&gt; <a class="var it7057" onMouseOver="hilite(7057)" onMouseOut="lolite()" onClick="logVariable('workflowstate')" href="../../_variables/workflowstate.html">$workflowstate</a>,
<a name="l1797"><span class="linenum">1797</span></a>                                                    'addattempt' =&gt; <a class="var it20534" onMouseOver="hilite(20534)" onMouseOut="lolite()" onClick="logVariable('addattempt')" href="../../_variables/addattempt.html">$addattempt</a>,
<a name="l1798"><span class="linenum">1798</span></a>                                                    'applytoall' =&gt; <a class="var it20538" onMouseOver="hilite(20538)" onMouseOut="lolite()" onClick="logVariable('applytoall')" href="../../_variables/applytoall.html">$applytoall</a>,
<a name="l1799"><span class="linenum">1799</span></a>                                                    'plugindata' =&gt; <a class="var it38365" onMouseOver="hilite(38365)" onMouseOut="lolite()" onClick="logVariable('plugindata')" href="../../_variables/plugindata.html">$plugindata</a>,
<a name="l1800"><span class="linenum">1800</span></a>                                                    'advancedgradingdata' =&gt; <a class="var it9671" onMouseOver="hilite(9671)" onMouseOut="lolite()" onClick="logVariable('advancedgradingdata')" href="../../_variables/advancedgradingdata.html">$advancedgradingdata</a>));
<a name="l1801"><span class="linenum">1801</span></a>  
<a name="l1802"><span class="linenum">1802</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'], 0, false, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l1803"><span class="linenum">1803</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1804"><span class="linenum">1804</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l1805"><span class="linenum">1805</span></a>  
<a name="l1806"><span class="linenum">1806</span></a>          <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, null);
<a name="l1807"><span class="linenum">1807</span></a>  
<a name="l1808"><span class="linenum">1808</span></a>          <a class="var it38368" onMouseOver="hilite(38368)" onMouseOut="lolite()" onClick="logVariable('gradedata')" href="../../_variables/gradedata.html">$gradedata</a> = (object)<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['plugindata'];
<a name="l1809"><span class="linenum">1809</span></a>  
<a name="l1810"><span class="linenum">1810</span></a>          <a class="var it38368" onMouseOver="hilite(38368)" onMouseOut="lolite()" onClick="logVariable('gradedata')" href="../../_variables/gradedata.html">$gradedata</a>-&gt;<a onClick="logVariable('addattempt')" class="var it41158" onMouseOver="hilite(41158)" onMouseOut="lolite()" href="../../_variables/addattempt.html">addattempt</a> = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['addattempt'];
<a name="l1811"><span class="linenum">1811</span></a>          <a class="var it38368" onMouseOver="hilite(38368)" onMouseOut="lolite()" onClick="logVariable('gradedata')" href="../../_variables/gradedata.html">$gradedata</a>-&gt;<a onClick="logVariable('attemptnumber')" class="var it41158" onMouseOver="hilite(41158)" onMouseOut="lolite()" href="../../_variables/attemptnumber.html">attemptnumber</a> = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['attemptnumber'];
<a name="l1812"><span class="linenum">1812</span></a>          <a class="var it38368" onMouseOver="hilite(38368)" onMouseOut="lolite()" onClick="logVariable('gradedata')" href="../../_variables/gradedata.html">$gradedata</a>-&gt;<a onClick="logVariable('workflowstate')" class="var it41158" onMouseOver="hilite(41158)" onMouseOut="lolite()" href="../../_variables/workflowstate.html">workflowstate</a> = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['workflowstate'];
<a name="l1813"><span class="linenum">1813</span></a>          <a class="var it38368" onMouseOver="hilite(38368)" onMouseOut="lolite()" onClick="logVariable('gradedata')" href="../../_variables/gradedata.html">$gradedata</a>-&gt;<a onClick="logVariable('applytoall')" class="var it41158" onMouseOver="hilite(41158)" onMouseOut="lolite()" href="../../_variables/applytoall.html">applytoall</a> = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['applytoall'];
<a name="l1814"><span class="linenum">1814</span></a>          <a class="var it38368" onMouseOver="hilite(38368)" onMouseOut="lolite()" onClick="logVariable('gradedata')" href="../../_variables/gradedata.html">$gradedata</a>-&gt;<a onClick="logVariable('grade')" class="var it41158" onMouseOver="hilite(41158)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['grade'];
<a name="l1815"><span class="linenum">1815</span></a>  
<a name="l1816"><span class="linenum">1816</span></a>          if (!empty(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['advancedgradingdata'])) {
<a name="l1817"><span class="linenum">1817</span></a>              <a class="var it20532" onMouseOver="hilite(20532)" onMouseOut="lolite()" onClick="logVariable('advancedgrading')" href="../../_variables/advancedgrading.html">$advancedgrading</a> = array();
<a name="l1818"><span class="linenum">1818</span></a>              <a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../../_variables/criteria.html">$criteria</a> = <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['advancedgradingdata']);
<a name="l1819"><span class="linenum">1819</span></a>              foreach (<a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../../_variables/criteria.html">$criteria</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it1609" onMouseOver="hilite(1609)" onMouseOut="lolite()" onClick="logVariable('criterion')" href="../../_variables/criterion.html">$criterion</a>) {
<a name="l1820"><span class="linenum">1820</span></a>                  <a class="var it1213" onMouseOver="hilite(1213)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a> = array();
<a name="l1821"><span class="linenum">1821</span></a>                  foreach (<a class="var it1609" onMouseOver="hilite(1609)" onMouseOut="lolite()" onClick="logVariable('criterion')" href="../../_variables/criterion.html">$criterion</a> as <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1822"><span class="linenum">1822</span></a>                      foreach (<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>['fillings'] as <a class="var it1623" onMouseOver="hilite(1623)" onMouseOut="lolite()" onClick="logVariable('filling')" href="../../_variables/filling.html">$filling</a>) {
<a name="l1823"><span class="linenum">1823</span></a>                          <a class="var it1213" onMouseOver="hilite(1213)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a>[<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>['criterionid']] = <a class="var it1623" onMouseOver="hilite(1623)" onMouseOut="lolite()" onClick="logVariable('filling')" href="../../_variables/filling.html">$filling</a>;
<a name="l1824"><span class="linenum">1824</span></a>                      }
<a name="l1825"><span class="linenum">1825</span></a>                  }
<a name="l1826"><span class="linenum">1826</span></a>                  <a class="var it20532" onMouseOver="hilite(20532)" onMouseOut="lolite()" onClick="logVariable('advancedgrading')" href="../../_variables/advancedgrading.html">$advancedgrading</a>[<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it1213" onMouseOver="hilite(1213)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a>;
<a name="l1827"><span class="linenum">1827</span></a>              }
<a name="l1828"><span class="linenum">1828</span></a>              <a class="var it38368" onMouseOver="hilite(38368)" onMouseOut="lolite()" onClick="logVariable('gradedata')" href="../../_variables/gradedata.html">$gradedata</a>-&gt;<a onClick="logVariable('advancedgrading')" class="var it41158" onMouseOver="hilite(41158)" onMouseOut="lolite()" href="../../_variables/advancedgrading.html">advancedgrading</a> = <a class="var it20532" onMouseOver="hilite(20532)" onMouseOut="lolite()" onClick="logVariable('advancedgrading')" href="../../_variables/advancedgrading.html">$advancedgrading</a>;
<a name="l1829"><span class="linenum">1829</span></a>          }
<a name="l1830"><span class="linenum">1830</span></a>  
<a name="l1831"><span class="linenum">1831</span></a>          <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('save_grade')" href="../../_functions/save_grade.html" onMouseOver="funcPopup(event,'save_grade')">save_grade</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['userid'], <a class="var it38368" onMouseOver="hilite(38368)" onMouseOut="lolite()" onClick="logVariable('gradedata')" href="../../_variables/gradedata.html">$gradedata</a>);
<a name="l1832"><span class="linenum">1832</span></a>  
<a name="l1833"><span class="linenum">1833</span></a>          return null;
<a name="l1834"><span class="linenum">1834</span></a>      }
<a name="l1835"><span class="linenum">1835</span></a>  
<a name="l1836"><span class="linenum">1836</span></a>      <span class="comment">/**</span>
<a name="l1837"><span class="linenum">1837</span></a>  <span class="comment">     * Describes the return value for save_grade</span>
<a name="l1838"><span class="linenum">1838</span></a>  <span class="comment">     *</span>
<a name="l1839"><span class="linenum">1839</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1840"><span class="linenum">1840</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l1841"><span class="linenum">1841</span></a>  <span class="comment">     */</span>
<a name="l1842"><span class="linenum">1842</span></a>      public static function <a class="function" onClick="logFunction('save_grade_returns')" href="../../_functions/save_grade_returns.html" onMouseOver="funcPopup(event,'save_grade_returns')">save_grade_returns</a>() {
<a name="l1843"><span class="linenum">1843</span></a>          return null;
<a name="l1844"><span class="linenum">1844</span></a>      }
<a name="l1845"><span class="linenum">1845</span></a>  
<a name="l1846"><span class="linenum">1846</span></a>      <span class="comment">/**</span>
<a name="l1847"><span class="linenum">1847</span></a>  <span class="comment">     * Describes the parameters for save_grades</span>
<a name="l1848"><span class="linenum">1848</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l1849"><span class="linenum">1849</span></a>  <span class="comment">     * @since  Moodle 2.7</span>
<a name="l1850"><span class="linenum">1850</span></a>  <span class="comment">     */</span>
<a name="l1851"><span class="linenum">1851</span></a>      public static function <a class="function" onClick="logFunction('save_grades_parameters')" href="../../_functions/save_grades_parameters.html" onMouseOver="funcPopup(event,'save_grades_parameters')">save_grades_parameters</a>() {
<a name="l1852"><span class="linenum">1852</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l1853"><span class="linenum">1853</span></a>          require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/assign/locallib.php&quot;);
<a name="l1854"><span class="linenum">1854</span></a>          require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/grade/grading/lib.php&quot;);
<a name="l1855"><span class="linenum">1855</span></a>          <a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(null, null, null);
<a name="l1856"><span class="linenum">1856</span></a>          <a class="var it38367" onMouseOver="hilite(38367)" onMouseOut="lolite()" onClick="logVariable('pluginfeedbackparams')" href="../../_variables/pluginfeedbackparams.html">$pluginfeedbackparams</a> = array();
<a name="l1857"><span class="linenum">1857</span></a>  
<a name="l1858"><span class="linenum">1858</span></a>          foreach (<a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../_variables/instance.html">$instance</a>-&gt;<a class="function" onClick="logFunction('get_feedback_plugins')" href="../../_functions/get_feedback_plugins.html" onMouseOver="funcPopup(event,'get_feedback_plugins')">get_feedback_plugins</a>() as <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>) {
<a name="l1859"><span class="linenum">1859</span></a>              <a class="var it28194" onMouseOver="hilite(28194)" onMouseOut="lolite()" onClick="logVariable('pluginparams')" href="../../_variables/pluginparams.html">$pluginparams</a> = <a class="var it130" onMouseOver="hilite(130)" onMouseOut="lolite()" onClick="logVariable('plugin')" href="../../_variables/plugin.html">$plugin</a>-&gt;<a class="function" onClick="logFunction('get_external_parameters')" href="../../_functions/get_external_parameters.html" onMouseOver="funcPopup(event,'get_external_parameters')">get_external_parameters</a>();
<a name="l1860"><span class="linenum">1860</span></a>              if (!empty(<a class="var it28194" onMouseOver="hilite(28194)" onMouseOut="lolite()" onClick="logVariable('pluginparams')" href="../../_variables/pluginparams.html">$pluginparams</a>)) {
<a name="l1861"><span class="linenum">1861</span></a>                  <a class="var it38367" onMouseOver="hilite(38367)" onMouseOut="lolite()" onClick="logVariable('pluginfeedbackparams')" href="../../_variables/pluginfeedbackparams.html">$pluginfeedbackparams</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it38367" onMouseOver="hilite(38367)" onMouseOut="lolite()" onClick="logVariable('pluginfeedbackparams')" href="../../_variables/pluginfeedbackparams.html">$pluginfeedbackparams</a>, <a class="var it28194" onMouseOver="hilite(28194)" onMouseOut="lolite()" onClick="logVariable('pluginparams')" href="../../_variables/pluginparams.html">$pluginparams</a>);
<a name="l1862"><span class="linenum">1862</span></a>              }
<a name="l1863"><span class="linenum">1863</span></a>          }
<a name="l1864"><span class="linenum">1864</span></a>  
<a name="l1865"><span class="linenum">1865</span></a>          <a class="var it9671" onMouseOver="hilite(9671)" onMouseOut="lolite()" onClick="logVariable('advancedgradingdata')" href="../../_variables/advancedgradingdata.html">$advancedgradingdata</a> = array();
<a name="l1866"><span class="linenum">1866</span></a>          <a class="var it3198" onMouseOver="hilite(3198)" onMouseOut="lolite()" onClick="logVariable('methods')" href="../../_variables/methods.html">$methods</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="class" onClick="logClass('grading_manager')" href="../../_classes/grading_manager.html" onMouseOver="classPopup(event,'grading_manager')">grading_manager</a>::<a class="function" onClick="logFunction('available_methods')" href="../../_functions/available_methods.html" onMouseOver="funcPopup(event,'available_methods')">available_methods</a>(false));
<a name="l1867"><span class="linenum">1867</span></a>          foreach (<a class="var it3198" onMouseOver="hilite(3198)" onMouseOut="lolite()" onClick="logVariable('methods')" href="../../_variables/methods.html">$methods</a> as <a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>) {
<a name="l1868"><span class="linenum">1868</span></a>              require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'/grade/grading/form/'.<a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>.'/lib.php');
<a name="l1869"><span class="linenum">1869</span></a>              <a class="var it1213" onMouseOver="hilite(1213)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a>  = <a class="phpfunction" onClick="logFunction('call_user_func')" href="../../_functions/call_user_func.html" onMouseOver="phpfuncPopup(event,'call_user_func')">call_user_func</a>('gradingform_'.<a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>.'_controller::get_external_instance_filling_details');
<a name="l1870"><span class="linenum">1870</span></a>              if (!empty(<a class="var it1213" onMouseOver="hilite(1213)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a>)) {
<a name="l1871"><span class="linenum">1871</span></a>                  <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a> = array();
<a name="l1872"><span class="linenum">1872</span></a>                  foreach (<a class="var it1213" onMouseOver="hilite(1213)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1873"><span class="linenum">1873</span></a>                      <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>-&gt;<a onClick="logVariable('required')" class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" href="../../_variables/required.html">required</a> = <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>;
<a name="l1874"><span class="linenum">1874</span></a>                      unset(<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>-&gt;<a onClick="logVariable('content')" class="var it39477" onMouseOver="hilite(39477)" onMouseOut="lolite()" href="../../_variables/content.html">content</a>-&gt;keys['id']);
<a name="l1875"><span class="linenum">1875</span></a>                      <a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>[<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a> (<span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1876"><span class="linenum">1876</span></a>                          array(
<a name="l1877"><span class="linenum">1877</span></a>                              'criterionid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'criterion id'),
<a name="l1878"><span class="linenum">1878</span></a>                              'fillings' =&gt; <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>
<a name="l1879"><span class="linenum">1879</span></a>                          )
<a name="l1880"><span class="linenum">1880</span></a>                      ));
<a name="l1881"><span class="linenum">1881</span></a>                  }
<a name="l1882"><span class="linenum">1882</span></a>                  <a class="var it9671" onMouseOver="hilite(9671)" onMouseOut="lolite()" onClick="logVariable('advancedgradingdata')" href="../../_variables/advancedgradingdata.html">$advancedgradingdata</a>[<a class="var it625" onMouseOver="hilite(625)" onMouseOut="lolite()" onClick="logVariable('method')" href="../../_variables/method.html">$method</a>] = <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(<a class="var it135" onMouseOver="hilite(135)" onMouseOut="lolite()" onClick="logVariable('items')" href="../../_variables/items.html">$items</a>, 'items', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>);
<a name="l1883"><span class="linenum">1883</span></a>              }
<a name="l1884"><span class="linenum">1884</span></a>          }
<a name="l1885"><span class="linenum">1885</span></a>  
<a name="l1886"><span class="linenum">1886</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l1887"><span class="linenum">1887</span></a>              array(
<a name="l1888"><span class="linenum">1888</span></a>                  'assignmentid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The assignment id to operate on'),
<a name="l1889"><span class="linenum">1889</span></a>                  'applytoall' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'If true, this grade will be applied ' .
<a name="l1890"><span class="linenum">1890</span></a>                                                                 'to all members ' .
<a name="l1891"><span class="linenum">1891</span></a>                                                                 'of the <a class="function" onClick="logFunction('group')" href="../../_functions/group.html" onMouseOver="funcPopup(event,'group')">group</a> (for group assignments).'),
<a name="l1892"><span class="linenum">1892</span></a>                  'grades' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l1893"><span class="linenum">1893</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1894"><span class="linenum">1894</span></a>                          array (
<a name="l1895"><span class="linenum">1895</span></a>                              'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The student id to operate on'),
<a name="l1896"><span class="linenum">1896</span></a>                              'grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_FLOAT')" href="../../_constants/PARAM_FLOAT.html" onMouseOver="constPopup(event,'PARAM_FLOAT')">PARAM_FLOAT</a>, 'The <span class="keyword">new </span><a class="class" onClick="logClass('grade')" href="../../_classes/grade.html" onMouseOver="classPopup(event,'grade')">grade</a> for this user. '.
<a name="l1897"><span class="linenum">1897</span></a>                                                                         'Ignored if advanced grading used'),
<a name="l1898"><span class="linenum">1898</span></a>                              'attemptnumber' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The attempt <a class="function" onClick="logFunction('number')" href="../../_functions/number.html" onMouseOver="funcPopup(event,'number')">number</a> (-1 means latest attempt)'),
<a name="l1899"><span class="linenum">1899</span></a>                              'addattempt' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Allow another attempt if manual attempt reopen method'),
<a name="l1900"><span class="linenum">1900</span></a>                              'workflowstate' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>, 'The next marking workflow state'),
<a name="l1901"><span class="linenum">1901</span></a>                              'plugindata' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(<a class="var it38367" onMouseOver="hilite(38367)" onMouseOut="lolite()" onClick="logVariable('pluginfeedbackparams')" href="../../_variables/pluginfeedbackparams.html">$pluginfeedbackparams</a>, 'plugin data',
<a name="l1902"><span class="linenum">1902</span></a>                                                                            <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()),
<a name="l1903"><span class="linenum">1903</span></a>                              'advancedgradingdata' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(<a class="var it9671" onMouseOver="hilite(9671)" onMouseOut="lolite()" onClick="logVariable('advancedgradingdata')" href="../../_variables/advancedgradingdata.html">$advancedgradingdata</a>, 'advanced grading data',
<a name="l1904"><span class="linenum">1904</span></a>                                                                                     <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array())
<a name="l1905"><span class="linenum">1905</span></a>                          )
<a name="l1906"><span class="linenum">1906</span></a>                      )
<a name="l1907"><span class="linenum">1907</span></a>                  )
<a name="l1908"><span class="linenum">1908</span></a>              )
<a name="l1909"><span class="linenum">1909</span></a>          );
<a name="l1910"><span class="linenum">1910</span></a>      }
<a name="l1911"><span class="linenum">1911</span></a>  
<a name="l1912"><span class="linenum">1912</span></a>      <span class="comment">/**</span>
<a name="l1913"><span class="linenum">1913</span></a>  <span class="comment">     * Save multiple student grades for a single assignment.</span>
<a name="l1914"><span class="linenum">1914</span></a>  <span class="comment">     *</span>
<a name="l1915"><span class="linenum">1915</span></a>  <span class="comment">     * @param int $assignmentid The id of the assignment</span>
<a name="l1916"><span class="linenum">1916</span></a>  <span class="comment">     * @param boolean $applytoall If set to true and this is a team assignment,</span>
<a name="l1917"><span class="linenum">1917</span></a>  <span class="comment">     * apply the grade to all members of the group</span>
<a name="l1918"><span class="linenum">1918</span></a>  <span class="comment">     * @param array $grades grade data for one or more students that includes</span>
<a name="l1919"><span class="linenum">1919</span></a>  <span class="comment">     *                  userid - The id of the student being graded</span>
<a name="l1920"><span class="linenum">1920</span></a>  <span class="comment">     *                  grade - The grade (ignored if the assignment uses advanced grading)</span>
<a name="l1921"><span class="linenum">1921</span></a>  <span class="comment">     *                  attemptnumber - The attempt number</span>
<a name="l1922"><span class="linenum">1922</span></a>  <span class="comment">     *                  addattempt - Allow another attempt</span>
<a name="l1923"><span class="linenum">1923</span></a>  <span class="comment">     *                  workflowstate - New workflow state</span>
<a name="l1924"><span class="linenum">1924</span></a>  <span class="comment">     *                  plugindata - Custom data used by plugins</span>
<a name="l1925"><span class="linenum">1925</span></a>  <span class="comment">     *                  advancedgradingdata - Optional Advanced grading data</span>
<a name="l1926"><span class="linenum">1926</span></a>  <span class="comment">     * @throws invalid_parameter_exception if multiple grades are supplied for</span>
<a name="l1927"><span class="linenum">1927</span></a>  <span class="comment">     * a team assignment that has $applytoall set to true</span>
<a name="l1928"><span class="linenum">1928</span></a>  <span class="comment">     * @return null</span>
<a name="l1929"><span class="linenum">1929</span></a>  <span class="comment">     * @since Moodle 2.7</span>
<a name="l1930"><span class="linenum">1930</span></a>  <span class="comment">     */</span>
<a name="l1931"><span class="linenum">1931</span></a>      public static function <a class="function" onClick="logFunction('save_grades')" href="../../_functions/save_grades.html" onMouseOver="funcPopup(event,'save_grades')">save_grades</a>(<a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>, <a class="var it20538" onMouseOver="hilite(20538)" onMouseOut="lolite()" onClick="logVariable('applytoall')" href="../../_variables/applytoall.html">$applytoall</a> = false, <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>) {
<a name="l1932"><span class="linenum">1932</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>;
<a name="l1933"><span class="linenum">1933</span></a>          require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/assign/locallib.php&quot;);
<a name="l1934"><span class="linenum">1934</span></a>  
<a name="l1935"><span class="linenum">1935</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('save_grades_parameters')" href="../../_functions/save_grades_parameters.html" onMouseOver="funcPopup(event,'save_grades_parameters')">save_grades_parameters</a>(),
<a name="l1936"><span class="linenum">1936</span></a>                                              array('assignmentid' =&gt; <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>,
<a name="l1937"><span class="linenum">1937</span></a>                                                    'applytoall' =&gt; <a class="var it20538" onMouseOver="hilite(20538)" onMouseOut="lolite()" onClick="logVariable('applytoall')" href="../../_variables/applytoall.html">$applytoall</a>,
<a name="l1938"><span class="linenum">1938</span></a>                                                    'grades' =&gt; <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>));
<a name="l1939"><span class="linenum">1939</span></a>  
<a name="l1940"><span class="linenum">1940</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['assignmentid'], 0, false, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l1941"><span class="linenum">1941</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l1942"><span class="linenum">1942</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l1943"><span class="linenum">1943</span></a>          <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, null);
<a name="l1944"><span class="linenum">1944</span></a>  
<a name="l1945"><span class="linenum">1945</span></a>          if (<a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('get_instance')" href="../../_functions/get_instance.html" onMouseOver="funcPopup(event,'get_instance')">get_instance</a>()-&gt;teamsubmission &amp;&amp; <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['applytoall']) {
<a name="l1946"><span class="linenum">1946</span></a>  <span class="comment">            // Check that only 1 user per submission group is provided.</span>
<a name="l1947"><span class="linenum">1947</span></a>              <a class="var it12264" onMouseOver="hilite(12264)" onMouseOut="lolite()" onClick="logVariable('groupids')" href="../../_variables/groupids.html">$groupids</a> = array();
<a name="l1948"><span class="linenum">1948</span></a>              foreach (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['grades'] as <a class="var it9372" onMouseOver="hilite(9372)" onMouseOut="lolite()" onClick="logVariable('gradeinfo')" href="../../_variables/gradeinfo.html">$gradeinfo</a>) {
<a name="l1949"><span class="linenum">1949</span></a>                  <a class="var it4136" onMouseOver="hilite(4136)" onMouseOut="lolite()" onClick="logVariable('group')" href="../../_variables/group.html">$group</a> = <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('get_submission_group')" href="../../_functions/get_submission_group.html" onMouseOver="funcPopup(event,'get_submission_group')">get_submission_group</a>(<a class="var it9372" onMouseOver="hilite(9372)" onMouseOut="lolite()" onClick="logVariable('gradeinfo')" href="../../_variables/gradeinfo.html">$gradeinfo</a>['userid']);
<a name="l1950"><span class="linenum">1950</span></a>                  if (<a class="phpfunction" onClick="logFunction('in_array')" href="../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it4136" onMouseOver="hilite(4136)" onMouseOut="lolite()" onClick="logVariable('group')" href="../../_variables/group.html">$group</a>-&gt;<a onClick="logVariable('id')" class="var it39663" onMouseOver="hilite(39663)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it12264" onMouseOver="hilite(12264)" onMouseOut="lolite()" onClick="logVariable('groupids')" href="../../_variables/groupids.html">$groupids</a>)) {
<a name="l1951"><span class="linenum">1951</span></a>                      throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Multiple grades for the same team have been supplied '
<a name="l1952"><span class="linenum">1952</span></a>                                                            .' this is not permitted when the applytoall flag is set');
<a name="l1953"><span class="linenum">1953</span></a>                  } else {
<a name="l1954"><span class="linenum">1954</span></a>                      <a class="var it12264" onMouseOver="hilite(12264)" onMouseOut="lolite()" onClick="logVariable('groupids')" href="../../_variables/groupids.html">$groupids</a>[] = <a class="var it4136" onMouseOver="hilite(4136)" onMouseOut="lolite()" onClick="logVariable('group')" href="../../_variables/group.html">$group</a>-&gt;<a onClick="logVariable('id')" class="var it39663" onMouseOver="hilite(39663)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l1955"><span class="linenum">1955</span></a>                  }
<a name="l1956"><span class="linenum">1956</span></a>              }
<a name="l1957"><span class="linenum">1957</span></a>          }
<a name="l1958"><span class="linenum">1958</span></a>  
<a name="l1959"><span class="linenum">1959</span></a>          foreach (<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['grades'] as <a class="var it9372" onMouseOver="hilite(9372)" onMouseOut="lolite()" onClick="logVariable('gradeinfo')" href="../../_variables/gradeinfo.html">$gradeinfo</a>) {
<a name="l1960"><span class="linenum">1960</span></a>              <a class="var it38368" onMouseOver="hilite(38368)" onMouseOut="lolite()" onClick="logVariable('gradedata')" href="../../_variables/gradedata.html">$gradedata</a> = (object)<a class="var it9372" onMouseOver="hilite(9372)" onMouseOut="lolite()" onClick="logVariable('gradeinfo')" href="../../_variables/gradeinfo.html">$gradeinfo</a>['plugindata'];
<a name="l1961"><span class="linenum">1961</span></a>              <a class="var it38368" onMouseOver="hilite(38368)" onMouseOut="lolite()" onClick="logVariable('gradedata')" href="../../_variables/gradedata.html">$gradedata</a>-&gt;<a onClick="logVariable('addattempt')" class="var it41158" onMouseOver="hilite(41158)" onMouseOut="lolite()" href="../../_variables/addattempt.html">addattempt</a> = <a class="var it9372" onMouseOver="hilite(9372)" onMouseOut="lolite()" onClick="logVariable('gradeinfo')" href="../../_variables/gradeinfo.html">$gradeinfo</a>['addattempt'];
<a name="l1962"><span class="linenum">1962</span></a>              <a class="var it38368" onMouseOver="hilite(38368)" onMouseOut="lolite()" onClick="logVariable('gradedata')" href="../../_variables/gradedata.html">$gradedata</a>-&gt;<a onClick="logVariable('attemptnumber')" class="var it41158" onMouseOver="hilite(41158)" onMouseOut="lolite()" href="../../_variables/attemptnumber.html">attemptnumber</a> = <a class="var it9372" onMouseOver="hilite(9372)" onMouseOut="lolite()" onClick="logVariable('gradeinfo')" href="../../_variables/gradeinfo.html">$gradeinfo</a>['attemptnumber'];
<a name="l1963"><span class="linenum">1963</span></a>              <a class="var it38368" onMouseOver="hilite(38368)" onMouseOut="lolite()" onClick="logVariable('gradedata')" href="../../_variables/gradedata.html">$gradedata</a>-&gt;<a onClick="logVariable('workflowstate')" class="var it41158" onMouseOver="hilite(41158)" onMouseOut="lolite()" href="../../_variables/workflowstate.html">workflowstate</a> = <a class="var it9372" onMouseOver="hilite(9372)" onMouseOut="lolite()" onClick="logVariable('gradeinfo')" href="../../_variables/gradeinfo.html">$gradeinfo</a>['workflowstate'];
<a name="l1964"><span class="linenum">1964</span></a>              <a class="var it38368" onMouseOver="hilite(38368)" onMouseOut="lolite()" onClick="logVariable('gradedata')" href="../../_variables/gradedata.html">$gradedata</a>-&gt;<a onClick="logVariable('applytoall')" class="var it41158" onMouseOver="hilite(41158)" onMouseOut="lolite()" href="../../_variables/applytoall.html">applytoall</a> = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['applytoall'];
<a name="l1965"><span class="linenum">1965</span></a>              <a class="var it38368" onMouseOver="hilite(38368)" onMouseOut="lolite()" onClick="logVariable('gradedata')" href="../../_variables/gradedata.html">$gradedata</a>-&gt;<a onClick="logVariable('grade')" class="var it41158" onMouseOver="hilite(41158)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> = <a class="var it9372" onMouseOver="hilite(9372)" onMouseOut="lolite()" onClick="logVariable('gradeinfo')" href="../../_variables/gradeinfo.html">$gradeinfo</a>['grade'];
<a name="l1966"><span class="linenum">1966</span></a>  
<a name="l1967"><span class="linenum">1967</span></a>              if (!empty(<a class="var it9372" onMouseOver="hilite(9372)" onMouseOut="lolite()" onClick="logVariable('gradeinfo')" href="../../_variables/gradeinfo.html">$gradeinfo</a>['advancedgradingdata'])) {
<a name="l1968"><span class="linenum">1968</span></a>                  <a class="var it20532" onMouseOver="hilite(20532)" onMouseOut="lolite()" onClick="logVariable('advancedgrading')" href="../../_variables/advancedgrading.html">$advancedgrading</a> = array();
<a name="l1969"><span class="linenum">1969</span></a>                  <a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../../_variables/criteria.html">$criteria</a> = <a class="phpfunction" onClick="logFunction('reset')" href="../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>(<a class="var it9372" onMouseOver="hilite(9372)" onMouseOut="lolite()" onClick="logVariable('gradeinfo')" href="../../_variables/gradeinfo.html">$gradeinfo</a>['advancedgradingdata']);
<a name="l1970"><span class="linenum">1970</span></a>                  foreach (<a class="var it1624" onMouseOver="hilite(1624)" onMouseOut="lolite()" onClick="logVariable('criteria')" href="../../_variables/criteria.html">$criteria</a> as <a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a> =&gt; <a class="var it1609" onMouseOver="hilite(1609)" onMouseOut="lolite()" onClick="logVariable('criterion')" href="../../_variables/criterion.html">$criterion</a>) {
<a name="l1971"><span class="linenum">1971</span></a>                      <a class="var it1213" onMouseOver="hilite(1213)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a> = array();
<a name="l1972"><span class="linenum">1972</span></a>                      foreach (<a class="var it1609" onMouseOver="hilite(1609)" onMouseOut="lolite()" onClick="logVariable('criterion')" href="../../_variables/criterion.html">$criterion</a> as <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>) {
<a name="l1973"><span class="linenum">1973</span></a>                          foreach (<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>['fillings'] as <a class="var it1623" onMouseOver="hilite(1623)" onMouseOut="lolite()" onClick="logVariable('filling')" href="../../_variables/filling.html">$filling</a>) {
<a name="l1974"><span class="linenum">1974</span></a>                              <a class="var it1213" onMouseOver="hilite(1213)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a>[<a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>['criterionid']] = <a class="var it1623" onMouseOver="hilite(1623)" onMouseOut="lolite()" onClick="logVariable('filling')" href="../../_variables/filling.html">$filling</a>;
<a name="l1975"><span class="linenum">1975</span></a>                          }
<a name="l1976"><span class="linenum">1976</span></a>                      }
<a name="l1977"><span class="linenum">1977</span></a>                      <a class="var it20532" onMouseOver="hilite(20532)" onMouseOut="lolite()" onClick="logVariable('advancedgrading')" href="../../_variables/advancedgrading.html">$advancedgrading</a>[<a class="var it36" onMouseOver="hilite(36)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../_variables/key.html">$key</a>] = <a class="var it1213" onMouseOver="hilite(1213)" onMouseOut="lolite()" onClick="logVariable('details')" href="../../_variables/details.html">$details</a>;
<a name="l1978"><span class="linenum">1978</span></a>                  }
<a name="l1979"><span class="linenum">1979</span></a>                  <a class="var it38368" onMouseOver="hilite(38368)" onMouseOut="lolite()" onClick="logVariable('gradedata')" href="../../_variables/gradedata.html">$gradedata</a>-&gt;<a onClick="logVariable('advancedgrading')" class="var it41158" onMouseOver="hilite(41158)" onMouseOut="lolite()" href="../../_variables/advancedgrading.html">advancedgrading</a> = <a class="var it20532" onMouseOver="hilite(20532)" onMouseOut="lolite()" onClick="logVariable('advancedgrading')" href="../../_variables/advancedgrading.html">$advancedgrading</a>;
<a name="l1980"><span class="linenum">1980</span></a>              }
<a name="l1981"><span class="linenum">1981</span></a>              <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('save_grade')" href="../../_functions/save_grade.html" onMouseOver="funcPopup(event,'save_grade')">save_grade</a>(<a class="var it9372" onMouseOver="hilite(9372)" onMouseOut="lolite()" onClick="logVariable('gradeinfo')" href="../../_variables/gradeinfo.html">$gradeinfo</a>['userid'], <a class="var it38368" onMouseOver="hilite(38368)" onMouseOut="lolite()" onClick="logVariable('gradedata')" href="../../_variables/gradedata.html">$gradedata</a>);
<a name="l1982"><span class="linenum">1982</span></a>          }
<a name="l1983"><span class="linenum">1983</span></a>  
<a name="l1984"><span class="linenum">1984</span></a>          return null;
<a name="l1985"><span class="linenum">1985</span></a>      }
<a name="l1986"><span class="linenum">1986</span></a>  
<a name="l1987"><span class="linenum">1987</span></a>      <span class="comment">/**</span>
<a name="l1988"><span class="linenum">1988</span></a>  <span class="comment">     * Describes the return value for save_grades</span>
<a name="l1989"><span class="linenum">1989</span></a>  <span class="comment">     *</span>
<a name="l1990"><span class="linenum">1990</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1991"><span class="linenum">1991</span></a>  <span class="comment">     * @since Moodle 2.7</span>
<a name="l1992"><span class="linenum">1992</span></a>  <span class="comment">     */</span>
<a name="l1993"><span class="linenum">1993</span></a>      public static function <a class="function" onClick="logFunction('save_grades_returns')" href="../../_functions/save_grades_returns.html" onMouseOver="funcPopup(event,'save_grades_returns')">save_grades_returns</a>() {
<a name="l1994"><span class="linenum">1994</span></a>          return null;
<a name="l1995"><span class="linenum">1995</span></a>      }
<a name="l1996"><span class="linenum">1996</span></a>  
<a name="l1997"><span class="linenum">1997</span></a>      <span class="comment">/**</span>
<a name="l1998"><span class="linenum">1998</span></a>  <span class="comment">     * Describes the parameters for copy_previous_attempt</span>
<a name="l1999"><span class="linenum">1999</span></a>  <span class="comment">     * @return external_external_function_parameters</span>
<a name="l2000"><span class="linenum">2000</span></a>  <span class="comment">     * @since  Moodle 2.6</span>
<a name="l2001"><span class="linenum">2001</span></a>  <span class="comment">     */</span>
<a name="l2002"><span class="linenum">2002</span></a>      public static function <a class="function" onClick="logFunction('copy_previous_attempt_parameters')" href="../../_functions/copy_previous_attempt_parameters.html" onMouseOver="funcPopup(event,'copy_previous_attempt_parameters')">copy_previous_attempt_parameters</a>() {
<a name="l2003"><span class="linenum">2003</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l2004"><span class="linenum">2004</span></a>              array(
<a name="l2005"><span class="linenum">2005</span></a>                  'assignmentid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The assignment id to operate on'),
<a name="l2006"><span class="linenum">2006</span></a>              )
<a name="l2007"><span class="linenum">2007</span></a>          );
<a name="l2008"><span class="linenum">2008</span></a>      }
<a name="l2009"><span class="linenum">2009</span></a>  
<a name="l2010"><span class="linenum">2010</span></a>      <span class="comment">/**</span>
<a name="l2011"><span class="linenum">2011</span></a>  <span class="comment">     * Copy a students previous attempt to a new attempt.</span>
<a name="l2012"><span class="linenum">2012</span></a>  <span class="comment">     *</span>
<a name="l2013"><span class="linenum">2013</span></a>  <span class="comment">     * @param int $assignmentid</span>
<a name="l2014"><span class="linenum">2014</span></a>  <span class="comment">     * @return array of warnings to indicate any errors.</span>
<a name="l2015"><span class="linenum">2015</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l2016"><span class="linenum">2016</span></a>  <span class="comment">     */</span>
<a name="l2017"><span class="linenum">2017</span></a>      public static function <a class="function" onClick="logFunction('copy_previous_attempt')" href="../../_functions/copy_previous_attempt.html" onMouseOver="funcPopup(event,'copy_previous_attempt')">copy_previous_attempt</a>(<a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>) {
<a name="l2018"><span class="linenum">2018</span></a>          global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>;
<a name="l2019"><span class="linenum">2019</span></a>          require_once(&quot;<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>/mod/assign/locallib.php&quot;);
<a name="l2020"><span class="linenum">2020</span></a>  
<a name="l2021"><span class="linenum">2021</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('copy_previous_attempt_parameters')" href="../../_functions/copy_previous_attempt_parameters.html" onMouseOver="funcPopup(event,'copy_previous_attempt_parameters')">copy_previous_attempt_parameters</a>(),
<a name="l2022"><span class="linenum">2022</span></a>                                              array('assignmentid' =&gt; <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>));
<a name="l2023"><span class="linenum">2023</span></a>  
<a name="l2024"><span class="linenum">2024</span></a>          <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('assign', <a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>, 0, false, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l2025"><span class="linenum">2025</span></a>          <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l2026"><span class="linenum">2026</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>);
<a name="l2027"><span class="linenum">2027</span></a>  
<a name="l2028"><span class="linenum">2028</span></a>          <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a> = <span class="keyword">new </span><a class="class" onClick="logClass('assign')" href="../../_classes/assign.html" onMouseOver="classPopup(event,'assign')">assign</a>(<a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, null);
<a name="l2029"><span class="linenum">2029</span></a>  
<a name="l2030"><span class="linenum">2030</span></a>          <a class="var it4372" onMouseOver="hilite(4372)" onMouseOut="lolite()" onClick="logVariable('notices')" href="../../_variables/notices.html">$notices</a> = array();
<a name="l2031"><span class="linenum">2031</span></a>  
<a name="l2032"><span class="linenum">2032</span></a>          <a class="var it1613" onMouseOver="hilite(1613)" onMouseOut="lolite()" onClick="logVariable('assignment')" href="../../_variables/assignment.html">$assignment</a>-&gt;<a class="function" onClick="logFunction('copy_previous_attempt')" href="../../_functions/copy_previous_attempt.html" onMouseOver="funcPopup(event,'copy_previous_attempt')">copy_previous_attempt</a>(<a class="var it38366" onMouseOver="hilite(38366)" onMouseOut="lolite()" onClick="logVariable('submissiondata')" href="../../_variables/submissiondata.html">$submissiondata</a>, <a class="var it4372" onMouseOver="hilite(4372)" onMouseOut="lolite()" onClick="logVariable('notices')" href="../../_variables/notices.html">$notices</a>);
<a name="l2033"><span class="linenum">2033</span></a>  
<a name="l2034"><span class="linenum">2034</span></a>          <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a> = array();
<a name="l2035"><span class="linenum">2035</span></a>          foreach (<a class="var it4372" onMouseOver="hilite(4372)" onMouseOut="lolite()" onClick="logVariable('notices')" href="../../_variables/notices.html">$notices</a> as <a class="var it3063" onMouseOver="hilite(3063)" onMouseOut="lolite()" onClick="logVariable('notice')" href="../../_variables/notice.html">$notice</a>) {
<a name="l2036"><span class="linenum">2036</span></a>              <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>[] = self::<a class="function" onClick="logFunction('generate_warning')" href="../../_functions/generate_warning.html" onMouseOver="funcPopup(event,'generate_warning')">generate_warning</a>(<a class="var it7073" onMouseOver="hilite(7073)" onMouseOut="lolite()" onClick="logVariable('assignmentid')" href="../../_variables/assignmentid.html">$assignmentid</a>,
<a name="l2037"><span class="linenum">2037</span></a>                                                   'couldnotcopyprevioussubmission',
<a name="l2038"><span class="linenum">2038</span></a>                                                   <a class="var it3063" onMouseOver="hilite(3063)" onMouseOut="lolite()" onClick="logVariable('notice')" href="../../_variables/notice.html">$notice</a>);
<a name="l2039"><span class="linenum">2039</span></a>          }
<a name="l2040"><span class="linenum">2040</span></a>  
<a name="l2041"><span class="linenum">2041</span></a>          return <a class="var it2962" onMouseOver="hilite(2962)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../_variables/warnings.html">$warnings</a>;
<a name="l2042"><span class="linenum">2042</span></a>      }
<a name="l2043"><span class="linenum">2043</span></a>  
<a name="l2044"><span class="linenum">2044</span></a>      <span class="comment">/**</span>
<a name="l2045"><span class="linenum">2045</span></a>  <span class="comment">     * Describes the return value for save_submission</span>
<a name="l2046"><span class="linenum">2046</span></a>  <span class="comment">     *</span>
<a name="l2047"><span class="linenum">2047</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l2048"><span class="linenum">2048</span></a>  <span class="comment">     * @since Moodle 2.6</span>
<a name="l2049"><span class="linenum">2049</span></a>  <span class="comment">     */</span>
<a name="l2050"><span class="linenum">2050</span></a>      public static function <a class="function" onClick="logFunction('copy_previous_attempt_returns')" href="../../_functions/copy_previous_attempt_returns.html" onMouseOver="funcPopup(event,'copy_previous_attempt_returns')">copy_previous_attempt_returns</a>() {
<a name="l2051"><span class="linenum">2051</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>();
<a name="l2052"><span class="linenum">2052</span></a>      }
<a name="l2053"><span class="linenum">2053</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'copy_previous_attempt_returns': ['copy_previous_attempt_returns', 'Describes the return value for save_submission ', [['mod/assign','externallib.php',2044]], 1],
'lock_submissions': ['lock_submissions', 'Locks (prevent updates to) submissions in this assignment. ', [['mod/assign','externallib.php',1269]], 2],
'get_filename': ['get_filename', 'Returns file name or \'.\' in case of directories. ', [['lib/filestorage','stored_file.php',699],['lib/filebrowser','virtual_root_file.php',227],['lib','medialib.php',169]], 223],
'submit_for_grading': ['submit_for_grading', 'Submit a submission for grading. ', [['mod/assign','locallib.php',5025],['mod/assign','submissionplugin.php',71],['mod/assign','externallib.php',1452]], 15],
'save_submission_parameters': ['save_submission_parameters', 'Describes the parameters for save_submission ', [['mod/assign','externallib.php',1630]], 1],
'show_intro': ['show_intro', 'Based on the current assignment settings should we display the intro. ', [['mod/assign','locallib.php',210]], 14],
'has_all_capabilities': ['has_all_capabilities', 'Check if the user has all the capabilities in a list. ', [['lib','accesslib.php',523]], 25],
'get_assignments_returns': ['get_assignments_returns', 'Describes the return value for get_assignments ', [['mod/assign','externallib.php',537]], 3],
'copy_previous_attempt': ['copy_previous_attempt', 'Copy the current assignment submission from the last submitted attempt. ', [['mod/assign','locallib.php',5696],['mod/assign','externallib.php',2010]], 4],
'unlock_submissions_parameters': ['unlock_submissions_parameters', 'Describes the parameters for unlock_submissions ', [['mod/assign','externallib.php',1376]], 1],
'get_user_flags_returns': ['get_user_flags_returns', 'Describes the get_user_flags return value ', [['mod/assign','externallib.php',1093]], 1],
'update_user_flags': ['update_user_flags', 'Update user flags for this user in this assignment. ', [['mod/assign','locallib.php',1899]], 10],
'save_grade': ['save_grade', 'Save grade update. ', [['mod/assign','locallib.php',6812],['mod/assign','externallib.php',1764]], 5],
'get_submissions_structure': ['get_submissions_structure', 'Creates an assign_submissions external_single_structure ', [['mod/assign','externallib.php',734]], 1],
'get_assignments_parameters': ['get_assignments_parameters', 'Returns description of method parameters ', [['mod/assign','externallib.php',238]], 1],
'enrol_get_users_courses': ['enrol_get_users_courses', 'Returns list of courses user is enrolled into. (Note: use enrol_get_all_users_courses if you want to use the list wihtout any cap checks ) ', [['lib','enrollib.php',679]], 18],
'get_area_files': ['get_area_files', 'Returns all area files (optionally limited by itemid) ', [['lib/filestorage','file_storage.php',530]], 174],
'get_type': ['get_type', 'Get the type ', [['lib/simplepie/library/SimplePie','Restriction.php',122],['mod/assign','assignmentplugin.php',153],['backup/util/ui','base_ui.class.php',294],['grade/report/singleview/classes/local/ui','bulk_insert.php',62],['backup/util/plan','backup_plan.class.php',70],['lib/simplepie/library/SimplePie','Caption.php',193],['lib/simplepie/library/SimplePie','Enclosure.php',877],['lib/simplepie/library','SimplePie.php',1624],['mod/lesson','locallib.php',2397],['mod/workshop','locallib.php',3761],['mod/lti/classes/local/ltiservice','resource_base.php',114],['backup/util/ui','backup_ui_setting.class.php',102],['availability/classes','condition.php',102],['backup/controller','restore_controller.class.php',259],['backup/controller','backup_controller.class.php',242],['lib/simplepie/library/SimplePie/Content/Type','Sniffer.php',79]], 85],
'number': ['number', '', [['lib/lessphp','Functions.php',50],['question/engine','renderer.php',153]], 143],
'get_user_mappings_returns': ['get_user_mappings_returns', 'Describes the get_user_mappings return value ', [['mod/assign','externallib.php',1236]], 1],
'validate_context': ['validate_context', 'Makes sure user may execute functions in this context. ', [['lib','externallib.php',343]], 104],
'save_grades': ['save_grades', 'Save multiple student grades for a single assignment. ', [['mod/assign','externallib.php',1912]], 3],
'notifications': ['notifications', 'Renders an array of notifications for the cache configuration screen. ', [['cache','renderer.php',378]], 2],
'save_user_extensions_parameters': ['save_user_extensions_parameters', 'Describes the parameters for save_user_extensions ', [['mod/assign','externallib.php',1498]], 1],
'get_grades_parameters': ['get_grades_parameters', 'Returns description of method parameters ', [['lib/classes','grades_external.php',36],['mod/assign','externallib.php',69]], 2],
'submit_for_grading_returns': ['submit_for_grading_returns', 'Describes the return value for submit_for_grading ', [['mod/assign','externallib.php',1488]], 5],
'get_user_flags_parameters': ['get_user_flags_parameters', 'Describes the parameters for get_user_flags ', [['mod/assign','externallib.php',955]], 1],
'get_assignments_config_structure': ['get_assignments_config_structure', 'Creates an assign_plugin_config external_single_structure ', [['mod/assign','externallib.php',500]], 1],
'get_recordset': ['get_recordset', 'Get a number of records as a moodle_recordset where all the given conditions met. ', [['lib/dml','moodle_database.php',1113]], 95],
'assign_user_flags': ['assign_user_flags', 'Creates an assign_user_flags external_single_structure ', [['mod/assign','externallib.php',1068]], 1],
'generate_warning': ['generate_warning', 'Generate a warning in a standard structure for a known failure. ', [['mod/assign','externallib.php',37]], 9],
'get_grades': ['get_grades', 'Returns student course total grade and grades for activities. This function does not return category or manual items. This function is suitable for managers or teachers not students. ', [['lib/classes','grades_external.php',57],['mod/assign','externallib.php',88]], 14],
'get_recordset_sql': ['get_recordset_sql', 'Get a number of records as a moodle_recordset using a SQL statement. ', [['lib/dml','pgsql_native_moodle_database.php',688],['lib/dml','oci_native_moodle_database.php',1065],['lib/dml','sqlsrv_native_moodle_database.php',761],['lib/dml','mssql_native_moodle_database.php',687],['lib/dml','mysqli_native_moodle_database.php',985],['lib/dml/tests','dml_test.php',5423],['lib/dml','pdo_moodle_database.php',251]], 279],
'get_assignments': ['get_assignments', 'Returns an array of courses the user is enrolled in, and for each course all of the assignments that the user can view within that course. ', [['mod/assign','externallib.php',261]], 3],
'available_methods': ['available_methods', 'Returns the list of installed grading plugins together, optionally extended with a simple direct grading. ', [['grade/grading','lib.php',241]], 7],
'make_webservice_pluginfile_url': ['make_webservice_pluginfile_url', 'Factory method for creation of url pointing to plugin file. This method is the same that make_pluginfile_url but pointing to the webservice pluginfile.php script. It should be used only in external functions. ', [['lib','weblib.php',751]], 16],
'getmessage': ['getmessage', 'Get the error message from an error object. ', [['lib/pear','PEAR.php',921],['lib/htmlpurifier/HTMLPurifier','Language.php',86],['lib/google/src/Google/Service','Reports.php',1105],['lib/google/src/Google/Service','Gmail.php',1283],['lib/google/src/Google/Service','IdentityToolkit.php',1159],['lib/google/src/Google/Service','Dfareporting.php',2039],['lib/zend/Zend/XmlRpc','Fault.php',152],['lib/google/src/Google/Service','Books.php',3266],['lib/google/src/Google/Service','Books.php',3951],['lib/google/src/Google/Service','AdExchangeSeller.php',1042],['lib/google/src/Google/Service','Bigquery.php',1245],['lib/google/src/Google/Service','Freebase.php',440],['lib/google/src/Google/Service','Autoscaler.php',1078],['lib/google/src/Google/Service','Autoscaler.php',1170],['lib/google/src/Google/Service','ShoppingContent.php',2096],['lib/google/src/Google/Service','ShoppingContent.php',2498],['lib/google/src/Google/Service','ShoppingContent.php',2543],['lib/zend/Zend/Http','Response.php',323],['lib/google/src/Google/Service','Compute.php',5785],['lib/google/src/Google/Service','Compute.php',6842],['lib/google/src/Google/Service','Compute.php',6934],['lib/google/src/Google/Service','Compute.php',7440],['lib/google/src/Google/Service','Compute.php',8566],['lib/google/src/Google/Service','Compute.php',8969],['lib/google/src/Google/Service','Compute.php',9561],['lib/google/src/Google/Service','Compute.php',9653],['lib/google/src/Google/Service','Compute.php',9745],['lib/google/src/Google/Service','Compute.php',10382],['lib/google/src/Google/Service','Compute.php',11098],['lib/google/src/Google/Service','Compute.php',11524],['lib/zend/Zend/Service/DeveloperGarden/Request/SendSms','SendSmsAbstract.php',148],['lib/google/src/Google/Service','AdSense.php',2959],['lib/google/src/Google/Service','Pubsub.php',700],['lib/google/src/Google/Service','Pubsub.php',737],['lib/google/src/Google/Service','Replicapool.php',1151],['lib/google/src/Google/Service','Replicapool.php',1243],['lib/google/src/Google/Service','Resourceviews.php',890],['lib/google/src/Google/Service','Resourceviews.php',982]], 434],
'get_submissions_returns': ['get_submissions_returns', 'Describes the get_submissions return value ', [['mod/assign','externallib.php',797]], 2],
'save_grades_returns': ['save_grades_returns', 'Describes the return value for save_grades ', [['mod/assign','externallib.php',1987]], 2],
'revert_submissions_to_draft_returns': ['revert_submissions_to_draft_returns', 'Describes the return value for revert_submissions_to_draft ', [['mod/assign','externallib.php',1366]], 1],
'reveal_identities_returns': ['reveal_identities_returns', 'Describes the return value for reveal_identities ', [['mod/assign','externallib.php',1620]], 3],
'save_grades_parameters': ['save_grades_parameters', 'Describes the parameters for save_grades ', [['mod/assign','externallib.php',1846]], 1],
'unlock_submissions': ['unlock_submissions', 'Locks (prevent updates to) submissions in this assignment. ', [['mod/assign','externallib.php',1393]], 1],
'get_assignments_assignment_structure': ['get_assignments_assignment_structure', 'Creates an assignment external_single_structure ', [['mod/assign','externallib.php',450]], 1],
'unlock_submissions_returns': ['unlock_submissions_returns', 'Describes the return value for unlock_submissions ', [['mod/assign','externallib.php',1428]], 1],
'join': ['join', 'Join a room. For internal use by the Games SDK only. Calling this method directly is unsupported. (rooms.join) ', [['lib/google/src/Google/Service','Games.php',1715],['lib/google/src/Google/Service','Games.php',2099]], 949],
'require_capability': ['require_capability', 'Adds a required capability which all results will be checked against ', [['backup/util/ui','restore_ui_components.php',157],['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',891],['lib','accesslib.php',764]], 628],
'group': ['group', 'Start a group for following messages ', [['lib/minify/lib','FirePHP.php',356]], 57],
'assign_grades': ['assign_grades', 'Creates an assign_grades external_single_structure ', [['mod/assign','externallib.php',197]], 1],
'revert_submissions_to_draft': ['revert_submissions_to_draft', 'Reverts a list of user submissions to draft for a single assignment. ', [['mod/assign','externallib.php',1331]], 1],
'submit_for_grading_parameters': ['submit_for_grading_parameters', 'Describes the parameters for submit_for_grading ', [['mod/assign','externallib.php',1438]], 1],
'get_external_parameters': ['get_external_parameters', 'If this plugin can participate in a webservice (save_submission or save_grade), return a list of external_params to be included in the definition of that webservice. ', [['mod/assign','assignmentplugin.php',651],['mod/assign/submission/file','locallib.php',522],['mod/assign/submission/onlinetext','locallib.php',600],['mod/assign/feedback/file','locallib.php',612],['mod/assign/feedback/comments','locallib.php',481]], 4],
'lock_submissions_parameters': ['lock_submissions_parameters', 'Describes the parameters for lock_submissions ', [['mod/assign','externallib.php',1252]], 1],
'save_user_extensions': ['save_user_extensions', 'Grant extension dates to students for an assignment. ', [['mod/assign','externallib.php',1519]], 4],
'reveal_identities': ['reveal_identities', 'Reveal student identities to markers (and the gradebook). ', [['mod/assign','locallib.php',5475],['mod/assign','externallib.php',1589]], 10],
'get_instance': ['get_instance', 'Returns the object of type gradingform_XXX_instance (where XXX is the plugin method name) ', [['grade/grading/form','lib.php',474],['blog','locallib.php',859],['question/engine','bank.php',445],['mod/assign','locallib.php',1164],['backup/util/helper','restore_logs_processor.class.php',69],['repository','lib.php',1135],['mnet/service/enrol','locallib.php',57],['lib','externallib.php',794],['backup/util/output','output_controller.class.php',53]], 393],
'get_feedback_plugins': ['get_feedback_plugins', 'Get list of feedback plugins installed. ', [['mod/assign','locallib.php',264]], 19],
'get_assignments_course_structure': ['get_assignments_course_structure', 'Creates a course external_single_structure ', [['mod/assign','externallib.php',519]], 1],
'get_submission_group': ['get_submission_group', 'This is used for team assignments to get the group for the specified user. If the user is a member of multiple or no groups this will return false ', [['mod/assign','locallib.php',2291]], 17],
'get_mimetype': ['get_mimetype', 'Gets mimetype ', [['lib/portfolio','caller.php',453],['lib/filestorage','stored_file.php',738],['lib/filebrowser','virtual_root_file.php',254],['lib/filebrowser','file_info.php',277],['lib','medialib.php',192],['lib/filebrowser','file_info_stored.php',240]], 56],
'validate_parameters': ['validate_parameters', 'Validates submitted function parameters, if anything is incorrect invalid_parameter_exception is thrown. This is a simple recursive method which is intended to be called from each implementation method of external API. ', [['lib','externallib.php',174]], 128],
'get_coursemodules_in_course': ['get_coursemodules_in_course', 'Returns all course modules of given activity in course ', [['lib','datalib.php',1382]], 7],
'save_submission': ['save_submission', 'Save assignment submission for the current user. ', [['mod/assign','locallib.php',5802],['mod/assign','externallib.php',1658]], 14],
'get_name': ['get_name', 'Return localised event name. ', [['report/log/classes/event','user_report_viewed.php',54],['mod/wiki/classes/event','page_deleted.php',54],['mod/forum/classes/message/inbound','reply_handler.php',50],['mod/chat/classes/event','sessions_viewed.php',65],['mod/glossary/classes/event','category_deleted.php',46],['mod/workshop/classes/event','assessment_evaluations_reset.php',75],['lib/classes/event','tag_updated.php',58],['lib/classes/event','course_resources_list_viewed.php',60],['mod/lesson/classes/event','content_page_viewed.php',48],['lib/classes/event','blog_association_created.php',56],['lib/classes/event','user_profile_viewed.php',56],['mod/feedback/classes/event','response_submitted.php',60],['backup/util/plan','base_plan.class.php',50],['lib/classes/event','badge_awarded.php',54],['report/outline/classes/event','report_viewed.php',54],['question/classes/bank','checkbox_column.php',32],['mod/assign/classes/event','extension_granted.php',77],['admin/tool/capability/classes/event','report_viewed.php',47],['portfolio/picasa','lib.php',33],['lib/classes/event','message_viewed.php',54],['lib/classes/event','course_category_created.php',48],['mod/quiz/classes/event','group_override_updated.php',54],['lib/classes/task','context_cleanup_task.php',32],['mod/survey/classes/event','response_submitted.php',53],['mod/book/tool/exportimscp/classes/event','book_exported.php',76],['cache/classes','definition.php',604],['report/loglive/classes/event','report_viewed.php',48],['mod/forum/classes/event','post_deleted.php',67],['mod/assign/classes/event','submission_duplicated.php',77],['mod/chat/classes/event','message_sent.php',59],['mod/workshop/classes/event','submission_created.php',63],['lib/classes/event','note_updated.php',56],['mod/lesson/classes/event','group_override_deleted.php',54],['mod/feedback/classes/event','response_deleted.php',57],['lib/classes/event','course_module_instance_list_viewed.php',75],['mod/assign/classes/event','submission_locked.php',78],['enrol/imsenterprise/classes/task','cron_task.php',34],['mod/lesson/classes/event','page_updated.php',72],['admin/tool/messageinbound/classes/task','cleanup_task.php',38],['mod/forum/classes/event','discussion_subscription_deleted.php',66],['mod/quiz/classes/event','attempt_preview_started.php',54],['mod/assign/classes/event','batch_set_workflow_state_viewed.php',79],['mod/lesson/classes/event','user_override_updated.php',54],['lib/classes/task','calendar_cron_task.php',31],['mod/quiz/classes/event','report_viewed.php',56],['mod/lesson/classes/event','question_answered.php',54],['lib/portfolio','plugin.php',120],['mod/forum/classes/event','discussion_viewed.php',60],['mod/workshop/classes/event','submission_viewed.php',63],['lib/classes/task','registration_cron_task.php',31],['mod/assign/submission/file','locallib.php',44],['mod/assign/classes/event','submission_updated.php',57],['mod/workshop/classes/event','submission_reassessed.php',77],['mod/glossary/classes/event','entry_deleted.php',54],['lib/classes/task','portfolio_cron_task.php',31],['lib/classes/event','user_created.php',48],['question/classes/bank','preview_action_column.php',26],['mod/data/classes/event','field_updated.php',57],['mod/assign/submission/onlinetext','locallib.php',40],['mod/data/classes/event','template_updated.php',56],['lib/classes/event','comment_created.php',58],['lib/classes/event','cohort_deleted.php',49],['lib/grade','grade_item.php',1274],['mod/scorm/classes/event','tracks_viewed.php',64],['lib/classes/task','file_temp_cleanup_task.php',31],['lib/classes/event','course_viewed.php',75],['grade/report/overview/classes/event','grade_report_viewed.php',48],['lib/classes/task','stats_cron_task.php',31],['grade/report/user/classes/event','grade_report_viewed.php',48],['lib/classes/event','course_content_deleted.php',54],['lib/classes/task','backup_cleanup_task.php',31],['grade/report/singleview/classes/event','grade_report_viewed.php',39],['mod/quiz/classes/event','attempt_abandoned.php',63],['admin/tool/log/store/legacy/classes/task','cleanup_task.php',31],['mod/workshop/classes/event','phase_switched.php',75],['lib/classes/event','base.php',282],['grade/report/history/classes/event','grade_report_viewed.php',39],['lib/classes/event','content_viewed.php',80],['backup/util/ui','backup_ui.class.php',194],['lib/classes/event','course_completion_updated.php',47],['report/completion/classes/event','report_viewed.php',49],['lib/dml','pgsql_native_moodle_database.php',88],['backup/util/settings','base_setting.class.php',145],['lib/classes/task','messaging_cleanup_task.php',31],['question/classes/bank','modifier_name_column.php',27],['mod/forum/classes/event','discussion_updated.php',65],['lib/classes/event','course_reset_ended.php',53],['mod/choice/classes/event','answer_submitted.php',72],['mod/forum/classes/event','assessable_uploaded.php',86],['mod/wiki/classes/event','page_diff_viewed.php',55],['lib/classes/event','course_category_updated.php',51],['admin/tool/langimport/classes/event','langpack_updated.php',80],['lib/classes/task','session_cleanup_task.php',31],['lib/classes/task','completion_cron_task.php',31],['lib/classes/event','webservice_service_created.php',65],['lib/classes/event','course_created.php',55],['lib/dml','oci_native_moodle_database.php',94],['mod/lesson/classes/event','lesson_started.php',48],['mod/assign/classes/event','grading_table_viewed.php',79],['lib/classes/event','calendar_event_deleted.php',58],['backup/util/plan','base_task.class.php',58],['lib/classes/event','group_created.php',65],['mod/quiz/classes/event','user_override_created.php',53],['mod/glossary/classes/event','category_updated.php',46],['repository/coursefiles','lib.php',183],['mod/assign/classes/event','submission_viewed.php',76],['mod/glossary/classes/event','entry_disapproved.php',46],['lib/classes/event','user_password_updated.php',70],['mod/assign/classes/event','all_submissions_downloaded.php',75],['lib/dml','mariadb_native_moodle_database.php',41],['lib/classes/event','role_deleted.php',55],['admin/tool/log/store/legacy/tests/fixtures','event.php',31],['backup/util/ui','restore_ui.class.php',349],['lib/classes/event','user_loggedinas.php',57],['mod/assign/classes/event','submission_confirmation_form_viewed.php',79],['mod/assign/tests/fixtures','event_mod_assign_fixtures.php',62],['lib','modinfolib.php',1285],['mod/lesson/classes/event','essay_attempt_viewed.php',48],['mod/forum/classes/event','discussion_moved.php',66],['mod/assign/submission/onlinetext/classes/event','assessable_uploaded.php',83],['mod/assign/classes/event','reveal_identities_confirmation_page_viewed.php',79],['mod/survey/classes/event','report_downloaded.php',55],['mod/wiki/classes/event','page_updated.php',54],['admin/tool/log/store/standard/tests/fixtures','event.php',31],['mod/assign/classes/event','submission_unlocked.php',78],['lib/classes/event','user_list_viewed.php',56],['mod/forum/classes/event','readtracking_disabled.php',64],['lib/classes/event','comments_viewed.php',51],['lib/classes/event','cohort_member_added.php',49],['lib/classes/event','grouping_created.php',65],['lib/classes/event','recent_activity_viewed.php',49],['lib/classes/event','role_allow_switch_updated.php',47],['lib/dml','sqlsrv_native_moodle_database.php',102],['admin/tool/messageinbound/classes/message/inbound','invalid_recipient_handler.php',60],['mod/lti','OAuth.php',122],['mod/lti','OAuth.php',149],['mod/lti','OAuth.php',173],['question/classes/bank','question_name_column.php',28],['lib/classes/event','user_login_failed.php',56],['lib/classes/event','message_contact_added.php',48],['lib','enrollib.php',1075],['question/classes/bank','question_text_row.php',35],['lib/classes/event','role_allow_assign_updated.php',47],['mod/quiz/classes/event','user_override_deleted.php',53],['user/selector','lib.php',309],['mod/quiz/classes/event','edit_page_viewed.php',53],['lib/classes/event','email_failed.php',48],['portfolio/flickr','lib.php',41],['admin/tool/langimport/classes/task','update_langpacks_task.php',35],['lib/classes/event','tag_removed.php',58],['mod/lesson/classes/event','highscores_viewed.php',48],['report/stats/classes/event','user_report_viewed.php',48],['mod/quiz/classes/event','group_override_deleted.php',54],['mod/book/classes/event','chapter_updated.php',79],['lib/classes/log','reader.php',30],['mod/lesson/classes/event','question_viewed.php',54],['mod/scorm/classes/event','interactions_viewed.php',63],['lib/classes/event','course_module_updated.php',57],['mod/forum/classes/event','discussion_subscription_created.php',66],['lib/classes/task','plagiarism_cron_task.php',31],['mod/quiz/classes/event','question_manually_graded.php',55],['lib/classes/event','mnet_access_control_created.php',57],['lib/classes/event','role_assigned.php',56],['admin/tool/messageinbound/classes/task','pickup_task.php',38],['mod/lti/classes/local/ltiservice','service_base.php',87],['lib/classes/event','unknown_logged.php',43],['lib/simplepie/library/SimplePie','Author.php',106],['mod/scorm/classes/event','user_report_viewed.php',62],['admin/tool/monitor/classes/event','subscription_criteria_met.php',55],['mod/forum/classes/task','cron_task.php',30],['report/participation/classes/event','report_viewed.php',58],['lib/classes/event','user_updated.php',48],['backup/util/plan','base_step.class.php',49],['lib/classes/event','course_section_updated.php',56],['lib/classes/event','comment_deleted.php',58],['mod/assign/classes/event','marker_updated.php',89],['lib/classes/event','webservice_login_failed.php',71],['mod/assign/submission/file/classes/event','assessable_uploaded.php',85],['admin/tool/log/store/database/tests/fixtures','event.php',31],['mod/lti/classes/event','unknown_service_api_called.php',82],['lib/classes/event','cohort_updated.php',49],['mod/assign/submission/comments','locallib.php',39],['lib/editor/tinymce/classes','plugin.php',101],['mod/forum/classes/event','post_updated.php',67],['mod/book/classes/event','chapter_viewed.php',79],['portfolio/download','lib.php',9],['lib/classes/event','note_deleted.php',56],['lib/classes/event','user_loggedout.php',54],['lib/classes/event','grade_report_viewed.php',54],['lib/classes/task','file_trash_cleanup_task.php',31],['mod/assign/classes/event','workflow_state_updated.php',88],['mod/book/classes/event','chapter_deleted.php',79],['lib/classes/event','course_deleted.php',56],['lib/classes/event','blog_entry_deleted.php',53],['admin/tool/log/store/legacy/classes/event','legacy_logged.php',35],['question/classes/bank','copy_action_column.php',35],['mod/assign/feedback/editpdf','locallib.php',43],['lib/classes/event','webservice_token_created.php',65],['lib/tests/fixtures','task_fixtures.php',35],['lib/tests/fixtures','task_fixtures.php',44],['lib/tests/fixtures','task_fixtures.php',53],['mod/forum/classes/event','course_searched.php',66],['lib/classes/event','group_updated.php',65],['mod/quiz/classes/event','attempt_started.php',56],['mod/lesson/classes/event','group_override_updated.php',54],['lib/classes/event','course_module_viewed.php',62],['lib/classes/event','mnet_access_control_updated.php',57],['mod/quiz/classes/question/bank','add_action_column.php',45],['question/classes/bank','edit_action_column.php',35],['lib/classes/message/inbound','private_files_handler.php',56],['lib/tests/fixtures','event_fixtures.php',34],['lib/classes/task','password_reset_cleanup_task.php',31],['mod/quiz/classes/event','attempt_submitted.php',63],['mod/data/classes/event','field_created.php',58],['lib/classes/task','automated_backup_task.php',31],['lib/classes/event','question_category_created.php',48],['admin/tool/monitor/classes/event','rule_deleted.php',50],['backup/util/ui','restore_ui_stage.class.php',75],['backup/converter/moodle1','lib.php',1033],['mod/lesson/classes/event','group_override_created.php',55],['mod/workshop/classes/event','assessments_reset.php',74],['mod/lesson/classes/event','lesson_resumed.php',48],['mod/assign/classes/event','feedback_viewed.php',76],['grade/report/outcomes/classes/event','grade_report_viewed.php',39],['lib/classes/event','blog_entry_updated.php',74],['report/questioninstances/classes/event','report_viewed.php',55],['mod/assign/classes/event','submission_form_viewed.php',82],['mod/folder/classes/event','folder_updated.php',48],['mod/assign/classes/event','submission_created.php',57],['mod/assign/classes/event','statement_accepted.php',77],['lib/classes/event','grade_deleted.php',94],['lib/classes/event','role_capabilities_updated.php',51],['lib/classes/event','blog_entries_viewed.php',62],['lib/tests','messageinbound_test.php',170],['mod/wiki/classes/event','page_viewed.php',48],['lib/classes/event','group_deleted.php',65],['question/classes/bank','delete_action_column.php',36],['lib/classes/event','webservice_token_sent.php',56],['mod/quiz/classes/event','attempt_becameoverdue.php',66],['lib/classes/task','create_contexts_task.php',31],['mod/quiz/classes/event','attempt_viewed.php',54],['mod/assign/classes/event','submission_status_updated.php',79],['mod/assign/classes/event','grading_form_viewed.php',82],['calendar/tests','calendartype_test_example.php',32],['lib/classes/event','course_module_completion_updated.php',48],['mod/assign/feedback/file','locallib.php',45],['mod/workshop/classes/event','assessment_evaluated.php',66],['report/log/classes/event','report_viewed.php',58],['lib/classes/event','course_module_deleted.php',56],['lib/dml','mssql_native_moodle_database.php',83],['repository','lib.php',1884],['mod/book/classes/event','chapter_created.php',79],['mod/quiz/classes/question/bank','question_name_text_column.php',37],['mod/workshop/classes/event','submission_assessed.php',76],['lib/classes/event','cohort_created.php',49],['lib/classes/event','webservice_function_called.php',67],['mod/scorm/classes/event','sco_launched.php',64],['lib/classes/event','blog_entry_created.php',76],['lib/classes/event','user_enrolment_created.php',53],['mod/data/classes/event','record_created.php',56],['mod/quiz/classes/event','attempt_summary_viewed.php',56],['lib/classes/event','user_enrolment_updated.php',53],['admin/tool/log/store/standard/classes/task','cleanup_task.php',31],['mod/quiz/classes/event','attempt_reviewed.php',53],['lib/classes/task','cache_cleanup_task.php',31],['mod/lesson/classes/event','page_moved.php',56],['mod/glossary/classes/event','category_created.php',46],['mod/lesson/classes/event','page_created.php',54],['lib/classes/event','cohort_member_removed.php',50],['grade/report/singleview/classes/local/ui','unique_name.php',38],['mod/wiki/classes/event','page_version_viewed.php',54],['lib/classes/task','badges_cron_task.php',31],['lib/classes/event','role_allow_override_updated.php',47],['lib/classes/task','cache_cron_task.php',31],['mod/workshop/classes/event','assessable_uploaded.php',93],['lib/classes/event','grouping_updated.php',65],['admin/tool/monitor/classes/event','rule_updated.php',50],['lib/classes/event','course_module_created.php',86],['lib/classes/event','tag_added.php',58],['admin/tool/langimport/classes/event','langpack_removed.php',89],['mod/assign/classes/event','assessable_submitted.php',109],['mod/workshop/classes/event','submission_updated.php',63],['mod/lesson/classes/event','page_deleted.php',54],['lib/classes/event','grouping_deleted.php',72],['backup/util/ui','backup_ui_setting.class.php',86],['grade/report/singleview/classes/local/ui','grade_attribute_format.php',56],['backup/converter','convertlib.php',109],['lib/classes/event','tag_flagged.php',55],['mod/wiki/classes/event','page_history_viewed.php',48],['lib/classes/task','question_cron_task.php',31],['mod/survey/classes/event','report_viewed.php',55],['lib/classes/event','tag_created.php',55],['report/stats/classes/event','report_viewed.php',56],['lib/classes/event','note_created.php',56],['lib/simplepie/library/SimplePie','Credit.php',139],['lib/bennu','iCalendar_components.php',37],['lib/dml','mysqli_native_moodle_database.php',352],['lib/classes/event','course_reset_started.php',53],['admin/tool/monitor/classes/event','subscription_created.php',50],['mod/book/tool/print/classes/event','book_printed.php',76],['lib/classes/event','webservice_service_user_removed.php',59],['mod/data/classes/event','record_deleted.php',56],['mod/choice/classes/event','answer_updated.php',72],['message/tests/fixtures','inbound_fixtures.php',41],['lib/classes/event','group_member_removed.php',69],['mod/glossary/classes/event','entry_viewed.php',48],['mod/forum/classes/event','user_report_viewed.php',65],['lib/classes/event','course_category_deleted.php',59],['lib/classes/task','events_cron_task.php',31],['mod/forum/classes/event','subscription_created.php',65],['lib/classes/event','calendar_event_created.php',58],['lib/classes/event','message_contact_blocked.php',48],['lib/classes/event','webservice_service_updated.php',59],['backup/util/ui','base_ui_stage.class.php',110],['mod/wiki/classes/event','page_version_restored.php',54],['lib/classes/task','delete_unconfirmed_users_task.php',31],['mod/data/classes/event','template_viewed.php',55],['lib/classes/event','course_user_report_viewed.php',66],['mod/data/classes/event','record_updated.php',56],['mod/wiki/classes/event','page_map_viewed.php',54],['mod/wiki/classes/event','page_locks_deleted.php',54],['lib/classes/event','webservice_service_deleted.php',59],['lib/grade','grade_category.php',2128],['mod/forum/classes/event','readtracking_enabled.php',64],['mod/assign/feedback/comments','locallib.php',36],['question/behaviour','behaviourbase.php',83],['calendar/type/gregorian/classes','structure.php',29],['lib/classes/event','role_unassigned.php',53],['lib/classes/task','tag_cron_task.php',31],['lib/classes/task','blog_cron_task.php',31],['lib/classes/event','course_restored.php',58],['backup/util/structure','base_atom.class.php',71],['portfolio/boxnet','lib.php',14],['mod/choice/classes/event','report_viewed.php',47],['lib/classes/event','user_deleted.php',57],['lib/classes/event','user_enrolment_deleted.php',54],['lib/classes/task','send_failed_login_notifications_task.php',34],['mod/book/tool/print/classes/event','chapter_printed.php',79],['mod/assign/classes/event','identities_revealed.php',75],['lib/classes/event','user_graded.php',96],['lib/classes/event','course_updated.php',58],['admin/tool/log/classes/helper','reader.php',41],['mod/forum/classes/event','post_created.php',67],['mod/data/classes/event','field_deleted.php',57],['lib/classes/event','tag_deleted.php',55],['mod/glossary/classes/event','entry_created.php',52],['mod/forum/classes/event','discussion_created.php',65],['mod/forum/classes/event','discussion_deleted.php',66],['mod/scorm/classes/event','attempt_deleted.php',62],['mod/lesson/classes/event','lesson_ended.php',49],['lib/grade','grade_scale.php',156],['admin/tool/monitor/classes','subscription.php',123],['mod/forum/classes/event','subscribers_viewed.php',65],['backup/util/structure','restore_path_element.class.php',98],['mod/scorm/classes/event','report_viewed.php',63],['lib/classes/task','grade_cron_task.php',31],['grade/report/grader/classes/event','grade_report_viewed.php',39],['lib/dml/tests','dml_test.php',5409],['mod/lesson/classes/event','user_override_deleted.php',53],['report/completion/classes/event','user_report_viewed.php',49],['admin/tool/langimport/classes/event','langpack_imported.php',80],['mod/forum/classes/event','subscription_deleted.php',65],['mod/assign/feedback/offline','locallib.php',42],['mod/lesson/classes/event','highscore_added.php',56],['mod/lesson/classes/event','essay_assessed.php',78],['lib/classes/event','message_sent.php',82],['lib/classes/event','message_contact_removed.php',48],['lib/classes/event','tag_unflagged.php',55],['mod/assign/classes/event','submission_graded.php',78],['lib','csslib.php',2155],['lib','csslib.php',2283],['mod/assign/classes/event','batch_set_marker_allocation_viewed.php',79],['report/outline/classes/event','activity_report_viewed.php',48],['lib/classes/event','calendar_event_updated.php',58],['mod/lesson/classes/event','user_override_created.php',53],['lib/classes/task','legacy_plugin_cron_task.php',33],['portfolio/googledocs','lib.php',54],['mod/workshop/classes/event','assessment_reevaluated.php',76],['lib/dml','pdo_moodle_database.php',113],['lib','medialib.php',345],['mod/quiz/classes/event','user_override_updated.php',54],['lib/classes/event','webservice_service_user_added.php',59],['admin/tool/monitor/classes/event','subscription_deleted.php',50],['lib/classes/event','notes_viewed.php',49],['mod/glossary/classes/event','entry_updated.php',52],['admin/tool/monitor/classes/event','rule_created.php',50],['lib/classes/task','check_for_updates_task.php',31],['mod/wiki/classes/event','page_version_deleted.php',54],['lib/classes/event','course_completed.php',73],['mod/assign/classes/event','submission_status_viewed.php',81],['portfolio/mahara','lib.php',61],['mod/glossary/classes/event','entry_approved.php',46],['mod/wiki/classes/event','page_created.php',48],['mod/quiz/classes/event','group_override_created.php',55],['lib/classes/task','delete_incomplete_users_task.php',31],['question/classes/bank','creator_name_column.php',28],['lib/classes/event','group_member_added.php',78],['lib/classes/event','message_contact_unblocked.php',48],['mod/quiz/classes/event','attempt_deleted.php',47],['lib/classes/task','send_new_user_passwords_task.php',31],['lib/classes/event','user_loggedin.php',64],['admin/tool/monitor/classes/task','clean_events.php',32],['question/classes/bank','question_type_column.php',26],['admin/tool/monitor/classes','rule.php',239],['mod/lesson/classes/event','lesson_restarted.php',48],['lib/grade','grade_outcome.php',272]], 409],
'get_submissions_parameters': ['get_submissions_parameters', 'Describes the parameters for get_submissions ', [['mod/assign','externallib.php',554]], 1],
'get_user_mappings': ['get_user_mappings', 'Returns user mapping information from assign_user_mapping for the requested assignment ids ', [['mod/assign','externallib.php',1125]], 1],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 1891],
'out': ['out', 'Returns the string ', [['lib','moodlelib.php',9451],['lib','weblib.php',547],['lib','tablelib.php',1526],['lib','csslib.php',1540],['lib','csslib.php',1698],['lib','csslib.php',2078],['lib','csslib.php',2162],['lib','csslib.php',2306],['lib','csslib.php',2495],['lib','csslib.php',3240],['report/loglive/classes','table_log_ajax.php',37]], 549],
'reveal_identities_parameters': ['reveal_identities_parameters', 'Describes the parameters for reveal_identities ', [['mod/assign','externallib.php',1576]], 1],
'get_coursemodule_from_instance': ['get_coursemodule_from_instance', 'Given an instance number of a module, finds the coursemodule description ', [['lib','datalib.php',1331]], 365],
'revert_submissions_to_draft_parameters': ['revert_submissions_to_draft_parameters', 'Describes the parameters for revert_submissions_to_draft ', [['mod/assign','externallib.php',1314]], 1],
'get_editor_format': ['get_editor_format', 'Given a field name, should return the format of an editor field that is part of this plugin. This is used when exporting to portfolio. ', [['mod/assign','assignmentplugin.php',456],['mod/assign/submission/onlinetext','locallib.php',315]], 5],
'get_user_flags': ['get_user_flags', 'This will retrieve a user flags object from the db optionally creating it if required. The user flags was split from the user_grades table in 2.5. ', [['mod/assign','locallib.php',2835],['mod/assign','externallib.php',971]], 18],
'get_editor_fields': ['get_editor_fields', 'Return a list of the fields that can be exported or imported via text. ', [['mod/assign','assignmentplugin.php',422],['mod/assign/submission/onlinetext','locallib.php',288],['mod/assign/feedback/comments','locallib.php',113]], 5],
'file_encode_url': ['file_encode_url', 'Encodes file serving url ', [['lib','filelib.php',42]], 30],
'set_user_flags': ['set_user_flags', 'Create or update user_flags records ', [['mod/assign','externallib.php',837]], 2],
'unlock_submission': ['unlock_submission', 'Unlock the student submission. ', [['mod/assign','locallib.php',6612]], 3],
'get_grades_returns': ['get_grades_returns', 'Returns description of method result value ', [['lib/classes','grades_external.php',305],['mod/assign','externallib.php',222]], 9],
'instance': ['instance', 'Retrieve sole instance of the registry. ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29],['lib/classes','useragent.php',101],['backup/cc','validator.php',35],['lib/portfolio','exporter.php',251],['lib/tests','update_deployer_test.php',69],['lib/tests','string_manager_standard_test.php',124],['lib','modinfolib.php',373],['','mdeploy.php',96],['cache','disabledlib.php',171],['cache','disabledlib.php',296],['admin/tool/installaddon/classes','validator.php',85],['cache/classes','config.php',87],['course/format','lib.php',156],['lib','accesslib.php',6184],['lib','accesslib.php',6436],['lib','accesslib.php',6614],['lib','accesslib.php',6868],['lib','accesslib.php',7129],['lib','accesslib.php',7341],['cache','locallib.php',52],['lib/htmlpurifier','HTMLPurifier.php',251],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['cache/classes','helper.php',76],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['lib/classes','plugin_manager.php',83],['lib','filterlib.php',81],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/classes/update','deployer.php',54],['admin/tool/installaddon/classes','pluginfo_client.php',37],['admin/tool/installaddon/classes','installer.php',40],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443]], 3942],
'get_records_sql': ['get_records_sql', 'Get a number of records as an array of objects using a SQL statement. ', [['lib/dml','pgsql_native_moodle_database.php',732],['lib/dml','oci_native_moodle_database.php',1102],['lib/dml','sqlsrv_native_moodle_database.php',823],['lib/dml','mssql_native_moodle_database.php',741],['lib/dml','mysqli_native_moodle_database.php',1049],['lib/dml/tests','dml_test.php',5424],['lib/dml','pdo_moodle_database.php',308]], 678],
'set_user_flags_returns': ['set_user_flags_returns', 'Describes the set_user_flags return value ', [['mod/assign','externallib.php',938]], 2],
'save_grade_parameters': ['save_grade_parameters', 'Describes the parameters for save_grade ', [['mod/assign','externallib.php',1706]], 1],
'set_user_flags_parameters': ['set_user_flags_parameters', 'Describes the parameters for set_user_flags ', [['mod/assign','externallib.php',812]], 1],
'get_editor_text': ['get_editor_text', 'Given a field name, should return the text of an editor field that is part of this plugin. This is used when exporting to portfolio. ', [['mod/assign','assignmentplugin.php',431],['mod/assign/submission/onlinetext','locallib.php',297],['mod/assign/feedback/comments','locallib.php',122]], 10],
'get_filepath': ['get_filepath', 'Returns the backup file path ', [['backup/util/ui','restore_ui_stage.class.php',547],['lib/filestorage','stored_file.php',690],['lib/filebrowser','virtual_root_file.php',218]], 136],
'close': ['close', 'Close the connection to the server ', [['lib/zend/Zend/Http/Client/Adapter','Socket.php',486],['lib/tests','completionlib_test.php',888],['lib/adodb','adodb.inc.php',2164],['lib/adodb','adodb.inc.php',2844],['lib/adodb','adodb.inc.php',3536],['lib','webdavlib.php',176],['admin/tool/uploaduser','locallib.php',149],['lib/dml','oci_native_moodle_recordset.php',80],['lib/tcpdf','tcpdf.php',2943],['lib/horde/framework/Horde/Imap/Client','Base.php',1846],['lib','excellib.class.php',93],['lib/zend/Zend/Http/Client/Adapter','Test.php',187],['lib/classes/dml','recordset_walk.php',153],['mod/assign/feedback/offline','importgradeslib.php',178],['lib/pear/Net','GeoIP.php',556],['backup/util/helper','backup_array_iterator.class.php',63],['lib/zend/Zend/Gdata/App','LoggingHttpClientAdapterSocket.php',109],['lib/zend/Zend/Http/Client/Adapter','Proxy.php',266],['lib/dml','mssql_native_moodle_recordset.php',87],['lib/pear/Auth','RADIUS.php',542],['lib/pear/Auth','RADIUS.php',703],['lib/pear/Auth','RADIUS.php',824],['lib/phpmailer','class.smtp.php',507],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',80],['lib/phpunit/classes','event_sink.php',39],['lib/zend/Zend/Http/Client/Adapter','Interface.php',73],['lib/dml','pgsql_native_moodle_recordset.php',104],['auth/fc','fcFPP.php',72],['lib/filestorage','zip_archive.php',183],['lib','odslib.class.php',71],['lib/horde/framework/Horde/Socket','Client.php',135],['question/engine/tests','helpers.php',1225],['grade','lib.php',323],['lib/dml','mysqli_native_moodle_recordset.php',86],['lib','csvlib.class.php',256],['lib/google/src/Google/Logger','File.php',130],['lib/horde/framework/Horde','Stream.php',585],['lib/phpunit/classes','phpmailer_sink.php',41],['lib/phpunit/classes','message_sink.php',39],['lib/zend/Zend/Http/Client/Adapter','Curl.php',460],['lib/dml','sqlsrv_native_moodle_recordset.php',133],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',109],['backup/util/helper','backup_null_iterator.class.php',53],['grade/export','lib.php',662],['lib/dml','pdo_moodle_recordset.php',79]], 1036],
'save_user_extension': ['save_user_extension', 'Save the extension date for a single user. ', [['mod/assign','locallib.php',5167]], 4],
'external_format_text': ['external_format_text', 'Format the text to be returned properly as requested by the either the web service server, either by an internally call. The caller can change the format (raw, filter, file, fileurl) with the external_settings singleton All web service servers must set this singleton when parsing the $_GET and $_POST. ', [['lib','externallib.php',721]], 31],
'get_in_or_equal': ['get_in_or_equal', 'Constructs \'IN()\' or \'=\' sql fragment ', [['lib/dml','oci_native_moodle_database.php',1583],['lib/dml','moodle_database.php',678]], 375],
'assign_user_mappings': ['assign_user_mappings', 'Creates an assign_user_mappings external_single_structure ', [['mod/assign','externallib.php',1216]], 1],
'copy_previous_attempt_parameters': ['copy_previous_attempt_parameters', 'Describes the parameters for copy_previous_attempt ', [['mod/assign','externallib.php',1997]], 1],
'save_submission_returns': ['save_submission_returns', 'Describes the return value for save_submission ', [['mod/assign','externallib.php',1696]], 2],
'lock_submissions_returns': ['lock_submissions_returns', 'Describes the return value for lock_submissions ', [['mod/assign','externallib.php',1304]], 2],
'get_submission_plugins': ['get_submission_plugins', 'Get list of submission plugins installed. ', [['mod/assign','locallib.php',273]], 24],
'get_user_mappings_parameters': ['get_user_mappings_parameters', 'Describes the parameters for get_user_mappings ', [['mod/assign','externallib.php',1109]], 1],
'save_user_extensions_returns': ['save_user_extensions_returns', 'Describes the return value for save_user_extensions ', [['mod/assign','externallib.php',1566]], 4],
'get_context': ['get_context', '', [['availability/classes','info_module.php',72],['grade/grading/form','lib.php',102],['availability/tests/fixtures','mock_info.php',59],['lib/classes/event','base.php',544],['lib','modinfolib.php',1501],['mod/assign','locallib.php',1247],['enrol','locallib.php',906],['lib/tests/behat','behat_data_generators.php',718],['mod/quiz','attemptlib.php',220],['comment','lib.php',990],['availability/classes','info_section.php',55],['grade/grading','lib.php',107],['lib','badgeslib.php',157],['lib','coursecatlib.php',2255],['lib','coursecatlib.php',2951]], 676],
'get_subtype': ['get_subtype', 'return subtype name of the plugin ', [['mod/assign','submissionplugin.php',40],['mod/assign','feedbackplugin.php',38]], 40],
'get_submissions': ['get_submissions', 'Returns submissions from this workshop ', [['mod/workshop','locallib.php',704],['mod/assign','externallib.php',574]], 8],
'save_grade_returns': ['save_grade_returns', 'Describes the return value for save_grade ', [['mod/assign','externallib.php',1836]], 0],
'revert_to_draft': ['revert_to_draft', 'Revert to draft. ', [['mod/assign','locallib.php',6383],['mod/assign','submissionplugin.php',110]], 6],
'get_file_storage': ['get_file_storage', 'Returns local file storage instance ', [['lib','moodlelib.php',5950]], 486],
'lock_submission': ['lock_submission', 'Prevent student updates to this submission ', [['mod/assign','locallib.php',6445]], 3],
'get_file_areas': ['get_file_areas', 'Get file areas returns a list of areas this plugin stores files ', [['mod/assign','assignmentplugin.php',549],['mod/assign/submission/file','locallib.php',482],['mod/assign/submission/onlinetext','locallib.php',563],['mod/assign/feedback/file','locallib.php',279]], 7],
'count': ['count', '', [], 3984],
'in_array': ['in_array', '', [], 1173],
'implode': ['implode', '', [], 1259],
'is_null': ['is_null', '', [], 1992],
'array_keys': ['array_keys', '', [], 1152],
'array_diff': ['array_diff', '', [], 93],
'array_merge': ['array_merge', '', [], 2320],
'call_user_func': ['call_user_func', '', [], 126],
'max': ['max', '', [], 1096],
'defined': ['defined', '', [], 4098],
'reset': ['reset', '', [], 1070]};
CLASS_DATA={
'external_single_structure': ['external_single_structure', 'Associative array description class ', [['lib','externallib.php',475]], 238],
'external_value': ['external_value', 'Scalar value description class ', [['lib','externallib.php',441]], 1255],
'assign': ['assign', 'Standard base class for mod_assign (assignment types). ', [['mod/assign','locallib.php',80]], 76],
'grading_manager': ['grading_manager', 'General class providing access to common grading features ', [['grade/grading','lib.php',76]], 10],
'mod_assign_external': ['mod_assign_external', 'Assign functions ', [['mod/assign','externallib.php',30]], 68],
'external_format_value': ['external_format_value', 'A pre-filled external_value class for text format. ', [['lib','externallib.php',670]], 52],
'external_api': ['external_api', 'Base class for external api methods. ', [['lib','externallib.php',139]], 302],
'invalid_parameter_exception': ['invalid_parameter_exception', 'Exception indicating malformed parameter problem. This exception is not supposed to be thrown when processing user submitted data in forms. It is more suitable for WS and other low level stuff. ', [['lib','setuplib.php',234]], 58],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',240]], 2887],
'external_multiple_structure': ['external_multiple_structure', 'Bulk array description class. ', [['lib','externallib.php',504]], 212],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6766]], 1197],
'external_warnings': ['external_warnings', 'Standard Moodle web service warnings ', [['lib','externallib.php',639]], 50],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',6988]], 942],
'grade': ['grade', 'The screen with a list of users. ', [['grade/report/singleview/classes/local/screen','grade.php',38]], 12],
'external_function_parameters': ['external_function_parameters', 'Description of top level - PHP function parameters. ', [['lib','externallib.php',533]], 126]};
CONST_DATA={
'PARAM_URL': ['PARAM_URL', '', [['lib','moodlelib.php',239]], 121],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 2948],
'PARAM_ALPHA': ['PARAM_ALPHA', '', [['lib','moodlelib.php',77]], 377],
'VALUE_OPTIONAL': ['VALUE_OPTIONAL', '', [['lib','moodlelib.php',337]], 409],
'PARAM_FLOAT': ['PARAM_FLOAT', '', [['lib','moodlelib.php',146]], 93],
'VALUE_REQUIRED': ['VALUE_REQUIRED', '', [['lib','moodlelib.php',332]], 32],
'SQL_PARAMS_NAMED': ['SQL_PARAMS_NAMED', '', [['lib/dml','moodle_database.php',32]], 271],
'PARAM_CAPABILITY': ['PARAM_CAPABILITY', '', [['lib','moodlelib.php',114]], 14],
'PARAM_TEXT': ['PARAM_TEXT', '', [['lib','moodlelib.php',228]], 476],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1252],
'ASSIGN_INTROATTACHMENT_FILEAREA': ['ASSIGN_INTROATTACHMENT_FILEAREA', '', [['mod/assign','locallib.php',65]], 12],
'PARAM_FILE': ['PARAM_FILE', '', [['lib','moodlelib.php',133]], 122],
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 692],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532],
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 502],
'VALUE_DEFAULT': ['VALUE_DEFAULT', '', [['lib','moodlelib.php',342]], 129]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
