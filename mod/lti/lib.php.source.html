<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/lti/lib.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='mod/lti';
filename='lib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/lti/</a> -> <a href="lib.php.html">lib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="lib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="lib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment">//</span>
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">// This file is part of BasicLTI4Moodle</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment">//</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment">// BasicLTI4Moodle is an IMS BasicLTI (Basic Learning Tools for Interoperability)</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment">// consumer for Moodle 1.9 and Moodle 2.0. BasicLTI is a IMS Standard that allows web</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment">// based learning tools to be easily integrated in LMS as native ones. The IMS BasicLTI</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment">// specification is part of the IMS standard Common Cartridge 1.1 Sakai and other main LMS</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment">// are already supporting or going to support BasicLTI. This project Implements the consumer</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment">// for Moodle. Moodle is a Free Open source Learning Management System by Martin Dougiamas.</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment">// BasicLTI4Moodle is a project iniciated and leaded by Ludo(Marc Alier) and Jordi Piguillem</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment">// at the GESSI research group at UPC.</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment">// SimpleLTI consumer for Moodle is an implementation of the early specification of LTI</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">// by Charles Severance (Dr Chuck) htp://dr-chuck.com , developed by Jordi Piguillem in a</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment">// Google Summer of Code 2008 project co-mentored by Charles Severance and Marc Alier.</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">//</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">// BasicLTI4Moodle is copyright 2009 by Marc Alier Forment, Jordi Piguillem and Nikolas Galanis</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">// of the Universitat Politecnica de Catalunya http://www.upc.edu</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">// Contact info: Marc Alier Forment granludo @ gmail.com or marc.alier @ upc.edu.</span>
<a name="l34"><span class="linenum">  34</span></a>  
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment">/**</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * This file contains a library of functions and constants for the lti module</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> *</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * @package mod_lti</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> * @copyright  2009 Marc Alier, Jordi Piguillem, Nikolas Galanis</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> *  marc.alier@upc.edu</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> * @copyright  2009 Universitat Politecnica de Catalunya http://www.upc.edu</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment"> * @author     Marc Alier</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment"> * @author     Jordi Piguillem</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment"> * @author     Nikolas Galanis</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment"> * @author     Chris Scribner</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment"> */</span>
<a name="l48"><span class="linenum">  48</span></a>  
<a name="l49"><span class="linenum">  49</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die;
<a name="l50"><span class="linenum">  50</span></a>  
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">/**</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment"> * Returns all other caps used in module.</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment"> *</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment"> * @return array</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment"> */</span>
<a name="l56"><span class="linenum">  56</span></a>  function <a class="function" onClick="logFunction('lti_get_extra_capabilities')" href="../../_functions/lti_get_extra_capabilities.html" onMouseOver="funcPopup(event,'lti_get_extra_capabilities')">lti_get_extra_capabilities</a>() {
<a name="l57"><span class="linenum">  57</span></a>      return array('moodle/site:accessallgroups');
<a name="l58"><span class="linenum">  58</span></a>  }
<a name="l59"><span class="linenum">  59</span></a>  
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">/**</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment"> * List of features supported in URL module</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment"> * @param string $feature FEATURE_xx constant for requested feature</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment"> * @return mixed True if module supports feature, false if not, null if doesn't know</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment"> */</span>
<a name="l65"><span class="linenum">  65</span></a>  function <a class="function" onClick="logFunction('lti_supports')" href="../../_functions/lti_supports.html" onMouseOver="funcPopup(event,'lti_supports')">lti_supports</a>(<a class="var it2238" onMouseOver="hilite(2238)" onMouseOut="lolite()" onClick="logVariable('feature')" href="../../_variables/feature.html">$feature</a>) {
<a name="l66"><span class="linenum">  66</span></a>      switch (<a class="var it2238" onMouseOver="hilite(2238)" onMouseOut="lolite()" onClick="logVariable('feature')" href="../../_variables/feature.html">$feature</a>) {
<a name="l67"><span class="linenum">  67</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GROUPS')" href="../../_constants/FEATURE_GROUPS.html" onMouseOver="constPopup(event,'FEATURE_GROUPS')">FEATURE_GROUPS</a>:
<a name="l68"><span class="linenum">  68</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GROUPINGS')" href="../../_constants/FEATURE_GROUPINGS.html" onMouseOver="constPopup(event,'FEATURE_GROUPINGS')">FEATURE_GROUPINGS</a>:
<a name="l69"><span class="linenum">  69</span></a>              return false;
<a name="l70"><span class="linenum">  70</span></a>          case <a class="constant" onClick="logConstant('FEATURE_MOD_INTRO')" href="../../_constants/FEATURE_MOD_INTRO.html" onMouseOver="constPopup(event,'FEATURE_MOD_INTRO')">FEATURE_MOD_INTRO</a>:
<a name="l71"><span class="linenum">  71</span></a>          case <a class="constant" onClick="logConstant('FEATURE_COMPLETION_TRACKS_VIEWS')" href="../../_constants/FEATURE_COMPLETION_TRACKS_VIEWS.html" onMouseOver="constPopup(event,'FEATURE_COMPLETION_TRACKS_VIEWS')">FEATURE_COMPLETION_TRACKS_VIEWS</a>:
<a name="l72"><span class="linenum">  72</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GRADE_HAS_GRADE')" href="../../_constants/FEATURE_GRADE_HAS_GRADE.html" onMouseOver="constPopup(event,'FEATURE_GRADE_HAS_GRADE')">FEATURE_GRADE_HAS_GRADE</a>:
<a name="l73"><span class="linenum">  73</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GRADE_OUTCOMES')" href="../../_constants/FEATURE_GRADE_OUTCOMES.html" onMouseOver="constPopup(event,'FEATURE_GRADE_OUTCOMES')">FEATURE_GRADE_OUTCOMES</a>:
<a name="l74"><span class="linenum">  74</span></a>          case <a class="constant" onClick="logConstant('FEATURE_BACKUP_MOODLE2')" href="../../_constants/FEATURE_BACKUP_MOODLE2.html" onMouseOver="constPopup(event,'FEATURE_BACKUP_MOODLE2')">FEATURE_BACKUP_MOODLE2</a>:
<a name="l75"><span class="linenum">  75</span></a>          case <a class="constant" onClick="logConstant('FEATURE_SHOW_DESCRIPTION')" href="../../_constants/FEATURE_SHOW_DESCRIPTION.html" onMouseOver="constPopup(event,'FEATURE_SHOW_DESCRIPTION')">FEATURE_SHOW_DESCRIPTION</a>:
<a name="l76"><span class="linenum">  76</span></a>              return true;
<a name="l77"><span class="linenum">  77</span></a>  
<a name="l78"><span class="linenum">  78</span></a>          default:
<a name="l79"><span class="linenum">  79</span></a>              return null;
<a name="l80"><span class="linenum">  80</span></a>      }
<a name="l81"><span class="linenum">  81</span></a>  }
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">/**</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment"> * Given an object containing all the necessary data,</span>
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment"> * (defined by the form in mod.html) this function</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment"> * will create a new instance and return the id number</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment"> * of the new instance.</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment"> *</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment"> * @param object $instance An object from the form in mod.html</span>
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment"> * @return int The id of the newly inserted basiclti record</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment"> **/</span>
<a name="l92"><span class="linenum">  92</span></a>  function <a class="function" onClick="logFunction('lti_add_instance')" href="../../_functions/lti_add_instance.html" onMouseOver="funcPopup(event,'lti_add_instance')">lti_add_instance</a>(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>, <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>) {
<a name="l93"><span class="linenum">  93</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l94"><span class="linenum">  94</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../../mod/lti/locallib.php.html">/mod/lti/locallib.php</a>');
<a name="l95"><span class="linenum">  95</span></a>  
<a name="l96"><span class="linenum">  96</span></a>      if (!isset(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('toolurl')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/toolurl.html">toolurl</a>)) {
<a name="l97"><span class="linenum">  97</span></a>          <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('toolurl')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/toolurl.html">toolurl</a> = '';
<a name="l98"><span class="linenum">  98</span></a>      }
<a name="l99"><span class="linenum">  99</span></a>  
<a name="l100"><span class="linenum"> 100</span></a>      <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('timecreated')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/timecreated.html">timecreated</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l101"><span class="linenum"> 101</span></a>      <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('timemodified')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('timecreated')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/timecreated.html">timecreated</a>;
<a name="l102"><span class="linenum"> 102</span></a>      <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('servicesalt')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/servicesalt.html">servicesalt</a> = <a class="phpfunction" onClick="logFunction('uniqid')" href="../../_functions/uniqid.html" onMouseOver="phpfuncPopup(event,'uniqid')">uniqid</a>('', true);
<a name="l103"><span class="linenum"> 103</span></a>  
<a name="l104"><span class="linenum"> 104</span></a>      <a class="function" onClick="logFunction('lti_force_type_config_settings')" href="../../_functions/lti_force_type_config_settings.html" onMouseOver="funcPopup(event,'lti_force_type_config_settings')">lti_force_type_config_settings</a>(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>, <a class="function" onClick="logFunction('lti_get_type_config_by_instance')" href="../../_functions/lti_get_type_config_by_instance.html" onMouseOver="funcPopup(event,'lti_get_type_config_by_instance')">lti_get_type_config_by_instance</a>(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>));
<a name="l105"><span class="linenum"> 105</span></a>  
<a name="l106"><span class="linenum"> 106</span></a>      if (empty(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('typeid')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/typeid.html">typeid</a>) &amp;&amp; isset(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('urlmatchedtypeid')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/urlmatchedtypeid.html">urlmatchedtypeid</a>)) {
<a name="l107"><span class="linenum"> 107</span></a>          <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('typeid')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/typeid.html">typeid</a> = <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('urlmatchedtypeid')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/urlmatchedtypeid.html">urlmatchedtypeid</a>;
<a name="l108"><span class="linenum"> 108</span></a>      }
<a name="l109"><span class="linenum"> 109</span></a>  
<a name="l110"><span class="linenum"> 110</span></a>      if (!isset(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('instructorchoiceacceptgrades')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/instructorchoiceacceptgrades.html">instructorchoiceacceptgrades</a>) || <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('instructorchoiceacceptgrades')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/instructorchoiceacceptgrades.html">instructorchoiceacceptgrades</a> != <a class="constant" onClick="logConstant('LTI_SETTING_ALWAYS')" href="../../_constants/LTI_SETTING_ALWAYS.html" onMouseOver="constPopup(event,'LTI_SETTING_ALWAYS')">LTI_SETTING_ALWAYS</a>) {
<a name="l111"><span class="linenum"> 111</span></a>  <span class="comment">        // The instance does not accept grades back from the provider, so set to &quot;No grade&quot; value 0.</span>
<a name="l112"><span class="linenum"> 112</span></a>          <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('grade')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> = 0;
<a name="l113"><span class="linenum"> 113</span></a>      }
<a name="l114"><span class="linenum"> 114</span></a>  
<a name="l115"><span class="linenum"> 115</span></a>      <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('id')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('lti', <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>);
<a name="l116"><span class="linenum"> 116</span></a>  
<a name="l117"><span class="linenum"> 117</span></a>      if (isset(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('instructorchoiceacceptgrades')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/instructorchoiceacceptgrades.html">instructorchoiceacceptgrades</a>) &amp;&amp; <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('instructorchoiceacceptgrades')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/instructorchoiceacceptgrades.html">instructorchoiceacceptgrades</a> == <a class="constant" onClick="logConstant('LTI_SETTING_ALWAYS')" href="../../_constants/LTI_SETTING_ALWAYS.html" onMouseOver="constPopup(event,'LTI_SETTING_ALWAYS')">LTI_SETTING_ALWAYS</a>) {
<a name="l118"><span class="linenum"> 118</span></a>          if (!isset(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('cmidnumber')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/cmidnumber.html">cmidnumber</a>)) {
<a name="l119"><span class="linenum"> 119</span></a>              <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('cmidnumber')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/cmidnumber.html">cmidnumber</a> = '';
<a name="l120"><span class="linenum"> 120</span></a>          }
<a name="l121"><span class="linenum"> 121</span></a>  
<a name="l122"><span class="linenum"> 122</span></a>          <a class="function" onClick="logFunction('lti_grade_item_update')" href="../../_functions/lti_grade_item_update.html" onMouseOver="funcPopup(event,'lti_grade_item_update')">lti_grade_item_update</a>(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>);
<a name="l123"><span class="linenum"> 123</span></a>      }
<a name="l124"><span class="linenum"> 124</span></a>  
<a name="l125"><span class="linenum"> 125</span></a>      return <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('id')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l126"><span class="linenum"> 126</span></a>  }
<a name="l127"><span class="linenum"> 127</span></a>  
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment">/**</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment"> * Given an object containing all the necessary data,</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment"> * (defined by the form in mod.html) this function</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment"> * will update an existing instance with new data.</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment"> *</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment"> * @param object $instance An object from the form in mod.html</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment"> * @return boolean Success/Fail</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment"> **/</span>
<a name="l136"><span class="linenum"> 136</span></a>  function <a class="function" onClick="logFunction('lti_update_instance')" href="../../_functions/lti_update_instance.html" onMouseOver="funcPopup(event,'lti_update_instance')">lti_update_instance</a>(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>, <a class="var it1037" onMouseOver="hilite(1037)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>) {
<a name="l137"><span class="linenum"> 137</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l138"><span class="linenum"> 138</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../../mod/lti/locallib.php.html">/mod/lti/locallib.php</a>');
<a name="l139"><span class="linenum"> 139</span></a>  
<a name="l140"><span class="linenum"> 140</span></a>      <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('timemodified')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l141"><span class="linenum"> 141</span></a>      <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('id')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('instance')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>;
<a name="l142"><span class="linenum"> 142</span></a>  
<a name="l143"><span class="linenum"> 143</span></a>      if (!isset(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('showtitlelaunch')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/showtitlelaunch.html">showtitlelaunch</a>)) {
<a name="l144"><span class="linenum"> 144</span></a>          <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('showtitlelaunch')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/showtitlelaunch.html">showtitlelaunch</a> = 0;
<a name="l145"><span class="linenum"> 145</span></a>      }
<a name="l146"><span class="linenum"> 146</span></a>  
<a name="l147"><span class="linenum"> 147</span></a>      if (!isset(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('showdescriptionlaunch')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/showdescriptionlaunch.html">showdescriptionlaunch</a>)) {
<a name="l148"><span class="linenum"> 148</span></a>          <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('showdescriptionlaunch')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/showdescriptionlaunch.html">showdescriptionlaunch</a> = 0;
<a name="l149"><span class="linenum"> 149</span></a>      }
<a name="l150"><span class="linenum"> 150</span></a>  
<a name="l151"><span class="linenum"> 151</span></a>      <a class="function" onClick="logFunction('lti_force_type_config_settings')" href="../../_functions/lti_force_type_config_settings.html" onMouseOver="funcPopup(event,'lti_force_type_config_settings')">lti_force_type_config_settings</a>(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>, <a class="function" onClick="logFunction('lti_get_type_config_by_instance')" href="../../_functions/lti_get_type_config_by_instance.html" onMouseOver="funcPopup(event,'lti_get_type_config_by_instance')">lti_get_type_config_by_instance</a>(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>));
<a name="l152"><span class="linenum"> 152</span></a>  
<a name="l153"><span class="linenum"> 153</span></a>      if (isset(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('instructorchoiceacceptgrades')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/instructorchoiceacceptgrades.html">instructorchoiceacceptgrades</a>) &amp;&amp; <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('instructorchoiceacceptgrades')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/instructorchoiceacceptgrades.html">instructorchoiceacceptgrades</a> == <a class="constant" onClick="logConstant('LTI_SETTING_ALWAYS')" href="../../_constants/LTI_SETTING_ALWAYS.html" onMouseOver="constPopup(event,'LTI_SETTING_ALWAYS')">LTI_SETTING_ALWAYS</a>) {
<a name="l154"><span class="linenum"> 154</span></a>          <a class="function" onClick="logFunction('lti_grade_item_update')" href="../../_functions/lti_grade_item_update.html" onMouseOver="funcPopup(event,'lti_grade_item_update')">lti_grade_item_update</a>(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>);
<a name="l155"><span class="linenum"> 155</span></a>      } else {
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">        // Instance is no longer accepting grades from Provider, set grade to &quot;No grade&quot; value 0.</span>
<a name="l157"><span class="linenum"> 157</span></a>          <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('grade')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> = 0;
<a name="l158"><span class="linenum"> 158</span></a>          <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('instructorchoiceacceptgrades')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/instructorchoiceacceptgrades.html">instructorchoiceacceptgrades</a> = 0;
<a name="l159"><span class="linenum"> 159</span></a>  
<a name="l160"><span class="linenum"> 160</span></a>          <a class="function" onClick="logFunction('lti_grade_item_delete')" href="../../_functions/lti_grade_item_delete.html" onMouseOver="funcPopup(event,'lti_grade_item_delete')">lti_grade_item_delete</a>(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>);
<a name="l161"><span class="linenum"> 161</span></a>      }
<a name="l162"><span class="linenum"> 162</span></a>  
<a name="l163"><span class="linenum"> 163</span></a>      if (<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('typeid')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/typeid.html">typeid</a> == 0 &amp;&amp; isset(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('urlmatchedtypeid')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/urlmatchedtypeid.html">urlmatchedtypeid</a>)) {
<a name="l164"><span class="linenum"> 164</span></a>          <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('typeid')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/typeid.html">typeid</a> = <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('urlmatchedtypeid')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/urlmatchedtypeid.html">urlmatchedtypeid</a>;
<a name="l165"><span class="linenum"> 165</span></a>      }
<a name="l166"><span class="linenum"> 166</span></a>  
<a name="l167"><span class="linenum"> 167</span></a>      return <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('lti', <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>);
<a name="l168"><span class="linenum"> 168</span></a>  }
<a name="l169"><span class="linenum"> 169</span></a>  
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">/**</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment"> * Given an ID of an instance of this module,</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment"> * this function will permanently delete the instance</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment"> * and any data that depends on it.</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment"> *</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment"> * @param int $id Id of the module instance</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment"> * @return boolean Success/Failure</span>
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment"> **/</span>
<a name="l178"><span class="linenum"> 178</span></a>  function <a class="function" onClick="logFunction('lti_delete_instance')" href="../../_functions/lti_delete_instance.html" onMouseOver="funcPopup(event,'lti_delete_instance')">lti_delete_instance</a>(<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>) {
<a name="l179"><span class="linenum"> 179</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l180"><span class="linenum"> 180</span></a>  
<a name="l181"><span class="linenum"> 181</span></a>      if (! <a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>(&quot;lti&quot;, array(&quot;id&quot; =&gt; <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>))) {
<a name="l182"><span class="linenum"> 182</span></a>          return false;
<a name="l183"><span class="linenum"> 183</span></a>      }
<a name="l184"><span class="linenum"> 184</span></a>  
<a name="l185"><span class="linenum"> 185</span></a>      <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = true;
<a name="l186"><span class="linenum"> 186</span></a>  
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment">    // Delete any dependent records here.</span>
<a name="l188"><span class="linenum"> 188</span></a>      <a class="function" onClick="logFunction('lti_grade_item_delete')" href="../../_functions/lti_grade_item_delete.html" onMouseOver="funcPopup(event,'lti_grade_item_delete')">lti_grade_item_delete</a>(<a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>);
<a name="l189"><span class="linenum"> 189</span></a>  
<a name="l190"><span class="linenum"> 190</span></a>      <a class="var it4378" onMouseOver="hilite(4378)" onMouseOut="lolite()" onClick="logVariable('ltitype')" href="../../_variables/ltitype.html">$ltitype</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('lti_types', array('id' =&gt; <a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('typeid')" class="var it41985" onMouseOver="hilite(41985)" onMouseOut="lolite()" href="../../_variables/typeid.html">typeid</a>));
<a name="l191"><span class="linenum"> 191</span></a>      <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('lti_tool_settings',
<a name="l192"><span class="linenum"> 192</span></a>          array('toolproxyid' =&gt; <a class="var it4378" onMouseOver="hilite(4378)" onMouseOut="lolite()" onClick="logVariable('ltitype')" href="../../_variables/ltitype.html">$ltitype</a>-&gt;<a onClick="logVariable('toolproxyid')" class="var it41443" onMouseOver="hilite(41443)" onMouseOut="lolite()" href="../../_variables/toolproxyid.html">toolproxyid</a>, 'course' =&gt; <a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('course')" class="var it41985" onMouseOver="hilite(41985)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>, 'coursemoduleid' =&gt; <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>));
<a name="l193"><span class="linenum"> 193</span></a>  
<a name="l194"><span class="linenum"> 194</span></a>      return <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>(&quot;lti&quot;, array(&quot;id&quot; =&gt; <a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('id')" class="var it41985" onMouseOver="hilite(41985)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l195"><span class="linenum"> 195</span></a>  }
<a name="l196"><span class="linenum"> 196</span></a>  
<a name="l197"><span class="linenum"> 197</span></a>  function <a class="function" onClick="logFunction('lti_get_types')" href="../../_functions/lti_get_types.html" onMouseOver="funcPopup(event,'lti_get_types')">lti_get_types</a>() {
<a name="l198"><span class="linenum"> 198</span></a>      global <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l199"><span class="linenum"> 199</span></a>  
<a name="l200"><span class="linenum"> 200</span></a>      <a class="var it7290" onMouseOver="hilite(7290)" onMouseOut="lolite()" onClick="logVariable('subtypes')" href="../../_variables/subtypes.html">$subtypes</a> = array();
<a name="l201"><span class="linenum"> 201</span></a>      foreach (<a class="function" onClick="logFunction('get_plugin_list')" href="../../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>('ltisource') as <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a> =&gt; <a class="var it1099" onMouseOver="hilite(1099)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../../_variables/dir.html">$dir</a>) {
<a name="l202"><span class="linenum"> 202</span></a>          if (<a class="var it32541" onMouseOver="hilite(32541)" onMouseOut="lolite()" onClick="logVariable('moretypes')" href="../../_variables/moretypes.html">$moretypes</a> = <a class="function" onClick="logFunction('component_callback')" href="../../_functions/component_callback.html" onMouseOver="funcPopup(event,'component_callback')">component_callback</a>(&quot;ltisource_<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>&quot;, 'get_types')) {
<a name="l203"><span class="linenum"> 203</span></a>              <a class="var it7290" onMouseOver="hilite(7290)" onMouseOut="lolite()" onClick="logVariable('subtypes')" href="../../_variables/subtypes.html">$subtypes</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it7290" onMouseOver="hilite(7290)" onMouseOut="lolite()" onClick="logVariable('subtypes')" href="../../_variables/subtypes.html">$subtypes</a>, <a class="var it32541" onMouseOver="hilite(32541)" onMouseOut="lolite()" onClick="logVariable('moretypes')" href="../../_variables/moretypes.html">$moretypes</a>);
<a name="l204"><span class="linenum"> 204</span></a>          }
<a name="l205"><span class="linenum"> 205</span></a>      }
<a name="l206"><span class="linenum"> 206</span></a>      if (empty(<a class="var it7290" onMouseOver="hilite(7290)" onMouseOut="lolite()" onClick="logVariable('subtypes')" href="../../_variables/subtypes.html">$subtypes</a>)) {
<a name="l207"><span class="linenum"> 207</span></a>          return <a class="constant" onClick="logConstant('MOD_SUBTYPE_NO_CHILDREN')" href="../../_constants/MOD_SUBTYPE_NO_CHILDREN.html" onMouseOver="constPopup(event,'MOD_SUBTYPE_NO_CHILDREN')">MOD_SUBTYPE_NO_CHILDREN</a>;
<a name="l208"><span class="linenum"> 208</span></a>      }
<a name="l209"><span class="linenum"> 209</span></a>  
<a name="l210"><span class="linenum"> 210</span></a>      <a class="var it2894" onMouseOver="hilite(2894)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../_variables/types.html">$types</a> = array();
<a name="l211"><span class="linenum"> 211</span></a>  
<a name="l212"><span class="linenum"> 212</span></a>      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>           = new stdClass();
<a name="l213"><span class="linenum"> 213</span></a>      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>-&gt;<a onClick="logVariable('modclass')" class="var it40964" onMouseOver="hilite(40964)" onMouseOut="lolite()" href="../../_variables/modclass.html">modclass</a> = <a class="constant" onClick="logConstant('MOD_CLASS_ACTIVITY')" href="../../_constants/MOD_CLASS_ACTIVITY.html" onMouseOver="constPopup(event,'MOD_CLASS_ACTIVITY')">MOD_CLASS_ACTIVITY</a>;
<a name="l214"><span class="linenum"> 214</span></a>      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>-&gt;<a onClick="logVariable('type')" class="var it40964" onMouseOver="hilite(40964)" onMouseOut="lolite()" href="../../_variables/type.html">type</a>     = 'lti_group_start';
<a name="l215"><span class="linenum"> 215</span></a>      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>-&gt;<a onClick="logVariable('typestr')" class="var it40964" onMouseOver="hilite(40964)" onMouseOut="lolite()" href="../../_variables/typestr.html">typestr</a>  = '--'.<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulenameplural', 'mod_lti');
<a name="l216"><span class="linenum"> 216</span></a>      <a class="var it2894" onMouseOver="hilite(2894)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../_variables/types.html">$types</a>[]        = <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>;
<a name="l217"><span class="linenum"> 217</span></a>  
<a name="l218"><span class="linenum"> 218</span></a>      <a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>     = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulename_link', 'mod_lti');
<a name="l219"><span class="linenum"> 219</span></a>      <a class="var it2915" onMouseOver="hilite(2915)" onMouseOut="lolite()" onClick="logVariable('linktext')" href="../../_variables/linktext.html">$linktext</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('morehelp');
<a name="l220"><span class="linenum"> 220</span></a>      <a class="var it2558" onMouseOver="hilite(2558)" onMouseOut="lolite()" onClick="logVariable('help')" href="../../_variables/help.html">$help</a>     = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulename_help', 'mod_lti');
<a name="l221"><span class="linenum"> 221</span></a>      <a class="var it2558" onMouseOver="hilite(2558)" onMouseOut="lolite()" onClick="logVariable('help')" href="../../_variables/help.html">$help</a>    .= <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('div', <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('doc_link')" href="../../_functions/doc_link.html" onMouseOver="funcPopup(event,'doc_link')">doc_link</a>(<a class="var it69" onMouseOver="hilite(69)" onMouseOut="lolite()" onClick="logVariable('link')" href="../../_variables/link.html">$link</a>, <a class="var it2915" onMouseOver="hilite(2915)" onMouseOut="lolite()" onClick="logVariable('linktext')" href="../../_variables/linktext.html">$linktext</a>, true), array('class' =&gt; 'helpdoclink'));
<a name="l222"><span class="linenum"> 222</span></a>  
<a name="l223"><span class="linenum"> 223</span></a>      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>           = new stdClass();
<a name="l224"><span class="linenum"> 224</span></a>      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>-&gt;<a onClick="logVariable('modclass')" class="var it40964" onMouseOver="hilite(40964)" onMouseOut="lolite()" href="../../_variables/modclass.html">modclass</a> = <a class="constant" onClick="logConstant('MOD_CLASS_ACTIVITY')" href="../../_constants/MOD_CLASS_ACTIVITY.html" onMouseOver="constPopup(event,'MOD_CLASS_ACTIVITY')">MOD_CLASS_ACTIVITY</a>;
<a name="l225"><span class="linenum"> 225</span></a>      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>-&gt;<a onClick="logVariable('type')" class="var it40964" onMouseOver="hilite(40964)" onMouseOut="lolite()" href="../../_variables/type.html">type</a>     = '';
<a name="l226"><span class="linenum"> 226</span></a>      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>-&gt;<a onClick="logVariable('typestr')" class="var it40964" onMouseOver="hilite(40964)" onMouseOut="lolite()" href="../../_variables/typestr.html">typestr</a>  = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('generaltool', 'mod_lti');
<a name="l227"><span class="linenum"> 227</span></a>      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>-&gt;<a onClick="logVariable('help')" class="var it40964" onMouseOver="hilite(40964)" onMouseOut="lolite()" href="../../_variables/help.html">help</a>     = <a class="var it2558" onMouseOver="hilite(2558)" onMouseOut="lolite()" onClick="logVariable('help')" href="../../_variables/help.html">$help</a>;
<a name="l228"><span class="linenum"> 228</span></a>      <a class="var it2894" onMouseOver="hilite(2894)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../_variables/types.html">$types</a>[]        = <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>;
<a name="l229"><span class="linenum"> 229</span></a>  
<a name="l230"><span class="linenum"> 230</span></a>      <a class="var it2894" onMouseOver="hilite(2894)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../_variables/types.html">$types</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it2894" onMouseOver="hilite(2894)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../_variables/types.html">$types</a>, <a class="var it7290" onMouseOver="hilite(7290)" onMouseOut="lolite()" onClick="logVariable('subtypes')" href="../../_variables/subtypes.html">$subtypes</a>);
<a name="l231"><span class="linenum"> 231</span></a>  
<a name="l232"><span class="linenum"> 232</span></a>      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>           = new stdClass();
<a name="l233"><span class="linenum"> 233</span></a>      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>-&gt;<a onClick="logVariable('modclass')" class="var it40964" onMouseOver="hilite(40964)" onMouseOut="lolite()" href="../../_variables/modclass.html">modclass</a> = <a class="constant" onClick="logConstant('MOD_CLASS_ACTIVITY')" href="../../_constants/MOD_CLASS_ACTIVITY.html" onMouseOver="constPopup(event,'MOD_CLASS_ACTIVITY')">MOD_CLASS_ACTIVITY</a>;
<a name="l234"><span class="linenum"> 234</span></a>      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>-&gt;<a onClick="logVariable('type')" class="var it40964" onMouseOver="hilite(40964)" onMouseOut="lolite()" href="../../_variables/type.html">type</a>     = 'lti_group_end';
<a name="l235"><span class="linenum"> 235</span></a>      <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>-&gt;<a onClick="logVariable('typestr')" class="var it40964" onMouseOver="hilite(40964)" onMouseOut="lolite()" href="../../_variables/typestr.html">typestr</a>  = '--';
<a name="l236"><span class="linenum"> 236</span></a>      <a class="var it2894" onMouseOver="hilite(2894)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../_variables/types.html">$types</a>[]        = <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../_variables/type.html">$type</a>;
<a name="l237"><span class="linenum"> 237</span></a>  
<a name="l238"><span class="linenum"> 238</span></a>      return <a class="var it2894" onMouseOver="hilite(2894)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../_variables/types.html">$types</a>;
<a name="l239"><span class="linenum"> 239</span></a>  }
<a name="l240"><span class="linenum"> 240</span></a>  
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">/**</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment"> * Given a coursemodule object, this function returns the extra</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment"> * information needed to print this activity in various places.</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment"> * For this module we just need to support external urls as</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment"> * activity icons</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment"> *</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment"> * @param stdClass $coursemodule</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment"> * @return cached_cm_info info</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment"> */</span>
<a name="l250"><span class="linenum"> 250</span></a>  function <a class="function" onClick="logFunction('lti_get_coursemodule_info')" href="../../_functions/lti_get_coursemodule_info.html" onMouseOver="funcPopup(event,'lti_get_coursemodule_info')">lti_get_coursemodule_info</a>(<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>) {
<a name="l251"><span class="linenum"> 251</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l252"><span class="linenum"> 252</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../../mod/lti/locallib.php.html">/mod/lti/locallib.php</a>');
<a name="l253"><span class="linenum"> 253</span></a>  
<a name="l254"><span class="linenum"> 254</span></a>      if (!<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('lti', array('id' =&gt; <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('instance')" class="var it39577" onMouseOver="hilite(39577)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>),
<a name="l255"><span class="linenum"> 255</span></a>              'icon, secureicon, intro, introformat, name, toolurl, launchcontainer')) {
<a name="l256"><span class="linenum"> 256</span></a>          return null;
<a name="l257"><span class="linenum"> 257</span></a>      }
<a name="l258"><span class="linenum"> 258</span></a>  
<a name="l259"><span class="linenum"> 259</span></a>      <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a> = <span class="keyword">new </span><a class="class" onClick="logClass('cached_cm_info')" href="../../_classes/cached_cm_info.html" onMouseOver="classPopup(event,'cached_cm_info')">cached_cm_info</a>();
<a name="l260"><span class="linenum"> 260</span></a>  
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment">    // We want to use the right icon based on whether the</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment">    // current page is being requested over http or https.</span>
<a name="l263"><span class="linenum"> 263</span></a>      if (<a class="function" onClick="logFunction('lti_request_is_using_ssl')" href="../../_functions/lti_request_is_using_ssl.html" onMouseOver="funcPopup(event,'lti_request_is_using_ssl')">lti_request_is_using_ssl</a>() &amp;&amp; !empty(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('secureicon')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/secureicon.html">secureicon</a>)) {
<a name="l264"><span class="linenum"> 264</span></a>          <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('iconurl')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../../_variables/iconurl.html">iconurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('secureicon')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/secureicon.html">secureicon</a>);
<a name="l265"><span class="linenum"> 265</span></a>      } else if (!empty(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('icon')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/icon.html">icon</a>)) {
<a name="l266"><span class="linenum"> 266</span></a>          <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('iconurl')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../../_variables/iconurl.html">iconurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('icon')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/icon.html">icon</a>);
<a name="l267"><span class="linenum"> 267</span></a>      }
<a name="l268"><span class="linenum"> 268</span></a>  
<a name="l269"><span class="linenum"> 269</span></a>      if (<a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('showdescription')" class="var it39577" onMouseOver="hilite(39577)" onMouseOut="lolite()" href="../../_variables/showdescription.html">showdescription</a>) {
<a name="l270"><span class="linenum"> 270</span></a>  <span class="comment">        // Convert intro to html. Do not filter cached version, filters run at display time.</span>
<a name="l271"><span class="linenum"> 271</span></a>          <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('content')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../../_variables/content.html">content</a> = <a class="function" onClick="logFunction('format_module_intro')" href="../../_functions/format_module_intro.html" onMouseOver="funcPopup(event,'format_module_intro')">format_module_intro</a>('lti', <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>, <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('id')" class="var it39577" onMouseOver="hilite(39577)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, false);
<a name="l272"><span class="linenum"> 272</span></a>      }
<a name="l273"><span class="linenum"> 273</span></a>  
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment">    // Does the link open in a new window?</span>
<a name="l275"><span class="linenum"> 275</span></a>      <a class="var it11271" onMouseOver="hilite(11271)" onMouseOut="lolite()" onClick="logVariable('tool')" href="../../_variables/tool.html">$tool</a> = <a class="function" onClick="logFunction('lti_get_tool_by_url_match')" href="../../_functions/lti_get_tool_by_url_match.html" onMouseOver="funcPopup(event,'lti_get_tool_by_url_match')">lti_get_tool_by_url_match</a>(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('toolurl')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/toolurl.html">toolurl</a>);
<a name="l276"><span class="linenum"> 276</span></a>      if (<a class="var it11271" onMouseOver="hilite(11271)" onMouseOut="lolite()" onClick="logVariable('tool')" href="../../_variables/tool.html">$tool</a>) {
<a name="l277"><span class="linenum"> 277</span></a>          <a class="var it25442" onMouseOver="hilite(25442)" onMouseOut="lolite()" onClick="logVariable('toolconfig')" href="../../_variables/toolconfig.html">$toolconfig</a> = <a class="function" onClick="logFunction('lti_get_type_config')" href="../../_functions/lti_get_type_config.html" onMouseOver="funcPopup(event,'lti_get_type_config')">lti_get_type_config</a>(<a class="var it11271" onMouseOver="hilite(11271)" onMouseOut="lolite()" onClick="logVariable('tool')" href="../../_variables/tool.html">$tool</a>-&gt;<a onClick="logVariable('id')" class="var it40523" onMouseOver="hilite(40523)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l278"><span class="linenum"> 278</span></a>      } else {
<a name="l279"><span class="linenum"> 279</span></a>          <a class="var it25442" onMouseOver="hilite(25442)" onMouseOut="lolite()" onClick="logVariable('toolconfig')" href="../../_variables/toolconfig.html">$toolconfig</a> = array();
<a name="l280"><span class="linenum"> 280</span></a>      }
<a name="l281"><span class="linenum"> 281</span></a>      <a class="var it25444" onMouseOver="hilite(25444)" onMouseOut="lolite()" onClick="logVariable('launchcontainer')" href="../../_variables/launchcontainer.html">$launchcontainer</a> = <a class="function" onClick="logFunction('lti_get_launch_container')" href="../../_functions/lti_get_launch_container.html" onMouseOver="funcPopup(event,'lti_get_launch_container')">lti_get_launch_container</a>(<a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>, <a class="var it25442" onMouseOver="hilite(25442)" onMouseOut="lolite()" onClick="logVariable('toolconfig')" href="../../_variables/toolconfig.html">$toolconfig</a>);
<a name="l282"><span class="linenum"> 282</span></a>      if (<a class="var it25444" onMouseOver="hilite(25444)" onMouseOut="lolite()" onClick="logVariable('launchcontainer')" href="../../_variables/launchcontainer.html">$launchcontainer</a> == <a class="constant" onClick="logConstant('LTI_LAUNCH_CONTAINER_WINDOW')" href="../../_constants/LTI_LAUNCH_CONTAINER_WINDOW.html" onMouseOver="constPopup(event,'LTI_LAUNCH_CONTAINER_WINDOW')">LTI_LAUNCH_CONTAINER_WINDOW</a>) {
<a name="l283"><span class="linenum"> 283</span></a>          <a class="var it32542" onMouseOver="hilite(32542)" onMouseOut="lolite()" onClick="logVariable('launchurl')" href="../../_variables/launchurl.html">$launchurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../mod/lti/launch.php.html">/mod/lti/launch.php</a>', array('id' =&gt; <a class="var it560" onMouseOver="hilite(560)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('id')" class="var it39577" onMouseOver="hilite(39577)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l284"><span class="linenum"> 284</span></a>          <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('onclick')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../../_variables/onclick.html">onclick</a> = &quot;window.<a class="function" onClick="logFunction('open')" href="../../_functions/open.html" onMouseOver="funcPopup(event,'open')">open</a>('&quot; . <a class="var it32542" onMouseOver="hilite(32542)" onMouseOut="lolite()" onClick="logVariable('launchurl')" href="../../_variables/launchurl.html">$launchurl</a>-&gt;<a class="function" onClick="logFunction('out')" href="../../_functions/out.html" onMouseOver="funcPopup(event,'out')">out</a>(false) . &quot;', 'lti'); return false;&quot;;
<a name="l285"><span class="linenum"> 285</span></a>      }
<a name="l286"><span class="linenum"> 286</span></a>  
<a name="l287"><span class="linenum"> 287</span></a>      <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('name')" class="var it39470" onMouseOver="hilite(39470)" onMouseOut="lolite()" href="../../_variables/name.html">name</a> = <a class="var it4377" onMouseOver="hilite(4377)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('name')" class="var it40522" onMouseOver="hilite(40522)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>;
<a name="l288"><span class="linenum"> 288</span></a>  
<a name="l289"><span class="linenum"> 289</span></a>      return <a class="var it192" onMouseOver="hilite(192)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>;
<a name="l290"><span class="linenum"> 290</span></a>  }
<a name="l291"><span class="linenum"> 291</span></a>  
<a name="l292"><span class="linenum"> 292</span></a>  <span class="comment">/**</span>
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment"> * Return a small object with summary information about what a</span>
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment"> * user has done with a given particular instance of this module</span>
<a name="l295"><span class="linenum"> 295</span></a>  <span class="comment"> * Used for user activity reports.</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment"> * $return-&gt;time = the time they did it</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment"> * $return-&gt;info = a short text description</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment"> *</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment"> * @return null</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment"> * @TODO: implement this moodle function (if needed)</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment"> **/</span>
<a name="l302"><span class="linenum"> 302</span></a>  function <a class="function" onClick="logFunction('lti_user_outline')" href="../../_functions/lti_user_outline.html" onMouseOver="funcPopup(event,'lti_user_outline')">lti_user_outline</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../../_variables/mod.html">$mod</a>, <a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>) {
<a name="l303"><span class="linenum"> 303</span></a>      return null;
<a name="l304"><span class="linenum"> 304</span></a>  }
<a name="l305"><span class="linenum"> 305</span></a>  
<a name="l306"><span class="linenum"> 306</span></a>  <span class="comment">/**</span>
<a name="l307"><span class="linenum"> 307</span></a>  <span class="comment"> * Print a detailed representation of what a user has done with</span>
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment"> * a given particular instance of this module, for user activity reports.</span>
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment"> *</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment"> * @return boolean</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment"> * @TODO: implement this moodle function (if needed)</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment"> **/</span>
<a name="l313"><span class="linenum"> 313</span></a>  function <a class="function" onClick="logFunction('lti_user_complete')" href="../../_functions/lti_user_complete.html" onMouseOver="funcPopup(event,'lti_user_complete')">lti_user_complete</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../../_variables/mod.html">$mod</a>, <a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>) {
<a name="l314"><span class="linenum"> 314</span></a>      return true;
<a name="l315"><span class="linenum"> 315</span></a>  }
<a name="l316"><span class="linenum"> 316</span></a>  
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">/**</span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment"> * Given a course and a time, this module should find recent activity</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment"> * that has occurred in basiclti activities and print it out.</span>
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment"> * Return true if there was output, or false is there was none.</span>
<a name="l321"><span class="linenum"> 321</span></a>  <span class="comment"> *</span>
<a name="l322"><span class="linenum"> 322</span></a>  <span class="comment"> * @uses $CFG</span>
<a name="l323"><span class="linenum"> 323</span></a>  <span class="comment"> * @return boolean</span>
<a name="l324"><span class="linenum"> 324</span></a>  <span class="comment"> * @TODO: implement this moodle function</span>
<a name="l325"><span class="linenum"> 325</span></a>  <span class="comment"> **/</span>
<a name="l326"><span class="linenum"> 326</span></a>  function <a class="function" onClick="logFunction('lti_print_recent_activity')" href="../../_functions/lti_print_recent_activity.html" onMouseOver="funcPopup(event,'lti_print_recent_activity')">lti_print_recent_activity</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it32543" onMouseOver="hilite(32543)" onMouseOut="lolite()" onClick="logVariable('isteacher')" href="../../_variables/isteacher.html">$isteacher</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../../_variables/timestart.html">$timestart</a>) {
<a name="l327"><span class="linenum"> 327</span></a>      return false;  <span class="comment">//  True if anything was printed, otherwise false.</span>
<a name="l328"><span class="linenum"> 328</span></a>  }
<a name="l329"><span class="linenum"> 329</span></a>  
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment">/**</span>
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment"> * Function to be run periodically according to the moodle cron</span>
<a name="l332"><span class="linenum"> 332</span></a>  <span class="comment"> * This function searches for things that need to be done, such</span>
<a name="l333"><span class="linenum"> 333</span></a>  <span class="comment"> * as sending out mail, toggling flags etc ...</span>
<a name="l334"><span class="linenum"> 334</span></a>  <span class="comment"> *</span>
<a name="l335"><span class="linenum"> 335</span></a>  <span class="comment"> * @uses $CFG</span>
<a name="l336"><span class="linenum"> 336</span></a>  <span class="comment"> * @return boolean</span>
<a name="l337"><span class="linenum"> 337</span></a>  <span class="comment"> **/</span>
<a name="l338"><span class="linenum"> 338</span></a>  function <a class="function" onClick="logFunction('lti_cron')" href="../../_functions/lti_cron.html" onMouseOver="funcPopup(event,'lti_cron')">lti_cron</a> () {
<a name="l339"><span class="linenum"> 339</span></a>      return true;
<a name="l340"><span class="linenum"> 340</span></a>  }
<a name="l341"><span class="linenum"> 341</span></a>  
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment">/**</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment"> * Must return an array of grades for a given instance of this module,</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment"> * indexed by user.  It also returns a maximum allowed grade.</span>
<a name="l345"><span class="linenum"> 345</span></a>  <span class="comment"> *</span>
<a name="l346"><span class="linenum"> 346</span></a>  <span class="comment"> * Example:</span>
<a name="l347"><span class="linenum"> 347</span></a>  <span class="comment"> *    $return-&gt;grades = array of grades;</span>
<a name="l348"><span class="linenum"> 348</span></a>  <span class="comment"> *    $return-&gt;maxgrade = maximum allowed grade;</span>
<a name="l349"><span class="linenum"> 349</span></a>  <span class="comment"> *</span>
<a name="l350"><span class="linenum"> 350</span></a>  <span class="comment"> *    return $return;</span>
<a name="l351"><span class="linenum"> 351</span></a>  <span class="comment"> *</span>
<a name="l352"><span class="linenum"> 352</span></a>  <span class="comment"> * @param int $basicltiid ID of an instance of this module</span>
<a name="l353"><span class="linenum"> 353</span></a>  <span class="comment"> * @return mixed Null or object with an array of grades and with the maximum grade</span>
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment"> *</span>
<a name="l355"><span class="linenum"> 355</span></a>  <span class="comment"> * @TODO: implement this moodle function (if needed)</span>
<a name="l356"><span class="linenum"> 356</span></a>  <span class="comment"> **/</span>
<a name="l357"><span class="linenum"> 357</span></a>  function <a class="function" onClick="logFunction('lti_grades')" href="../../_functions/lti_grades.html" onMouseOver="funcPopup(event,'lti_grades')">lti_grades</a>(<a class="var it32544" onMouseOver="hilite(32544)" onMouseOut="lolite()" onClick="logVariable('basicltiid')" href="../../_variables/basicltiid.html">$basicltiid</a>) {
<a name="l358"><span class="linenum"> 358</span></a>      return null;
<a name="l359"><span class="linenum"> 359</span></a>  }
<a name="l360"><span class="linenum"> 360</span></a>  
<a name="l361"><span class="linenum"> 361</span></a>  <span class="comment">/**</span>
<a name="l362"><span class="linenum"> 362</span></a>  <span class="comment"> * This function returns if a scale is being used by one basiclti</span>
<a name="l363"><span class="linenum"> 363</span></a>  <span class="comment"> * it it has support for grading and scales. Commented code should be</span>
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment"> * modified if necessary. See forum, glossary or journal modules</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment"> * as reference.</span>
<a name="l366"><span class="linenum"> 366</span></a>  <span class="comment"> *</span>
<a name="l367"><span class="linenum"> 367</span></a>  <span class="comment"> * @param int $basicltiid ID of an instance of this module</span>
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment"> * @return mixed</span>
<a name="l369"><span class="linenum"> 369</span></a>  <span class="comment"> *</span>
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment"> * @TODO: implement this moodle function (if needed)</span>
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment"> **/</span>
<a name="l372"><span class="linenum"> 372</span></a>  function <a class="function" onClick="logFunction('lti_scale_used')" href="../../_functions/lti_scale_used.html" onMouseOver="funcPopup(event,'lti_scale_used')">lti_scale_used</a> (<a class="var it32544" onMouseOver="hilite(32544)" onMouseOut="lolite()" onClick="logVariable('basicltiid')" href="../../_variables/basicltiid.html">$basicltiid</a>, <a class="var it3927" onMouseOver="hilite(3927)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a>) {
<a name="l373"><span class="linenum"> 373</span></a>      <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> = false;
<a name="l374"><span class="linenum"> 374</span></a>  
<a name="l375"><span class="linenum"> 375</span></a>  <span class="comment">    // $rec = get_record(&quot;basiclti&quot;,&quot;id&quot;,&quot;$basicltiid&quot;,&quot;scale&quot;,&quot;-$scaleid&quot;);</span>
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment">    //</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment">    // if (!empty($rec)  &amp;&amp; !empty($scaleid)) {</span>
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment">    //     $return = true;</span>
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment">    // }</span>
<a name="l380"><span class="linenum"> 380</span></a>  
<a name="l381"><span class="linenum"> 381</span></a>      return <a class="var it49" onMouseOver="hilite(49)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a>;
<a name="l382"><span class="linenum"> 382</span></a>  }
<a name="l383"><span class="linenum"> 383</span></a>  
<a name="l384"><span class="linenum"> 384</span></a>  <span class="comment">/**</span>
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment"> * Checks if scale is being used by any instance of basiclti.</span>
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment"> * This function was added in 1.9</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment"> *</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment"> * This is used to find out if scale used anywhere</span>
<a name="l389"><span class="linenum"> 389</span></a>  <span class="comment"> * @param $scaleid int</span>
<a name="l390"><span class="linenum"> 390</span></a>  <span class="comment"> * @return boolean True if the scale is used by any basiclti</span>
<a name="l391"><span class="linenum"> 391</span></a>  <span class="comment"> *</span>
<a name="l392"><span class="linenum"> 392</span></a>  <span class="comment"> */</span>
<a name="l393"><span class="linenum"> 393</span></a>  function <a class="function" onClick="logFunction('lti_scale_used_anywhere')" href="../../_functions/lti_scale_used_anywhere.html" onMouseOver="funcPopup(event,'lti_scale_used_anywhere')">lti_scale_used_anywhere</a>(<a class="var it3927" onMouseOver="hilite(3927)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a>) {
<a name="l394"><span class="linenum"> 394</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l395"><span class="linenum"> 395</span></a>  
<a name="l396"><span class="linenum"> 396</span></a>      if (<a class="var it3927" onMouseOver="hilite(3927)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a> and <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('lti', array('grade' =&gt; -<a class="var it3927" onMouseOver="hilite(3927)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a>))) {
<a name="l397"><span class="linenum"> 397</span></a>          return true;
<a name="l398"><span class="linenum"> 398</span></a>      } else {
<a name="l399"><span class="linenum"> 399</span></a>          return false;
<a name="l400"><span class="linenum"> 400</span></a>      }
<a name="l401"><span class="linenum"> 401</span></a>  }
<a name="l402"><span class="linenum"> 402</span></a>  
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">/**</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment"> * Execute post-install custom actions for the module</span>
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment"> * This function was added in 1.9</span>
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment"> *</span>
<a name="l407"><span class="linenum"> 407</span></a>  <span class="comment"> * @return boolean true if success, false on error</span>
<a name="l408"><span class="linenum"> 408</span></a>  <span class="comment"> */</span>
<a name="l409"><span class="linenum"> 409</span></a>  function <a class="function" onClick="logFunction('lti_install')" href="../../_functions/lti_install.html" onMouseOver="funcPopup(event,'lti_install')">lti_install</a>() {
<a name="l410"><span class="linenum"> 410</span></a>       return true;
<a name="l411"><span class="linenum"> 411</span></a>  }
<a name="l412"><span class="linenum"> 412</span></a>  
<a name="l413"><span class="linenum"> 413</span></a>  <span class="comment">/**</span>
<a name="l414"><span class="linenum"> 414</span></a>  <span class="comment"> * Execute post-uninstall custom actions for the module</span>
<a name="l415"><span class="linenum"> 415</span></a>  <span class="comment"> * This function was added in 1.9</span>
<a name="l416"><span class="linenum"> 416</span></a>  <span class="comment"> *</span>
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment"> * @return boolean true if success, false on error</span>
<a name="l418"><span class="linenum"> 418</span></a>  <span class="comment"> */</span>
<a name="l419"><span class="linenum"> 419</span></a>  function <a class="function" onClick="logFunction('lti_uninstall')" href="../../_functions/lti_uninstall.html" onMouseOver="funcPopup(event,'lti_uninstall')">lti_uninstall</a>() {
<a name="l420"><span class="linenum"> 420</span></a>      return true;
<a name="l421"><span class="linenum"> 421</span></a>  }
<a name="l422"><span class="linenum"> 422</span></a>  
<a name="l423"><span class="linenum"> 423</span></a>  <span class="comment">/**</span>
<a name="l424"><span class="linenum"> 424</span></a>  <span class="comment"> * Returns available Basic LTI types</span>
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment"> *</span>
<a name="l426"><span class="linenum"> 426</span></a>  <span class="comment"> * @return array of basicLTI types</span>
<a name="l427"><span class="linenum"> 427</span></a>  <span class="comment"> */</span>
<a name="l428"><span class="linenum"> 428</span></a>  function <a class="function" onClick="logFunction('lti_get_lti_types')" href="../../_functions/lti_get_lti_types.html" onMouseOver="funcPopup(event,'lti_get_lti_types')">lti_get_lti_types</a>() {
<a name="l429"><span class="linenum"> 429</span></a>      global <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l430"><span class="linenum"> 430</span></a>  
<a name="l431"><span class="linenum"> 431</span></a>      return <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('lti_types');
<a name="l432"><span class="linenum"> 432</span></a>  }
<a name="l433"><span class="linenum"> 433</span></a>  
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment">/**</span>
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment"> * Create grade item for given basiclti</span>
<a name="l436"><span class="linenum"> 436</span></a>  <span class="comment"> *</span>
<a name="l437"><span class="linenum"> 437</span></a>  <span class="comment"> * @category grade</span>
<a name="l438"><span class="linenum"> 438</span></a>  <span class="comment"> * @param object $basiclti object with extra cmidnumber</span>
<a name="l439"><span class="linenum"> 439</span></a>  <span class="comment"> * @param mixed optional array/object of grade(s); 'reset' means reset grades in gradebook</span>
<a name="l440"><span class="linenum"> 440</span></a>  <span class="comment"> * @return int 0 if ok, error code otherwise</span>
<a name="l441"><span class="linenum"> 441</span></a>  <span class="comment"> */</span>
<a name="l442"><span class="linenum"> 442</span></a>  function <a class="function" onClick="logFunction('lti_grade_item_update')" href="../../_functions/lti_grade_item_update.html" onMouseOver="funcPopup(event,'lti_grade_item_update')">lti_grade_item_update</a>(<a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>, <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> = null) {
<a name="l443"><span class="linenum"> 443</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l444"><span class="linenum"> 444</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>.'/gradelib.php');
<a name="l445"><span class="linenum"> 445</span></a>  
<a name="l446"><span class="linenum"> 446</span></a>      <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('itemname' =&gt; <a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('name')" class="var it41985" onMouseOver="hilite(41985)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>, 'idnumber' =&gt; <a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('cmidnumber')" class="var it41985" onMouseOver="hilite(41985)" onMouseOut="lolite()" href="../../_variables/cmidnumber.html">cmidnumber</a>);
<a name="l447"><span class="linenum"> 447</span></a>  
<a name="l448"><span class="linenum"> 448</span></a>      if (<a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('grade')" class="var it41985" onMouseOver="hilite(41985)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> &gt; 0) {
<a name="l449"><span class="linenum"> 449</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['gradetype'] = <a class="constant" onClick="logConstant('GRADE_TYPE_VALUE')" href="../../_constants/GRADE_TYPE_VALUE.html" onMouseOver="constPopup(event,'GRADE_TYPE_VALUE')">GRADE_TYPE_VALUE</a>;
<a name="l450"><span class="linenum"> 450</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['grademax']  = <a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('grade')" class="var it41985" onMouseOver="hilite(41985)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a>;
<a name="l451"><span class="linenum"> 451</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['grademin']  = 0;
<a name="l452"><span class="linenum"> 452</span></a>  
<a name="l453"><span class="linenum"> 453</span></a>      } else if (<a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('grade')" class="var it41985" onMouseOver="hilite(41985)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> &lt; 0) {
<a name="l454"><span class="linenum"> 454</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['gradetype'] = <a class="constant" onClick="logConstant('GRADE_TYPE_SCALE')" href="../../_constants/GRADE_TYPE_SCALE.html" onMouseOver="constPopup(event,'GRADE_TYPE_SCALE')">GRADE_TYPE_SCALE</a>;
<a name="l455"><span class="linenum"> 455</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['scaleid']   = -<a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('grade')" class="var it41985" onMouseOver="hilite(41985)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a>;
<a name="l456"><span class="linenum"> 456</span></a>  
<a name="l457"><span class="linenum"> 457</span></a>      } else {
<a name="l458"><span class="linenum"> 458</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['gradetype'] = <a class="constant" onClick="logConstant('GRADE_TYPE_TEXT')" href="../../_constants/GRADE_TYPE_TEXT.html" onMouseOver="constPopup(event,'GRADE_TYPE_TEXT')">GRADE_TYPE_TEXT</a>; <span class="comment">// Allow text comments only.</span>
<a name="l459"><span class="linenum"> 459</span></a>      }
<a name="l460"><span class="linenum"> 460</span></a>  
<a name="l461"><span class="linenum"> 461</span></a>      if (<a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> === 'reset') {
<a name="l462"><span class="linenum"> 462</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['reset'] = true;
<a name="l463"><span class="linenum"> 463</span></a>          <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> = null;
<a name="l464"><span class="linenum"> 464</span></a>      }
<a name="l465"><span class="linenum"> 465</span></a>  
<a name="l466"><span class="linenum"> 466</span></a>      return <a class="function" onClick="logFunction('grade_update')" href="../../_functions/grade_update.html" onMouseOver="funcPopup(event,'grade_update')">grade_update</a>('mod/lti', <a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('course')" class="var it41985" onMouseOver="hilite(41985)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>, 'mod', 'lti', <a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('id')" class="var it41985" onMouseOver="hilite(41985)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 0, <a class="var it663" onMouseOver="hilite(663)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l467"><span class="linenum"> 467</span></a>  }
<a name="l468"><span class="linenum"> 468</span></a>  
<a name="l469"><span class="linenum"> 469</span></a>  <span class="comment">/**</span>
<a name="l470"><span class="linenum"> 470</span></a>  <span class="comment"> * Delete grade item for given basiclti</span>
<a name="l471"><span class="linenum"> 471</span></a>  <span class="comment"> *</span>
<a name="l472"><span class="linenum"> 472</span></a>  <span class="comment"> * @category grade</span>
<a name="l473"><span class="linenum"> 473</span></a>  <span class="comment"> * @param object $basiclti object</span>
<a name="l474"><span class="linenum"> 474</span></a>  <span class="comment"> * @return object basiclti</span>
<a name="l475"><span class="linenum"> 475</span></a>  <span class="comment"> */</span>
<a name="l476"><span class="linenum"> 476</span></a>  function <a class="function" onClick="logFunction('lti_grade_item_delete')" href="../../_functions/lti_grade_item_delete.html" onMouseOver="funcPopup(event,'lti_grade_item_delete')">lti_grade_item_delete</a>(<a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>) {
<a name="l477"><span class="linenum"> 477</span></a>      global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l478"><span class="linenum"> 478</span></a>      require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>.'/gradelib.php');
<a name="l479"><span class="linenum"> 479</span></a>  
<a name="l480"><span class="linenum"> 480</span></a>      return <a class="function" onClick="logFunction('grade_update')" href="../../_functions/grade_update.html" onMouseOver="funcPopup(event,'grade_update')">grade_update</a>('mod/lti', <a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('course')" class="var it41985" onMouseOver="hilite(41985)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>, 'mod', 'lti', <a class="var it4905" onMouseOver="hilite(4905)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('id')" class="var it41985" onMouseOver="hilite(41985)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 0, null, array('deleted' =&gt; 1));
<a name="l481"><span class="linenum"> 481</span></a>  }
<a name="l482"><span class="linenum"> 482</span></a>  
<a name="l483"><span class="linenum"> 483</span></a>  function <a class="function" onClick="logFunction('lti_extend_settings_navigation')" href="../../_functions/lti_extend_settings_navigation.html" onMouseOver="funcPopup(event,'lti_extend_settings_navigation')">lti_extend_settings_navigation</a>(<a class="var it16" onMouseOver="hilite(16)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../../_variables/settings.html">$settings</a>, <a class="var it23895" onMouseOver="hilite(23895)" onMouseOut="lolite()" onClick="logVariable('parentnode')" href="../../_variables/parentnode.html">$parentnode</a>) {
<a name="l484"><span class="linenum"> 484</span></a>      global <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>;
<a name="l485"><span class="linenum"> 485</span></a>  
<a name="l486"><span class="linenum"> 486</span></a>      if (<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/lti:manage', <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('cm')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../../_variables/cm.html">cm</a>-&gt;id))) {
<a name="l487"><span class="linenum"> 487</span></a>          <a class="var it1933" onMouseOver="hilite(1933)" onMouseOut="lolite()" onClick="logVariable('keys')" href="../../_variables/keys.html">$keys</a> = <a class="var it23895" onMouseOver="hilite(23895)" onMouseOut="lolite()" onClick="logVariable('parentnode')" href="../../_variables/parentnode.html">$parentnode</a>-&gt;<a class="function" onClick="logFunction('get_children_key_list')" href="../../_functions/get_children_key_list.html" onMouseOver="funcPopup(event,'get_children_key_list')">get_children_key_list</a>();
<a name="l488"><span class="linenum"> 488</span></a>  
<a name="l489"><span class="linenum"> 489</span></a>          <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../_variables/node.html">$node</a> = <a class="class" onClick="logClass('navigation_node')" href="../../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('Submissions',
<a name="l490"><span class="linenum"> 490</span></a>              <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../mod/lti/grade.php.html">/mod/lti/grade.php</a>', array('id' =&gt; <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('cm')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../../_variables/cm.html">cm</a>-&gt;id)),
<a name="l491"><span class="linenum"> 491</span></a>              <a class="class" onClick="logClass('navigation_node')" href="../../_classes/navigation_node.html" onMouseOver="classPopup(event,'navigation_node')">navigation_node</a>::TYPE_SETTING, null, 'mod_lti_submissions');
<a name="l492"><span class="linenum"> 492</span></a>  
<a name="l493"><span class="linenum"> 493</span></a>          <a class="var it23895" onMouseOver="hilite(23895)" onMouseOut="lolite()" onClick="logVariable('parentnode')" href="../../_variables/parentnode.html">$parentnode</a>-&gt;<a class="function" onClick="logFunction('add_node')" href="../../_functions/add_node.html" onMouseOver="funcPopup(event,'add_node')">add_node</a>(<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('node')" href="../../_variables/node.html">$node</a>, <a class="var it1933" onMouseOver="hilite(1933)" onMouseOut="lolite()" onClick="logVariable('keys')" href="../../_variables/keys.html">$keys</a>[1]);
<a name="l494"><span class="linenum"> 494</span></a>      }
<a name="l495"><span class="linenum"> 495</span></a>  }
<a name="l496"><span class="linenum"> 496</span></a>  
<a name="l497"><span class="linenum"> 497</span></a>  <span class="comment">/**</span>
<a name="l498"><span class="linenum"> 498</span></a>  <span class="comment"> * Log post actions</span>
<a name="l499"><span class="linenum"> 499</span></a>  <span class="comment"> *</span>
<a name="l500"><span class="linenum"> 500</span></a>  <span class="comment"> * @return array</span>
<a name="l501"><span class="linenum"> 501</span></a>  <span class="comment"> */</span>
<a name="l502"><span class="linenum"> 502</span></a>  function <a class="function" onClick="logFunction('lti_get_post_actions')" href="../../_functions/lti_get_post_actions.html" onMouseOver="funcPopup(event,'lti_get_post_actions')">lti_get_post_actions</a>() {
<a name="l503"><span class="linenum"> 503</span></a>      return array();
<a name="l504"><span class="linenum"> 504</span></a>  }
<a name="l505"><span class="linenum"> 505</span></a>  
<a name="l506"><span class="linenum"> 506</span></a>  <span class="comment">/**</span>
<a name="l507"><span class="linenum"> 507</span></a>  <span class="comment"> * Log view actions</span>
<a name="l508"><span class="linenum"> 508</span></a>  <span class="comment"> *</span>
<a name="l509"><span class="linenum"> 509</span></a>  <span class="comment"> * @return array</span>
<a name="l510"><span class="linenum"> 510</span></a>  <span class="comment"> */</span>
<a name="l511"><span class="linenum"> 511</span></a>  function <a class="function" onClick="logFunction('lti_get_view_actions')" href="../../_functions/lti_get_view_actions.html" onMouseOver="funcPopup(event,'lti_get_view_actions')">lti_get_view_actions</a>() {
<a name="l512"><span class="linenum"> 512</span></a>      return array('view all', 'view');
<a name="l513"><span class="linenum"> 513</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'component_callback': ['component_callback', 'Invoke component\'s callback functions ', [['lib','moodlelib.php',7120]], 15],
'lti_user_outline': ['lti_user_outline', 'Return a small object with summary information about what a user has done with a given particular instance of this module Used for user activity reports. $return->time = the time they did it $return->info = a short text description ', [['mod/lti','lib.php',292]], 0],
'lti_request_is_using_ssl': ['lti_request_is_using_ssl', '', [['mod/lti','locallib.php',1756]], 2],
'lti_install': ['lti_install', 'Execute post-install custom actions for the module This function was added in 1.9 ', [['mod/lti','lib.php',403]], 0],
'lti_cron': ['lti_cron', 'Function to be run periodically according to the moodle cron This function searches for things that need to be done, such as sending out mail, toggling flags etc ... ', [['mod/lti','lib.php',330]], 0],
'lti_update_instance': ['lti_update_instance', 'Given an object containing all the necessary data, (defined by the form in mod.html) this function will update an existing instance with new data. ', [['mod/lti','lib.php',128]], 0],
'lti_delete_instance': ['lti_delete_instance', 'Given an ID of an instance of this module, this function will permanently delete the instance and any data that depends on it. ', [['mod/lti','lib.php',170]], 0],
'lti_force_type_config_settings': ['lti_force_type_config_settings', 'Enforce type config settings onto the LTI instance ', [['mod/lti','locallib.php',1853]], 2],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required. ', [['lib/dml','pgsql_native_moodle_database.php',883],['lib/dml','oci_native_moodle_database.php',1249],['lib/dml','sqlsrv_native_moodle_database.php',978],['lib/dml','mssql_native_moodle_database.php',898],['lib/dml','mysqli_native_moodle_database.php',1177],['lib/dml/tests','dml_test.php',5427],['lib/dml','pdo_moodle_database.php',386],['question/engine/upgrade','upgradelib.php',121]], 1512],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',884],['lib','accesslib.php',346]], 1929],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'get_records': ['get_records', 'Get a number of records as an array of objects where all the given conditions met. ', [['lib/dml','moodle_database.php',1236],['lib','coursecatlib.php',654],['question','category_class.php',63]], 860],
'lti_get_launch_container': ['lti_get_launch_container', '', [['mod/lti','locallib.php',1727]], 3],
'lti_grades': ['lti_grades', 'Must return an array of grades for a given instance of this module, indexed by user.  It also returns a maximum allowed grade. ', [['mod/lti','lib.php',342]], 0],
'lti_get_view_actions': ['lti_get_view_actions', 'Log view actions ', [['mod/lti','lib.php',506]], 0],
'lti_grade_item_delete': ['lti_grade_item_delete', 'Delete grade item for given basiclti ', [['mod/lti','lib.php',469]], 2],
'get_record': ['get_record', 'Get a single database record as an object where all the given conditions met. ', [['lib/dml','moodle_database.php',1413]], 2960],
'record_exists': ['record_exists', 'Test whether a record exists in a table where all the given conditions met. ', [['lib/dml','moodle_database.php',1768]], 735],
'lti_add_instance': ['lti_add_instance', 'Given an object containing all the necessary data, (defined by the form in mod.html) this function will create a new instance and return the id number of the new instance. ', [['mod/lti','lib.php',83]], 0],
'lti_scale_used': ['lti_scale_used', 'This function returns if a scale is being used by one basiclti it it has support for grading and scales. Commented code should be modified if necessary. See forum, glossary or journal modules as reference. ', [['mod/lti','lib.php',361]], 0],
'add_node': ['add_node', 'Add a node to the tree. ', [['user/classes/output/myprofile','tree.php',52],['user/classes/output/myprofile','category.php',83],['lib','navigationlib.php',321]], 95],
'grade_update': ['grade_update', 'Submit new or update grade; update/create grade_item definition. Grade must have userid specified, rawgrade and feedback with format are optional. rawgrade NULL means \'Not graded\'. Missing property or key means does not change the existing value. ', [['lib','gradelib.php',40]], 27],
'tag': ['tag', 'Outputs a tag with attributes and contents ', [['lib','outputcomponents.php',1063],['lib/zend/Zend/Service','Technorati.php',228]], 1254],
'lti_supports': ['lti_supports', 'List of features supported in URL module ', [['mod/lti','lib.php',60]], 0],
'lti_extend_settings_navigation': ['lti_extend_settings_navigation', '', [['mod/lti','lib.php',483]], 0],
'out': ['out', 'Returns the string ', [['lib','moodlelib.php',9451],['lib','weblib.php',547],['lib','tablelib.php',1526],['lib','csslib.php',1540],['lib','csslib.php',1698],['lib','csslib.php',2078],['lib','csslib.php',2162],['lib','csslib.php',2306],['lib','csslib.php',2495],['lib','csslib.php',3240],['report/loglive/classes','table_log_ajax.php',37]], 549],
'create': ['create', 'Creates a new 2048 bit RSA key pair and returns a unique ID that can be used to reference this key pair when launching new instances. ', [['lib/zend/Zend/Service/Amazon/Ec2','Keypair.php',39],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',271],['repository/filesystem','lib.php',283],['lib/zend/Zend/Service/Amazon/Ec2','Securitygroups.php',39],['lib/google/src/Google/Service','Gmail.php',670],['lib/google/src/Google/Service','Gmail.php',827],['course','lib.php',2874],['lib/classes/event','base.php',139],['lib/google/src/Google/Service','Genomics.php',618],['lib/google/src/Google/Service','Genomics.php',717],['lib/google/src/Google/Service','Genomics.php',850],['lib/google/src/Google/Service','Genomics.php',1313],['lib','modinfolib.php',1747],['calendar','lib.php',2651],['lib/zend/Zend/Service/Amazon','Sqs.php',82],['lib','weblib.php',3048],['mod/lesson','locallib.php',1013],['mod/lesson','locallib.php',2166],['mod/lesson','locallib.php',3203],['lib/google/src/Google/Service','Fitness.php',340],['lib/google/src/Google/Service','TagManager.php',1034],['lib/google/src/Google/Service','TagManager.php',1124],['lib/google/src/Google/Service','TagManager.php',1217],['lib/google/src/Google/Service','TagManager.php',1310],['lib/google/src/Google/Service','TagManager.php',1403],['lib/google/src/Google/Service','TagManager.php',1497],['lib/google/src/Google/Service','TagManager.php',1591],['lib/google/src/Google/Service','TagManager.php',1742],['lib/simplepie/library/SimplePie','Cache.php',95],['lib/htmlpurifier/HTMLPurifier','Config.php',114],['lib/htmlpurifier/HTMLPurifier','Lexer.php',53],['lib/google/src/Google/Service','Container.php',314],['lib/adodb','adodb-xmlschema03.inc.php',170],['lib/adodb','adodb-xmlschema03.inc.php',514],['lib/adodb','adodb-xmlschema03.inc.php',779],['lib/adodb','adodb-xmlschema03.inc.php',930],['lib/adodb','adodb-xmlschema03.inc.php',1228],['repository','lib.php',206],['repository','lib.php',1960],['mod/quiz','attemptlib.php',100],['mod/quiz','attemptlib.php',555],['lib/google/src/Google/Service','Games.php',1648],['lib/google/src/Google/Service','Games.php',2012],['lib/google/src/Google/Service','MapsEngine.php',1676],['lib/google/src/Google/Service','MapsEngine.php',1976],['lib/google/src/Google/Service','MapsEngine.php',2252],['lib/google/src/Google/Service','MapsEngine.php',2329],['lib/google/src/Google/Service','MapsEngine.php',2897],['lib/adodb','adodb-xmlschema.inc.php',152],['lib/adodb','adodb-xmlschema.inc.php',473],['lib/adodb','adodb-xmlschema.inc.php',738],['lib/adodb','adodb-xmlschema.inc.php',884],['lib/adodb','adodb-xmlschema.inc.php',1129],['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',65],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',81],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',58],['lib/google/src/Google/Service','Pubsub.php',219],['lib/google/src/Google/Service','Pubsub.php',364],['lib/htmlpurifier/HTMLPurifier','ElementDef.php',135],['lib/simplepie/library/SimplePie','Registry.php',153],['lib','navigationlib.php',266],['lib/google/src/Google/Service','Dns.php',282],['lib/google/src/Google/Service','Dns.php',355],['lib','coursecatlib.php',328],['mod/quiz/classes','structure.php',65]], 3074],
'lti_scale_used_anywhere': ['lti_scale_used_anywhere', 'Checks if scale is being used by any instance of basiclti. This function was added in 1.9 ', [['mod/lti','lib.php',384]], 0],
'get_children_key_list': ['get_children_key_list', 'Return a list of all the keys of all the child nodes. ', [['lib','navigationlib.php',359]], 4],
'lti_grade_item_update': ['lti_grade_item_update', 'Create grade item for given basiclti ', [['mod/lti','lib.php',434]], 2],
'instance': ['instance', 'Retrieve sole instance of the registry. ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29],['lib/classes','useragent.php',101],['backup/cc','validator.php',35],['lib/portfolio','exporter.php',251],['lib/tests','update_deployer_test.php',69],['lib/tests','string_manager_standard_test.php',124],['lib','modinfolib.php',373],['','mdeploy.php',96],['cache','disabledlib.php',171],['cache','disabledlib.php',296],['admin/tool/installaddon/classes','validator.php',85],['cache/classes','config.php',87],['course/format','lib.php',156],['lib','accesslib.php',6184],['lib','accesslib.php',6436],['lib','accesslib.php',6614],['lib','accesslib.php',6868],['lib','accesslib.php',7129],['lib','accesslib.php',7341],['cache','locallib.php',52],['lib/htmlpurifier','HTMLPurifier.php',251],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['cache/classes','helper.php',76],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['lib/classes','plugin_manager.php',83],['lib','filterlib.php',81],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/classes/update','deployer.php',54],['admin/tool/installaddon/classes','pluginfo_client.php',37],['admin/tool/installaddon/classes','installer.php',40],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443]], 3942],
'lti_user_complete': ['lti_user_complete', 'Print a detailed representation of what a user has done with a given particular instance of this module, for user activity reports. ', [['mod/lti','lib.php',306]], 0],
'open': ['open', '', [['lib/editor/tinymce/tiny_mce/3.5.11/plugins/searchreplace','editor_plugin_src.js',14],['lib','webdavlib.php',156],['lib/tcpdf','tcpdf.php',2931],['lib/pear/Net','GeoIP.php',400],['lib/pear/Auth','RADIUS.php',251],['lib/pear/Auth','RADIUS.php',586],['lib/pear/Auth','RADIUS.php',893],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',64],['auth/fc','fcFPP.php',42],['lib/filestorage','zip_archive.php',73],['auth/cas/CAS/CAS/ProxiedService','Imap.php',179],['lib/google/src/Google/Logger','File.php',94],['lib/zend/Zend/Service/WindowsAzure','SessionHandler.php',92]], 254],
'lti_get_lti_types': ['lti_get_lti_types', 'Returns available Basic LTI types ', [['mod/lti','lib.php',423]], 0],
'format_module_intro': ['format_module_intro', 'Formats activity intro text ', [['lib','weblib.php',1473]], 57],
'lti_get_post_actions': ['lti_get_post_actions', 'Log post actions ', [['mod/lti','lib.php',497]], 0],
'lti_print_recent_activity': ['lti_print_recent_activity', 'Given a course and a time, this module should find recent activity that has occurred in basiclti activities and print it out. Return true if there was output, or false is there was none. ', [['mod/lti','lib.php',317]], 0],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pgsql_native_moodle_database.php',1137],['lib/dml','oci_native_moodle_database.php',1355],['lib/dml','sqlsrv_native_moodle_database.php',1081],['lib/dml','mssql_native_moodle_database.php',1003],['lib/dml','mysqli_native_moodle_database.php',1397],['lib/dml/tests','dml_test.php',5430],['lib/dml','pdo_moodle_database.php',460]], 565],
'get_plugin_list': ['get_plugin_list', 'Get list of plugins of given type. ', [['lib/classes','component.php',781],['lib','deprecatedlib.php',467],['admin/tool/monitor/classes','eventlist.php',176]], 184],
'doc_link': ['doc_link', 'Returns document link for performance issue ', [['report/performance','locallib.php',94],['lib','outputrenderers.php',2050]], 18],
'lti_get_types': ['lti_get_types', '', [['mod/lti','lib.php',197]], 0],
'lti_get_type_config_by_instance': ['lti_get_type_config_by_instance', 'Fetches LTI type configuration for an LTI instance ', [['mod/lti','locallib.php',1831]], 2],
'lti_get_type_config': ['lti_get_type_config', 'Returns configuration details for the tool ', [['mod/lti','locallib.php',902]], 7],
'lti_get_extra_capabilities': ['lti_get_extra_capabilities', 'Returns all other caps used in module. ', [['mod/lti','lib.php',51]], 0],
'lti_get_coursemodule_info': ['lti_get_coursemodule_info', 'Given a coursemodule object, this function returns the extra information needed to print this activity in various places. For this module we just need to support external urls as activity icons ', [['mod/lti','lib.php',241]], 0],
'lti_uninstall': ['lti_uninstall', 'Execute post-uninstall custom actions for the module This function was added in 1.9 ', [['mod/lti','lib.php',413]], 0],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','moodle_database.php',1815],['lib/dml','sqlite3_pdo_moodle_database.php',337]], 778],
'lti_get_tool_by_url_match': ['lti_get_tool_by_url_match', '', [['mod/lti','locallib.php',1035]], 6],
'time': ['time', '', [], 1768],
'uniqid': ['uniqid', '', [], 74],
'array_merge': ['array_merge', '', [], 2320],
'defined': ['defined', '', [], 4098]};
CLASS_DATA={
'cached_cm_info': ['cached_cm_info', 'Class that is the return value for the _get_coursemodule_info module API function. ', [['lib','modinfolib.php',2289]], 7],
'navigation_node': ['navigation_node', 'This class is used to represent a node in a navigation tree ', [['lib','navigationlib.php',34]], 338],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',240]], 2887],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',6988]], 942],
'html_writer': ['html_writer', 'Simple html output class ', [['lib','outputcomponents.php',1052]], 4832]};
CONST_DATA={
'MOD_CLASS_ACTIVITY': ['MOD_CLASS_ACTIVITY', '', [['course','lib.php',55]], 9],
'FEATURE_MOD_INTRO': ['FEATURE_MOD_INTRO', '', [['lib','moodlelib.php',426]], 31],
'MOD_SUBTYPE_NO_CHILDREN': ['MOD_SUBTYPE_NO_CHILDREN', '', [['lib','moodlelib.php',452]], 5],
'FEATURE_GRADE_HAS_GRADE': ['FEATURE_GRADE_HAS_GRADE', '', [['lib','moodlelib.php',394]], 29],
'LTI_LAUNCH_CONTAINER_WINDOW': ['LTI_LAUNCH_CONTAINER_WINDOW', '', [['mod/lti','locallib.php',61]], 7],
'FEATURE_SHOW_DESCRIPTION': ['FEATURE_SHOW_DESCRIPTION', '', [['lib','moodlelib.php',437]], 22],
'FEATURE_GRADE_OUTCOMES': ['FEATURE_GRADE_OUTCOMES', '', [['lib','moodlelib.php',396]], 23],
'LTI_SETTING_ALWAYS': ['LTI_SETTING_ALWAYS', '', [['mod/lti','locallib.php',76]], 14],
'GRADE_TYPE_SCALE': ['GRADE_TYPE_SCALE', '', [['lib/grade','constants.php',90]], 63],
'FEATURE_BACKUP_MOODLE2': ['FEATURE_BACKUP_MOODLE2', '', [['lib','moodlelib.php',434]], 34],
'FEATURE_COMPLETION_TRACKS_VIEWS': ['FEATURE_COMPLETION_TRACKS_VIEWS', '', [['lib','moodlelib.php',405]], 23],
'FEATURE_GROUPS': ['FEATURE_GROUPS', '', [['lib','moodlelib.php',414]], 25],
'GRADE_TYPE_VALUE': ['GRADE_TYPE_VALUE', '', [['lib/grade','constants.php',85]], 71],
'GRADE_TYPE_TEXT': ['GRADE_TYPE_TEXT', '', [['lib/grade','constants.php',95]], 25],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532],
'FEATURE_GROUPINGS': ['FEATURE_GROUPINGS', '', [['lib','moodlelib.php',416]], 23]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
