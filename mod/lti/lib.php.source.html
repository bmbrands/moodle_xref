<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/lti/lib.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='mod/lti';
filename='lib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/lti/</a> -> <a href="lib.php.html">lib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="lib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="lib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment">//</span>
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">// This file is part of BasicLTI4Moodle</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment">//</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment">// BasicLTI4Moodle is an IMS BasicLTI (Basic Learning Tools for Interoperability)</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment">// consumer for Moodle 1.9 and Moodle 2.0. BasicLTI is a IMS Standard that allows web</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment">// based learning tools to be easily integrated in LMS as native ones. The IMS BasicLTI</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment">// specification is part of the IMS standard Common Cartridge 1.1 Sakai and other main LMS</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment">// are already supporting or going to support BasicLTI. This project Implements the consumer</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment">// for Moodle. Moodle is a Free Open source Learning Management System by Martin Dougiamas.</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment">// BasicLTI4Moodle is a project iniciated and leaded by Ludo(Marc Alier) and Jordi Piguillem</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment">// at the GESSI research group at UPC.</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment">// SimpleLTI consumer for Moodle is an implementation of the early specification of LTI</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">// by Charles Severance (Dr Chuck) htp://dr-chuck.com , developed by Jordi Piguillem in a</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment">// Google Summer of Code 2008 project co-mentored by Charles Severance and Marc Alier.</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">//</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">// BasicLTI4Moodle is copyright 2009 by Marc Alier Forment, Jordi Piguillem and Nikolas Galanis</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">// of the Universitat Politecnica de Catalunya http://www.upc.edu</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">// Contact info: Marc Alier Forment granludo @ gmail.com or marc.alier @ upc.edu.</span>
<a name="l34"><span class="linenum">  34</span></a>  
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment">/**</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * This file contains a library of functions and constants for the lti module</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> *</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * @package mod_lti</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> * @copyright  2009 Marc Alier, Jordi Piguillem, Nikolas Galanis</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> *  marc.alier@upc.edu</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> * @copyright  2009 Universitat Politecnica de Catalunya http://www.upc.edu</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment"> * @author     Marc Alier</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment"> * @author     Jordi Piguillem</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment"> * @author     Nikolas Galanis</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment"> * @author     Chris Scribner</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment"> */</span>
<a name="l48"><span class="linenum">  48</span></a>  
<a name="l49"><span class="linenum">  49</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die;
<a name="l50"><span class="linenum">  50</span></a>  
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">/**</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment"> * Returns all other caps used in module.</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment"> *</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment"> * @return array</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment"> */</span>
<a name="l56"><span class="linenum">  56</span></a>  function <a class="function" onClick="logFunction('lti_get_extra_capabilities')" href="../../_functions/lti_get_extra_capabilities.html" onMouseOver="funcPopup(event,'lti_get_extra_capabilities')">lti_get_extra_capabilities</a>() {
<a name="l57"><span class="linenum">  57</span></a>      return array('moodle/site:accessallgroups');
<a name="l58"><span class="linenum">  58</span></a>  }
<a name="l59"><span class="linenum">  59</span></a>  
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">/**</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment"> * List of features supported in URL module</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment"> * @param string $feature FEATURE_xx constant for requested feature</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment"> * @return mixed True if module supports feature, false if not, null if doesn't know</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment"> */</span>
<a name="l65"><span class="linenum">  65</span></a>  function <a class="function" onClick="logFunction('lti_supports')" href="../../_functions/lti_supports.html" onMouseOver="funcPopup(event,'lti_supports')">lti_supports</a>(<a class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" onClick="logVariable('feature')" href="../../_variables/feature.html">$feature</a>) {
<a name="l66"><span class="linenum">  66</span></a>      switch (<a class="var it2267" onMouseOver="hilite(2267)" onMouseOut="lolite()" onClick="logVariable('feature')" href="../../_variables/feature.html">$feature</a>) {
<a name="l67"><span class="linenum">  67</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GROUPS')" href="../../_constants/FEATURE_GROUPS.html" onMouseOver="constPopup(event,'FEATURE_GROUPS')">FEATURE_GROUPS</a>:
<a name="l68"><span class="linenum">  68</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GROUPINGS')" href="../../_constants/FEATURE_GROUPINGS.html" onMouseOver="constPopup(event,'FEATURE_GROUPINGS')">FEATURE_GROUPINGS</a>:
<a name="l69"><span class="linenum">  69</span></a>              return false;
<a name="l70"><span class="linenum">  70</span></a>          case <a class="constant" onClick="logConstant('FEATURE_MOD_INTRO')" href="../../_constants/FEATURE_MOD_INTRO.html" onMouseOver="constPopup(event,'FEATURE_MOD_INTRO')">FEATURE_MOD_INTRO</a>:
<a name="l71"><span class="linenum">  71</span></a>          case <a class="constant" onClick="logConstant('FEATURE_COMPLETION_TRACKS_VIEWS')" href="../../_constants/FEATURE_COMPLETION_TRACKS_VIEWS.html" onMouseOver="constPopup(event,'FEATURE_COMPLETION_TRACKS_VIEWS')">FEATURE_COMPLETION_TRACKS_VIEWS</a>:
<a name="l72"><span class="linenum">  72</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GRADE_HAS_GRADE')" href="../../_constants/FEATURE_GRADE_HAS_GRADE.html" onMouseOver="constPopup(event,'FEATURE_GRADE_HAS_GRADE')">FEATURE_GRADE_HAS_GRADE</a>:
<a name="l73"><span class="linenum">  73</span></a>          case <a class="constant" onClick="logConstant('FEATURE_GRADE_OUTCOMES')" href="../../_constants/FEATURE_GRADE_OUTCOMES.html" onMouseOver="constPopup(event,'FEATURE_GRADE_OUTCOMES')">FEATURE_GRADE_OUTCOMES</a>:
<a name="l74"><span class="linenum">  74</span></a>          case <a class="constant" onClick="logConstant('FEATURE_BACKUP_MOODLE2')" href="../../_constants/FEATURE_BACKUP_MOODLE2.html" onMouseOver="constPopup(event,'FEATURE_BACKUP_MOODLE2')">FEATURE_BACKUP_MOODLE2</a>:
<a name="l75"><span class="linenum">  75</span></a>          case <a class="constant" onClick="logConstant('FEATURE_SHOW_DESCRIPTION')" href="../../_constants/FEATURE_SHOW_DESCRIPTION.html" onMouseOver="constPopup(event,'FEATURE_SHOW_DESCRIPTION')">FEATURE_SHOW_DESCRIPTION</a>:
<a name="l76"><span class="linenum">  76</span></a>              return true;
<a name="l77"><span class="linenum">  77</span></a>  
<a name="l78"><span class="linenum">  78</span></a>          default:
<a name="l79"><span class="linenum">  79</span></a>              return null;
<a name="l80"><span class="linenum">  80</span></a>      }
<a name="l81"><span class="linenum">  81</span></a>  }
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">/**</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment"> * Given an object containing all the necessary data,</span>
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment"> * (defined by the form in mod.html) this function</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment"> * will create a new instance and return the id number</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment"> * of the new instance.</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment"> *</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment"> * @param object $instance An object from the form in mod.html</span>
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment"> * @return int The id of the newly inserted basiclti record</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment"> **/</span>
<a name="l92"><span class="linenum">  92</span></a>  function <a class="function" onClick="logFunction('lti_add_instance')" href="../../_functions/lti_add_instance.html" onMouseOver="funcPopup(event,'lti_add_instance')">lti_add_instance</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>, <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>) {
<a name="l93"><span class="linenum">  93</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l94"><span class="linenum">  94</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../../mod/lti/locallib.php.html">/mod/lti/locallib.php</a>');
<a name="l95"><span class="linenum">  95</span></a>  
<a name="l96"><span class="linenum">  96</span></a>      if (!isset(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('toolurl')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/toolurl.html">toolurl</a>)) {
<a name="l97"><span class="linenum">  97</span></a>          <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('toolurl')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/toolurl.html">toolurl</a> = '';
<a name="l98"><span class="linenum">  98</span></a>      }
<a name="l99"><span class="linenum">  99</span></a>  
<a name="l100"><span class="linenum"> 100</span></a>      <a class="function" onClick="logFunction('lti_load_tool_if_cartridge')" href="../../_functions/lti_load_tool_if_cartridge.html" onMouseOver="funcPopup(event,'lti_load_tool_if_cartridge')">lti_load_tool_if_cartridge</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>);
<a name="l101"><span class="linenum"> 101</span></a>  
<a name="l102"><span class="linenum"> 102</span></a>      <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('timecreated')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/timecreated.html">timecreated</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l103"><span class="linenum"> 103</span></a>      <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('timemodified')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('timecreated')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/timecreated.html">timecreated</a>;
<a name="l104"><span class="linenum"> 104</span></a>      <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('servicesalt')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/servicesalt.html">servicesalt</a> = <a class="phpfunction" onClick="logFunction('uniqid')" href="../../_functions/uniqid.html" onMouseOver="phpfuncPopup(event,'uniqid')">uniqid</a>('', true);
<a name="l105"><span class="linenum"> 105</span></a>  
<a name="l106"><span class="linenum"> 106</span></a>      <a class="function" onClick="logFunction('lti_force_type_config_settings')" href="../../_functions/lti_force_type_config_settings.html" onMouseOver="funcPopup(event,'lti_force_type_config_settings')">lti_force_type_config_settings</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>, <a class="function" onClick="logFunction('lti_get_type_config_by_instance')" href="../../_functions/lti_get_type_config_by_instance.html" onMouseOver="funcPopup(event,'lti_get_type_config_by_instance')">lti_get_type_config_by_instance</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>));
<a name="l107"><span class="linenum"> 107</span></a>  
<a name="l108"><span class="linenum"> 108</span></a>      if (empty(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('typeid')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/typeid.html">typeid</a>) &amp;&amp; isset(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('urlmatchedtypeid')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/urlmatchedtypeid.html">urlmatchedtypeid</a>)) {
<a name="l109"><span class="linenum"> 109</span></a>          <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('typeid')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/typeid.html">typeid</a> = <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('urlmatchedtypeid')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/urlmatchedtypeid.html">urlmatchedtypeid</a>;
<a name="l110"><span class="linenum"> 110</span></a>      }
<a name="l111"><span class="linenum"> 111</span></a>  
<a name="l112"><span class="linenum"> 112</span></a>      if (!isset(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('instructorchoiceacceptgrades')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/instructorchoiceacceptgrades.html">instructorchoiceacceptgrades</a>) || <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('instructorchoiceacceptgrades')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/instructorchoiceacceptgrades.html">instructorchoiceacceptgrades</a> != <a class="constant" onClick="logConstant('LTI_SETTING_ALWAYS')" href="../../_constants/LTI_SETTING_ALWAYS.html" onMouseOver="constPopup(event,'LTI_SETTING_ALWAYS')">LTI_SETTING_ALWAYS</a>) {
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">        // The instance does not accept grades back from the provider, so set to &quot;No grade&quot; value 0.</span>
<a name="l114"><span class="linenum"> 114</span></a>          <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('grade')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> = 0;
<a name="l115"><span class="linenum"> 115</span></a>      }
<a name="l116"><span class="linenum"> 116</span></a>  
<a name="l117"><span class="linenum"> 117</span></a>      <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('id')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('lti', <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>);
<a name="l118"><span class="linenum"> 118</span></a>  
<a name="l119"><span class="linenum"> 119</span></a>      if (isset(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('instructorchoiceacceptgrades')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/instructorchoiceacceptgrades.html">instructorchoiceacceptgrades</a>) &amp;&amp; <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('instructorchoiceacceptgrades')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/instructorchoiceacceptgrades.html">instructorchoiceacceptgrades</a> == <a class="constant" onClick="logConstant('LTI_SETTING_ALWAYS')" href="../../_constants/LTI_SETTING_ALWAYS.html" onMouseOver="constPopup(event,'LTI_SETTING_ALWAYS')">LTI_SETTING_ALWAYS</a>) {
<a name="l120"><span class="linenum"> 120</span></a>          if (!isset(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('cmidnumber')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/cmidnumber.html">cmidnumber</a>)) {
<a name="l121"><span class="linenum"> 121</span></a>              <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('cmidnumber')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/cmidnumber.html">cmidnumber</a> = '';
<a name="l122"><span class="linenum"> 122</span></a>          }
<a name="l123"><span class="linenum"> 123</span></a>  
<a name="l124"><span class="linenum"> 124</span></a>          <a class="function" onClick="logFunction('lti_grade_item_update')" href="../../_functions/lti_grade_item_update.html" onMouseOver="funcPopup(event,'lti_grade_item_update')">lti_grade_item_update</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>);
<a name="l125"><span class="linenum"> 125</span></a>      }
<a name="l126"><span class="linenum"> 126</span></a>  
<a name="l127"><span class="linenum"> 127</span></a>      return <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('id')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l128"><span class="linenum"> 128</span></a>  }
<a name="l129"><span class="linenum"> 129</span></a>  
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment">/**</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment"> * Given an object containing all the necessary data,</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment"> * (defined by the form in mod.html) this function</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment"> * will update an existing instance with new data.</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment"> *</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment"> * @param object $instance An object from the form in mod.html</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment"> * @return boolean Success/Fail</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment"> **/</span>
<a name="l138"><span class="linenum"> 138</span></a>  function <a class="function" onClick="logFunction('lti_update_instance')" href="../../_functions/lti_update_instance.html" onMouseOver="funcPopup(event,'lti_update_instance')">lti_update_instance</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>, <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>) {
<a name="l139"><span class="linenum"> 139</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l140"><span class="linenum"> 140</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../../mod/lti/locallib.php.html">/mod/lti/locallib.php</a>');
<a name="l141"><span class="linenum"> 141</span></a>  
<a name="l142"><span class="linenum"> 142</span></a>      <a class="function" onClick="logFunction('lti_load_tool_if_cartridge')" href="../../_functions/lti_load_tool_if_cartridge.html" onMouseOver="funcPopup(event,'lti_load_tool_if_cartridge')">lti_load_tool_if_cartridge</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>);
<a name="l143"><span class="linenum"> 143</span></a>  
<a name="l144"><span class="linenum"> 144</span></a>      <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('timemodified')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l145"><span class="linenum"> 145</span></a>      <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('id')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('instance')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>;
<a name="l146"><span class="linenum"> 146</span></a>  
<a name="l147"><span class="linenum"> 147</span></a>      if (!isset(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('showtitlelaunch')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/showtitlelaunch.html">showtitlelaunch</a>)) {
<a name="l148"><span class="linenum"> 148</span></a>          <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('showtitlelaunch')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/showtitlelaunch.html">showtitlelaunch</a> = 0;
<a name="l149"><span class="linenum"> 149</span></a>      }
<a name="l150"><span class="linenum"> 150</span></a>  
<a name="l151"><span class="linenum"> 151</span></a>      if (!isset(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('showdescriptionlaunch')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/showdescriptionlaunch.html">showdescriptionlaunch</a>)) {
<a name="l152"><span class="linenum"> 152</span></a>          <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('showdescriptionlaunch')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/showdescriptionlaunch.html">showdescriptionlaunch</a> = 0;
<a name="l153"><span class="linenum"> 153</span></a>      }
<a name="l154"><span class="linenum"> 154</span></a>  
<a name="l155"><span class="linenum"> 155</span></a>      <a class="function" onClick="logFunction('lti_force_type_config_settings')" href="../../_functions/lti_force_type_config_settings.html" onMouseOver="funcPopup(event,'lti_force_type_config_settings')">lti_force_type_config_settings</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>, <a class="function" onClick="logFunction('lti_get_type_config_by_instance')" href="../../_functions/lti_get_type_config_by_instance.html" onMouseOver="funcPopup(event,'lti_get_type_config_by_instance')">lti_get_type_config_by_instance</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>));
<a name="l156"><span class="linenum"> 156</span></a>  
<a name="l157"><span class="linenum"> 157</span></a>      if (isset(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('instructorchoiceacceptgrades')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/instructorchoiceacceptgrades.html">instructorchoiceacceptgrades</a>) &amp;&amp; <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('instructorchoiceacceptgrades')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/instructorchoiceacceptgrades.html">instructorchoiceacceptgrades</a> == <a class="constant" onClick="logConstant('LTI_SETTING_ALWAYS')" href="../../_constants/LTI_SETTING_ALWAYS.html" onMouseOver="constPopup(event,'LTI_SETTING_ALWAYS')">LTI_SETTING_ALWAYS</a>) {
<a name="l158"><span class="linenum"> 158</span></a>          <a class="function" onClick="logFunction('lti_grade_item_update')" href="../../_functions/lti_grade_item_update.html" onMouseOver="funcPopup(event,'lti_grade_item_update')">lti_grade_item_update</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>);
<a name="l159"><span class="linenum"> 159</span></a>      } else {
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">        // Instance is no longer accepting grades from Provider, set grade to &quot;No grade&quot; value 0.</span>
<a name="l161"><span class="linenum"> 161</span></a>          <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('grade')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> = 0;
<a name="l162"><span class="linenum"> 162</span></a>          <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('instructorchoiceacceptgrades')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/instructorchoiceacceptgrades.html">instructorchoiceacceptgrades</a> = 0;
<a name="l163"><span class="linenum"> 163</span></a>  
<a name="l164"><span class="linenum"> 164</span></a>          <a class="function" onClick="logFunction('lti_grade_item_delete')" href="../../_functions/lti_grade_item_delete.html" onMouseOver="funcPopup(event,'lti_grade_item_delete')">lti_grade_item_delete</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>);
<a name="l165"><span class="linenum"> 165</span></a>      }
<a name="l166"><span class="linenum"> 166</span></a>  
<a name="l167"><span class="linenum"> 167</span></a>      if (<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('typeid')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/typeid.html">typeid</a> == 0 &amp;&amp; isset(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('urlmatchedtypeid')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/urlmatchedtypeid.html">urlmatchedtypeid</a>)) {
<a name="l168"><span class="linenum"> 168</span></a>          <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('typeid')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/typeid.html">typeid</a> = <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('urlmatchedtypeid')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/urlmatchedtypeid.html">urlmatchedtypeid</a>;
<a name="l169"><span class="linenum"> 169</span></a>      }
<a name="l170"><span class="linenum"> 170</span></a>  
<a name="l171"><span class="linenum"> 171</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('lti', <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>);
<a name="l172"><span class="linenum"> 172</span></a>  }
<a name="l173"><span class="linenum"> 173</span></a>  
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">/**</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment"> * Given an ID of an instance of this module,</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment"> * this function will permanently delete the instance</span>
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment"> * and any data that depends on it.</span>
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment"> *</span>
<a name="l179"><span class="linenum"> 179</span></a>  <span class="comment"> * @param int $id Id of the module instance</span>
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment"> * @return boolean Success/Failure</span>
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment"> **/</span>
<a name="l182"><span class="linenum"> 182</span></a>  function <a class="function" onClick="logFunction('lti_delete_instance')" href="../../_functions/lti_delete_instance.html" onMouseOver="funcPopup(event,'lti_delete_instance')">lti_delete_instance</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>) {
<a name="l183"><span class="linenum"> 183</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l184"><span class="linenum"> 184</span></a>  
<a name="l185"><span class="linenum"> 185</span></a>      if (! <a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>(&quot;lti&quot;, array(&quot;id&quot; =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>))) {
<a name="l186"><span class="linenum"> 186</span></a>          return false;
<a name="l187"><span class="linenum"> 187</span></a>      }
<a name="l188"><span class="linenum"> 188</span></a>  
<a name="l189"><span class="linenum"> 189</span></a>      <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../_variables/result.html">$result</a> = true;
<a name="l190"><span class="linenum"> 190</span></a>  
<a name="l191"><span class="linenum"> 191</span></a>  <span class="comment">    // Delete any dependent records here.</span>
<a name="l192"><span class="linenum"> 192</span></a>      <a class="function" onClick="logFunction('lti_grade_item_delete')" href="../../_functions/lti_grade_item_delete.html" onMouseOver="funcPopup(event,'lti_grade_item_delete')">lti_grade_item_delete</a>(<a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>);
<a name="l193"><span class="linenum"> 193</span></a>  
<a name="l194"><span class="linenum"> 194</span></a>      <a class="var it23743" onMouseOver="hilite(23743)" onMouseOut="lolite()" onClick="logVariable('ltitype')" href="../../_variables/ltitype.html">$ltitype</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('lti_types', array('id' =&gt; <a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('typeid')" class="var it45509" onMouseOver="hilite(45509)" onMouseOut="lolite()" href="../../_variables/typeid.html">typeid</a>));
<a name="l195"><span class="linenum"> 195</span></a>      if (<a class="var it23743" onMouseOver="hilite(23743)" onMouseOut="lolite()" onClick="logVariable('ltitype')" href="../../_variables/ltitype.html">$ltitype</a>) {
<a name="l196"><span class="linenum"> 196</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('lti_tool_settings',
<a name="l197"><span class="linenum"> 197</span></a>              array('toolproxyid' =&gt; <a class="var it23743" onMouseOver="hilite(23743)" onMouseOut="lolite()" onClick="logVariable('ltitype')" href="../../_variables/ltitype.html">$ltitype</a>-&gt;<a onClick="logVariable('toolproxyid')" class="var it45440" onMouseOver="hilite(45440)" onMouseOut="lolite()" href="../../_variables/toolproxyid.html">toolproxyid</a>, 'course' =&gt; <a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('course')" class="var it45509" onMouseOver="hilite(45509)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>, 'coursemoduleid' =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>));
<a name="l198"><span class="linenum"> 198</span></a>      }
<a name="l199"><span class="linenum"> 199</span></a>  
<a name="l200"><span class="linenum"> 200</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>(&quot;lti&quot;, array(&quot;id&quot; =&gt; <a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('id')" class="var it45509" onMouseOver="hilite(45509)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l201"><span class="linenum"> 201</span></a>  }
<a name="l202"><span class="linenum"> 202</span></a>  
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment">/**</span>
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment"> * Return aliases of this activity. LTI should have an alias for each configured tool type</span>
<a name="l205"><span class="linenum"> 205</span></a>  <span class="comment"> * This is so you can add an external tool types directly to the activity chooser</span>
<a name="l206"><span class="linenum"> 206</span></a>  <span class="comment"> *</span>
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment"> * @param stdClass $defaultitem default item that would be added to the activity chooser if this callback was not present.</span>
<a name="l208"><span class="linenum"> 208</span></a>  <span class="comment"> *     It has properties: archetype, name, title, help, icon, link</span>
<a name="l209"><span class="linenum"> 209</span></a>  <span class="comment"> * @return array An array of aliases for this activity. Each element is an object with same list of properties as $defaultitem,</span>
<a name="l210"><span class="linenum"> 210</span></a>  <span class="comment"> *     plus an additional property, helplink.</span>
<a name="l211"><span class="linenum"> 211</span></a>  <span class="comment"> *     Properties title and link are required</span>
<a name="l212"><span class="linenum"> 212</span></a>  <span class="comment"> **/</span>
<a name="l213"><span class="linenum"> 213</span></a>  function <a class="function" onClick="logFunction('lti_get_shortcuts')" href="../../_functions/lti_get_shortcuts.html" onMouseOver="funcPopup(event,'lti_get_shortcuts')">lti_get_shortcuts</a>(<a class="var it23744" onMouseOver="hilite(23744)" onMouseOut="lolite()" onClick="logVariable('defaultitem')" href="../../_variables/defaultitem.html">$defaultitem</a>) {
<a name="l214"><span class="linenum"> 214</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>, <a class="var it586" onMouseOver="hilite(586)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../../_variables/COURSE.html">$COURSE</a>;
<a name="l215"><span class="linenum"> 215</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../../mod/lti/locallib.php.html">/mod/lti/locallib.php</a>');
<a name="l216"><span class="linenum"> 216</span></a>  
<a name="l217"><span class="linenum"> 217</span></a>      <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../_variables/types.html">$types</a> = <a class="function" onClick="logFunction('lti_get_configured_types')" href="../../_functions/lti_get_configured_types.html" onMouseOver="funcPopup(event,'lti_get_configured_types')">lti_get_configured_types</a>(<a class="var it586" onMouseOver="hilite(586)" onMouseOut="lolite()" onClick="logVariable('COURSE')" href="../../_variables/COURSE.html">$COURSE</a>-&gt;<a onClick="logVariable('id')" class="var it43316" onMouseOver="hilite(43316)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it23744" onMouseOver="hilite(23744)" onMouseOut="lolite()" onClick="logVariable('defaultitem')" href="../../_variables/defaultitem.html">$defaultitem</a>-&gt;<a onClick="logVariable('link')" class="var it45510" onMouseOver="hilite(45510)" onMouseOut="lolite()" href="../../_variables/link.html">link</a>-&gt;<a class="function" onClick="logFunction('param')" href="../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('sr'));
<a name="l218"><span class="linenum"> 218</span></a>      <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../_variables/types.html">$types</a>[] = <a class="var it23744" onMouseOver="hilite(23744)" onMouseOut="lolite()" onClick="logVariable('defaultitem')" href="../../_variables/defaultitem.html">$defaultitem</a>;
<a name="l219"><span class="linenum"> 219</span></a>  
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">    // Add items defined in ltisource plugins.</span>
<a name="l221"><span class="linenum"> 221</span></a>      foreach (<a class="class" onClick="logClass('core_component')" href="../../_classes/core_component.html" onMouseOver="classPopup(event,'core_component')">core_component</a>::<a class="function" onClick="logFunction('get_plugin_list')" href="../../_functions/get_plugin_list.html" onMouseOver="funcPopup(event,'get_plugin_list')">get_plugin_list</a>('ltisource') as <a class="var it2767" onMouseOver="hilite(2767)" onMouseOut="lolite()" onClick="logVariable('pluginname')" href="../../_variables/pluginname.html">$pluginname</a> =&gt; <a class="var it1519" onMouseOver="hilite(1519)" onMouseOut="lolite()" onClick="logVariable('dir')" href="../../_variables/dir.html">$dir</a>) {
<a name="l222"><span class="linenum"> 222</span></a>          if (<a class="var it23745" onMouseOver="hilite(23745)" onMouseOut="lolite()" onClick="logVariable('moretypes')" href="../../_variables/moretypes.html">$moretypes</a> = <a class="function" onClick="logFunction('component_callback')" href="../../_functions/component_callback.html" onMouseOver="funcPopup(event,'component_callback')">component_callback</a>(&quot;ltisource_<a class="var it2767" onMouseOver="hilite(2767)" onMouseOut="lolite()" onClick="logVariable('pluginname')" href="../../_variables/pluginname.html">$pluginname</a>&quot;, 'get_types')) {
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">            // Callback 'get_types()' in 'ltisource' plugins is deprecated in 3.1 and will be removed in 3.5, TODO MDL-53697.</span>
<a name="l224"><span class="linenum"> 224</span></a>              <a class="function" onClick="logFunction('debugging')" href="../../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>('Deprecated callback <a class="function" onClick="logFunction('get_types')" href="../../_functions/get_types.html" onMouseOver="funcPopup(event,'get_types')">get_types</a>() is found in ltisource_' . <a class="var it2767" onMouseOver="hilite(2767)" onMouseOut="lolite()" onClick="logVariable('pluginname')" href="../../_variables/pluginname.html">$pluginname</a> .
<a name="l225"><span class="linenum"> 225</span></a>                  ', use get_shortcuts() instead', <a class="constant" onClick="logConstant('DEBUG_DEVELOPER')" href="../../_constants/DEBUG_DEVELOPER.html" onMouseOver="constPopup(event,'DEBUG_DEVELOPER')">DEBUG_DEVELOPER</a>);
<a name="l226"><span class="linenum"> 226</span></a>              <a class="var it23746" onMouseOver="hilite(23746)" onMouseOut="lolite()" onClick="logVariable('grouptitle')" href="../../_variables/grouptitle.html">$grouptitle</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('modulenameplural', 'mod_lti');
<a name="l227"><span class="linenum"> 227</span></a>              foreach (<a class="var it23745" onMouseOver="hilite(23745)" onMouseOut="lolite()" onClick="logVariable('moretypes')" href="../../_variables/moretypes.html">$moretypes</a> as <a class="var it755" onMouseOver="hilite(755)" onMouseOut="lolite()" onClick="logVariable('subtype')" href="../../_variables/subtype.html">$subtype</a>) {
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">                // Instead of adding subitems combine the name of the group with the name of the subtype.</span>
<a name="l229"><span class="linenum"> 229</span></a>                  <a class="var it755" onMouseOver="hilite(755)" onMouseOut="lolite()" onClick="logVariable('subtype')" href="../../_variables/subtype.html">$subtype</a>-&gt;<a onClick="logVariable('title')" class="var it45104" onMouseOver="hilite(45104)" onMouseOut="lolite()" href="../../_variables/title.html">title</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('activitytypetitle', '',
<a name="l230"><span class="linenum"> 230</span></a>                      (object)['activity' =&gt; <a class="var it23746" onMouseOver="hilite(23746)" onMouseOut="lolite()" onClick="logVariable('grouptitle')" href="../../_variables/grouptitle.html">$grouptitle</a>, 'type' =&gt; <a class="var it755" onMouseOver="hilite(755)" onMouseOut="lolite()" onClick="logVariable('subtype')" href="../../_variables/subtype.html">$subtype</a>-&gt;<a onClick="logVariable('typestr')" class="var it45104" onMouseOver="hilite(45104)" onMouseOut="lolite()" href="../../_variables/typestr.html">typestr</a>]);
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment">                // Re-implement the logic of get_module_metadata() in Moodle 3.0 and below for converting</span>
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment">                // subtypes into items in activity chooser.</span>
<a name="l233"><span class="linenum"> 233</span></a>                  <a class="var it755" onMouseOver="hilite(755)" onMouseOut="lolite()" onClick="logVariable('subtype')" href="../../_variables/subtype.html">$subtype</a>-&gt;<a onClick="logVariable('type')" class="var it45104" onMouseOver="hilite(45104)" onMouseOut="lolite()" href="../../_variables/type.html">type</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('&amp;amp;', '&amp;', <a class="var it755" onMouseOver="hilite(755)" onMouseOut="lolite()" onClick="logVariable('subtype')" href="../../_variables/subtype.html">$subtype</a>-&gt;<a onClick="logVariable('type')" class="var it45104" onMouseOver="hilite(45104)" onMouseOut="lolite()" href="../../_variables/type.html">type</a>);
<a name="l234"><span class="linenum"> 234</span></a>                  <a class="var it755" onMouseOver="hilite(755)" onMouseOut="lolite()" onClick="logVariable('subtype')" href="../../_variables/subtype.html">$subtype</a>-&gt;<a onClick="logVariable('name')" class="var it45104" onMouseOver="hilite(45104)" onMouseOut="lolite()" href="../../_variables/name.html">name</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/.*type=/', '', <a class="var it755" onMouseOver="hilite(755)" onMouseOut="lolite()" onClick="logVariable('subtype')" href="../../_variables/subtype.html">$subtype</a>-&gt;<a onClick="logVariable('type')" class="var it45104" onMouseOver="hilite(45104)" onMouseOut="lolite()" href="../../_variables/type.html">type</a>);
<a name="l235"><span class="linenum"> 235</span></a>                  <a class="var it755" onMouseOver="hilite(755)" onMouseOut="lolite()" onClick="logVariable('subtype')" href="../../_variables/subtype.html">$subtype</a>-&gt;<a onClick="logVariable('link')" class="var it45104" onMouseOver="hilite(45104)" onMouseOut="lolite()" href="../../_variables/link.html">link</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it23744" onMouseOver="hilite(23744)" onMouseOut="lolite()" onClick="logVariable('defaultitem')" href="../../_variables/defaultitem.html">$defaultitem</a>-&gt;<a onClick="logVariable('link')" class="var it45510" onMouseOver="hilite(45510)" onMouseOut="lolite()" href="../../_variables/link.html">link</a>, array('type' =&gt; <a class="var it755" onMouseOver="hilite(755)" onMouseOut="lolite()" onClick="logVariable('subtype')" href="../../_variables/subtype.html">$subtype</a>-&gt;<a onClick="logVariable('name')" class="var it45104" onMouseOver="hilite(45104)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>));
<a name="l236"><span class="linenum"> 236</span></a>                  if (empty(<a class="var it755" onMouseOver="hilite(755)" onMouseOut="lolite()" onClick="logVariable('subtype')" href="../../_variables/subtype.html">$subtype</a>-&gt;<a onClick="logVariable('help')" class="var it45104" onMouseOver="hilite(45104)" onMouseOut="lolite()" href="../../_variables/help.html">help</a>) &amp;&amp; !empty(<a class="var it755" onMouseOver="hilite(755)" onMouseOut="lolite()" onClick="logVariable('subtype')" href="../../_variables/subtype.html">$subtype</a>-&gt;<a onClick="logVariable('name')" class="var it45104" onMouseOver="hilite(45104)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>) &amp;&amp;
<a name="l237"><span class="linenum"> 237</span></a>                          <a class="function" onClick="logFunction('get_string_manager')" href="../../_functions/get_string_manager.html" onMouseOver="funcPopup(event,'get_string_manager')">get_string_manager</a>()-&gt;<a class="function" onClick="logFunction('string_exists')" href="../../_functions/string_exists.html" onMouseOver="funcPopup(event,'string_exists')">string_exists</a>('help' . <a class="var it755" onMouseOver="hilite(755)" onMouseOut="lolite()" onClick="logVariable('subtype')" href="../../_variables/subtype.html">$subtype</a>-&gt;<a onClick="logVariable('name')" class="var it45104" onMouseOver="hilite(45104)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>, <a class="var it2767" onMouseOver="hilite(2767)" onMouseOut="lolite()" onClick="logVariable('pluginname')" href="../../_variables/pluginname.html">$pluginname</a>)) {
<a name="l238"><span class="linenum"> 238</span></a>                      <a class="var it755" onMouseOver="hilite(755)" onMouseOut="lolite()" onClick="logVariable('subtype')" href="../../_variables/subtype.html">$subtype</a>-&gt;<a onClick="logVariable('help')" class="var it45104" onMouseOver="hilite(45104)" onMouseOut="lolite()" href="../../_variables/help.html">help</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('help' . <a class="var it755" onMouseOver="hilite(755)" onMouseOut="lolite()" onClick="logVariable('subtype')" href="../../_variables/subtype.html">$subtype</a>-&gt;<a onClick="logVariable('name')" class="var it45104" onMouseOver="hilite(45104)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>, <a class="var it2767" onMouseOver="hilite(2767)" onMouseOut="lolite()" onClick="logVariable('pluginname')" href="../../_variables/pluginname.html">$pluginname</a>);
<a name="l239"><span class="linenum"> 239</span></a>                  }
<a name="l240"><span class="linenum"> 240</span></a>                  unset(<a class="var it755" onMouseOver="hilite(755)" onMouseOut="lolite()" onClick="logVariable('subtype')" href="../../_variables/subtype.html">$subtype</a>-&gt;<a onClick="logVariable('typestr')" class="var it45104" onMouseOver="hilite(45104)" onMouseOut="lolite()" href="../../_variables/typestr.html">typestr</a>);
<a name="l241"><span class="linenum"> 241</span></a>                  <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../_variables/types.html">$types</a>[] = <a class="var it755" onMouseOver="hilite(755)" onMouseOut="lolite()" onClick="logVariable('subtype')" href="../../_variables/subtype.html">$subtype</a>;
<a name="l242"><span class="linenum"> 242</span></a>              }
<a name="l243"><span class="linenum"> 243</span></a>          }
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment">        // LTISOURCE plugins can also implement callback get_shortcuts() to add items to the activity chooser.</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment">        // The return values are the same as of the 'mod' callbacks except that $defaultitem is only passed for reference and</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">        // should not be added to the return value.</span>
<a name="l247"><span class="linenum"> 247</span></a>          if (<a class="var it23745" onMouseOver="hilite(23745)" onMouseOut="lolite()" onClick="logVariable('moretypes')" href="../../_variables/moretypes.html">$moretypes</a> = <a class="function" onClick="logFunction('component_callback')" href="../../_functions/component_callback.html" onMouseOver="funcPopup(event,'component_callback')">component_callback</a>(&quot;ltisource_<a class="var it2767" onMouseOver="hilite(2767)" onMouseOut="lolite()" onClick="logVariable('pluginname')" href="../../_variables/pluginname.html">$pluginname</a>&quot;, 'get_shortcuts', array(<a class="var it23744" onMouseOver="hilite(23744)" onMouseOut="lolite()" onClick="logVariable('defaultitem')" href="../../_variables/defaultitem.html">$defaultitem</a>))) {
<a name="l248"><span class="linenum"> 248</span></a>              <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../_variables/types.html">$types</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../_variables/types.html">$types</a>, <a class="var it23745" onMouseOver="hilite(23745)" onMouseOut="lolite()" onClick="logVariable('moretypes')" href="../../_variables/moretypes.html">$moretypes</a>);
<a name="l249"><span class="linenum"> 249</span></a>          }
<a name="l250"><span class="linenum"> 250</span></a>      }
<a name="l251"><span class="linenum"> 251</span></a>      return <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../_variables/types.html">$types</a>;
<a name="l252"><span class="linenum"> 252</span></a>  }
<a name="l253"><span class="linenum"> 253</span></a>  
<a name="l254"><span class="linenum"> 254</span></a>  <span class="comment">/**</span>
<a name="l255"><span class="linenum"> 255</span></a>  <span class="comment"> * Given a coursemodule object, this function returns the extra</span>
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment"> * information needed to print this activity in various places.</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment"> * For this module we just need to support external urls as</span>
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment"> * activity icons</span>
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment"> *</span>
<a name="l260"><span class="linenum"> 260</span></a>  <span class="comment"> * @param stdClass $coursemodule</span>
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment"> * @return cached_cm_info info</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment"> */</span>
<a name="l263"><span class="linenum"> 263</span></a>  function <a class="function" onClick="logFunction('lti_get_coursemodule_info')" href="../../_functions/lti_get_coursemodule_info.html" onMouseOver="funcPopup(event,'lti_get_coursemodule_info')">lti_get_coursemodule_info</a>(<a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>) {
<a name="l264"><span class="linenum"> 264</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l265"><span class="linenum"> 265</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a>.'<a class="filename" href="../../mod/lti/locallib.php.html">/mod/lti/locallib.php</a>');
<a name="l266"><span class="linenum"> 266</span></a>  
<a name="l267"><span class="linenum"> 267</span></a>      if (!<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('lti', array('id' =&gt; <a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('instance')" class="var it43092" onMouseOver="hilite(43092)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>),
<a name="l268"><span class="linenum"> 268</span></a>              'icon, secureicon, intro, introformat, name, typeid, toolurl, launchcontainer')) {
<a name="l269"><span class="linenum"> 269</span></a>          return null;
<a name="l270"><span class="linenum"> 270</span></a>      }
<a name="l271"><span class="linenum"> 271</span></a>  
<a name="l272"><span class="linenum"> 272</span></a>      <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a> = <span class="keyword">new </span><a class="class" onClick="logClass('cached_cm_info')" href="../../_classes/cached_cm_info.html" onMouseOver="classPopup(event,'cached_cm_info')">cached_cm_info</a>();
<a name="l273"><span class="linenum"> 273</span></a>  
<a name="l274"><span class="linenum"> 274</span></a>      if (<a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('showdescription')" class="var it43092" onMouseOver="hilite(43092)" onMouseOut="lolite()" href="../../_variables/showdescription.html">showdescription</a>) {
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment">        // Convert intro to html. Do not filter cached version, filters run at display time.</span>
<a name="l276"><span class="linenum"> 276</span></a>          <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('content')" class="var it42982" onMouseOver="hilite(42982)" onMouseOut="lolite()" href="../../_variables/content.html">content</a> = <a class="function" onClick="logFunction('format_module_intro')" href="../../_functions/format_module_intro.html" onMouseOver="funcPopup(event,'format_module_intro')">format_module_intro</a>('lti', <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>, <a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('id')" class="var it43092" onMouseOver="hilite(43092)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, false);
<a name="l277"><span class="linenum"> 277</span></a>      }
<a name="l278"><span class="linenum"> 278</span></a>  
<a name="l279"><span class="linenum"> 279</span></a>      if (!empty(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('typeid')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/typeid.html">typeid</a>)) {
<a name="l280"><span class="linenum"> 280</span></a>          <a class="var it23748" onMouseOver="hilite(23748)" onMouseOut="lolite()" onClick="logVariable('toolconfig')" href="../../_variables/toolconfig.html">$toolconfig</a> = <a class="function" onClick="logFunction('lti_get_type_config')" href="../../_functions/lti_get_type_config.html" onMouseOver="funcPopup(event,'lti_get_type_config')">lti_get_type_config</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('typeid')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/typeid.html">typeid</a>);
<a name="l281"><span class="linenum"> 281</span></a>      } else if (<a class="var it3113" onMouseOver="hilite(3113)" onMouseOut="lolite()" onClick="logVariable('tool')" href="../../_variables/tool.html">$tool</a> = <a class="function" onClick="logFunction('lti_get_tool_by_url_match')" href="../../_functions/lti_get_tool_by_url_match.html" onMouseOver="funcPopup(event,'lti_get_tool_by_url_match')">lti_get_tool_by_url_match</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('toolurl')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/toolurl.html">toolurl</a>)) {
<a name="l282"><span class="linenum"> 282</span></a>          <a class="var it23748" onMouseOver="hilite(23748)" onMouseOut="lolite()" onClick="logVariable('toolconfig')" href="../../_variables/toolconfig.html">$toolconfig</a> = <a class="function" onClick="logFunction('lti_get_type_config')" href="../../_functions/lti_get_type_config.html" onMouseOver="funcPopup(event,'lti_get_type_config')">lti_get_type_config</a>(<a class="var it3113" onMouseOver="hilite(3113)" onMouseOut="lolite()" onClick="logVariable('tool')" href="../../_variables/tool.html">$tool</a>-&gt;<a onClick="logVariable('id')" class="var it43021" onMouseOver="hilite(43021)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l283"><span class="linenum"> 283</span></a>      } else {
<a name="l284"><span class="linenum"> 284</span></a>          <a class="var it23748" onMouseOver="hilite(23748)" onMouseOut="lolite()" onClick="logVariable('toolconfig')" href="../../_variables/toolconfig.html">$toolconfig</a> = array();
<a name="l285"><span class="linenum"> 285</span></a>      }
<a name="l286"><span class="linenum"> 286</span></a>  
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">    // We want to use the right icon based on whether the</span>
<a name="l288"><span class="linenum"> 288</span></a>  <span class="comment">    // current page is being requested over http or https.</span>
<a name="l289"><span class="linenum"> 289</span></a>      if (<a class="function" onClick="logFunction('lti_request_is_using_ssl')" href="../../_functions/lti_request_is_using_ssl.html" onMouseOver="funcPopup(event,'lti_request_is_using_ssl')">lti_request_is_using_ssl</a>() &amp;&amp;
<a name="l290"><span class="linenum"> 290</span></a>          (!empty(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('secureicon')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/secureicon.html">secureicon</a>) || (isset(<a class="var it23748" onMouseOver="hilite(23748)" onMouseOut="lolite()" onClick="logVariable('toolconfig')" href="../../_variables/toolconfig.html">$toolconfig</a>['secureicon']) &amp;&amp; !empty(<a class="var it23748" onMouseOver="hilite(23748)" onMouseOut="lolite()" onClick="logVariable('toolconfig')" href="../../_variables/toolconfig.html">$toolconfig</a>['secureicon'])))) {
<a name="l291"><span class="linenum"> 291</span></a>          if (!empty(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('secureicon')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/secureicon.html">secureicon</a>)) {
<a name="l292"><span class="linenum"> 292</span></a>              <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('iconurl')" class="var it42982" onMouseOver="hilite(42982)" onMouseOut="lolite()" href="../../_variables/iconurl.html">iconurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('secureicon')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/secureicon.html">secureicon</a>);
<a name="l293"><span class="linenum"> 293</span></a>          } else {
<a name="l294"><span class="linenum"> 294</span></a>              <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('iconurl')" class="var it42982" onMouseOver="hilite(42982)" onMouseOut="lolite()" href="../../_variables/iconurl.html">iconurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it23748" onMouseOver="hilite(23748)" onMouseOut="lolite()" onClick="logVariable('toolconfig')" href="../../_variables/toolconfig.html">$toolconfig</a>['secureicon']);
<a name="l295"><span class="linenum"> 295</span></a>          }
<a name="l296"><span class="linenum"> 296</span></a>      } else if (!empty(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('icon')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/icon.html">icon</a>)) {
<a name="l297"><span class="linenum"> 297</span></a>          <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('iconurl')" class="var it42982" onMouseOver="hilite(42982)" onMouseOut="lolite()" href="../../_variables/iconurl.html">iconurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('icon')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/icon.html">icon</a>);
<a name="l298"><span class="linenum"> 298</span></a>      } else if (isset(<a class="var it23748" onMouseOver="hilite(23748)" onMouseOut="lolite()" onClick="logVariable('toolconfig')" href="../../_variables/toolconfig.html">$toolconfig</a>['icon']) &amp;&amp; !empty(<a class="var it23748" onMouseOver="hilite(23748)" onMouseOut="lolite()" onClick="logVariable('toolconfig')" href="../../_variables/toolconfig.html">$toolconfig</a>['icon'])) {
<a name="l299"><span class="linenum"> 299</span></a>          <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('iconurl')" class="var it42982" onMouseOver="hilite(42982)" onMouseOut="lolite()" href="../../_variables/iconurl.html">iconurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>(<a class="var it23748" onMouseOver="hilite(23748)" onMouseOut="lolite()" onClick="logVariable('toolconfig')" href="../../_variables/toolconfig.html">$toolconfig</a>['icon']);
<a name="l300"><span class="linenum"> 300</span></a>      }
<a name="l301"><span class="linenum"> 301</span></a>  
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment">    // Does the link open in a new window?</span>
<a name="l303"><span class="linenum"> 303</span></a>      <a class="var it23750" onMouseOver="hilite(23750)" onMouseOut="lolite()" onClick="logVariable('launchcontainer')" href="../../_variables/launchcontainer.html">$launchcontainer</a> = <a class="function" onClick="logFunction('lti_get_launch_container')" href="../../_functions/lti_get_launch_container.html" onMouseOver="funcPopup(event,'lti_get_launch_container')">lti_get_launch_container</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>, <a class="var it23748" onMouseOver="hilite(23748)" onMouseOut="lolite()" onClick="logVariable('toolconfig')" href="../../_variables/toolconfig.html">$toolconfig</a>);
<a name="l304"><span class="linenum"> 304</span></a>      if (<a class="var it23750" onMouseOver="hilite(23750)" onMouseOut="lolite()" onClick="logVariable('launchcontainer')" href="../../_variables/launchcontainer.html">$launchcontainer</a> == <a class="constant" onClick="logConstant('LTI_LAUNCH_CONTAINER_WINDOW')" href="../../_constants/LTI_LAUNCH_CONTAINER_WINDOW.html" onMouseOver="constPopup(event,'LTI_LAUNCH_CONTAINER_WINDOW')">LTI_LAUNCH_CONTAINER_WINDOW</a>) {
<a name="l305"><span class="linenum"> 305</span></a>          <a class="var it23751" onMouseOver="hilite(23751)" onMouseOut="lolite()" onClick="logVariable('launchurl')" href="../../_variables/launchurl.html">$launchurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../mod/lti/launch.php.html">/mod/lti/launch.php</a>', array('id' =&gt; <a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('id')" class="var it43092" onMouseOver="hilite(43092)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l306"><span class="linenum"> 306</span></a>          <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('onclick')" class="var it42982" onMouseOver="hilite(42982)" onMouseOut="lolite()" href="../../_variables/onclick.html">onclick</a> = &quot;window.<a class="function" onClick="logFunction('open')" href="../../_functions/open.html" onMouseOver="funcPopup(event,'open')">open</a>('&quot; . <a class="var it23751" onMouseOver="hilite(23751)" onMouseOut="lolite()" onClick="logVariable('launchurl')" href="../../_variables/launchurl.html">$launchurl</a>-&gt;<a class="function" onClick="logFunction('out')" href="../../_functions/out.html" onMouseOver="funcPopup(event,'out')">out</a>(false) . &quot;', 'lti-&quot;.<a class="var it1880" onMouseOver="hilite(1880)" onMouseOut="lolite()" onClick="logVariable('coursemodule')" href="../../_variables/coursemodule.html">$coursemodule</a>-&gt;<a onClick="logVariable('id')" class="var it43092" onMouseOver="hilite(43092)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>.&quot;'); return false;&quot;;
<a name="l307"><span class="linenum"> 307</span></a>      }
<a name="l308"><span class="linenum"> 308</span></a>  
<a name="l309"><span class="linenum"> 309</span></a>      <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>-&gt;<a onClick="logVariable('name')" class="var it42982" onMouseOver="hilite(42982)" onMouseOut="lolite()" href="../../_variables/name.html">name</a> = <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('name')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>;
<a name="l310"><span class="linenum"> 310</span></a>  
<a name="l311"><span class="linenum"> 311</span></a>      return <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>;
<a name="l312"><span class="linenum"> 312</span></a>  }
<a name="l313"><span class="linenum"> 313</span></a>  
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment">/**</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment"> * Return a small object with summary information about what a</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment"> * user has done with a given particular instance of this module</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment"> * Used for user activity reports.</span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment"> * $return-&gt;time = the time they did it</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment"> * $return-&gt;info = a short text description</span>
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment"> *</span>
<a name="l321"><span class="linenum"> 321</span></a>  <span class="comment"> * @return null</span>
<a name="l322"><span class="linenum"> 322</span></a>  <span class="comment"> * @TODO: implement this moodle function (if needed)</span>
<a name="l323"><span class="linenum"> 323</span></a>  <span class="comment"> **/</span>
<a name="l324"><span class="linenum"> 324</span></a>  function <a class="function" onClick="logFunction('lti_user_outline')" href="../../_functions/lti_user_outline.html" onMouseOver="funcPopup(event,'lti_user_outline')">lti_user_outline</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it2586" onMouseOver="hilite(2586)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../../_variables/mod.html">$mod</a>, <a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>) {
<a name="l325"><span class="linenum"> 325</span></a>      return null;
<a name="l326"><span class="linenum"> 326</span></a>  }
<a name="l327"><span class="linenum"> 327</span></a>  
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">/**</span>
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment"> * Print a detailed representation of what a user has done with</span>
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment"> * a given particular instance of this module, for user activity reports.</span>
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment"> *</span>
<a name="l332"><span class="linenum"> 332</span></a>  <span class="comment"> * @return boolean</span>
<a name="l333"><span class="linenum"> 333</span></a>  <span class="comment"> * @TODO: implement this moodle function (if needed)</span>
<a name="l334"><span class="linenum"> 334</span></a>  <span class="comment"> **/</span>
<a name="l335"><span class="linenum"> 335</span></a>  function <a class="function" onClick="logFunction('lti_user_complete')" href="../../_functions/lti_user_complete.html" onMouseOver="funcPopup(event,'lti_user_complete')">lti_user_complete</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../../_variables/user.html">$user</a>, <a class="var it2586" onMouseOver="hilite(2586)" onMouseOut="lolite()" onClick="logVariable('mod')" href="../../_variables/mod.html">$mod</a>, <a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>) {
<a name="l336"><span class="linenum"> 336</span></a>      return true;
<a name="l337"><span class="linenum"> 337</span></a>  }
<a name="l338"><span class="linenum"> 338</span></a>  
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">/**</span>
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment"> * Given a course and a time, this module should find recent activity</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment"> * that has occurred in basiclti activities and print it out.</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment"> * Return true if there was output, or false is there was none.</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment"> *</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment"> * @uses $CFG</span>
<a name="l345"><span class="linenum"> 345</span></a>  <span class="comment"> * @return boolean</span>
<a name="l346"><span class="linenum"> 346</span></a>  <span class="comment"> * @TODO: implement this moodle function</span>
<a name="l347"><span class="linenum"> 347</span></a>  <span class="comment"> **/</span>
<a name="l348"><span class="linenum"> 348</span></a>  function <a class="function" onClick="logFunction('lti_print_recent_activity')" href="../../_functions/lti_print_recent_activity.html" onMouseOver="funcPopup(event,'lti_print_recent_activity')">lti_print_recent_activity</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it23752" onMouseOver="hilite(23752)" onMouseOut="lolite()" onClick="logVariable('isteacher')" href="../../_variables/isteacher.html">$isteacher</a>, <a class="var it1937" onMouseOver="hilite(1937)" onMouseOut="lolite()" onClick="logVariable('timestart')" href="../../_variables/timestart.html">$timestart</a>) {
<a name="l349"><span class="linenum"> 349</span></a>      return false;  <span class="comment">//  True if anything was printed, otherwise false.</span>
<a name="l350"><span class="linenum"> 350</span></a>  }
<a name="l351"><span class="linenum"> 351</span></a>  
<a name="l352"><span class="linenum"> 352</span></a>  <span class="comment">/**</span>
<a name="l353"><span class="linenum"> 353</span></a>  <span class="comment"> * Function to be run periodically according to the moodle cron</span>
<a name="l354"><span class="linenum"> 354</span></a>  <span class="comment"> * This function searches for things that need to be done, such</span>
<a name="l355"><span class="linenum"> 355</span></a>  <span class="comment"> * as sending out mail, toggling flags etc ...</span>
<a name="l356"><span class="linenum"> 356</span></a>  <span class="comment"> *</span>
<a name="l357"><span class="linenum"> 357</span></a>  <span class="comment"> * @uses $CFG</span>
<a name="l358"><span class="linenum"> 358</span></a>  <span class="comment"> * @return boolean</span>
<a name="l359"><span class="linenum"> 359</span></a>  <span class="comment"> **/</span>
<a name="l360"><span class="linenum"> 360</span></a>  function <a class="function" onClick="logFunction('lti_cron')" href="../../_functions/lti_cron.html" onMouseOver="funcPopup(event,'lti_cron')">lti_cron</a> () {
<a name="l361"><span class="linenum"> 361</span></a>      return true;
<a name="l362"><span class="linenum"> 362</span></a>  }
<a name="l363"><span class="linenum"> 363</span></a>  
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment">/**</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment"> * Must return an array of grades for a given instance of this module,</span>
<a name="l366"><span class="linenum"> 366</span></a>  <span class="comment"> * indexed by user.  It also returns a maximum allowed grade.</span>
<a name="l367"><span class="linenum"> 367</span></a>  <span class="comment"> *</span>
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment"> * Example:</span>
<a name="l369"><span class="linenum"> 369</span></a>  <span class="comment"> *    $return-&gt;grades = array of grades;</span>
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment"> *    $return-&gt;maxgrade = maximum allowed grade;</span>
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment"> *</span>
<a name="l372"><span class="linenum"> 372</span></a>  <span class="comment"> *    return $return;</span>
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment"> *</span>
<a name="l374"><span class="linenum"> 374</span></a>  <span class="comment"> * @param int $basicltiid ID of an instance of this module</span>
<a name="l375"><span class="linenum"> 375</span></a>  <span class="comment"> * @return mixed Null or object with an array of grades and with the maximum grade</span>
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment"> *</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment"> * @TODO: implement this moodle function (if needed)</span>
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment"> **/</span>
<a name="l379"><span class="linenum"> 379</span></a>  function <a class="function" onClick="logFunction('lti_grades')" href="../../_functions/lti_grades.html" onMouseOver="funcPopup(event,'lti_grades')">lti_grades</a>(<a class="var it23753" onMouseOver="hilite(23753)" onMouseOut="lolite()" onClick="logVariable('basicltiid')" href="../../_variables/basicltiid.html">$basicltiid</a>) {
<a name="l380"><span class="linenum"> 380</span></a>      return null;
<a name="l381"><span class="linenum"> 381</span></a>  }
<a name="l382"><span class="linenum"> 382</span></a>  
<a name="l383"><span class="linenum"> 383</span></a>  <span class="comment">/**</span>
<a name="l384"><span class="linenum"> 384</span></a>  <span class="comment"> * This function returns if a scale is being used by one basiclti</span>
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment"> * it it has support for grading and scales. Commented code should be</span>
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment"> * modified if necessary. See forum, glossary or journal modules</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment"> * as reference.</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment"> *</span>
<a name="l389"><span class="linenum"> 389</span></a>  <span class="comment"> * @param int $basicltiid ID of an instance of this module</span>
<a name="l390"><span class="linenum"> 390</span></a>  <span class="comment"> * @return mixed</span>
<a name="l391"><span class="linenum"> 391</span></a>  <span class="comment"> *</span>
<a name="l392"><span class="linenum"> 392</span></a>  <span class="comment"> * @TODO: implement this moodle function (if needed)</span>
<a name="l393"><span class="linenum"> 393</span></a>  <span class="comment"> **/</span>
<a name="l394"><span class="linenum"> 394</span></a>  function <a class="function" onClick="logFunction('lti_scale_used')" href="../../_functions/lti_scale_used.html" onMouseOver="funcPopup(event,'lti_scale_used')">lti_scale_used</a> (<a class="var it23753" onMouseOver="hilite(23753)" onMouseOut="lolite()" onClick="logVariable('basicltiid')" href="../../_variables/basicltiid.html">$basicltiid</a>, <a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a>) {
<a name="l395"><span class="linenum"> 395</span></a>      <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a> = false;
<a name="l396"><span class="linenum"> 396</span></a>  
<a name="l397"><span class="linenum"> 397</span></a>  <span class="comment">    // $rec = get_record(&quot;basiclti&quot;,&quot;id&quot;,&quot;$basicltiid&quot;,&quot;scale&quot;,&quot;-$scaleid&quot;);</span>
<a name="l398"><span class="linenum"> 398</span></a>  <span class="comment">    //</span>
<a name="l399"><span class="linenum"> 399</span></a>  <span class="comment">    // if (!empty($rec)  &amp;&amp; !empty($scaleid)) {</span>
<a name="l400"><span class="linenum"> 400</span></a>  <span class="comment">    //     $return = true;</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">    // }</span>
<a name="l402"><span class="linenum"> 402</span></a>  
<a name="l403"><span class="linenum"> 403</span></a>      return <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../_variables/return.html">$return</a>;
<a name="l404"><span class="linenum"> 404</span></a>  }
<a name="l405"><span class="linenum"> 405</span></a>  
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment">/**</span>
<a name="l407"><span class="linenum"> 407</span></a>  <span class="comment"> * Checks if scale is being used by any instance of basiclti.</span>
<a name="l408"><span class="linenum"> 408</span></a>  <span class="comment"> * This function was added in 1.9</span>
<a name="l409"><span class="linenum"> 409</span></a>  <span class="comment"> *</span>
<a name="l410"><span class="linenum"> 410</span></a>  <span class="comment"> * This is used to find out if scale used anywhere</span>
<a name="l411"><span class="linenum"> 411</span></a>  <span class="comment"> * @param $scaleid int</span>
<a name="l412"><span class="linenum"> 412</span></a>  <span class="comment"> * @return boolean True if the scale is used by any basiclti</span>
<a name="l413"><span class="linenum"> 413</span></a>  <span class="comment"> *</span>
<a name="l414"><span class="linenum"> 414</span></a>  <span class="comment"> */</span>
<a name="l415"><span class="linenum"> 415</span></a>  function <a class="function" onClick="logFunction('lti_scale_used_anywhere')" href="../../_functions/lti_scale_used_anywhere.html" onMouseOver="funcPopup(event,'lti_scale_used_anywhere')">lti_scale_used_anywhere</a>(<a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a>) {
<a name="l416"><span class="linenum"> 416</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l417"><span class="linenum"> 417</span></a>  
<a name="l418"><span class="linenum"> 418</span></a>      if (<a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a> and <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('lti', array('grade' =&gt; -<a class="var it973" onMouseOver="hilite(973)" onMouseOut="lolite()" onClick="logVariable('scaleid')" href="../../_variables/scaleid.html">$scaleid</a>))) {
<a name="l419"><span class="linenum"> 419</span></a>          return true;
<a name="l420"><span class="linenum"> 420</span></a>      } else {
<a name="l421"><span class="linenum"> 421</span></a>          return false;
<a name="l422"><span class="linenum"> 422</span></a>      }
<a name="l423"><span class="linenum"> 423</span></a>  }
<a name="l424"><span class="linenum"> 424</span></a>  
<a name="l425"><span class="linenum"> 425</span></a>  <span class="comment">/**</span>
<a name="l426"><span class="linenum"> 426</span></a>  <span class="comment"> * Execute post-install custom actions for the module</span>
<a name="l427"><span class="linenum"> 427</span></a>  <span class="comment"> * This function was added in 1.9</span>
<a name="l428"><span class="linenum"> 428</span></a>  <span class="comment"> *</span>
<a name="l429"><span class="linenum"> 429</span></a>  <span class="comment"> * @return boolean true if success, false on error</span>
<a name="l430"><span class="linenum"> 430</span></a>  <span class="comment"> */</span>
<a name="l431"><span class="linenum"> 431</span></a>  function <a class="function" onClick="logFunction('lti_install')" href="../../_functions/lti_install.html" onMouseOver="funcPopup(event,'lti_install')">lti_install</a>() {
<a name="l432"><span class="linenum"> 432</span></a>       return true;
<a name="l433"><span class="linenum"> 433</span></a>  }
<a name="l434"><span class="linenum"> 434</span></a>  
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment">/**</span>
<a name="l436"><span class="linenum"> 436</span></a>  <span class="comment"> * Execute post-uninstall custom actions for the module</span>
<a name="l437"><span class="linenum"> 437</span></a>  <span class="comment"> * This function was added in 1.9</span>
<a name="l438"><span class="linenum"> 438</span></a>  <span class="comment"> *</span>
<a name="l439"><span class="linenum"> 439</span></a>  <span class="comment"> * @return boolean true if success, false on error</span>
<a name="l440"><span class="linenum"> 440</span></a>  <span class="comment"> */</span>
<a name="l441"><span class="linenum"> 441</span></a>  function <a class="function" onClick="logFunction('lti_uninstall')" href="../../_functions/lti_uninstall.html" onMouseOver="funcPopup(event,'lti_uninstall')">lti_uninstall</a>() {
<a name="l442"><span class="linenum"> 442</span></a>      return true;
<a name="l443"><span class="linenum"> 443</span></a>  }
<a name="l444"><span class="linenum"> 444</span></a>  
<a name="l445"><span class="linenum"> 445</span></a>  <span class="comment">/**</span>
<a name="l446"><span class="linenum"> 446</span></a>  <span class="comment"> * Returns available Basic LTI types</span>
<a name="l447"><span class="linenum"> 447</span></a>  <span class="comment"> *</span>
<a name="l448"><span class="linenum"> 448</span></a>  <span class="comment"> * @return array of basicLTI types</span>
<a name="l449"><span class="linenum"> 449</span></a>  <span class="comment"> */</span>
<a name="l450"><span class="linenum"> 450</span></a>  function <a class="function" onClick="logFunction('lti_get_lti_types')" href="../../_functions/lti_get_lti_types.html" onMouseOver="funcPopup(event,'lti_get_lti_types')">lti_get_lti_types</a>() {
<a name="l451"><span class="linenum"> 451</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l452"><span class="linenum"> 452</span></a>  
<a name="l453"><span class="linenum"> 453</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('lti_types', null, 'state DESC, timemodified DESC');
<a name="l454"><span class="linenum"> 454</span></a>  }
<a name="l455"><span class="linenum"> 455</span></a>  
<a name="l456"><span class="linenum"> 456</span></a>  <span class="comment">/**</span>
<a name="l457"><span class="linenum"> 457</span></a>  <span class="comment"> * Returns available Basic LTI types that match the given</span>
<a name="l458"><span class="linenum"> 458</span></a>  <span class="comment"> * tool proxy id</span>
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment"> *</span>
<a name="l460"><span class="linenum"> 460</span></a>  <span class="comment"> * @param int $toolproxyid Tool proxy id</span>
<a name="l461"><span class="linenum"> 461</span></a>  <span class="comment"> * @return array of basicLTI types</span>
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment"> */</span>
<a name="l463"><span class="linenum"> 463</span></a>  function <a class="function" onClick="logFunction('lti_get_lti_types_from_proxy_id')" href="../../_functions/lti_get_lti_types_from_proxy_id.html" onMouseOver="funcPopup(event,'lti_get_lti_types_from_proxy_id')">lti_get_lti_types_from_proxy_id</a>(<a class="var it3774" onMouseOver="hilite(3774)" onMouseOut="lolite()" onClick="logVariable('toolproxyid')" href="../../_variables/toolproxyid.html">$toolproxyid</a>) {
<a name="l464"><span class="linenum"> 464</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l465"><span class="linenum"> 465</span></a>  
<a name="l466"><span class="linenum"> 466</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('lti_types', array('toolproxyid' =&gt; <a class="var it3774" onMouseOver="hilite(3774)" onMouseOut="lolite()" onClick="logVariable('toolproxyid')" href="../../_variables/toolproxyid.html">$toolproxyid</a>), 'state DESC, timemodified DESC');
<a name="l467"><span class="linenum"> 467</span></a>  }
<a name="l468"><span class="linenum"> 468</span></a>  
<a name="l469"><span class="linenum"> 469</span></a>  <span class="comment">/**</span>
<a name="l470"><span class="linenum"> 470</span></a>  <span class="comment"> * Create grade item for given basiclti</span>
<a name="l471"><span class="linenum"> 471</span></a>  <span class="comment"> *</span>
<a name="l472"><span class="linenum"> 472</span></a>  <span class="comment"> * @category grade</span>
<a name="l473"><span class="linenum"> 473</span></a>  <span class="comment"> * @param object $basiclti object with extra cmidnumber</span>
<a name="l474"><span class="linenum"> 474</span></a>  <span class="comment"> * @param mixed optional array/object of grade(s); 'reset' means reset grades in gradebook</span>
<a name="l475"><span class="linenum"> 475</span></a>  <span class="comment"> * @return int 0 if ok, error code otherwise</span>
<a name="l476"><span class="linenum"> 476</span></a>  <span class="comment"> */</span>
<a name="l477"><span class="linenum"> 477</span></a>  function <a class="function" onClick="logFunction('lti_grade_item_update')" href="../../_functions/lti_grade_item_update.html" onMouseOver="funcPopup(event,'lti_grade_item_update')">lti_grade_item_update</a>(<a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>, <a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> = null) {
<a name="l478"><span class="linenum"> 478</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l479"><span class="linenum"> 479</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>.'/gradelib.php');
<a name="l480"><span class="linenum"> 480</span></a>  
<a name="l481"><span class="linenum"> 481</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('itemname' =&gt; <a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('name')" class="var it45509" onMouseOver="hilite(45509)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>, 'idnumber' =&gt; <a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('cmidnumber')" class="var it45509" onMouseOver="hilite(45509)" onMouseOut="lolite()" href="../../_variables/cmidnumber.html">cmidnumber</a>);
<a name="l482"><span class="linenum"> 482</span></a>  
<a name="l483"><span class="linenum"> 483</span></a>      if (<a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('grade')" class="var it45509" onMouseOver="hilite(45509)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> &gt; 0) {
<a name="l484"><span class="linenum"> 484</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['gradetype'] = <a class="constant" onClick="logConstant('GRADE_TYPE_VALUE')" href="../../_constants/GRADE_TYPE_VALUE.html" onMouseOver="constPopup(event,'GRADE_TYPE_VALUE')">GRADE_TYPE_VALUE</a>;
<a name="l485"><span class="linenum"> 485</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['grademax']  = <a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('grade')" class="var it45509" onMouseOver="hilite(45509)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a>;
<a name="l486"><span class="linenum"> 486</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['grademin']  = 0;
<a name="l487"><span class="linenum"> 487</span></a>  
<a name="l488"><span class="linenum"> 488</span></a>      } else if (<a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('grade')" class="var it45509" onMouseOver="hilite(45509)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> &lt; 0) {
<a name="l489"><span class="linenum"> 489</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['gradetype'] = <a class="constant" onClick="logConstant('GRADE_TYPE_SCALE')" href="../../_constants/GRADE_TYPE_SCALE.html" onMouseOver="constPopup(event,'GRADE_TYPE_SCALE')">GRADE_TYPE_SCALE</a>;
<a name="l490"><span class="linenum"> 490</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['scaleid']   = -<a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('grade')" class="var it45509" onMouseOver="hilite(45509)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a>;
<a name="l491"><span class="linenum"> 491</span></a>  
<a name="l492"><span class="linenum"> 492</span></a>      } else {
<a name="l493"><span class="linenum"> 493</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['gradetype'] = <a class="constant" onClick="logConstant('GRADE_TYPE_TEXT')" href="../../_constants/GRADE_TYPE_TEXT.html" onMouseOver="constPopup(event,'GRADE_TYPE_TEXT')">GRADE_TYPE_TEXT</a>; <span class="comment">// Allow text comments only.</span>
<a name="l494"><span class="linenum"> 494</span></a>      }
<a name="l495"><span class="linenum"> 495</span></a>  
<a name="l496"><span class="linenum"> 496</span></a>      if (<a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> === 'reset') {
<a name="l497"><span class="linenum"> 497</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>['reset'] = true;
<a name="l498"><span class="linenum"> 498</span></a>          <a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a> = null;
<a name="l499"><span class="linenum"> 499</span></a>      }
<a name="l500"><span class="linenum"> 500</span></a>  
<a name="l501"><span class="linenum"> 501</span></a>      return <a class="function" onClick="logFunction('grade_update')" href="../../_functions/grade_update.html" onMouseOver="funcPopup(event,'grade_update')">grade_update</a>('mod/lti', <a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('course')" class="var it45509" onMouseOver="hilite(45509)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>, 'mod', 'lti', <a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('id')" class="var it45509" onMouseOver="hilite(45509)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 0, <a class="var it624" onMouseOver="hilite(624)" onMouseOut="lolite()" onClick="logVariable('grades')" href="../../_variables/grades.html">$grades</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l502"><span class="linenum"> 502</span></a>  }
<a name="l503"><span class="linenum"> 503</span></a>  
<a name="l504"><span class="linenum"> 504</span></a>  <span class="comment">/**</span>
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment"> * Delete grade item for given basiclti</span>
<a name="l506"><span class="linenum"> 506</span></a>  <span class="comment"> *</span>
<a name="l507"><span class="linenum"> 507</span></a>  <span class="comment"> * @category grade</span>
<a name="l508"><span class="linenum"> 508</span></a>  <span class="comment"> * @param object $basiclti object</span>
<a name="l509"><span class="linenum"> 509</span></a>  <span class="comment"> * @return object basiclti</span>
<a name="l510"><span class="linenum"> 510</span></a>  <span class="comment"> */</span>
<a name="l511"><span class="linenum"> 511</span></a>  function <a class="function" onClick="logFunction('lti_grade_item_delete')" href="../../_functions/lti_grade_item_delete.html" onMouseOver="funcPopup(event,'lti_grade_item_delete')">lti_grade_item_delete</a>(<a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>) {
<a name="l512"><span class="linenum"> 512</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l513"><span class="linenum"> 513</span></a>      require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a>.'/gradelib.php');
<a name="l514"><span class="linenum"> 514</span></a>  
<a name="l515"><span class="linenum"> 515</span></a>      return <a class="function" onClick="logFunction('grade_update')" href="../../_functions/grade_update.html" onMouseOver="funcPopup(event,'grade_update')">grade_update</a>('mod/lti', <a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('course')" class="var it45509" onMouseOver="hilite(45509)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>, 'mod', 'lti', <a class="var it9404" onMouseOver="hilite(9404)" onMouseOut="lolite()" onClick="logVariable('basiclti')" href="../../_variables/basiclti.html">$basiclti</a>-&gt;<a onClick="logVariable('id')" class="var it45509" onMouseOver="hilite(45509)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 0, null, array('deleted' =&gt; 1));
<a name="l516"><span class="linenum"> 516</span></a>  }
<a name="l517"><span class="linenum"> 517</span></a>  
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment">/**</span>
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment"> * Log post actions</span>
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment"> *</span>
<a name="l521"><span class="linenum"> 521</span></a>  <span class="comment"> * @return array</span>
<a name="l522"><span class="linenum"> 522</span></a>  <span class="comment"> */</span>
<a name="l523"><span class="linenum"> 523</span></a>  function <a class="function" onClick="logFunction('lti_get_post_actions')" href="../../_functions/lti_get_post_actions.html" onMouseOver="funcPopup(event,'lti_get_post_actions')">lti_get_post_actions</a>() {
<a name="l524"><span class="linenum"> 524</span></a>      return array();
<a name="l525"><span class="linenum"> 525</span></a>  }
<a name="l526"><span class="linenum"> 526</span></a>  
<a name="l527"><span class="linenum"> 527</span></a>  <span class="comment">/**</span>
<a name="l528"><span class="linenum"> 528</span></a>  <span class="comment"> * Log view actions</span>
<a name="l529"><span class="linenum"> 529</span></a>  <span class="comment"> *</span>
<a name="l530"><span class="linenum"> 530</span></a>  <span class="comment"> * @return array</span>
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment"> */</span>
<a name="l532"><span class="linenum"> 532</span></a>  function <a class="function" onClick="logFunction('lti_get_view_actions')" href="../../_functions/lti_get_view_actions.html" onMouseOver="funcPopup(event,'lti_get_view_actions')">lti_get_view_actions</a>() {
<a name="l533"><span class="linenum"> 533</span></a>      return array('view all', 'view');
<a name="l534"><span class="linenum"> 534</span></a>  }
<a name="l535"><span class="linenum"> 535</span></a>  
<a name="l536"><span class="linenum"> 536</span></a>  <span class="comment">/**</span>
<a name="l537"><span class="linenum"> 537</span></a>  <span class="comment"> * Mark the activity completed (if required) and trigger the course_module_viewed event.</span>
<a name="l538"><span class="linenum"> 538</span></a>  <span class="comment"> *</span>
<a name="l539"><span class="linenum"> 539</span></a>  <span class="comment"> * @param  stdClass $lti        lti object</span>
<a name="l540"><span class="linenum"> 540</span></a>  <span class="comment"> * @param  stdClass $course     course object</span>
<a name="l541"><span class="linenum"> 541</span></a>  <span class="comment"> * @param  stdClass $cm         course module object</span>
<a name="l542"><span class="linenum"> 542</span></a>  <span class="comment"> * @param  stdClass $context    context object</span>
<a name="l543"><span class="linenum"> 543</span></a>  <span class="comment"> * @since Moodle 3.0</span>
<a name="l544"><span class="linenum"> 544</span></a>  <span class="comment"> */</span>
<a name="l545"><span class="linenum"> 545</span></a>  function <a class="function" onClick="logFunction('lti_view')" href="../../_functions/lti_view.html" onMouseOver="funcPopup(event,'lti_view')">lti_view</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>) {
<a name="l546"><span class="linenum"> 546</span></a>  
<a name="l547"><span class="linenum"> 547</span></a>  <span class="comment">    // Trigger course_module_viewed event.</span>
<a name="l548"><span class="linenum"> 548</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array(
<a name="l549"><span class="linenum"> 549</span></a>          'context' =&gt; <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>,
<a name="l550"><span class="linenum"> 550</span></a>          'objectid' =&gt; <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>-&gt;id
<a name="l551"><span class="linenum"> 551</span></a>      );
<a name="l552"><span class="linenum"> 552</span></a>  
<a name="l553"><span class="linenum"> 553</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a> = \mod_lti\event\<a class="class" onClick="logClass('course_module_viewed')" href="../../_classes/course_module_viewed.html" onMouseOver="classPopup(event,'course_module_viewed')">course_module_viewed</a>::<a class="function" onClick="logFunction('create')" href="../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l554"><span class="linenum"> 554</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('add_record_snapshot')" href="../../_functions/add_record_snapshot.html" onMouseOver="funcPopup(event,'add_record_snapshot')">add_record_snapshot</a>('course_modules', <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>);
<a name="l555"><span class="linenum"> 555</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('add_record_snapshot')" href="../../_functions/add_record_snapshot.html" onMouseOver="funcPopup(event,'add_record_snapshot')">add_record_snapshot</a>('course', <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l556"><span class="linenum"> 556</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('add_record_snapshot')" href="../../_functions/add_record_snapshot.html" onMouseOver="funcPopup(event,'add_record_snapshot')">add_record_snapshot</a>('lti', <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../_variables/lti.html">$lti</a>);
<a name="l557"><span class="linenum"> 557</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('trigger')" href="../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l558"><span class="linenum"> 558</span></a>  
<a name="l559"><span class="linenum"> 559</span></a>  <span class="comment">    // Completion.</span>
<a name="l560"><span class="linenum"> 560</span></a>      <a class="var it555" onMouseOver="hilite(555)" onMouseOut="lolite()" onClick="logVariable('completion')" href="../../_variables/completion.html">$completion</a> = <span class="keyword">new </span><a class="class" onClick="logClass('completion_info')" href="../../_classes/completion_info.html" onMouseOver="classPopup(event,'completion_info')">completion_info</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l561"><span class="linenum"> 561</span></a>      <a class="var it555" onMouseOver="hilite(555)" onMouseOut="lolite()" onClick="logVariable('completion')" href="../../_variables/completion.html">$completion</a>-&gt;<a class="function" onClick="logFunction('set_module_viewed')" href="../../_functions/set_module_viewed.html" onMouseOver="funcPopup(event,'set_module_viewed')">set_module_viewed</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>);
<a name="l562"><span class="linenum"> 562</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'string_exists': ['string_exists', 'Does the string actually exist? ', [['lib/classes','string_manager_install.php',64],['lib/classes','string_manager_standard.php',263],['lib/classes','string_manager.php',50]], 85],
'get_string_manager': ['get_string_manager', 'Returns current string_manager instance. ', [['lib','moodlelib.php',6678]], 163],
'lti_add_instance': ['lti_add_instance', 'Given an object containing all the necessary data, (defined by the form in mod.html) this function will create a new instance and return the id number of the new instance. ', [['mod/lti','lib.php',83]], 0],
'lti_get_launch_container': ['lti_get_launch_container', '', [['mod/lti','locallib.php',1959]], 3],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'lti_view': ['lti_view', 'Mark the activity completed (if required) and trigger the course_module_viewed event. ', [['mod/lti','lib.php',536]], 4],
'debugging': ['debugging', 'Standard Debugging Function ', [['lib','weblib.php',3012]], 1007],
'add_record_snapshot': ['add_record_snapshot', 'Add cached data that will be most probably used in event observers. ', [['lib/classes/event','base.php',840]], 332],
'component_callback': ['component_callback', 'Invoke component\'s callback functions ', [['lib','moodlelib.php',7413]], 28],
'lti_grades': ['lti_grades', 'Must return an array of grades for a given instance of this module, indexed by user.  It also returns a maximum allowed grade. ', [['mod/lti','lib.php',364]], 0],
'lti_get_lti_types_from_proxy_id': ['lti_get_lti_types_from_proxy_id', 'Returns available Basic LTI types that match the given tool proxy id ', [['mod/lti','lib.php',456]], 2],
'lti_update_instance': ['lti_update_instance', 'Given an object containing all the necessary data, (defined by the form in mod.html) this function will update an existing instance with new data. ', [['mod/lti','lib.php',130]], 0],
'lti_grade_item_update': ['lti_grade_item_update', 'Create grade item for given basiclti ', [['mod/lti','lib.php',469]], 2],
'lti_cron': ['lti_cron', 'Function to be run periodically according to the moodle cron This function searches for things that need to be done, such as sending out mail, toggling flags etc ... ', [['mod/lti','lib.php',352]], 0],
'trigger': ['trigger', '', [['lib/evalmath','evalmath.class.php',448],['lib/classes/event','base.php',765]], 964],
'get_types': ['get_types', 'Returns an array of media that this media instance applies to ', [['lib','csslib.php',2087],['repository','lib.php',689],['lib/classes','filetypes.php',277]], 15],
'format_module_intro': ['format_module_intro', 'Formats activity intro text ', [['lib','weblib.php',1542]], 65],
'lti_load_tool_if_cartridge': ['lti_load_tool_if_cartridge', 'Loads the cartridge information into the new tool, if the launch url is for a cartridge file ', [['mod/lti','locallib.php',2559]], 3],
'out': ['out', 'Returns the selector for use in a CSS rule ', [['lib','csslib.php',1540],['lib','csslib.php',1698],['lib','csslib.php',2078],['lib','csslib.php',2162],['lib','csslib.php',2306],['lib','csslib.php',2495],['lib','csslib.php',3240],['mod/feedback/classes','responses_table.php',332],['lib','moodlelib.php',9729],['lib','weblib.php',545],['lib','tablelib.php',1594],['report/loglive/classes','table_log_ajax.php',37]], 626],
'set_module_viewed': ['set_module_viewed', 'Update the module completion status (set it viewed). ', [['mod/assign','locallib.php',8075],['lib','completionlib.php',657]], 29],
'create': ['create', 'Auto-scan an incoming line to determine the response type. ', [['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',65],['lib/google/src/Google/Service','Partners.php',492],['lib/simplepie/library/SimplePie','Cache.php',95],['lib/google/src/Google/Service','YouTubeReporting.php',237],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',81],['lib/google/src/Google/Service','MapsEngine.php',1677],['lib/google/src/Google/Service','MapsEngine.php',1977],['lib/google/src/Google/Service','MapsEngine.php',2253],['lib/google/src/Google/Service','MapsEngine.php',2330],['lib/google/src/Google/Service','MapsEngine.php',2898],['lib/spout/src/Spout/Writer','WriterFactory.php',18],['lib/google/src/Google/Service','Dns.php',290],['lib/google/src/Google/Service','Dns.php',363],['lib/google/src/Google/Service','Appengine.php',438],['tag/classes','collection.php',188],['lib/adodb','adodb-xmlschema.inc.php',152],['lib/adodb','adodb-xmlschema.inc.php',473],['lib/adodb','adodb-xmlschema.inc.php',738],['lib/adodb','adodb-xmlschema.inc.php',884],['lib/adodb','adodb-xmlschema.inc.php',1129],['mod/quiz','attemptlib.php',100],['mod/quiz','attemptlib.php',596],['lib','weblib.php',3206],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',58],['lib/google/src/Google/Service','Dataflow.php',273],['lib/simplepie/library/SimplePie','Registry.php',153],['competency/classes','persistent.php',387],['lib/google/src/Google/Service','Cloudresourcemanager.php',373],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',270],['lib/google/src/Google/Service','TagManager.php',1007],['lib/google/src/Google/Service','TagManager.php',1097],['lib/google/src/Google/Service','TagManager.php',1249],['lib/google/src/Google/Service','TagManager.php',1342],['lib/google/src/Google/Service','TagManager.php',1436],['lib/google/src/Google/Service','TagManager.php',1530],['lib/google/src/Google/Service','TagManager.php',1681],['mod/lesson','locallib.php',1011],['mod/lesson','locallib.php',2163],['mod/lesson','locallib.php',3212],['lib','modinfolib.php',1732],['repository','lib.php',206],['repository','lib.php',1910],['lib','navigationlib.php',268],['lib/htmlpurifier/HTMLPurifier','Config.php',114],['lib/google/src/Google/Service','Container.php',284],['lib/google/src/Google/Service','Genomics.php',632],['lib/google/src/Google/Service','Genomics.php',721],['lib/google/src/Google/Service','Genomics.php',1312],['lib/google/src/Google/Service','Genomics.php',1427],['lib/google/src/Google/Service','Games.php',1649],['lib/google/src/Google/Service','Games.php',2013],['lib/google/src/Google/Service','Fitness.php',377],['lib/google/src/Google/Service','Gmail.php',747],['lib/google/src/Google/Service','Gmail.php',905],['mod/quiz/classes','structure.php',65],['lib/htmlpurifier/HTMLPurifier','ElementDef.php',135],['lib/adodb','adodb-xmlschema03.inc.php',170],['lib/adodb','adodb-xmlschema03.inc.php',514],['lib/adodb','adodb-xmlschema03.inc.php',779],['lib/adodb','adodb-xmlschema03.inc.php',930],['lib/adodb','adodb-xmlschema03.inc.php',1228],['lib/google/src/Google/Service','Proximitybeacon.php',500],['tag/classes','area.php',205],['course','lib.php',3003],['question/type/ddmarker','shapes.php',170],['lib/classes/event','base.php',149],['lib','coursecatlib.php',325],['repository/filesystem','lib.php',498],['lib/google/src/Google/Service','Storagetransfer.php',281],['calendar','lib.php',2686],['lib/htmlpurifier/HTMLPurifier','Lexer.php',53],['lib/google/src/Google/Service','Classroom.php',445],['lib/google/src/Google/Service','Classroom.php',596],['lib/google/src/Google/Service','Classroom.php',673],['lib/google/src/Google/Service','Classroom.php',783],['lib/google/src/Google/Service','Classroom.php',912],['lib/spout/src/Spout/Reader','ReaderFactory.php',18],['lib/google/src/Google/Service','Pubsub.php',220],['lib/google/src/Google/Service','Pubsub.php',365],['lib/google/src/Google/Service','CloudMonitoring.php',258]], 3276],
'lti_get_lti_types': ['lti_get_lti_types', 'Returns available Basic LTI types ', [['mod/lti','lib.php',445]], 1],
'get_plugin_list': ['get_plugin_list', 'Use when listing real plugins of one type. ', [['lib','deprecatedlib.php',150],['lib/classes','component.php',796],['admin/tool/monitor/classes','eventlist.php',176]], 191],
'lti_delete_instance': ['lti_delete_instance', 'Given an ID of an instance of this module, this function will permanently delete the instance and any data that depends on it. ', [['mod/lti','lib.php',174]], 0],
'lti_get_tool_by_url_match': ['lti_get_tool_by_url_match', '', [['mod/lti','locallib.php',1180]], 6],
'lti_install': ['lti_install', 'Execute post-install custom actions for the module This function was added in 1.9 ', [['mod/lti','lib.php',425]], 0],
'lti_grade_item_delete': ['lti_grade_item_delete', 'Delete grade item for given basiclti ', [['mod/lti','lib.php',504]], 2],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'lti_uninstall': ['lti_uninstall', 'Execute post-uninstall custom actions for the module This function was added in 1.9 ', [['mod/lti','lib.php',435]], 0],
'lti_get_coursemodule_info': ['lti_get_coursemodule_info', 'Given a coursemodule object, this function returns the extra information needed to print this activity in various places. For this module we just need to support external urls as activity icons ', [['mod/lti','lib.php',254]], 0],
'lti_user_outline': ['lti_user_outline', 'Return a small object with summary information about what a user has done with a given particular instance of this module Used for user activity reports. $return->time = the time they did it $return->info = a short text description ', [['mod/lti','lib.php',314]], 0],
'get_records': ['get_records', 'Load a list of records. ', [['competency/classes','persistent.php',709],['mod/glossary/classes','entry_query_builder.php',295],['lib/dml','moodle_database.php',1285],['lib','coursecatlib.php',651],['question','category_class.php',63]], 965],
'lti_get_view_actions': ['lti_get_view_actions', 'Log view actions ', [['mod/lti','lib.php',527]], 0],
'lti_get_configured_types': ['lti_get_configured_types', 'Returns a list of configured types in the given course ', [['mod/lti','locallib.php',1136]], 1],
'lti_scale_used': ['lti_scale_used', 'This function returns if a scale is being used by one basiclti it it has support for grading and scales. Commented code should be modified if necessary. See forum, glossary or journal modules as reference. ', [['mod/lti','lib.php',383]], 0],
'lti_print_recent_activity': ['lti_print_recent_activity', 'Given a course and a time, this module should find recent activity that has occurred in basiclti activities and print it out. Return true if there was output, or false is there was none. ', [['mod/lti','lib.php',339]], 0],
'lti_get_extra_capabilities': ['lti_get_extra_capabilities', 'Returns all other caps used in module. ', [['mod/lti','lib.php',51]], 0],
'lti_force_type_config_settings': ['lti_force_type_config_settings', 'Enforce type config settings onto the LTI instance ', [['mod/lti','locallib.php',2121]], 2],
'lti_scale_used_anywhere': ['lti_scale_used_anywhere', 'Checks if scale is being used by any instance of basiclti. This function was added in 1.9 ', [['mod/lti','lib.php',406]], 0],
'lti_get_post_actions': ['lti_get_post_actions', 'Log post actions ', [['mod/lti','lib.php',518]], 0],
'lti_request_is_using_ssl': ['lti_request_is_using_ssl', '', [['mod/lti','locallib.php',1988]], 5],
'grade_update': ['grade_update', 'Submit new or update grade; update/create grade_item definition. Grade must have userid specified, rawgrade and feedback with format are optional. rawgrade NULL means \'Not graded\'. Missing property or key means does not change the existing value. ', [['lib','gradelib.php',40]], 27],
'param': ['param', '', [['lib/adodb/drivers','adodb-postgres64.inc.php',609],['lib','weblib.php',453],['lib/adodb/drivers','adodb-oci8po.inc.php',39],['lib/adodb','adodb.inc.php',934],['lib/adodb/drivers','adodb-oci8.inc.php',1179],['lib/adodb/drivers','adodb-db2oci.inc.php',163]], 640],
'record_exists': ['record_exists', 'Check if a record exists by ID. ', [['competency/classes','persistent.php',842],['lib/dml','moodle_database.php',1817]], 901],
'lti_get_type_config_by_instance': ['lti_get_type_config_by_instance', 'Fetches LTI type configuration for an LTI instance ', [['mod/lti','locallib.php',2099]], 2],
'lti_user_complete': ['lti_user_complete', 'Print a detailed representation of what a user has done with a given particular instance of this module, for user activity reports. ', [['mod/lti','lib.php',328]], 0],
'open': ['open', 'Open or create archive (depending on $mode). ', [['lib/filestorage','zip_archive.php',73],['auth/fc','fcFPP.php',48],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/searchreplace','editor_plugin_src.js',14],['lib/spout/src/Spout/Reader','ReaderInterface.php',12],['auth/cas/CAS/CAS/ProxiedService','Imap.php',179],['lib/tcpdf','tcpdf.php',2931],['lib/google/src/Google/Logger','File.php',96],['lib/phpexcel/PHPExcel/Shared','ZipArchive.php',56],['lib/spout/src/Spout/Reader/Wrapper','XMLReader.php',17],['lib/spout/src/Spout/Reader','AbstractReader.php',61],['lib/pear/Net','GeoIP.php',400],['lib/pear/Auth','RADIUS.php',271],['lib/pear/Auth','RADIUS.php',593],['lib/pear/Auth','RADIUS.php',898],['lib','webdavlib.php',156]], 261],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pdo_moodle_database.php',461],['lib/dml','oci_native_moodle_database.php',1404],['lib/dml','pgsql_native_moodle_database.php',1089],['lib/dml','mssql_native_moodle_database.php',1067],['lib/dml','mysqli_native_moodle_database.php',1405],['lib/dml','sqlsrv_native_moodle_database.php',1148],['lib/dml/tests','dml_test.php',5551]], 650],
'lti_get_shortcuts': ['lti_get_shortcuts', 'Return aliases of this activity. LTI should have an alias for each configured tool type This is so you can add an external tool types directly to the activity chooser ', [['mod/lti','lib.php',203]], 1],
'lti_get_type_config': ['lti_get_type_config', 'Returns configuration details for the tool ', [['mod/lti','locallib.php',979]], 9],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','sqlite3_pdo_moodle_database.php',345],['lib/dml','moodle_database.php',1864]], 773],
'lti_supports': ['lti_supports', 'List of features supported in URL module ', [['mod/lti','lib.php',60]], 0],
'preg_replace': ['preg_replace', '', [], 917],
'str_replace': ['str_replace', '', [], 1648],
'defined': ['defined', '', [], 4731],
'array_merge': ['array_merge', '', [], 2944],
'time': ['time', '', [], 1959],
'uniqid': ['uniqid', '', [], 86]};
CLASS_DATA={
'course_module_viewed': ['course_module_viewed', 'The mod_page course module viewed event class. ', [['mod/page/classes/event','course_module_viewed.php',28],['mod/chat/classes/event','course_module_viewed.php',29],['mod/quiz/classes/event','course_module_viewed.php',29],['mod/data/classes/event','course_module_viewed.php',30],['mod/choice/classes/event','course_module_viewed.php',28],['mod/forum/classes/event','course_module_viewed.php',29],['mod/resource/classes/event','course_module_viewed.php',29],['mod/book/classes/event','course_module_viewed.php',28],['mod/imscp/classes/event','course_module_viewed.php',30],['mod/lti/classes/event','course_module_viewed.php',29],['mod/feedback/classes/event','course_module_viewed.php',28],['mod/survey/classes/event','course_module_viewed.php',29],['mod/folder/classes/event','course_module_viewed.php',29],['mod/glossary/classes/event','course_module_viewed.php',28],['mod/scorm/classes/event','course_module_viewed.php',28],['mod/url/classes/event','course_module_viewed.php',29],['mod/wiki/classes/event','course_module_viewed.php',28],['lib/tests/fixtures','event_fixtures.php',232],['mod/lesson/classes/event','course_module_viewed.php',30],['mod/workshop/classes/event','course_module_viewed.php',32]], 37],
'cached_cm_info': ['cached_cm_info', 'Class that is the return value for the _get_coursemodule_info module API function. ', [['lib','modinfolib.php',2265]], 7],
'completion_info': ['completion_info', 'Class represents completion information for a course. ', [['lib','completionlib.php',210]], 141],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',238]], 3088],
'core_component': ['core_component', 'Collection of components related methods. ', [['lib/classes','component.php',41]], 511]};
CONST_DATA={
'FEATURE_GROUPINGS': ['FEATURE_GROUPINGS', '', [['lib','moodlelib.php',416]], 23],
'GRADE_TYPE_VALUE': ['GRADE_TYPE_VALUE', '', [['lib/grade','constants.php',85]], 80],
'FEATURE_GROUPS': ['FEATURE_GROUPS', '', [['lib','moodlelib.php',414]], 25],
'GRADE_TYPE_TEXT': ['GRADE_TYPE_TEXT', '', [['lib/grade','constants.php',95]], 28],
'LTI_SETTING_ALWAYS': ['LTI_SETTING_ALWAYS', '', [['mod/lti','locallib.php',79]], 14],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'DEBUG_DEVELOPER': ['DEBUG_DEVELOPER', '', [['lib','setuplib.php',40]], 736],
'FEATURE_BACKUP_MOODLE2': ['FEATURE_BACKUP_MOODLE2', '', [['lib','moodlelib.php',434]], 35],
'FEATURE_COMPLETION_TRACKS_VIEWS': ['FEATURE_COMPLETION_TRACKS_VIEWS', '', [['lib','moodlelib.php',405]], 23],
'FEATURE_GRADE_OUTCOMES': ['FEATURE_GRADE_OUTCOMES', '', [['lib','moodlelib.php',396]], 23],
'FEATURE_GRADE_HAS_GRADE': ['FEATURE_GRADE_HAS_GRADE', '', [['lib','moodlelib.php',394]], 29],
'GRADE_TYPE_SCALE': ['GRADE_TYPE_SCALE', '', [['lib/grade','constants.php',90]], 70],
'FEATURE_MOD_INTRO': ['FEATURE_MOD_INTRO', '', [['lib','moodlelib.php',426]], 31],
'LTI_LAUNCH_CONTAINER_WINDOW': ['LTI_LAUNCH_CONTAINER_WINDOW', '', [['mod/lti','locallib.php',64]], 7],
'FEATURE_SHOW_DESCRIPTION': ['FEATURE_SHOW_DESCRIPTION', '', [['lib','moodlelib.php',437]], 22]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
