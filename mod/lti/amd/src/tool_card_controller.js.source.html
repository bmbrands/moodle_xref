<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/lti/amd/src/tool_card_controller.js source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='mod/lti/amd/src';
filename='tool_card_controller.js.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/lti/amd/src/</a> -> <a href="tool_card_controller.js.html">tool_card_controller.js</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="tool_card_controller.js.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="tool_card_controller.js.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">//</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">//</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">//</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l15"><span class="linenum">  15</span></a>  
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment">/**</span>
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment"> * Controls all of the behaviour and interaction with a tool type card. These are</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * listed on the LTI tool type management page.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * See template: mod_lti/tool_card</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> *</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @module     mod_lti/tool_card_controller</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @class      tool_card_controller</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * @package    mod_lti</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> * @copyright  2015 Ryan Wyllie &lt;ryan@moodle.com&gt;</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> * @since      3.1</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> */</span>
<a name="l29"><span class="linenum">  29</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../../../../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>(['jquery', 'core/ajax', 'core/notification', 'core/templates', 'mod_lti/tool_type', 'mod_lti/events', 'mod_lti/keys',
<a name="l30"><span class="linenum">  30</span></a>          'core/str'],
<a name="l31"><span class="linenum">  31</span></a>          function($, ajax, notification, templates, toolType, ltiEvents, KEYS, str) {
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>      var SELECTORS = {
<a name="l34"><span class="linenum">  34</span></a>          DELETE_BUTTON: '.delete',
<a name="l35"><span class="linenum">  35</span></a>          NAME_ELEMENT: '.name',
<a name="l36"><span class="linenum">  36</span></a>          DESCRIPTION_ELEMENT: '.description',
<a name="l37"><span class="linenum">  37</span></a>          CAPABILITIES_CONTAINER: '.capabilities-container',
<a name="l38"><span class="linenum">  38</span></a>          ACTIVATE_BUTTON: '.tool-card-footer a.activate',
<a name="l39"><span class="linenum">  39</span></a>      };
<a name="l40"><span class="linenum">  40</span></a>  
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">    // Timeout in seconds.</span>
<a name="l42"><span class="linenum">  42</span></a>      var ANNOUNCEMENT_TIMEOUT = 2000;
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>      <span class="comment">/**</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     * Return the delete button element.</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     *</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     * @method getDeleteButton</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     * @private</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">     * @return {JQuery} jQuery object</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">     */</span>
<a name="l52"><span class="linenum">  52</span></a>      var getDeleteButton = function(element) {
<a name="l53"><span class="linenum">  53</span></a>          return element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(SELECTORS.DELETE_BUTTON);
<a name="l54"><span class="linenum">  54</span></a>      };
<a name="l55"><span class="linenum">  55</span></a>  
<a name="l56"><span class="linenum">  56</span></a>      <span class="comment">/**</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment">     * Return the element representing the tool type name.</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment">     *</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">     * @method getNameElement</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">     * @private</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">     * @return {JQuery} jQuery object</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">     */</span>
<a name="l64"><span class="linenum">  64</span></a>      var getNameElement = function(element) {
<a name="l65"><span class="linenum">  65</span></a>          return element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(SELECTORS.NAME_ELEMENT);
<a name="l66"><span class="linenum">  66</span></a>      };
<a name="l67"><span class="linenum">  67</span></a>  
<a name="l68"><span class="linenum">  68</span></a>      <span class="comment">/**</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">     * Return the element representing the tool type description.</span>
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">     *</span>
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">     * @method getDescriptionElement</span>
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment">     * @private</span>
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l74"><span class="linenum">  74</span></a>  <span class="comment">     * @return {JQuery} jQuery object</span>
<a name="l75"><span class="linenum">  75</span></a>  <span class="comment">     */</span>
<a name="l76"><span class="linenum">  76</span></a>      var getDescriptionElement = function(element) {
<a name="l77"><span class="linenum">  77</span></a>          return element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(SELECTORS.DESCRIPTION_ELEMENT);
<a name="l78"><span class="linenum">  78</span></a>      };
<a name="l79"><span class="linenum">  79</span></a>  
<a name="l80"><span class="linenum">  80</span></a>      <span class="comment">/**</span>
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">     * Return the activate button for the type.</span>
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">     *</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">     * @method getActivateButton</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">     * @private</span>
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">     * @param {Object} element jQuery object representing the tool card.</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment">     * @return {Object} jQuery object</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">     */</span>
<a name="l88"><span class="linenum">  88</span></a>      var getActivateButton = function(element) {
<a name="l89"><span class="linenum">  89</span></a>          return element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(SELECTORS.ACTIVATE_BUTTON);
<a name="l90"><span class="linenum">  90</span></a>      };
<a name="l91"><span class="linenum">  91</span></a>  
<a name="l92"><span class="linenum">  92</span></a>      <span class="comment">/**</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment">     * Checks if the type card has an activate button.</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">     *</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">     * @method hasActivateButton</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment">     * @private</span>
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">     * @return {Boolean} true if has active buton</span>
<a name="l99"><span class="linenum">  99</span></a>  <span class="comment">     */</span>
<a name="l100"><span class="linenum"> 100</span></a>      var hasActivateButton = function(element) {
<a name="l101"><span class="linenum"> 101</span></a>          return getActivateButton(element).length ? true : false;
<a name="l102"><span class="linenum"> 102</span></a>      };
<a name="l103"><span class="linenum"> 103</span></a>  
<a name="l104"><span class="linenum"> 104</span></a>      <span class="comment">/**</span>
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment">     * Return the element that contains the capabilities approval for</span>
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">     * the user.</span>
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment">     *</span>
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment">     * @method getCapabilitiesContainer</span>
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment">     * @private</span>
<a name="l110"><span class="linenum"> 110</span></a>  <span class="comment">     * @param {Object} element jQuery object representing the tool card.</span>
<a name="l111"><span class="linenum"> 111</span></a>  <span class="comment">     * @return {Object} The element</span>
<a name="l112"><span class="linenum"> 112</span></a>  <span class="comment">     */</span>
<a name="l113"><span class="linenum"> 113</span></a>      var getCapabilitiesContainer = function(element) {
<a name="l114"><span class="linenum"> 114</span></a>          return element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(SELECTORS.CAPABILITIES_CONTAINER);
<a name="l115"><span class="linenum"> 115</span></a>      };
<a name="l116"><span class="linenum"> 116</span></a>  
<a name="l117"><span class="linenum"> 117</span></a>      <span class="comment">/**</span>
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment">     * Checks if the tool type has capabilities that need approval. If it</span>
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment">     * does then the container will be present.</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment">     *</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">     * @method hasCapabilitiesContainer</span>
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment">     * @private</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l124"><span class="linenum"> 124</span></a>  <span class="comment">     * @return {Boolean} true if has capbilities.</span>
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">     */</span>
<a name="l126"><span class="linenum"> 126</span></a>      var hasCapabilitiesContainer = function(element) {
<a name="l127"><span class="linenum"> 127</span></a>          return getCapabilitiesContainer(element).length ? true : false;
<a name="l128"><span class="linenum"> 128</span></a>      };
<a name="l129"><span class="linenum"> 129</span></a>  
<a name="l130"><span class="linenum"> 130</span></a>      <span class="comment">/**</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     * Get the type id.</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">     *</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">     * @method getTypeId</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment">     * @private</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment">     * @param {Object} element jQuery object representing the tool card.</span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">     * @return {String} Type ID</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">     */</span>
<a name="l138"><span class="linenum"> 138</span></a>      var getTypeId = function(element) {
<a name="l139"><span class="linenum"> 139</span></a>          return element.attr('data-type-id');
<a name="l140"><span class="linenum"> 140</span></a>      };
<a name="l141"><span class="linenum"> 141</span></a>  
<a name="l142"><span class="linenum"> 142</span></a>      <span class="comment">/**</span>
<a name="l143"><span class="linenum"> 143</span></a>  <span class="comment">     * Stop any announcement currently visible on the card.</span>
<a name="l144"><span class="linenum"> 144</span></a>  <span class="comment">     *</span>
<a name="l145"><span class="linenum"> 145</span></a>  <span class="comment">     * @method clearAllAnnouncements</span>
<a name="l146"><span class="linenum"> 146</span></a>  <span class="comment">     * @private</span>
<a name="l147"><span class="linenum"> 147</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">     */</span>
<a name="l149"><span class="linenum"> 149</span></a>      var clearAllAnnouncements = function(element) {
<a name="l150"><span class="linenum"> 150</span></a>          element.removeClass('announcement loading success fail capabilities');
<a name="l151"><span class="linenum"> 151</span></a>      };
<a name="l152"><span class="linenum"> 152</span></a>  
<a name="l153"><span class="linenum"> 153</span></a>      <span class="comment">/**</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">     * Show the loading announcement.</span>
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment">     *</span>
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">     * @method startLoading</span>
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment">     * @private</span>
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l159"><span class="linenum"> 159</span></a>  <span class="comment">     */</span>
<a name="l160"><span class="linenum"> 160</span></a>      var startLoading = function(element) {
<a name="l161"><span class="linenum"> 161</span></a>          clearAllAnnouncements(element);
<a name="l162"><span class="linenum"> 162</span></a>          element.<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>('announcement loading');
<a name="l163"><span class="linenum"> 163</span></a>      };
<a name="l164"><span class="linenum"> 164</span></a>  
<a name="l165"><span class="linenum"> 165</span></a>      <span class="comment">/**</span>
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment">     * Hide the loading announcement.</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment">     *</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">     * @method stopLoading</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">     * @private</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">     */</span>
<a name="l172"><span class="linenum"> 172</span></a>      var stopLoading = function(element) {
<a name="l173"><span class="linenum"> 173</span></a>          element.removeClass('announcement loading');
<a name="l174"><span class="linenum"> 174</span></a>      };
<a name="l175"><span class="linenum"> 175</span></a>  
<a name="l176"><span class="linenum"> 176</span></a>      <span class="comment">/**</span>
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment">     * Show the success announcement. The announcement is only</span>
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">     * visible for 2 seconds.</span>
<a name="l179"><span class="linenum"> 179</span></a>  <span class="comment">     *</span>
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment">     * @method announceSuccess</span>
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment">     * @private</span>
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">     * @return {Promise} jQuery Deferred object</span>
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment">     */</span>
<a name="l185"><span class="linenum"> 185</span></a>      var announceSuccess = function(element) {
<a name="l186"><span class="linenum"> 186</span></a>          var promise = $.Deferred();
<a name="l187"><span class="linenum"> 187</span></a>  
<a name="l188"><span class="linenum"> 188</span></a>          clearAllAnnouncements(element);
<a name="l189"><span class="linenum"> 189</span></a>          element.<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>('announcement success');
<a name="l190"><span class="linenum"> 190</span></a>          <a class="function" onClick="logFunction('setTimeout')" href="../../../../_functions/settimeout.html" onMouseOver="funcPopup(event,'settimeout')">setTimeout</a>(function() {
<a name="l191"><span class="linenum"> 191</span></a>              element.removeClass('announcement success');
<a name="l192"><span class="linenum"> 192</span></a>              promise.<a class="function" onClick="logFunction('resolve')" href="../../../../_functions/resolve.html" onMouseOver="funcPopup(event,'resolve')">resolve</a>();
<a name="l193"><span class="linenum"> 193</span></a>          }, ANNOUNCEMENT_TIMEOUT);
<a name="l194"><span class="linenum"> 194</span></a>  
<a name="l195"><span class="linenum"> 195</span></a>          return promise;
<a name="l196"><span class="linenum"> 196</span></a>      };
<a name="l197"><span class="linenum"> 197</span></a>  
<a name="l198"><span class="linenum"> 198</span></a>      <span class="comment">/**</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment">     * Show the failure announcement. The announcement is only</span>
<a name="l200"><span class="linenum"> 200</span></a>  <span class="comment">     * visible for 2 seconds.</span>
<a name="l201"><span class="linenum"> 201</span></a>  <span class="comment">     *</span>
<a name="l202"><span class="linenum"> 202</span></a>  <span class="comment">     * @method announceFailure</span>
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment">     * @private</span>
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l205"><span class="linenum"> 205</span></a>  <span class="comment">     * @return {Promise} jQuery Deferred object</span>
<a name="l206"><span class="linenum"> 206</span></a>  <span class="comment">     */</span>
<a name="l207"><span class="linenum"> 207</span></a>      var announceFailure = function(element) {
<a name="l208"><span class="linenum"> 208</span></a>          var promise = $.Deferred();
<a name="l209"><span class="linenum"> 209</span></a>  
<a name="l210"><span class="linenum"> 210</span></a>          clearAllAnnouncements(element);
<a name="l211"><span class="linenum"> 211</span></a>          element.<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>('announcement fail');
<a name="l212"><span class="linenum"> 212</span></a>          <a class="function" onClick="logFunction('setTimeout')" href="../../../../_functions/settimeout.html" onMouseOver="funcPopup(event,'settimeout')">setTimeout</a>(function() {
<a name="l213"><span class="linenum"> 213</span></a>              element.removeClass('announcement fail');
<a name="l214"><span class="linenum"> 214</span></a>              promise.<a class="function" onClick="logFunction('resolve')" href="../../../../_functions/resolve.html" onMouseOver="funcPopup(event,'resolve')">resolve</a>();
<a name="l215"><span class="linenum"> 215</span></a>          }, ANNOUNCEMENT_TIMEOUT);
<a name="l216"><span class="linenum"> 216</span></a>  
<a name="l217"><span class="linenum"> 217</span></a>          return promise;
<a name="l218"><span class="linenum"> 218</span></a>      };
<a name="l219"><span class="linenum"> 219</span></a>  
<a name="l220"><span class="linenum"> 220</span></a>      <span class="comment">/**</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment">     * Delete the tool type from the Moodle server. Triggers a success</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment">     * or failure announcement depending on the result.</span>
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">     *</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment">     * @method deleteType</span>
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">     * @private</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment">     * @return {Promise} jQuery Deferred object</span>
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">     */</span>
<a name="l229"><span class="linenum"> 229</span></a>      var deleteType = function(element) {
<a name="l230"><span class="linenum"> 230</span></a>          var promise = $.Deferred();
<a name="l231"><span class="linenum"> 231</span></a>          var typeId = getTypeId(element);
<a name="l232"><span class="linenum"> 232</span></a>          startLoading(element);
<a name="l233"><span class="linenum"> 233</span></a>  
<a name="l234"><span class="linenum"> 234</span></a>          if (typeId === &quot;&quot;) {
<a name="l235"><span class="linenum"> 235</span></a>              return $.Deferred().<a class="function" onClick="logFunction('resolve')" href="../../../../_functions/resolve.html" onMouseOver="funcPopup(event,'resolve')">resolve</a>();
<a name="l236"><span class="linenum"> 236</span></a>          }
<a name="l237"><span class="linenum"> 237</span></a>  
<a name="l238"><span class="linenum"> 238</span></a>          str.<a class="function" onClick="logFunction('get_strings')" href="../../../../_functions/get_strings.html" onMouseOver="funcPopup(event,'get_strings')">get_strings</a>([
<a name="l239"><span class="linenum"> 239</span></a>                  {
<a name="l240"><span class="linenum"> 240</span></a>                      key: 'delete',
<a name="l241"><span class="linenum"> 241</span></a>                      component: 'mod_lti'
<a name="l242"><span class="linenum"> 242</span></a>                  },
<a name="l243"><span class="linenum"> 243</span></a>                  {
<a name="l244"><span class="linenum"> 244</span></a>                      key: 'delete_confirmation',
<a name="l245"><span class="linenum"> 245</span></a>                      component: 'mod_lti'
<a name="l246"><span class="linenum"> 246</span></a>                  },
<a name="l247"><span class="linenum"> 247</span></a>                  {
<a name="l248"><span class="linenum"> 248</span></a>                      key: 'delete',
<a name="l249"><span class="linenum"> 249</span></a>                      component: 'mod_lti'
<a name="l250"><span class="linenum"> 250</span></a>                  },
<a name="l251"><span class="linenum"> 251</span></a>                  {
<a name="l252"><span class="linenum"> 252</span></a>                      key: 'cancel',
<a name="l253"><span class="linenum"> 253</span></a>                      component: 'core'
<a name="l254"><span class="linenum"> 254</span></a>                  },
<a name="l255"><span class="linenum"> 255</span></a>              ])
<a name="l256"><span class="linenum"> 256</span></a>              .<a class="function" onClick="logFunction('done')" href="../../../../_functions/done.html" onMouseOver="funcPopup(event,'done')">done</a>(function(strs) {
<a name="l257"><span class="linenum"> 257</span></a>                      notification.<a class="function" onClick="logFunction('confirm')" href="../../../../_functions/confirm.html" onMouseOver="funcPopup(event,'confirm')">confirm</a>(strs[0], strs[1], strs[2], strs[3], function() {
<a name="l258"><span class="linenum"> 258</span></a>                              toolType.<a class="function" onClick="logFunction('delete')" href="../../../../_functions/delete.html" onMouseOver="funcPopup(event,'delete')">delete</a>(typeId)
<a name="l259"><span class="linenum"> 259</span></a>                                  .<a class="function" onClick="logFunction('done')" href="../../../../_functions/done.html" onMouseOver="funcPopup(event,'done')">done</a>(function() {
<a name="l260"><span class="linenum"> 260</span></a>                                          <a class="function" onClick="logFunction('stopLoading')" href="../../../../_functions/stoploading.html" onMouseOver="funcPopup(event,'stoploading')">stopLoading</a>(element);
<a name="l261"><span class="linenum"> 261</span></a>                                          announceSuccess(element)
<a name="l262"><span class="linenum"> 262</span></a>                                              .<a class="function" onClick="logFunction('done')" href="../../../../_functions/done.html" onMouseOver="funcPopup(event,'done')">done</a>(function() {
<a name="l263"><span class="linenum"> 263</span></a>                                                      element.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l264"><span class="linenum"> 264</span></a>                                                  })
<a name="l265"><span class="linenum"> 265</span></a>                                              .<a class="function" onClick="logFunction('fail')" href="../../../../_functions/fail.html" onMouseOver="funcPopup(event,'fail')">fail</a>(notification.exception)
<a name="l266"><span class="linenum"> 266</span></a>                                              .always(function() {
<a name="l267"><span class="linenum"> 267</span></a>  <span class="comment">                                                    // Always resolve because even if the announcement fails the type was deleted.</span>
<a name="l268"><span class="linenum"> 268</span></a>                                                      promise.<a class="function" onClick="logFunction('resolve')" href="../../../../_functions/resolve.html" onMouseOver="funcPopup(event,'resolve')">resolve</a>();
<a name="l269"><span class="linenum"> 269</span></a>                                                  });
<a name="l270"><span class="linenum"> 270</span></a>                                      })
<a name="l271"><span class="linenum"> 271</span></a>                                  .<a class="function" onClick="logFunction('fail')" href="../../../../_functions/fail.html" onMouseOver="funcPopup(event,'fail')">fail</a>(function(error) {
<a name="l272"><span class="linenum"> 272</span></a>                                          announceFailure(element);
<a name="l273"><span class="linenum"> 273</span></a>                                          promise.<a class="function" onClick="logFunction('reject')" href="../../../../_functions/reject.html" onMouseOver="funcPopup(event,'reject')">reject</a>(error);
<a name="l274"><span class="linenum"> 274</span></a>                                      });
<a name="l275"><span class="linenum"> 275</span></a>                          }, function() {
<a name="l276"><span class="linenum"> 276</span></a>                                  <a class="function" onClick="logFunction('stopLoading')" href="../../../../_functions/stoploading.html" onMouseOver="funcPopup(event,'stoploading')">stopLoading</a>(element);
<a name="l277"><span class="linenum"> 277</span></a>                                  promise.<a class="function" onClick="logFunction('resolve')" href="../../../../_functions/resolve.html" onMouseOver="funcPopup(event,'resolve')">resolve</a>();
<a name="l278"><span class="linenum"> 278</span></a>                              });
<a name="l279"><span class="linenum"> 279</span></a>                  })
<a name="l280"><span class="linenum"> 280</span></a>              .<a class="function" onClick="logFunction('fail')" href="../../../../_functions/fail.html" onMouseOver="funcPopup(event,'fail')">fail</a>(function(error) {
<a name="l281"><span class="linenum"> 281</span></a>                      <a class="function" onClick="logFunction('stopLoading')" href="../../../../_functions/stoploading.html" onMouseOver="funcPopup(event,'stoploading')">stopLoading</a>(element);
<a name="l282"><span class="linenum"> 282</span></a>                      notification.exception(error);
<a name="l283"><span class="linenum"> 283</span></a>                      promise.<a class="function" onClick="logFunction('reject')" href="../../../../_functions/reject.html" onMouseOver="funcPopup(event,'reject')">reject</a>(error);
<a name="l284"><span class="linenum"> 284</span></a>                  });
<a name="l285"><span class="linenum"> 285</span></a>  
<a name="l286"><span class="linenum"> 286</span></a>          return promise;
<a name="l287"><span class="linenum"> 287</span></a>      };
<a name="l288"><span class="linenum"> 288</span></a>  
<a name="l289"><span class="linenum"> 289</span></a>      <span class="comment">/**</span>
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment">     * Save a given value in a data attribute on the element.</span>
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment">     *</span>
<a name="l292"><span class="linenum"> 292</span></a>  <span class="comment">     * @method setValueSnapshot</span>
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment">     * @private</span>
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the element.</span>
<a name="l295"><span class="linenum"> 295</span></a>  <span class="comment">     * @param {String} value to be saved.</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment">     */</span>
<a name="l297"><span class="linenum"> 297</span></a>      var setValueSnapshot = function(element, value) {
<a name="l298"><span class="linenum"> 298</span></a>          element.attr('data-val-snapshot', value);
<a name="l299"><span class="linenum"> 299</span></a>      };
<a name="l300"><span class="linenum"> 300</span></a>  
<a name="l301"><span class="linenum"> 301</span></a>      <span class="comment">/**</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment">     * Return the saved value from the element.</span>
<a name="l303"><span class="linenum"> 303</span></a>  <span class="comment">     *</span>
<a name="l304"><span class="linenum"> 304</span></a>  <span class="comment">     * @method getValueSnapshot</span>
<a name="l305"><span class="linenum"> 305</span></a>  <span class="comment">     * @private</span>
<a name="l306"><span class="linenum"> 306</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the element.</span>
<a name="l307"><span class="linenum"> 307</span></a>  <span class="comment">     * @return {String} the saved value.</span>
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment">     */</span>
<a name="l309"><span class="linenum"> 309</span></a>      var getValueSnapshot = function(element) {
<a name="l310"><span class="linenum"> 310</span></a>          return element.attr('data-val-snapshot');
<a name="l311"><span class="linenum"> 311</span></a>      };
<a name="l312"><span class="linenum"> 312</span></a>  
<a name="l313"><span class="linenum"> 313</span></a>      <span class="comment">/**</span>
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment">     * Save the current value of the tool description.</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">     *</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">     * @method snapshotDescription</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">     * @private</span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment">     */</span>
<a name="l320"><span class="linenum"> 320</span></a>      var snapshotDescription = function(element) {
<a name="l321"><span class="linenum"> 321</span></a>          var descriptionElement = getDescriptionElement(element);
<a name="l322"><span class="linenum"> 322</span></a>  
<a name="l323"><span class="linenum"> 323</span></a>          if (descriptionElement.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>('loading')) {
<a name="l324"><span class="linenum"> 324</span></a>              return;
<a name="l325"><span class="linenum"> 325</span></a>          }
<a name="l326"><span class="linenum"> 326</span></a>  
<a name="l327"><span class="linenum"> 327</span></a>          var description = descriptionElement.<a class="function" onClick="logFunction('text')" href="../../../../_functions/text.html" onMouseOver="funcPopup(event,'text')">text</a>().<a class="phpfunction" onClick="logFunction('trim')" href="../../../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>();
<a name="l328"><span class="linenum"> 328</span></a>          setValueSnapshot(descriptionElement, description);
<a name="l329"><span class="linenum"> 329</span></a>      };
<a name="l330"><span class="linenum"> 330</span></a>  
<a name="l331"><span class="linenum"> 331</span></a>      <span class="comment">/**</span>
<a name="l332"><span class="linenum"> 332</span></a>  <span class="comment">     * Send a request to update the description value for this tool</span>
<a name="l333"><span class="linenum"> 333</span></a>  <span class="comment">     * in the Moodle server.</span>
<a name="l334"><span class="linenum"> 334</span></a>  <span class="comment">     *</span>
<a name="l335"><span class="linenum"> 335</span></a>  <span class="comment">     * @method updateDescription</span>
<a name="l336"><span class="linenum"> 336</span></a>  <span class="comment">     * @private</span>
<a name="l337"><span class="linenum"> 337</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l338"><span class="linenum"> 338</span></a>  <span class="comment">     * @return {Promise} jQuery Deferred object</span>
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">     */</span>
<a name="l340"><span class="linenum"> 340</span></a>      var updateDescription = function(element) {
<a name="l341"><span class="linenum"> 341</span></a>          var typeId = getTypeId(element);
<a name="l342"><span class="linenum"> 342</span></a>  
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment">        // Return early if we don't have an id because it's</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment">        // required to save the changes.</span>
<a name="l345"><span class="linenum"> 345</span></a>          if (typeId === &quot;&quot;) {
<a name="l346"><span class="linenum"> 346</span></a>              return $.Deferred().<a class="function" onClick="logFunction('resolve')" href="../../../../_functions/resolve.html" onMouseOver="funcPopup(event,'resolve')">resolve</a>();
<a name="l347"><span class="linenum"> 347</span></a>          }
<a name="l348"><span class="linenum"> 348</span></a>  
<a name="l349"><span class="linenum"> 349</span></a>          var descriptionElement = getDescriptionElement(element);
<a name="l350"><span class="linenum"> 350</span></a>  
<a name="l351"><span class="linenum"> 351</span></a>  <span class="comment">        // Return early if we're already saving a value.</span>
<a name="l352"><span class="linenum"> 352</span></a>          if (descriptionElement.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>('loading')) {
<a name="l353"><span class="linenum"> 353</span></a>              return $.Deferred().<a class="function" onClick="logFunction('resolve')" href="../../../../_functions/resolve.html" onMouseOver="funcPopup(event,'resolve')">resolve</a>();
<a name="l354"><span class="linenum"> 354</span></a>          }
<a name="l355"><span class="linenum"> 355</span></a>  
<a name="l356"><span class="linenum"> 356</span></a>          var description = descriptionElement.<a class="function" onClick="logFunction('text')" href="../../../../_functions/text.html" onMouseOver="funcPopup(event,'text')">text</a>().<a class="phpfunction" onClick="logFunction('trim')" href="../../../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>();
<a name="l357"><span class="linenum"> 357</span></a>          var snapshotVal = getValueSnapshot(descriptionElement);
<a name="l358"><span class="linenum"> 358</span></a>  
<a name="l359"><span class="linenum"> 359</span></a>  <span class="comment">        // If the value hasn't change then don't bother sending the</span>
<a name="l360"><span class="linenum"> 360</span></a>  <span class="comment">        // update request.</span>
<a name="l361"><span class="linenum"> 361</span></a>          if (snapshotVal == description) {
<a name="l362"><span class="linenum"> 362</span></a>              return $.Deferred().<a class="function" onClick="logFunction('resolve')" href="../../../../_functions/resolve.html" onMouseOver="funcPopup(event,'resolve')">resolve</a>();
<a name="l363"><span class="linenum"> 363</span></a>          }
<a name="l364"><span class="linenum"> 364</span></a>  
<a name="l365"><span class="linenum"> 365</span></a>          descriptionElement.<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>('loading');
<a name="l366"><span class="linenum"> 366</span></a>  
<a name="l367"><span class="linenum"> 367</span></a>          var promise = toolType.<a class="function" onClick="logFunction('update')" href="../../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>({id: typeId, description: description});
<a name="l368"><span class="linenum"> 368</span></a>  
<a name="l369"><span class="linenum"> 369</span></a>          promise.<a class="function" onClick="logFunction('done')" href="../../../../_functions/done.html" onMouseOver="funcPopup(event,'done')">done</a>(function(type) {
<a name="l370"><span class="linenum"> 370</span></a>              descriptionElement.removeClass('loading');
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment">            // Make sure the text is updated with the description from the</span>
<a name="l372"><span class="linenum"> 372</span></a>  <span class="comment">            // server, just in case the update didn't work.</span>
<a name="l373"><span class="linenum"> 373</span></a>              descriptionElement.<a class="function" onClick="logFunction('text')" href="../../../../_functions/text.html" onMouseOver="funcPopup(event,'text')">text</a>(type.description);
<a name="l374"><span class="linenum"> 374</span></a>          }).<a class="function" onClick="logFunction('fail')" href="../../../../_functions/fail.html" onMouseOver="funcPopup(event,'fail')">fail</a>(notification.exception);
<a name="l375"><span class="linenum"> 375</span></a>  
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment">        // Probably need to handle failures better so that we can revert</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment">        // the value in the input for the user.</span>
<a name="l378"><span class="linenum"> 378</span></a>          promise.<a class="function" onClick="logFunction('fail')" href="../../../../_functions/fail.html" onMouseOver="funcPopup(event,'fail')">fail</a>(function() {
<a name="l379"><span class="linenum"> 379</span></a>            descriptionElement.removeClass('loading');
<a name="l380"><span class="linenum"> 380</span></a>          });
<a name="l381"><span class="linenum"> 381</span></a>  
<a name="l382"><span class="linenum"> 382</span></a>          return promise;
<a name="l383"><span class="linenum"> 383</span></a>      };
<a name="l384"><span class="linenum"> 384</span></a>  
<a name="l385"><span class="linenum"> 385</span></a>      <span class="comment">/**</span>
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment">     * Save the current value of the tool name.</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">     *</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">     * @method snapshotName</span>
<a name="l389"><span class="linenum"> 389</span></a>  <span class="comment">     * @private</span>
<a name="l390"><span class="linenum"> 390</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l391"><span class="linenum"> 391</span></a>  <span class="comment">     */</span>
<a name="l392"><span class="linenum"> 392</span></a>      var snapshotName = function(element) {
<a name="l393"><span class="linenum"> 393</span></a>          var nameElement = getNameElement(element);
<a name="l394"><span class="linenum"> 394</span></a>  
<a name="l395"><span class="linenum"> 395</span></a>          if (nameElement.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>('loading')) {
<a name="l396"><span class="linenum"> 396</span></a>              return;
<a name="l397"><span class="linenum"> 397</span></a>          }
<a name="l398"><span class="linenum"> 398</span></a>  
<a name="l399"><span class="linenum"> 399</span></a>          var name = nameElement.<a class="function" onClick="logFunction('text')" href="../../../../_functions/text.html" onMouseOver="funcPopup(event,'text')">text</a>().<a class="phpfunction" onClick="logFunction('trim')" href="../../../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>();
<a name="l400"><span class="linenum"> 400</span></a>          setValueSnapshot(nameElement, name);
<a name="l401"><span class="linenum"> 401</span></a>      };
<a name="l402"><span class="linenum"> 402</span></a>  
<a name="l403"><span class="linenum"> 403</span></a>      <span class="comment">/**</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment">     * Send a request to update the name value for this tool</span>
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment">     * in the Moodle server.</span>
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment">     *</span>
<a name="l407"><span class="linenum"> 407</span></a>  <span class="comment">     * @method updateName</span>
<a name="l408"><span class="linenum"> 408</span></a>  <span class="comment">     * @private</span>
<a name="l409"><span class="linenum"> 409</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l410"><span class="linenum"> 410</span></a>  <span class="comment">     * @return {Promise} jQuery Deferred object</span>
<a name="l411"><span class="linenum"> 411</span></a>  <span class="comment">     */</span>
<a name="l412"><span class="linenum"> 412</span></a>      var updateName = function(element) {
<a name="l413"><span class="linenum"> 413</span></a>          var typeId = getTypeId(element);
<a name="l414"><span class="linenum"> 414</span></a>  
<a name="l415"><span class="linenum"> 415</span></a>  <span class="comment">        // Return if we don't have an id.</span>
<a name="l416"><span class="linenum"> 416</span></a>          if (typeId === &quot;&quot;) {
<a name="l417"><span class="linenum"> 417</span></a>              return $.Deferred().<a class="function" onClick="logFunction('resolve')" href="../../../../_functions/resolve.html" onMouseOver="funcPopup(event,'resolve')">resolve</a>();
<a name="l418"><span class="linenum"> 418</span></a>          }
<a name="l419"><span class="linenum"> 419</span></a>  
<a name="l420"><span class="linenum"> 420</span></a>          var nameElement = getNameElement(element);
<a name="l421"><span class="linenum"> 421</span></a>  
<a name="l422"><span class="linenum"> 422</span></a>  <span class="comment">        // Return if we're already saving.</span>
<a name="l423"><span class="linenum"> 423</span></a>          if (nameElement.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>('loading')) {
<a name="l424"><span class="linenum"> 424</span></a>              return $.Deferred().<a class="function" onClick="logFunction('resolve')" href="../../../../_functions/resolve.html" onMouseOver="funcPopup(event,'resolve')">resolve</a>();
<a name="l425"><span class="linenum"> 425</span></a>          }
<a name="l426"><span class="linenum"> 426</span></a>  
<a name="l427"><span class="linenum"> 427</span></a>          var name = nameElement.<a class="function" onClick="logFunction('text')" href="../../../../_functions/text.html" onMouseOver="funcPopup(event,'text')">text</a>().<a class="phpfunction" onClick="logFunction('trim')" href="../../../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>();
<a name="l428"><span class="linenum"> 428</span></a>          var snapshotVal = getValueSnapshot(nameElement);
<a name="l429"><span class="linenum"> 429</span></a>  
<a name="l430"><span class="linenum"> 430</span></a>  <span class="comment">        // If the value hasn't change then don't bother sending the</span>
<a name="l431"><span class="linenum"> 431</span></a>  <span class="comment">        // update request.</span>
<a name="l432"><span class="linenum"> 432</span></a>          if (snapshotVal == name) {
<a name="l433"><span class="linenum"> 433</span></a>              return $.Deferred().<a class="function" onClick="logFunction('resolve')" href="../../../../_functions/resolve.html" onMouseOver="funcPopup(event,'resolve')">resolve</a>();
<a name="l434"><span class="linenum"> 434</span></a>          }
<a name="l435"><span class="linenum"> 435</span></a>  
<a name="l436"><span class="linenum"> 436</span></a>          nameElement.<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>('loading');
<a name="l437"><span class="linenum"> 437</span></a>          var promise = toolType.<a class="function" onClick="logFunction('update')" href="../../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>({id: typeId, name: name});
<a name="l438"><span class="linenum"> 438</span></a>  
<a name="l439"><span class="linenum"> 439</span></a>          promise.<a class="function" onClick="logFunction('done')" href="../../../../_functions/done.html" onMouseOver="funcPopup(event,'done')">done</a>(function(type) {
<a name="l440"><span class="linenum"> 440</span></a>              nameElement.removeClass('loading');
<a name="l441"><span class="linenum"> 441</span></a>  <span class="comment">            // Make sure the text is updated with the name from the</span>
<a name="l442"><span class="linenum"> 442</span></a>  <span class="comment">            // server, just in case the update didn't work.</span>
<a name="l443"><span class="linenum"> 443</span></a>              nameElement.<a class="function" onClick="logFunction('text')" href="../../../../_functions/text.html" onMouseOver="funcPopup(event,'text')">text</a>(type.name);
<a name="l444"><span class="linenum"> 444</span></a>          });
<a name="l445"><span class="linenum"> 445</span></a>  
<a name="l446"><span class="linenum"> 446</span></a>  <span class="comment">        // Probably need to handle failures better so that we can revert</span>
<a name="l447"><span class="linenum"> 447</span></a>  <span class="comment">        // the value in the input for the user.</span>
<a name="l448"><span class="linenum"> 448</span></a>          promise.<a class="function" onClick="logFunction('fail')" href="../../../../_functions/fail.html" onMouseOver="funcPopup(event,'fail')">fail</a>(function() {
<a name="l449"><span class="linenum"> 449</span></a>            nameElement.removeClass('loading');
<a name="l450"><span class="linenum"> 450</span></a>          });
<a name="l451"><span class="linenum"> 451</span></a>  
<a name="l452"><span class="linenum"> 452</span></a>          return promise;
<a name="l453"><span class="linenum"> 453</span></a>      };
<a name="l454"><span class="linenum"> 454</span></a>  
<a name="l455"><span class="linenum"> 455</span></a>      <span class="comment">/**</span>
<a name="l456"><span class="linenum"> 456</span></a>  <span class="comment">     * Send a request to update the state for this tool to be configured (active)</span>
<a name="l457"><span class="linenum"> 457</span></a>  <span class="comment">     * in the Moodle server. A success or failure announcement is triggered depending</span>
<a name="l458"><span class="linenum"> 458</span></a>  <span class="comment">     * on the result.</span>
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment">     *</span>
<a name="l460"><span class="linenum"> 460</span></a>  <span class="comment">     * @method setStatusActive</span>
<a name="l461"><span class="linenum"> 461</span></a>  <span class="comment">     * @private</span>
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l463"><span class="linenum"> 463</span></a>  <span class="comment">     * @return {Promise} jQuery Deferred object</span>
<a name="l464"><span class="linenum"> 464</span></a>  <span class="comment">     */</span>
<a name="l465"><span class="linenum"> 465</span></a>      var setStatusActive = function(element) {
<a name="l466"><span class="linenum"> 466</span></a>          var id = getTypeId(element);
<a name="l467"><span class="linenum"> 467</span></a>  
<a name="l468"><span class="linenum"> 468</span></a>  <span class="comment">        // Return if we don't have an id.</span>
<a name="l469"><span class="linenum"> 469</span></a>          if (id === &quot;&quot;) {
<a name="l470"><span class="linenum"> 470</span></a>              return $.Deferred().<a class="function" onClick="logFunction('resolve')" href="../../../../_functions/resolve.html" onMouseOver="funcPopup(event,'resolve')">resolve</a>();
<a name="l471"><span class="linenum"> 471</span></a>          }
<a name="l472"><span class="linenum"> 472</span></a>  
<a name="l473"><span class="linenum"> 473</span></a>          startLoading(element);
<a name="l474"><span class="linenum"> 474</span></a>  
<a name="l475"><span class="linenum"> 475</span></a>          var promise = toolType.<a class="function" onClick="logFunction('update')" href="../../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>({
<a name="l476"><span class="linenum"> 476</span></a>              id: id,
<a name="l477"><span class="linenum"> 477</span></a>              state: toolType.constants.state.configured
<a name="l478"><span class="linenum"> 478</span></a>          });
<a name="l479"><span class="linenum"> 479</span></a>  
<a name="l480"><span class="linenum"> 480</span></a>          promise.<a class="function" onClick="logFunction('done')" href="../../../../_functions/done.html" onMouseOver="funcPopup(event,'done')">done</a>(function(toolTypeData) {
<a name="l481"><span class="linenum"> 481</span></a>              <a class="function" onClick="logFunction('stopLoading')" href="../../../../_functions/stoploading.html" onMouseOver="funcPopup(event,'stoploading')">stopLoading</a>(element);
<a name="l482"><span class="linenum"> 482</span></a>  
<a name="l483"><span class="linenum"> 483</span></a>              var announcePromise = announceSuccess(element);
<a name="l484"><span class="linenum"> 484</span></a>              var renderPromise = templates.<a class="function" onClick="logFunction('render')" href="../../../../_functions/render.html" onMouseOver="funcPopup(event,'render')">render</a>('mod_lti/tool_card', toolTypeData);
<a name="l485"><span class="linenum"> 485</span></a>  
<a name="l486"><span class="linenum"> 486</span></a>              $.when(renderPromise, announcePromise).then(function(renderResult) {
<a name="l487"><span class="linenum"> 487</span></a>                  var html = renderResult[0];
<a name="l488"><span class="linenum"> 488</span></a>                  var js = renderResult[1];
<a name="l489"><span class="linenum"> 489</span></a>  
<a name="l490"><span class="linenum"> 490</span></a>                  templates.replaceNode(element, html, js);
<a name="l491"><span class="linenum"> 491</span></a>              });
<a name="l492"><span class="linenum"> 492</span></a>          });
<a name="l493"><span class="linenum"> 493</span></a>  
<a name="l494"><span class="linenum"> 494</span></a>          promise.<a class="function" onClick="logFunction('fail')" href="../../../../_functions/fail.html" onMouseOver="funcPopup(event,'fail')">fail</a>(function() {
<a name="l495"><span class="linenum"> 495</span></a>              <a class="function" onClick="logFunction('stopLoading')" href="../../../../_functions/stoploading.html" onMouseOver="funcPopup(event,'stoploading')">stopLoading</a>(element);
<a name="l496"><span class="linenum"> 496</span></a>              announceFailure(element);
<a name="l497"><span class="linenum"> 497</span></a>          });
<a name="l498"><span class="linenum"> 498</span></a>  
<a name="l499"><span class="linenum"> 499</span></a>          return promise;
<a name="l500"><span class="linenum"> 500</span></a>      };
<a name="l501"><span class="linenum"> 501</span></a>  
<a name="l502"><span class="linenum"> 502</span></a>      <span class="comment">/**</span>
<a name="l503"><span class="linenum"> 503</span></a>  <span class="comment">     * Show the capabilities approval screen to show which groups of data this</span>
<a name="l504"><span class="linenum"> 504</span></a>  <span class="comment">     * type requires access to in Moodle (if any).</span>
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment">     *</span>
<a name="l506"><span class="linenum"> 506</span></a>  <span class="comment">     * @method displayCapabilitiesApproval</span>
<a name="l507"><span class="linenum"> 507</span></a>  <span class="comment">     * @private</span>
<a name="l508"><span class="linenum"> 508</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l509"><span class="linenum"> 509</span></a>  <span class="comment">     */</span>
<a name="l510"><span class="linenum"> 510</span></a>      var displayCapabilitiesApproval = function(element) {
<a name="l511"><span class="linenum"> 511</span></a>          element.<a class="function" onClick="logFunction('addClass')" href="../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>('announcement capabilities');
<a name="l512"><span class="linenum"> 512</span></a>      };
<a name="l513"><span class="linenum"> 513</span></a>  
<a name="l514"><span class="linenum"> 514</span></a>      <span class="comment">/**</span>
<a name="l515"><span class="linenum"> 515</span></a>  <span class="comment">     * Hide the capabilities approval screen.</span>
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment">     *</span>
<a name="l517"><span class="linenum"> 517</span></a>  <span class="comment">     * @method hideCapabilitiesApproval</span>
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment">     * @private</span>
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment">     */</span>
<a name="l521"><span class="linenum"> 521</span></a>      var hideCapabilitiesApproval = function(element) {
<a name="l522"><span class="linenum"> 522</span></a>          element.removeClass('announcement capabilities');
<a name="l523"><span class="linenum"> 523</span></a>      };
<a name="l524"><span class="linenum"> 524</span></a>  
<a name="l525"><span class="linenum"> 525</span></a>      <span class="comment">/**</span>
<a name="l526"><span class="linenum"> 526</span></a>  <span class="comment">     * The user wishes to activate this tool so show them the capabilities that</span>
<a name="l527"><span class="linenum"> 527</span></a>  <span class="comment">     * they need to agree to or if there are none then set the tool type's state</span>
<a name="l528"><span class="linenum"> 528</span></a>  <span class="comment">     * to active.</span>
<a name="l529"><span class="linenum"> 529</span></a>  <span class="comment">     *</span>
<a name="l530"><span class="linenum"> 530</span></a>  <span class="comment">     * @method activateToolType</span>
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment">     * @private</span>
<a name="l532"><span class="linenum"> 532</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l533"><span class="linenum"> 533</span></a>  <span class="comment">     */</span>
<a name="l534"><span class="linenum"> 534</span></a>      var activateToolType = function(element) {
<a name="l535"><span class="linenum"> 535</span></a>          if (hasCapabilitiesContainer(element)) {
<a name="l536"><span class="linenum"> 536</span></a>              displayCapabilitiesApproval(element);
<a name="l537"><span class="linenum"> 537</span></a>          } else {
<a name="l538"><span class="linenum"> 538</span></a>              setStatusActive(element);
<a name="l539"><span class="linenum"> 539</span></a>          }
<a name="l540"><span class="linenum"> 540</span></a>      };
<a name="l541"><span class="linenum"> 541</span></a>  
<a name="l542"><span class="linenum"> 542</span></a>      <span class="comment">/**</span>
<a name="l543"><span class="linenum"> 543</span></a>  <span class="comment">     * Sets up the listeners for user interaction on this tool type card.</span>
<a name="l544"><span class="linenum"> 544</span></a>  <span class="comment">     *</span>
<a name="l545"><span class="linenum"> 545</span></a>  <span class="comment">     * @method registerEventListeners</span>
<a name="l546"><span class="linenum"> 546</span></a>  <span class="comment">     * @private</span>
<a name="l547"><span class="linenum"> 547</span></a>  <span class="comment">     * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l548"><span class="linenum"> 548</span></a>  <span class="comment">     */</span>
<a name="l549"><span class="linenum"> 549</span></a>      var registerEventListeners = function(element) {
<a name="l550"><span class="linenum"> 550</span></a>          var deleteButton = getDeleteButton(element);
<a name="l551"><span class="linenum"> 551</span></a>          deleteButton.click(function(e) {
<a name="l552"><span class="linenum"> 552</span></a>              e.preventDefault();
<a name="l553"><span class="linenum"> 553</span></a>              deleteType(element);
<a name="l554"><span class="linenum"> 554</span></a>          });
<a name="l555"><span class="linenum"> 555</span></a>          deleteButton.keypress(function(e) {
<a name="l556"><span class="linenum"> 556</span></a>              if (!e.metaKey &amp;&amp; !e.shiftKey &amp;&amp; !e.altKey &amp;&amp; !e.ctrlKey) {
<a name="l557"><span class="linenum"> 557</span></a>                  if (e.keyCode == KEYS.ENTER || e.keyCode == KEYS.SPACE) {
<a name="l558"><span class="linenum"> 558</span></a>                      e.preventDefault();
<a name="l559"><span class="linenum"> 559</span></a>                      deleteButton.click();
<a name="l560"><span class="linenum"> 560</span></a>                  }
<a name="l561"><span class="linenum"> 561</span></a>              }
<a name="l562"><span class="linenum"> 562</span></a>          });
<a name="l563"><span class="linenum"> 563</span></a>  
<a name="l564"><span class="linenum"> 564</span></a>          var descriptionElement = getDescriptionElement(element);
<a name="l565"><span class="linenum"> 565</span></a>          descriptionElement.<a class="function" onClick="logFunction('focus')" href="../../../../_functions/focus.html" onMouseOver="funcPopup(event,'focus')">focus</a>(function(e) {
<a name="l566"><span class="linenum"> 566</span></a>              e.preventDefault();
<a name="l567"><span class="linenum"> 567</span></a>  <span class="comment">            // Save a copy of the current value for the description so that</span>
<a name="l568"><span class="linenum"> 568</span></a>  <span class="comment">            // we can check if the user has changed it before sending a request to</span>
<a name="l569"><span class="linenum"> 569</span></a>  <span class="comment">            // the server.</span>
<a name="l570"><span class="linenum"> 570</span></a>              snapshotDescription(element);
<a name="l571"><span class="linenum"> 571</span></a>          });
<a name="l572"><span class="linenum"> 572</span></a>          descriptionElement.blur(function(e) {
<a name="l573"><span class="linenum"> 573</span></a>              e.preventDefault();
<a name="l574"><span class="linenum"> 574</span></a>              updateDescription(element);
<a name="l575"><span class="linenum"> 575</span></a>          });
<a name="l576"><span class="linenum"> 576</span></a>          descriptionElement.keypress(function(e) {
<a name="l577"><span class="linenum"> 577</span></a>              if (!e.metaKey &amp;&amp; !e.shiftKey &amp;&amp; !e.altKey &amp;&amp; !e.ctrlKey) {
<a name="l578"><span class="linenum"> 578</span></a>                  if (e.keyCode == KEYS.ENTER) {
<a name="l579"><span class="linenum"> 579</span></a>                      e.preventDefault();
<a name="l580"><span class="linenum"> 580</span></a>                      descriptionElement.blur();
<a name="l581"><span class="linenum"> 581</span></a>                  }
<a name="l582"><span class="linenum"> 582</span></a>              }
<a name="l583"><span class="linenum"> 583</span></a>          });
<a name="l584"><span class="linenum"> 584</span></a>  
<a name="l585"><span class="linenum"> 585</span></a>          var nameElement = getNameElement(element);
<a name="l586"><span class="linenum"> 586</span></a>          nameElement.<a class="function" onClick="logFunction('focus')" href="../../../../_functions/focus.html" onMouseOver="funcPopup(event,'focus')">focus</a>(function(e) {
<a name="l587"><span class="linenum"> 587</span></a>              e.preventDefault();
<a name="l588"><span class="linenum"> 588</span></a>  <span class="comment">            // Save a copy of the current value for the name so that</span>
<a name="l589"><span class="linenum"> 589</span></a>  <span class="comment">            // we can check if the user has changed it before sending a request to</span>
<a name="l590"><span class="linenum"> 590</span></a>  <span class="comment">            // the server.</span>
<a name="l591"><span class="linenum"> 591</span></a>              snapshotName(element);
<a name="l592"><span class="linenum"> 592</span></a>          });
<a name="l593"><span class="linenum"> 593</span></a>          nameElement.blur(function(e) {
<a name="l594"><span class="linenum"> 594</span></a>              e.preventDefault();
<a name="l595"><span class="linenum"> 595</span></a>              updateName(element);
<a name="l596"><span class="linenum"> 596</span></a>          });
<a name="l597"><span class="linenum"> 597</span></a>          nameElement.keypress(function(e) {
<a name="l598"><span class="linenum"> 598</span></a>              if (!e.metaKey &amp;&amp; !e.shiftKey &amp;&amp; !e.altKey &amp;&amp; !e.ctrlKey) {
<a name="l599"><span class="linenum"> 599</span></a>                  if (e.keyCode == KEYS.ENTER) {
<a name="l600"><span class="linenum"> 600</span></a>                      e.preventDefault();
<a name="l601"><span class="linenum"> 601</span></a>                      nameElement.blur();
<a name="l602"><span class="linenum"> 602</span></a>                  }
<a name="l603"><span class="linenum"> 603</span></a>              }
<a name="l604"><span class="linenum"> 604</span></a>          });
<a name="l605"><span class="linenum"> 605</span></a>  
<a name="l606"><span class="linenum"> 606</span></a>  <span class="comment">        // Only pending tool type cards have an activate button.</span>
<a name="l607"><span class="linenum"> 607</span></a>          if (hasActivateButton(element)) {
<a name="l608"><span class="linenum"> 608</span></a>              var activateButton = getActivateButton(element);
<a name="l609"><span class="linenum"> 609</span></a>              activateButton.click(function(e) {
<a name="l610"><span class="linenum"> 610</span></a>                  e.preventDefault();
<a name="l611"><span class="linenum"> 611</span></a>                  activateToolType(element);
<a name="l612"><span class="linenum"> 612</span></a>              });
<a name="l613"><span class="linenum"> 613</span></a>              activateButton.keypress(function(e) {
<a name="l614"><span class="linenum"> 614</span></a>                  if (!e.metaKey &amp;&amp; !e.shiftKey &amp;&amp; !e.altKey &amp;&amp; !e.ctrlKey) {
<a name="l615"><span class="linenum"> 615</span></a>                      if (e.keyCode == KEYS.ENTER || e.keyCode == KEYS.SPACE) {
<a name="l616"><span class="linenum"> 616</span></a>                          e.preventDefault();
<a name="l617"><span class="linenum"> 617</span></a>                          activateButton.click();
<a name="l618"><span class="linenum"> 618</span></a>                      }
<a name="l619"><span class="linenum"> 619</span></a>                  }
<a name="l620"><span class="linenum"> 620</span></a>              });
<a name="l621"><span class="linenum"> 621</span></a>          }
<a name="l622"><span class="linenum"> 622</span></a>  
<a name="l623"><span class="linenum"> 623</span></a>          if (hasCapabilitiesContainer(element)) {
<a name="l624"><span class="linenum"> 624</span></a>              var capabilitiesContainer = getCapabilitiesContainer(element);
<a name="l625"><span class="linenum"> 625</span></a>  
<a name="l626"><span class="linenum"> 626</span></a>              capabilitiesContainer.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>(ltiEvents.CAPABILITIES_AGREE, function() {
<a name="l627"><span class="linenum"> 627</span></a>                  setStatusActive(element);
<a name="l628"><span class="linenum"> 628</span></a>              });
<a name="l629"><span class="linenum"> 629</span></a>  
<a name="l630"><span class="linenum"> 630</span></a>              capabilitiesContainer.<a class="function" onClick="logFunction('on')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>(ltiEvents.CAPABILITIES_DECLINE, function() {
<a name="l631"><span class="linenum"> 631</span></a>                  hideCapabilitiesApproval(element);
<a name="l632"><span class="linenum"> 632</span></a>              });
<a name="l633"><span class="linenum"> 633</span></a>          }
<a name="l634"><span class="linenum"> 634</span></a>      };
<a name="l635"><span class="linenum"> 635</span></a>  
<a name="l636"><span class="linenum"> 636</span></a>      return <span class="comment">/** @alias module:mod_lti/tool_card_controller */</span> {
<a name="l637"><span class="linenum"> 637</span></a>  
<a name="l638"><span class="linenum"> 638</span></a>          <span class="comment">/**</span>
<a name="l639"><span class="linenum"> 639</span></a>  <span class="comment">         * Initialise this module.</span>
<a name="l640"><span class="linenum"> 640</span></a>  <span class="comment">         *</span>
<a name="l641"><span class="linenum"> 641</span></a>  <span class="comment">         * @param {JQuery} element jQuery object representing the tool card.</span>
<a name="l642"><span class="linenum"> 642</span></a>  <span class="comment">         */</span>
<a name="l643"><span class="linenum"> 643</span></a>          init: function(element) {
<a name="l644"><span class="linenum"> 644</span></a>              registerEventListeners(element);
<a name="l645"><span class="linenum"> 645</span></a>          }
<a name="l646"><span class="linenum"> 646</span></a>      };
<a name="l647"><span class="linenum"> 647</span></a>  });
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'text': ['text', 'Search for text in either the entire message, or just the body. ', [['lib/horde/framework/Horde/Imap/Client/Search','Query.php',481],['lib/mustache/src/Mustache','Compiler.php',559],['lib/tcpdf','tcpdf.php',4870],['lib/htmlpurifier/HTMLPurifier','Printer.php',101]], 160],
'addclass': ['addclass', '', [['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',4450],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',4450],['lib/editor/atto/yui/src/rangy/js','rangy-classapplier.js',60]], 2581],
'find': ['find', '', [['lib/adodb','adodb-active-record.inc.php',917],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',17964],['lib','outputcomponents.php',3070],['lib','navigationlib.php',369],['lib','navigationlib.php',860],['lib','navigationlib.php',2726],['lib/behat','behat_base.php',92],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/tabfocus','editor_plugin_src.js',24],['lib/mustache/src/Mustache','Context.php',82],['lib/adodb','adodb-active-recordx.inc.php',1032],['lib/lessphp/Tree','Ruleset.php',317],['lib/lessphp/Tree','Directive.php',85],['lib/lessphp/Tree','Media.php',79],['lib/simplepie/library/SimplePie','Locator.php',94]], 715],
'hasclass': ['hasclass', '', [['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',4440],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',13134],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',4440],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/template','editor_plugin_src.js',82],['lib/editor/atto/yui/src/rangy/js','rangy-classapplier.js',50]], 888],
'remove': ['remove', 'Remove HashTable item ', [['lib/phpexcel/PHPExcel','HashTable.php',93],['lib/horde/framework/Horde/Mail/Rfc822','List.php',128],['lib/htmlpurifier/HTMLPurifier/Strategy','MakeWellFormed.php',590],['lib/horde/framework/Horde/Support','ConsistentHash.php',184],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',17045],['lib/horde/framework/Horde','Variables.php',238],['lib','navigationlib.php',398],['lib','navigationlib.php',915],['lib/horde/framework/Horde/Imap/Client','Ids.php',187],['lib/google/src/Google/Service','Games.php',1494],['lib/mustache/src/Mustache','HelperCollection.php',137],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',88],['lib/jquery','jquery-3.1.0.js',5683],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',43],['lib/google/src/Google/Service','PlusDomains.php',661],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',271],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',80],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',121]], 1103],
'delete': ['delete', 'Deletes an item from the cache store. ', [['cache/stores/static','lib.php',374],['cache','disabledlib.php',102],['lib/google/src/Google/Service','AdSense.php',1258],['lib/google/src/Google/Service','AdSense.php',1730],['lib/grade','grade_item.php',396],['lib/google/src/Google/Service','Replicapool.php',378],['lib/google/src/Google/Service','Tasks.php',310],['lib/google/src/Google/Service','Tasks.php',428],['lib/google/src/Google/Service','AndroidPublisher.php',1230],['lib/google/src/Google/Service','AndroidPublisher.php',1310],['lib/google/src/Google/Service','AndroidPublisher.php',1668],['lib/google/src/Google/Service','AndroidPublisher.php',1763],['lib/google/src/Google/Service','AndroidPublisher.php',2083],['lib/google/src/Google/Service','YouTubeReporting.php',255],['lib/google/src/Google/Service','Reseller.php',441],['lib/google/src/Google/Cache','Memcache.php',144],['lib','filelib.php',3481],['lib/google/src/Google/Service','Computeaccounts.php',418],['lib/google/src/Google/Service','Computeaccounts.php',497],['lib/google/src/Google/Service','Computeaccounts.php',668],['lib/grade','grade_category.php',281],['lib/grade','grade_scale.php',136],['lib/adodb','adodb-active-record.inc.php',901],['lib/grade','grade_object.php',270],['lib/google/src/Google/Service','YouTubeAnalytics.php',352],['lib/google/src/Google/Service','YouTubeAnalytics.php',447],['lib/google/src/Google/Service','MapsEngine.php',1693],['lib/google/src/Google/Service','MapsEngine.php',1991],['lib/google/src/Google/Service','MapsEngine.php',2344],['lib/google/src/Google/Service','MapsEngine.php',2651],['lib/google/src/Google/Service','MapsEngine.php',2912],['completion','data_object.php',273],['lib/google/src/Google/Cache','File.php',115],['cache/classes','dummystore.php',198],['lib/google/src/Google/Service','Dns.php',378],['cache/classes','loaders.php',792],['cache/classes','loaders.php',1471],['cache/classes','loaders.php',1841],['lib/google/src/Google/Service','Appengine.php',352],['lib/google/src/Google/Service','Appengine.php',455],['tag/classes','collection.php',260],['lib/filebrowser','file_info.php',418],['lib/google/src/Google/Service','AdExchangeBuyer.php',938],['lib/google/src/Google/Service','AdExchangeBuyer.php',1137],['lib/google/src/Google/Service','AdExchangeBuyer.php',1561],['lib/filebrowser','virtual_root_file.php',69],['lib/google/src/Google/Service','Books.php',1946],['lib/grade','grade_grade.php',1024],['lib/grade','grade_outcome.php',97],['lib/google/src/Google/Service','Analytics.php',2165],['lib/google/src/Google/Service','Analytics.php',2534],['lib/google/src/Google/Service','Analytics.php',2655],['lib/google/src/Google/Service','Analytics.php',2872],['lib/google/src/Google/Service','Analytics.php',3001],['lib/google/src/Google/Service','Analytics.php',3092],['lib/google/src/Google/Service','Analytics.php',3406],['lib/google/src/Google/Service','Analytics.php',3631],['lib/google/src/Google/Service','DeploymentManager.php',452],['lib/google/src/Google/Service','Blogger.php',1065],['lib/google/src/Google/Service','Blogger.php',1227],['lib/google/src/Google/Service','Blogger.php',1451],['lib/filebrowser','file_info_stored.php',631],['competency/classes','persistent.php',510],['lib/google/src/Google/Service','CloudUserAccounts.php',528],['lib/google/src/Google/Service','CloudUserAccounts.php',628],['lib/google/src/Google/Service','CloudUserAccounts.php',893],['lib/google/src/Google/Service','Cloudresourcemanager.php',390],['lib/htmlpurifier/HTMLPurifier','Zipper.php',89],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',960],['lib/google/src/Google/Service','TagManager.php',1022],['lib/google/src/Google/Service','TagManager.php',1113],['lib/google/src/Google/Service','TagManager.php',1265],['lib/google/src/Google/Service','TagManager.php',1358],['lib/google/src/Google/Service','TagManager.php',1452],['lib/google/src/Google/Service','TagManager.php',1546],['lib/google/src/Google/Service','TagManager.php',1696],['mod/lesson','locallib.php',1037],['mod/lesson','locallib.php',2271],['repository','lib.php',427],['repository','lib.php',1962],['admin/tool/uploadcourse/classes','course.php',226],['lib','badgeslib.php',640],['lib/google/src/Google/Service','Bigquery.php',531],['lib/google/src/Google/Service','Bigquery.php',863],['lib/google/src/Google/Service','ShoppingContent.php',1050],['lib/google/src/Google/Service','ShoppingContent.php',1448],['lib/google/src/Google/Service','ShoppingContent.php',1970],['lib/google/src/Google/Service','Webmasters.php',355],['lib/google/src/Google/Service','Webmasters.php',449],['lib/google/src/Google/Service','Clouddebugger.php',384],['lib/filestorage','stored_file.php',323],['lib/google/src/Google/Service','Container.php',309],['lib/google/src/Google/Service','Storage.php',1042],['lib/google/src/Google/Service','Storage.php',1157],['lib/google/src/Google/Service','Storage.php',1332],['lib/google/src/Google/Service','Storage.php',1454],['lib/google/src/Google/Service','Storage.php',1681],['cache/stores/memcache','lib.php',401],['lib/google/src/Google/Service','Genomics.php',646],['lib/google/src/Google/Service','Genomics.php',735],['lib/google/src/Google/Service','Genomics.php',903],['lib/google/src/Google/Service','Genomics.php',971],['lib/google/src/Google/Service','Genomics.php',1326],['lib/google/src/Google/Service','Genomics.php',1443],['lib/google/src/Google/Service','Licensing.php',224],['lib/google/src/Google/Service','Fitness.php',400],['lib/google/src/Google/Service','Fitness.php',512],['lib/google/src/Google/Service','Fitness.php',647],['comment','lib.php',790],['lib/google/src/Google/Service','Gmail.php',763],['lib/google/src/Google/Service','Gmail.php',921],['lib/google/src/Google/Service','Gmail.php',1014],['lib/google/src/Google/Service','Gmail.php',1234],['lib/google/src/Google/Service','Taskqueue.php',293],['lib/adodb','adodb-active-recordx.inc.php',1016],['lib','accesslib.php',5580],['cache/classes','interfaces.php',161],['lib/google/src/Google/Service','Autoscaler.php',315],['lib/google/src/Google/Service','Autoscaler.php',429],['lib/google/src/Google/Service','Prediction.php',262],['lib/google/src/Google/Service','SiteVerification.php',139],['lib/google/src/Google/Service','Drive.php',1522],['lib/google/src/Google/Service','Drive.php',1603],['lib/google/src/Google/Service','Drive.php',1748],['lib/google/src/Google/Service','Drive.php',2040],['lib/google/src/Google/Service','Drive.php',2110],['lib/google/src/Google/Service','Drive.php',2240],['lib/google/src/Google/Service','Drive.php',2403],['lib/google/src/Google/Service','Drive.php',2523],['lib/google/src/Google/Service','Proximitybeacon.php',522],['lib/google/src/Google/Service','Directory.php',1683],['lib/google/src/Google/Service','Directory.php',1916],['lib/google/src/Google/Service','Directory.php',1989],['lib/google/src/Google/Service','Directory.php',2059],['lib/google/src/Google/Service','Directory.php',2169],['lib/google/src/Google/Service','Directory.php',2224],['lib/google/src/Google/Service','Directory.php',2351],['lib/google/src/Google/Service','Directory.php',2420],['lib/google/src/Google/Service','Directory.php',2517],['lib/google/src/Google/Service','Directory.php',2652],['lib/google/src/Google/Service','Directory.php',2731],['lib/google/src/Google/Service','Directory.php',2836],['lib/google/src/Google/Service','Directory.php',2938],['lib/google/src/Google/Service','Directory.php',2999],['lib/google/src/Google/Service','Directory.php',3199],['lib/google/src/Google/Service','Directory.php',3274],['lib/google/src/Google/Service','Fusiontables.php',645],['lib/google/src/Google/Service','Fusiontables.php',812],['lib/google/src/Google/Service','Fusiontables.php',937],['lib/google/src/Google/Service','Fusiontables.php',1126],['lib/google/src/Google/Service','Fusiontables.php',1188],['lib/google/src/Google/Service','AdSenseHost.php',734],['lib/google/src/Google/Service','AdSenseHost.php',1010],['lib/google/src/Google/Service','AdSenseHost.php',1168],['lib/google/src/Google/Service','Mirror.php',425],['lib/google/src/Google/Service','Mirror.php',593],['lib/google/src/Google/Service','Mirror.php',661],['lib/google/src/Google/Service','Mirror.php',772],['tag/classes','area.php',187],['lib/google/src/Google/Service','AndroidEnterprise.php',988],['lib/google/src/Google/Service','AndroidEnterprise.php',1092],['lib/google/src/Google/Service','AndroidEnterprise.php',1280],['lib/google/src/Google/Service','AndroidEnterprise.php',1415],['lib/google/src/Google/Service','AndroidEnterprise.php',1597],['course','lib.php',3263],['mnet','peer.php',118],['search/tests/fixtures','mock_search_engine.php',48],['lib/google/src/Google/Service','Calendar.php',903],['lib/google/src/Google/Service','Calendar.php',1071],['lib/google/src/Google/Service','Calendar.php',1269],['lib/google/src/Google/Service','Calendar.php',1412],['cache/stores/session','lib.php',417],['blog','locallib.php',322],['lib/google/src/Google/Service','Storagetransfer.php',381],['cache/stores/mongodb','lib.php',361],['lib/google/src/Google/Cache','Null.php',53],['lib/google/src/Google/Service','GamesConfiguration.php',251],['lib/google/src/Google/Service','GamesConfiguration.php',390],['cache/stores/file','lib.php',393],['badges/criteria','award_criteria.php',330],['cache/stores/memcached','lib.php',402],['lib/google/src/Google/Service','AppState.php',154],['lib/google/src/Google/Service','Resourceviews.php',423],['lib/portfolio','plugin.php',692],['calendar','lib.php',2423],['lib/google/src/Google/Service','Classroom.php',466],['lib/google/src/Google/Service','Classroom.php',615],['lib/google/src/Google/Service','Classroom.php',701],['lib/google/src/Google/Service','Classroom.php',806],['lib/google/src/Google/Service','Classroom.php',934],['lib/google/src/Google/Service','SQLAdmin.php',786],['lib/google/src/Google/Service','SQLAdmin.php',856],['lib/google/src/Google/Service','SQLAdmin.php',1023],['lib/google/src/Google/Service','SQLAdmin.php',1368],['lib/google/src/Google/Service','SQLAdmin.php',1483],['badges/criteria','award_criteria_manual.php',220],['search/engine/solr/classes','engine.php',1045],['lib/google/src/Google/Service','Compute.php',4021],['lib/google/src/Google/Service','Compute.php',4149],['lib/google/src/Google/Service','Compute.php',4284],['lib/google/src/Google/Service','Compute.php',4571],['lib/google/src/Google/Service','Compute.php',4671],['lib/google/src/Google/Service','Compute.php',4829],['lib/google/src/Google/Service','Compute.php',4942],['lib/google/src/Google/Service','Compute.php',5033],['lib/google/src/Google/Service','Compute.php',5174],['lib/google/src/Google/Service','Compute.php',5248],['lib/google/src/Google/Service','Compute.php',5378],['lib/google/src/Google/Service','Compute.php',5508],['lib/google/src/Google/Service','Compute.php',5683],['lib/google/src/Google/Service','Compute.php',5984],['lib/google/src/Google/Service','Compute.php',6156],['lib/google/src/Google/Service','Compute.php',6316],['lib/google/src/Google/Service','Compute.php',6717],['lib/google/src/Google/Service','Compute.php',6898],['lib/google/src/Google/Service','Compute.php',7037],['lib/google/src/Google/Service','Compute.php',7128],['lib/google/src/Google/Service','Compute.php',7208],['lib/google/src/Google/Service','Compute.php',7299],['lib/google/src/Google/Service','Compute.php',7409],['lib/google/src/Google/Service','Compute.php',7570],['lib/google/src/Google/Service','Compute.php',7734],['lib/google/src/Google/Service','Compute.php',7938],['lib/google/src/Google/Service','Compute.php',8035],['lib/google/src/Google/Service','Compute.php',8210],['lib/google/src/Google/Service','Compute.php',8305],['lib/google/src/Google/Service','Pubsub.php',240],['lib/google/src/Google/Service','Pubsub.php',379],['lib/google/src/Google/Service','YouTube.php',1810],['lib/google/src/Google/Service','YouTube.php',2061],['lib/google/src/Google/Service','YouTube.php',2459],['lib/google/src/Google/Service','YouTube.php',2889],['lib/google/src/Google/Service','YouTube.php',3187],['lib/google/src/Google/Service','YouTube.php',3419],['lib/google/src/Google/Service','YouTube.php',3559],['lib/google/src/Google/Service','YouTube.php',3928],['lib/google/src/Google/Service','YouTube.php',4158],['lib/google/src/Google/Cache','Apc.php',105],['lib/google/src/Google/Service','Dfareporting.php',5000],['lib/google/src/Google/Service','Dfareporting.php',5566],['lib/google/src/Google/Service','Dfareporting.php',5753],['lib/google/src/Google/Service','Dfareporting.php',5877],['lib/google/src/Google/Service','Dfareporting.php',6397],['lib/google/src/Google/Service','Dfareporting.php',6578],['lib/google/src/Google/Service','Dfareporting.php',6731],['lib/google/src/Google/Service','Dfareporting.php',6996],['lib/google/src/Google/Service','Dfareporting.php',7503],['lib/google/src/Google/Service','Dfareporting.php',8102],['lib/google/src/Google/Service','Dfareporting.php',8768],['lib/google/src/Google/Service','Manager.php',244],['lib/google/src/Google/Service','Manager.php',324],['lib/google/src/Google/Service','CloudMonitoring.php',274],['lib','webdavlib.php',691]], 317],
'settimeout': ['settimeout', 'Set the maximum request time in seconds. ', [['lib/google/src/Google/IO','Stream.php',200],['lib/google/src/Google/Service','Appengine.php',1018],['lib/phpmailer','class.smtp.php',1164],['lib/google/src/Google/IO','Curl.php',154],['lib/google','curlio.php',156]], 707],
'done': ['done', '', [['lib/jquery/ui-1.11.4/external/jquery','jquery.js',8149],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',10806],['lib/htmlpurifier/HTMLPurifier','Zipper.php',98],['lib/jquery','jquery-3.1.0.js',9013],['lib/jquery/ui-1.11.4','jquery-ui.js',15355]], 278],
'focus': ['focus', 'To autofocus on first form element or first element with error. ', [['lib','formslib.php',239]], 962],
'fail': ['fail', '', [['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',133],['lib/lessphp/Exception','Chunk.php',181],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',133],['lib/editor/atto/yui/src/rangy/js','rangy-core.js',133]], 1158],
'resolve': ['resolve', '', [['lib/jquery','jquery-3.1.0.js',3494]], 175],
'on': ['on', '', [['lib/requirejs','require.js',508],['lib/jquery','jquery-3.1.0.js',4809]], 3823],
'reject': ['reject', 'Reject a course request ', [['course','lib.php',3248]], 49],
'confirm': ['confirm', 'Print a message along with button choices for Continue/Cancel ', [['lib','outputrenderers.php',1734]], 204],
'stoploading': ['stoploading', '', [['lib/xhprof/xhprof_html/jquery','jquery.autocomplete.js',382]], 3],
'update': ['update', 'In addition to update() as defined in grade_object, handle the grade_outcome and grade_scale objects. Force regrading if necessary, rounds the float numbers using php function, the reason is we need to compare the db value with computed number to skip regrading if possible. ', [['lib/grade','grade_item.php',274],['lib/google/src/Google/Service','Tasks.php',386],['lib/google/src/Google/Service','Tasks.php',556],['lib/google/src/Google/Service','AndroidPublisher.php',1413],['lib/google/src/Google/Service','AndroidPublisher.php',1545],['lib/google/src/Google/Service','AndroidPublisher.php',1615],['lib/google/src/Google/Service','AndroidPublisher.php',1853],['lib/google/src/Google/Service','AndroidPublisher.php',1919],['lib/google/src/Google/Service','AndroidPublisher.php',2003],['lib/google/src/Google/Service','AndroidPublisher.php',2177],['lib/google/src/Google/Service','Reseller.php',344],['lib/grade','grade_category.php',226],['lib/grade','grade_scale.php',125],['lib/adodb','adodb-active-record.inc.php',1004],['lib/grade','grade_object.php',238],['lib/google/src/Google/Service','YouTubeAnalytics.php',534],['completion','data_object.php',252],['mod/lesson/pagetypes','matching.php',308],['tag/classes','collection.php',215],['lib/google/src/Google/Service','AdExchangeBuyer.php',802],['lib/google/src/Google/Service','AdExchangeBuyer.php',906],['lib/google/src/Google/Service','AdExchangeBuyer.php',1013],['lib/google/src/Google/Service','AdExchangeBuyer.php',1181],['lib/google/src/Google/Service','AdExchangeBuyer.php',1357],['lib/google/src/Google/Service','AdExchangeBuyer.php',1640],['lib/google/src/Google/Service','Books.php',2025],['lib/grade','grade_grade.php',1009],['lib/grade','grade_outcome.php',144],['lib/google/src/Google/Service','Analytics.php',2215],['lib/google/src/Google/Service','Analytics.php',2388],['lib/google/src/Google/Service','Analytics.php',2501],['lib/google/src/Google/Service','Analytics.php',2626],['lib/google/src/Google/Service','Analytics.php',2736],['lib/google/src/Google/Service','Analytics.php',2843],['lib/google/src/Google/Service','Analytics.php',2971],['lib/google/src/Google/Service','Analytics.php',3062],['lib/google/src/Google/Service','Analytics.php',3185],['lib/google/src/Google/Service','Analytics.php',3502],['lib/google/src/Google/Service','Analytics.php',3604],['lib/google/src/Google/Service','Analytics.php',3686],['lib/google/src/Google/Service','Coordinate.php',611],['lib/google/src/Google/Service','Coordinate.php',727],['lib/google/src/Google/Service','DeploymentManager.php',589],['tag/classes/output','tagareacollection.php',68],['lib','weblib.php',3312],['lib/google/src/Google/Service','Blogger.php',1349],['lib/google/src/Google/Service','Blogger.php',1647],['lib/google/src/Google/Service','Dataflow.php',350],['tag/classes/output','tagcollname.php',58],['competency/classes','persistent.php',452],['lib/google/src/Google/Service','Cloudresourcemanager.php',344],['lib/google/src/Google/Service','Cloudresourcemanager.php',555],['lib/google/src/Google/Service','TagManager.php',977],['lib/google/src/Google/Service','TagManager.php',1066],['lib/google/src/Google/Service','TagManager.php',1159],['lib/google/src/Google/Service','TagManager.php',1219],['lib/google/src/Google/Service','TagManager.php',1311],['lib/google/src/Google/Service','TagManager.php',1405],['lib/google/src/Google/Service','TagManager.php',1499],['lib/google/src/Google/Service','TagManager.php',1650],['lib/google/src/Google/Service','TagManager.php',1743],['mod/lesson','locallib.php',2691],['lib/google/src/Google/Service','Bigquery.php',621],['lib/google/src/Google/Service','Bigquery.php',953],['lib/google/src/Google/Service','ShoppingContent.php',1136],['lib/google/src/Google/Service','ShoppingContent.php',1238],['lib/google/src/Google/Service','ShoppingContent.php',1401],['lib/google/src/Google/Service','ShoppingContent.php',1534],['mod/lesson/pagetypes','truefalse.php',163],['lib/google/src/Google/Service','Clouddebugger.php',307],['lib/filestorage','stored_file.php',103],['lib/google/src/Google/Service','Container.php',366],['lib/horde/framework/Horde/Support','Array.php',70],['lib/google/src/Google/Service','Storage.php',1127],['lib/google/src/Google/Service','Storage.php',1268],['lib/google/src/Google/Service','Storage.php',1423],['lib/google/src/Google/Service','Storage.php',1564],['lib/google/src/Google/Service','Storage.php',1904],['tag/classes/output','tagname.php',56],['tag/classes/output','tagcollsearchable.php',72],['lib/google/src/Google/Service','Games.php',1508],['lib/google/src/Google/Service','Licensing.php',335],['lib/google/src/Google/Service','Fitness.php',478],['lib/google/src/Google/Service','Fitness.php',691],['lib/google/src/Google/Service','Gmail.php',833],['lib/google/src/Google/Service','Gmail.php',986],['lib/google/src/Google/Service','Taskqueue.php',398],['lib/adodb','adodb-active-recordx.inc.php',1136],['grade/grading/form','lib.php',905],['lib/google/src/Google/Service','Doubleclicksearch.php',326],['lib/google/src/Google/Service','Autoscaler.php',400],['tag/classes/output','tagisstandard.php',70],['lib/google/src/Google/Service','Prediction.php',339],['lib/google/src/Google/Service','SiteVerification.php',227],['lib/google/src/Google/Service','Drive.php',1691],['lib/google/src/Google/Service','Drive.php',1961],['lib/google/src/Google/Service','Drive.php',2208],['lib/google/src/Google/Service','Drive.php',2320],['lib/google/src/Google/Service','Drive.php',2370],['lib/google/src/Google/Service','Drive.php',2494],['lib/google/src/Google/Service','Drive.php',2582],['tag/classes/output','tagflag.php',71],['lib/google/src/Google/Service','Proximitybeacon.php',440],['lib/google/src/Google/Service','Groupssettings.php',138],['lib/google/src/Google/Service','Directory.php',1829],['lib/google/src/Google/Service','Directory.php',1889],['lib/google/src/Google/Service','Directory.php',2141],['lib/google/src/Google/Service','Directory.php',2306],['lib/google/src/Google/Service','Directory.php',2489],['lib/google/src/Google/Service','Directory.php',2597],['lib/google/src/Google/Service','Directory.php',2808],['lib/google/src/Google/Service','Directory.php',2910],['lib/google/src/Google/Service','Directory.php',3131],['lib/google/src/Google/Service','Directory.php',3317],['lib/google/src/Google/Service','Fusiontables.php',727],['lib/google/src/Google/Service','Fusiontables.php',892],['lib/google/src/Google/Service','Fusiontables.php',1094],['lib/google/src/Google/Service','Fusiontables.php',1269],['lib/google/src/Google/Service','AdSenseHost.php',846],['lib/google/src/Google/Service','AdSenseHost.php',1097],['course/classes/output','course_module_name.php',81],['lib/google/src/Google/Service','Mirror.php',496],['lib/google/src/Google/Service','Mirror.php',634],['lib/google/src/Google/Service','Mirror.php',745],['tag/classes','area.php',226],['lib/google/src/Google/Service','AndroidEnterprise.php',1064],['lib/google/src/Google/Service','AndroidEnterprise.php',1165],['lib/google/src/Google/Service','AndroidEnterprise.php',1489],['lib/google/src/Google/Service','AndroidEnterprise.php',1672],['grade/grading/form/rubric','lib.php',828],['lib/xhprof/xhprof_html/jquery','jquery.tooltip.js',200],['mod/lesson/pagetypes','essay.php',158],['lib','coursecatlib.php',438],['tag/classes','tag.php',893],['lib/google/src/Google/Service','Calendar.php',1006],['lib/google/src/Google/Service','Calendar.php',1181],['lib/google/src/Google/Service','Calendar.php',1333],['lib/google/src/Google/Service','Calendar.php',1714],['lib/google/src/Google/Service','PlusDomains.php',692],['lib/google/src/Google/Service','GamesConfiguration.php',334],['lib/google/src/Google/Service','GamesConfiguration.php',473],['mod/lesson/pagetypes','branchtable.php',262],['tag/classes/output','tagareashowstandard.php',64],['lib/google/src/Google/Service','AppState.php',202],['calendar','lib.php',2206],['tag/classes/output','tagareaenabled.php',69],['cohort/classes/output','cohortidnumber.php',53],['lib/google/src/Google/Service','Classroom.php',564],['cohort/classes/output','cohortname.php',53],['lib/google/src/Google/Service','SQLAdmin.php',947],['lib/google/src/Google/Service','SQLAdmin.php',1267],['lib/google/src/Google/Service','SQLAdmin.php',1534],['grade/grading/form/guide','lib.php',836],['lib/google/src/Google/Service','Compute.php',4253],['lib/google/src/Google/Service','Compute.php',4398],['lib/google/src/Google/Service','Compute.php',4767],['lib/google/src/Google/Service','Compute.php',5348],['lib/google/src/Google/Service','Compute.php',5478],['lib/google/src/Google/Service','Compute.php',8131],['lib/google/src/Google/Service','YouTube.php',1959],['lib/google/src/Google/Service','YouTube.php',2194],['lib/google/src/Google/Service','YouTube.php',2303],['lib/google/src/Google/Service','YouTube.php',2429],['lib/google/src/Google/Service','YouTube.php',2570],['lib/google/src/Google/Service','YouTube.php',3111],['lib/google/src/Google/Service','YouTube.php',3348],['lib/google/src/Google/Service','YouTube.php',3518],['lib/google/src/Google/Service','YouTube.php',3708],['lib/google/src/Google/Service','YouTube.php',4400],['lib/google/src/Google/Service','Dfareporting.php',4752],['lib/google/src/Google/Service','Dfareporting.php',4840],['lib/google/src/Google/Service','Dfareporting.php',4973],['lib/google/src/Google/Service','Dfareporting.php',5090],['lib/google/src/Google/Service','Dfareporting.php',5204],['lib/google/src/Google/Service','Dfareporting.php',5400],['lib/google/src/Google/Service','Dfareporting.php',5656],['lib/google/src/Google/Service','Dfareporting.php',5848],['lib/google/src/Google/Service','Dfareporting.php',5970],['lib/google/src/Google/Service','Dfareporting.php',6078],['lib/google/src/Google/Service','Dfareporting.php',6196],['lib/google/src/Google/Service','Dfareporting.php',6502],['lib/google/src/Google/Service','Dfareporting.php',6704],['lib/google/src/Google/Service','Dfareporting.php',6834],['lib/google/src/Google/Service','Dfareporting.php',6912],['lib/google/src/Google/Service','Dfareporting.php',7077],['lib/google/src/Google/Service','Dfareporting.php',7476],['lib/google/src/Google/Service','Dfareporting.php',7594],['lib/google/src/Google/Service','Dfareporting.php',7744],['lib/google/src/Google/Service','Dfareporting.php',7968],['lib/google/src/Google/Service','Dfareporting.php',8075],['lib/google/src/Google/Service','Dfareporting.php',8202],['lib/google/src/Google/Service','Dfareporting.php',8394],['lib/google/src/Google/Service','Dfareporting.php',8557],['lib/google/src/Google/Service','Dfareporting.php',8861],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',72]], 498],
'render': ['render', 'Renders this element ', [['lib/classes/output','inplace_editable.php',238],['lib/adodb','adodb-pager.inc.php',241],['lib/phpexcel/PHPExcel','Chart.php',656],['lib','formslib.php',948],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/fullscreen','fullscreen.htm',82],['lib','outputrenderers.php',170],['lib','outputrenderers.php',302],['question/behaviour','behaviourbase.php',97],['lib/htmlpurifier/HTMLPurifier/Printer','HTMLDefinition.php',15],['lib/htmlpurifier/HTMLPurifier/Printer','CSSDefinition.php',14],['filter/tex','latex.php',88],['lib','portfoliolib.php',241],['mod/quiz/classes/question/bank','custom_view.php',133],['lib/mustache/src/Mustache','Engine.php',204],['question/engine/tests','helpers.php',797],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',85],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',235],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',298],['lib/htmlpurifier/HTMLPurifier/Printer','ConfigForm.php',391],['lib/mustache/src/Mustache','Template.php',57],['lib/phpexcel/PHPExcel/Chart/Renderer','jpgraph.php',790],['question/engine','questionattempt.php',814],['lib/mustache/src/Mustache','LambdaHelper.php',39]], 942],
'get_strings': ['get_strings', 'Converts an array of strings to their localized value. ', [['lib','moodlelib.php',6862],['lib/external','externallib.php',156]], 56],
'define': ['define', '', [], 2373],
'trim': ['trim', '', [], 1948]};
CLASS_DATA={
};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
