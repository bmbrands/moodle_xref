<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/lti/tests/locallib_test.php source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='mod/lti/tests';
filename='locallib_test.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/lti/tests/</a> -> <a href="locallib_test.php.html">locallib_test.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="locallib_test.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="locallib_test.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment">//</span>
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">// This file is part of BasicLTI4Moodle</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment">//</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment">// BasicLTI4Moodle is an IMS BasicLTI (Basic Learning Tools for Interoperability)</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment">// consumer for Moodle 1.9 and Moodle 2.0. BasicLTI is a IMS Standard that allows web</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment">// based learning tools to be easily integrated in LMS as native ones. The IMS BasicLTI</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment">// specification is part of the IMS standard Common Cartridge 1.1 Sakai and other main LMS</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment">// are already supporting or going to support BasicLTI. This project Implements the consumer</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment">// for Moodle. Moodle is a Free Open source Learning Management System by Martin Dougiamas.</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment">// BasicLTI4Moodle is a project iniciated and leaded by Ludo(Marc Alier) and Jordi Piguillem</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment">// at the GESSI research group at UPC.</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment">// SimpleLTI consumer for Moodle is an implementation of the early specification of LTI</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">// by Charles Severance (Dr Chuck) htp://dr-chuck.com , developed by Jordi Piguillem in a</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment">// Google Summer of Code 2008 project co-mentored by Charles Severance and Marc Alier.</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">//</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">// BasicLTI4Moodle is copyright 2009 by Marc Alier Forment, Jordi Piguillem and Nikolas Galanis</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">// of the Universitat Politecnica de Catalunya http://www.upc.edu</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">// Contact info: Marc Alier Forment granludo @ gmail.com or marc.alier @ upc.edu.</span>
<a name="l34"><span class="linenum">  34</span></a>  
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment">/**</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * This file contains unit tests for (some of) lti/locallib.php</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> *</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * @package    mod_lti</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> * @category   phpunit</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> * @copyright  2009 Marc Alier, Jordi Piguillem, Nikolas Galanis</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> * @copyright  2009 Universitat Politecnica de Catalunya http://www.upc.edu</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment"> * @author     Charles Severance csev@unmich.edu</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment"> * @author     Marc Alier (marc.alier@upc.edu)</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment"> * @author     Jordi Piguillem</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment"> * @author     Nikolas Galanis</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment"> * @author     Chris Scribner</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment"> */</span>
<a name="l49"><span class="linenum">  49</span></a>  
<a name="l50"><span class="linenum">  50</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die;
<a name="l51"><span class="linenum">  51</span></a>  
<a name="l52"><span class="linenum">  52</span></a>  global <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>;
<a name="l53"><span class="linenum">  53</span></a>  require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../../mod/lti/locallib.php.html">/mod/lti/locallib.php</a>');
<a name="l54"><span class="linenum">  54</span></a>  require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../../mod/lti/servicelib.php.html">/mod/lti/servicelib.php</a>');
<a name="l55"><span class="linenum">  55</span></a>  
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment">/**</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment"> * Local library tests</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment"> *</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment"> * @package    mod_lti</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment"> * @copyright  Copyright (c) 2012 Moodlerooms Inc. (http://www.moodlerooms.com)</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment"> */</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('mod_lti_locallib_testcase')" href="../../../_classes/mod_lti_locallib_testcase.html" onMouseOver="classPopup(event,'mod_lti_locallib_testcase')">mod_lti_locallib_testcase</a> extends advanced_testcase {
<a name="l64"><span class="linenum">  64</span></a>  
<a name="l65"><span class="linenum">  65</span></a>      public function <a class="function" onClick="logFunction('test_split_custom_parameters')" href="../../../_functions/test_split_custom_parameters.html" onMouseOver="funcPopup(event,'test_split_custom_parameters')">test_split_custom_parameters</a>() {
<a name="l66"><span class="linenum">  66</span></a>          <a class="var it11271" onMouseOver="hilite(11271)" onMouseOut="lolite()" onClick="logVariable('tool')" href="../../../_variables/tool.html">$tool</a> = new stdClass();
<a name="l67"><span class="linenum">  67</span></a>          <a class="var it11271" onMouseOver="hilite(11271)" onMouseOut="lolite()" onClick="logVariable('tool')" href="../../../_variables/tool.html">$tool</a>-&gt;<a onClick="logVariable('enabledcapability')" class="var it40523" onMouseOver="hilite(40523)" onMouseOut="lolite()" href="../../../_variables/enabledcapability.html">enabledcapability</a> = '';
<a name="l68"><span class="linenum">  68</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="function" onClick="logFunction('lti_split_custom_parameters')" href="../../../_functions/lti_split_custom_parameters.html" onMouseOver="funcPopup(event,'lti_split_custom_parameters')">lti_split_custom_parameters</a>(null, <a class="var it11271" onMouseOver="hilite(11271)" onMouseOut="lolite()" onClick="logVariable('tool')" href="../../../_variables/tool.html">$tool</a>, array(), &quot;x=1\ny=2&quot;, false),
<a name="l69"><span class="linenum">  69</span></a>              array('custom_x' =&gt; '1', 'custom_y' =&gt; '2'));
<a name="l70"><span class="linenum">  70</span></a>  
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">        // Removed repeat of previous test with a semicolon separator.</span>
<a name="l72"><span class="linenum">  72</span></a>  
<a name="l73"><span class="linenum">  73</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="function" onClick="logFunction('lti_split_custom_parameters')" href="../../../_functions/lti_split_custom_parameters.html" onMouseOver="funcPopup(event,'lti_split_custom_parameters')">lti_split_custom_parameters</a>(null, <a class="var it11271" onMouseOver="hilite(11271)" onMouseOut="lolite()" onClick="logVariable('tool')" href="../../../_variables/tool.html">$tool</a>, array(), 'Review:Chapter=1.2.56', false),
<a name="l74"><span class="linenum">  74</span></a>              array('custom_review_chapter' =&gt; '1.2.56'));
<a name="l75"><span class="linenum">  75</span></a>  
<a name="l76"><span class="linenum">  76</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="function" onClick="logFunction('lti_split_custom_parameters')" href="../../../_functions/lti_split_custom_parameters.html" onMouseOver="funcPopup(event,'lti_split_custom_parameters')">lti_split_custom_parameters</a>(null, <a class="var it11271" onMouseOver="hilite(11271)" onMouseOut="lolite()" onClick="logVariable('tool')" href="../../../_variables/tool.html">$tool</a>, array(),
<a name="l77"><span class="linenum">  77</span></a>              'Complex!@#$^*(){}[]KEY=Complex!@#$^*;(){}[]½Value', false),
<a name="l78"><span class="linenum">  78</span></a>              array('custom_complex____________key' =&gt; 'Complex!@#$^*;(){}[]½Value'));
<a name="l79"><span class="linenum">  79</span></a>      }
<a name="l80"><span class="linenum">  80</span></a>  
<a name="l81"><span class="linenum">  81</span></a>      <span class="comment">/**</span>
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">     * This test has been disabled because the test-tool is</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">     * being moved and probably it won't work anymore for this.</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment">     * We should be testing here local stuff only and leave</span>
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">     * outside-checks to the conformance tests. MDL-30347</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment">     */</span>
<a name="l87"><span class="linenum">  87</span></a>      public function <a class="function" onClick="logFunction('disabled_test_sign_parameters')" href="../../../_functions/disabled_test_sign_parameters.html" onMouseOver="funcPopup(event,'disabled_test_sign_parameters')">disabled_test_sign_parameters</a>() {
<a name="l88"><span class="linenum">  88</span></a>          <a class="var it1779" onMouseOver="hilite(1779)" onMouseOut="lolite()" onClick="logVariable('correct')" href="../../../_variables/correct.html">$correct</a> = array ( 'context_id' =&gt; '12345', 'context_label' =&gt; 'SI124', 'context_title' =&gt; 'Social Computing',
<a name="l89"><span class="linenum">  89</span></a>              'ext_submit' =&gt; 'Click Me', 'lti_message_type' =&gt; 'basic-lti-launch-request', 'lti_version' =&gt; 'LTI-1p0',
<a name="l90"><span class="linenum">  90</span></a>              'oauth_consumer_key' =&gt; 'lmsng.school.edu', 'oauth_nonce' =&gt; '47458148e33a8f9dafb888c3684cf476',
<a name="l91"><span class="linenum">  91</span></a>              'oauth_signature' =&gt; 'qWgaBIezihCbeHgcwUy14tZcyDQ=', 'oauth_signature_method' =&gt; 'HMAC-SHA1',
<a name="l92"><span class="linenum">  92</span></a>              'oauth_timestamp' =&gt; '1307141660', 'oauth_version' =&gt; '1.0', 'resource_link_id' =&gt; '123',
<a name="l93"><span class="linenum">  93</span></a>              'resource_link_title' =&gt; 'Weekly Blog', 'roles' =&gt; 'Learner', 'tool_consumer_instance_guid' =&gt; 'lmsng.school.edu',
<a name="l94"><span class="linenum">  94</span></a>              'user_id' =&gt; '789');
<a name="l95"><span class="linenum">  95</span></a>  
<a name="l96"><span class="linenum">  96</span></a>          <a class="var it11273" onMouseOver="hilite(11273)" onMouseOut="lolite()" onClick="logVariable('requestparams')" href="../../../_variables/requestparams.html">$requestparams</a> = array('resource_link_id' =&gt; '123', 'resource_link_title' =&gt; 'Weekly Blog', 'user_id' =&gt; '789',
<a name="l97"><span class="linenum">  97</span></a>              'roles' =&gt; 'Learner', 'context_id' =&gt; '12345', 'context_label' =&gt; 'SI124', 'context_title' =&gt; 'Social Computing');
<a name="l98"><span class="linenum">  98</span></a>  
<a name="l99"><span class="linenum">  99</span></a>          <a class="var it2947" onMouseOver="hilite(2947)" onMouseOut="lolite()" onClick="logVariable('parms')" href="../../../_variables/parms.html">$parms</a> = <a class="function" onClick="logFunction('lti_sign_parameters')" href="../../../_functions/lti_sign_parameters.html" onMouseOver="funcPopup(event,'lti_sign_parameters')">lti_sign_parameters</a>(<a class="var it11273" onMouseOver="hilite(11273)" onMouseOut="lolite()" onClick="logVariable('requestparams')" href="../../../_variables/requestparams.html">$requestparams</a>, 'http://www.imsglobal.org/developer/LTI/tool.php', 'POST',
<a name="l100"><span class="linenum"> 100</span></a>              'lmsng.school.edu', 'secret', 'Click Me', 'lmsng.school.edu' <span class="comment">/*, $org_desc*/</span>);
<a name="l101"><span class="linenum"> 101</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertTrue')" href="../../../_functions/asserttrue.html" onMouseOver="funcPopup(event,'asserttrue')">assertTrue</a>(isset(<a class="var it2947" onMouseOver="hilite(2947)" onMouseOut="lolite()" onClick="logVariable('parms')" href="../../../_variables/parms.html">$parms</a>['oauth_nonce']));
<a name="l102"><span class="linenum"> 102</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertTrue')" href="../../../_functions/asserttrue.html" onMouseOver="funcPopup(event,'asserttrue')">assertTrue</a>(isset(<a class="var it2947" onMouseOver="hilite(2947)" onMouseOut="lolite()" onClick="logVariable('parms')" href="../../../_variables/parms.html">$parms</a>['oauth_signature']));
<a name="l103"><span class="linenum"> 103</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertTrue')" href="../../../_functions/asserttrue.html" onMouseOver="funcPopup(event,'asserttrue')">assertTrue</a>(isset(<a class="var it2947" onMouseOver="hilite(2947)" onMouseOut="lolite()" onClick="logVariable('parms')" href="../../../_variables/parms.html">$parms</a>['oauth_timestamp']));
<a name="l104"><span class="linenum"> 104</span></a>  
<a name="l105"><span class="linenum"> 105</span></a>  <span class="comment">        // Those things that are hard to mock.</span>
<a name="l106"><span class="linenum"> 106</span></a>          <a class="var it1779" onMouseOver="hilite(1779)" onMouseOut="lolite()" onClick="logVariable('correct')" href="../../../_variables/correct.html">$correct</a>['oauth_nonce'] = <a class="var it2947" onMouseOver="hilite(2947)" onMouseOut="lolite()" onClick="logVariable('parms')" href="../../../_variables/parms.html">$parms</a>['oauth_nonce'];
<a name="l107"><span class="linenum"> 107</span></a>          <a class="var it1779" onMouseOver="hilite(1779)" onMouseOut="lolite()" onClick="logVariable('correct')" href="../../../_variables/correct.html">$correct</a>['oauth_signature'] = <a class="var it2947" onMouseOver="hilite(2947)" onMouseOut="lolite()" onClick="logVariable('parms')" href="../../../_variables/parms.html">$parms</a>['oauth_signature'];
<a name="l108"><span class="linenum"> 108</span></a>          <a class="var it1779" onMouseOver="hilite(1779)" onMouseOut="lolite()" onClick="logVariable('correct')" href="../../../_variables/correct.html">$correct</a>['oauth_timestamp'] = <a class="var it2947" onMouseOver="hilite(2947)" onMouseOut="lolite()" onClick="logVariable('parms')" href="../../../_variables/parms.html">$parms</a>['oauth_timestamp'];
<a name="l109"><span class="linenum"> 109</span></a>          <a class="phpfunction" onClick="logFunction('ksort')" href="../../../_functions/ksort.html" onMouseOver="phpfuncPopup(event,'ksort')">ksort</a>(<a class="var it2947" onMouseOver="hilite(2947)" onMouseOut="lolite()" onClick="logVariable('parms')" href="../../../_variables/parms.html">$parms</a>);
<a name="l110"><span class="linenum"> 110</span></a>          <a class="phpfunction" onClick="logFunction('ksort')" href="../../../_functions/ksort.html" onMouseOver="phpfuncPopup(event,'ksort')">ksort</a>(<a class="var it1779" onMouseOver="hilite(1779)" onMouseOut="lolite()" onClick="logVariable('correct')" href="../../../_variables/correct.html">$correct</a>);
<a name="l111"><span class="linenum"> 111</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it2947" onMouseOver="hilite(2947)" onMouseOut="lolite()" onClick="logVariable('parms')" href="../../../_variables/parms.html">$parms</a>, <a class="var it1779" onMouseOver="hilite(1779)" onMouseOut="lolite()" onClick="logVariable('correct')" href="../../../_variables/correct.html">$correct</a>);
<a name="l112"><span class="linenum"> 112</span></a>      }
<a name="l113"><span class="linenum"> 113</span></a>  
<a name="l114"><span class="linenum"> 114</span></a>      <span class="comment">/**</span>
<a name="l115"><span class="linenum"> 115</span></a>  <span class="comment">     * This test has been disabled because, since its creation,</span>
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">     * the sourceId generation has changed and surely this is outdated.</span>
<a name="l117"><span class="linenum"> 117</span></a>  <span class="comment">     * Some day these should be replaced by proper tests, but until then</span>
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment">     * conformance tests say this is working. MDL-30347</span>
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment">     */</span>
<a name="l120"><span class="linenum"> 120</span></a>      public function <a class="function" onClick="logFunction('disabled_test_parse_grade_replace_message')" href="../../../_functions/disabled_test_parse_grade_replace_message.html" onMouseOver="funcPopup(event,'disabled_test_parse_grade_replace_message')">disabled_test_parse_grade_replace_message</a>() {
<a name="l121"><span class="linenum"> 121</span></a>          <a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../../_variables/message.html">$message</a> = '
<a name="l122"><span class="linenum"> 122</span></a>              &lt;imsx_POXEnvelopeRequest xmlns = &quot;http://www.imsglobal.org/services/ltiv1p1/xsd/imsoms_v1p0&quot;&gt;
<a name="l123"><span class="linenum"> 123</span></a>                &lt;imsx_POXHeader&gt;
<a name="l124"><span class="linenum"> 124</span></a>                  &lt;imsx_POXRequestHeaderInfo&gt;
<a name="l125"><span class="linenum"> 125</span></a>                    &lt;imsx_version&gt;V1.0&lt;/imsx_version&gt;
<a name="l126"><span class="linenum"> 126</span></a>                    &lt;imsx_messageIdentifier&gt;999998123&lt;/imsx_messageIdentifier&gt;
<a name="l127"><span class="linenum"> 127</span></a>                  &lt;/imsx_POXRequestHeaderInfo&gt;
<a name="l128"><span class="linenum"> 128</span></a>                &lt;/imsx_POXHeader&gt;
<a name="l129"><span class="linenum"> 129</span></a>                &lt;imsx_POXBody&gt;
<a name="l130"><span class="linenum"> 130</span></a>                  &lt;replaceResultRequest&gt;
<a name="l131"><span class="linenum"> 131</span></a>                    &lt;resultRecord&gt;
<a name="l132"><span class="linenum"> 132</span></a>                      &lt;sourcedGUID&gt;
<a name="l133"><span class="linenum"> 133</span></a>                        &lt;sourcedId&gt;' .
<a name="l134"><span class="linenum"> 134</span></a>              '{&amp;quot;data&amp;quot;:{&amp;quot;instanceid&amp;quot;:&amp;quot;2&amp;quot;,&amp;quot;userid&amp;quot;:&amp;quot;2&amp;quot;},&amp;quot;hash&amp;quot;:' .
<a name="l135"><span class="linenum"> 135</span></a>              '&amp;quot;0b5078feab59b9938c333ceaae21d8e003a7b295e43cdf55338445254421076b&amp;quot;}' .
<a name="l136"><span class="linenum"> 136</span></a>                        '&lt;/sourcedId&gt;
<a name="l137"><span class="linenum"> 137</span></a>                      &lt;/sourcedGUID&gt;
<a name="l138"><span class="linenum"> 138</span></a>                      &lt;result&gt;
<a name="l139"><span class="linenum"> 139</span></a>                        &lt;resultScore&gt;
<a name="l140"><span class="linenum"> 140</span></a>                          &lt;language&gt;en-us&lt;/language&gt;
<a name="l141"><span class="linenum"> 141</span></a>                          &lt;textString&gt;0.92&lt;/textString&gt;
<a name="l142"><span class="linenum"> 142</span></a>                        &lt;/resultScore&gt;
<a name="l143"><span class="linenum"> 143</span></a>                      &lt;/result&gt;
<a name="l144"><span class="linenum"> 144</span></a>                    &lt;/resultRecord&gt;
<a name="l145"><span class="linenum"> 145</span></a>                  &lt;/replaceResultRequest&gt;
<a name="l146"><span class="linenum"> 146</span></a>                &lt;/imsx_POXBody&gt;
<a name="l147"><span class="linenum"> 147</span></a>              &lt;/imsx_POXEnvelopeRequest&gt;
<a name="l148"><span class="linenum"> 148</span></a>  ';
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>          <a class="var it251" onMouseOver="hilite(251)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../_variables/parsed.html">$parsed</a> = <a class="function" onClick="logFunction('lti_parse_grade_replace_message')" href="../../../_functions/lti_parse_grade_replace_message.html" onMouseOver="funcPopup(event,'lti_parse_grade_replace_message')">lti_parse_grade_replace_message</a>(new SimpleXMLElement(<a class="var it643" onMouseOver="hilite(643)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../../_variables/message.html">$message</a>));
<a name="l151"><span class="linenum"> 151</span></a>  
<a name="l152"><span class="linenum"> 152</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it251" onMouseOver="hilite(251)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../_variables/parsed.html">$parsed</a>-&gt;<a onClick="logVariable('userid')" class="var it40524" onMouseOver="hilite(40524)" onMouseOut="lolite()" href="../../../_variables/userid.html">userid</a>, '2');
<a name="l153"><span class="linenum"> 153</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it251" onMouseOver="hilite(251)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../_variables/parsed.html">$parsed</a>-&gt;<a onClick="logVariable('instanceid')" class="var it40524" onMouseOver="hilite(40524)" onMouseOut="lolite()" href="../../../_variables/instanceid.html">instanceid</a>, '2');
<a name="l154"><span class="linenum"> 154</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it251" onMouseOver="hilite(251)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../_variables/parsed.html">$parsed</a>-&gt;<a onClick="logVariable('sourcedidhash')" class="var it40524" onMouseOver="hilite(40524)" onMouseOut="lolite()" href="../../../_variables/sourcedidhash.html">sourcedidhash</a>, '0b5078feab59b9938c333ceaae21d8e003a7b295e43cdf55338445254421076b');
<a name="l155"><span class="linenum"> 155</span></a>  
<a name="l156"><span class="linenum"> 156</span></a>          <a class="var it8008" onMouseOver="hilite(8008)" onMouseOut="lolite()" onClick="logVariable('ltiinstance')" href="../../../_variables/ltiinstance.html">$ltiinstance</a> = (object)array('servicesalt' =&gt; '4e5fcc06de1d58.44963230');
<a name="l157"><span class="linenum"> 157</span></a>  
<a name="l158"><span class="linenum"> 158</span></a>          <a class="function" onClick="logFunction('lti_verify_sourcedid')" href="../../../_functions/lti_verify_sourcedid.html" onMouseOver="funcPopup(event,'lti_verify_sourcedid')">lti_verify_sourcedid</a>(<a class="var it8008" onMouseOver="hilite(8008)" onMouseOut="lolite()" onClick="logVariable('ltiinstance')" href="../../../_variables/ltiinstance.html">$ltiinstance</a>, <a class="var it251" onMouseOver="hilite(251)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../_variables/parsed.html">$parsed</a>);
<a name="l159"><span class="linenum"> 159</span></a>      }
<a name="l160"><span class="linenum"> 160</span></a>  
<a name="l161"><span class="linenum"> 161</span></a>      public function <a class="function" onClick="logFunction('test_lti_ensure_url_is_https')" href="../../../_functions/test_lti_ensure_url_is_https.html" onMouseOver="funcPopup(event,'test_lti_ensure_url_is_https')">test_lti_ensure_url_is_https</a>() {
<a name="l162"><span class="linenum"> 162</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('https://moodle.org', <a class="function" onClick="logFunction('lti_ensure_url_is_https')" href="../../../_functions/lti_ensure_url_is_https.html" onMouseOver="funcPopup(event,'lti_ensure_url_is_https')">lti_ensure_url_is_https</a>('http://moodle.org'));
<a name="l163"><span class="linenum"> 163</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('https://moodle.org', <a class="function" onClick="logFunction('lti_ensure_url_is_https')" href="../../../_functions/lti_ensure_url_is_https.html" onMouseOver="funcPopup(event,'lti_ensure_url_is_https')">lti_ensure_url_is_https</a>('moodle.org'));
<a name="l164"><span class="linenum"> 164</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('https://moodle.org', <a class="function" onClick="logFunction('lti_ensure_url_is_https')" href="../../../_functions/lti_ensure_url_is_https.html" onMouseOver="funcPopup(event,'lti_ensure_url_is_https')">lti_ensure_url_is_https</a>('https://moodle.org'));
<a name="l165"><span class="linenum"> 165</span></a>      }
<a name="l166"><span class="linenum"> 166</span></a>  
<a name="l167"><span class="linenum"> 167</span></a>      <span class="comment">/**</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">     * Test lti_get_url_thumbprint against various URLs</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">     */</span>
<a name="l170"><span class="linenum"> 170</span></a>      public function <a class="function" onClick="logFunction('test_lti_get_url_thumbprint')" href="../../../_functions/test_lti_get_url_thumbprint.html" onMouseOver="funcPopup(event,'test_lti_get_url_thumbprint')">test_lti_get_url_thumbprint</a>() {
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">        // Note: trailing and double slash are expected right now.  Must evaluate if it must be removed at some point.</span>
<a name="l172"><span class="linenum"> 172</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('moodle.org/', <a class="function" onClick="logFunction('lti_get_url_thumbprint')" href="../../../_functions/lti_get_url_thumbprint.html" onMouseOver="funcPopup(event,'lti_get_url_thumbprint')">lti_get_url_thumbprint</a>('http://MOODLE.ORG'));
<a name="l173"><span class="linenum"> 173</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('moodle.org/', <a class="function" onClick="logFunction('lti_get_url_thumbprint')" href="../../../_functions/lti_get_url_thumbprint.html" onMouseOver="funcPopup(event,'lti_get_url_thumbprint')">lti_get_url_thumbprint</a>('http://www.moodle.org'));
<a name="l174"><span class="linenum"> 174</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('moodle.org/', <a class="function" onClick="logFunction('lti_get_url_thumbprint')" href="../../../_functions/lti_get_url_thumbprint.html" onMouseOver="funcPopup(event,'lti_get_url_thumbprint')">lti_get_url_thumbprint</a>('https://www.moodle.org'));
<a name="l175"><span class="linenum"> 175</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('moodle.org/', <a class="function" onClick="logFunction('lti_get_url_thumbprint')" href="../../../_functions/lti_get_url_thumbprint.html" onMouseOver="funcPopup(event,'lti_get_url_thumbprint')">lti_get_url_thumbprint</a>('moodle.org'));
<a name="l176"><span class="linenum"> 176</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('moodle.org//this/is/moodle', <a class="function" onClick="logFunction('lti_get_url_thumbprint')" href="../../../_functions/lti_get_url_thumbprint.html" onMouseOver="funcPopup(event,'lti_get_url_thumbprint')">lti_get_url_thumbprint</a>('http://moodle.org/this/is/moodle'));
<a name="l177"><span class="linenum"> 177</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('moodle.org//this/is/moodle', <a class="function" onClick="logFunction('lti_get_url_thumbprint')" href="../../../_functions/lti_get_url_thumbprint.html" onMouseOver="funcPopup(event,'lti_get_url_thumbprint')">lti_get_url_thumbprint</a>('https://moodle.org/this/is/moodle'));
<a name="l178"><span class="linenum"> 178</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('moodle.org//this/is/moodle', <a class="function" onClick="logFunction('lti_get_url_thumbprint')" href="../../../_functions/lti_get_url_thumbprint.html" onMouseOver="funcPopup(event,'lti_get_url_thumbprint')">lti_get_url_thumbprint</a>('moodle.org/this/is/moodle'));
<a name="l179"><span class="linenum"> 179</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('moodle.org//this/is/moodle', <a class="function" onClick="logFunction('lti_get_url_thumbprint')" href="../../../_functions/lti_get_url_thumbprint.html" onMouseOver="funcPopup(event,'lti_get_url_thumbprint')">lti_get_url_thumbprint</a>('moodle.org/this/is/moodle?foo=bar'));
<a name="l180"><span class="linenum"> 180</span></a>      }
<a name="l181"><span class="linenum"> 181</span></a>  
<a name="l182"><span class="linenum"> 182</span></a>      <span class="comment">/**</span>
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">     * Test lti_build_request's resource_link_description and ensure</span>
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment">     * that the newlines in the description are correct.</span>
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment">     */</span>
<a name="l186"><span class="linenum"> 186</span></a>      public function <a class="function" onClick="logFunction('test_lti_build_request_description')" href="../../../_functions/test_lti_build_request_description.html" onMouseOver="funcPopup(event,'test_lti_build_request_description')">test_lti_build_request_description</a>() {
<a name="l187"><span class="linenum"> 187</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('resetAfterTest')" href="../../../_functions/resetaftertest.html" onMouseOver="funcPopup(event,'resetaftertest')">resetAfterTest</a>();
<a name="l188"><span class="linenum"> 188</span></a>  
<a name="l189"><span class="linenum"> 189</span></a>          self::<a class="function" onClick="logFunction('setUser')" href="../../../_functions/setuser.html" onMouseOver="funcPopup(event,'setuser')">setUser</a>(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_user')" href="../../../_functions/create_user.html" onMouseOver="funcPopup(event,'create_user')">create_user</a>());
<a name="l190"><span class="linenum"> 190</span></a>          <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>   = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_course')" href="../../../_functions/create_course.html" onMouseOver="funcPopup(event,'create_course')">create_course</a>();
<a name="l191"><span class="linenum"> 191</span></a>          <a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_module')" href="../../../_functions/create_module.html" onMouseOver="funcPopup(event,'create_module')">create_module</a>('lti', array(
<a name="l192"><span class="linenum"> 192</span></a>              'intro'       =&gt; &quot;&lt;p&gt;This&lt;/p&gt;\nhas\r\n&lt;p&gt;some&lt;/p&gt;\nnew\n\rlines&quot;,
<a name="l193"><span class="linenum"> 193</span></a>              'introformat' =&gt; <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>,
<a name="l194"><span class="linenum"> 194</span></a>              'course'      =&gt; <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>,
<a name="l195"><span class="linenum"> 195</span></a>          ));
<a name="l196"><span class="linenum"> 196</span></a>  
<a name="l197"><span class="linenum"> 197</span></a>          <a class="var it11275" onMouseOver="hilite(11275)" onMouseOut="lolite()" onClick="logVariable('typeconfig')" href="../../../_variables/typeconfig.html">$typeconfig</a> = array(
<a name="l198"><span class="linenum"> 198</span></a>              'acceptgrades'     =&gt; 1,
<a name="l199"><span class="linenum"> 199</span></a>              'forcessl'         =&gt; 0,
<a name="l200"><span class="linenum"> 200</span></a>              'sendname'         =&gt; 2,
<a name="l201"><span class="linenum"> 201</span></a>              'sendemailaddr'    =&gt; 2,
<a name="l202"><span class="linenum"> 202</span></a>              'customparameters' =&gt; '',
<a name="l203"><span class="linenum"> 203</span></a>          );
<a name="l204"><span class="linenum"> 204</span></a>  
<a name="l205"><span class="linenum"> 205</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = <a class="function" onClick="logFunction('lti_build_request')" href="../../../_functions/lti_build_request.html" onMouseOver="funcPopup(event,'lti_build_request')">lti_build_request</a>(<a class="var it528" onMouseOver="hilite(528)" onMouseOut="lolite()" onClick="logVariable('instance')" href="../../../_variables/instance.html">$instance</a>, <a class="var it11275" onMouseOver="hilite(11275)" onMouseOut="lolite()" onClick="logVariable('typeconfig')" href="../../../_variables/typeconfig.html">$typeconfig</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, null);
<a name="l206"><span class="linenum"> 206</span></a>  
<a name="l207"><span class="linenum"> 207</span></a>          <a class="var it11276" onMouseOver="hilite(11276)" onMouseOut="lolite()" onClick="logVariable('ncount')" href="../../../_variables/ncount.html">$ncount</a> = <a class="phpfunction" onClick="logFunction('substr_count')" href="../../../_functions/substr_count.html" onMouseOver="phpfuncPopup(event,'substr_count')">substr_count</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['resource_link_description'], &quot;\n&quot;);
<a name="l208"><span class="linenum"> 208</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;assertGreaterThan(0, <a class="var it11276" onMouseOver="hilite(11276)" onMouseOut="lolite()" onClick="logVariable('ncount')" href="../../../_variables/ncount.html">$ncount</a>);
<a name="l209"><span class="linenum"> 209</span></a>  
<a name="l210"><span class="linenum"> 210</span></a>          <a class="var it11277" onMouseOver="hilite(11277)" onMouseOut="lolite()" onClick="logVariable('rcount')" href="../../../_variables/rcount.html">$rcount</a> = <a class="phpfunction" onClick="logFunction('substr_count')" href="../../../_functions/substr_count.html" onMouseOver="phpfuncPopup(event,'substr_count')">substr_count</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['resource_link_description'], &quot;\r&quot;);
<a name="l211"><span class="linenum"> 211</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;assertGreaterThan(0, <a class="var it11277" onMouseOver="hilite(11277)" onMouseOut="lolite()" onClick="logVariable('rcount')" href="../../../_variables/rcount.html">$rcount</a>);
<a name="l212"><span class="linenum"> 212</span></a>  
<a name="l213"><span class="linenum"> 213</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it11276" onMouseOver="hilite(11276)" onMouseOut="lolite()" onClick="logVariable('ncount')" href="../../../_variables/ncount.html">$ncount</a>, <a class="var it11277" onMouseOver="hilite(11277)" onMouseOut="lolite()" onClick="logVariable('rcount')" href="../../../_variables/rcount.html">$rcount</a>, 'The number of \n characters should be the same as the number of \r characters');
<a name="l214"><span class="linenum"> 214</span></a>  
<a name="l215"><span class="linenum"> 215</span></a>          <a class="var it11278" onMouseOver="hilite(11278)" onMouseOut="lolite()" onClick="logVariable('rncount')" href="../../../_variables/rncount.html">$rncount</a> = <a class="phpfunction" onClick="logFunction('substr_count')" href="../../../_functions/substr_count.html" onMouseOver="phpfuncPopup(event,'substr_count')">substr_count</a>(<a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['resource_link_description'], &quot;\r\n&quot;);
<a name="l216"><span class="linenum"> 216</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;assertGreaterThan(0, <a class="var it11278" onMouseOver="hilite(11278)" onMouseOut="lolite()" onClick="logVariable('rncount')" href="../../../_variables/rncount.html">$rncount</a>);
<a name="l217"><span class="linenum"> 217</span></a>  
<a name="l218"><span class="linenum"> 218</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it11276" onMouseOver="hilite(11276)" onMouseOut="lolite()" onClick="logVariable('ncount')" href="../../../_variables/ncount.html">$ncount</a>, <a class="var it11278" onMouseOver="hilite(11278)" onMouseOut="lolite()" onClick="logVariable('rncount')" href="../../../_variables/rncount.html">$rncount</a>, 'All newline characters should be a combination of \r\n');
<a name="l219"><span class="linenum"> 219</span></a>      }
<a name="l220"><span class="linenum"> 220</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'assertequals': ['assertequals', 'Asserts that two variables are equal. ', [['lib/tests','completionlib_test.php',76]], 8905],
'test_lti_build_request_description': ['test_lti_build_request_description', 'Test lti_build_request\'s resource_link_description and ensure that the newlines in the description are correct. ', [['mod/lti/tests','locallib_test.php',182]], 0],
'lti_parse_grade_replace_message': ['lti_parse_grade_replace_message', '', [['mod/lti','servicelib.php',66]], 2],
'create_user': ['create_user', 'Create a test user ', [['lib/testing/generator','data_generator.php',137]], 821],
'disabled_test_sign_parameters': ['disabled_test_sign_parameters', 'This test has been disabled because the test-tool is being moved and probably it won\'t work anymore for this. We should be testing here local stuff only and leave outside-checks to the conformance tests. MDL-30347 ', [['mod/lti/tests','locallib_test.php',81]], 0],
'test_split_custom_parameters': ['test_split_custom_parameters', '', [['mod/lti/tests','locallib_test.php',65]], 0],
'resetaftertest': ['resetaftertest', 'Reset everything after current test. ', [['lib/phpunit/classes','advanced_testcase.php',239]], 1055],
'test_lti_get_url_thumbprint': ['test_lti_get_url_thumbprint', 'Test lti_get_url_thumbprint against various URLs ', [['mod/lti/tests','locallib_test.php',167]], 0],
'asserttrue': ['asserttrue', '', [['lib/phpunit/classes','unittestcase.php',78]], 3049],
'lti_get_url_thumbprint': ['lti_get_url_thumbprint', '', [['mod/lti','locallib.php',1041]], 10],
'getdatagenerator': ['getdatagenerator', 'Get data generator ', [['lib/phpunit/classes','advanced_testcase.php',517]], 2915],
'lti_ensure_url_is_https': ['lti_ensure_url_is_https', '', [['mod/lti','locallib.php',1761]], 6],
'lti_build_request': ['lti_build_request', 'This function builds the request that must be sent to the tool producer ', [['mod/lti','locallib.php',324]], 2],
'test_lti_ensure_url_is_https': ['test_lti_ensure_url_is_https', '', [['mod/lti/tests','locallib_test.php',161]], 0],
'disabled_test_parse_grade_replace_message': ['disabled_test_parse_grade_replace_message', 'This test has been disabled because, since its creation, the sourceId generation has changed and surely this is outdated. Some day these should be replaced by proper tests, but until then conformance tests say this is working. MDL-30347 ', [['mod/lti/tests','locallib_test.php',114]], 0],
'lti_verify_sourcedid': ['lti_verify_sourcedid', 'Validate source ID from external request ', [['mod/lti','servicelib.php',262]], 4],
'lti_split_custom_parameters': ['lti_split_custom_parameters', 'Splits the custom parameters field to the various parameters ', [['mod/lti','locallib.php',728]], 6],
'setuser': ['setuser', 'Set current $USER, reset access cache. ', [['lib/phpunit/classes','advanced_testcase.php',461],['lib/google/src/Google/Service','Replicapoolupdater.php',542],['lib/google/src/Google/Service','Drive.php',2706],['lib/google/src/Google/Service','Autoscaler.php',1004],['lib/google/src/Google/Service','Appsactivity.php',269],['lib/google/src/Google/Service','Appsactivity.php',416],['lib/google/src/Google/Service','Container.php',698],['lib/google/src/Google/Service','Compute.php',9429],['lib/zend/Zend/Gdata/Calendar','EventQuery.php',148],['lib/google/src/Google/Service','Replicapool.php',1077],['lib/google/src/Google/Service','Resourceviews.php',816],['lib/zend/Zend/Gdata/Photos','UserQuery.php',127]], 483],
'create_course': ['create_course', 'Create a test course ', [['lib/testing/generator','data_generator.php',356],['course','lib.php',2535],['enrol/ldap','lib.php',950],['admin/tool/generator/classes','course_backend.php',246]], 861],
'lti_sign_parameters': ['lti_sign_parameters', 'Signs the petition to launch the external tool using OAuth ', [['mod/lti','locallib.php',1630]], 2],
'create_module': ['create_module', 'Create a test module ', [['lib/testing/generator','data_generator.php',457],['course','lib.php',3390]], 530],
'substr_count': ['substr_count', '', [], 78],
'ksort': ['ksort', '', [], 158],
'defined': ['defined', '', [], 4098]};
CLASS_DATA={
'mod_lti_locallib_testcase': ['mod_lti_locallib_testcase', 'Local library tests ', [['mod/lti/tests','locallib_test.php',56]], 0]};
CONST_DATA={
'FORMAT_HTML': ['FORMAT_HTML', '', [['lib','weblib.php',47]], 999],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
