<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of locallib.php</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='mod/lti';
filename='locallib.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/mod/lti/</a> -> <a href="locallib.php.source.html">locallib.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="locallib.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../../_stats.html">Project Stats</a>]</p>
<p><b>This file contains the library of functions and constants for the lti module</b></p>
<table>
<tr><td align="right">Author: </td><td>Marc Alier</td></tr>
<tr><td align="right">Author: </td><td>Jordi Piguillem</td></tr>
<tr><td align="right">Author: </td><td>Nikolas Galanis</td></tr>
<tr><td align="right">Author: </td><td>Chris Scribner</td></tr>
<tr><td align="right">Author: </td><td>Stephen Vickers</td></tr>
<tr><td align="right">Copyright: </td><td>2009 Marc Alier, Jordi Piguillem, Nikolas Galanis</td></tr>
<tr><td align="right">Copyright: </td><td>2009 Universitat Politecnica de Catalunya http://www.upc.edu</td></tr>
<tr><td align="right">Copyright: </td><td>2015 Vital Source Technologies http://vitalsource.com</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>2769 lines (91 kb)</td></tr>
<tr><td align="right">Included or required: </td><td><a href="locallib.php.xref.html">1 time</a></td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>15 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 86 functions</h3>
<div class="inset">
&nbsp;&nbsp;<a href="#lti_get_launch_data">lti_get_launch_data</a>()<br>
&nbsp;&nbsp;<a href="#lti_launch_tool">lti_launch_tool</a>()<br>
&nbsp;&nbsp;<a href="#lti_register">lti_register</a>()<br>
&nbsp;&nbsp;<a href="#lti_build_registration_request">lti_build_registration_request</a>()<br>
&nbsp;&nbsp;<a href="#lti_build_sourcedid">lti_build_sourcedid</a>()<br>
&nbsp;&nbsp;<a href="#lti_build_request">lti_build_request</a>()<br>
&nbsp;&nbsp;<a href="#lti_build_request_lti2">lti_build_request_lti2</a>()<br>
&nbsp;&nbsp;<a href="#lti_build_standard_request">lti_build_standard_request</a>()<br>
&nbsp;&nbsp;<a href="#lti_build_custom_parameters">lti_build_custom_parameters</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_tool_table">lti_get_tool_table</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_tool_proxy_table">lti_get_tool_proxy_table</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_enabled_capabilities">lti_get_enabled_capabilities</a>()<br>
&nbsp;&nbsp;<a href="#lti_split_custom_parameters">lti_split_custom_parameters</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_custom_parameters">lti_get_custom_parameters</a>()<br>
&nbsp;&nbsp;<a href="#lti_parse_custom_parameter">lti_parse_custom_parameter</a>()<br>
&nbsp;&nbsp;<a href="#lti_map_keyname">lti_map_keyname</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_ims_role">lti_get_ims_role</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_type_config">lti_get_type_config</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_tools_by_url">lti_get_tools_by_url</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_tools_by_domain">lti_get_tools_by_domain</a>()<br>
&nbsp;&nbsp;<a href="#lti_filter_get_types">lti_filter_get_types</a>()<br>
&nbsp;&nbsp;<a href="#lti_filter_tool_types">lti_filter_tool_types</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_lti_types_by_course">lti_get_lti_types_by_course</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_types_for_add_instance">lti_get_types_for_add_instance</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_configured_types">lti_get_configured_types</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_domain_from_url">lti_get_domain_from_url</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_tool_by_url_match">lti_get_tool_by_url_match</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_url_thumbprint">lti_get_url_thumbprint</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_best_tool_by_url">lti_get_best_tool_by_url</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_shared_secrets_by_key">lti_get_shared_secrets_by_key</a>()<br>
&nbsp;&nbsp;<a href="#lti_delete_type">lti_delete_type</a>()<br>
&nbsp;&nbsp;<a href="#lti_set_state_for_type">lti_set_state_for_type</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_config">lti_get_config</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_type_config_from_instance">lti_get_type_config_from_instance</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_type_type_config">lti_get_type_type_config</a>()<br>
&nbsp;&nbsp;<a href="#lti_prepare_type_for_save">lti_prepare_type_for_save</a>()<br>
&nbsp;&nbsp;<a href="#lti_update_type">lti_update_type</a>()<br>
&nbsp;&nbsp;<a href="#lti_add_type">lti_add_type</a>()<br>
&nbsp;&nbsp;<a href="#lti_filter_tool_proxy_types">lti_filter_tool_proxy_types</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_tool_proxy_from_guid">lti_get_tool_proxy_from_guid</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_tool_proxies_from_registration_url">lti_get_tool_proxies_from_registration_url</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_tool_proxy">lti_get_tool_proxy</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_tool_proxies">lti_get_tool_proxies</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_tool_proxy_config">lti_get_tool_proxy_config</a>()<br>
&nbsp;&nbsp;<a href="#lti_add_tool_proxy">lti_add_tool_proxy</a>()<br>
&nbsp;&nbsp;<a href="#lti_update_tool_proxy">lti_update_tool_proxy</a>()<br>
&nbsp;&nbsp;<a href="#lti_delete_tool_proxy">lti_delete_tool_proxy</a>()<br>
&nbsp;&nbsp;<a href="#lti_add_config">lti_add_config</a>()<br>
&nbsp;&nbsp;<a href="#lti_update_config">lti_update_config</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_tool_settings">lti_get_tool_settings</a>()<br>
&nbsp;&nbsp;<a href="#lti_set_tool_settings">lti_set_tool_settings</a>()<br>
&nbsp;&nbsp;<a href="#lti_sign_parameters">lti_sign_parameters</a>()<br>
&nbsp;&nbsp;<a href="#lti_post_launch_html">lti_post_launch_html</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_type">lti_get_type</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_launch_container">lti_get_launch_container</a>()<br>
&nbsp;&nbsp;<a href="#lti_request_is_using_ssl">lti_request_is_using_ssl</a>()<br>
&nbsp;&nbsp;<a href="#lti_ensure_url_is_https">lti_ensure_url_is_https</a>()<br>
&nbsp;&nbsp;<a href="#lti_should_log_request">lti_should_log_request</a>()<br>
&nbsp;&nbsp;<a href="#lti_log_request">lti_log_request</a>()<br>
&nbsp;&nbsp;<a href="#lti_log_response">lti_log_response</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_type_config_by_instance">lti_get_type_config_by_instance</a>()<br>
&nbsp;&nbsp;<a href="#lti_force_type_config_settings">lti_force_type_config_settings</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_capabilities">lti_get_capabilities</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_services">lti_get_services</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_service_by_name">lti_get_service_by_name</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_service_by_resource_id">lti_get_service_by_resource_id</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_contexts">lti_get_contexts</a>()<br>
&nbsp;&nbsp;<a href="#lti_get_fqid">lti_get_fqid</a>()<br>
&nbsp;&nbsp;<a href="#get_tool_type_icon_url">get_tool_type_icon_url</a>()<br>
&nbsp;&nbsp;<a href="#get_tool_type_edit_url">get_tool_type_edit_url</a>()<br>
&nbsp;&nbsp;<a href="#get_tool_proxy_edit_url">get_tool_proxy_edit_url</a>()<br>
&nbsp;&nbsp;<a href="#get_tool_type_course_url">get_tool_type_course_url</a>()<br>
&nbsp;&nbsp;<a href="#get_tool_type_urls">get_tool_type_urls</a>()<br>
&nbsp;&nbsp;<a href="#get_tool_proxy_urls">get_tool_proxy_urls</a>()<br>
&nbsp;&nbsp;<a href="#get_tool_type_state_info">get_tool_type_state_info</a>()<br>
&nbsp;&nbsp;<a href="#get_tool_type_capability_groups">get_tool_type_capability_groups</a>()<br>
&nbsp;&nbsp;<a href="#get_tool_type_instance_ids">get_tool_type_instance_ids</a>()<br>
&nbsp;&nbsp;<a href="#serialise_tool_type">serialise_tool_type</a>()<br>
&nbsp;&nbsp;<a href="#serialise_tool_proxy">serialise_tool_proxy</a>()<br>
&nbsp;&nbsp;<a href="#lti_load_type_if_cartridge">lti_load_type_if_cartridge</a>()<br>
&nbsp;&nbsp;<a href="#lti_load_tool_if_cartridge">lti_load_tool_if_cartridge</a>()<br>
&nbsp;&nbsp;<a href="#lti_is_cartridge">lti_is_cartridge</a>()<br>
&nbsp;&nbsp;<a href="#lti_load_type_from_cartridge">lti_load_type_from_cartridge</a>()<br>
&nbsp;&nbsp;<a href="#lti_load_tool_from_cartridge">lti_load_tool_from_cartridge</a>()<br>
&nbsp;&nbsp;<a href="#lti_load_cartridge">lti_load_cartridge</a>()<br>
&nbsp;&nbsp;<a href="#get_tag">get_tag</a>()<br>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classtitle"><a name="functions"><b>Functions</b></a></div>
<div class="details-classinfo">
Functions that are not part of a class:<br><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_launch_data" onClick="logFunction('lti_get_launch_data', 'locallib.php.source.html#l86')" href="locallib.php.source.html#l86">lti_get_launch_data</a>(<a href="../../_variables/instance.html">$instance</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_launch_data.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return the launch data required for opening the external tool.<BR>
</b><BR><b>param:</b> stdClass $instance the external tool activity settings<br>
<b>return:</b> array the endpoint URL and parameters (including the signature)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_launch_tool" onClick="logFunction('lti_launch_tool', 'locallib.php.source.html#l258')" href="locallib.php.source.html#l258">lti_launch_tool</a>(<a href="../../_variables/instance.html">$instance</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_launch_tool.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Launch an external tool activity.<BR>
</b><BR><b>param:</b> stdClass $instance the external tool activity settings<br>
<b>return:</b> string The HTML code containing the javascript code for the launch<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_register" onClick="logFunction('lti_register', 'locallib.php.source.html#l274')" href="locallib.php.source.html#l274">lti_register</a>(<a href="../../_variables/toolproxy.html">$toolproxy</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_register.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Prepares an LTI registration request message<BR>
</b><BR>$param object $instance&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tool Proxy instance object<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_build_registration_request" onClick="logFunction('lti_build_registration_request', 'locallib.php.source.html#l294')" href="locallib.php.source.html#l294">lti_build_registration_request</a>(<a href="../../_variables/toolproxy.html">$toolproxy</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_build_registration_request.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets the parameters for the regirstration request<BR>
</b><BR><b>param:</b> object $toolproxy Tool Proxy instance object<br>
<b>return:</b> array Registration request parameters<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_build_sourcedid" onClick="logFunction('lti_build_sourcedid', 'locallib.php.source.html#l326')" href="locallib.php.source.html#l326">lti_build_sourcedid</a>(<a href="../../_variables/instanceid.html">$instanceid</a>, <a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/servicesalt.html">$servicesalt</a>, <a href="../../_variables/typeid.html">$typeid</a> = null, <a href="../../_variables/launchid.html">$launchid</a> = null)&nbsp;&nbsp;
<a href="../../_functions/lti_build_sourcedid.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Build source ID<BR>
</b><BR><b>param:</b> int $instanceid<br>
<b>param:</b> int $userid<br>
<b>param:</b> string $servicesalt<br>
<b>param:</b> null|int $typeid<br>
<b>param:</b> null|int $launchid<br>
<b>return:</b> stdClass<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_build_request" onClick="logFunction('lti_build_request', 'locallib.php.source.html#l359')" href="locallib.php.source.html#l359">lti_build_request</a>(<a href="../../_variables/instance.html">$instance</a>, <a href="../../_variables/typeconfig.html">$typeconfig</a>, <a href="../../_variables/course.html">$course</a>, <a href="../../_variables/typeid.html">$typeid</a> = null, <a href="../../_variables/islti2.html">$islti2</a> = false)&nbsp;&nbsp;
<a href="../../_functions/lti_build_request.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function builds the request that must be sent to the tool producer<BR>
</b><BR><b>param:</b> object&nbsp;&nbsp;&nbsp;&nbsp;$instance&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Basic LTI instance object<br>
<b>param:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$typeconfig&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Basic LTI tool configuration<br>
<b>param:</b> object&nbsp;&nbsp;&nbsp;&nbsp;$course&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Course object<br>
<b>param:</b> int|null&nbsp;&nbsp;$typeid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Basic LTI tool ID<br>
<b>param:</b> boolean&nbsp;&nbsp;&nbsp;$islti2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;True if an LTI 2 tool is being launched<br>
<b>return:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Request details<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_build_request_lti2" onClick="logFunction('lti_build_request_lti2', 'locallib.php.source.html#l452')" href="locallib.php.source.html#l452">lti_build_request_lti2</a>(<a href="../../_variables/tool.html">$tool</a>, <a href="../../_variables/params.html">$params</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_build_request_lti2.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function builds the request that must be sent to an LTI 2 tool provider<BR>
</b><BR><b>param:</b> object&nbsp;&nbsp;&nbsp;&nbsp;$tool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Basic LTI tool object<br>
<b>param:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Custom launch parameters<br>
<b>return:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Request details<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_build_standard_request" onClick="logFunction('lti_build_standard_request', 'locallib.php.source.html#l481')" href="locallib.php.source.html#l481">lti_build_standard_request</a>(<a href="../../_variables/instance.html">$instance</a>, <a href="../../_variables/orgid.html">$orgid</a>, <a href="../../_variables/islti2.html">$islti2</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_build_standard_request.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function builds the standard parameters for an LTI 1 or 2 request that must be sent to the tool producer<BR>
</b><BR><b>param:</b> object&nbsp;&nbsp;&nbsp;&nbsp;$instance&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Basic LTI instance object<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;$orgid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Organisation ID<br>
<b>param:</b> boolean&nbsp;&nbsp;&nbsp;$islti2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;True if an LTI 2 tool is being launched<br>
<b>return:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Request details<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_build_custom_parameters" onClick="logFunction('lti_build_custom_parameters', 'locallib.php.source.html#l530')" href="locallib.php.source.html#l530">lti_build_custom_parameters</a>(<a href="../../_variables/toolproxy.html">$toolproxy</a>, <a href="../../_variables/tool.html">$tool</a>, <a href="../../_variables/instance.html">$instance</a>, <a href="../../_variables/params.html">$params</a>, <a href="../../_variables/customstr.html">$customstr</a>, <a href="../../_variables/instructorcustomstr.html">$instructorcustomstr</a>, <a href="../../_variables/islti2.html">$islti2</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_build_custom_parameters.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function builds the custom parameters<BR>
</b><BR><b>param:</b> object&nbsp;&nbsp;&nbsp;&nbsp;$toolproxy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tool proxy instance object<br>
<b>param:</b> object&nbsp;&nbsp;&nbsp;&nbsp;$tool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tool instance object<br>
<b>param:</b> object&nbsp;&nbsp;&nbsp;&nbsp;$instance&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tool placement instance object<br>
<b>param:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LTI launch parameters<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;$customstr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Custom parameters defined for tool<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;$instructorcustomstr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Custom parameters defined for this placement<br>
<b>param:</b> boolean&nbsp;&nbsp;&nbsp;$islti2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;True if an LTI 2 tool is being launched<br>
<b>return:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Custom parameters<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_tool_table" onClick="logFunction('lti_get_tool_table', 'locallib.php.source.html#l572')" href="locallib.php.source.html#l572">lti_get_tool_table</a>(<a href="../../_variables/tools.html">$tools</a>, <a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_tool_table.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_tool_proxy_table" onClick="logFunction('lti_get_tool_proxy_table', 'locallib.php.source.html#l674')" href="locallib.php.source.html#l674">lti_get_tool_proxy_table</a>(<a href="../../_variables/toolproxies.html">$toolproxies</a>, <a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_tool_proxy_table.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This function builds the tab for a category of tool proxies<BR>
</b><BR><b>param:</b> object&nbsp;&nbsp;&nbsp;&nbsp;$toolproxies&nbsp;&nbsp;&nbsp;&nbsp;Tool proxy instance objects<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;$id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Category ID<br>
<b>return:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HTML for tab<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_enabled_capabilities" onClick="logFunction('lti_get_enabled_capabilities', 'locallib.php.source.html#l772')" href="locallib.php.source.html#l772">lti_get_enabled_capabilities</a>(<a href="../../_variables/tool.html">$tool</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_enabled_capabilities.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Extracts the enabled capabilities into an array, including those implicitly declared in a parameter<BR>
</b><BR><b>param:</b> object&nbsp;&nbsp;&nbsp;&nbsp;$tool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tool instance object<br>
<b>return:</b> Array of enabled capabilities<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_split_custom_parameters" onClick="logFunction('lti_split_custom_parameters', 'locallib.php.source.html#l805')" href="locallib.php.source.html#l805">lti_split_custom_parameters</a>(<a href="../../_variables/toolproxy.html">$toolproxy</a>, <a href="../../_variables/tool.html">$tool</a>, <a href="../../_variables/params.html">$params</a>, <a href="../../_variables/customstr.html">$customstr</a>, <a href="../../_variables/islti2.html">$islti2</a> = false)&nbsp;&nbsp;
<a href="../../_functions/lti_split_custom_parameters.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Splits the custom parameters field to the various parameters<BR>
</b><BR><b>param:</b> object&nbsp;&nbsp;&nbsp;&nbsp;$toolproxy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tool proxy instance object<br>
<b>param:</b> object&nbsp;&nbsp;&nbsp;&nbsp;$tool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tool instance object<br>
<b>param:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LTI launch parameters<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;$customstr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String containing the parameters<br>
<b>param:</b> boolean&nbsp;&nbsp;&nbsp;$islti2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;True if an LTI 2 tool is being launched<br>
<b>return:</b> Array of custom parameters<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_custom_parameters" onClick="logFunction('lti_get_custom_parameters', 'locallib.php.source.html#l839')" href="locallib.php.source.html#l839">lti_get_custom_parameters</a>(<a href="../../_variables/toolproxy.html">$toolproxy</a>, <a href="../../_variables/tool.html">$tool</a>, <a href="../../_variables/params.html">$params</a>, <a href="../../_variables/parameters.html">$parameters</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_custom_parameters.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds the custom parameters to an array<BR>
</b><BR><b>param:</b> object&nbsp;&nbsp;&nbsp;&nbsp;$toolproxy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tool proxy instance object<br>
<b>param:</b> object&nbsp;&nbsp;&nbsp;&nbsp;$tool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tool instance object<br>
<b>param:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LTI launch parameters<br>
<b>param:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$parameters&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array containing the parameters<br>
<b>return:</b> array&nbsp;&nbsp;&nbsp;&nbsp;Array of custom parameters<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_parse_custom_parameter" onClick="logFunction('lti_parse_custom_parameter', 'locallib.php.source.html#l862')" href="locallib.php.source.html#l862">lti_parse_custom_parameter</a>(<a href="../../_variables/toolproxy.html">$toolproxy</a>, <a href="../../_variables/tool.html">$tool</a>, <a href="../../_variables/params.html">$params</a>, <a href="../../_variables/value.html">$value</a>, <a href="../../_variables/islti2.html">$islti2</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_parse_custom_parameter.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Parse a custom parameter to replace any substitution variables<BR>
</b><BR><b>param:</b> object&nbsp;&nbsp;&nbsp;&nbsp;$toolproxy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tool proxy instance object<br>
<b>param:</b> object&nbsp;&nbsp;&nbsp;&nbsp;$tool&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tool instance object<br>
<b>param:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$params&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LTI launch parameters<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;$value&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Custom parameter value<br>
<b>param:</b> boolean&nbsp;&nbsp;&nbsp;$islti2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;True if an LTI 2 tool is being launched<br>
<b>return:</b> Parsed value of custom parameter<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_map_keyname" onClick="logFunction('lti_map_keyname', 'locallib.php.source.html#l914')" href="locallib.php.source.html#l914">lti_map_keyname</a>(<a href="../../_variables/key.html">$key</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_map_keyname.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Used for building the names of the different custom parameters<BR>
</b><BR><b>param:</b> string $key&nbsp;&nbsp;&nbsp;Parameter name<br>
<b>return:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processed name<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_ims_role" onClick="logFunction('lti_get_ims_role', 'locallib.php.source.html#l934')" href="locallib.php.source.html#l934">lti_get_ims_role</a>(<a href="../../_variables/user.html">$user</a>, <a href="../../_variables/cmid.html">$cmid</a>, <a href="../../_variables/courseid.html">$courseid</a>, <a href="../../_variables/islti2.html">$islti2</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_ims_role.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets the IMS role string for the specified user and LTI course module.<BR>
</b><BR><b>param:</b> mixed&nbsp;&nbsp;&nbsp;&nbsp;$user&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;User object or user id<br>
<b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$cmid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The course module id of the LTI activity<br>
<b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$courseid&nbsp;&nbsp;The course id of the LTI activity<br>
<b>param:</b> boolean&nbsp;&nbsp;$islti2&nbsp;&nbsp;&nbsp;&nbsp;True if an LTI 2 tool is being launched<br>
<b>return:</b> string A role string suitable for passing with an LTI launch<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_type_config" onClick="logFunction('lti_get_type_config', 'locallib.php.source.html#l979')" href="locallib.php.source.html#l979">lti_get_type_config</a>(<a href="../../_variables/typeid.html">$typeid</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_type_config.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns configuration details for the tool<BR>
</b><BR><b>param:</b> int $typeid&nbsp;&nbsp;&nbsp;Basic LTI tool typeid<br>
<b>return:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tool Configuration<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_tools_by_url" onClick="logFunction('lti_get_tools_by_url', 'locallib.php.source.html#l1018')" href="locallib.php.source.html#l1018">lti_get_tools_by_url</a>(<a href="../../_variables/url.html">$url</a>, <a href="../../_variables/state.html">$state</a>, <a href="../../_variables/courseid.html">$courseid</a> = null)&nbsp;&nbsp;
<a href="../../_functions/lti_get_tools_by_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_tools_by_domain" onClick="logFunction('lti_get_tools_by_domain', 'locallib.php.source.html#l1024')" href="locallib.php.source.html#l1024">lti_get_tools_by_domain</a>(<a href="../../_variables/domain.html">$domain</a>, <a href="../../_variables/state.html">$state</a> = null, <a href="../../_variables/courseid.html">$courseid</a> = null)&nbsp;&nbsp;
<a href="../../_functions/lti_get_tools_by_domain.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_filter_get_types" onClick="logFunction('lti_filter_get_types', 'locallib.php.source.html#l1054')" href="locallib.php.source.html#l1054">lti_filter_get_types</a>(<a href="../../_variables/course.html">$course</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_filter_get_types.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns all basicLTI tools configured by the administrator<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_filter_tool_types" onClick="logFunction('lti_filter_tool_types', 'locallib.php.source.html#l1074')" href="locallib.php.source.html#l1074">lti_filter_tool_types</a>(array <a href="../../_variables/tools.html">$tools</a>, <a href="../../_variables/state.html">$state</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_filter_tool_types.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given an array of tools, filter them based on their state<BR>
</b><BR><b>param:</b> array $tools An array of lti_types records<br>
<b>param:</b> int $state One of the LTI_TOOL_STATE_* constants<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_lti_types_by_course" onClick="logFunction('lti_get_lti_types_by_course', 'locallib.php.source.html#l1091')" href="locallib.php.source.html#l1091">lti_get_lti_types_by_course</a>(<a href="../../_variables/courseid.html">$courseid</a>, <a href="../../_variables/coursevisible.html">$coursevisible</a> = null)&nbsp;&nbsp;
<a href="../../_functions/lti_get_lti_types_by_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns all lti types visible in this course<BR>
</b><BR><b>param:</b> int $courseid The id of the course to retieve types for<br>
<b>param:</b> array $coursevisible options for 'coursevisible' field,<br>
<b>return:</b> stdClass[] All the lti types visible in the given course<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_types_for_add_instance" onClick="logFunction('lti_get_types_for_add_instance', 'locallib.php.source.html#l1117')" href="locallib.php.source.html#l1117">lti_get_types_for_add_instance</a>()&nbsp;&nbsp;
<a href="../../_functions/lti_get_types_for_add_instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns tool types for lti add instance and edit page<BR>
</b><BR><b>return:</b> array Array of lti types<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_configured_types" onClick="logFunction('lti_get_configured_types', 'locallib.php.source.html#l1136')" href="locallib.php.source.html#l1136">lti_get_configured_types</a>(<a href="../../_variables/courseid.html">$courseid</a>, <a href="../../_variables/sectionreturn.html">$sectionreturn</a> = 0)&nbsp;&nbsp;
<a href="../../_functions/lti_get_configured_types.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a list of configured types in the given course<BR>
</b><BR><b>param:</b> int $courseid The id of the course to retieve types for<br>
<b>param:</b> int $sectionreturn section to return to for forming the URLs<br>
<b>return:</b> array Array of lti types. Each element is object with properties: name, title, icon, help, helplink, link<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_domain_from_url" onClick="logFunction('lti_get_domain_from_url', 'locallib.php.source.html#l1172')" href="locallib.php.source.html#l1172">lti_get_domain_from_url</a>(<a href="../../_variables/url.html">$url</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_domain_from_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_tool_by_url_match" onClick="logFunction('lti_get_tool_by_url_match', 'locallib.php.source.html#l1180')" href="locallib.php.source.html#l1180">lti_get_tool_by_url_match</a>(<a href="../../_variables/url.html">$url</a>, <a href="../../_variables/courseid.html">$courseid</a> = null, <a href="../../_variables/state.html">$state</a> = LTI_TOOL_STATE_CONFIGURED)&nbsp;&nbsp;
<a href="../../_functions/lti_get_tool_by_url_match.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_url_thumbprint" onClick="logFunction('lti_get_url_thumbprint', 'locallib.php.source.html#l1186')" href="locallib.php.source.html#l1186">lti_get_url_thumbprint</a>(<a href="../../_variables/url.html">$url</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_url_thumbprint.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_best_tool_by_url" onClick="logFunction('lti_get_best_tool_by_url', 'locallib.php.source.html#l1207')" href="locallib.php.source.html#l1207">lti_get_best_tool_by_url</a>(<a href="../../_variables/url.html">$url</a>, <a href="../../_variables/tools.html">$tools</a>, <a href="../../_variables/courseid.html">$courseid</a> = null)&nbsp;&nbsp;
<a href="../../_functions/lti_get_best_tool_by_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_shared_secrets_by_key" onClick="logFunction('lti_get_shared_secrets_by_key', 'locallib.php.source.html#l1253')" href="locallib.php.source.html#l1253">lti_get_shared_secrets_by_key</a>(<a href="../../_variables/key.html">$key</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_shared_secrets_by_key.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_delete_type" onClick="logFunction('lti_delete_type', 'locallib.php.source.html#l1289')" href="locallib.php.source.html#l1289">lti_delete_type</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_delete_type.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete a Basic LTI configuration<BR>
</b><BR><b>param:</b> int $id&nbsp;&nbsp;&nbsp;Configuration id<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_set_state_for_type" onClick="logFunction('lti_set_state_for_type', 'locallib.php.source.html#l1309')" href="locallib.php.source.html#l1309">lti_set_state_for_type</a>(<a href="../../_variables/id.html">$id</a>, <a href="../../_variables/state.html">$state</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_set_state_for_type.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_config" onClick="logFunction('lti_get_config', 'locallib.php.source.html#l1315')" href="locallib.php.source.html#l1315">lti_get_config</a>(<a href="../../_variables/ltiobject.html">$ltiobject</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_config.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Transforms a basic LTI object to an array<BR>
</b><BR><b>param:</b> object $ltiobject&nbsp;&nbsp;&nbsp;&nbsp;Basic LTI object<br>
<b>return:</b> array Basic LTI configuration details<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_type_config_from_instance" onClick="logFunction('lti_get_type_config_from_instance', 'locallib.php.source.html#l1330')" href="locallib.php.source.html#l1330">lti_get_type_config_from_instance</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_type_config_from_instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generates some of the tool configuration based on the instance details<BR>
</b><BR><b>param:</b> int $id<br>
<b>return:</b> Instance configuration<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_type_type_config" onClick="logFunction('lti_get_type_type_config', 'locallib.php.source.html#l1369')" href="locallib.php.source.html#l1369">lti_get_type_type_config</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_type_type_config.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generates some of the tool configuration based on the admin configuration details<BR>
</b><BR><b>param:</b> int $id<br>
<b>return:</b> Configuration details<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_prepare_type_for_save" onClick="logFunction('lti_prepare_type_for_save', 'locallib.php.source.html#l1468')" href="locallib.php.source.html#l1468">lti_prepare_type_for_save</a>(<a href="../../_variables/type.html">$type</a>, <a href="../../_variables/config.html">$config</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_prepare_type_for_save.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_update_type" onClick="logFunction('lti_update_type', 'locallib.php.source.html#l1502')" href="locallib.php.source.html#l1502">lti_update_type</a>(<a href="../../_variables/type.html">$type</a>, <a href="../../_variables/config.html">$config</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_update_type.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_add_type" onClick="logFunction('lti_add_type', 'locallib.php.source.html#l1540')" href="locallib.php.source.html#l1540">lti_add_type</a>(<a href="../../_variables/type.html">$type</a>, <a href="../../_variables/config.html">$config</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_add_type.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_filter_tool_proxy_types" onClick="logFunction('lti_filter_tool_proxy_types', 'locallib.php.source.html#l1584')" href="locallib.php.source.html#l1584">lti_filter_tool_proxy_types</a>(array <a href="../../_variables/toolproxies.html">$toolproxies</a>, <a href="../../_variables/state.html">$state</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_filter_tool_proxy_types.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given an array of tool proxies, filter them based on their state<BR>
</b><BR><b>param:</b> array $toolproxies An array of lti_tool_proxies records<br>
<b>param:</b> int $state One of the LTI_TOOL_PROXY_STATE_* constants<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_tool_proxy_from_guid" onClick="logFunction('lti_get_tool_proxy_from_guid', 'locallib.php.source.html#l1602')" href="locallib.php.source.html#l1602">lti_get_tool_proxy_from_guid</a>(<a href="../../_variables/toolproxyguid.html">$toolproxyguid</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_tool_proxy_from_guid.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the tool proxy instance given its GUID<BR>
</b><BR><b>param:</b> string&nbsp;&nbsp;$toolproxyguid&nbsp;&nbsp;&nbsp;Tool proxy GUID value<br>
<b>return:</b> object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_tool_proxies_from_registration_url" onClick="logFunction('lti_get_tool_proxies_from_registration_url', 'locallib.php.source.html#l1617')" href="locallib.php.source.html#l1617">lti_get_tool_proxies_from_registration_url</a>(<a href="../../_variables/regurl.html">$regurl</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_tool_proxies_from_registration_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the tool proxy instance given its registration URL<BR>
</b><BR><b>param:</b> string $regurl Tool proxy registration URL<br>
<b>return:</b> array The record of the tool proxy with this url<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_tool_proxy" onClick="logFunction('lti_get_tool_proxy', 'locallib.php.source.html#l1634')" href="locallib.php.source.html#l1634">lti_get_tool_proxy</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_tool_proxy.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generates some of the tool proxy configuration based on the admin configuration details<BR>
</b><BR><b>param:</b> int $id<br>
<b>return:</b> Tool Proxy details<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_tool_proxies" onClick="logFunction('lti_get_tool_proxies', 'locallib.php.source.html#l1648')" href="locallib.php.source.html#l1648">lti_get_tool_proxies</a>(<a href="../../_variables/orphanedonly.html">$orphanedonly</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_tool_proxies.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns lti tool proxies.<BR>
</b><BR><b>param:</b> bool $orphanedonly Only retrieves tool proxies that have no type associated with them<br>
<b>return:</b> array of basicLTI types<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_tool_proxy_config" onClick="logFunction('lti_get_tool_proxy_config', 'locallib.php.source.html#l1672')" href="locallib.php.source.html#l1672">lti_get_tool_proxy_config</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_tool_proxy_config.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Generates some of the tool proxy configuration based on the admin configuration details<BR>
</b><BR><b>param:</b> int $id<br>
<b>return:</b> Tool Proxy details<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_add_tool_proxy" onClick="logFunction('lti_add_tool_proxy', 'locallib.php.source.html#l1693')" href="locallib.php.source.html#l1693">lti_add_tool_proxy</a>(<a href="../../_variables/config.html">$config</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_add_tool_proxy.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Update the database with a tool proxy instance<BR>
</b><BR><b>param:</b> object&nbsp;&nbsp;&nbsp;$config&nbsp;&nbsp;&nbsp;&nbsp;Tool proxy definition<br>
<b>return:</b> int&nbsp;&nbsp;Record id number<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_update_tool_proxy" onClick="logFunction('lti_update_tool_proxy', 'locallib.php.source.html#l1747')" href="locallib.php.source.html#l1747">lti_update_tool_proxy</a>(<a href="../../_variables/toolproxy.html">$toolproxy</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_update_tool_proxy.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Updates a tool proxy in the database<BR>
</b><BR><b>param:</b> object&nbsp;&nbsp;$toolproxy&nbsp;&nbsp;&nbsp;Tool proxy<br>
<b>return:</b> int&nbsp;&nbsp;&nbsp;&nbsp;Record id number<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_delete_tool_proxy" onClick="logFunction('lti_delete_tool_proxy', 'locallib.php.source.html#l1763')" href="locallib.php.source.html#l1763">lti_delete_tool_proxy</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_delete_tool_proxy.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete a Tool Proxy<BR>
</b><BR><b>param:</b> int $id&nbsp;&nbsp;&nbsp;Tool Proxy id<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_add_config" onClick="logFunction('lti_add_config', 'locallib.php.source.html#l1778')" href="locallib.php.source.html#l1778">lti_add_config</a>(<a href="../../_variables/config.html">$config</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_add_config.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add a tool configuration in the database<BR>
</b><BR><b>param:</b> object $config&nbsp;&nbsp;&nbsp;Tool configuration<br>
<b>return:</b> int Record id number<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_update_config" onClick="logFunction('lti_update_config', 'locallib.php.source.html#l1791')" href="locallib.php.source.html#l1791">lti_update_config</a>(<a href="../../_variables/config.html">$config</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_update_config.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Updates a tool configuration in the database<BR>
</b><BR><b>param:</b> object&nbsp;&nbsp;$config&nbsp;&nbsp;&nbsp;Tool configuration<br>
<b>return:</b> Record id number<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_tool_settings" onClick="logFunction('lti_get_tool_settings', 'locallib.php.source.html#l1813')" href="locallib.php.source.html#l1813">lti_get_tool_settings</a>(<a href="../../_variables/toolproxyid.html">$toolproxyid</a>, <a href="../../_variables/courseid.html">$courseid</a> = null, <a href="../../_variables/instanceid.html">$instanceid</a> = null)&nbsp;&nbsp;
<a href="../../_functions/lti_get_tool_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets the tool settings<BR>
</b><BR><b>param:</b> int&nbsp;&nbsp;$toolproxyid&nbsp;&nbsp;&nbsp;Id of tool proxy record<br>
<b>param:</b> int&nbsp;&nbsp;$courseid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Id of course (null if system settings)<br>
<b>param:</b> int&nbsp;&nbsp;$instanceid&nbsp;&nbsp;&nbsp;&nbsp;Id of course module (null if system or context settings)<br>
<b>return:</b> array&nbsp;&nbsp;Array settings<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_set_tool_settings" onClick="logFunction('lti_set_tool_settings', 'locallib.php.source.html#l1834')" href="locallib.php.source.html#l1834">lti_set_tool_settings</a>(<a href="../../_variables/settings.html">$settings</a>, <a href="../../_variables/toolproxyid.html">$toolproxyid</a>, <a href="../../_variables/courseid.html">$courseid</a> = null, <a href="../../_variables/instanceid.html">$instanceid</a> = null)&nbsp;&nbsp;
<a href="../../_functions/lti_set_tool_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets the tool settings (<BR>
</b><BR><b>param:</b> array&nbsp;&nbsp;$settings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array of settings<br>
<b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;$toolproxyid&nbsp;&nbsp;&nbsp;Id of tool proxy record<br>
<b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;$courseid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Id of course (null if system settings)<br>
<b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;$instanceid&nbsp;&nbsp;&nbsp;&nbsp;Id of course module (null if system or context settings)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_sign_parameters" onClick="logFunction('lti_sign_parameters', 'locallib.php.source.html#l1862')" href="locallib.php.source.html#l1862">lti_sign_parameters</a>(<a href="../../_variables/oldparms.html">$oldparms</a>, <a href="../../_variables/endpoint.html">$endpoint</a>, <a href="../../_variables/method.html">$method</a>, <a href="../../_variables/oauthconsumerkey.html">$oauthconsumerkey</a>, <a href="../../_variables/oauthconsumersecret.html">$oauthconsumersecret</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_sign_parameters.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Signs the petition to launch the external tool using OAuth<BR>
</b><BR><b>param:</b> $oldparms&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parameters to be passed for signing<br>
<b>param:</b> $endpoint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url of the external tool<br>
<b>param:</b> $method&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method for sending the parameters (e.g. POST)<br>
<b>param:</b> $oauth_consumoer_key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Key<br>
<b>param:</b> $oauth_consumoer_secret&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Secret<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_post_launch_html" onClick="logFunction('lti_post_launch_html', 'locallib.php.source.html#l1888')" href="locallib.php.source.html#l1888">lti_post_launch_html</a>(<a href="../../_variables/newparms.html">$newparms</a>, <a href="../../_variables/endpoint.html">$endpoint</a>, <a href="../../_variables/debug.html">$debug</a>=false)&nbsp;&nbsp;
<a href="../../_functions/lti_post_launch_html.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Posts the launch petition HTML<BR>
</b><BR><b>param:</b> $newparms&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Signed parameters<br>
<b>param:</b> $endpoint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;URL of the external tool<br>
<b>param:</b> $debug&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Debug (true/false)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_type" onClick="logFunction('lti_get_type', 'locallib.php.source.html#l1953')" href="locallib.php.source.html#l1953">lti_get_type</a>(<a href="../../_variables/typeid.html">$typeid</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_type.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_launch_container" onClick="logFunction('lti_get_launch_container', 'locallib.php.source.html#l1959')" href="locallib.php.source.html#l1959">lti_get_launch_container</a>(<a href="../../_variables/lti.html">$lti</a>, <a href="../../_variables/toolconfig.html">$toolconfig</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_launch_container.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_request_is_using_ssl" onClick="logFunction('lti_request_is_using_ssl', 'locallib.php.source.html#l1988')" href="locallib.php.source.html#l1988">lti_request_is_using_ssl</a>()&nbsp;&nbsp;
<a href="../../_functions/lti_request_is_using_ssl.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_ensure_url_is_https" onClick="logFunction('lti_ensure_url_is_https', 'locallib.php.source.html#l1993')" href="locallib.php.source.html#l1993">lti_ensure_url_is_https</a>(<a href="../../_variables/url.html">$url</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_ensure_url_is_https.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_should_log_request" onClick="logFunction('lti_should_log_request', 'locallib.php.source.html#l2006')" href="locallib.php.source.html#l2006">lti_should_log_request</a>(<a href="../../_variables/rawbody.html">$rawbody</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_should_log_request.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Determines if we should try to log the request<BR>
</b><BR><b>param:</b> string $rawbody<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_log_request" onClick="logFunction('lti_log_request', 'locallib.php.source.html#l2049')" href="locallib.php.source.html#l2049">lti_log_request</a>(<a href="../../_variables/rawbody.html">$rawbody</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_log_request.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Logs the request to a file in temp dir.<BR>
</b><BR><b>param:</b> string $rawbody<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_log_response" onClick="logFunction('lti_log_response', 'locallib.php.source.html#l2070')" href="locallib.php.source.html#l2070">lti_log_response</a>(<a href="../../_variables/responsexml.html">$responsexml</a>, <a href="../../_variables/e.html">$e</a> = null)&nbsp;&nbsp;
<a href="../../_functions/lti_log_response.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Log an LTI response.<BR>
</b><BR><b>param:</b> string $responsexml The response XML<br>
<b>param:</b> Exception $e If there was an exception, pass that too<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_type_config_by_instance" onClick="logFunction('lti_get_type_config_by_instance', 'locallib.php.source.html#l2099')" href="locallib.php.source.html#l2099">lti_get_type_config_by_instance</a>(<a href="../../_variables/instance.html">$instance</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_type_config_by_instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Fetches LTI type configuration for an LTI instance<BR>
</b><BR><b>param:</b> stdClass $instance<br>
<b>return:</b> array Can be empty if no type is found<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_force_type_config_settings" onClick="logFunction('lti_force_type_config_settings', 'locallib.php.source.html#l2121')" href="locallib.php.source.html#l2121">lti_force_type_config_settings</a>(<a href="../../_variables/instance.html">$instance</a>, array <a href="../../_variables/typeconfig.html">$typeconfig</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_force_type_config_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Enforce type config settings onto the LTI instance<BR>
</b><BR><b>param:</b> stdClass $instance<br>
<b>param:</b> array $typeconfig<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_capabilities" onClick="logFunction('lti_get_capabilities', 'locallib.php.source.html#l2141')" href="locallib.php.source.html#l2141">lti_get_capabilities</a>()&nbsp;&nbsp;
<a href="../../_functions/lti_get_capabilities.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initializes an array with the capabilities supported by the LTI module<BR>
</b><BR><b>return:</b> array List of capability names (without a dollar sign prefix)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_services" onClick="logFunction('lti_get_services', 'locallib.php.source.html#l2182')" href="locallib.php.source.html#l2182">lti_get_services</a>()&nbsp;&nbsp;
<a href="../../_functions/lti_get_services.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initializes an array with the services supported by the LTI module<BR>
</b><BR><b>return:</b> array List of services<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_service_by_name" onClick="logFunction('lti_get_service_by_name', 'locallib.php.source.html#l2200')" href="locallib.php.source.html#l2200">lti_get_service_by_name</a>(<a href="../../_variables/servicename.html">$servicename</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_service_by_name.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initializes an instance of the named service<BR>
</b><BR><b>param:</b> string $servicename Name of service<br>
<b>return:</b> mod_lti\local\ltiservice\service_base Service<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_service_by_resource_id" onClick="logFunction('lti_get_service_by_resource_id', 'locallib.php.source.html#l2219')" href="locallib.php.source.html#l2219">lti_get_service_by_resource_id</a>(<a href="../../_variables/services.html">$services</a>, <a href="../../_variables/resourceid.html">$resourceid</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_service_by_resource_id.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Finds a service by id<BR>
</b><BR><b>param:</b> array&nbsp;&nbsp;$services&nbsp;&nbsp;&nbsp;&nbsp;Array of services<br>
<b>param:</b> string $resourceid&nbsp;&nbsp;ID of resource<br>
<b>return:</b> mod_lti\local\ltiservice\service_base Service<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_contexts" onClick="logFunction('lti_get_contexts', 'locallib.php.source.html#l2243')" href="locallib.php.source.html#l2243">lti_get_contexts</a>(<a href="../../_variables/json.html">$json</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_contexts.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Extracts the named contexts from a tool proxy<BR>
</b><BR><b>param:</b> object $json<br>
<b>return:</b> array Contexts<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_get_fqid" onClick="logFunction('lti_get_fqid', 'locallib.php.source.html#l2265')" href="locallib.php.source.html#l2265">lti_get_fqid</a>(<a href="../../_variables/contexts.html">$contexts</a>, <a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_get_fqid.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Converts an ID to a fully-qualified ID<BR>
</b><BR><b>param:</b> array $contexts<br>
<b>param:</b> string $id<br>
<b>return:</b> string Fully-qualified ID<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_tool_type_icon_url" onClick="logFunction('get_tool_type_icon_url', 'locallib.php.source.html#l2286')" href="locallib.php.source.html#l2286">get_tool_type_icon_url</a>(stdClass <a href="../../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../../_functions/get_tool_type_icon_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the icon for the given tool type<BR>
</b><BR><b>param:</b> stdClass $type The tool type<br>
<b>return:</b> string The url to the tool type's corresponding icon<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_tool_type_edit_url" onClick="logFunction('get_tool_type_edit_url', 'locallib.php.source.html#l2309')" href="locallib.php.source.html#l2309">get_tool_type_edit_url</a>(stdClass <a href="../../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../../_functions/get_tool_type_edit_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the edit url for the given tool type<BR>
</b><BR><b>param:</b> stdClass $type The tool type<br>
<b>return:</b> string The url to edit the tool type<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_tool_proxy_edit_url" onClick="logFunction('get_tool_proxy_edit_url', 'locallib.php.source.html#l2322')" href="locallib.php.source.html#l2322">get_tool_proxy_edit_url</a>(stdClass <a href="../../_variables/proxy.html">$proxy</a>)&nbsp;&nbsp;
<a href="../../_functions/get_tool_proxy_edit_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the edit url for the given tool proxy.<BR>
</b><BR><b>param:</b> stdClass $proxy The tool proxy<br>
<b>return:</b> string The url to edit the tool type<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_tool_type_course_url" onClick="logFunction('get_tool_type_course_url', 'locallib.php.source.html#l2335')" href="locallib.php.source.html#l2335">get_tool_type_course_url</a>(stdClass <a href="../../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../../_functions/get_tool_type_course_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the course url for the given tool type<BR>
</b><BR><b>param:</b> stdClass $type The tool type<br>
<b>return:</b> string|void The url to the course of the tool type, void if it is a site wide type<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_tool_type_urls" onClick="logFunction('get_tool_type_urls', 'locallib.php.source.html#l2351')" href="locallib.php.source.html#l2351">get_tool_type_urls</a>(stdClass <a href="../../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../../_functions/get_tool_type_urls.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the icon and edit urls for the tool type and the course url if it is a course type.<BR>
</b><BR><b>param:</b> stdClass $type The tool type<br>
<b>return:</b> string The urls of the tool type<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_tool_proxy_urls" onClick="logFunction('get_tool_proxy_urls', 'locallib.php.source.html#l2373')" href="locallib.php.source.html#l2373">get_tool_proxy_urls</a>(stdClass <a href="../../_variables/proxy.html">$proxy</a>)&nbsp;&nbsp;
<a href="../../_functions/get_tool_proxy_urls.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the icon and edit urls for the tool proxy.<BR>
</b><BR><b>param:</b> stdClass $proxy The tool proxy<br>
<b>return:</b> string The urls of the tool proxy<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_tool_type_state_info" onClick="logFunction('get_tool_type_state_info', 'locallib.php.source.html#l2391')" href="locallib.php.source.html#l2391">get_tool_type_state_info</a>(stdClass <a href="../../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../../_functions/get_tool_type_state_info.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns information on the current state of the tool type<BR>
</b><BR><b>param:</b> stdClass $type The tool type<br>
<b>return:</b> array An array with a text description of the state, and boolean for whether it is in each state:<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_tool_type_capability_groups" onClick="logFunction('get_tool_type_capability_groups', 'locallib.php.source.html#l2433')" href="locallib.php.source.html#l2433">get_tool_type_capability_groups</a>(<a href="../../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../../_functions/get_tool_type_capability_groups.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a summary of each LTI capability this tool type requires in plain language<BR>
</b><BR><b>param:</b> stdClass $type The tool type<br>
<b>return:</b> array An array of text descriptions of each of the capabilities this tool type requires<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_tool_type_instance_ids" onClick="logFunction('get_tool_type_instance_ids', 'locallib.php.source.html#l2473')" href="locallib.php.source.html#l2473">get_tool_type_instance_ids</a>(<a href="../../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../../_functions/get_tool_type_instance_ids.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the ids of each instance of this tool type<BR>
</b><BR><b>param:</b> stdClass $type The tool type<br>
<b>return:</b> array An array of ids of the instances of this tool type<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="serialise_tool_type" onClick="logFunction('serialise_tool_type', 'locallib.php.source.html#l2486')" href="locallib.php.source.html#l2486">serialise_tool_type</a>(stdClass <a href="../../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../../_functions/serialise_tool_type.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Serialises this tool type<BR>
</b><BR><b>param:</b> stdClass $type The tool type<br>
<b>return:</b> array An array of values representing this type<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="serialise_tool_proxy" onClick="logFunction('serialise_tool_proxy', 'locallib.php.source.html#l2519')" href="locallib.php.source.html#l2519">serialise_tool_proxy</a>(stdClass <a href="../../_variables/proxy.html">$proxy</a>)&nbsp;&nbsp;
<a href="../../_functions/serialise_tool_proxy.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Serialises this tool proxy.<BR>
</b><BR><b>param:</b> stdClass $proxy The tool proxy<br>
<b>return:</b> array An array of values representing this type<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_load_type_if_cartridge" onClick="logFunction('lti_load_type_if_cartridge', 'locallib.php.source.html#l2547')" href="locallib.php.source.html#l2547">lti_load_type_if_cartridge</a>(<a href="../../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_load_type_if_cartridge.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Loads the cartridge information into the tool type, if the launch url is for a cartridge file<BR>
</b><BR><b>param:</b> stdClass $type The tool type object to be filled in<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_load_tool_if_cartridge" onClick="logFunction('lti_load_tool_if_cartridge', 'locallib.php.source.html#l2559')" href="locallib.php.source.html#l2559">lti_load_tool_if_cartridge</a>(<a href="../../_variables/lti.html">$lti</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_load_tool_if_cartridge.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Loads the cartridge information into the new tool, if the launch url is for a cartridge file<BR>
</b><BR><b>param:</b> stdClass $lti The tools config<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_is_cartridge" onClick="logFunction('lti_is_cartridge', 'locallib.php.source.html#l2571')" href="locallib.php.source.html#l2571">lti_is_cartridge</a>(<a href="../../_variables/url.html">$url</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_is_cartridge.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Determines if the given url is for a IMS basic cartridge<BR>
</b><BR><b>param:</b> string $url The url to be checked<br>
<b>return:</b> True if the url is for a cartridge<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_load_type_from_cartridge" onClick="logFunction('lti_load_type_from_cartridge', 'locallib.php.source.html#l2603')" href="locallib.php.source.html#l2603">lti_load_type_from_cartridge</a>(<a href="../../_variables/url.html">$url</a>, <a href="../../_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_load_type_from_cartridge.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Allows you to load settings for an external tool type from an IMS cartridge.<BR>
</b><BR><b>param:</b> string&nbsp;&nbsp;&nbsp;$url&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The URL to the cartridge<br>
<b>param:</b> stdClass $type&nbsp;&nbsp;&nbsp;&nbsp;The tool type object to be filled in<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_load_tool_from_cartridge" onClick="logFunction('lti_load_tool_from_cartridge', 'locallib.php.source.html#l2646')" href="locallib.php.source.html#l2646">lti_load_tool_from_cartridge</a>(<a href="../../_variables/url.html">$url</a>, <a href="../../_variables/lti.html">$lti</a>)&nbsp;&nbsp;
<a href="../../_functions/lti_load_tool_from_cartridge.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Allows you to load in the configuration for an external tool from an IMS cartridge.<BR>
</b><BR><b>param:</b> string&nbsp;&nbsp;&nbsp;$url&nbsp;&nbsp;&nbsp;&nbsp;The URL to the cartridge<br>
<b>param:</b> stdClass $lti&nbsp;&nbsp;&nbsp;&nbsp;LTI object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="lti_load_cartridge" onClick="logFunction('lti_load_cartridge', 'locallib.php.source.html#l2690')" href="locallib.php.source.html#l2690">lti_load_cartridge</a>(<a href="../../_variables/url.html">$url</a>, <a href="../../_variables/map.html">$map</a>, <a href="../../_variables/propertiesmap.html">$propertiesmap</a> = array()&nbsp;&nbsp;
<a href="../../_functions/lti_load_cartridge.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Search for a tag within an XML DOMDocument<BR>
</b><BR><b>param:</b> string $url The url of the cartridge to be loaded<br>
<b>param:</b> array&nbsp;&nbsp;$map The map of tags to keys in the return array<br>
<b>param:</b> array&nbsp;&nbsp;$propertiesmap The map of properties to keys in the return array<br>
<b>return:</b> array An associative array with the given keys and their values from the cartridge<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_tag" onClick="logFunction('get_tag', 'locallib.php.source.html#l2750')" href="locallib.php.source.html#l2750">get_tag</a>(<a href="../../_variables/tagname.html">$tagname</a>, <a href="../../_variables/xpath.html">$xpath</a>, <a href="../../_variables/attribute.html">$attribute</a> = null)&nbsp;&nbsp;
<a href="../../_functions/get_tag.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Search for a tag within an XML DOMDocument<BR>
</b><BR><b>param:</b> stdClass $tagname The name of the tag to search for<br>
<b>param:</b> XPath&nbsp;&nbsp;&nbsp;&nbsp;$xpath&nbsp;&nbsp;&nbsp;The XML to find the tag in<br>
<b>param:</b> XPath&nbsp;&nbsp;&nbsp;&nbsp;$attribute The attribute to search for (if we should search for a child node with the given<br>
</td></tr></table>

<br>
</div></div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
