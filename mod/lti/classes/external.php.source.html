<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/lti/classes/external.php source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='mod/lti/classes';
filename='external.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/lti/classes/</a> -> <a href="external.php.html">external.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="external.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="external.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * External tool module external API</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    mod_lti</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @category   external</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2015 Juan Leyva &lt;juan@moodle.com&gt;</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * @since      Moodle 3.0</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> */</span>
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die;
<a name="l28"><span class="linenum">  28</span></a>  
<a name="l29"><span class="linenum">  29</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../_variables/libdir.html">libdir</a> . '/externallib.php');
<a name="l30"><span class="linenum">  30</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../../mod/lti/lib.php.html">/mod/lti/lib.php</a>');
<a name="l31"><span class="linenum">  31</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../../mod/lti/locallib.php.html">/mod/lti/locallib.php</a>');
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">/**</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * External tool module external functions</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> *</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * @package    mod_lti</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * @category   external</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * @copyright  2015 Juan Leyva &lt;juan@moodle.com&gt;</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> * @since      Moodle 3.0</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> */</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('mod_lti_external')" href="../../../_classes/mod_lti_external.html" onMouseOver="classPopup(event,'mod_lti_external')">mod_lti_external</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('external_api')" href="../../../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a> {
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>      <span class="comment">/**</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     * Returns structure be used for returning a tool type from a web service.</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     *</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">     */</span>
<a name="l50"><span class="linenum">  50</span></a>      private static function <a class="function" onClick="logFunction('tool_type_return_structure')" href="../../../_functions/tool_type_return_structure.html" onMouseOver="funcPopup(event,'tool_type_return_structure')">tool_type_return_structure</a>() {
<a name="l51"><span class="linenum">  51</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l52"><span class="linenum">  52</span></a>              array(
<a name="l53"><span class="linenum">  53</span></a>                  'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Tool type id'),
<a name="l54"><span class="linenum">  54</span></a>                  'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../../../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'Tool type name'),
<a name="l55"><span class="linenum">  55</span></a>                  'description' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../../../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'Tool type description'),
<a name="l56"><span class="linenum">  56</span></a>                  'urls' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l57"><span class="linenum">  57</span></a>                      array(
<a name="l58"><span class="linenum">  58</span></a>                          'icon' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../../../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'Tool type icon URL'),
<a name="l59"><span class="linenum">  59</span></a>                          'edit' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../../../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'Tool type edit URL'),
<a name="l60"><span class="linenum">  60</span></a>                          'course' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../../../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'Tool type edit URL', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l61"><span class="linenum">  61</span></a>                      )
<a name="l62"><span class="linenum">  62</span></a>                  ),
<a name="l63"><span class="linenum">  63</span></a>                  'state' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l64"><span class="linenum">  64</span></a>                      array(
<a name="l65"><span class="linenum">  65</span></a>                          'text' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Tool type state name string'),
<a name="l66"><span class="linenum">  66</span></a>                          'pending' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Is the state pending'),
<a name="l67"><span class="linenum">  67</span></a>                          'configured' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Is the state configured'),
<a name="l68"><span class="linenum">  68</span></a>                          'rejected' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Is the state rejected'),
<a name="l69"><span class="linenum">  69</span></a>                          'unknown' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Is the state unknown'),
<a name="l70"><span class="linenum">  70</span></a>                      )
<a name="l71"><span class="linenum">  71</span></a>                  ),
<a name="l72"><span class="linenum">  72</span></a>                  'hascapabilitygroups' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Indicate if capabilitygroups is populated'),
<a name="l73"><span class="linenum">  73</span></a>                  'capabilitygroups' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l74"><span class="linenum">  74</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Tool type capability groups enabled'),
<a name="l75"><span class="linenum">  75</span></a>                      'Array of capability groups', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l76"><span class="linenum">  76</span></a>                  ),
<a name="l77"><span class="linenum">  77</span></a>                  'courseid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Tool type course', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 0),
<a name="l78"><span class="linenum">  78</span></a>                  'instanceids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l79"><span class="linenum">  79</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'LTI instance ID'),
<a name="l80"><span class="linenum">  80</span></a>                      'IDs for the LTI instances using this type', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l81"><span class="linenum">  81</span></a>                  ),
<a name="l82"><span class="linenum">  82</span></a>                  'instancecount' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'The number of times this tool is being used')
<a name="l83"><span class="linenum">  83</span></a>              ), 'Tool'
<a name="l84"><span class="linenum">  84</span></a>          );
<a name="l85"><span class="linenum">  85</span></a>      }
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>      <span class="comment">/**</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment">     * Returns description of a tool proxy</span>
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment">     *</span>
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">     */</span>
<a name="l93"><span class="linenum">  93</span></a>      private static function <a class="function" onClick="logFunction('tool_proxy_return_structure')" href="../../../_functions/tool_proxy_return_structure.html" onMouseOver="funcPopup(event,'tool_proxy_return_structure')">tool_proxy_return_structure</a>() {
<a name="l94"><span class="linenum">  94</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l95"><span class="linenum">  95</span></a>              array(
<a name="l96"><span class="linenum">  96</span></a>                  'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Tool proxy id'),
<a name="l97"><span class="linenum">  97</span></a>                  'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Tool proxy name'),
<a name="l98"><span class="linenum">  98</span></a>                  'regurl' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../../../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'Tool proxy registration URL'),
<a name="l99"><span class="linenum">  99</span></a>                  'state' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Tool proxy state'),
<a name="l100"><span class="linenum"> 100</span></a>                  'guid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Tool proxy globally unique identifier'),
<a name="l101"><span class="linenum"> 101</span></a>                  'secret' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Tool proxy shared secret'),
<a name="l102"><span class="linenum"> 102</span></a>                  'vendorcode' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Tool proxy consumer code'),
<a name="l103"><span class="linenum"> 103</span></a>                  'capabilityoffered' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Tool proxy capabilities offered'),
<a name="l104"><span class="linenum"> 104</span></a>                  'serviceoffered' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Tool proxy services offered'),
<a name="l105"><span class="linenum"> 105</span></a>                  'toolproxy' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Tool proxy'),
<a name="l106"><span class="linenum"> 106</span></a>                  'timecreated' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Tool proxy time created'),
<a name="l107"><span class="linenum"> 107</span></a>                  'timemodified' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Tool proxy modified'),
<a name="l108"><span class="linenum"> 108</span></a>              )
<a name="l109"><span class="linenum"> 109</span></a>          );
<a name="l110"><span class="linenum"> 110</span></a>      }
<a name="l111"><span class="linenum"> 111</span></a>  
<a name="l112"><span class="linenum"> 112</span></a>      <span class="comment">/**</span>
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l114"><span class="linenum"> 114</span></a>  <span class="comment">     *</span>
<a name="l115"><span class="linenum"> 115</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l117"><span class="linenum"> 117</span></a>  <span class="comment">     */</span>
<a name="l118"><span class="linenum"> 118</span></a>      public static function <a class="function" onClick="logFunction('get_tool_proxies_parameters')" href="../../../_functions/get_tool_proxies_parameters.html" onMouseOver="funcPopup(event,'get_tool_proxies_parameters')">get_tool_proxies_parameters</a>() {
<a name="l119"><span class="linenum"> 119</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l120"><span class="linenum"> 120</span></a>              array(
<a name="l121"><span class="linenum"> 121</span></a>                  'orphanedonly' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Orphaned tool types only', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 0)
<a name="l122"><span class="linenum"> 122</span></a>              )
<a name="l123"><span class="linenum"> 123</span></a>          );
<a name="l124"><span class="linenum"> 124</span></a>      }
<a name="l125"><span class="linenum"> 125</span></a>  
<a name="l126"><span class="linenum"> 126</span></a>      <span class="comment">/**</span>
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment">     * Returns the tool types.</span>
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment">     *</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment">     * @param bool $orphanedonly Retrieve only tool proxies that do not have a corresponding tool type</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment">     * @return array of tool types</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">     */</span>
<a name="l134"><span class="linenum"> 134</span></a>      public static function <a class="function" onClick="logFunction('get_tool_proxies')" href="../../../_functions/get_tool_proxies.html" onMouseOver="funcPopup(event,'get_tool_proxies')">get_tool_proxies</a>(<a class="var it3752" onMouseOver="hilite(3752)" onMouseOut="lolite()" onClick="logVariable('orphanedonly')" href="../../../_variables/orphanedonly.html">$orphanedonly</a>) {
<a name="l135"><span class="linenum"> 135</span></a>          global <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../../_variables/PAGE.html">$PAGE</a>;
<a name="l136"><span class="linenum"> 136</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_tool_proxies_parameters')" href="../../../_functions/get_tool_proxies_parameters.html" onMouseOver="funcPopup(event,'get_tool_proxies_parameters')">get_tool_proxies_parameters</a>(),
<a name="l137"><span class="linenum"> 137</span></a>                                              array(
<a name="l138"><span class="linenum"> 138</span></a>                                                  'orphanedonly' =&gt; <a class="var it3752" onMouseOver="hilite(3752)" onMouseOut="lolite()" onClick="logVariable('orphanedonly')" href="../../../_variables/orphanedonly.html">$orphanedonly</a>
<a name="l139"><span class="linenum"> 139</span></a>                                              ));
<a name="l140"><span class="linenum"> 140</span></a>          <a class="var it3752" onMouseOver="hilite(3752)" onMouseOut="lolite()" onClick="logVariable('orphanedonly')" href="../../../_variables/orphanedonly.html">$orphanedonly</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['orphanedonly'];
<a name="l141"><span class="linenum"> 141</span></a>  
<a name="l142"><span class="linenum"> 142</span></a>          <a class="var it3753" onMouseOver="hilite(3753)" onMouseOut="lolite()" onClick="logVariable('proxies')" href="../../../_variables/proxies.html">$proxies</a> = array();
<a name="l143"><span class="linenum"> 143</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l144"><span class="linenum"> 144</span></a>  
<a name="l145"><span class="linenum"> 145</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l146"><span class="linenum"> 146</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/site:config', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>          <a class="var it3753" onMouseOver="hilite(3753)" onMouseOut="lolite()" onClick="logVariable('proxies')" href="../../../_variables/proxies.html">$proxies</a> = <a class="function" onClick="logFunction('lti_get_tool_proxies')" href="../../../_functions/lti_get_tool_proxies.html" onMouseOver="funcPopup(event,'lti_get_tool_proxies')">lti_get_tool_proxies</a>(<a class="var it3752" onMouseOver="hilite(3752)" onMouseOut="lolite()" onClick="logVariable('orphanedonly')" href="../../../_variables/orphanedonly.html">$orphanedonly</a>);
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>          return <a class="phpfunction" onClick="logFunction('array_map')" href="../../../_functions/array_map.html" onMouseOver="phpfuncPopup(event,'array_map')">array_map</a>('serialise_tool_proxy', <a class="var it3753" onMouseOver="hilite(3753)" onMouseOut="lolite()" onClick="logVariable('proxies')" href="../../../_variables/proxies.html">$proxies</a>);
<a name="l151"><span class="linenum"> 151</span></a>      }
<a name="l152"><span class="linenum"> 152</span></a>  
<a name="l153"><span class="linenum"> 153</span></a>      <span class="comment">/**</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">     * Returns description of method result value.</span>
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment">     *</span>
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">     * @return external_description</span>
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment">     */</span>
<a name="l159"><span class="linenum"> 159</span></a>      public static function <a class="function" onClick="logFunction('get_tool_proxies_returns')" href="../../../_functions/get_tool_proxies_returns.html" onMouseOver="funcPopup(event,'get_tool_proxies_returns')">get_tool_proxies_returns</a>() {
<a name="l160"><span class="linenum"> 160</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l161"><span class="linenum"> 161</span></a>              self::<a class="function" onClick="logFunction('tool_type_return_structure')" href="../../../_functions/tool_type_return_structure.html" onMouseOver="funcPopup(event,'tool_type_return_structure')">tool_type_return_structure</a>()
<a name="l162"><span class="linenum"> 162</span></a>          );
<a name="l163"><span class="linenum"> 163</span></a>      }
<a name="l164"><span class="linenum"> 164</span></a>  
<a name="l165"><span class="linenum"> 165</span></a>      <span class="comment">/**</span>
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment">     * Returns description of method parameters.</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment">     *</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">     */</span>
<a name="l171"><span class="linenum"> 171</span></a>      public static function <a class="function" onClick="logFunction('get_tool_launch_data_parameters')" href="../../../_functions/get_tool_launch_data_parameters.html" onMouseOver="funcPopup(event,'get_tool_launch_data_parameters')">get_tool_launch_data_parameters</a>() {
<a name="l172"><span class="linenum"> 172</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l173"><span class="linenum"> 173</span></a>              array(
<a name="l174"><span class="linenum"> 174</span></a>                  'toolid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'external tool instance id')
<a name="l175"><span class="linenum"> 175</span></a>              )
<a name="l176"><span class="linenum"> 176</span></a>          );
<a name="l177"><span class="linenum"> 177</span></a>      }
<a name="l178"><span class="linenum"> 178</span></a>  
<a name="l179"><span class="linenum"> 179</span></a>      <span class="comment">/**</span>
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment">     * Return the launch data for a given external tool.</span>
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment">     *</span>
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment">     * @param int $toolid the external tool instance id</span>
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">     * @return array of warnings and launch data</span>
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment">     */</span>
<a name="l187"><span class="linenum"> 187</span></a>      public static function <a class="function" onClick="logFunction('get_tool_launch_data')" href="../../../_functions/get_tool_launch_data.html" onMouseOver="funcPopup(event,'get_tool_launch_data')">get_tool_launch_data</a>(<a class="var it3754" onMouseOver="hilite(3754)" onMouseOut="lolite()" onClick="logVariable('toolid')" href="../../../_variables/toolid.html">$toolid</a>) {
<a name="l188"><span class="linenum"> 188</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>;
<a name="l189"><span class="linenum"> 189</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../../mod/lti/lib.php.html">/mod/lti/lib.php</a>');
<a name="l190"><span class="linenum"> 190</span></a>  
<a name="l191"><span class="linenum"> 191</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_tool_launch_data_parameters')" href="../../../_functions/get_tool_launch_data_parameters.html" onMouseOver="funcPopup(event,'get_tool_launch_data_parameters')">get_tool_launch_data_parameters</a>(),
<a name="l192"><span class="linenum"> 192</span></a>                                              array(
<a name="l193"><span class="linenum"> 193</span></a>                                                  'toolid' =&gt; <a class="var it3754" onMouseOver="hilite(3754)" onMouseOut="lolite()" onClick="logVariable('toolid')" href="../../../_variables/toolid.html">$toolid</a>
<a name="l194"><span class="linenum"> 194</span></a>                                              ));
<a name="l195"><span class="linenum"> 195</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l196"><span class="linenum"> 196</span></a>  
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">        // Request and permission validation.</span>
<a name="l198"><span class="linenum"> 198</span></a>          <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../../_variables/lti.html">$lti</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('lti', array('id' =&gt; <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['toolid']), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l199"><span class="linenum"> 199</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>) = <a class="function" onClick="logFunction('get_course_and_cm_from_instance')" href="../../../_functions/get_course_and_cm_from_instance.html" onMouseOver="funcPopup(event,'get_course_and_cm_from_instance')">get_course_and_cm_from_instance</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../../_variables/lti.html">$lti</a>, 'lti');
<a name="l200"><span class="linenum"> 200</span></a>  
<a name="l201"><span class="linenum"> 201</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l202"><span class="linenum"> 202</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l203"><span class="linenum"> 203</span></a>  
<a name="l204"><span class="linenum"> 204</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('mod/lti:view', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l205"><span class="linenum"> 205</span></a>  
<a name="l206"><span class="linenum"> 206</span></a>          <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('cmid')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../../_variables/cmid.html">cmid</a> = <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l207"><span class="linenum"> 207</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it3756" onMouseOver="hilite(3756)" onMouseOut="lolite()" onClick="logVariable('endpoint')" href="../../../_variables/endpoint.html">$endpoint</a>, <a class="var it3757" onMouseOver="hilite(3757)" onMouseOut="lolite()" onClick="logVariable('parms')" href="../../../_variables/parms.html">$parms</a>) = <a class="function" onClick="logFunction('lti_get_launch_data')" href="../../../_functions/lti_get_launch_data.html" onMouseOver="funcPopup(event,'lti_get_launch_data')">lti_get_launch_data</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../../_variables/lti.html">$lti</a>);
<a name="l208"><span class="linenum"> 208</span></a>  
<a name="l209"><span class="linenum"> 209</span></a>          <a class="var it2245" onMouseOver="hilite(2245)" onMouseOut="lolite()" onClick="logVariable('parameters')" href="../../../_variables/parameters.html">$parameters</a> = array();
<a name="l210"><span class="linenum"> 210</span></a>          foreach (<a class="var it3757" onMouseOver="hilite(3757)" onMouseOut="lolite()" onClick="logVariable('parms')" href="../../../_variables/parms.html">$parms</a> as <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../_variables/name.html">$name</a> =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../_variables/value.html">$value</a>) {
<a name="l211"><span class="linenum"> 211</span></a>              <a class="var it2245" onMouseOver="hilite(2245)" onMouseOut="lolite()" onClick="logVariable('parameters')" href="../../../_variables/parameters.html">$parameters</a>[] = array(
<a name="l212"><span class="linenum"> 212</span></a>                  'name' =&gt; <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../_variables/name.html">$name</a>,
<a name="l213"><span class="linenum"> 213</span></a>                  'value' =&gt; <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../_variables/value.html">$value</a>
<a name="l214"><span class="linenum"> 214</span></a>              );
<a name="l215"><span class="linenum"> 215</span></a>          }
<a name="l216"><span class="linenum"> 216</span></a>  
<a name="l217"><span class="linenum"> 217</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l218"><span class="linenum"> 218</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['endpoint'] = <a class="var it3756" onMouseOver="hilite(3756)" onMouseOut="lolite()" onClick="logVariable('endpoint')" href="../../../_variables/endpoint.html">$endpoint</a>;
<a name="l219"><span class="linenum"> 219</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['parameters'] = <a class="var it2245" onMouseOver="hilite(2245)" onMouseOut="lolite()" onClick="logVariable('parameters')" href="../../../_variables/parameters.html">$parameters</a>;
<a name="l220"><span class="linenum"> 220</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l221"><span class="linenum"> 221</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l222"><span class="linenum"> 222</span></a>      }
<a name="l223"><span class="linenum"> 223</span></a>  
<a name="l224"><span class="linenum"> 224</span></a>      <span class="comment">/**</span>
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">     *</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment">     * @return external_description</span>
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l229"><span class="linenum"> 229</span></a>  <span class="comment">     */</span>
<a name="l230"><span class="linenum"> 230</span></a>      public static function <a class="function" onClick="logFunction('get_tool_launch_data_returns')" href="../../../_functions/get_tool_launch_data_returns.html" onMouseOver="funcPopup(event,'get_tool_launch_data_returns')">get_tool_launch_data_returns</a>() {
<a name="l231"><span class="linenum"> 231</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l232"><span class="linenum"> 232</span></a>              array(
<a name="l233"><span class="linenum"> 233</span></a>                  'endpoint' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Endpoint URL'), // Using <a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a> as is defined in the module.
<a name="l234"><span class="linenum"> 234</span></a>                  'parameters' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l235"><span class="linenum"> 235</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l236"><span class="linenum"> 236</span></a>                          array(
<a name="l237"><span class="linenum"> 237</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_NOTAGS')" href="../../../_constants/PARAM_NOTAGS.html" onMouseOver="constPopup(event,'PARAM_NOTAGS')">PARAM_NOTAGS</a>, 'Parameter name'),
<a name="l238"><span class="linenum"> 238</span></a>                              'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Parameter value')
<a name="l239"><span class="linenum"> 239</span></a>                          )
<a name="l240"><span class="linenum"> 240</span></a>                      )
<a name="l241"><span class="linenum"> 241</span></a>                  ),
<a name="l242"><span class="linenum"> 242</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l243"><span class="linenum"> 243</span></a>              )
<a name="l244"><span class="linenum"> 244</span></a>          );
<a name="l245"><span class="linenum"> 245</span></a>      }
<a name="l246"><span class="linenum"> 246</span></a>  
<a name="l247"><span class="linenum"> 247</span></a>      <span class="comment">/**</span>
<a name="l248"><span class="linenum"> 248</span></a>  <span class="comment">     * Describes the parameters for get_ltis_by_courses.</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">     *</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment">     */</span>
<a name="l253"><span class="linenum"> 253</span></a>      public static function <a class="function" onClick="logFunction('get_ltis_by_courses_parameters')" href="../../../_functions/get_ltis_by_courses_parameters.html" onMouseOver="funcPopup(event,'get_ltis_by_courses_parameters')">get_ltis_by_courses_parameters</a>() {
<a name="l254"><span class="linenum"> 254</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l255"><span class="linenum"> 255</span></a>              array(
<a name="l256"><span class="linenum"> 256</span></a>                  'courseids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l257"><span class="linenum"> 257</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'course id'), 'Array of course ids', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l258"><span class="linenum"> 258</span></a>                  ),
<a name="l259"><span class="linenum"> 259</span></a>              )
<a name="l260"><span class="linenum"> 260</span></a>          );
<a name="l261"><span class="linenum"> 261</span></a>      }
<a name="l262"><span class="linenum"> 262</span></a>  
<a name="l263"><span class="linenum"> 263</span></a>      <span class="comment">/**</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">     * Returns a list of external tools in a provided list of courses,</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">     * if no list is provided all external tools that the user can view will be returned.</span>
<a name="l266"><span class="linenum"> 266</span></a>  <span class="comment">     *</span>
<a name="l267"><span class="linenum"> 267</span></a>  <span class="comment">     * @param array $courseids the course ids</span>
<a name="l268"><span class="linenum"> 268</span></a>  <span class="comment">     * @return array the lti details</span>
<a name="l269"><span class="linenum"> 269</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l270"><span class="linenum"> 270</span></a>  <span class="comment">     */</span>
<a name="l271"><span class="linenum"> 271</span></a>      public static function <a class="function" onClick="logFunction('get_ltis_by_courses')" href="../../../_functions/get_ltis_by_courses.html" onMouseOver="funcPopup(event,'get_ltis_by_courses')">get_ltis_by_courses</a>(<a class="var it2413" onMouseOver="hilite(2413)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../../../_variables/courseids.html">$courseids</a> = array()) {
<a name="l272"><span class="linenum"> 272</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>;
<a name="l273"><span class="linenum"> 273</span></a>  
<a name="l274"><span class="linenum"> 274</span></a>          <a class="var it3758" onMouseOver="hilite(3758)" onMouseOut="lolite()" onClick="logVariable('returnedltis')" href="../../../_variables/returnedltis.html">$returnedltis</a> = array();
<a name="l275"><span class="linenum"> 275</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l276"><span class="linenum"> 276</span></a>  
<a name="l277"><span class="linenum"> 277</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_ltis_by_courses_parameters')" href="../../../_functions/get_ltis_by_courses_parameters.html" onMouseOver="funcPopup(event,'get_ltis_by_courses_parameters')">get_ltis_by_courses_parameters</a>(), array('courseids' =&gt; <a class="var it2413" onMouseOver="hilite(2413)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../../../_variables/courseids.html">$courseids</a>));
<a name="l278"><span class="linenum"> 278</span></a>  
<a name="l279"><span class="linenum"> 279</span></a>          <a class="var it3759" onMouseOver="hilite(3759)" onMouseOut="lolite()" onClick="logVariable('mycourses')" href="../../../_variables/mycourses.html">$mycourses</a> = array();
<a name="l280"><span class="linenum"> 280</span></a>          if (empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['courseids'])) {
<a name="l281"><span class="linenum"> 281</span></a>              <a class="var it3759" onMouseOver="hilite(3759)" onMouseOut="lolite()" onClick="logVariable('mycourses')" href="../../../_variables/mycourses.html">$mycourses</a> = <a class="function" onClick="logFunction('enrol_get_my_courses')" href="../../../_functions/enrol_get_my_courses.html" onMouseOver="funcPopup(event,'enrol_get_my_courses')">enrol_get_my_courses</a>();
<a name="l282"><span class="linenum"> 282</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['courseids'] = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it3759" onMouseOver="hilite(3759)" onMouseOut="lolite()" onClick="logVariable('mycourses')" href="../../../_variables/mycourses.html">$mycourses</a>);
<a name="l283"><span class="linenum"> 283</span></a>          }
<a name="l284"><span class="linenum"> 284</span></a>  
<a name="l285"><span class="linenum"> 285</span></a>  <span class="comment">        // Ensure there are courseids to loop through.</span>
<a name="l286"><span class="linenum"> 286</span></a>          if (!empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['courseids'])) {
<a name="l287"><span class="linenum"> 287</span></a>  
<a name="l288"><span class="linenum"> 288</span></a>              <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../../_variables/courses.html">$courses</a>, <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>) = <a class="class" onClick="logClass('external_util')" href="../../../_classes/external_util.html" onMouseOver="classPopup(event,'external_util')">external_util</a>::<a class="function" onClick="logFunction('validate_courses')" href="../../../_functions/validate_courses.html" onMouseOver="funcPopup(event,'validate_courses')">validate_courses</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['courseids'], <a class="var it3759" onMouseOver="hilite(3759)" onMouseOut="lolite()" onClick="logVariable('mycourses')" href="../../../_variables/mycourses.html">$mycourses</a>);
<a name="l289"><span class="linenum"> 289</span></a>  
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment">            // Get the ltis in this course, this function checks users visibility permissions.</span>
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment">            // We can avoid then additional validate_context calls.</span>
<a name="l292"><span class="linenum"> 292</span></a>              <a class="var it3760" onMouseOver="hilite(3760)" onMouseOut="lolite()" onClick="logVariable('ltis')" href="../../../_variables/ltis.html">$ltis</a> = <a class="function" onClick="logFunction('get_all_instances_in_courses')" href="../../../_functions/get_all_instances_in_courses.html" onMouseOver="funcPopup(event,'get_all_instances_in_courses')">get_all_instances_in_courses</a>(&quot;lti&quot;, <a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../../_variables/courses.html">$courses</a>);
<a name="l293"><span class="linenum"> 293</span></a>  
<a name="l294"><span class="linenum"> 294</span></a>              foreach (<a class="var it3760" onMouseOver="hilite(3760)" onMouseOut="lolite()" onClick="logVariable('ltis')" href="../../../_variables/ltis.html">$ltis</a> as <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../../_variables/lti.html">$lti</a>) {
<a name="l295"><span class="linenum"> 295</span></a>  
<a name="l296"><span class="linenum"> 296</span></a>                  <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../../_variables/coursemodule.html">coursemodule</a>);
<a name="l297"><span class="linenum"> 297</span></a>  
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment">                // Entry to return.</span>
<a name="l299"><span class="linenum"> 299</span></a>                  <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a> = array();
<a name="l300"><span class="linenum"> 300</span></a>  
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">                // First, we return information that any user can see in (or can deduce from) the web interface.</span>
<a name="l302"><span class="linenum"> 302</span></a>                  <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>['id'] = <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('id')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l303"><span class="linenum"> 303</span></a>                  <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>['coursemodule'] = <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../../_variables/coursemodule.html">coursemodule</a>;
<a name="l304"><span class="linenum"> 304</span></a>                  <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>['course'] = <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('course')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../../_variables/course.html">course</a>;
<a name="l305"><span class="linenum"> 305</span></a>                  <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>['name']  = <a class="function" onClick="logFunction('external_format_string')" href="../../../_functions/external_format_string.html" onMouseOver="funcPopup(event,'external_format_string')">external_format_string</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('name')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../../_variables/name.html">name</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l306"><span class="linenum"> 306</span></a>  
<a name="l307"><span class="linenum"> 307</span></a>                  <a class="var it3761" onMouseOver="hilite(3761)" onMouseOut="lolite()" onClick="logVariable('viewablefields')" href="../../../_variables/viewablefields.html">$viewablefields</a> = [];
<a name="l308"><span class="linenum"> 308</span></a>                  if (<a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/lti:view', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>)) {
<a name="l309"><span class="linenum"> 309</span></a>                      <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>['intro'], <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>['introformat']) =
<a name="l310"><span class="linenum"> 310</span></a>                          <a class="function" onClick="logFunction('external_format_text')" href="../../../_functions/external_format_text.html" onMouseOver="funcPopup(event,'external_format_text')">external_format_text</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('intro')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../../_variables/intro.html">intro</a>, <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('introformat')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../../_variables/introformat.html">introformat</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, 'mod_lti', 'intro', <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../../_variables/lti.html">$lti</a>-&gt;<a onClick="logVariable('id')" class="var it45050" onMouseOver="hilite(45050)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l311"><span class="linenum"> 311</span></a>  
<a name="l312"><span class="linenum"> 312</span></a>                      <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>['introfiles'] = <a class="class" onClick="logClass('external_util')" href="../../../_classes/external_util.html" onMouseOver="classPopup(event,'external_util')">external_util</a>::<a class="function" onClick="logFunction('get_area_files')" href="../../../_functions/get_area_files.html" onMouseOver="funcPopup(event,'get_area_files')">get_area_files</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, 'mod_lti', 'intro', false, false);
<a name="l313"><span class="linenum"> 313</span></a>                      <a class="var it3761" onMouseOver="hilite(3761)" onMouseOut="lolite()" onClick="logVariable('viewablefields')" href="../../../_variables/viewablefields.html">$viewablefields</a> = array('launchcontainer', 'showtitlelaunch', 'showdescriptionlaunch', 'icon', 'secureicon');
<a name="l314"><span class="linenum"> 314</span></a>                  }
<a name="l315"><span class="linenum"> 315</span></a>  
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">                // Check additional permissions for returning optional private settings.</span>
<a name="l317"><span class="linenum"> 317</span></a>                  if (<a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:manageactivities', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>)) {
<a name="l318"><span class="linenum"> 318</span></a>  
<a name="l319"><span class="linenum"> 319</span></a>                      <a class="var it3762" onMouseOver="hilite(3762)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../../../_variables/additionalfields.html">$additionalfields</a> = array('timecreated', 'timemodified', 'typeid', 'toolurl', 'securetoolurl',
<a name="l320"><span class="linenum"> 320</span></a>                          'instructorchoicesendname', 'instructorchoicesendemailaddr', 'instructorchoiceallowroster',
<a name="l321"><span class="linenum"> 321</span></a>                          'instructorchoiceallowsetting', 'instructorcustomparameters', 'instructorchoiceacceptgrades', 'grade',
<a name="l322"><span class="linenum"> 322</span></a>                          'resourcekey', 'password', 'debuglaunch', 'servicesalt', 'visible', 'groupmode', 'groupingid');
<a name="l323"><span class="linenum"> 323</span></a>                      <a class="var it3761" onMouseOver="hilite(3761)" onMouseOut="lolite()" onClick="logVariable('viewablefields')" href="../../../_variables/viewablefields.html">$viewablefields</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it3761" onMouseOver="hilite(3761)" onMouseOut="lolite()" onClick="logVariable('viewablefields')" href="../../../_variables/viewablefields.html">$viewablefields</a>, <a class="var it3762" onMouseOver="hilite(3762)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../../../_variables/additionalfields.html">$additionalfields</a>);
<a name="l324"><span class="linenum"> 324</span></a>  
<a name="l325"><span class="linenum"> 325</span></a>                  }
<a name="l326"><span class="linenum"> 326</span></a>  
<a name="l327"><span class="linenum"> 327</span></a>                  foreach (<a class="var it3761" onMouseOver="hilite(3761)" onMouseOut="lolite()" onClick="logVariable('viewablefields')" href="../../../_variables/viewablefields.html">$viewablefields</a> as <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../_variables/field.html">$field</a>) {
<a name="l328"><span class="linenum"> 328</span></a>                      <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>[<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../_variables/field.html">$field</a>] = <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../../_variables/lti.html">$lti</a>-&gt;{<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../_variables/field.html">$field</a>};
<a name="l329"><span class="linenum"> 329</span></a>                  }
<a name="l330"><span class="linenum"> 330</span></a>  
<a name="l331"><span class="linenum"> 331</span></a>                  <a class="var it3758" onMouseOver="hilite(3758)" onMouseOut="lolite()" onClick="logVariable('returnedltis')" href="../../../_variables/returnedltis.html">$returnedltis</a>[] = <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>;
<a name="l332"><span class="linenum"> 332</span></a>              }
<a name="l333"><span class="linenum"> 333</span></a>          }
<a name="l334"><span class="linenum"> 334</span></a>  
<a name="l335"><span class="linenum"> 335</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l336"><span class="linenum"> 336</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['ltis'] = <a class="var it3758" onMouseOver="hilite(3758)" onMouseOut="lolite()" onClick="logVariable('returnedltis')" href="../../../_variables/returnedltis.html">$returnedltis</a>;
<a name="l337"><span class="linenum"> 337</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l338"><span class="linenum"> 338</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l339"><span class="linenum"> 339</span></a>      }
<a name="l340"><span class="linenum"> 340</span></a>  
<a name="l341"><span class="linenum"> 341</span></a>      <span class="comment">/**</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment">     * Describes the get_ltis_by_courses return value.</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment">     *</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l345"><span class="linenum"> 345</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l346"><span class="linenum"> 346</span></a>  <span class="comment">     */</span>
<a name="l347"><span class="linenum"> 347</span></a>      public static function <a class="function" onClick="logFunction('get_ltis_by_courses_returns')" href="../../../_functions/get_ltis_by_courses_returns.html" onMouseOver="funcPopup(event,'get_ltis_by_courses_returns')">get_ltis_by_courses_returns</a>() {
<a name="l348"><span class="linenum"> 348</span></a>  
<a name="l349"><span class="linenum"> 349</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l350"><span class="linenum"> 350</span></a>              array(
<a name="l351"><span class="linenum"> 351</span></a>                  'ltis' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l352"><span class="linenum"> 352</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l353"><span class="linenum"> 353</span></a>                          array(
<a name="l354"><span class="linenum"> 354</span></a>                              'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'External tool id'),
<a name="l355"><span class="linenum"> 355</span></a>                              'coursemodule' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Course module id'),
<a name="l356"><span class="linenum"> 356</span></a>                              'course' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Course id'),
<a name="l357"><span class="linenum"> 357</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'LTI name'),
<a name="l358"><span class="linenum"> 358</span></a>                              'intro' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The LTI intro', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l359"><span class="linenum"> 359</span></a>                              'introformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../../../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>('intro', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l360"><span class="linenum"> 360</span></a>                              'introfiles' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_files')" href="../../../_classes/external_files.html" onMouseOver="classPopup(event,'external_files')">external_files</a>('Files in the introduction text', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l361"><span class="linenum"> 361</span></a>                              'timecreated' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Time of creation', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l362"><span class="linenum"> 362</span></a>                              'timemodified' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Time of last modification', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l363"><span class="linenum"> 363</span></a>                              'typeid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Type id', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l364"><span class="linenum"> 364</span></a>                              'toolurl' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../../../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'Tool url', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l365"><span class="linenum"> 365</span></a>                              'securetoolurl' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Secure tool url', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l366"><span class="linenum"> 366</span></a>                              'instructorchoicesendname' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Instructor choice send name',
<a name="l367"><span class="linenum"> 367</span></a>                                                                                 <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l368"><span class="linenum"> 368</span></a>                              'instructorchoicesendemailaddr' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'instructor choice send mail address',
<a name="l369"><span class="linenum"> 369</span></a>                                                                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l370"><span class="linenum"> 370</span></a>                              'instructorchoiceallowroster' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Instructor choice allow roster',
<a name="l371"><span class="linenum"> 371</span></a>                                                                                  <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l372"><span class="linenum"> 372</span></a>                              'instructorchoiceallowsetting' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Instructor choice allow setting',
<a name="l373"><span class="linenum"> 373</span></a>                                                                                   <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l374"><span class="linenum"> 374</span></a>                              'instructorcustomparameters' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'instructor custom parameters',
<a name="l375"><span class="linenum"> 375</span></a>                                                                                  <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l376"><span class="linenum"> 376</span></a>                              'instructorchoiceacceptgrades' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'instructor choice accept grades',
<a name="l377"><span class="linenum"> 377</span></a>                                                                                      <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l378"><span class="linenum"> 378</span></a>                              'grade' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Enable grades', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l379"><span class="linenum"> 379</span></a>                              'launchcontainer' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Launch container mode', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l380"><span class="linenum"> 380</span></a>                              'resourcekey' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Resource key', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l381"><span class="linenum"> 381</span></a>                              'password' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Shared secret', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l382"><span class="linenum"> 382</span></a>                              'debuglaunch' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Debug launch', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l383"><span class="linenum"> 383</span></a>                              'showtitlelaunch' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Show title launch', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l384"><span class="linenum"> 384</span></a>                              'showdescriptionlaunch' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Show description launch', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l385"><span class="linenum"> 385</span></a>                              'servicesalt' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Service salt', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l386"><span class="linenum"> 386</span></a>                              'icon' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../../../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'Alternative icon URL', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l387"><span class="linenum"> 387</span></a>                              'secureicon' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../../../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'Secure icon URL', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l388"><span class="linenum"> 388</span></a>                              'section' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'course section id', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l389"><span class="linenum"> 389</span></a>                              'visible' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'visible', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l390"><span class="linenum"> 390</span></a>                              'groupmode' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'group mode', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l391"><span class="linenum"> 391</span></a>                              'groupingid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'group id', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l392"><span class="linenum"> 392</span></a>                          ), 'Tool'
<a name="l393"><span class="linenum"> 393</span></a>                      )
<a name="l394"><span class="linenum"> 394</span></a>                  ),
<a name="l395"><span class="linenum"> 395</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l396"><span class="linenum"> 396</span></a>              )
<a name="l397"><span class="linenum"> 397</span></a>          );
<a name="l398"><span class="linenum"> 398</span></a>      }
<a name="l399"><span class="linenum"> 399</span></a>  
<a name="l400"><span class="linenum"> 400</span></a>      <span class="comment">/**</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">     *</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment">     */</span>
<a name="l406"><span class="linenum"> 406</span></a>      public static function <a class="function" onClick="logFunction('view_lti_parameters')" href="../../../_functions/view_lti_parameters.html" onMouseOver="funcPopup(event,'view_lti_parameters')">view_lti_parameters</a>() {
<a name="l407"><span class="linenum"> 407</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l408"><span class="linenum"> 408</span></a>              array(
<a name="l409"><span class="linenum"> 409</span></a>                  'ltiid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'lti instance id')
<a name="l410"><span class="linenum"> 410</span></a>              )
<a name="l411"><span class="linenum"> 411</span></a>          );
<a name="l412"><span class="linenum"> 412</span></a>      }
<a name="l413"><span class="linenum"> 413</span></a>  
<a name="l414"><span class="linenum"> 414</span></a>      <span class="comment">/**</span>
<a name="l415"><span class="linenum"> 415</span></a>  <span class="comment">     * Trigger the course module viewed event and update the module completion status.</span>
<a name="l416"><span class="linenum"> 416</span></a>  <span class="comment">     *</span>
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment">     * @param int $ltiid the lti instance id</span>
<a name="l418"><span class="linenum"> 418</span></a>  <span class="comment">     * @return array of warnings and status result</span>
<a name="l419"><span class="linenum"> 419</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l420"><span class="linenum"> 420</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l421"><span class="linenum"> 421</span></a>  <span class="comment">     */</span>
<a name="l422"><span class="linenum"> 422</span></a>      public static function <a class="function" onClick="logFunction('view_lti')" href="../../../_functions/view_lti.html" onMouseOver="funcPopup(event,'view_lti')">view_lti</a>(<a class="var it3763" onMouseOver="hilite(3763)" onMouseOut="lolite()" onClick="logVariable('ltiid')" href="../../../_variables/ltiid.html">$ltiid</a>) {
<a name="l423"><span class="linenum"> 423</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l424"><span class="linenum"> 424</span></a>  
<a name="l425"><span class="linenum"> 425</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('view_lti_parameters')" href="../../../_functions/view_lti_parameters.html" onMouseOver="funcPopup(event,'view_lti_parameters')">view_lti_parameters</a>(),
<a name="l426"><span class="linenum"> 426</span></a>                                              array(
<a name="l427"><span class="linenum"> 427</span></a>                                                  'ltiid' =&gt; <a class="var it3763" onMouseOver="hilite(3763)" onMouseOut="lolite()" onClick="logVariable('ltiid')" href="../../../_variables/ltiid.html">$ltiid</a>
<a name="l428"><span class="linenum"> 428</span></a>                                              ));
<a name="l429"><span class="linenum"> 429</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l430"><span class="linenum"> 430</span></a>  
<a name="l431"><span class="linenum"> 431</span></a>  <span class="comment">        // Request and permission validation.</span>
<a name="l432"><span class="linenum"> 432</span></a>          <a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../../_variables/lti.html">$lti</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('lti', array('id' =&gt; <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['ltiid']), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../../../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l433"><span class="linenum"> 433</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>) = <a class="function" onClick="logFunction('get_course_and_cm_from_instance')" href="../../../_functions/get_course_and_cm_from_instance.html" onMouseOver="funcPopup(event,'get_course_and_cm_from_instance')">get_course_and_cm_from_instance</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../../_variables/lti.html">$lti</a>, 'lti');
<a name="l434"><span class="linenum"> 434</span></a>  
<a name="l435"><span class="linenum"> 435</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l436"><span class="linenum"> 436</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l437"><span class="linenum"> 437</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('mod/lti:view', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l438"><span class="linenum"> 438</span></a>  
<a name="l439"><span class="linenum"> 439</span></a>  <span class="comment">        // Trigger course_module_viewed event and completion.</span>
<a name="l440"><span class="linenum"> 440</span></a>          <a class="function" onClick="logFunction('lti_view')" href="../../../_functions/lti_view.html" onMouseOver="funcPopup(event,'lti_view')">lti_view</a>(<a class="var it3755" onMouseOver="hilite(3755)" onMouseOut="lolite()" onClick="logVariable('lti')" href="../../../_variables/lti.html">$lti</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l441"><span class="linenum"> 441</span></a>  
<a name="l442"><span class="linenum"> 442</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l443"><span class="linenum"> 443</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['status'] = true;
<a name="l444"><span class="linenum"> 444</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l445"><span class="linenum"> 445</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l446"><span class="linenum"> 446</span></a>      }
<a name="l447"><span class="linenum"> 447</span></a>  
<a name="l448"><span class="linenum"> 448</span></a>      <span class="comment">/**</span>
<a name="l449"><span class="linenum"> 449</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l450"><span class="linenum"> 450</span></a>  <span class="comment">     *</span>
<a name="l451"><span class="linenum"> 451</span></a>  <span class="comment">     * @return external_description</span>
<a name="l452"><span class="linenum"> 452</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l453"><span class="linenum"> 453</span></a>  <span class="comment">     */</span>
<a name="l454"><span class="linenum"> 454</span></a>      public static function <a class="function" onClick="logFunction('view_lti_returns')" href="../../../_functions/view_lti_returns.html" onMouseOver="funcPopup(event,'view_lti_returns')">view_lti_returns</a>() {
<a name="l455"><span class="linenum"> 455</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l456"><span class="linenum"> 456</span></a>              array(
<a name="l457"><span class="linenum"> 457</span></a>                  'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'status: true if success'),
<a name="l458"><span class="linenum"> 458</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l459"><span class="linenum"> 459</span></a>              )
<a name="l460"><span class="linenum"> 460</span></a>          );
<a name="l461"><span class="linenum"> 461</span></a>      }
<a name="l462"><span class="linenum"> 462</span></a>  
<a name="l463"><span class="linenum"> 463</span></a>      <span class="comment">/**</span>
<a name="l464"><span class="linenum"> 464</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l465"><span class="linenum"> 465</span></a>  <span class="comment">     *</span>
<a name="l466"><span class="linenum"> 466</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l468"><span class="linenum"> 468</span></a>  <span class="comment">     */</span>
<a name="l469"><span class="linenum"> 469</span></a>      public static function <a class="function" onClick="logFunction('create_tool_proxy_parameters')" href="../../../_functions/create_tool_proxy_parameters.html" onMouseOver="funcPopup(event,'create_tool_proxy_parameters')">create_tool_proxy_parameters</a>() {
<a name="l470"><span class="linenum"> 470</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l471"><span class="linenum"> 471</span></a>              array(
<a name="l472"><span class="linenum"> 472</span></a>                  'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Tool proxy name', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, ''),
<a name="l473"><span class="linenum"> 473</span></a>                  'regurl' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../../../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'Tool proxy registration URL'),
<a name="l474"><span class="linenum"> 474</span></a>                  'capabilityoffered' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l475"><span class="linenum"> 475</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Tool proxy capabilities offered'),
<a name="l476"><span class="linenum"> 476</span></a>                      'Array of capabilities', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l477"><span class="linenum"> 477</span></a>                  ),
<a name="l478"><span class="linenum"> 478</span></a>                  'serviceoffered' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l479"><span class="linenum"> 479</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Tool proxy services offered'),
<a name="l480"><span class="linenum"> 480</span></a>                      'Array of services', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l481"><span class="linenum"> 481</span></a>                  )
<a name="l482"><span class="linenum"> 482</span></a>              )
<a name="l483"><span class="linenum"> 483</span></a>          );
<a name="l484"><span class="linenum"> 484</span></a>      }
<a name="l485"><span class="linenum"> 485</span></a>  
<a name="l486"><span class="linenum"> 486</span></a>      <span class="comment">/**</span>
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment">     * Creates a new tool proxy</span>
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment">     *</span>
<a name="l489"><span class="linenum"> 489</span></a>  <span class="comment">     * @param string $name Tool proxy name</span>
<a name="l490"><span class="linenum"> 490</span></a>  <span class="comment">     * @param string $registrationurl Registration url</span>
<a name="l491"><span class="linenum"> 491</span></a>  <span class="comment">     * @param string[] $capabilityoffered List of capabilities this tool proxy should be offered</span>
<a name="l492"><span class="linenum"> 492</span></a>  <span class="comment">     * @param string[] $serviceoffered List of services this tool proxy should be offered</span>
<a name="l493"><span class="linenum"> 493</span></a>  <span class="comment">     * @return object The new tool proxy</span>
<a name="l494"><span class="linenum"> 494</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l495"><span class="linenum"> 495</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l496"><span class="linenum"> 496</span></a>  <span class="comment">     */</span>
<a name="l497"><span class="linenum"> 497</span></a>      public static function <a class="function" onClick="logFunction('create_tool_proxy')" href="../../../_functions/create_tool_proxy.html" onMouseOver="funcPopup(event,'create_tool_proxy')">create_tool_proxy</a>(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../_variables/name.html">$name</a>, <a class="var it3764" onMouseOver="hilite(3764)" onMouseOut="lolite()" onClick="logVariable('registrationurl')" href="../../../_variables/registrationurl.html">$registrationurl</a>, <a class="var it3765" onMouseOver="hilite(3765)" onMouseOut="lolite()" onClick="logVariable('capabilityoffered')" href="../../../_variables/capabilityoffered.html">$capabilityoffered</a>, <a class="var it3766" onMouseOver="hilite(3766)" onMouseOut="lolite()" onClick="logVariable('serviceoffered')" href="../../../_variables/serviceoffered.html">$serviceoffered</a>) {
<a name="l498"><span class="linenum"> 498</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('create_tool_proxy_parameters')" href="../../../_functions/create_tool_proxy_parameters.html" onMouseOver="funcPopup(event,'create_tool_proxy_parameters')">create_tool_proxy_parameters</a>(),
<a name="l499"><span class="linenum"> 499</span></a>                                              array(
<a name="l500"><span class="linenum"> 500</span></a>                                                  'name' =&gt; <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../_variables/name.html">$name</a>,
<a name="l501"><span class="linenum"> 501</span></a>                                                  'regurl' =&gt; <a class="var it3764" onMouseOver="hilite(3764)" onMouseOut="lolite()" onClick="logVariable('registrationurl')" href="../../../_variables/registrationurl.html">$registrationurl</a>,
<a name="l502"><span class="linenum"> 502</span></a>                                                  'capabilityoffered' =&gt; <a class="var it3765" onMouseOver="hilite(3765)" onMouseOut="lolite()" onClick="logVariable('capabilityoffered')" href="../../../_variables/capabilityoffered.html">$capabilityoffered</a>,
<a name="l503"><span class="linenum"> 503</span></a>                                                  'serviceoffered' =&gt; <a class="var it3766" onMouseOver="hilite(3766)" onMouseOut="lolite()" onClick="logVariable('serviceoffered')" href="../../../_variables/serviceoffered.html">$serviceoffered</a>
<a name="l504"><span class="linenum"> 504</span></a>                                              ));
<a name="l505"><span class="linenum"> 505</span></a>          <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../_variables/name.html">$name</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['name'];
<a name="l506"><span class="linenum"> 506</span></a>          <a class="var it3767" onMouseOver="hilite(3767)" onMouseOut="lolite()" onClick="logVariable('regurl')" href="../../../_variables/regurl.html">$regurl</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['regurl'];
<a name="l507"><span class="linenum"> 507</span></a>          <a class="var it3765" onMouseOver="hilite(3765)" onMouseOut="lolite()" onClick="logVariable('capabilityoffered')" href="../../../_variables/capabilityoffered.html">$capabilityoffered</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['capabilityoffered'];
<a name="l508"><span class="linenum"> 508</span></a>          <a class="var it3766" onMouseOver="hilite(3766)" onMouseOut="lolite()" onClick="logVariable('serviceoffered')" href="../../../_variables/serviceoffered.html">$serviceoffered</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['serviceoffered'];
<a name="l509"><span class="linenum"> 509</span></a>  
<a name="l510"><span class="linenum"> 510</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l511"><span class="linenum"> 511</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l512"><span class="linenum"> 512</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/site:config', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l513"><span class="linenum"> 513</span></a>  
<a name="l514"><span class="linenum"> 514</span></a>  <span class="comment">        // Can't create duplicate proxies with the same URL.</span>
<a name="l515"><span class="linenum"> 515</span></a>          <a class="var it3768" onMouseOver="hilite(3768)" onMouseOut="lolite()" onClick="logVariable('duplicates')" href="../../../_variables/duplicates.html">$duplicates</a> = <a class="function" onClick="logFunction('lti_get_tool_proxies_from_registration_url')" href="../../../_functions/lti_get_tool_proxies_from_registration_url.html" onMouseOver="funcPopup(event,'lti_get_tool_proxies_from_registration_url')">lti_get_tool_proxies_from_registration_url</a>(<a class="var it3764" onMouseOver="hilite(3764)" onMouseOut="lolite()" onClick="logVariable('registrationurl')" href="../../../_variables/registrationurl.html">$registrationurl</a>);
<a name="l516"><span class="linenum"> 516</span></a>          if (!empty(<a class="var it3768" onMouseOver="hilite(3768)" onMouseOut="lolite()" onClick="logVariable('duplicates')" href="../../../_variables/duplicates.html">$duplicates</a>)) {
<a name="l517"><span class="linenum"> 517</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('duplicateregurl', 'mod_lti');
<a name="l518"><span class="linenum"> 518</span></a>          }
<a name="l519"><span class="linenum"> 519</span></a>  
<a name="l520"><span class="linenum"> 520</span></a>          <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../_variables/config.html">$config</a> = new stdClass();
<a name="l521"><span class="linenum"> 521</span></a>          <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('lti_registrationurl')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../../_variables/lti_registrationurl.html">lti_registrationurl</a> = <a class="var it3764" onMouseOver="hilite(3764)" onMouseOut="lolite()" onClick="logVariable('registrationurl')" href="../../../_variables/registrationurl.html">$registrationurl</a>;
<a name="l522"><span class="linenum"> 522</span></a>  
<a name="l523"><span class="linenum"> 523</span></a>          if (!empty(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../_variables/name.html">$name</a>)) {
<a name="l524"><span class="linenum"> 524</span></a>              <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('lti_registrationname')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../../_variables/lti_registrationname.html">lti_registrationname</a> = <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../_variables/name.html">$name</a>;
<a name="l525"><span class="linenum"> 525</span></a>          }
<a name="l526"><span class="linenum"> 526</span></a>  
<a name="l527"><span class="linenum"> 527</span></a>          if (!empty(<a class="var it3765" onMouseOver="hilite(3765)" onMouseOut="lolite()" onClick="logVariable('capabilityoffered')" href="../../../_variables/capabilityoffered.html">$capabilityoffered</a>)) {
<a name="l528"><span class="linenum"> 528</span></a>              <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('lti_capabilities')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../../_variables/lti_capabilities.html">lti_capabilities</a> = <a class="var it3765" onMouseOver="hilite(3765)" onMouseOut="lolite()" onClick="logVariable('capabilityoffered')" href="../../../_variables/capabilityoffered.html">$capabilityoffered</a>;
<a name="l529"><span class="linenum"> 529</span></a>          }
<a name="l530"><span class="linenum"> 530</span></a>  
<a name="l531"><span class="linenum"> 531</span></a>          if (!empty(<a class="var it3766" onMouseOver="hilite(3766)" onMouseOut="lolite()" onClick="logVariable('serviceoffered')" href="../../../_variables/serviceoffered.html">$serviceoffered</a>)) {
<a name="l532"><span class="linenum"> 532</span></a>              <a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../_variables/config.html">$config</a>-&gt;<a onClick="logVariable('lti_services')" class="var it42981" onMouseOver="hilite(42981)" onMouseOut="lolite()" href="../../../_variables/lti_services.html">lti_services</a> = <a class="var it3766" onMouseOver="hilite(3766)" onMouseOut="lolite()" onClick="logVariable('serviceoffered')" href="../../../_variables/serviceoffered.html">$serviceoffered</a>;
<a name="l533"><span class="linenum"> 533</span></a>          }
<a name="l534"><span class="linenum"> 534</span></a>  
<a name="l535"><span class="linenum"> 535</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a> = <a class="function" onClick="logFunction('lti_add_tool_proxy')" href="../../../_functions/lti_add_tool_proxy.html" onMouseOver="funcPopup(event,'lti_add_tool_proxy')">lti_add_tool_proxy</a>(<a class="var it199" onMouseOver="hilite(199)" onMouseOut="lolite()" onClick="logVariable('config')" href="../../../_variables/config.html">$config</a>);
<a name="l536"><span class="linenum"> 536</span></a>          <a class="var it3773" onMouseOver="hilite(3773)" onMouseOut="lolite()" onClick="logVariable('toolproxy')" href="../../../_variables/toolproxy.html">$toolproxy</a> = <a class="function" onClick="logFunction('lti_get_tool_proxy')" href="../../../_functions/lti_get_tool_proxy.html" onMouseOver="funcPopup(event,'lti_get_tool_proxy')">lti_get_tool_proxy</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>);
<a name="l537"><span class="linenum"> 537</span></a>  
<a name="l538"><span class="linenum"> 538</span></a>  <span class="comment">        // Pending makes more sense than configured as the first state, since</span>
<a name="l539"><span class="linenum"> 539</span></a>  <span class="comment">        // the next step is to register, which requires the state be pending.</span>
<a name="l540"><span class="linenum"> 540</span></a>          <a class="var it3773" onMouseOver="hilite(3773)" onMouseOut="lolite()" onClick="logVariable('toolproxy')" href="../../../_variables/toolproxy.html">$toolproxy</a>-&gt;<a onClick="logVariable('state')" class="var it44705" onMouseOver="hilite(44705)" onMouseOut="lolite()" href="../../../_variables/state.html">state</a> = <a class="constant" onClick="logConstant('LTI_TOOL_PROXY_STATE_PENDING')" href="../../../_constants/LTI_TOOL_PROXY_STATE_PENDING.html" onMouseOver="constPopup(event,'LTI_TOOL_PROXY_STATE_PENDING')">LTI_TOOL_PROXY_STATE_PENDING</a>;
<a name="l541"><span class="linenum"> 541</span></a>          <a class="function" onClick="logFunction('lti_update_tool_proxy')" href="../../../_functions/lti_update_tool_proxy.html" onMouseOver="funcPopup(event,'lti_update_tool_proxy')">lti_update_tool_proxy</a>(<a class="var it3773" onMouseOver="hilite(3773)" onMouseOut="lolite()" onClick="logVariable('toolproxy')" href="../../../_variables/toolproxy.html">$toolproxy</a>);
<a name="l542"><span class="linenum"> 542</span></a>  
<a name="l543"><span class="linenum"> 543</span></a>          return <a class="var it3773" onMouseOver="hilite(3773)" onMouseOut="lolite()" onClick="logVariable('toolproxy')" href="../../../_variables/toolproxy.html">$toolproxy</a>;
<a name="l544"><span class="linenum"> 544</span></a>      }
<a name="l545"><span class="linenum"> 545</span></a>  
<a name="l546"><span class="linenum"> 546</span></a>      <span class="comment">/**</span>
<a name="l547"><span class="linenum"> 547</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l548"><span class="linenum"> 548</span></a>  <span class="comment">     *</span>
<a name="l549"><span class="linenum"> 549</span></a>  <span class="comment">     * @return external_description</span>
<a name="l550"><span class="linenum"> 550</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l551"><span class="linenum"> 551</span></a>  <span class="comment">     */</span>
<a name="l552"><span class="linenum"> 552</span></a>      public static function <a class="function" onClick="logFunction('create_tool_proxy_returns')" href="../../../_functions/create_tool_proxy_returns.html" onMouseOver="funcPopup(event,'create_tool_proxy_returns')">create_tool_proxy_returns</a>() {
<a name="l553"><span class="linenum"> 553</span></a>          return self::<a class="function" onClick="logFunction('tool_proxy_return_structure')" href="../../../_functions/tool_proxy_return_structure.html" onMouseOver="funcPopup(event,'tool_proxy_return_structure')">tool_proxy_return_structure</a>();
<a name="l554"><span class="linenum"> 554</span></a>      }
<a name="l555"><span class="linenum"> 555</span></a>  
<a name="l556"><span class="linenum"> 556</span></a>      <span class="comment">/**</span>
<a name="l557"><span class="linenum"> 557</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l558"><span class="linenum"> 558</span></a>  <span class="comment">     *</span>
<a name="l559"><span class="linenum"> 559</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l560"><span class="linenum"> 560</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l561"><span class="linenum"> 561</span></a>  <span class="comment">     */</span>
<a name="l562"><span class="linenum"> 562</span></a>      public static function <a class="function" onClick="logFunction('delete_tool_proxy_parameters')" href="../../../_functions/delete_tool_proxy_parameters.html" onMouseOver="funcPopup(event,'delete_tool_proxy_parameters')">delete_tool_proxy_parameters</a>() {
<a name="l563"><span class="linenum"> 563</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l564"><span class="linenum"> 564</span></a>              array(
<a name="l565"><span class="linenum"> 565</span></a>                  'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Tool proxy id'),
<a name="l566"><span class="linenum"> 566</span></a>              )
<a name="l567"><span class="linenum"> 567</span></a>          );
<a name="l568"><span class="linenum"> 568</span></a>      }
<a name="l569"><span class="linenum"> 569</span></a>  
<a name="l570"><span class="linenum"> 570</span></a>      <span class="comment">/**</span>
<a name="l571"><span class="linenum"> 571</span></a>  <span class="comment">     * Trigger the course module viewed event and update the module completion status.</span>
<a name="l572"><span class="linenum"> 572</span></a>  <span class="comment">     *</span>
<a name="l573"><span class="linenum"> 573</span></a>  <span class="comment">     * @param int $id the lti instance id</span>
<a name="l574"><span class="linenum"> 574</span></a>  <span class="comment">     * @return object The tool proxy</span>
<a name="l575"><span class="linenum"> 575</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l576"><span class="linenum"> 576</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l577"><span class="linenum"> 577</span></a>  <span class="comment">     */</span>
<a name="l578"><span class="linenum"> 578</span></a>      public static function <a class="function" onClick="logFunction('delete_tool_proxy')" href="../../../_functions/delete_tool_proxy.html" onMouseOver="funcPopup(event,'delete_tool_proxy')">delete_tool_proxy</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>) {
<a name="l579"><span class="linenum"> 579</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('delete_tool_proxy_parameters')" href="../../../_functions/delete_tool_proxy_parameters.html" onMouseOver="funcPopup(event,'delete_tool_proxy_parameters')">delete_tool_proxy_parameters</a>(),
<a name="l580"><span class="linenum"> 580</span></a>                                              array(
<a name="l581"><span class="linenum"> 581</span></a>                                                  'id' =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>,
<a name="l582"><span class="linenum"> 582</span></a>                                              ));
<a name="l583"><span class="linenum"> 583</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['id'];
<a name="l584"><span class="linenum"> 584</span></a>  
<a name="l585"><span class="linenum"> 585</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l586"><span class="linenum"> 586</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l587"><span class="linenum"> 587</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/site:config', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l588"><span class="linenum"> 588</span></a>  
<a name="l589"><span class="linenum"> 589</span></a>          <a class="var it3773" onMouseOver="hilite(3773)" onMouseOut="lolite()" onClick="logVariable('toolproxy')" href="../../../_variables/toolproxy.html">$toolproxy</a> = <a class="function" onClick="logFunction('lti_get_tool_proxy')" href="../../../_functions/lti_get_tool_proxy.html" onMouseOver="funcPopup(event,'lti_get_tool_proxy')">lti_get_tool_proxy</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>);
<a name="l590"><span class="linenum"> 590</span></a>  
<a name="l591"><span class="linenum"> 591</span></a>          <a class="function" onClick="logFunction('lti_delete_tool_proxy')" href="../../../_functions/lti_delete_tool_proxy.html" onMouseOver="funcPopup(event,'lti_delete_tool_proxy')">lti_delete_tool_proxy</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>);
<a name="l592"><span class="linenum"> 592</span></a>  
<a name="l593"><span class="linenum"> 593</span></a>          return <a class="var it3773" onMouseOver="hilite(3773)" onMouseOut="lolite()" onClick="logVariable('toolproxy')" href="../../../_variables/toolproxy.html">$toolproxy</a>;
<a name="l594"><span class="linenum"> 594</span></a>      }
<a name="l595"><span class="linenum"> 595</span></a>  
<a name="l596"><span class="linenum"> 596</span></a>      <span class="comment">/**</span>
<a name="l597"><span class="linenum"> 597</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l598"><span class="linenum"> 598</span></a>  <span class="comment">     *</span>
<a name="l599"><span class="linenum"> 599</span></a>  <span class="comment">     * @return external_description</span>
<a name="l600"><span class="linenum"> 600</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l601"><span class="linenum"> 601</span></a>  <span class="comment">     */</span>
<a name="l602"><span class="linenum"> 602</span></a>      public static function <a class="function" onClick="logFunction('delete_tool_proxy_returns')" href="../../../_functions/delete_tool_proxy_returns.html" onMouseOver="funcPopup(event,'delete_tool_proxy_returns')">delete_tool_proxy_returns</a>() {
<a name="l603"><span class="linenum"> 603</span></a>          return self::<a class="function" onClick="logFunction('tool_proxy_return_structure')" href="../../../_functions/tool_proxy_return_structure.html" onMouseOver="funcPopup(event,'tool_proxy_return_structure')">tool_proxy_return_structure</a>();
<a name="l604"><span class="linenum"> 604</span></a>      }
<a name="l605"><span class="linenum"> 605</span></a>  
<a name="l606"><span class="linenum"> 606</span></a>      <span class="comment">/**</span>
<a name="l607"><span class="linenum"> 607</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l608"><span class="linenum"> 608</span></a>  <span class="comment">     *</span>
<a name="l609"><span class="linenum"> 609</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l610"><span class="linenum"> 610</span></a>  <span class="comment">     * @since Moodle 3.0</span>
<a name="l611"><span class="linenum"> 611</span></a>  <span class="comment">     */</span>
<a name="l612"><span class="linenum"> 612</span></a>      public static function <a class="function" onClick="logFunction('get_tool_proxy_registration_request_parameters')" href="../../../_functions/get_tool_proxy_registration_request_parameters.html" onMouseOver="funcPopup(event,'get_tool_proxy_registration_request_parameters')">get_tool_proxy_registration_request_parameters</a>() {
<a name="l613"><span class="linenum"> 613</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l614"><span class="linenum"> 614</span></a>              array(
<a name="l615"><span class="linenum"> 615</span></a>                  'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Tool proxy id'),
<a name="l616"><span class="linenum"> 616</span></a>              )
<a name="l617"><span class="linenum"> 617</span></a>          );
<a name="l618"><span class="linenum"> 618</span></a>      }
<a name="l619"><span class="linenum"> 619</span></a>  
<a name="l620"><span class="linenum"> 620</span></a>      <span class="comment">/**</span>
<a name="l621"><span class="linenum"> 621</span></a>  <span class="comment">     * Returns the registration request for a tool proxy.</span>
<a name="l622"><span class="linenum"> 622</span></a>  <span class="comment">     *</span>
<a name="l623"><span class="linenum"> 623</span></a>  <span class="comment">     * @param int $id the lti instance id</span>
<a name="l624"><span class="linenum"> 624</span></a>  <span class="comment">     * @return array of registration parameters</span>
<a name="l625"><span class="linenum"> 625</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l626"><span class="linenum"> 626</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l627"><span class="linenum"> 627</span></a>  <span class="comment">     */</span>
<a name="l628"><span class="linenum"> 628</span></a>      public static function <a class="function" onClick="logFunction('get_tool_proxy_registration_request')" href="../../../_functions/get_tool_proxy_registration_request.html" onMouseOver="funcPopup(event,'get_tool_proxy_registration_request')">get_tool_proxy_registration_request</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>) {
<a name="l629"><span class="linenum"> 629</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_tool_proxy_registration_request_parameters')" href="../../../_functions/get_tool_proxy_registration_request_parameters.html" onMouseOver="funcPopup(event,'get_tool_proxy_registration_request_parameters')">get_tool_proxy_registration_request_parameters</a>(),
<a name="l630"><span class="linenum"> 630</span></a>                                              array(
<a name="l631"><span class="linenum"> 631</span></a>                                                  'id' =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>,
<a name="l632"><span class="linenum"> 632</span></a>                                              ));
<a name="l633"><span class="linenum"> 633</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['id'];
<a name="l634"><span class="linenum"> 634</span></a>  
<a name="l635"><span class="linenum"> 635</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l636"><span class="linenum"> 636</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l637"><span class="linenum"> 637</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/site:config', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l638"><span class="linenum"> 638</span></a>  
<a name="l639"><span class="linenum"> 639</span></a>          <a class="var it3773" onMouseOver="hilite(3773)" onMouseOut="lolite()" onClick="logVariable('toolproxy')" href="../../../_variables/toolproxy.html">$toolproxy</a> = <a class="function" onClick="logFunction('lti_get_tool_proxy')" href="../../../_functions/lti_get_tool_proxy.html" onMouseOver="funcPopup(event,'lti_get_tool_proxy')">lti_get_tool_proxy</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>);
<a name="l640"><span class="linenum"> 640</span></a>          return <a class="function" onClick="logFunction('lti_build_registration_request')" href="../../../_functions/lti_build_registration_request.html" onMouseOver="funcPopup(event,'lti_build_registration_request')">lti_build_registration_request</a>(<a class="var it3773" onMouseOver="hilite(3773)" onMouseOut="lolite()" onClick="logVariable('toolproxy')" href="../../../_variables/toolproxy.html">$toolproxy</a>);
<a name="l641"><span class="linenum"> 641</span></a>      }
<a name="l642"><span class="linenum"> 642</span></a>  
<a name="l643"><span class="linenum"> 643</span></a>      <span class="comment">/**</span>
<a name="l644"><span class="linenum"> 644</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l645"><span class="linenum"> 645</span></a>  <span class="comment">     *</span>
<a name="l646"><span class="linenum"> 646</span></a>  <span class="comment">     * @return external_description</span>
<a name="l647"><span class="linenum"> 647</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l648"><span class="linenum"> 648</span></a>  <span class="comment">     */</span>
<a name="l649"><span class="linenum"> 649</span></a>      public static function <a class="function" onClick="logFunction('get_tool_proxy_registration_request_returns')" href="../../../_functions/get_tool_proxy_registration_request_returns.html" onMouseOver="funcPopup(event,'get_tool_proxy_registration_request_returns')">get_tool_proxy_registration_request_returns</a>() {
<a name="l650"><span class="linenum"> 650</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l651"><span class="linenum"> 651</span></a>              array(
<a name="l652"><span class="linenum"> 652</span></a>                  'lti_message_type' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'LTI message type'),
<a name="l653"><span class="linenum"> 653</span></a>                  'lti_version' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../../../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'LTI version'),
<a name="l654"><span class="linenum"> 654</span></a>                  'reg_key' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Tool proxy registration key'),
<a name="l655"><span class="linenum"> 655</span></a>                  'reg_password' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Tool proxy registration password'),
<a name="l656"><span class="linenum"> 656</span></a>                  'reg_url' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Tool proxy registration url'),
<a name="l657"><span class="linenum"> 657</span></a>                  'tc_profile_url' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../../../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'Tool consumers profile URL'),
<a name="l658"><span class="linenum"> 658</span></a>                  'launch_presentation_return_url' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../../../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'URL to redirect on registration completion'),
<a name="l659"><span class="linenum"> 659</span></a>              )
<a name="l660"><span class="linenum"> 660</span></a>          );
<a name="l661"><span class="linenum"> 661</span></a>      }
<a name="l662"><span class="linenum"> 662</span></a>  
<a name="l663"><span class="linenum"> 663</span></a>      <span class="comment">/**</span>
<a name="l664"><span class="linenum"> 664</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l665"><span class="linenum"> 665</span></a>  <span class="comment">     *</span>
<a name="l666"><span class="linenum"> 666</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l667"><span class="linenum"> 667</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l668"><span class="linenum"> 668</span></a>  <span class="comment">     */</span>
<a name="l669"><span class="linenum"> 669</span></a>      public static function <a class="function" onClick="logFunction('get_tool_types_parameters')" href="../../../_functions/get_tool_types_parameters.html" onMouseOver="funcPopup(event,'get_tool_types_parameters')">get_tool_types_parameters</a>() {
<a name="l670"><span class="linenum"> 670</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l671"><span class="linenum"> 671</span></a>              array(
<a name="l672"><span class="linenum"> 672</span></a>                  'toolproxyid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Tool proxy id', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 0)
<a name="l673"><span class="linenum"> 673</span></a>              )
<a name="l674"><span class="linenum"> 674</span></a>          );
<a name="l675"><span class="linenum"> 675</span></a>      }
<a name="l676"><span class="linenum"> 676</span></a>  
<a name="l677"><span class="linenum"> 677</span></a>      <span class="comment">/**</span>
<a name="l678"><span class="linenum"> 678</span></a>  <span class="comment">     * Returns the tool types.</span>
<a name="l679"><span class="linenum"> 679</span></a>  <span class="comment">     *</span>
<a name="l680"><span class="linenum"> 680</span></a>  <span class="comment">     * @param int $toolproxyid The tool proxy id</span>
<a name="l681"><span class="linenum"> 681</span></a>  <span class="comment">     * @return array of tool types</span>
<a name="l682"><span class="linenum"> 682</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l683"><span class="linenum"> 683</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l684"><span class="linenum"> 684</span></a>  <span class="comment">     */</span>
<a name="l685"><span class="linenum"> 685</span></a>      public static function <a class="function" onClick="logFunction('get_tool_types')" href="../../../_functions/get_tool_types.html" onMouseOver="funcPopup(event,'get_tool_types')">get_tool_types</a>(<a class="var it3774" onMouseOver="hilite(3774)" onMouseOut="lolite()" onClick="logVariable('toolproxyid')" href="../../../_variables/toolproxyid.html">$toolproxyid</a>) {
<a name="l686"><span class="linenum"> 686</span></a>          global <a class="var it195" onMouseOver="hilite(195)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../../_variables/PAGE.html">$PAGE</a>;
<a name="l687"><span class="linenum"> 687</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_tool_types_parameters')" href="../../../_functions/get_tool_types_parameters.html" onMouseOver="funcPopup(event,'get_tool_types_parameters')">get_tool_types_parameters</a>(),
<a name="l688"><span class="linenum"> 688</span></a>                                              array(
<a name="l689"><span class="linenum"> 689</span></a>                                                  'toolproxyid' =&gt; <a class="var it3774" onMouseOver="hilite(3774)" onMouseOut="lolite()" onClick="logVariable('toolproxyid')" href="../../../_variables/toolproxyid.html">$toolproxyid</a>
<a name="l690"><span class="linenum"> 690</span></a>                                              ));
<a name="l691"><span class="linenum"> 691</span></a>          <a class="var it3774" onMouseOver="hilite(3774)" onMouseOut="lolite()" onClick="logVariable('toolproxyid')" href="../../../_variables/toolproxyid.html">$toolproxyid</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['toolproxyid'];
<a name="l692"><span class="linenum"> 692</span></a>  
<a name="l693"><span class="linenum"> 693</span></a>          <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../../_variables/types.html">$types</a> = array();
<a name="l694"><span class="linenum"> 694</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l695"><span class="linenum"> 695</span></a>  
<a name="l696"><span class="linenum"> 696</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l697"><span class="linenum"> 697</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/site:config', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l698"><span class="linenum"> 698</span></a>  
<a name="l699"><span class="linenum"> 699</span></a>          if (!empty(<a class="var it3774" onMouseOver="hilite(3774)" onMouseOut="lolite()" onClick="logVariable('toolproxyid')" href="../../../_variables/toolproxyid.html">$toolproxyid</a>)) {
<a name="l700"><span class="linenum"> 700</span></a>              <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../../_variables/types.html">$types</a> = <a class="function" onClick="logFunction('lti_get_lti_types_from_proxy_id')" href="../../../_functions/lti_get_lti_types_from_proxy_id.html" onMouseOver="funcPopup(event,'lti_get_lti_types_from_proxy_id')">lti_get_lti_types_from_proxy_id</a>(<a class="var it3774" onMouseOver="hilite(3774)" onMouseOut="lolite()" onClick="logVariable('toolproxyid')" href="../../../_variables/toolproxyid.html">$toolproxyid</a>);
<a name="l701"><span class="linenum"> 701</span></a>          } else {
<a name="l702"><span class="linenum"> 702</span></a>              <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../../_variables/types.html">$types</a> = <a class="function" onClick="logFunction('lti_get_lti_types')" href="../../../_functions/lti_get_lti_types.html" onMouseOver="funcPopup(event,'lti_get_lti_types')">lti_get_lti_types</a>();
<a name="l703"><span class="linenum"> 703</span></a>          }
<a name="l704"><span class="linenum"> 704</span></a>  
<a name="l705"><span class="linenum"> 705</span></a>          return <a class="phpfunction" onClick="logFunction('array_map')" href="../../../_functions/array_map.html" onMouseOver="phpfuncPopup(event,'array_map')">array_map</a>(&quot;serialise_tool_type&quot;, <a class="phpfunction" onClick="logFunction('array_values')" href="../../../_functions/array_values.html" onMouseOver="phpfuncPopup(event,'array_values')">array_values</a>(<a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../../_variables/types.html">$types</a>));
<a name="l706"><span class="linenum"> 706</span></a>      }
<a name="l707"><span class="linenum"> 707</span></a>  
<a name="l708"><span class="linenum"> 708</span></a>      <span class="comment">/**</span>
<a name="l709"><span class="linenum"> 709</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l710"><span class="linenum"> 710</span></a>  <span class="comment">     *</span>
<a name="l711"><span class="linenum"> 711</span></a>  <span class="comment">     * @return external_description</span>
<a name="l712"><span class="linenum"> 712</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l713"><span class="linenum"> 713</span></a>  <span class="comment">     */</span>
<a name="l714"><span class="linenum"> 714</span></a>      public static function <a class="function" onClick="logFunction('get_tool_types_returns')" href="../../../_functions/get_tool_types_returns.html" onMouseOver="funcPopup(event,'get_tool_types_returns')">get_tool_types_returns</a>() {
<a name="l715"><span class="linenum"> 715</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l716"><span class="linenum"> 716</span></a>              self::<a class="function" onClick="logFunction('tool_type_return_structure')" href="../../../_functions/tool_type_return_structure.html" onMouseOver="funcPopup(event,'tool_type_return_structure')">tool_type_return_structure</a>()
<a name="l717"><span class="linenum"> 717</span></a>          );
<a name="l718"><span class="linenum"> 718</span></a>      }
<a name="l719"><span class="linenum"> 719</span></a>  
<a name="l720"><span class="linenum"> 720</span></a>      <span class="comment">/**</span>
<a name="l721"><span class="linenum"> 721</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l722"><span class="linenum"> 722</span></a>  <span class="comment">     *</span>
<a name="l723"><span class="linenum"> 723</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l724"><span class="linenum"> 724</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l725"><span class="linenum"> 725</span></a>  <span class="comment">     */</span>
<a name="l726"><span class="linenum"> 726</span></a>      public static function <a class="function" onClick="logFunction('create_tool_type_parameters')" href="../../../_functions/create_tool_type_parameters.html" onMouseOver="funcPopup(event,'create_tool_type_parameters')">create_tool_type_parameters</a>() {
<a name="l727"><span class="linenum"> 727</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l728"><span class="linenum"> 728</span></a>              array(
<a name="l729"><span class="linenum"> 729</span></a>                  'cartridgeurl' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../../../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'URL to cardridge to load tool information', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, ''),
<a name="l730"><span class="linenum"> 730</span></a>                  'key' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Consumer key', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, ''),
<a name="l731"><span class="linenum"> 731</span></a>                  'secret' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Shared secret', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, ''),
<a name="l732"><span class="linenum"> 732</span></a>              )
<a name="l733"><span class="linenum"> 733</span></a>          );
<a name="l734"><span class="linenum"> 734</span></a>      }
<a name="l735"><span class="linenum"> 735</span></a>  
<a name="l736"><span class="linenum"> 736</span></a>      <span class="comment">/**</span>
<a name="l737"><span class="linenum"> 737</span></a>  <span class="comment">     * Creates a tool type.</span>
<a name="l738"><span class="linenum"> 738</span></a>  <span class="comment">     *</span>
<a name="l739"><span class="linenum"> 739</span></a>  <span class="comment">     * @param string $cartridgeurl Url of the xml cartridge representing the LTI tool</span>
<a name="l740"><span class="linenum"> 740</span></a>  <span class="comment">     * @param string $key The consumer key to identify this consumer</span>
<a name="l741"><span class="linenum"> 741</span></a>  <span class="comment">     * @param string $secret The secret</span>
<a name="l742"><span class="linenum"> 742</span></a>  <span class="comment">     * @return array created tool type</span>
<a name="l743"><span class="linenum"> 743</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l744"><span class="linenum"> 744</span></a>  <span class="comment">     * @throws moodle_exception If the tool type could not be created</span>
<a name="l745"><span class="linenum"> 745</span></a>  <span class="comment">     */</span>
<a name="l746"><span class="linenum"> 746</span></a>      public static function <a class="function" onClick="logFunction('create_tool_type')" href="../../../_functions/create_tool_type.html" onMouseOver="funcPopup(event,'create_tool_type')">create_tool_type</a>(<a class="var it3775" onMouseOver="hilite(3775)" onMouseOut="lolite()" onClick="logVariable('cartridgeurl')" href="../../../_variables/cartridgeurl.html">$cartridgeurl</a>, <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a>, <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('secret')" href="../../../_variables/secret.html">$secret</a>) {
<a name="l747"><span class="linenum"> 747</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('create_tool_type_parameters')" href="../../../_functions/create_tool_type_parameters.html" onMouseOver="funcPopup(event,'create_tool_type_parameters')">create_tool_type_parameters</a>(),
<a name="l748"><span class="linenum"> 748</span></a>                                              array(
<a name="l749"><span class="linenum"> 749</span></a>                                                  'cartridgeurl' =&gt; <a class="var it3775" onMouseOver="hilite(3775)" onMouseOut="lolite()" onClick="logVariable('cartridgeurl')" href="../../../_variables/cartridgeurl.html">$cartridgeurl</a>,
<a name="l750"><span class="linenum"> 750</span></a>                                                  'key' =&gt; <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a>,
<a name="l751"><span class="linenum"> 751</span></a>                                                  'secret' =&gt; <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('secret')" href="../../../_variables/secret.html">$secret</a>
<a name="l752"><span class="linenum"> 752</span></a>                                              ));
<a name="l753"><span class="linenum"> 753</span></a>          <a class="var it3775" onMouseOver="hilite(3775)" onMouseOut="lolite()" onClick="logVariable('cartridgeurl')" href="../../../_variables/cartridgeurl.html">$cartridgeurl</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['cartridgeurl'];
<a name="l754"><span class="linenum"> 754</span></a>          <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['key'];
<a name="l755"><span class="linenum"> 755</span></a>          <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('secret')" href="../../../_variables/secret.html">$secret</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['secret'];
<a name="l756"><span class="linenum"> 756</span></a>  
<a name="l757"><span class="linenum"> 757</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l758"><span class="linenum"> 758</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l759"><span class="linenum"> 759</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/site:config', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l760"><span class="linenum"> 760</span></a>  
<a name="l761"><span class="linenum"> 761</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a> = null;
<a name="l762"><span class="linenum"> 762</span></a>  
<a name="l763"><span class="linenum"> 763</span></a>          if (!empty(<a class="var it3775" onMouseOver="hilite(3775)" onMouseOut="lolite()" onClick="logVariable('cartridgeurl')" href="../../../_variables/cartridgeurl.html">$cartridgeurl</a>)) {
<a name="l764"><span class="linenum"> 764</span></a>              <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a> = new stdClass();
<a name="l765"><span class="linenum"> 765</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a> = new stdClass();
<a name="l766"><span class="linenum"> 766</span></a>              <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>-&gt;<a onClick="logVariable('state')" class="var it44031" onMouseOver="hilite(44031)" onMouseOut="lolite()" href="../../../_variables/state.html">state</a> = <a class="constant" onClick="logConstant('LTI_TOOL_STATE_CONFIGURED')" href="../../../_constants/LTI_TOOL_STATE_CONFIGURED.html" onMouseOver="constPopup(event,'LTI_TOOL_STATE_CONFIGURED')">LTI_TOOL_STATE_CONFIGURED</a>;
<a name="l767"><span class="linenum"> 767</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('lti_coursevisible')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../_variables/lti_coursevisible.html">lti_coursevisible</a> = 1;
<a name="l768"><span class="linenum"> 768</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('lti_sendname')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../_variables/lti_sendname.html">lti_sendname</a> = <a class="constant" onClick="logConstant('LTI_SETTING_DELEGATE')" href="../../../_constants/LTI_SETTING_DELEGATE.html" onMouseOver="constPopup(event,'LTI_SETTING_DELEGATE')">LTI_SETTING_DELEGATE</a>;
<a name="l769"><span class="linenum"> 769</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('lti_sendemailaddr')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../_variables/lti_sendemailaddr.html">lti_sendemailaddr</a> = <a class="constant" onClick="logConstant('LTI_SETTING_DELEGATE')" href="../../../_constants/LTI_SETTING_DELEGATE.html" onMouseOver="constPopup(event,'LTI_SETTING_DELEGATE')">LTI_SETTING_DELEGATE</a>;
<a name="l770"><span class="linenum"> 770</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('lti_acceptgrades')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../_variables/lti_acceptgrades.html">lti_acceptgrades</a> = <a class="constant" onClick="logConstant('LTI_SETTING_DELEGATE')" href="../../../_constants/LTI_SETTING_DELEGATE.html" onMouseOver="constPopup(event,'LTI_SETTING_DELEGATE')">LTI_SETTING_DELEGATE</a>;
<a name="l771"><span class="linenum"> 771</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('lti_forcessl')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../_variables/lti_forcessl.html">lti_forcessl</a> = 0;
<a name="l772"><span class="linenum"> 772</span></a>  
<a name="l773"><span class="linenum"> 773</span></a>              if (!empty(<a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a>)) {
<a name="l774"><span class="linenum"> 774</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('lti_resourcekey')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../_variables/lti_resourcekey.html">lti_resourcekey</a> = <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('key')" href="../../../_variables/key.html">$key</a>;
<a name="l775"><span class="linenum"> 775</span></a>              }
<a name="l776"><span class="linenum"> 776</span></a>  
<a name="l777"><span class="linenum"> 777</span></a>              if (!empty(<a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('secret')" href="../../../_variables/secret.html">$secret</a>)) {
<a name="l778"><span class="linenum"> 778</span></a>                  <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('lti_password')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../_variables/lti_password.html">lti_password</a> = <a class="var it216" onMouseOver="hilite(216)" onMouseOut="lolite()" onClick="logVariable('secret')" href="../../../_variables/secret.html">$secret</a>;
<a name="l779"><span class="linenum"> 779</span></a>              }
<a name="l780"><span class="linenum"> 780</span></a>  
<a name="l781"><span class="linenum"> 781</span></a>              <a class="function" onClick="logFunction('lti_load_type_from_cartridge')" href="../../../_functions/lti_load_type_from_cartridge.html" onMouseOver="funcPopup(event,'lti_load_type_from_cartridge')">lti_load_type_from_cartridge</a>(<a class="var it3775" onMouseOver="hilite(3775)" onMouseOut="lolite()" onClick="logVariable('cartridgeurl')" href="../../../_variables/cartridgeurl.html">$cartridgeurl</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>);
<a name="l782"><span class="linenum"> 782</span></a>              if (empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>-&gt;<a onClick="logVariable('lti_toolurl')" class="var it42917" onMouseOver="hilite(42917)" onMouseOut="lolite()" href="../../../_variables/lti_toolurl.html">lti_toolurl</a>)) {
<a name="l783"><span class="linenum"> 783</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('unabletocreatetooltype', 'mod_lti');
<a name="l784"><span class="linenum"> 784</span></a>              } else {
<a name="l785"><span class="linenum"> 785</span></a>                  <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a> = <a class="function" onClick="logFunction('lti_add_type')" href="../../../_functions/lti_add_type.html" onMouseOver="funcPopup(event,'lti_add_type')">lti_add_type</a>(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>, <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('data')" href="../../../_variables/data.html">$data</a>);
<a name="l786"><span class="linenum"> 786</span></a>              }
<a name="l787"><span class="linenum"> 787</span></a>          }
<a name="l788"><span class="linenum"> 788</span></a>  
<a name="l789"><span class="linenum"> 789</span></a>          if (!empty(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>)) {
<a name="l790"><span class="linenum"> 790</span></a>              <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a> = <a class="function" onClick="logFunction('lti_get_type')" href="../../../_functions/lti_get_type.html" onMouseOver="funcPopup(event,'lti_get_type')">lti_get_type</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>);
<a name="l791"><span class="linenum"> 791</span></a>              return <a class="function" onClick="logFunction('serialise_tool_type')" href="../../../_functions/serialise_tool_type.html" onMouseOver="funcPopup(event,'serialise_tool_type')">serialise_tool_type</a>(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>);
<a name="l792"><span class="linenum"> 792</span></a>          } else {
<a name="l793"><span class="linenum"> 793</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('unabletocreatetooltype', 'mod_lti');
<a name="l794"><span class="linenum"> 794</span></a>          }
<a name="l795"><span class="linenum"> 795</span></a>      }
<a name="l796"><span class="linenum"> 796</span></a>  
<a name="l797"><span class="linenum"> 797</span></a>      <span class="comment">/**</span>
<a name="l798"><span class="linenum"> 798</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l799"><span class="linenum"> 799</span></a>  <span class="comment">     *</span>
<a name="l800"><span class="linenum"> 800</span></a>  <span class="comment">     * @return external_description</span>
<a name="l801"><span class="linenum"> 801</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l802"><span class="linenum"> 802</span></a>  <span class="comment">     */</span>
<a name="l803"><span class="linenum"> 803</span></a>      public static function <a class="function" onClick="logFunction('create_tool_type_returns')" href="../../../_functions/create_tool_type_returns.html" onMouseOver="funcPopup(event,'create_tool_type_returns')">create_tool_type_returns</a>() {
<a name="l804"><span class="linenum"> 804</span></a>          return self::<a class="function" onClick="logFunction('tool_type_return_structure')" href="../../../_functions/tool_type_return_structure.html" onMouseOver="funcPopup(event,'tool_type_return_structure')">tool_type_return_structure</a>();
<a name="l805"><span class="linenum"> 805</span></a>      }
<a name="l806"><span class="linenum"> 806</span></a>  
<a name="l807"><span class="linenum"> 807</span></a>      <span class="comment">/**</span>
<a name="l808"><span class="linenum"> 808</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l809"><span class="linenum"> 809</span></a>  <span class="comment">     *</span>
<a name="l810"><span class="linenum"> 810</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l811"><span class="linenum"> 811</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l812"><span class="linenum"> 812</span></a>  <span class="comment">     */</span>
<a name="l813"><span class="linenum"> 813</span></a>      public static function <a class="function" onClick="logFunction('update_tool_type_parameters')" href="../../../_functions/update_tool_type_parameters.html" onMouseOver="funcPopup(event,'update_tool_type_parameters')">update_tool_type_parameters</a>() {
<a name="l814"><span class="linenum"> 814</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l815"><span class="linenum"> 815</span></a>              array(
<a name="l816"><span class="linenum"> 816</span></a>                  'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Tool type id'),
<a name="l817"><span class="linenum"> 817</span></a>                  'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Tool type name', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, null),
<a name="l818"><span class="linenum"> 818</span></a>                  'description' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Tool type description', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, null),
<a name="l819"><span class="linenum"> 819</span></a>                  'state' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Tool type state', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, null)
<a name="l820"><span class="linenum"> 820</span></a>              )
<a name="l821"><span class="linenum"> 821</span></a>          );
<a name="l822"><span class="linenum"> 822</span></a>      }
<a name="l823"><span class="linenum"> 823</span></a>  
<a name="l824"><span class="linenum"> 824</span></a>      <span class="comment">/**</span>
<a name="l825"><span class="linenum"> 825</span></a>  <span class="comment">     * Update a tool type.</span>
<a name="l826"><span class="linenum"> 826</span></a>  <span class="comment">     *</span>
<a name="l827"><span class="linenum"> 827</span></a>  <span class="comment">     * @param int $id The id of the tool type to update</span>
<a name="l828"><span class="linenum"> 828</span></a>  <span class="comment">     * @param string $name The name of the tool type</span>
<a name="l829"><span class="linenum"> 829</span></a>  <span class="comment">     * @param string $description The name of the tool type</span>
<a name="l830"><span class="linenum"> 830</span></a>  <span class="comment">     * @param int $state The state of the tool type</span>
<a name="l831"><span class="linenum"> 831</span></a>  <span class="comment">     * @return array updated tool type</span>
<a name="l832"><span class="linenum"> 832</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l833"><span class="linenum"> 833</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l834"><span class="linenum"> 834</span></a>  <span class="comment">     */</span>
<a name="l835"><span class="linenum"> 835</span></a>      public static function <a class="function" onClick="logFunction('update_tool_type')" href="../../../_functions/update_tool_type.html" onMouseOver="funcPopup(event,'update_tool_type')">update_tool_type</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>, <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../_variables/name.html">$name</a>, <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('description')" href="../../../_variables/description.html">$description</a>, <a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../../_variables/state.html">$state</a>) {
<a name="l836"><span class="linenum"> 836</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('update_tool_type_parameters')" href="../../../_functions/update_tool_type_parameters.html" onMouseOver="funcPopup(event,'update_tool_type_parameters')">update_tool_type_parameters</a>(),
<a name="l837"><span class="linenum"> 837</span></a>                                              array(
<a name="l838"><span class="linenum"> 838</span></a>                                                  'id' =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>,
<a name="l839"><span class="linenum"> 839</span></a>                                                  'name' =&gt; <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../_variables/name.html">$name</a>,
<a name="l840"><span class="linenum"> 840</span></a>                                                  'description' =&gt; <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('description')" href="../../../_variables/description.html">$description</a>,
<a name="l841"><span class="linenum"> 841</span></a>                                                  'state' =&gt; <a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../../_variables/state.html">$state</a>,
<a name="l842"><span class="linenum"> 842</span></a>                                              ));
<a name="l843"><span class="linenum"> 843</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['id'];
<a name="l844"><span class="linenum"> 844</span></a>          <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../_variables/name.html">$name</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['name'];
<a name="l845"><span class="linenum"> 845</span></a>          <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('description')" href="../../../_variables/description.html">$description</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['description'];
<a name="l846"><span class="linenum"> 846</span></a>          <a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../../_variables/state.html">$state</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['state'];
<a name="l847"><span class="linenum"> 847</span></a>  
<a name="l848"><span class="linenum"> 848</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l849"><span class="linenum"> 849</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l850"><span class="linenum"> 850</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/site:config', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l851"><span class="linenum"> 851</span></a>  
<a name="l852"><span class="linenum"> 852</span></a>          <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a> = <a class="function" onClick="logFunction('lti_get_type')" href="../../../_functions/lti_get_type.html" onMouseOver="funcPopup(event,'lti_get_type')">lti_get_type</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>);
<a name="l853"><span class="linenum"> 853</span></a>  
<a name="l854"><span class="linenum"> 854</span></a>          if (empty(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>)) {
<a name="l855"><span class="linenum"> 855</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('unabletofindtooltype', 'mod_lti', '', array('id' =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>));
<a name="l856"><span class="linenum"> 856</span></a>          }
<a name="l857"><span class="linenum"> 857</span></a>  
<a name="l858"><span class="linenum"> 858</span></a>          if (!empty(<a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../_variables/name.html">$name</a>)) {
<a name="l859"><span class="linenum"> 859</span></a>              <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>-&gt;<a onClick="logVariable('name')" class="var it44031" onMouseOver="hilite(44031)" onMouseOut="lolite()" href="../../../_variables/name.html">name</a> = <a class="var it88" onMouseOver="hilite(88)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../../_variables/name.html">$name</a>;
<a name="l860"><span class="linenum"> 860</span></a>          }
<a name="l861"><span class="linenum"> 861</span></a>  
<a name="l862"><span class="linenum"> 862</span></a>          if (!empty(<a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('description')" href="../../../_variables/description.html">$description</a>)) {
<a name="l863"><span class="linenum"> 863</span></a>              <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>-&gt;<a onClick="logVariable('description')" class="var it44031" onMouseOver="hilite(44031)" onMouseOut="lolite()" href="../../../_variables/description.html">description</a> = <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('description')" href="../../../_variables/description.html">$description</a>;
<a name="l864"><span class="linenum"> 864</span></a>          }
<a name="l865"><span class="linenum"> 865</span></a>  
<a name="l866"><span class="linenum"> 866</span></a>          if (!empty(<a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../../_variables/state.html">$state</a>)) {
<a name="l867"><span class="linenum"> 867</span></a>  <span class="comment">            // Valid state range.</span>
<a name="l868"><span class="linenum"> 868</span></a>              if (<a class="phpfunction" onClick="logFunction('in_array')" href="../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../../_variables/state.html">$state</a>, array(1, 2, 3))) {
<a name="l869"><span class="linenum"> 869</span></a>                  <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>-&gt;<a onClick="logVariable('state')" class="var it44031" onMouseOver="hilite(44031)" onMouseOut="lolite()" href="../../../_variables/state.html">state</a> = <a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../../_variables/state.html">$state</a>;
<a name="l870"><span class="linenum"> 870</span></a>              } else {
<a name="l871"><span class="linenum"> 871</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>(&quot;Invalid state: <a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../../../_variables/state.html">$state</a> - must be 1, 2, or 3&quot;);
<a name="l872"><span class="linenum"> 872</span></a>              }
<a name="l873"><span class="linenum"> 873</span></a>          }
<a name="l874"><span class="linenum"> 874</span></a>  
<a name="l875"><span class="linenum"> 875</span></a>          <a class="function" onClick="logFunction('lti_update_type')" href="../../../_functions/lti_update_type.html" onMouseOver="funcPopup(event,'lti_update_type')">lti_update_type</a>(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>, new stdClass());
<a name="l876"><span class="linenum"> 876</span></a>  
<a name="l877"><span class="linenum"> 877</span></a>          return <a class="function" onClick="logFunction('serialise_tool_type')" href="../../../_functions/serialise_tool_type.html" onMouseOver="funcPopup(event,'serialise_tool_type')">serialise_tool_type</a>(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>);
<a name="l878"><span class="linenum"> 878</span></a>      }
<a name="l879"><span class="linenum"> 879</span></a>  
<a name="l880"><span class="linenum"> 880</span></a>      <span class="comment">/**</span>
<a name="l881"><span class="linenum"> 881</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l882"><span class="linenum"> 882</span></a>  <span class="comment">     *</span>
<a name="l883"><span class="linenum"> 883</span></a>  <span class="comment">     * @return external_description</span>
<a name="l884"><span class="linenum"> 884</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l885"><span class="linenum"> 885</span></a>  <span class="comment">     */</span>
<a name="l886"><span class="linenum"> 886</span></a>      public static function <a class="function" onClick="logFunction('update_tool_type_returns')" href="../../../_functions/update_tool_type_returns.html" onMouseOver="funcPopup(event,'update_tool_type_returns')">update_tool_type_returns</a>() {
<a name="l887"><span class="linenum"> 887</span></a>          return self::<a class="function" onClick="logFunction('tool_type_return_structure')" href="../../../_functions/tool_type_return_structure.html" onMouseOver="funcPopup(event,'tool_type_return_structure')">tool_type_return_structure</a>();
<a name="l888"><span class="linenum"> 888</span></a>      }
<a name="l889"><span class="linenum"> 889</span></a>  
<a name="l890"><span class="linenum"> 890</span></a>      <span class="comment">/**</span>
<a name="l891"><span class="linenum"> 891</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l892"><span class="linenum"> 892</span></a>  <span class="comment">     *</span>
<a name="l893"><span class="linenum"> 893</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l894"><span class="linenum"> 894</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l895"><span class="linenum"> 895</span></a>  <span class="comment">     */</span>
<a name="l896"><span class="linenum"> 896</span></a>      public static function <a class="function" onClick="logFunction('delete_tool_type_parameters')" href="../../../_functions/delete_tool_type_parameters.html" onMouseOver="funcPopup(event,'delete_tool_type_parameters')">delete_tool_type_parameters</a>() {
<a name="l897"><span class="linenum"> 897</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l898"><span class="linenum"> 898</span></a>              array(
<a name="l899"><span class="linenum"> 899</span></a>                  'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Tool type id'),
<a name="l900"><span class="linenum"> 900</span></a>              )
<a name="l901"><span class="linenum"> 901</span></a>          );
<a name="l902"><span class="linenum"> 902</span></a>      }
<a name="l903"><span class="linenum"> 903</span></a>  
<a name="l904"><span class="linenum"> 904</span></a>      <span class="comment">/**</span>
<a name="l905"><span class="linenum"> 905</span></a>  <span class="comment">     * Delete a tool type.</span>
<a name="l906"><span class="linenum"> 906</span></a>  <span class="comment">     *</span>
<a name="l907"><span class="linenum"> 907</span></a>  <span class="comment">     * @param int $id The id of the tool type to be deleted</span>
<a name="l908"><span class="linenum"> 908</span></a>  <span class="comment">     * @return array deleted tool type</span>
<a name="l909"><span class="linenum"> 909</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l910"><span class="linenum"> 910</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l911"><span class="linenum"> 911</span></a>  <span class="comment">     */</span>
<a name="l912"><span class="linenum"> 912</span></a>      public static function <a class="function" onClick="logFunction('delete_tool_type')" href="../../../_functions/delete_tool_type.html" onMouseOver="funcPopup(event,'delete_tool_type')">delete_tool_type</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>) {
<a name="l913"><span class="linenum"> 913</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('delete_tool_type_parameters')" href="../../../_functions/delete_tool_type_parameters.html" onMouseOver="funcPopup(event,'delete_tool_type_parameters')">delete_tool_type_parameters</a>(),
<a name="l914"><span class="linenum"> 914</span></a>                                              array(
<a name="l915"><span class="linenum"> 915</span></a>                                                  'id' =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>,
<a name="l916"><span class="linenum"> 916</span></a>                                              ));
<a name="l917"><span class="linenum"> 917</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['id'];
<a name="l918"><span class="linenum"> 918</span></a>  
<a name="l919"><span class="linenum"> 919</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l920"><span class="linenum"> 920</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l921"><span class="linenum"> 921</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/site:config', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l922"><span class="linenum"> 922</span></a>  
<a name="l923"><span class="linenum"> 923</span></a>          <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a> = <a class="function" onClick="logFunction('lti_get_type')" href="../../../_functions/lti_get_type.html" onMouseOver="funcPopup(event,'lti_get_type')">lti_get_type</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>);
<a name="l924"><span class="linenum"> 924</span></a>  
<a name="l925"><span class="linenum"> 925</span></a>          if (!empty(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>)) {
<a name="l926"><span class="linenum"> 926</span></a>              <a class="function" onClick="logFunction('lti_delete_type')" href="../../../_functions/lti_delete_type.html" onMouseOver="funcPopup(event,'lti_delete_type')">lti_delete_type</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>);
<a name="l927"><span class="linenum"> 927</span></a>  
<a name="l928"><span class="linenum"> 928</span></a>  <span class="comment">            // If this is the last type for this proxy then remove the proxy</span>
<a name="l929"><span class="linenum"> 929</span></a>  <span class="comment">            // as well so that it isn't orphaned.</span>
<a name="l930"><span class="linenum"> 930</span></a>              <a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../../_variables/types.html">$types</a> = <a class="function" onClick="logFunction('lti_get_lti_types_from_proxy_id')" href="../../../_functions/lti_get_lti_types_from_proxy_id.html" onMouseOver="funcPopup(event,'lti_get_lti_types_from_proxy_id')">lti_get_lti_types_from_proxy_id</a>(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>-&gt;<a onClick="logVariable('toolproxyid')" class="var it44031" onMouseOver="hilite(44031)" onMouseOut="lolite()" href="../../../_variables/toolproxyid.html">toolproxyid</a>);
<a name="l931"><span class="linenum"> 931</span></a>              if (empty(<a class="var it1455" onMouseOver="hilite(1455)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../../_variables/types.html">$types</a>)) {
<a name="l932"><span class="linenum"> 932</span></a>                  <a class="function" onClick="logFunction('lti_delete_tool_proxy')" href="../../../_functions/lti_delete_tool_proxy.html" onMouseOver="funcPopup(event,'lti_delete_tool_proxy')">lti_delete_tool_proxy</a>(<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a>-&gt;<a onClick="logVariable('toolproxyid')" class="var it44031" onMouseOver="hilite(44031)" onMouseOut="lolite()" href="../../../_variables/toolproxyid.html">toolproxyid</a>);
<a name="l933"><span class="linenum"> 933</span></a>              }
<a name="l934"><span class="linenum"> 934</span></a>          }
<a name="l935"><span class="linenum"> 935</span></a>  
<a name="l936"><span class="linenum"> 936</span></a>          return array('id' =&gt; <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>);
<a name="l937"><span class="linenum"> 937</span></a>      }
<a name="l938"><span class="linenum"> 938</span></a>  
<a name="l939"><span class="linenum"> 939</span></a>      <span class="comment">/**</span>
<a name="l940"><span class="linenum"> 940</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l941"><span class="linenum"> 941</span></a>  <span class="comment">     *</span>
<a name="l942"><span class="linenum"> 942</span></a>  <span class="comment">     * @return external_description</span>
<a name="l943"><span class="linenum"> 943</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l944"><span class="linenum"> 944</span></a>  <span class="comment">     */</span>
<a name="l945"><span class="linenum"> 945</span></a>      public static function <a class="function" onClick="logFunction('delete_tool_type_returns')" href="../../../_functions/delete_tool_type_returns.html" onMouseOver="funcPopup(event,'delete_tool_type_returns')">delete_tool_type_returns</a>() {
<a name="l946"><span class="linenum"> 946</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l947"><span class="linenum"> 947</span></a>              array(
<a name="l948"><span class="linenum"> 948</span></a>                  'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Tool type id'),
<a name="l949"><span class="linenum"> 949</span></a>              )
<a name="l950"><span class="linenum"> 950</span></a>          );
<a name="l951"><span class="linenum"> 951</span></a>      }
<a name="l952"><span class="linenum"> 952</span></a>  
<a name="l953"><span class="linenum"> 953</span></a>      <span class="comment">/**</span>
<a name="l954"><span class="linenum"> 954</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l955"><span class="linenum"> 955</span></a>  <span class="comment">     *</span>
<a name="l956"><span class="linenum"> 956</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l957"><span class="linenum"> 957</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l958"><span class="linenum"> 958</span></a>  <span class="comment">     */</span>
<a name="l959"><span class="linenum"> 959</span></a>      public static function <a class="function" onClick="logFunction('is_cartridge_parameters')" href="../../../_functions/is_cartridge_parameters.html" onMouseOver="funcPopup(event,'is_cartridge_parameters')">is_cartridge_parameters</a>() {
<a name="l960"><span class="linenum"> 960</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l961"><span class="linenum"> 961</span></a>              array(
<a name="l962"><span class="linenum"> 962</span></a>                  'url' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_URL')" href="../../../_constants/PARAM_URL.html" onMouseOver="constPopup(event,'PARAM_URL')">PARAM_URL</a>, 'Tool url'),
<a name="l963"><span class="linenum"> 963</span></a>              )
<a name="l964"><span class="linenum"> 964</span></a>          );
<a name="l965"><span class="linenum"> 965</span></a>      }
<a name="l966"><span class="linenum"> 966</span></a>  
<a name="l967"><span class="linenum"> 967</span></a>      <span class="comment">/**</span>
<a name="l968"><span class="linenum"> 968</span></a>  <span class="comment">     * Determine if the url to a tool is for a cartridge.</span>
<a name="l969"><span class="linenum"> 969</span></a>  <span class="comment">     *</span>
<a name="l970"><span class="linenum"> 970</span></a>  <span class="comment">     * @param string $url Url that may or may not be an xml cartridge</span>
<a name="l971"><span class="linenum"> 971</span></a>  <span class="comment">     * @return bool True if the url is for a cartridge.</span>
<a name="l972"><span class="linenum"> 972</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l973"><span class="linenum"> 973</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l974"><span class="linenum"> 974</span></a>  <span class="comment">     */</span>
<a name="l975"><span class="linenum"> 975</span></a>      public static function <a class="function" onClick="logFunction('is_cartridge')" href="../../../_functions/is_cartridge.html" onMouseOver="funcPopup(event,'is_cartridge')">is_cartridge</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../_variables/url.html">$url</a>) {
<a name="l976"><span class="linenum"> 976</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('is_cartridge_parameters')" href="../../../_functions/is_cartridge_parameters.html" onMouseOver="funcPopup(event,'is_cartridge_parameters')">is_cartridge_parameters</a>(),
<a name="l977"><span class="linenum"> 977</span></a>                                              array(
<a name="l978"><span class="linenum"> 978</span></a>                                                  'url' =&gt; <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../_variables/url.html">$url</a>,
<a name="l979"><span class="linenum"> 979</span></a>                                              ));
<a name="l980"><span class="linenum"> 980</span></a>          <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../_variables/url.html">$url</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['url'];
<a name="l981"><span class="linenum"> 981</span></a>  
<a name="l982"><span class="linenum"> 982</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_system')" href="../../../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l983"><span class="linenum"> 983</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l984"><span class="linenum"> 984</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/site:config', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l985"><span class="linenum"> 985</span></a>  
<a name="l986"><span class="linenum"> 986</span></a>          <a class="var it3784" onMouseOver="hilite(3784)" onMouseOut="lolite()" onClick="logVariable('iscartridge')" href="../../../_variables/iscartridge.html">$iscartridge</a> = <a class="function" onClick="logFunction('lti_is_cartridge')" href="../../../_functions/lti_is_cartridge.html" onMouseOver="funcPopup(event,'lti_is_cartridge')">lti_is_cartridge</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../../_variables/url.html">$url</a>);
<a name="l987"><span class="linenum"> 987</span></a>  
<a name="l988"><span class="linenum"> 988</span></a>          return array('iscartridge' =&gt; <a class="var it3784" onMouseOver="hilite(3784)" onMouseOut="lolite()" onClick="logVariable('iscartridge')" href="../../../_variables/iscartridge.html">$iscartridge</a>);
<a name="l989"><span class="linenum"> 989</span></a>      }
<a name="l990"><span class="linenum"> 990</span></a>  
<a name="l991"><span class="linenum"> 991</span></a>      <span class="comment">/**</span>
<a name="l992"><span class="linenum"> 992</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l993"><span class="linenum"> 993</span></a>  <span class="comment">     *</span>
<a name="l994"><span class="linenum"> 994</span></a>  <span class="comment">     * @return external_description</span>
<a name="l995"><span class="linenum"> 995</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l996"><span class="linenum"> 996</span></a>  <span class="comment">     */</span>
<a name="l997"><span class="linenum"> 997</span></a>      public static function <a class="function" onClick="logFunction('is_cartridge_returns')" href="../../../_functions/is_cartridge_returns.html" onMouseOver="funcPopup(event,'is_cartridge_returns')">is_cartridge_returns</a>() {
<a name="l998"><span class="linenum"> 998</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l999"><span class="linenum"> 999</span></a>              array(
<a name="l1000"><span class="linenum">1000</span></a>                  'iscartridge' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'True if the URL is a cartridge'),
<a name="l1001"><span class="linenum">1001</span></a>              )
<a name="l1002"><span class="linenum">1002</span></a>          );
<a name="l1003"><span class="linenum">1003</span></a>      }
<a name="l1004"><span class="linenum">1004</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_tool_types': ['get_tool_types', 'Returns the tool types. ', [['mod/lti/classes','external.php',677]], 1],
'get_tool_launch_data_returns': ['get_tool_launch_data_returns', 'Returns description of method result value ', [['mod/lti/classes','external.php',224]], 1],
'is_cartridge_returns': ['is_cartridge_returns', 'Returns description of method result value ', [['mod/lti/classes','external.php',991]], 0],
'delete_tool_type': ['delete_tool_type', 'Delete a tool type. ', [['mod/lti/classes','external.php',904]], 2],
'lti_delete_type': ['lti_delete_type', 'Delete a Basic LTI configuration ', [['mod/lti','locallib.php',1289]], 4],
'delete_tool_proxy_returns': ['delete_tool_proxy_returns', 'Returns description of method result value ', [['mod/lti/classes','external.php',596]], 0],
'get_course_and_cm_from_instance': ['get_course_and_cm_from_instance', 'Efficiently retrieves the $course (stdclass) and $cm (cm_info) objects, given an instance id or record and module name. ', [['lib','modinfolib.php',2099]], 45],
'get_area_files': ['get_area_files', 'Returns all area files (optionally limited by itemid) ', [['lib/filestorage','file_storage.php',782],['lib','externallib.php',1134]], 216],
'lti_get_lti_types': ['lti_get_lti_types', 'Returns available Basic LTI types ', [['mod/lti','lib.php',445]], 1],
'view_lti_returns': ['view_lti_returns', 'Returns description of method result value ', [['mod/lti/classes','external.php',448]], 1],
'create_tool_proxy_returns': ['create_tool_proxy_returns', 'Returns description of method result value ', [['mod/lti/classes','external.php',546]], 0],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'create_tool_proxy_parameters': ['create_tool_proxy_parameters', 'Returns description of method parameters ', [['mod/lti/classes','external.php',463]], 1],
'lti_build_registration_request': ['lti_build_registration_request', 'Gets the parameters for the regirstration request ', [['mod/lti','locallib.php',294]], 2],
'get_tool_proxy_registration_request': ['get_tool_proxy_registration_request', 'Returns the registration request for a tool proxy. ', [['mod/lti/classes','external.php',620]], 1],
'get_tool_proxies_returns': ['get_tool_proxies_returns', 'Returns description of method result value. ', [['mod/lti/classes','external.php',153]], 0],
'lti_add_tool_proxy': ['lti_add_tool_proxy', 'Update the database with a tool proxy instance ', [['mod/lti','locallib.php',1693]], 2],
'tool_proxy_return_structure': ['tool_proxy_return_structure', 'Returns description of a tool proxy ', [['mod/lti/classes','external.php',87]], 2],
'get_ltis_by_courses_parameters': ['get_ltis_by_courses_parameters', 'Describes the parameters for get_ltis_by_courses. ', [['mod/lti/classes','external.php',247]], 1],
'update_tool_type': ['update_tool_type', 'Update a tool type. ', [['mod/lti/classes','external.php',824]], 1],
'is_cartridge_parameters': ['is_cartridge_parameters', 'Returns description of method parameters ', [['mod/lti/classes','external.php',953]], 1],
'lti_get_lti_types_from_proxy_id': ['lti_get_lti_types_from_proxy_id', 'Returns available Basic LTI types that match the given tool proxy id ', [['mod/lti','lib.php',456]], 2],
'get_all_instances_in_courses': ['get_all_instances_in_courses', 'Returns an array of all the active instances of a particular module in given courses, sorted in the order they are defined ', [['lib','datalib.php',1382]], 23],
'get_tool_proxy_registration_request_parameters': ['get_tool_proxy_registration_request_parameters', 'Returns description of method parameters ', [['mod/lti/classes','external.php',606]], 1],
'create_tool_proxy': ['create_tool_proxy', 'Creates a new tool proxy ', [['mod/lti/classes','external.php',486]], 7],
'delete_tool_proxy_parameters': ['delete_tool_proxy_parameters', 'Returns description of method parameters ', [['mod/lti/classes','external.php',556]], 1],
'create_tool_type': ['create_tool_type', 'Creates a tool type. ', [['mod/lti/classes','external.php',736]], 7],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'lti_load_type_from_cartridge': ['lti_load_type_from_cartridge', 'Allows you to load settings for an external tool type from an IMS cartridge. ', [['mod/lti','locallib.php',2603]], 3],
'get_tool_types_parameters': ['get_tool_types_parameters', 'Returns description of method parameters ', [['mod/lti/classes','external.php',663]], 1],
'lti_view': ['lti_view', 'Mark the activity completed (if required) and trigger the course_module_viewed event. ', [['mod/lti','lib.php',536]], 4],
'lti_get_tool_proxies_from_registration_url': ['lti_get_tool_proxies_from_registration_url', 'Get the tool proxy instance given its registration URL ', [['mod/lti','locallib.php',1617]], 1],
'serialise_tool_type': ['serialise_tool_type', 'Serialises this tool type ', [['mod/lti','locallib.php',2486]], 2],
'update_tool_type_parameters': ['update_tool_type_parameters', 'Returns description of method parameters ', [['mod/lti/classes','external.php',807]], 1],
'lti_get_launch_data': ['lti_get_launch_data', 'Return the launch data required for opening the external tool. ', [['mod/lti','locallib.php',86]], 2],
'tool_type_return_structure': ['tool_type_return_structure', 'Returns structure be used for returning a tool type from a web service. ', [['mod/lti/classes','external.php',44]], 4],
'lti_get_tool_proxies': ['lti_get_tool_proxies', 'Returns lti tool proxies. ', [['mod/lti','locallib.php',1648]], 1],
'get_tool_proxies_parameters': ['get_tool_proxies_parameters', 'Returns description of method parameters ', [['mod/lti/classes','external.php',112]], 1],
'get_tool_proxy_registration_request_returns': ['get_tool_proxy_registration_request_returns', 'Returns description of method result value ', [['mod/lti/classes','external.php',643]], 0],
'validate_context': ['validate_context', 'Makes sure user may execute functions in this context. ', [['lib','externallib.php',448]], 256],
'validate_parameters': ['validate_parameters', 'Validates submitted function parameters, if anything is incorrect invalid_parameter_exception is thrown. This is a simple recursive method which is intended to be called from each implementation method of external API. ', [['lib','externallib.php',279]], 340],
'view_lti': ['view_lti', 'Trigger the course module viewed event and update the module completion status. ', [['mod/lti/classes','external.php',414]], 4],
'get_ltis_by_courses': ['get_ltis_by_courses', 'Returns a list of external tools in a provided list of courses, if no list is provided all external tools that the user can view will be returned. ', [['mod/lti/classes','external.php',263]], 7],
'external_format_text': ['external_format_text', 'Format the text to be returned properly as requested by the either the web service server, either by an internally call. The caller can change the format (raw, filter, file, fileurl) with the external_settings singleton All web service servers must set this singleton when parsing the $_GET and $_POST. ', [['lib','externallib.php',887]], 61],
'lti_update_type': ['lti_update_type', '', [['mod/lti','locallib.php',1502]], 4],
'lti_add_type': ['lti_add_type', '', [['mod/lti','locallib.php',1540]], 8],
'get_tool_launch_data': ['get_tool_launch_data', 'Return the launch data for a given external tool. ', [['mod/lti/classes','external.php',179]], 1],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',922],['lib','accesslib.php',344]], 2064],
'get_tool_launch_data_parameters': ['get_tool_launch_data_parameters', 'Returns description of method parameters. ', [['mod/lti/classes','external.php',165]], 1],
'get_tool_proxies': ['get_tool_proxies', 'Returns the tool types. ', [['mod/lti/classes','external.php',126]], 0],
'validate_courses': ['validate_courses', 'Validate a list of courses, returning the complete course objects for valid courses. ', [['lib','externallib.php',1096]], 16],
'get_tool_types_returns': ['get_tool_types_returns', 'Returns description of method result value ', [['mod/lti/classes','external.php',708]], 0],
'is_cartridge': ['is_cartridge', 'Determine if the url to a tool is for a cartridge. ', [['mod/lti/classes','external.php',967]], 2],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'create_tool_type_returns': ['create_tool_type_returns', 'Returns description of method result value ', [['mod/lti/classes','external.php',797]], 0],
'get_ltis_by_courses_returns': ['get_ltis_by_courses_returns', 'Describes the get_ltis_by_courses return value. ', [['mod/lti/classes','external.php',341]], 2],
'lti_update_tool_proxy': ['lti_update_tool_proxy', 'Updates a tool proxy in the database ', [['mod/lti','locallib.php',1747]], 5],
'delete_tool_proxy': ['delete_tool_proxy', 'Trigger the course module viewed event and update the module completion status. ', [['mod/lti/classes','external.php',570]], 1],
'lti_get_tool_proxy': ['lti_get_tool_proxy', 'Generates some of the tool proxy configuration based on the admin configuration details ', [['mod/lti','locallib.php',1634]], 7],
'lti_is_cartridge': ['lti_is_cartridge', 'Determines if the given url is for a IMS basic cartridge ', [['mod/lti','locallib.php',2571]], 4],
'view_lti_parameters': ['view_lti_parameters', 'Returns description of method parameters ', [['mod/lti/classes','external.php',400]], 1],
'delete_tool_type_parameters': ['delete_tool_type_parameters', 'Returns description of method parameters ', [['mod/lti/classes','external.php',890]], 1],
'enrol_get_my_courses': ['enrol_get_my_courses', 'Returns list of courses current $USER is enrolled in and can access ', [['lib','enrollib.php',512]], 30],
'create_tool_type_parameters': ['create_tool_type_parameters', 'Returns description of method parameters ', [['mod/lti/classes','external.php',720]], 1],
'require_capability': ['require_capability', 'Wrapper round the require_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',929],['lib','accesslib.php',762],['backup/util/ui','restore_ui_components.php',157]], 690],
'update_tool_type_returns': ['update_tool_type_returns', 'Returns description of method result value ', [['mod/lti/classes','external.php',880]], 0],
'delete_tool_type_returns': ['delete_tool_type_returns', 'Returns description of method result value ', [['mod/lti/classes','external.php',939]], 0],
'lti_delete_tool_proxy': ['lti_delete_tool_proxy', 'Delete a Tool Proxy ', [['mod/lti','locallib.php',1763]], 3],
'external_format_string': ['external_format_string', 'Format the string to be returned properly as requested by the either the web service server, either by an internally call. The caller can change the format (raw) with the external_settings singleton All web service servers must set this singleton when parsing the $_GET and $_POST. ', [['lib','externallib.php',850]], 48],
'lti_get_type': ['lti_get_type', '', [['mod/lti','locallib.php',1953]], 11],
'array_keys': ['array_keys', '', [], 1256],
'array_merge': ['array_merge', '', [], 2944],
'defined': ['defined', '', [], 4731],
'in_array': ['in_array', '', [], 1234],
'array_map': ['array_map', '', [], 169],
'array_values': ['array_values', '', [], 342]};
CLASS_DATA={
'external_single_structure': ['external_single_structure', 'Associative array description class ', [['lib','externallib.php',580]], 460],
'mod_lti_external': ['mod_lti_external', 'External tool module external functions ', [['mod/lti/classes','external.php',33]], 38],
'external_api': ['external_api', 'Base class for external api methods. ', [['lib','externallib.php',47]], 808],
'external_files': ['external_files', 'External structure representing a set of files. ', [['lib','externallib.php',1167]], 21],
'external_util': ['external_util', 'Utility functions for the external API. ', [['lib','externallib.php',1086]], 38],
'external_warnings': ['external_warnings', 'Standard Moodle web service warnings ', [['lib','externallib.php',768]], 150],
'external_function_parameters': ['external_function_parameters', 'Description of top level - PHP function parameters. ', [['lib','externallib.php',638]], 344],
'moodle_exception': ['moodle_exception', 'Base Moodle Exception class ', [['lib','setuplib.php',75]], 606],
'external_format_value': ['external_format_value', 'A pre-filled external_value class for text format. ', [['lib','externallib.php',799]], 70],
'external_multiple_structure': ['external_multiple_structure', 'Bulk array description class. ', [['lib','externallib.php',609]], 350],
'external_value': ['external_value', 'Scalar value description class ', [['lib','externallib.php',546]], 2505],
'context_system': ['context_system', 'System context class ', [['lib','accesslib.php',6157]], 1147],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',7039]], 1106]};
CONST_DATA={
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 921],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1384],
'PARAM_URL': ['PARAM_URL', '', [['lib','moodlelib.php',239]], 165],
'PARAM_NOTAGS': ['PARAM_NOTAGS', '', [['lib','moodlelib.php',172]], 217],
'LTI_SETTING_DELEGATE': ['LTI_SETTING_DELEGATE', '', [['mod/lti','locallib.php',80]], 15],
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 802],
'PARAM_TEXT': ['PARAM_TEXT', '', [['lib','moodlelib.php',228]], 542],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 3812],
'VALUE_DEFAULT': ['VALUE_DEFAULT', '', [['lib','moodlelib.php',342]], 304],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'LTI_TOOL_STATE_CONFIGURED': ['LTI_TOOL_STATE_CONFIGURED', '', [['mod/lti','locallib.php',68]], 16],
'LTI_TOOL_PROXY_STATE_PENDING': ['LTI_TOOL_PROXY_STATE_PENDING', '', [['mod/lti','locallib.php',74]], 9],
'VALUE_OPTIONAL': ['VALUE_OPTIONAL', '', [['lib','moodlelib.php',337]], 761],
'PARAM_ALPHANUMEXT': ['PARAM_ALPHANUMEXT', '', [['lib','moodlelib.php',93]], 200]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
