<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/wiki/classes/external.php source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='mod/wiki/classes';
filename='external.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/wiki/classes/</a> -> <a href="external.php.html">external.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="external.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="external.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Wiki module external API.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    mod_wiki</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @category   external</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2015 Dani Palou &lt;dani@moodle.com&gt;</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * @since      Moodle 3.1</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> */</span>
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die;
<a name="l28"><span class="linenum">  28</span></a>  
<a name="l29"><span class="linenum">  29</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../_variables/libdir.html">libdir</a> . '/externallib.php');
<a name="l30"><span class="linenum">  30</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../../mod/wiki/lib.php.html">/mod/wiki/lib.php</a>');
<a name="l31"><span class="linenum">  31</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../../mod/wiki/locallib.php.html">/mod/wiki/locallib.php</a>');
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">/**</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * Wiki module external functions.</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> *</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * @package    mod_wiki</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * @category   external</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * @copyright  2015 Dani Palou &lt;dani@moodle.com&gt;</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> * @since      Moodle 3.1</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> */</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('mod_wiki_external')" href="../../../_classes/mod_wiki_external.html" onMouseOver="classPopup(event,'mod_wiki_external')">mod_wiki_external</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('external_api')" href="../../../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a> {
<a name="l43"><span class="linenum">  43</span></a>  
<a name="l44"><span class="linenum">  44</span></a>      <span class="comment">/**</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     * Describes the parameters for get_wikis_by_courses.</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     *</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">     */</span>
<a name="l50"><span class="linenum">  50</span></a>      public static function <a class="function" onClick="logFunction('get_wikis_by_courses_parameters')" href="../../../_functions/get_wikis_by_courses_parameters.html" onMouseOver="funcPopup(event,'get_wikis_by_courses_parameters')">get_wikis_by_courses_parameters</a>() {
<a name="l51"><span class="linenum">  51</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l52"><span class="linenum">  52</span></a>              array(
<a name="l53"><span class="linenum">  53</span></a>                  'courseids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l54"><span class="linenum">  54</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Course ID'), 'Array of course ids.', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()
<a name="l55"><span class="linenum">  55</span></a>                  ),
<a name="l56"><span class="linenum">  56</span></a>              )
<a name="l57"><span class="linenum">  57</span></a>          );
<a name="l58"><span class="linenum">  58</span></a>      }
<a name="l59"><span class="linenum">  59</span></a>  
<a name="l60"><span class="linenum">  60</span></a>      <span class="comment">/**</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">     * Returns a list of wikis in a provided list of courses,</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">     * if no list is provided all wikis that the user can view will be returned.</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">     *</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">     * @param array $courseids The courses IDs.</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     * @return array Containing a list of warnings and a list of wikis.</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">     */</span>
<a name="l68"><span class="linenum">  68</span></a>      public static function <a class="function" onClick="logFunction('get_wikis_by_courses')" href="../../../_functions/get_wikis_by_courses.html" onMouseOver="funcPopup(event,'get_wikis_by_courses')">get_wikis_by_courses</a>(<a class="var it2413" onMouseOver="hilite(2413)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../../../_variables/courseids.html">$courseids</a> = array()) {
<a name="l69"><span class="linenum">  69</span></a>  
<a name="l70"><span class="linenum">  70</span></a>          <a class="var it26784" onMouseOver="hilite(26784)" onMouseOut="lolite()" onClick="logVariable('returnedwikis')" href="../../../_variables/returnedwikis.html">$returnedwikis</a> = array();
<a name="l71"><span class="linenum">  71</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l72"><span class="linenum">  72</span></a>  
<a name="l73"><span class="linenum">  73</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_wikis_by_courses_parameters')" href="../../../_functions/get_wikis_by_courses_parameters.html" onMouseOver="funcPopup(event,'get_wikis_by_courses_parameters')">get_wikis_by_courses_parameters</a>(), array('courseids' =&gt; <a class="var it2413" onMouseOver="hilite(2413)" onMouseOut="lolite()" onClick="logVariable('courseids')" href="../../../_variables/courseids.html">$courseids</a>));
<a name="l74"><span class="linenum">  74</span></a>  
<a name="l75"><span class="linenum">  75</span></a>          <a class="var it3759" onMouseOver="hilite(3759)" onMouseOut="lolite()" onClick="logVariable('mycourses')" href="../../../_variables/mycourses.html">$mycourses</a> = array();
<a name="l76"><span class="linenum">  76</span></a>          if (empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['courseids'])) {
<a name="l77"><span class="linenum">  77</span></a>              <a class="var it3759" onMouseOver="hilite(3759)" onMouseOut="lolite()" onClick="logVariable('mycourses')" href="../../../_variables/mycourses.html">$mycourses</a> = <a class="function" onClick="logFunction('enrol_get_my_courses')" href="../../../_functions/enrol_get_my_courses.html" onMouseOver="funcPopup(event,'enrol_get_my_courses')">enrol_get_my_courses</a>();
<a name="l78"><span class="linenum">  78</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['courseids'] = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it3759" onMouseOver="hilite(3759)" onMouseOut="lolite()" onClick="logVariable('mycourses')" href="../../../_variables/mycourses.html">$mycourses</a>);
<a name="l79"><span class="linenum">  79</span></a>          }
<a name="l80"><span class="linenum">  80</span></a>  
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">        // Ensure there are courseids to loop through.</span>
<a name="l82"><span class="linenum">  82</span></a>          if (!empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['courseids'])) {
<a name="l83"><span class="linenum">  83</span></a>  
<a name="l84"><span class="linenum">  84</span></a>              <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../../_variables/courses.html">$courses</a>, <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>) = <a class="class" onClick="logClass('external_util')" href="../../../_classes/external_util.html" onMouseOver="classPopup(event,'external_util')">external_util</a>::<a class="function" onClick="logFunction('validate_courses')" href="../../../_functions/validate_courses.html" onMouseOver="funcPopup(event,'validate_courses')">validate_courses</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['courseids'], <a class="var it3759" onMouseOver="hilite(3759)" onMouseOut="lolite()" onClick="logVariable('mycourses')" href="../../../_variables/mycourses.html">$mycourses</a>);
<a name="l85"><span class="linenum">  85</span></a>  
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment">            // Get the wikis in this course, this function checks users visibility permissions.</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment">            // We can avoid then additional validate_context calls.</span>
<a name="l88"><span class="linenum">  88</span></a>              <a class="var it4443" onMouseOver="hilite(4443)" onMouseOut="lolite()" onClick="logVariable('wikis')" href="../../../_variables/wikis.html">$wikis</a> = <a class="function" onClick="logFunction('get_all_instances_in_courses')" href="../../../_functions/get_all_instances_in_courses.html" onMouseOver="funcPopup(event,'get_all_instances_in_courses')">get_all_instances_in_courses</a>('wiki', <a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../../_variables/courses.html">$courses</a>);
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>              foreach (<a class="var it4443" onMouseOver="hilite(4443)" onMouseOut="lolite()" onClick="logVariable('wikis')" href="../../../_variables/wikis.html">$wikis</a> as <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>) {
<a name="l91"><span class="linenum">  91</span></a>  
<a name="l92"><span class="linenum">  92</span></a>                  <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/coursemodule.html">coursemodule</a>);
<a name="l93"><span class="linenum">  93</span></a>  
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">                // Entry to return.</span>
<a name="l95"><span class="linenum">  95</span></a>                  <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a> = array();
<a name="l96"><span class="linenum">  96</span></a>  
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">                // First, we return information that any user can see in (or can deduce from) the web interface.</span>
<a name="l98"><span class="linenum">  98</span></a>                  <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>['id'] = <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('id')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l99"><span class="linenum">  99</span></a>                  <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>['coursemodule'] = <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('coursemodule')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/coursemodule.html">coursemodule</a>;
<a name="l100"><span class="linenum"> 100</span></a>                  <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>['course'] = <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('course')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/course.html">course</a>;
<a name="l101"><span class="linenum"> 101</span></a>                  <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>['name']  = <a class="function" onClick="logFunction('external_format_string')" href="../../../_functions/external_format_string.html" onMouseOver="funcPopup(event,'external_format_string')">external_format_string</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('name')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/name.html">name</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l102"><span class="linenum"> 102</span></a>  
<a name="l103"><span class="linenum"> 103</span></a>                  <a class="var it3761" onMouseOver="hilite(3761)" onMouseOut="lolite()" onClick="logVariable('viewablefields')" href="../../../_variables/viewablefields.html">$viewablefields</a> = [];
<a name="l104"><span class="linenum"> 104</span></a>                  if (<a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/wiki:viewpage', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>)) {
<a name="l105"><span class="linenum"> 105</span></a>                      <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>['intro'], <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>['introformat']) =
<a name="l106"><span class="linenum"> 106</span></a>                          <a class="function" onClick="logFunction('external_format_text')" href="../../../_functions/external_format_text.html" onMouseOver="funcPopup(event,'external_format_text')">external_format_text</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('intro')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/intro.html">intro</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('introformat')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/introformat.html">introformat</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, 'mod_wiki', 'intro', <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('id')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l107"><span class="linenum"> 107</span></a>                      <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>['introfiles'] = <a class="class" onClick="logClass('external_util')" href="../../../_classes/external_util.html" onMouseOver="classPopup(event,'external_util')">external_util</a>::<a class="function" onClick="logFunction('get_area_files')" href="../../../_functions/get_area_files.html" onMouseOver="funcPopup(event,'get_area_files')">get_area_files</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, 'mod_wiki', 'intro', false, false);
<a name="l108"><span class="linenum"> 108</span></a>  
<a name="l109"><span class="linenum"> 109</span></a>                      <a class="var it3761" onMouseOver="hilite(3761)" onMouseOut="lolite()" onClick="logVariable('viewablefields')" href="../../../_variables/viewablefields.html">$viewablefields</a> = array('firstpagetitle', 'wikimode', 'defaultformat', 'forceformat', 'editbegin', 'editend',
<a name="l110"><span class="linenum"> 110</span></a>                                              'section', 'visible', 'groupmode', 'groupingid');
<a name="l111"><span class="linenum"> 111</span></a>                  }
<a name="l112"><span class="linenum"> 112</span></a>  
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">                // Check additional permissions for returning optional private settings.</span>
<a name="l114"><span class="linenum"> 114</span></a>                  if (<a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:manageactivities', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>)) {
<a name="l115"><span class="linenum"> 115</span></a>                      <a class="var it3762" onMouseOver="hilite(3762)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../../../_variables/additionalfields.html">$additionalfields</a> = array('timecreated', 'timemodified');
<a name="l116"><span class="linenum"> 116</span></a>                      <a class="var it3761" onMouseOver="hilite(3761)" onMouseOut="lolite()" onClick="logVariable('viewablefields')" href="../../../_variables/viewablefields.html">$viewablefields</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it3761" onMouseOver="hilite(3761)" onMouseOut="lolite()" onClick="logVariable('viewablefields')" href="../../../_variables/viewablefields.html">$viewablefields</a>, <a class="var it3762" onMouseOver="hilite(3762)" onMouseOut="lolite()" onClick="logVariable('additionalfields')" href="../../../_variables/additionalfields.html">$additionalfields</a>);
<a name="l117"><span class="linenum"> 117</span></a>                  }
<a name="l118"><span class="linenum"> 118</span></a>  
<a name="l119"><span class="linenum"> 119</span></a>                  foreach (<a class="var it3761" onMouseOver="hilite(3761)" onMouseOut="lolite()" onClick="logVariable('viewablefields')" href="../../../_variables/viewablefields.html">$viewablefields</a> as <a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../_variables/field.html">$field</a>) {
<a name="l120"><span class="linenum"> 120</span></a>                      <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>[<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../_variables/field.html">$field</a>] = <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;{<a class="var it59" onMouseOver="hilite(59)" onMouseOut="lolite()" onClick="logVariable('field')" href="../../../_variables/field.html">$field</a>};
<a name="l121"><span class="linenum"> 121</span></a>                  }
<a name="l122"><span class="linenum"> 122</span></a>  
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">                // Check if user can add new pages.</span>
<a name="l124"><span class="linenum"> 124</span></a>                  <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>['cancreatepages'] = <a class="function" onClick="logFunction('wiki_can_create_pages')" href="../../../_functions/wiki_can_create_pages.html" onMouseOver="funcPopup(event,'wiki_can_create_pages')">wiki_can_create_pages</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l125"><span class="linenum"> 125</span></a>  
<a name="l126"><span class="linenum"> 126</span></a>                  <a class="var it26784" onMouseOver="hilite(26784)" onMouseOut="lolite()" onClick="logVariable('returnedwikis')" href="../../../_variables/returnedwikis.html">$returnedwikis</a>[] = <a class="var it994" onMouseOver="hilite(994)" onMouseOut="lolite()" onClick="logVariable('module')" href="../../../_variables/module.html">$module</a>;
<a name="l127"><span class="linenum"> 127</span></a>              }
<a name="l128"><span class="linenum"> 128</span></a>          }
<a name="l129"><span class="linenum"> 129</span></a>  
<a name="l130"><span class="linenum"> 130</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l131"><span class="linenum"> 131</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['wikis'] = <a class="var it26784" onMouseOver="hilite(26784)" onMouseOut="lolite()" onClick="logVariable('returnedwikis')" href="../../../_variables/returnedwikis.html">$returnedwikis</a>;
<a name="l132"><span class="linenum"> 132</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l133"><span class="linenum"> 133</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l134"><span class="linenum"> 134</span></a>      }
<a name="l135"><span class="linenum"> 135</span></a>  
<a name="l136"><span class="linenum"> 136</span></a>      <span class="comment">/**</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment">     * Describes the get_wikis_by_courses return value.</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">     *</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment">     */</span>
<a name="l142"><span class="linenum"> 142</span></a>      public static function <a class="function" onClick="logFunction('get_wikis_by_courses_returns')" href="../../../_functions/get_wikis_by_courses_returns.html" onMouseOver="funcPopup(event,'get_wikis_by_courses_returns')">get_wikis_by_courses_returns</a>() {
<a name="l143"><span class="linenum"> 143</span></a>  
<a name="l144"><span class="linenum"> 144</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l145"><span class="linenum"> 145</span></a>              array(
<a name="l146"><span class="linenum"> 146</span></a>                  'wikis' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l147"><span class="linenum"> 147</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l148"><span class="linenum"> 148</span></a>                          array(
<a name="l149"><span class="linenum"> 149</span></a>                              'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Wiki ID.'),
<a name="l150"><span class="linenum"> 150</span></a>                              'coursemodule' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Course module ID.'),
<a name="l151"><span class="linenum"> 151</span></a>                              'course' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Course ID.'),
<a name="l152"><span class="linenum"> 152</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Wiki name.'),
<a name="l153"><span class="linenum"> 153</span></a>                              'intro' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Wiki intro.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l154"><span class="linenum"> 154</span></a>                              'introformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../../../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>('Wiki intro format.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l155"><span class="linenum"> 155</span></a>                              'introfiles' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_files')" href="../../../_classes/external_files.html" onMouseOver="classPopup(event,'external_files')">external_files</a>('Files in the introduction text', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l156"><span class="linenum"> 156</span></a>                              'timecreated' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Time of creation.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l157"><span class="linenum"> 157</span></a>                              'timemodified' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Time of last modification.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l158"><span class="linenum"> 158</span></a>                              'firstpagetitle' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'First page title.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l159"><span class="linenum"> 159</span></a>                              'wikimode' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Wiki <a class="function" onClick="logFunction('mode')" href="../../../_functions/mode.html" onMouseOver="funcPopup(event,'mode')">mode</a> (individual, collaborative).', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l160"><span class="linenum"> 160</span></a>                              'defaultformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Wiki\'s default <a class="function" onClick="logFunction('format')" href="../../../_functions/format.html" onMouseOver="funcPopup(event,'format')">format</a> (html, creole, nwiki).',
<a name="l161"><span class="linenum"> 161</span></a>                                                                              <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l162"><span class="linenum"> 162</span></a>                              'forceformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '1 if format is forced, 0 otherwise.',
<a name="l163"><span class="linenum"> 163</span></a>                                                                              <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l164"><span class="linenum"> 164</span></a>                              'editbegin' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Edit begin.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l165"><span class="linenum"> 165</span></a>                              'editend' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Edit end.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l166"><span class="linenum"> 166</span></a>                              'section' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Course section ID.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l167"><span class="linenum"> 167</span></a>                              'visible' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '1 if visible, 0 otherwise.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l168"><span class="linenum"> 168</span></a>                              'groupmode' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Group mode.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l169"><span class="linenum"> 169</span></a>                              'groupingid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Group ID.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l170"><span class="linenum"> 170</span></a>                              'cancreatepages' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'True if user can create pages.'),
<a name="l171"><span class="linenum"> 171</span></a>                          ), 'Wikis'
<a name="l172"><span class="linenum"> 172</span></a>                      )
<a name="l173"><span class="linenum"> 173</span></a>                  ),
<a name="l174"><span class="linenum"> 174</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l175"><span class="linenum"> 175</span></a>              )
<a name="l176"><span class="linenum"> 176</span></a>          );
<a name="l177"><span class="linenum"> 177</span></a>      }
<a name="l178"><span class="linenum"> 178</span></a>  
<a name="l179"><span class="linenum"> 179</span></a>      <span class="comment">/**</span>
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment">     * Describes the parameters for view_wiki.</span>
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment">     *</span>
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l183"><span class="linenum"> 183</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l184"><span class="linenum"> 184</span></a>  <span class="comment">     */</span>
<a name="l185"><span class="linenum"> 185</span></a>      public static function <a class="function" onClick="logFunction('view_wiki_parameters')" href="../../../_functions/view_wiki_parameters.html" onMouseOver="funcPopup(event,'view_wiki_parameters')">view_wiki_parameters</a>() {
<a name="l186"><span class="linenum"> 186</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l187"><span class="linenum"> 187</span></a>              array(
<a name="l188"><span class="linenum"> 188</span></a>                  'wikiid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Wiki instance ID.')
<a name="l189"><span class="linenum"> 189</span></a>              )
<a name="l190"><span class="linenum"> 190</span></a>          );
<a name="l191"><span class="linenum"> 191</span></a>      }
<a name="l192"><span class="linenum"> 192</span></a>  
<a name="l193"><span class="linenum"> 193</span></a>      <span class="comment">/**</span>
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment">     * Trigger the course module viewed event and update the module completion status.</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment">     *</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">     * @param int $wikiid The wiki instance ID.</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">     * @return array of warnings and status result.</span>
<a name="l198"><span class="linenum"> 198</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l199"><span class="linenum"> 199</span></a>  <span class="comment">     */</span>
<a name="l200"><span class="linenum"> 200</span></a>      public static function <a class="function" onClick="logFunction('view_wiki')" href="../../../_functions/view_wiki.html" onMouseOver="funcPopup(event,'view_wiki')">view_wiki</a>(<a class="var it984" onMouseOver="hilite(984)" onMouseOut="lolite()" onClick="logVariable('wikiid')" href="../../../_variables/wikiid.html">$wikiid</a>) {
<a name="l201"><span class="linenum"> 201</span></a>  
<a name="l202"><span class="linenum"> 202</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('view_wiki_parameters')" href="../../../_functions/view_wiki_parameters.html" onMouseOver="funcPopup(event,'view_wiki_parameters')">view_wiki_parameters</a>(),
<a name="l203"><span class="linenum"> 203</span></a>                                              array(
<a name="l204"><span class="linenum"> 204</span></a>                                                  'wikiid' =&gt; <a class="var it984" onMouseOver="hilite(984)" onMouseOut="lolite()" onClick="logVariable('wikiid')" href="../../../_variables/wikiid.html">$wikiid</a>
<a name="l205"><span class="linenum"> 205</span></a>                                              ));
<a name="l206"><span class="linenum"> 206</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l207"><span class="linenum"> 207</span></a>  
<a name="l208"><span class="linenum"> 208</span></a>  <span class="comment">        // Get wiki instance.</span>
<a name="l209"><span class="linenum"> 209</span></a>          if (!<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a> = <a class="function" onClick="logFunction('wiki_get_wiki')" href="../../../_functions/wiki_get_wiki.html" onMouseOver="funcPopup(event,'wiki_get_wiki')">wiki_get_wiki</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['wikiid'])) {
<a name="l210"><span class="linenum"> 210</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectwikiid', 'wiki');
<a name="l211"><span class="linenum"> 211</span></a>          }
<a name="l212"><span class="linenum"> 212</span></a>  
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment">        // Permission validation.</span>
<a name="l214"><span class="linenum"> 214</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>) = <a class="function" onClick="logFunction('get_course_and_cm_from_instance')" href="../../../_functions/get_course_and_cm_from_instance.html" onMouseOver="funcPopup(event,'get_course_and_cm_from_instance')">get_course_and_cm_from_instance</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>, 'wiki');
<a name="l215"><span class="linenum"> 215</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l216"><span class="linenum"> 216</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l217"><span class="linenum"> 217</span></a>  
<a name="l218"><span class="linenum"> 218</span></a>  <span class="comment">        // Check if user can view this wiki.</span>
<a name="l219"><span class="linenum"> 219</span></a>  <span class="comment">        // We don't use wiki_user_can_view because it requires to have a valid subwiki for the user.</span>
<a name="l220"><span class="linenum"> 220</span></a>          if (!<a class="function" onClick="logFunction('has_capability')" href="../../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/wiki:viewpage', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>)) {
<a name="l221"><span class="linenum"> 221</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('cannotviewpage', 'wiki');
<a name="l222"><span class="linenum"> 222</span></a>          }
<a name="l223"><span class="linenum"> 223</span></a>  
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment">        // Trigger course_module_viewed event and completion.</span>
<a name="l225"><span class="linenum"> 225</span></a>          <a class="function" onClick="logFunction('wiki_view')" href="../../../_functions/wiki_view.html" onMouseOver="funcPopup(event,'wiki_view')">wiki_view</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l226"><span class="linenum"> 226</span></a>  
<a name="l227"><span class="linenum"> 227</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l228"><span class="linenum"> 228</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['status'] = true;
<a name="l229"><span class="linenum"> 229</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l230"><span class="linenum"> 230</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l231"><span class="linenum"> 231</span></a>      }
<a name="l232"><span class="linenum"> 232</span></a>  
<a name="l233"><span class="linenum"> 233</span></a>      <span class="comment">/**</span>
<a name="l234"><span class="linenum"> 234</span></a>  <span class="comment">     * Describes the view_wiki return value.</span>
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">     *</span>
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l238"><span class="linenum"> 238</span></a>  <span class="comment">     */</span>
<a name="l239"><span class="linenum"> 239</span></a>      public static function <a class="function" onClick="logFunction('view_wiki_returns')" href="../../../_functions/view_wiki_returns.html" onMouseOver="funcPopup(event,'view_wiki_returns')">view_wiki_returns</a>() {
<a name="l240"><span class="linenum"> 240</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l241"><span class="linenum"> 241</span></a>              array(
<a name="l242"><span class="linenum"> 242</span></a>                  'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Status: true if success.'),
<a name="l243"><span class="linenum"> 243</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l244"><span class="linenum"> 244</span></a>              )
<a name="l245"><span class="linenum"> 245</span></a>          );
<a name="l246"><span class="linenum"> 246</span></a>      }
<a name="l247"><span class="linenum"> 247</span></a>  
<a name="l248"><span class="linenum"> 248</span></a>      <span class="comment">/**</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">     * Describes the parameters for view_page.</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">     *</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment">     */</span>
<a name="l254"><span class="linenum"> 254</span></a>      public static function <a class="function" onClick="logFunction('view_page_parameters')" href="../../../_functions/view_page_parameters.html" onMouseOver="funcPopup(event,'view_page_parameters')">view_page_parameters</a>() {
<a name="l255"><span class="linenum"> 255</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l256"><span class="linenum"> 256</span></a>              array(
<a name="l257"><span class="linenum"> 257</span></a>                  'pageid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Wiki page ID.'),
<a name="l258"><span class="linenum"> 258</span></a>              )
<a name="l259"><span class="linenum"> 259</span></a>          );
<a name="l260"><span class="linenum"> 260</span></a>      }
<a name="l261"><span class="linenum"> 261</span></a>  
<a name="l262"><span class="linenum"> 262</span></a>      <span class="comment">/**</span>
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">     * Trigger the page viewed event and update the module completion status.</span>
<a name="l264"><span class="linenum"> 264</span></a>  <span class="comment">     *</span>
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">     * @param int $pageid The page ID.</span>
<a name="l266"><span class="linenum"> 266</span></a>  <span class="comment">     * @return array of warnings and status result.</span>
<a name="l267"><span class="linenum"> 267</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l268"><span class="linenum"> 268</span></a>  <span class="comment">     * @throws moodle_exception if page is not valid.</span>
<a name="l269"><span class="linenum"> 269</span></a>  <span class="comment">     */</span>
<a name="l270"><span class="linenum"> 270</span></a>      public static function <a class="function" onClick="logFunction('view_page')" href="../../../_functions/view_page.html" onMouseOver="funcPopup(event,'view_page')">view_page</a>(<a class="var it987" onMouseOver="hilite(987)" onMouseOut="lolite()" onClick="logVariable('pageid')" href="../../../_variables/pageid.html">$pageid</a>) {
<a name="l271"><span class="linenum"> 271</span></a>  
<a name="l272"><span class="linenum"> 272</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('view_page_parameters')" href="../../../_functions/view_page_parameters.html" onMouseOver="funcPopup(event,'view_page_parameters')">view_page_parameters</a>(),
<a name="l273"><span class="linenum"> 273</span></a>                                              array(
<a name="l274"><span class="linenum"> 274</span></a>                                                  'pageid' =&gt; <a class="var it987" onMouseOver="hilite(987)" onMouseOut="lolite()" onClick="logVariable('pageid')" href="../../../_variables/pageid.html">$pageid</a>
<a name="l275"><span class="linenum"> 275</span></a>                                              ));
<a name="l276"><span class="linenum"> 276</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l277"><span class="linenum"> 277</span></a>  
<a name="l278"><span class="linenum"> 278</span></a>  <span class="comment">        // Get wiki page.</span>
<a name="l279"><span class="linenum"> 279</span></a>          if (!<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> = <a class="function" onClick="logFunction('wiki_get_page')" href="../../../_functions/wiki_get_page.html" onMouseOver="funcPopup(event,'wiki_get_page')">wiki_get_page</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['pageid'])) {
<a name="l280"><span class="linenum"> 280</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectpageid', 'wiki');
<a name="l281"><span class="linenum"> 281</span></a>          }
<a name="l282"><span class="linenum"> 282</span></a>  
<a name="l283"><span class="linenum"> 283</span></a>  <span class="comment">        // Get wiki instance.</span>
<a name="l284"><span class="linenum"> 284</span></a>          if (!<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a> = <a class="function" onClick="logFunction('wiki_get_wiki_from_pageid')" href="../../../_functions/wiki_get_wiki_from_pageid.html" onMouseOver="funcPopup(event,'wiki_get_wiki_from_pageid')">wiki_get_wiki_from_pageid</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['pageid'])) {
<a name="l285"><span class="linenum"> 285</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectwikiid', 'wiki');
<a name="l286"><span class="linenum"> 286</span></a>          }
<a name="l287"><span class="linenum"> 287</span></a>  
<a name="l288"><span class="linenum"> 288</span></a>  <span class="comment">        // Permission validation.</span>
<a name="l289"><span class="linenum"> 289</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>) = <a class="function" onClick="logFunction('get_course_and_cm_from_instance')" href="../../../_functions/get_course_and_cm_from_instance.html" onMouseOver="funcPopup(event,'get_course_and_cm_from_instance')">get_course_and_cm_from_instance</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>, 'wiki');
<a name="l290"><span class="linenum"> 290</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l291"><span class="linenum"> 291</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l292"><span class="linenum"> 292</span></a>  
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment">        // Check if user can view this wiki.</span>
<a name="l294"><span class="linenum"> 294</span></a>          if (!<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a> = <a class="function" onClick="logFunction('wiki_get_subwiki')" href="../../../_functions/wiki_get_subwiki.html" onMouseOver="funcPopup(event,'wiki_get_subwiki')">wiki_get_subwiki</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('subwikiid')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/subwikiid.html">subwikiid</a>)) {
<a name="l295"><span class="linenum"> 295</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectsubwikiid', 'wiki');
<a name="l296"><span class="linenum"> 296</span></a>          }
<a name="l297"><span class="linenum"> 297</span></a>          if (!<a class="function" onClick="logFunction('wiki_user_can_view')" href="../../../_functions/wiki_user_can_view.html" onMouseOver="funcPopup(event,'wiki_user_can_view')">wiki_user_can_view</a>(<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>)) {
<a name="l298"><span class="linenum"> 298</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('cannotviewpage', 'wiki');
<a name="l299"><span class="linenum"> 299</span></a>          }
<a name="l300"><span class="linenum"> 300</span></a>  
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">        // Trigger page_viewed event and completion.</span>
<a name="l302"><span class="linenum"> 302</span></a>          <a class="function" onClick="logFunction('wiki_page_view')" href="../../../_functions/wiki_page_view.html" onMouseOver="funcPopup(event,'wiki_page_view')">wiki_page_view</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>, <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l303"><span class="linenum"> 303</span></a>  
<a name="l304"><span class="linenum"> 304</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l305"><span class="linenum"> 305</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['status'] = true;
<a name="l306"><span class="linenum"> 306</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l307"><span class="linenum"> 307</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l308"><span class="linenum"> 308</span></a>      }
<a name="l309"><span class="linenum"> 309</span></a>  
<a name="l310"><span class="linenum"> 310</span></a>      <span class="comment">/**</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">     * Describes the view_page return value.</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">     *</span>
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">     */</span>
<a name="l316"><span class="linenum"> 316</span></a>      public static function <a class="function" onClick="logFunction('view_page_returns')" href="../../../_functions/view_page_returns.html" onMouseOver="funcPopup(event,'view_page_returns')">view_page_returns</a>() {
<a name="l317"><span class="linenum"> 317</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l318"><span class="linenum"> 318</span></a>              array(
<a name="l319"><span class="linenum"> 319</span></a>                  'status' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'Status: true if success.'),
<a name="l320"><span class="linenum"> 320</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l321"><span class="linenum"> 321</span></a>              )
<a name="l322"><span class="linenum"> 322</span></a>          );
<a name="l323"><span class="linenum"> 323</span></a>      }
<a name="l324"><span class="linenum"> 324</span></a>  
<a name="l325"><span class="linenum"> 325</span></a>      <span class="comment">/**</span>
<a name="l326"><span class="linenum"> 326</span></a>  <span class="comment">     * Describes the parameters for get_subwikis.</span>
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment">     *</span>
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment">     */</span>
<a name="l331"><span class="linenum"> 331</span></a>      public static function <a class="function" onClick="logFunction('get_subwikis_parameters')" href="../../../_functions/get_subwikis_parameters.html" onMouseOver="funcPopup(event,'get_subwikis_parameters')">get_subwikis_parameters</a>() {
<a name="l332"><span class="linenum"> 332</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l333"><span class="linenum"> 333</span></a>              array(
<a name="l334"><span class="linenum"> 334</span></a>                  'wikiid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Wiki instance ID.')
<a name="l335"><span class="linenum"> 335</span></a>              )
<a name="l336"><span class="linenum"> 336</span></a>          );
<a name="l337"><span class="linenum"> 337</span></a>      }
<a name="l338"><span class="linenum"> 338</span></a>  
<a name="l339"><span class="linenum"> 339</span></a>      <span class="comment">/**</span>
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment">     * Returns the list of subwikis the user can see in a specific wiki.</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment">     *</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment">     * @param int $wikiid The wiki instance ID.</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment">     * @return array Containing a list of warnings and a list of subwikis.</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l345"><span class="linenum"> 345</span></a>  <span class="comment">     */</span>
<a name="l346"><span class="linenum"> 346</span></a>      public static function <a class="function" onClick="logFunction('get_subwikis')" href="../../../_functions/get_subwikis.html" onMouseOver="funcPopup(event,'get_subwikis')">get_subwikis</a>(<a class="var it984" onMouseOver="hilite(984)" onMouseOut="lolite()" onClick="logVariable('wikiid')" href="../../../_variables/wikiid.html">$wikiid</a>) {
<a name="l347"><span class="linenum"> 347</span></a>          global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l348"><span class="linenum"> 348</span></a>  
<a name="l349"><span class="linenum"> 349</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l350"><span class="linenum"> 350</span></a>  
<a name="l351"><span class="linenum"> 351</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_subwikis_parameters')" href="../../../_functions/get_subwikis_parameters.html" onMouseOver="funcPopup(event,'get_subwikis_parameters')">get_subwikis_parameters</a>(), array('wikiid' =&gt; <a class="var it984" onMouseOver="hilite(984)" onMouseOut="lolite()" onClick="logVariable('wikiid')" href="../../../_variables/wikiid.html">$wikiid</a>));
<a name="l352"><span class="linenum"> 352</span></a>  
<a name="l353"><span class="linenum"> 353</span></a>  <span class="comment">        // Get wiki instance.</span>
<a name="l354"><span class="linenum"> 354</span></a>          if (!<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a> = <a class="function" onClick="logFunction('wiki_get_wiki')" href="../../../_functions/wiki_get_wiki.html" onMouseOver="funcPopup(event,'wiki_get_wiki')">wiki_get_wiki</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['wikiid'])) {
<a name="l355"><span class="linenum"> 355</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectwikiid', 'wiki');
<a name="l356"><span class="linenum"> 356</span></a>          }
<a name="l357"><span class="linenum"> 357</span></a>  
<a name="l358"><span class="linenum"> 358</span></a>  <span class="comment">        // Validate context and capabilities.</span>
<a name="l359"><span class="linenum"> 359</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>) = <a class="function" onClick="logFunction('get_course_and_cm_from_instance')" href="../../../_functions/get_course_and_cm_from_instance.html" onMouseOver="funcPopup(event,'get_course_and_cm_from_instance')">get_course_and_cm_from_instance</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>, 'wiki');
<a name="l360"><span class="linenum"> 360</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l361"><span class="linenum"> 361</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l362"><span class="linenum"> 362</span></a>          <a class="function" onClick="logFunction('require_capability')" href="../../../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('mod/wiki:viewpage', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l363"><span class="linenum"> 363</span></a>  
<a name="l364"><span class="linenum"> 364</span></a>          <a class="var it26785" onMouseOver="hilite(26785)" onMouseOut="lolite()" onClick="logVariable('returnedsubwikis')" href="../../../_variables/returnedsubwikis.html">$returnedsubwikis</a> = <a class="function" onClick="logFunction('wiki_get_visible_subwikis')" href="../../../_functions/wiki_get_visible_subwikis.html" onMouseOver="funcPopup(event,'wiki_get_visible_subwikis')">wiki_get_visible_subwikis</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l365"><span class="linenum"> 365</span></a>          foreach (<a class="var it26785" onMouseOver="hilite(26785)" onMouseOut="lolite()" onClick="logVariable('returnedsubwikis')" href="../../../_variables/returnedsubwikis.html">$returnedsubwikis</a> as <a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>) {
<a name="l366"><span class="linenum"> 366</span></a>              <a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>-&gt;<a onClick="logVariable('canedit')" class="var it44929" onMouseOver="hilite(44929)" onMouseOut="lolite()" href="../../../_variables/canedit.html">canedit</a> = <a class="function" onClick="logFunction('wiki_user_can_edit')" href="../../../_functions/wiki_user_can_edit.html" onMouseOver="funcPopup(event,'wiki_user_can_edit')">wiki_user_can_edit</a>(<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>);
<a name="l367"><span class="linenum"> 367</span></a>          }
<a name="l368"><span class="linenum"> 368</span></a>  
<a name="l369"><span class="linenum"> 369</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l370"><span class="linenum"> 370</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['subwikis'] = <a class="var it26785" onMouseOver="hilite(26785)" onMouseOut="lolite()" onClick="logVariable('returnedsubwikis')" href="../../../_variables/returnedsubwikis.html">$returnedsubwikis</a>;
<a name="l371"><span class="linenum"> 371</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l372"><span class="linenum"> 372</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l373"><span class="linenum"> 373</span></a>      }
<a name="l374"><span class="linenum"> 374</span></a>  
<a name="l375"><span class="linenum"> 375</span></a>      <span class="comment">/**</span>
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment">     * Describes the get_subwikis return value.</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment">     *</span>
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l380"><span class="linenum"> 380</span></a>  <span class="comment">     */</span>
<a name="l381"><span class="linenum"> 381</span></a>      public static function <a class="function" onClick="logFunction('get_subwikis_returns')" href="../../../_functions/get_subwikis_returns.html" onMouseOver="funcPopup(event,'get_subwikis_returns')">get_subwikis_returns</a>() {
<a name="l382"><span class="linenum"> 382</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l383"><span class="linenum"> 383</span></a>              array(
<a name="l384"><span class="linenum"> 384</span></a>                  'subwikis' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l385"><span class="linenum"> 385</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l386"><span class="linenum"> 386</span></a>                          array(
<a name="l387"><span class="linenum"> 387</span></a>                              'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Subwiki ID.'),
<a name="l388"><span class="linenum"> 388</span></a>                              'wikiid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Wiki ID.'),
<a name="l389"><span class="linenum"> 389</span></a>                              'groupid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Group ID.'),
<a name="l390"><span class="linenum"> 390</span></a>                              'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'User ID.'),
<a name="l391"><span class="linenum"> 391</span></a>                              'canedit' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'True if user can edit the subwiki.'),
<a name="l392"><span class="linenum"> 392</span></a>                          ), 'Subwikis'
<a name="l393"><span class="linenum"> 393</span></a>                      )
<a name="l394"><span class="linenum"> 394</span></a>                  ),
<a name="l395"><span class="linenum"> 395</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l396"><span class="linenum"> 396</span></a>              )
<a name="l397"><span class="linenum"> 397</span></a>          );
<a name="l398"><span class="linenum"> 398</span></a>      }
<a name="l399"><span class="linenum"> 399</span></a>  
<a name="l400"><span class="linenum"> 400</span></a>      <span class="comment">/**</span>
<a name="l401"><span class="linenum"> 401</span></a>  <span class="comment">     * Describes the parameters for get_subwiki_pages.</span>
<a name="l402"><span class="linenum"> 402</span></a>  <span class="comment">     *</span>
<a name="l403"><span class="linenum"> 403</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l405"><span class="linenum"> 405</span></a>  <span class="comment">     */</span>
<a name="l406"><span class="linenum"> 406</span></a>      public static function <a class="function" onClick="logFunction('get_subwiki_pages_parameters')" href="../../../_functions/get_subwiki_pages_parameters.html" onMouseOver="funcPopup(event,'get_subwiki_pages_parameters')">get_subwiki_pages_parameters</a>() {
<a name="l407"><span class="linenum"> 407</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l408"><span class="linenum"> 408</span></a>              array(
<a name="l409"><span class="linenum"> 409</span></a>                  'wikiid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Wiki instance ID.'),
<a name="l410"><span class="linenum"> 410</span></a>                  'groupid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Subwiki\'s group ID, -1 means current group. It will be ignored'
<a name="l411"><span class="linenum"> 411</span></a>                                          . ' if the wiki doesn\'t use groups.', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, -1),
<a name="l412"><span class="linenum"> 412</span></a>                  'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Subwiki\'s user ID, 0 means current user. It will be ignored'
<a name="l413"><span class="linenum"> 413</span></a>                                          .' in collaborative wikis.', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 0),
<a name="l414"><span class="linenum"> 414</span></a>                  'options' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l415"><span class="linenum"> 415</span></a>                              array(
<a name="l416"><span class="linenum"> 416</span></a>                                      'sortby' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../../../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>,
<a name="l417"><span class="linenum"> 417</span></a>                                              'Field to sort by (id, title, ...).', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 'title'),
<a name="l418"><span class="linenum"> 418</span></a>                                      'sortdirection' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHA')" href="../../../_constants/PARAM_ALPHA.html" onMouseOver="constPopup(event,'PARAM_ALPHA')">PARAM_ALPHA</a>,
<a name="l419"><span class="linenum"> 419</span></a>                                              'Sort direction: ASC or DESC.', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 'ASC'),
<a name="l420"><span class="linenum"> 420</span></a>                                      'includecontent' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>,
<a name="l421"><span class="linenum"> 421</span></a>                                              'Include each page contents or just the contents size.', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 1),
<a name="l422"><span class="linenum"> 422</span></a>                              ), 'Options', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()),
<a name="l423"><span class="linenum"> 423</span></a>              )
<a name="l424"><span class="linenum"> 424</span></a>          );
<a name="l425"><span class="linenum"> 425</span></a>      }
<a name="l426"><span class="linenum"> 426</span></a>  
<a name="l427"><span class="linenum"> 427</span></a>      <span class="comment">/**</span>
<a name="l428"><span class="linenum"> 428</span></a>  <span class="comment">     * Returns the list of pages from a specific subwiki.</span>
<a name="l429"><span class="linenum"> 429</span></a>  <span class="comment">     *</span>
<a name="l430"><span class="linenum"> 430</span></a>  <span class="comment">     * @param int $wikiid The wiki instance ID.</span>
<a name="l431"><span class="linenum"> 431</span></a>  <span class="comment">     * @param int $groupid The group ID. If not defined, use current group.</span>
<a name="l432"><span class="linenum"> 432</span></a>  <span class="comment">     * @param int $userid The user ID. If not defined, use current user.</span>
<a name="l433"><span class="linenum"> 433</span></a>  <span class="comment">     * @param array $options Several options like sort by, sort direction, ...</span>
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment">     * @return array Containing a list of warnings and a list of pages.</span>
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l436"><span class="linenum"> 436</span></a>  <span class="comment">     */</span>
<a name="l437"><span class="linenum"> 437</span></a>      public static function <a class="function" onClick="logFunction('get_subwiki_pages')" href="../../../_functions/get_subwiki_pages.html" onMouseOver="funcPopup(event,'get_subwiki_pages')">get_subwiki_pages</a>(<a class="var it984" onMouseOver="hilite(984)" onMouseOut="lolite()" onClick="logVariable('wikiid')" href="../../../_variables/wikiid.html">$wikiid</a>, <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a> = -1, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a> = 0, <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a> = array()) {
<a name="l438"><span class="linenum"> 438</span></a>  
<a name="l439"><span class="linenum"> 439</span></a>          <a class="var it26786" onMouseOver="hilite(26786)" onMouseOut="lolite()" onClick="logVariable('returnedpages')" href="../../../_variables/returnedpages.html">$returnedpages</a> = array();
<a name="l440"><span class="linenum"> 440</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l441"><span class="linenum"> 441</span></a>  
<a name="l442"><span class="linenum"> 442</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_subwiki_pages_parameters')" href="../../../_functions/get_subwiki_pages_parameters.html" onMouseOver="funcPopup(event,'get_subwiki_pages_parameters')">get_subwiki_pages_parameters</a>(),
<a name="l443"><span class="linenum"> 443</span></a>                                              array(
<a name="l444"><span class="linenum"> 444</span></a>                                                  'wikiid' =&gt; <a class="var it984" onMouseOver="hilite(984)" onMouseOut="lolite()" onClick="logVariable('wikiid')" href="../../../_variables/wikiid.html">$wikiid</a>,
<a name="l445"><span class="linenum"> 445</span></a>                                                  'groupid' =&gt; <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a>,
<a name="l446"><span class="linenum"> 446</span></a>                                                  'userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a>,
<a name="l447"><span class="linenum"> 447</span></a>                                                  'options' =&gt; <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>
<a name="l448"><span class="linenum"> 448</span></a>                                                  )
<a name="l449"><span class="linenum"> 449</span></a>              );
<a name="l450"><span class="linenum"> 450</span></a>  
<a name="l451"><span class="linenum"> 451</span></a>  <span class="comment">        // Get wiki instance.</span>
<a name="l452"><span class="linenum"> 452</span></a>          if (!<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a> = <a class="function" onClick="logFunction('wiki_get_wiki')" href="../../../_functions/wiki_get_wiki.html" onMouseOver="funcPopup(event,'wiki_get_wiki')">wiki_get_wiki</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['wikiid'])) {
<a name="l453"><span class="linenum"> 453</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectwikiid', 'wiki');
<a name="l454"><span class="linenum"> 454</span></a>          }
<a name="l455"><span class="linenum"> 455</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>) = <a class="function" onClick="logFunction('get_course_and_cm_from_instance')" href="../../../_functions/get_course_and_cm_from_instance.html" onMouseOver="funcPopup(event,'get_course_and_cm_from_instance')">get_course_and_cm_from_instance</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>, 'wiki');
<a name="l456"><span class="linenum"> 456</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l457"><span class="linenum"> 457</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l458"><span class="linenum"> 458</span></a>  
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment">        // Determine groupid and userid to use.</span>
<a name="l460"><span class="linenum"> 460</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a>) = self::<a class="function" onClick="logFunction('determine_group_and_user')" href="../../../_functions/determine_group_and_user.html" onMouseOver="funcPopup(event,'determine_group_and_user')">determine_group_and_user</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['groupid'], <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['userid']);
<a name="l461"><span class="linenum"> 461</span></a>  
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment">        // Get subwiki and validate it.</span>
<a name="l463"><span class="linenum"> 463</span></a>          <a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a> = <a class="function" onClick="logFunction('wiki_get_subwiki_by_group_and_user_with_validation')" href="../../../_functions/wiki_get_subwiki_by_group_and_user_with_validation.html" onMouseOver="funcPopup(event,'wiki_get_subwiki_by_group_and_user_with_validation')">wiki_get_subwiki_by_group_and_user_with_validation</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>, <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a>);
<a name="l464"><span class="linenum"> 464</span></a>  
<a name="l465"><span class="linenum"> 465</span></a>          if (<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a> === false) {
<a name="l466"><span class="linenum"> 466</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('cannotviewpage', 'wiki');
<a name="l467"><span class="linenum"> 467</span></a>          } else if (<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>-&gt;<a onClick="logVariable('id')" class="var it44929" onMouseOver="hilite(44929)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a> != -1) {
<a name="l468"><span class="linenum"> 468</span></a>  
<a name="l469"><span class="linenum"> 469</span></a>  <span class="comment">            // Set sort param.</span>
<a name="l470"><span class="linenum"> 470</span></a>              <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a> = <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['options'];
<a name="l471"><span class="linenum"> 471</span></a>              if (!empty(<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>['sortby'])) {
<a name="l472"><span class="linenum"> 472</span></a>                  if (<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>['sortdirection'] != 'ASC' &amp;&amp; <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>['sortdirection'] != 'DESC') {
<a name="l473"><span class="linenum"> 473</span></a>  <span class="comment">                    // Invalid sort direction. Use default.</span>
<a name="l474"><span class="linenum"> 474</span></a>                      <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>['sortdirection'] = 'ASC';
<a name="l475"><span class="linenum"> 475</span></a>                  }
<a name="l476"><span class="linenum"> 476</span></a>                  <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../../_variables/sort.html">$sort</a> = <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>['sortby'] . ' ' . <a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>['sortdirection'];
<a name="l477"><span class="linenum"> 477</span></a>              }
<a name="l478"><span class="linenum"> 478</span></a>  
<a name="l479"><span class="linenum"> 479</span></a>              <a class="var it286" onMouseOver="hilite(286)" onMouseOut="lolite()" onClick="logVariable('pages')" href="../../../_variables/pages.html">$pages</a> = <a class="function" onClick="logFunction('wiki_get_page_list')" href="../../../_functions/wiki_get_page_list.html" onMouseOver="funcPopup(event,'wiki_get_page_list')">wiki_get_page_list</a>(<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>-&gt;<a onClick="logVariable('id')" class="var it44929" onMouseOver="hilite(44929)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it1015" onMouseOver="hilite(1015)" onMouseOut="lolite()" onClick="logVariable('sort')" href="../../../_variables/sort.html">$sort</a>);
<a name="l480"><span class="linenum"> 480</span></a>              <a class="var it26787" onMouseOver="hilite(26787)" onMouseOut="lolite()" onClick="logVariable('caneditpages')" href="../../../_variables/caneditpages.html">$caneditpages</a> = <a class="function" onClick="logFunction('wiki_user_can_edit')" href="../../../_functions/wiki_user_can_edit.html" onMouseOver="funcPopup(event,'wiki_user_can_edit')">wiki_user_can_edit</a>(<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>);
<a name="l481"><span class="linenum"> 481</span></a>              <a class="var it20898" onMouseOver="hilite(20898)" onMouseOut="lolite()" onClick="logVariable('firstpage')" href="../../../_variables/firstpage.html">$firstpage</a> = <a class="function" onClick="logFunction('wiki_get_first_page')" href="../../../_functions/wiki_get_first_page.html" onMouseOver="funcPopup(event,'wiki_get_first_page')">wiki_get_first_page</a>(<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>-&gt;<a onClick="logVariable('id')" class="var it44929" onMouseOver="hilite(44929)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l482"><span class="linenum"> 482</span></a>  
<a name="l483"><span class="linenum"> 483</span></a>              foreach (<a class="var it286" onMouseOver="hilite(286)" onMouseOut="lolite()" onClick="logVariable('pages')" href="../../../_variables/pages.html">$pages</a> as <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>) {
<a name="l484"><span class="linenum"> 484</span></a>                  <a class="var it26788" onMouseOver="hilite(26788)" onMouseOut="lolite()" onClick="logVariable('retpage')" href="../../../_variables/retpage.html">$retpage</a> = array(
<a name="l485"><span class="linenum"> 485</span></a>                          'id' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('id')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>,
<a name="l486"><span class="linenum"> 486</span></a>                          'subwikiid' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('subwikiid')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/subwikiid.html">subwikiid</a>,
<a name="l487"><span class="linenum"> 487</span></a>                          'title' =&gt; <a class="function" onClick="logFunction('external_format_string')" href="../../../_functions/external_format_string.html" onMouseOver="funcPopup(event,'external_format_string')">external_format_string</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('title')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/title.html">title</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>),
<a name="l488"><span class="linenum"> 488</span></a>                          'timecreated' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('timecreated')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/timecreated.html">timecreated</a>,
<a name="l489"><span class="linenum"> 489</span></a>                          'timemodified' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('timemodified')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/timemodified.html">timemodified</a>,
<a name="l490"><span class="linenum"> 490</span></a>                          'timerendered' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('timerendered')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/timerendered.html">timerendered</a>,
<a name="l491"><span class="linenum"> 491</span></a>                          'userid' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('userid')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/userid.html">userid</a>,
<a name="l492"><span class="linenum"> 492</span></a>                          'pageviews' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('pageviews')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/pageviews.html">pageviews</a>,
<a name="l493"><span class="linenum"> 493</span></a>                          'readonly' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('readonly')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/readonly.html">readonly</a>,
<a name="l494"><span class="linenum"> 494</span></a>                          'caneditpage' =&gt; <a class="var it26787" onMouseOver="hilite(26787)" onMouseOut="lolite()" onClick="logVariable('caneditpages')" href="../../../_variables/caneditpages.html">$caneditpages</a>,
<a name="l495"><span class="linenum"> 495</span></a>                          'firstpage' =&gt; <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('id')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a> == <a class="var it20898" onMouseOver="hilite(20898)" onMouseOut="lolite()" onClick="logVariable('firstpage')" href="../../../_variables/firstpage.html">$firstpage</a>-&gt;id
<a name="l496"><span class="linenum"> 496</span></a>                      );
<a name="l497"><span class="linenum"> 497</span></a>  
<a name="l498"><span class="linenum"> 498</span></a>  <span class="comment">                // Refresh page cached content if needed.</span>
<a name="l499"><span class="linenum"> 499</span></a>                  if (<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('timerendered')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/timerendered.html">timerendered</a> + <a class="constant" onClick="logConstant('WIKI_REFRESH_CACHE_TIME')" href="../../../_constants/WIKI_REFRESH_CACHE_TIME.html" onMouseOver="constPopup(event,'WIKI_REFRESH_CACHE_TIME')">WIKI_REFRESH_CACHE_TIME</a> &lt; <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>()) {
<a name="l500"><span class="linenum"> 500</span></a>                      if (<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../_variables/content.html">$content</a> = <a class="function" onClick="logFunction('wiki_refresh_cachedcontent')" href="../../../_functions/wiki_refresh_cachedcontent.html" onMouseOver="funcPopup(event,'wiki_refresh_cachedcontent')">wiki_refresh_cachedcontent</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>)) {
<a name="l501"><span class="linenum"> 501</span></a>                          <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> = <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../_variables/content.html">$content</a>['page'];
<a name="l502"><span class="linenum"> 502</span></a>                      }
<a name="l503"><span class="linenum"> 503</span></a>                  }
<a name="l504"><span class="linenum"> 504</span></a>                  <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it1001" onMouseOver="hilite(1001)" onMouseOut="lolite()" onClick="logVariable('cachedcontent')" href="../../../_variables/cachedcontent.html">$cachedcontent</a>, <a class="var it990" onMouseOver="hilite(990)" onMouseOut="lolite()" onClick="logVariable('contentformat')" href="../../../_variables/contentformat.html">$contentformat</a>) = <a class="function" onClick="logFunction('external_format_text')" href="../../../_functions/external_format_text.html" onMouseOver="funcPopup(event,'external_format_text')">external_format_text</a>(
<a name="l505"><span class="linenum"> 505</span></a>                              <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('cachedcontent')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/cachedcontent.html">cachedcontent</a>, <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, 'mod_wiki', 'attachments', <a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>-&gt;<a onClick="logVariable('id')" class="var it44929" onMouseOver="hilite(44929)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l506"><span class="linenum"> 506</span></a>  
<a name="l507"><span class="linenum"> 507</span></a>                  if (<a class="var it27" onMouseOver="hilite(27)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../_variables/options.html">$options</a>['includecontent']) {
<a name="l508"><span class="linenum"> 508</span></a>  <span class="comment">                    // Return the page content.</span>
<a name="l509"><span class="linenum"> 509</span></a>                      <a class="var it26788" onMouseOver="hilite(26788)" onMouseOut="lolite()" onClick="logVariable('retpage')" href="../../../_variables/retpage.html">$retpage</a>['cachedcontent'] = <a class="var it1001" onMouseOver="hilite(1001)" onMouseOut="lolite()" onClick="logVariable('cachedcontent')" href="../../../_variables/cachedcontent.html">$cachedcontent</a>;
<a name="l510"><span class="linenum"> 510</span></a>                      <a class="var it26788" onMouseOver="hilite(26788)" onMouseOut="lolite()" onClick="logVariable('retpage')" href="../../../_variables/retpage.html">$retpage</a>['contentformat'] = <a class="var it990" onMouseOver="hilite(990)" onMouseOut="lolite()" onClick="logVariable('contentformat')" href="../../../_variables/contentformat.html">$contentformat</a>;
<a name="l511"><span class="linenum"> 511</span></a>                  } else {
<a name="l512"><span class="linenum"> 512</span></a>  <span class="comment">                    // Return the size of the content.</span>
<a name="l513"><span class="linenum"> 513</span></a>                      if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('mb_strlen') &amp;&amp; ((int)<a class="phpfunction" onClick="logFunction('ini_get')" href="../../../_functions/ini_get.html" onMouseOver="phpfuncPopup(event,'ini_get')">ini_get</a>('mbstring.func_overload') &amp; 2)) {
<a name="l514"><span class="linenum"> 514</span></a>                          <a class="var it26788" onMouseOver="hilite(26788)" onMouseOut="lolite()" onClick="logVariable('retpage')" href="../../../_variables/retpage.html">$retpage</a>['contentsize'] = <a class="phpfunction" onClick="logFunction('mb_strlen')" href="../../../_functions/mb_strlen.html" onMouseOver="phpfuncPopup(event,'mb_strlen')">mb_strlen</a>(<a class="var it1001" onMouseOver="hilite(1001)" onMouseOut="lolite()" onClick="logVariable('cachedcontent')" href="../../../_variables/cachedcontent.html">$cachedcontent</a>, '8bit');
<a name="l515"><span class="linenum"> 515</span></a>                      } else {
<a name="l516"><span class="linenum"> 516</span></a>                          <a class="var it26788" onMouseOver="hilite(26788)" onMouseOut="lolite()" onClick="logVariable('retpage')" href="../../../_variables/retpage.html">$retpage</a>['contentsize'] = <a class="function" onClick="logFunction('strlen')" href="../../../_functions/strlen.html" onMouseOver="funcPopup(event,'strlen')">strlen</a>(<a class="var it1001" onMouseOver="hilite(1001)" onMouseOut="lolite()" onClick="logVariable('cachedcontent')" href="../../../_variables/cachedcontent.html">$cachedcontent</a>);
<a name="l517"><span class="linenum"> 517</span></a>                      }
<a name="l518"><span class="linenum"> 518</span></a>                  }
<a name="l519"><span class="linenum"> 519</span></a>  
<a name="l520"><span class="linenum"> 520</span></a>                  <a class="var it26786" onMouseOver="hilite(26786)" onMouseOut="lolite()" onClick="logVariable('returnedpages')" href="../../../_variables/returnedpages.html">$returnedpages</a>[] = <a class="var it26788" onMouseOver="hilite(26788)" onMouseOut="lolite()" onClick="logVariable('retpage')" href="../../../_variables/retpage.html">$retpage</a>;
<a name="l521"><span class="linenum"> 521</span></a>              }
<a name="l522"><span class="linenum"> 522</span></a>          }
<a name="l523"><span class="linenum"> 523</span></a>  
<a name="l524"><span class="linenum"> 524</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l525"><span class="linenum"> 525</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['pages'] = <a class="var it26786" onMouseOver="hilite(26786)" onMouseOut="lolite()" onClick="logVariable('returnedpages')" href="../../../_variables/returnedpages.html">$returnedpages</a>;
<a name="l526"><span class="linenum"> 526</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l527"><span class="linenum"> 527</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l528"><span class="linenum"> 528</span></a>      }
<a name="l529"><span class="linenum"> 529</span></a>  
<a name="l530"><span class="linenum"> 530</span></a>      <span class="comment">/**</span>
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment">     * Describes the get_subwiki_pages return value.</span>
<a name="l532"><span class="linenum"> 532</span></a>  <span class="comment">     *</span>
<a name="l533"><span class="linenum"> 533</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l535"><span class="linenum"> 535</span></a>  <span class="comment">     */</span>
<a name="l536"><span class="linenum"> 536</span></a>      public static function <a class="function" onClick="logFunction('get_subwiki_pages_returns')" href="../../../_functions/get_subwiki_pages_returns.html" onMouseOver="funcPopup(event,'get_subwiki_pages_returns')">get_subwiki_pages_returns</a>() {
<a name="l537"><span class="linenum"> 537</span></a>  
<a name="l538"><span class="linenum"> 538</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l539"><span class="linenum"> 539</span></a>              array(
<a name="l540"><span class="linenum"> 540</span></a>                  'pages' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../../../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l541"><span class="linenum"> 541</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l542"><span class="linenum"> 542</span></a>                          array(
<a name="l543"><span class="linenum"> 543</span></a>                              'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Page ID.'),
<a name="l544"><span class="linenum"> 544</span></a>                              'subwikiid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Page\'s subwiki ID.'),
<a name="l545"><span class="linenum"> 545</span></a>                              'title' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Page title.'),
<a name="l546"><span class="linenum"> 546</span></a>                              'timecreated' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Time of creation.'),
<a name="l547"><span class="linenum"> 547</span></a>                              'timemodified' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Time of last modification.'),
<a name="l548"><span class="linenum"> 548</span></a>                              'timerendered' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Time of last renderization.'),
<a name="l549"><span class="linenum"> 549</span></a>                              'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'ID of the user that last modified the page.'),
<a name="l550"><span class="linenum"> 550</span></a>                              'pageviews' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Number of times the page has been viewed.'),
<a name="l551"><span class="linenum"> 551</span></a>                              'readonly' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, '1 if readonly, 0 otherwise.'),
<a name="l552"><span class="linenum"> 552</span></a>                              'caneditpage' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'True if user can edit the page.'),
<a name="l553"><span class="linenum"> 553</span></a>                              'firstpage' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'True if it\'s the first page.'),
<a name="l554"><span class="linenum"> 554</span></a>                              'cachedcontent' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Page contents.', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l555"><span class="linenum"> 555</span></a>                              'contentformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../../../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>('cachedcontent', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l556"><span class="linenum"> 556</span></a>                              'contentsize' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Size of page contents in bytes (doesn\'t include'.
<a name="l557"><span class="linenum"> 557</span></a>                                                                              ' size of attached files).', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l558"><span class="linenum"> 558</span></a>                          ), 'Pages'
<a name="l559"><span class="linenum"> 559</span></a>                      )
<a name="l560"><span class="linenum"> 560</span></a>                  ),
<a name="l561"><span class="linenum"> 561</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l562"><span class="linenum"> 562</span></a>              )
<a name="l563"><span class="linenum"> 563</span></a>          );
<a name="l564"><span class="linenum"> 564</span></a>      }
<a name="l565"><span class="linenum"> 565</span></a>  
<a name="l566"><span class="linenum"> 566</span></a>      <span class="comment">/**</span>
<a name="l567"><span class="linenum"> 567</span></a>  <span class="comment">     * Describes the parameters for get_page_contents.</span>
<a name="l568"><span class="linenum"> 568</span></a>  <span class="comment">     *</span>
<a name="l569"><span class="linenum"> 569</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l570"><span class="linenum"> 570</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l571"><span class="linenum"> 571</span></a>  <span class="comment">     */</span>
<a name="l572"><span class="linenum"> 572</span></a>      public static function <a class="function" onClick="logFunction('get_page_contents_parameters')" href="../../../_functions/get_page_contents_parameters.html" onMouseOver="funcPopup(event,'get_page_contents_parameters')">get_page_contents_parameters</a>() {
<a name="l573"><span class="linenum"> 573</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l574"><span class="linenum"> 574</span></a>              array(
<a name="l575"><span class="linenum"> 575</span></a>                  'pageid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Page ID.')
<a name="l576"><span class="linenum"> 576</span></a>              )
<a name="l577"><span class="linenum"> 577</span></a>          );
<a name="l578"><span class="linenum"> 578</span></a>      }
<a name="l579"><span class="linenum"> 579</span></a>  
<a name="l580"><span class="linenum"> 580</span></a>      <span class="comment">/**</span>
<a name="l581"><span class="linenum"> 581</span></a>  <span class="comment">     * Get a page contents.</span>
<a name="l582"><span class="linenum"> 582</span></a>  <span class="comment">     *</span>
<a name="l583"><span class="linenum"> 583</span></a>  <span class="comment">     * @param int $pageid The page ID.</span>
<a name="l584"><span class="linenum"> 584</span></a>  <span class="comment">     * @return array of warnings and page data.</span>
<a name="l585"><span class="linenum"> 585</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l586"><span class="linenum"> 586</span></a>  <span class="comment">     */</span>
<a name="l587"><span class="linenum"> 587</span></a>      public static function <a class="function" onClick="logFunction('get_page_contents')" href="../../../_functions/get_page_contents.html" onMouseOver="funcPopup(event,'get_page_contents')">get_page_contents</a>(<a class="var it987" onMouseOver="hilite(987)" onMouseOut="lolite()" onClick="logVariable('pageid')" href="../../../_variables/pageid.html">$pageid</a>) {
<a name="l588"><span class="linenum"> 588</span></a>  
<a name="l589"><span class="linenum"> 589</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_page_contents_parameters')" href="../../../_functions/get_page_contents_parameters.html" onMouseOver="funcPopup(event,'get_page_contents_parameters')">get_page_contents_parameters</a>(),
<a name="l590"><span class="linenum"> 590</span></a>                                              array(
<a name="l591"><span class="linenum"> 591</span></a>                                                  'pageid' =&gt; <a class="var it987" onMouseOver="hilite(987)" onMouseOut="lolite()" onClick="logVariable('pageid')" href="../../../_variables/pageid.html">$pageid</a>
<a name="l592"><span class="linenum"> 592</span></a>                                              )
<a name="l593"><span class="linenum"> 593</span></a>              );
<a name="l594"><span class="linenum"> 594</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l595"><span class="linenum"> 595</span></a>  
<a name="l596"><span class="linenum"> 596</span></a>  <span class="comment">        // Get wiki page.</span>
<a name="l597"><span class="linenum"> 597</span></a>          if (!<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> = <a class="function" onClick="logFunction('wiki_get_page')" href="../../../_functions/wiki_get_page.html" onMouseOver="funcPopup(event,'wiki_get_page')">wiki_get_page</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['pageid'])) {
<a name="l598"><span class="linenum"> 598</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectpageid', 'wiki');
<a name="l599"><span class="linenum"> 599</span></a>          }
<a name="l600"><span class="linenum"> 600</span></a>  
<a name="l601"><span class="linenum"> 601</span></a>  <span class="comment">        // Get wiki instance.</span>
<a name="l602"><span class="linenum"> 602</span></a>          if (!<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a> = <a class="function" onClick="logFunction('wiki_get_wiki_from_pageid')" href="../../../_functions/wiki_get_wiki_from_pageid.html" onMouseOver="funcPopup(event,'wiki_get_wiki_from_pageid')">wiki_get_wiki_from_pageid</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['pageid'])) {
<a name="l603"><span class="linenum"> 603</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectwikiid', 'wiki');
<a name="l604"><span class="linenum"> 604</span></a>          }
<a name="l605"><span class="linenum"> 605</span></a>  
<a name="l606"><span class="linenum"> 606</span></a>  <span class="comment">        // Permission validation.</span>
<a name="l607"><span class="linenum"> 607</span></a>          <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('wiki', <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('id')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('course')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/course.html">course</a>);
<a name="l608"><span class="linenum"> 608</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l609"><span class="linenum"> 609</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l610"><span class="linenum"> 610</span></a>  
<a name="l611"><span class="linenum"> 611</span></a>  <span class="comment">        // Check if user can view this wiki.</span>
<a name="l612"><span class="linenum"> 612</span></a>          if (!<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a> = <a class="function" onClick="logFunction('wiki_get_subwiki')" href="../../../_functions/wiki_get_subwiki.html" onMouseOver="funcPopup(event,'wiki_get_subwiki')">wiki_get_subwiki</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('subwikiid')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/subwikiid.html">subwikiid</a>)) {
<a name="l613"><span class="linenum"> 613</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectsubwikiid', 'wiki');
<a name="l614"><span class="linenum"> 614</span></a>          }
<a name="l615"><span class="linenum"> 615</span></a>          if (!<a class="function" onClick="logFunction('wiki_user_can_view')" href="../../../_functions/wiki_user_can_view.html" onMouseOver="funcPopup(event,'wiki_user_can_view')">wiki_user_can_view</a>(<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>)) {
<a name="l616"><span class="linenum"> 616</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('cannotviewpage', 'wiki');
<a name="l617"><span class="linenum"> 617</span></a>          }
<a name="l618"><span class="linenum"> 618</span></a>  
<a name="l619"><span class="linenum"> 619</span></a>          <a class="var it26789" onMouseOver="hilite(26789)" onMouseOut="lolite()" onClick="logVariable('returnedpage')" href="../../../_variables/returnedpage.html">$returnedpage</a> = array();
<a name="l620"><span class="linenum"> 620</span></a>          <a class="var it26789" onMouseOver="hilite(26789)" onMouseOut="lolite()" onClick="logVariable('returnedpage')" href="../../../_variables/returnedpage.html">$returnedpage</a>['id'] = <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('id')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l621"><span class="linenum"> 621</span></a>          <a class="var it26789" onMouseOver="hilite(26789)" onMouseOut="lolite()" onClick="logVariable('returnedpage')" href="../../../_variables/returnedpage.html">$returnedpage</a>['wikiid'] = <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('id')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l622"><span class="linenum"> 622</span></a>          <a class="var it26789" onMouseOver="hilite(26789)" onMouseOut="lolite()" onClick="logVariable('returnedpage')" href="../../../_variables/returnedpage.html">$returnedpage</a>['subwikiid'] = <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('subwikiid')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/subwikiid.html">subwikiid</a>;
<a name="l623"><span class="linenum"> 623</span></a>          <a class="var it26789" onMouseOver="hilite(26789)" onMouseOut="lolite()" onClick="logVariable('returnedpage')" href="../../../_variables/returnedpage.html">$returnedpage</a>['groupid'] = <a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>-&gt;<a onClick="logVariable('groupid')" class="var it44929" onMouseOver="hilite(44929)" onMouseOut="lolite()" href="../../../_variables/groupid.html">groupid</a>;
<a name="l624"><span class="linenum"> 624</span></a>          <a class="var it26789" onMouseOver="hilite(26789)" onMouseOut="lolite()" onClick="logVariable('returnedpage')" href="../../../_variables/returnedpage.html">$returnedpage</a>['userid'] = <a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>-&gt;<a onClick="logVariable('userid')" class="var it44929" onMouseOver="hilite(44929)" onMouseOut="lolite()" href="../../../_variables/userid.html">userid</a>;
<a name="l625"><span class="linenum"> 625</span></a>          <a class="var it26789" onMouseOver="hilite(26789)" onMouseOut="lolite()" onClick="logVariable('returnedpage')" href="../../../_variables/returnedpage.html">$returnedpage</a>['title'] = <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('title')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/title.html">title</a>;
<a name="l626"><span class="linenum"> 626</span></a>  
<a name="l627"><span class="linenum"> 627</span></a>  <span class="comment">        // Refresh page cached content if needed.</span>
<a name="l628"><span class="linenum"> 628</span></a>          if (<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('timerendered')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/timerendered.html">timerendered</a> + <a class="constant" onClick="logConstant('WIKI_REFRESH_CACHE_TIME')" href="../../../_constants/WIKI_REFRESH_CACHE_TIME.html" onMouseOver="constPopup(event,'WIKI_REFRESH_CACHE_TIME')">WIKI_REFRESH_CACHE_TIME</a> &lt; <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>()) {
<a name="l629"><span class="linenum"> 629</span></a>              if (<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../_variables/content.html">$content</a> = <a class="function" onClick="logFunction('wiki_refresh_cachedcontent')" href="../../../_functions/wiki_refresh_cachedcontent.html" onMouseOver="funcPopup(event,'wiki_refresh_cachedcontent')">wiki_refresh_cachedcontent</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>)) {
<a name="l630"><span class="linenum"> 630</span></a>                  <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> = <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../_variables/content.html">$content</a>['page'];
<a name="l631"><span class="linenum"> 631</span></a>              }
<a name="l632"><span class="linenum"> 632</span></a>          }
<a name="l633"><span class="linenum"> 633</span></a>  
<a name="l634"><span class="linenum"> 634</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it26789" onMouseOver="hilite(26789)" onMouseOut="lolite()" onClick="logVariable('returnedpage')" href="../../../_variables/returnedpage.html">$returnedpage</a>['cachedcontent'], <a class="var it26789" onMouseOver="hilite(26789)" onMouseOut="lolite()" onClick="logVariable('returnedpage')" href="../../../_variables/returnedpage.html">$returnedpage</a>['contentformat']) = <a class="function" onClick="logFunction('external_format_text')" href="../../../_functions/external_format_text.html" onMouseOver="funcPopup(event,'external_format_text')">external_format_text</a>(
<a name="l635"><span class="linenum"> 635</span></a>                              <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('cachedcontent')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/cachedcontent.html">cachedcontent</a>, <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>, <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, 'mod_wiki', 'attachments', <a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>-&gt;<a onClick="logVariable('id')" class="var it44929" onMouseOver="hilite(44929)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l636"><span class="linenum"> 636</span></a>          <a class="var it26789" onMouseOver="hilite(26789)" onMouseOut="lolite()" onClick="logVariable('returnedpage')" href="../../../_variables/returnedpage.html">$returnedpage</a>['caneditpage'] = <a class="function" onClick="logFunction('wiki_user_can_edit')" href="../../../_functions/wiki_user_can_edit.html" onMouseOver="funcPopup(event,'wiki_user_can_edit')">wiki_user_can_edit</a>(<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>);
<a name="l637"><span class="linenum"> 637</span></a>  
<a name="l638"><span class="linenum"> 638</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l639"><span class="linenum"> 639</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['page'] = <a class="var it26789" onMouseOver="hilite(26789)" onMouseOut="lolite()" onClick="logVariable('returnedpage')" href="../../../_variables/returnedpage.html">$returnedpage</a>;
<a name="l640"><span class="linenum"> 640</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l641"><span class="linenum"> 641</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l642"><span class="linenum"> 642</span></a>      }
<a name="l643"><span class="linenum"> 643</span></a>  
<a name="l644"><span class="linenum"> 644</span></a>      <span class="comment">/**</span>
<a name="l645"><span class="linenum"> 645</span></a>  <span class="comment">     * Describes the get_page_contents return value.</span>
<a name="l646"><span class="linenum"> 646</span></a>  <span class="comment">     *</span>
<a name="l647"><span class="linenum"> 647</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l648"><span class="linenum"> 648</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l649"><span class="linenum"> 649</span></a>  <span class="comment">     */</span>
<a name="l650"><span class="linenum"> 650</span></a>      public static function <a class="function" onClick="logFunction('get_page_contents_returns')" href="../../../_functions/get_page_contents_returns.html" onMouseOver="funcPopup(event,'get_page_contents_returns')">get_page_contents_returns</a>() {
<a name="l651"><span class="linenum"> 651</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l652"><span class="linenum"> 652</span></a>              array(
<a name="l653"><span class="linenum"> 653</span></a>                  'page' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l654"><span class="linenum"> 654</span></a>                      array(
<a name="l655"><span class="linenum"> 655</span></a>                          'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Page ID.'),
<a name="l656"><span class="linenum"> 656</span></a>                          'wikiid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Page\'s wiki ID.'),
<a name="l657"><span class="linenum"> 657</span></a>                          'subwikiid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Page\'s subwiki ID.'),
<a name="l658"><span class="linenum"> 658</span></a>                          'groupid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Page\'s group ID.'),
<a name="l659"><span class="linenum"> 659</span></a>                          'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Page\'s user ID.'),
<a name="l660"><span class="linenum"> 660</span></a>                          'title' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Page title.'),
<a name="l661"><span class="linenum"> 661</span></a>                          'cachedcontent' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Page contents.'),
<a name="l662"><span class="linenum"> 662</span></a>                          'contentformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../../../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>('cachedcontent', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../../../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l663"><span class="linenum"> 663</span></a>                          'caneditpage' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../../../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'True if user can edit the page.')
<a name="l664"><span class="linenum"> 664</span></a>                      ), 'Page'
<a name="l665"><span class="linenum"> 665</span></a>                  ),
<a name="l666"><span class="linenum"> 666</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l667"><span class="linenum"> 667</span></a>              )
<a name="l668"><span class="linenum"> 668</span></a>          );
<a name="l669"><span class="linenum"> 669</span></a>      }
<a name="l670"><span class="linenum"> 670</span></a>  
<a name="l671"><span class="linenum"> 671</span></a>      <span class="comment">/**</span>
<a name="l672"><span class="linenum"> 672</span></a>  <span class="comment">     * Describes the parameters for get_subwiki_files.</span>
<a name="l673"><span class="linenum"> 673</span></a>  <span class="comment">     *</span>
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l675"><span class="linenum"> 675</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l676"><span class="linenum"> 676</span></a>  <span class="comment">     */</span>
<a name="l677"><span class="linenum"> 677</span></a>      public static function <a class="function" onClick="logFunction('get_subwiki_files_parameters')" href="../../../_functions/get_subwiki_files_parameters.html" onMouseOver="funcPopup(event,'get_subwiki_files_parameters')">get_subwiki_files_parameters</a>() {
<a name="l678"><span class="linenum"> 678</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l679"><span class="linenum"> 679</span></a>              array(
<a name="l680"><span class="linenum"> 680</span></a>                  'wikiid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Wiki instance ID.'),
<a name="l681"><span class="linenum"> 681</span></a>                  'groupid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Subwiki\'s group ID, -1 means current group. It will be ignored'
<a name="l682"><span class="linenum"> 682</span></a>                                          . ' if the wiki doesn\'t use groups.', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, -1),
<a name="l683"><span class="linenum"> 683</span></a>                  'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Subwiki\'s user ID, 0 means current user. It will be ignored'
<a name="l684"><span class="linenum"> 684</span></a>                                          .' in collaborative wikis.', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, 0)
<a name="l685"><span class="linenum"> 685</span></a>              )
<a name="l686"><span class="linenum"> 686</span></a>          );
<a name="l687"><span class="linenum"> 687</span></a>      }
<a name="l688"><span class="linenum"> 688</span></a>  
<a name="l689"><span class="linenum"> 689</span></a>      <span class="comment">/**</span>
<a name="l690"><span class="linenum"> 690</span></a>  <span class="comment">     * Returns the list of files from a specific subwiki.</span>
<a name="l691"><span class="linenum"> 691</span></a>  <span class="comment">     *</span>
<a name="l692"><span class="linenum"> 692</span></a>  <span class="comment">     * @param int $wikiid The wiki instance ID.</span>
<a name="l693"><span class="linenum"> 693</span></a>  <span class="comment">     * @param int $groupid The group ID. If not defined, use current group.</span>
<a name="l694"><span class="linenum"> 694</span></a>  <span class="comment">     * @param int $userid The user ID. If not defined, use current user.</span>
<a name="l695"><span class="linenum"> 695</span></a>  <span class="comment">     * @return array Containing a list of warnings and a list of files.</span>
<a name="l696"><span class="linenum"> 696</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l697"><span class="linenum"> 697</span></a>  <span class="comment">     * @throws moodle_exception</span>
<a name="l698"><span class="linenum"> 698</span></a>  <span class="comment">     */</span>
<a name="l699"><span class="linenum"> 699</span></a>      public static function <a class="function" onClick="logFunction('get_subwiki_files')" href="../../../_functions/get_subwiki_files.html" onMouseOver="funcPopup(event,'get_subwiki_files')">get_subwiki_files</a>(<a class="var it984" onMouseOver="hilite(984)" onMouseOut="lolite()" onClick="logVariable('wikiid')" href="../../../_variables/wikiid.html">$wikiid</a>, <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a> = -1, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a> = 0) {
<a name="l700"><span class="linenum"> 700</span></a>  
<a name="l701"><span class="linenum"> 701</span></a>          <a class="var it26790" onMouseOver="hilite(26790)" onMouseOut="lolite()" onClick="logVariable('returnedfiles')" href="../../../_variables/returnedfiles.html">$returnedfiles</a> = array();
<a name="l702"><span class="linenum"> 702</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l703"><span class="linenum"> 703</span></a>  
<a name="l704"><span class="linenum"> 704</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_subwiki_files_parameters')" href="../../../_functions/get_subwiki_files_parameters.html" onMouseOver="funcPopup(event,'get_subwiki_files_parameters')">get_subwiki_files_parameters</a>(),
<a name="l705"><span class="linenum"> 705</span></a>                                              array(
<a name="l706"><span class="linenum"> 706</span></a>                                                  'wikiid' =&gt; <a class="var it984" onMouseOver="hilite(984)" onMouseOut="lolite()" onClick="logVariable('wikiid')" href="../../../_variables/wikiid.html">$wikiid</a>,
<a name="l707"><span class="linenum"> 707</span></a>                                                  'groupid' =&gt; <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a>,
<a name="l708"><span class="linenum"> 708</span></a>                                                  'userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a>
<a name="l709"><span class="linenum"> 709</span></a>                                                  )
<a name="l710"><span class="linenum"> 710</span></a>              );
<a name="l711"><span class="linenum"> 711</span></a>  
<a name="l712"><span class="linenum"> 712</span></a>  <span class="comment">        // Get wiki instance.</span>
<a name="l713"><span class="linenum"> 713</span></a>          if (!<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a> = <a class="function" onClick="logFunction('wiki_get_wiki')" href="../../../_functions/wiki_get_wiki.html" onMouseOver="funcPopup(event,'wiki_get_wiki')">wiki_get_wiki</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['wikiid'])) {
<a name="l714"><span class="linenum"> 714</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectwikiid', 'wiki');
<a name="l715"><span class="linenum"> 715</span></a>          }
<a name="l716"><span class="linenum"> 716</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../../_variables/course.html">$course</a>, <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>) = <a class="function" onClick="logFunction('get_course_and_cm_from_instance')" href="../../../_functions/get_course_and_cm_from_instance.html" onMouseOver="funcPopup(event,'get_course_and_cm_from_instance')">get_course_and_cm_from_instance</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>, 'wiki');
<a name="l717"><span class="linenum"> 717</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l718"><span class="linenum"> 718</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l719"><span class="linenum"> 719</span></a>  
<a name="l720"><span class="linenum"> 720</span></a>  <span class="comment">        // Determine groupid and userid to use.</span>
<a name="l721"><span class="linenum"> 721</span></a>          <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a>) = self::<a class="function" onClick="logFunction('determine_group_and_user')" href="../../../_functions/determine_group_and_user.html" onMouseOver="funcPopup(event,'determine_group_and_user')">determine_group_and_user</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['groupid'], <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['userid']);
<a name="l722"><span class="linenum"> 722</span></a>  
<a name="l723"><span class="linenum"> 723</span></a>  <span class="comment">        // Get subwiki and validate it.</span>
<a name="l724"><span class="linenum"> 724</span></a>          <a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a> = <a class="function" onClick="logFunction('wiki_get_subwiki_by_group_and_user_with_validation')" href="../../../_functions/wiki_get_subwiki_by_group_and_user_with_validation.html" onMouseOver="funcPopup(event,'wiki_get_subwiki_by_group_and_user_with_validation')">wiki_get_subwiki_by_group_and_user_with_validation</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>, <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a>);
<a name="l725"><span class="linenum"> 725</span></a>  
<a name="l726"><span class="linenum"> 726</span></a>  <span class="comment">        // Get subwiki based on group and user.</span>
<a name="l727"><span class="linenum"> 727</span></a>          if (<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a> === false) {
<a name="l728"><span class="linenum"> 728</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('cannotviewfiles', 'wiki');
<a name="l729"><span class="linenum"> 729</span></a>          } else if (<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>-&gt;<a onClick="logVariable('id')" class="var it44929" onMouseOver="hilite(44929)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a> != -1) {
<a name="l730"><span class="linenum"> 730</span></a>  <span class="comment">            // The subwiki exists, let's get the files.</span>
<a name="l731"><span class="linenum"> 731</span></a>              <a class="var it26790" onMouseOver="hilite(26790)" onMouseOut="lolite()" onClick="logVariable('returnedfiles')" href="../../../_variables/returnedfiles.html">$returnedfiles</a> = <a class="class" onClick="logClass('external_util')" href="../../../_classes/external_util.html" onMouseOver="classPopup(event,'external_util')">external_util</a>::<a class="function" onClick="logFunction('get_area_files')" href="../../../_functions/get_area_files.html" onMouseOver="funcPopup(event,'get_area_files')">get_area_files</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, 'mod_wiki', 'attachments', <a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>-&gt;<a onClick="logVariable('id')" class="var it44929" onMouseOver="hilite(44929)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l732"><span class="linenum"> 732</span></a>          }
<a name="l733"><span class="linenum"> 733</span></a>  
<a name="l734"><span class="linenum"> 734</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l735"><span class="linenum"> 735</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['files'] = <a class="var it26790" onMouseOver="hilite(26790)" onMouseOut="lolite()" onClick="logVariable('returnedfiles')" href="../../../_variables/returnedfiles.html">$returnedfiles</a>;
<a name="l736"><span class="linenum"> 736</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l737"><span class="linenum"> 737</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l738"><span class="linenum"> 738</span></a>      }
<a name="l739"><span class="linenum"> 739</span></a>  
<a name="l740"><span class="linenum"> 740</span></a>      <span class="comment">/**</span>
<a name="l741"><span class="linenum"> 741</span></a>  <span class="comment">     * Describes the get_subwiki_pages return value.</span>
<a name="l742"><span class="linenum"> 742</span></a>  <span class="comment">     *</span>
<a name="l743"><span class="linenum"> 743</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l744"><span class="linenum"> 744</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l745"><span class="linenum"> 745</span></a>  <span class="comment">     */</span>
<a name="l746"><span class="linenum"> 746</span></a>      public static function <a class="function" onClick="logFunction('get_subwiki_files_returns')" href="../../../_functions/get_subwiki_files_returns.html" onMouseOver="funcPopup(event,'get_subwiki_files_returns')">get_subwiki_files_returns</a>() {
<a name="l747"><span class="linenum"> 747</span></a>  
<a name="l748"><span class="linenum"> 748</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l749"><span class="linenum"> 749</span></a>              array(
<a name="l750"><span class="linenum"> 750</span></a>                  'files' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_files')" href="../../../_classes/external_files.html" onMouseOver="classPopup(event,'external_files')">external_files</a>('Files'),
<a name="l751"><span class="linenum"> 751</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>(),
<a name="l752"><span class="linenum"> 752</span></a>              )
<a name="l753"><span class="linenum"> 753</span></a>          );
<a name="l754"><span class="linenum"> 754</span></a>      }
<a name="l755"><span class="linenum"> 755</span></a>  
<a name="l756"><span class="linenum"> 756</span></a>      <span class="comment">/**</span>
<a name="l757"><span class="linenum"> 757</span></a>  <span class="comment">     * Utility function for determining the groupid and userid to use.</span>
<a name="l758"><span class="linenum"> 758</span></a>  <span class="comment">     *</span>
<a name="l759"><span class="linenum"> 759</span></a>  <span class="comment">     * @param stdClass $cm The course module.</span>
<a name="l760"><span class="linenum"> 760</span></a>  <span class="comment">     * @param stdClass $wiki The wiki.</span>
<a name="l761"><span class="linenum"> 761</span></a>  <span class="comment">     * @param int $groupid Group ID. If not defined, use current group.</span>
<a name="l762"><span class="linenum"> 762</span></a>  <span class="comment">     * @param int $userid User ID. If not defined, use current user.</span>
<a name="l763"><span class="linenum"> 763</span></a>  <span class="comment">     * @return array Array containing the courseid and userid.</span>
<a name="l764"><span class="linenum"> 764</span></a>  <span class="comment">     * @since  Moodle 3.1</span>
<a name="l765"><span class="linenum"> 765</span></a>  <span class="comment">     */</span>
<a name="l766"><span class="linenum"> 766</span></a>      protected static function <a class="function" onClick="logFunction('determine_group_and_user')" href="../../../_functions/determine_group_and_user.html" onMouseOver="funcPopup(event,'determine_group_and_user')">determine_group_and_user</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>, <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a> = -1, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a> = 0) {
<a name="l767"><span class="linenum"> 767</span></a>          global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l768"><span class="linenum"> 768</span></a>  
<a name="l769"><span class="linenum"> 769</span></a>          <a class="var it2561" onMouseOver="hilite(2561)" onMouseOut="lolite()" onClick="logVariable('currentgroup')" href="../../../_variables/currentgroup.html">$currentgroup</a> = <a class="function" onClick="logFunction('groups_get_activity_group')" href="../../../_functions/groups_get_activity_group.html" onMouseOver="funcPopup(event,'groups_get_activity_group')">groups_get_activity_group</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>);
<a name="l770"><span class="linenum"> 770</span></a>          if (<a class="var it2561" onMouseOver="hilite(2561)" onMouseOut="lolite()" onClick="logVariable('currentgroup')" href="../../../_variables/currentgroup.html">$currentgroup</a> === false) {
<a name="l771"><span class="linenum"> 771</span></a>  <span class="comment">            // Activity doesn't use groups.</span>
<a name="l772"><span class="linenum"> 772</span></a>              <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a> = 0;
<a name="l773"><span class="linenum"> 773</span></a>          } else if (<a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a> == -1) {
<a name="l774"><span class="linenum"> 774</span></a>  <span class="comment">            // Use current group.</span>
<a name="l775"><span class="linenum"> 775</span></a>              <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a> = !empty(<a class="var it2561" onMouseOver="hilite(2561)" onMouseOut="lolite()" onClick="logVariable('currentgroup')" href="../../../_variables/currentgroup.html">$currentgroup</a>) ? <a class="var it2561" onMouseOver="hilite(2561)" onMouseOut="lolite()" onClick="logVariable('currentgroup')" href="../../../_variables/currentgroup.html">$currentgroup</a> : 0;
<a name="l776"><span class="linenum"> 776</span></a>          }
<a name="l777"><span class="linenum"> 777</span></a>  
<a name="l778"><span class="linenum"> 778</span></a>  <span class="comment">        // Determine user.</span>
<a name="l779"><span class="linenum"> 779</span></a>          if (<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('wikimode')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/wikimode.html">wikimode</a> == 'collaborative') {
<a name="l780"><span class="linenum"> 780</span></a>  <span class="comment">            // Collaborative wikis don't use userid in subwikis.</span>
<a name="l781"><span class="linenum"> 781</span></a>              <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a> = 0;
<a name="l782"><span class="linenum"> 782</span></a>          } else if (empty(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a>)) {
<a name="l783"><span class="linenum"> 783</span></a>  <span class="comment">            // Use current user.</span>
<a name="l784"><span class="linenum"> 784</span></a>              <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l785"><span class="linenum"> 785</span></a>          }
<a name="l786"><span class="linenum"> 786</span></a>  
<a name="l787"><span class="linenum"> 787</span></a>          return array(<a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a>);
<a name="l788"><span class="linenum"> 788</span></a>      }
<a name="l789"><span class="linenum"> 789</span></a>  
<a name="l790"><span class="linenum"> 790</span></a>      <span class="comment">/**</span>
<a name="l791"><span class="linenum"> 791</span></a>  <span class="comment">     * Describes the parameters for get_page_for_editing.</span>
<a name="l792"><span class="linenum"> 792</span></a>  <span class="comment">     *</span>
<a name="l793"><span class="linenum"> 793</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l794"><span class="linenum"> 794</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l795"><span class="linenum"> 795</span></a>  <span class="comment">     */</span>
<a name="l796"><span class="linenum"> 796</span></a>      public static function <a class="function" onClick="logFunction('get_page_for_editing_parameters')" href="../../../_functions/get_page_for_editing_parameters.html" onMouseOver="funcPopup(event,'get_page_for_editing_parameters')">get_page_for_editing_parameters</a>() {
<a name="l797"><span class="linenum"> 797</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l798"><span class="linenum"> 798</span></a>              array(
<a name="l799"><span class="linenum"> 799</span></a>                  'pageid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Page ID to edit.'),
<a name="l800"><span class="linenum"> 800</span></a>                  'section' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Section page title.', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, null)
<a name="l801"><span class="linenum"> 801</span></a>              )
<a name="l802"><span class="linenum"> 802</span></a>          );
<a name="l803"><span class="linenum"> 803</span></a>      }
<a name="l804"><span class="linenum"> 804</span></a>  
<a name="l805"><span class="linenum"> 805</span></a>      <span class="comment">/**</span>
<a name="l806"><span class="linenum"> 806</span></a>  <span class="comment">     * Locks and retrieves info of page-section to be edited.</span>
<a name="l807"><span class="linenum"> 807</span></a>  <span class="comment">     *</span>
<a name="l808"><span class="linenum"> 808</span></a>  <span class="comment">     * @param int $pageid The page ID.</span>
<a name="l809"><span class="linenum"> 809</span></a>  <span class="comment">     * @param string $section Section page title.</span>
<a name="l810"><span class="linenum"> 810</span></a>  <span class="comment">     * @return array of warnings and page data.</span>
<a name="l811"><span class="linenum"> 811</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l812"><span class="linenum"> 812</span></a>  <span class="comment">     */</span>
<a name="l813"><span class="linenum"> 813</span></a>      public static function <a class="function" onClick="logFunction('get_page_for_editing')" href="../../../_functions/get_page_for_editing.html" onMouseOver="funcPopup(event,'get_page_for_editing')">get_page_for_editing</a>(<a class="var it987" onMouseOver="hilite(987)" onMouseOut="lolite()" onClick="logVariable('pageid')" href="../../../_variables/pageid.html">$pageid</a>, <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a> = null) {
<a name="l814"><span class="linenum"> 814</span></a>          global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l815"><span class="linenum"> 815</span></a>  
<a name="l816"><span class="linenum"> 816</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_page_for_editing_parameters')" href="../../../_functions/get_page_for_editing_parameters.html" onMouseOver="funcPopup(event,'get_page_for_editing_parameters')">get_page_for_editing_parameters</a>(),
<a name="l817"><span class="linenum"> 817</span></a>                                              array(
<a name="l818"><span class="linenum"> 818</span></a>                                                  'pageid' =&gt; <a class="var it987" onMouseOver="hilite(987)" onMouseOut="lolite()" onClick="logVariable('pageid')" href="../../../_variables/pageid.html">$pageid</a>,
<a name="l819"><span class="linenum"> 819</span></a>                                                  'section' =&gt; <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>
<a name="l820"><span class="linenum"> 820</span></a>                                              )
<a name="l821"><span class="linenum"> 821</span></a>              );
<a name="l822"><span class="linenum"> 822</span></a>  
<a name="l823"><span class="linenum"> 823</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l824"><span class="linenum"> 824</span></a>  
<a name="l825"><span class="linenum"> 825</span></a>  <span class="comment">        // Get wiki page.</span>
<a name="l826"><span class="linenum"> 826</span></a>          if (!<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> = <a class="function" onClick="logFunction('wiki_get_page')" href="../../../_functions/wiki_get_page.html" onMouseOver="funcPopup(event,'wiki_get_page')">wiki_get_page</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['pageid'])) {
<a name="l827"><span class="linenum"> 827</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectpageid', 'wiki');
<a name="l828"><span class="linenum"> 828</span></a>          }
<a name="l829"><span class="linenum"> 829</span></a>  
<a name="l830"><span class="linenum"> 830</span></a>  <span class="comment">        // Get wiki instance.</span>
<a name="l831"><span class="linenum"> 831</span></a>          if (!<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a> = <a class="function" onClick="logFunction('wiki_get_wiki_from_pageid')" href="../../../_functions/wiki_get_wiki_from_pageid.html" onMouseOver="funcPopup(event,'wiki_get_wiki_from_pageid')">wiki_get_wiki_from_pageid</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['pageid'])) {
<a name="l832"><span class="linenum"> 832</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectwikiid', 'wiki');
<a name="l833"><span class="linenum"> 833</span></a>          }
<a name="l834"><span class="linenum"> 834</span></a>  
<a name="l835"><span class="linenum"> 835</span></a>  <span class="comment">        // Get subwiki instance.</span>
<a name="l836"><span class="linenum"> 836</span></a>          if (!<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a> = <a class="function" onClick="logFunction('wiki_get_subwiki')" href="../../../_functions/wiki_get_subwiki.html" onMouseOver="funcPopup(event,'wiki_get_subwiki')">wiki_get_subwiki</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('subwikiid')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/subwikiid.html">subwikiid</a>)) {
<a name="l837"><span class="linenum"> 837</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectsubwikiid', 'wiki');
<a name="l838"><span class="linenum"> 838</span></a>          }
<a name="l839"><span class="linenum"> 839</span></a>  
<a name="l840"><span class="linenum"> 840</span></a>  <span class="comment">        // Permission validation.</span>
<a name="l841"><span class="linenum"> 841</span></a>          <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('wiki', <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('id')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('course')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/course.html">course</a>);
<a name="l842"><span class="linenum"> 842</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l843"><span class="linenum"> 843</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l844"><span class="linenum"> 844</span></a>  
<a name="l845"><span class="linenum"> 845</span></a>          if (!<a class="function" onClick="logFunction('wiki_user_can_edit')" href="../../../_functions/wiki_user_can_edit.html" onMouseOver="funcPopup(event,'wiki_user_can_edit')">wiki_user_can_edit</a>(<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>)) {
<a name="l846"><span class="linenum"> 846</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('cannoteditpage', 'wiki');
<a name="l847"><span class="linenum"> 847</span></a>          }
<a name="l848"><span class="linenum"> 848</span></a>  
<a name="l849"><span class="linenum"> 849</span></a>          if (!<a class="function" onClick="logFunction('wiki_set_lock')" href="../../../_functions/wiki_set_lock.html" onMouseOver="funcPopup(event,'wiki_set_lock')">wiki_set_lock</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['pageid'], <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['section'], true)) {
<a name="l850"><span class="linenum"> 850</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('pageislocked', 'wiki');
<a name="l851"><span class="linenum"> 851</span></a>          }
<a name="l852"><span class="linenum"> 852</span></a>  
<a name="l853"><span class="linenum"> 853</span></a>          <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../../../_variables/version.html">$version</a> = <a class="function" onClick="logFunction('wiki_get_current_version')" href="../../../_functions/wiki_get_current_version.html" onMouseOver="funcPopup(event,'wiki_get_current_version')">wiki_get_current_version</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('id')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l854"><span class="linenum"> 854</span></a>          if (empty(<a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../../../_variables/version.html">$version</a>)) {
<a name="l855"><span class="linenum"> 855</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('versionerror', 'wiki');
<a name="l856"><span class="linenum"> 856</span></a>          }
<a name="l857"><span class="linenum"> 857</span></a>  
<a name="l858"><span class="linenum"> 858</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['section'])) {
<a name="l859"><span class="linenum"> 859</span></a>              <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../_variables/content.html">$content</a> = <a class="class" onClick="logClass('wiki_parser_proxy')" href="../../../_classes/wiki_parser_proxy.html" onMouseOver="classPopup(event,'wiki_parser_proxy')">wiki_parser_proxy</a>::<a class="function" onClick="logFunction('get_section')" href="../../../_functions/get_section.html" onMouseOver="funcPopup(event,'get_section')">get_section</a>(<a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../../../_variables/version.html">$version</a>-&gt;<a onClick="logVariable('content')" class="var it43234" onMouseOver="hilite(43234)" onMouseOut="lolite()" href="../../../_variables/content.html">content</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../../../_variables/version.html">$version</a>-&gt;<a onClick="logVariable('contentformat')" class="var it43234" onMouseOver="hilite(43234)" onMouseOut="lolite()" href="../../../_variables/contentformat.html">contentformat</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['section']);
<a name="l860"><span class="linenum"> 860</span></a>          } else {
<a name="l861"><span class="linenum"> 861</span></a>              <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../_variables/content.html">$content</a> = <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../../../_variables/version.html">$version</a>-&gt;<a onClick="logVariable('content')" class="var it43234" onMouseOver="hilite(43234)" onMouseOut="lolite()" href="../../../_variables/content.html">content</a>;
<a name="l862"><span class="linenum"> 862</span></a>          }
<a name="l863"><span class="linenum"> 863</span></a>  
<a name="l864"><span class="linenum"> 864</span></a>          <a class="var it26791" onMouseOver="hilite(26791)" onMouseOut="lolite()" onClick="logVariable('pagesection')" href="../../../_variables/pagesection.html">$pagesection</a> = array();
<a name="l865"><span class="linenum"> 865</span></a>          <a class="var it26791" onMouseOver="hilite(26791)" onMouseOut="lolite()" onClick="logVariable('pagesection')" href="../../../_variables/pagesection.html">$pagesection</a>['content'] = <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../_variables/content.html">$content</a>;
<a name="l866"><span class="linenum"> 866</span></a>          <a class="var it26791" onMouseOver="hilite(26791)" onMouseOut="lolite()" onClick="logVariable('pagesection')" href="../../../_variables/pagesection.html">$pagesection</a>['contentformat'] = <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../../../_variables/version.html">$version</a>-&gt;<a onClick="logVariable('contentformat')" class="var it43234" onMouseOver="hilite(43234)" onMouseOut="lolite()" href="../../../_variables/contentformat.html">contentformat</a>;
<a name="l867"><span class="linenum"> 867</span></a>          <a class="var it26791" onMouseOver="hilite(26791)" onMouseOut="lolite()" onClick="logVariable('pagesection')" href="../../../_variables/pagesection.html">$pagesection</a>['version'] = <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../../../_variables/version.html">$version</a>-&gt;<a onClick="logVariable('version')" class="var it43234" onMouseOver="hilite(43234)" onMouseOut="lolite()" href="../../../_variables/version.html">version</a>;
<a name="l868"><span class="linenum"> 868</span></a>  
<a name="l869"><span class="linenum"> 869</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l870"><span class="linenum"> 870</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['pagesection'] = <a class="var it26791" onMouseOver="hilite(26791)" onMouseOut="lolite()" onClick="logVariable('pagesection')" href="../../../_variables/pagesection.html">$pagesection</a>;
<a name="l871"><span class="linenum"> 871</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l872"><span class="linenum"> 872</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l873"><span class="linenum"> 873</span></a>  
<a name="l874"><span class="linenum"> 874</span></a>      }
<a name="l875"><span class="linenum"> 875</span></a>  
<a name="l876"><span class="linenum"> 876</span></a>      <span class="comment">/**</span>
<a name="l877"><span class="linenum"> 877</span></a>  <span class="comment">     * Describes the get_page_for_editing return value.</span>
<a name="l878"><span class="linenum"> 878</span></a>  <span class="comment">     *</span>
<a name="l879"><span class="linenum"> 879</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l880"><span class="linenum"> 880</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l881"><span class="linenum"> 881</span></a>  <span class="comment">     */</span>
<a name="l882"><span class="linenum"> 882</span></a>      public static function <a class="function" onClick="logFunction('get_page_for_editing_returns')" href="../../../_functions/get_page_for_editing_returns.html" onMouseOver="funcPopup(event,'get_page_for_editing_returns')">get_page_for_editing_returns</a>() {
<a name="l883"><span class="linenum"> 883</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l884"><span class="linenum"> 884</span></a>              array(
<a name="l885"><span class="linenum"> 885</span></a>                  'pagesection' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l886"><span class="linenum"> 886</span></a>                      array(
<a name="l887"><span class="linenum"> 887</span></a>                          'content' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The contents of the page-section to be edited.'),
<a name="l888"><span class="linenum"> 888</span></a>                          'contentformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Format of the original content of the page.'),
<a name="l889"><span class="linenum"> 889</span></a>                          'version' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Latest version of the page.'),
<a name="l890"><span class="linenum"> 890</span></a>                          'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l891"><span class="linenum"> 891</span></a>                      )
<a name="l892"><span class="linenum"> 892</span></a>                  )
<a name="l893"><span class="linenum"> 893</span></a>              )
<a name="l894"><span class="linenum"> 894</span></a>          );
<a name="l895"><span class="linenum"> 895</span></a>      }
<a name="l896"><span class="linenum"> 896</span></a>  
<a name="l897"><span class="linenum"> 897</span></a>      <span class="comment">/**</span>
<a name="l898"><span class="linenum"> 898</span></a>  <span class="comment">     * Describes the parameters for new_page.</span>
<a name="l899"><span class="linenum"> 899</span></a>  <span class="comment">     *</span>
<a name="l900"><span class="linenum"> 900</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l901"><span class="linenum"> 901</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l902"><span class="linenum"> 902</span></a>  <span class="comment">     */</span>
<a name="l903"><span class="linenum"> 903</span></a>      public static function <a class="function" onClick="logFunction('new_page_parameters')" href="../../../_functions/new_page_parameters.html" onMouseOver="funcPopup(event,'new_page_parameters')">new_page_parameters</a>() {
<a name="l904"><span class="linenum"> 904</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l905"><span class="linenum"> 905</span></a>              array(
<a name="l906"><span class="linenum"> 906</span></a>                  'title' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'New page title.'),
<a name="l907"><span class="linenum"> 907</span></a>                  'content' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Page contents.'),
<a name="l908"><span class="linenum"> 908</span></a>                  'contentformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'Page contents format. If an invalid format is provided, default
<a name="l909"><span class="linenum"> 909</span></a>                      wiki format is used.', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, null),
<a name="l910"><span class="linenum"> 910</span></a>                  'subwikiid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Page\'s subwiki ID.', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, null),
<a name="l911"><span class="linenum"> 911</span></a>                  'wikiid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Page\'s wiki ID. Used if subwiki does not exists.', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>,
<a name="l912"><span class="linenum"> 912</span></a>                      null),
<a name="l913"><span class="linenum"> 913</span></a>                  'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Subwiki\'s user ID. Used if subwiki does not exists.', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>,
<a name="l914"><span class="linenum"> 914</span></a>                      null),
<a name="l915"><span class="linenum"> 915</span></a>                  'groupid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Subwiki\'s group ID. Used if subwiki does not exists.', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>,
<a name="l916"><span class="linenum"> 916</span></a>                      null)
<a name="l917"><span class="linenum"> 917</span></a>              )
<a name="l918"><span class="linenum"> 918</span></a>          );
<a name="l919"><span class="linenum"> 919</span></a>      }
<a name="l920"><span class="linenum"> 920</span></a>  
<a name="l921"><span class="linenum"> 921</span></a>      <span class="comment">/**</span>
<a name="l922"><span class="linenum"> 922</span></a>  <span class="comment">     * Creates a new page.</span>
<a name="l923"><span class="linenum"> 923</span></a>  <span class="comment">     *</span>
<a name="l924"><span class="linenum"> 924</span></a>  <span class="comment">     * @param string $title New page title.</span>
<a name="l925"><span class="linenum"> 925</span></a>  <span class="comment">     * @param string $content Page contents.</span>
<a name="l926"><span class="linenum"> 926</span></a>  <span class="comment">     * @param int $contentformat Page contents format. If an invalid format is provided, default wiki format is used.</span>
<a name="l927"><span class="linenum"> 927</span></a>  <span class="comment">     * @param int $subwikiid The Subwiki ID where to store the page.</span>
<a name="l928"><span class="linenum"> 928</span></a>  <span class="comment">     * @param int $wikiid Page\'s wiki ID. Used if subwiki does not exists.</span>
<a name="l929"><span class="linenum"> 929</span></a>  <span class="comment">     * @param int $userid Subwiki\'s user ID. Used if subwiki does not exists.</span>
<a name="l930"><span class="linenum"> 930</span></a>  <span class="comment">     * @param int $groupid Subwiki\'s group ID. Used if subwiki does not exists.</span>
<a name="l931"><span class="linenum"> 931</span></a>  <span class="comment">     * @return array of warnings and page data.</span>
<a name="l932"><span class="linenum"> 932</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l933"><span class="linenum"> 933</span></a>  <span class="comment">     */</span>
<a name="l934"><span class="linenum"> 934</span></a>      public static function <a class="function" onClick="logFunction('new_page')" href="../../../_functions/new_page.html" onMouseOver="funcPopup(event,'new_page')">new_page</a>(<a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../_variables/title.html">$title</a>, <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../_variables/content.html">$content</a>, <a class="var it990" onMouseOver="hilite(990)" onMouseOut="lolite()" onClick="logVariable('contentformat')" href="../../../_variables/contentformat.html">$contentformat</a> = null, <a class="var it985" onMouseOver="hilite(985)" onMouseOut="lolite()" onClick="logVariable('subwikiid')" href="../../../_variables/subwikiid.html">$subwikiid</a> = null, <a class="var it984" onMouseOver="hilite(984)" onMouseOut="lolite()" onClick="logVariable('wikiid')" href="../../../_variables/wikiid.html">$wikiid</a> = null, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a> = null,
<a name="l935"><span class="linenum"> 935</span></a>          <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a> = null) {
<a name="l936"><span class="linenum"> 936</span></a>          global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l937"><span class="linenum"> 937</span></a>  
<a name="l938"><span class="linenum"> 938</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('new_page_parameters')" href="../../../_functions/new_page_parameters.html" onMouseOver="funcPopup(event,'new_page_parameters')">new_page_parameters</a>(),
<a name="l939"><span class="linenum"> 939</span></a>                                              array(
<a name="l940"><span class="linenum"> 940</span></a>                                                  'title' =&gt; <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../_variables/title.html">$title</a>,
<a name="l941"><span class="linenum"> 941</span></a>                                                  'content' =&gt; <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../_variables/content.html">$content</a>,
<a name="l942"><span class="linenum"> 942</span></a>                                                  'contentformat' =&gt; <a class="var it990" onMouseOver="hilite(990)" onMouseOut="lolite()" onClick="logVariable('contentformat')" href="../../../_variables/contentformat.html">$contentformat</a>,
<a name="l943"><span class="linenum"> 943</span></a>                                                  'subwikiid' =&gt; <a class="var it985" onMouseOver="hilite(985)" onMouseOut="lolite()" onClick="logVariable('subwikiid')" href="../../../_variables/subwikiid.html">$subwikiid</a>,
<a name="l944"><span class="linenum"> 944</span></a>                                                  'wikiid' =&gt; <a class="var it984" onMouseOver="hilite(984)" onMouseOut="lolite()" onClick="logVariable('wikiid')" href="../../../_variables/wikiid.html">$wikiid</a>,
<a name="l945"><span class="linenum"> 945</span></a>                                                  'userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a>,
<a name="l946"><span class="linenum"> 946</span></a>                                                  'groupid' =&gt; <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a>
<a name="l947"><span class="linenum"> 947</span></a>                                              )
<a name="l948"><span class="linenum"> 948</span></a>              );
<a name="l949"><span class="linenum"> 949</span></a>  
<a name="l950"><span class="linenum"> 950</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l951"><span class="linenum"> 951</span></a>  
<a name="l952"><span class="linenum"> 952</span></a>  <span class="comment">        // Get wiki and subwiki instances.</span>
<a name="l953"><span class="linenum"> 953</span></a>          if (!empty(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['subwikiid'])) {
<a name="l954"><span class="linenum"> 954</span></a>              if (!<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a> = <a class="function" onClick="logFunction('wiki_get_subwiki')" href="../../../_functions/wiki_get_subwiki.html" onMouseOver="funcPopup(event,'wiki_get_subwiki')">wiki_get_subwiki</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['subwikiid'])) {
<a name="l955"><span class="linenum"> 955</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectsubwikiid', 'wiki');
<a name="l956"><span class="linenum"> 956</span></a>              }
<a name="l957"><span class="linenum"> 957</span></a>  
<a name="l958"><span class="linenum"> 958</span></a>              if (!<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a> = <a class="function" onClick="logFunction('wiki_get_wiki')" href="../../../_functions/wiki_get_wiki.html" onMouseOver="funcPopup(event,'wiki_get_wiki')">wiki_get_wiki</a>(<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>-&gt;<a onClick="logVariable('wikiid')" class="var it44929" onMouseOver="hilite(44929)" onMouseOut="lolite()" href="../../../_variables/wikiid.html">wikiid</a>)) {
<a name="l959"><span class="linenum"> 959</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectwikiid', 'wiki');
<a name="l960"><span class="linenum"> 960</span></a>              }
<a name="l961"><span class="linenum"> 961</span></a>  
<a name="l962"><span class="linenum"> 962</span></a>  <span class="comment">            // Permission validation.</span>
<a name="l963"><span class="linenum"> 963</span></a>              <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('wiki', <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('id')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('course')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/course.html">course</a>);
<a name="l964"><span class="linenum"> 964</span></a>              <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l965"><span class="linenum"> 965</span></a>              self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l966"><span class="linenum"> 966</span></a>  
<a name="l967"><span class="linenum"> 967</span></a>          } else {
<a name="l968"><span class="linenum"> 968</span></a>              if (!<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a> = <a class="function" onClick="logFunction('wiki_get_wiki')" href="../../../_functions/wiki_get_wiki.html" onMouseOver="funcPopup(event,'wiki_get_wiki')">wiki_get_wiki</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['wikiid'])) {
<a name="l969"><span class="linenum"> 969</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectwikiid', 'wiki');
<a name="l970"><span class="linenum"> 970</span></a>              }
<a name="l971"><span class="linenum"> 971</span></a>  
<a name="l972"><span class="linenum"> 972</span></a>  <span class="comment">            // Permission validation.</span>
<a name="l973"><span class="linenum"> 973</span></a>              <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('wiki', <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('id')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('course')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/course.html">course</a>);
<a name="l974"><span class="linenum"> 974</span></a>              <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l975"><span class="linenum"> 975</span></a>              self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l976"><span class="linenum"> 976</span></a>  
<a name="l977"><span class="linenum"> 977</span></a>  <span class="comment">            // Determine groupid and userid to use.</span>
<a name="l978"><span class="linenum"> 978</span></a>              <a class="function" onClick="logFunction('list')" href="../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a>) = self::<a class="function" onClick="logFunction('determine_group_and_user')" href="../../../_functions/determine_group_and_user.html" onMouseOver="funcPopup(event,'determine_group_and_user')">determine_group_and_user</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['groupid'], <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['userid']);
<a name="l979"><span class="linenum"> 979</span></a>  
<a name="l980"><span class="linenum"> 980</span></a>  <span class="comment">            // Get subwiki and validate it.</span>
<a name="l981"><span class="linenum"> 981</span></a>              <a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a> = <a class="function" onClick="logFunction('wiki_get_subwiki_by_group_and_user_with_validation')" href="../../../_functions/wiki_get_subwiki_by_group_and_user_with_validation.html" onMouseOver="funcPopup(event,'wiki_get_subwiki_by_group_and_user_with_validation')">wiki_get_subwiki_by_group_and_user_with_validation</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>, <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a>);
<a name="l982"><span class="linenum"> 982</span></a>  
<a name="l983"><span class="linenum"> 983</span></a>              if (<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a> === false) {
<a name="l984"><span class="linenum"> 984</span></a>  <span class="comment">                // User cannot view page.</span>
<a name="l985"><span class="linenum"> 985</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('cannoteditpage', 'wiki');
<a name="l986"><span class="linenum"> 986</span></a>              } else if (<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>-&gt;<a onClick="logVariable('id')" class="var it44929" onMouseOver="hilite(44929)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a> &lt; 0) {
<a name="l987"><span class="linenum"> 987</span></a>  <span class="comment">                // Subwiki needed to check edit permissions.</span>
<a name="l988"><span class="linenum"> 988</span></a>                  if (!<a class="function" onClick="logFunction('wiki_user_can_edit')" href="../../../_functions/wiki_user_can_edit.html" onMouseOver="funcPopup(event,'wiki_user_can_edit')">wiki_user_can_edit</a>(<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>)) {
<a name="l989"><span class="linenum"> 989</span></a>                      throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('cannoteditpage', 'wiki');
<a name="l990"><span class="linenum"> 990</span></a>                  }
<a name="l991"><span class="linenum"> 991</span></a>  
<a name="l992"><span class="linenum"> 992</span></a>  <span class="comment">                // Subwiki does not exists and it can be created.</span>
<a name="l993"><span class="linenum"> 993</span></a>                  <a class="var it991" onMouseOver="hilite(991)" onMouseOut="lolite()" onClick="logVariable('swid')" href="../../../_variables/swid.html">$swid</a> = <a class="function" onClick="logFunction('wiki_add_subwiki')" href="../../../_functions/wiki_add_subwiki.html" onMouseOver="funcPopup(event,'wiki_add_subwiki')">wiki_add_subwiki</a>(<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('id')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it681" onMouseOver="hilite(681)" onMouseOut="lolite()" onClick="logVariable('groupid')" href="../../../_variables/groupid.html">$groupid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../../_variables/userid.html">$userid</a>);
<a name="l994"><span class="linenum"> 994</span></a>                  if (!<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a> = <a class="function" onClick="logFunction('wiki_get_subwiki')" href="../../../_functions/wiki_get_subwiki.html" onMouseOver="funcPopup(event,'wiki_get_subwiki')">wiki_get_subwiki</a>(<a class="var it991" onMouseOver="hilite(991)" onMouseOut="lolite()" onClick="logVariable('swid')" href="../../../_variables/swid.html">$swid</a>)) {
<a name="l995"><span class="linenum"> 995</span></a>                      throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectsubwikiid', 'wiki');
<a name="l996"><span class="linenum"> 996</span></a>                  }
<a name="l997"><span class="linenum"> 997</span></a>              }
<a name="l998"><span class="linenum"> 998</span></a>          }
<a name="l999"><span class="linenum"> 999</span></a>  
<a name="l1000"><span class="linenum">1000</span></a>  <span class="comment">        // Subwiki needed to check edit permissions.</span>
<a name="l1001"><span class="linenum">1001</span></a>          if (!<a class="function" onClick="logFunction('wiki_user_can_edit')" href="../../../_functions/wiki_user_can_edit.html" onMouseOver="funcPopup(event,'wiki_user_can_edit')">wiki_user_can_edit</a>(<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>)) {
<a name="l1002"><span class="linenum">1002</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('cannoteditpage', 'wiki');
<a name="l1003"><span class="linenum">1003</span></a>          }
<a name="l1004"><span class="linenum">1004</span></a>  
<a name="l1005"><span class="linenum">1005</span></a>          if (<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> = <a class="function" onClick="logFunction('wiki_get_page_by_title')" href="../../../_functions/wiki_get_page_by_title.html" onMouseOver="funcPopup(event,'wiki_get_page_by_title')">wiki_get_page_by_title</a>(<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>-&gt;<a onClick="logVariable('id')" class="var it44929" onMouseOver="hilite(44929)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['title'])) {
<a name="l1006"><span class="linenum">1006</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('pageexists', 'wiki');
<a name="l1007"><span class="linenum">1007</span></a>          }
<a name="l1008"><span class="linenum">1008</span></a>  
<a name="l1009"><span class="linenum">1009</span></a>  <span class="comment">        // Ignore invalid formats and use default instead.</span>
<a name="l1010"><span class="linenum">1010</span></a>          if (!<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['contentformat'] || <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('forceformat')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/forceformat.html">forceformat</a>) {
<a name="l1011"><span class="linenum">1011</span></a>              <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['contentformat'] = <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('defaultformat')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/defaultformat.html">defaultformat</a>;
<a name="l1012"><span class="linenum">1012</span></a>          } else {
<a name="l1013"><span class="linenum">1013</span></a>              <a class="var it3022" onMouseOver="hilite(3022)" onMouseOut="lolite()" onClick="logVariable('formats')" href="../../../_variables/formats.html">$formats</a> = <a class="function" onClick="logFunction('wiki_get_formats')" href="../../../_functions/wiki_get_formats.html" onMouseOver="funcPopup(event,'wiki_get_formats')">wiki_get_formats</a>();
<a name="l1014"><span class="linenum">1014</span></a>              if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['contentformat'], <a class="var it3022" onMouseOver="hilite(3022)" onMouseOut="lolite()" onClick="logVariable('formats')" href="../../../_variables/formats.html">$formats</a>)) {
<a name="l1015"><span class="linenum">1015</span></a>                  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['contentformat'] = <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('defaultformat')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/defaultformat.html">defaultformat</a>;
<a name="l1016"><span class="linenum">1016</span></a>              }
<a name="l1017"><span class="linenum">1017</span></a>          }
<a name="l1018"><span class="linenum">1018</span></a>  
<a name="l1019"><span class="linenum">1019</span></a>          <a class="var it1253" onMouseOver="hilite(1253)" onMouseOut="lolite()" onClick="logVariable('newpageid')" href="../../../_variables/newpageid.html">$newpageid</a> = <a class="function" onClick="logFunction('wiki_create_page')" href="../../../_functions/wiki_create_page.html" onMouseOver="funcPopup(event,'wiki_create_page')">wiki_create_page</a>(<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>-&gt;<a onClick="logVariable('id')" class="var it44929" onMouseOver="hilite(44929)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['title'], <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['contentformat'], <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l1020"><span class="linenum">1020</span></a>  
<a name="l1021"><span class="linenum">1021</span></a>          if (!<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> = <a class="function" onClick="logFunction('wiki_get_page')" href="../../../_functions/wiki_get_page.html" onMouseOver="funcPopup(event,'wiki_get_page')">wiki_get_page</a>(<a class="var it1253" onMouseOver="hilite(1253)" onMouseOut="lolite()" onClick="logVariable('newpageid')" href="../../../_variables/newpageid.html">$newpageid</a>)) {
<a name="l1022"><span class="linenum">1022</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectpageid', 'wiki');
<a name="l1023"><span class="linenum">1023</span></a>          }
<a name="l1024"><span class="linenum">1024</span></a>  
<a name="l1025"><span class="linenum">1025</span></a>  <span class="comment">        // Save content.</span>
<a name="l1026"><span class="linenum">1026</span></a>          <a class="var it56" onMouseOver="hilite(56)" onMouseOut="lolite()" onClick="logVariable('save')" href="../../../_variables/save.html">$save</a> = <a class="function" onClick="logFunction('wiki_save_page')" href="../../../_functions/wiki_save_page.html" onMouseOver="funcPopup(event,'wiki_save_page')">wiki_save_page</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['content'], <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l1027"><span class="linenum">1027</span></a>  
<a name="l1028"><span class="linenum">1028</span></a>          if (!<a class="var it56" onMouseOver="hilite(56)" onMouseOut="lolite()" onClick="logVariable('save')" href="../../../_variables/save.html">$save</a>) {
<a name="l1029"><span class="linenum">1029</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('savingerror', 'wiki');
<a name="l1030"><span class="linenum">1030</span></a>          }
<a name="l1031"><span class="linenum">1031</span></a>  
<a name="l1032"><span class="linenum">1032</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l1033"><span class="linenum">1033</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['pageid'] = <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('id')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l1034"><span class="linenum">1034</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l1035"><span class="linenum">1035</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l1036"><span class="linenum">1036</span></a>      }
<a name="l1037"><span class="linenum">1037</span></a>  
<a name="l1038"><span class="linenum">1038</span></a>      <span class="comment">/**</span>
<a name="l1039"><span class="linenum">1039</span></a>  <span class="comment">     * Describes the new_page return value.</span>
<a name="l1040"><span class="linenum">1040</span></a>  <span class="comment">     *</span>
<a name="l1041"><span class="linenum">1041</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1042"><span class="linenum">1042</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1043"><span class="linenum">1043</span></a>  <span class="comment">     */</span>
<a name="l1044"><span class="linenum">1044</span></a>      public static function <a class="function" onClick="logFunction('new_page_returns')" href="../../../_functions/new_page_returns.html" onMouseOver="funcPopup(event,'new_page_returns')">new_page_returns</a>() {
<a name="l1045"><span class="linenum">1045</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1046"><span class="linenum">1046</span></a>              array(
<a name="l1047"><span class="linenum">1047</span></a>                  'pageid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'New page id.'),
<a name="l1048"><span class="linenum">1048</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l1049"><span class="linenum">1049</span></a>              )
<a name="l1050"><span class="linenum">1050</span></a>          );
<a name="l1051"><span class="linenum">1051</span></a>      }
<a name="l1052"><span class="linenum">1052</span></a>  
<a name="l1053"><span class="linenum">1053</span></a>      <span class="comment">/**</span>
<a name="l1054"><span class="linenum">1054</span></a>  <span class="comment">     * Describes the parameters for edit_page.</span>
<a name="l1055"><span class="linenum">1055</span></a>  <span class="comment">     *</span>
<a name="l1056"><span class="linenum">1056</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l1057"><span class="linenum">1057</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1058"><span class="linenum">1058</span></a>  <span class="comment">     */</span>
<a name="l1059"><span class="linenum">1059</span></a>      public static function <a class="function" onClick="logFunction('edit_page_parameters')" href="../../../_functions/edit_page_parameters.html" onMouseOver="funcPopup(event,'edit_page_parameters')">edit_page_parameters</a>() {
<a name="l1060"><span class="linenum">1060</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../../../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l1061"><span class="linenum">1061</span></a>              array(
<a name="l1062"><span class="linenum">1062</span></a>                  'pageid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Page ID.'),
<a name="l1063"><span class="linenum">1063</span></a>                  'content' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Page contents.'),
<a name="l1064"><span class="linenum">1064</span></a>                  'section' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../../../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'Section page title.', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../../../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, null)
<a name="l1065"><span class="linenum">1065</span></a>              )
<a name="l1066"><span class="linenum">1066</span></a>          );
<a name="l1067"><span class="linenum">1067</span></a>      }
<a name="l1068"><span class="linenum">1068</span></a>  
<a name="l1069"><span class="linenum">1069</span></a>      <span class="comment">/**</span>
<a name="l1070"><span class="linenum">1070</span></a>  <span class="comment">     * Edit a page contents.</span>
<a name="l1071"><span class="linenum">1071</span></a>  <span class="comment">     *</span>
<a name="l1072"><span class="linenum">1072</span></a>  <span class="comment">     * @param int $pageid The page ID.</span>
<a name="l1073"><span class="linenum">1073</span></a>  <span class="comment">     * @param string $content Page contents.</span>
<a name="l1074"><span class="linenum">1074</span></a>  <span class="comment">     * @param int $section Section to be edited.</span>
<a name="l1075"><span class="linenum">1075</span></a>  <span class="comment">     * @return array of warnings and page data.</span>
<a name="l1076"><span class="linenum">1076</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1077"><span class="linenum">1077</span></a>  <span class="comment">     */</span>
<a name="l1078"><span class="linenum">1078</span></a>      public static function <a class="function" onClick="logFunction('edit_page')" href="../../../_functions/edit_page.html" onMouseOver="funcPopup(event,'edit_page')">edit_page</a>(<a class="var it987" onMouseOver="hilite(987)" onMouseOut="lolite()" onClick="logVariable('pageid')" href="../../../_variables/pageid.html">$pageid</a>, <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../_variables/content.html">$content</a>, <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a> = null) {
<a name="l1079"><span class="linenum">1079</span></a>          global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>;
<a name="l1080"><span class="linenum">1080</span></a>  
<a name="l1081"><span class="linenum">1081</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../../../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('edit_page_parameters')" href="../../../_functions/edit_page_parameters.html" onMouseOver="funcPopup(event,'edit_page_parameters')">edit_page_parameters</a>(),
<a name="l1082"><span class="linenum">1082</span></a>                                              array(
<a name="l1083"><span class="linenum">1083</span></a>                                                  'pageid' =&gt; <a class="var it987" onMouseOver="hilite(987)" onMouseOut="lolite()" onClick="logVariable('pageid')" href="../../../_variables/pageid.html">$pageid</a>,
<a name="l1084"><span class="linenum">1084</span></a>                                                  'content' =&gt; <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../_variables/content.html">$content</a>,
<a name="l1085"><span class="linenum">1085</span></a>                                                  'section' =&gt; <a class="var it989" onMouseOver="hilite(989)" onMouseOut="lolite()" onClick="logVariable('section')" href="../../../_variables/section.html">$section</a>
<a name="l1086"><span class="linenum">1086</span></a>                                              )
<a name="l1087"><span class="linenum">1087</span></a>              );
<a name="l1088"><span class="linenum">1088</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a> = array();
<a name="l1089"><span class="linenum">1089</span></a>  
<a name="l1090"><span class="linenum">1090</span></a>  <span class="comment">        // Get wiki page.</span>
<a name="l1091"><span class="linenum">1091</span></a>          if (!<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a> = <a class="function" onClick="logFunction('wiki_get_page')" href="../../../_functions/wiki_get_page.html" onMouseOver="funcPopup(event,'wiki_get_page')">wiki_get_page</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['pageid'])) {
<a name="l1092"><span class="linenum">1092</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectpageid', 'wiki');
<a name="l1093"><span class="linenum">1093</span></a>          }
<a name="l1094"><span class="linenum">1094</span></a>  
<a name="l1095"><span class="linenum">1095</span></a>  <span class="comment">        // Get wiki instance.</span>
<a name="l1096"><span class="linenum">1096</span></a>          if (!<a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a> = <a class="function" onClick="logFunction('wiki_get_wiki_from_pageid')" href="../../../_functions/wiki_get_wiki_from_pageid.html" onMouseOver="funcPopup(event,'wiki_get_wiki_from_pageid')">wiki_get_wiki_from_pageid</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['pageid'])) {
<a name="l1097"><span class="linenum">1097</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectwikiid', 'wiki');
<a name="l1098"><span class="linenum">1098</span></a>          }
<a name="l1099"><span class="linenum">1099</span></a>  
<a name="l1100"><span class="linenum">1100</span></a>  <span class="comment">        // Get subwiki instance.</span>
<a name="l1101"><span class="linenum">1101</span></a>          if (!<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a> = <a class="function" onClick="logFunction('wiki_get_subwiki')" href="../../../_functions/wiki_get_subwiki.html" onMouseOver="funcPopup(event,'wiki_get_subwiki')">wiki_get_subwiki</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('subwikiid')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/subwikiid.html">subwikiid</a>)) {
<a name="l1102"><span class="linenum">1102</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('incorrectsubwikiid', 'wiki');
<a name="l1103"><span class="linenum">1103</span></a>          }
<a name="l1104"><span class="linenum">1104</span></a>  
<a name="l1105"><span class="linenum">1105</span></a>  <span class="comment">        // Permission validation.</span>
<a name="l1106"><span class="linenum">1106</span></a>          <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_instance')" href="../../../_functions/get_coursemodule_from_instance.html" onMouseOver="funcPopup(event,'get_coursemodule_from_instance')">get_coursemodule_from_instance</a>('wiki', <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('id')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it998" onMouseOver="hilite(998)" onMouseOut="lolite()" onClick="logVariable('wiki')" href="../../../_variables/wiki.html">$wiki</a>-&gt;<a onClick="logVariable('course')" class="var it43263" onMouseOver="hilite(43263)" onMouseOut="lolite()" href="../../../_variables/course.html">course</a>);
<a name="l1107"><span class="linenum">1107</span></a>          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it42905" onMouseOver="hilite(42905)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l1108"><span class="linenum">1108</span></a>          self::<a class="function" onClick="logFunction('validate_context')" href="../../../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../../_variables/context.html">$context</a>);
<a name="l1109"><span class="linenum">1109</span></a>  
<a name="l1110"><span class="linenum">1110</span></a>          if (!<a class="function" onClick="logFunction('wiki_user_can_edit')" href="../../../_functions/wiki_user_can_edit.html" onMouseOver="funcPopup(event,'wiki_user_can_edit')">wiki_user_can_edit</a>(<a class="var it1010" onMouseOver="hilite(1010)" onMouseOut="lolite()" onClick="logVariable('subwiki')" href="../../../_variables/subwiki.html">$subwiki</a>)) {
<a name="l1111"><span class="linenum">1111</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('cannoteditpage', 'wiki');
<a name="l1112"><span class="linenum">1112</span></a>          }
<a name="l1113"><span class="linenum">1113</span></a>  
<a name="l1114"><span class="linenum">1114</span></a>          if (<a class="function" onClick="logFunction('wiki_is_page_section_locked')" href="../../../_functions/wiki_is_page_section_locked.html" onMouseOver="funcPopup(event,'wiki_is_page_section_locked')">wiki_is_page_section_locked</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('id')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['section'])) {
<a name="l1115"><span class="linenum">1115</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('pageislocked', 'wiki');
<a name="l1116"><span class="linenum">1116</span></a>          }
<a name="l1117"><span class="linenum">1117</span></a>  
<a name="l1118"><span class="linenum">1118</span></a>  <span class="comment">        // Save content.</span>
<a name="l1119"><span class="linenum">1119</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_null')" href="../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['section'])) {
<a name="l1120"><span class="linenum">1120</span></a>              <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../../../_variables/version.html">$version</a> = <a class="function" onClick="logFunction('wiki_get_current_version')" href="../../../_functions/wiki_get_current_version.html" onMouseOver="funcPopup(event,'wiki_get_current_version')">wiki_get_current_version</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('id')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l1121"><span class="linenum">1121</span></a>              <a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../_variables/content.html">$content</a> = <a class="class" onClick="logClass('wiki_parser_proxy')" href="../../../_classes/wiki_parser_proxy.html" onMouseOver="classPopup(event,'wiki_parser_proxy')">wiki_parser_proxy</a>::<a class="function" onClick="logFunction('get_section')" href="../../../_functions/get_section.html" onMouseOver="funcPopup(event,'get_section')">get_section</a>(<a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../../../_variables/version.html">$version</a>-&gt;<a onClick="logVariable('content')" class="var it43234" onMouseOver="hilite(43234)" onMouseOut="lolite()" href="../../../_variables/content.html">content</a>, <a class="var it347" onMouseOver="hilite(347)" onMouseOut="lolite()" onClick="logVariable('version')" href="../../../_variables/version.html">$version</a>-&gt;<a onClick="logVariable('contentformat')" class="var it43234" onMouseOver="hilite(43234)" onMouseOut="lolite()" href="../../../_variables/contentformat.html">contentformat</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['section'], false);
<a name="l1122"><span class="linenum">1122</span></a>              if (!<a class="var it253" onMouseOver="hilite(253)" onMouseOut="lolite()" onClick="logVariable('content')" href="../../../_variables/content.html">$content</a>) {
<a name="l1123"><span class="linenum">1123</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('invalidsection', 'wiki');
<a name="l1124"><span class="linenum">1124</span></a>              }
<a name="l1125"><span class="linenum">1125</span></a>  
<a name="l1126"><span class="linenum">1126</span></a>              <a class="var it56" onMouseOver="hilite(56)" onMouseOut="lolite()" onClick="logVariable('save')" href="../../../_variables/save.html">$save</a> = <a class="function" onClick="logFunction('wiki_save_section')" href="../../../_functions/wiki_save_section.html" onMouseOver="funcPopup(event,'wiki_save_section')">wiki_save_section</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['section'], <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['content'], <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l1127"><span class="linenum">1127</span></a>          } else {
<a name="l1128"><span class="linenum">1128</span></a>              <a class="var it56" onMouseOver="hilite(56)" onMouseOut="lolite()" onClick="logVariable('save')" href="../../../_variables/save.html">$save</a> = <a class="function" onClick="logFunction('wiki_save_page')" href="../../../_functions/wiki_save_page.html" onMouseOver="funcPopup(event,'wiki_save_page')">wiki_save_page</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['content'], <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>);
<a name="l1129"><span class="linenum">1129</span></a>          }
<a name="l1130"><span class="linenum">1130</span></a>  
<a name="l1131"><span class="linenum">1131</span></a>          <a class="function" onClick="logFunction('wiki_delete_locks')" href="../../../_functions/wiki_delete_locks.html" onMouseOver="funcPopup(event,'wiki_delete_locks')">wiki_delete_locks</a>(<a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('id')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['section']);
<a name="l1132"><span class="linenum">1132</span></a>  
<a name="l1133"><span class="linenum">1133</span></a>          if (!<a class="var it56" onMouseOver="hilite(56)" onMouseOut="lolite()" onClick="logVariable('save')" href="../../../_variables/save.html">$save</a>) {
<a name="l1134"><span class="linenum">1134</span></a>              throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../../../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('savingerror', 'wiki');
<a name="l1135"><span class="linenum">1135</span></a>          }
<a name="l1136"><span class="linenum">1136</span></a>  
<a name="l1137"><span class="linenum">1137</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array();
<a name="l1138"><span class="linenum">1138</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['pageid'] = <a class="var it30" onMouseOver="hilite(30)" onMouseOut="lolite()" onClick="logVariable('page')" href="../../../_variables/page.html">$page</a>-&gt;<a onClick="logVariable('id')" class="var it42985" onMouseOver="hilite(42985)" onMouseOut="lolite()" href="../../../_variables/id.html">id</a>;
<a name="l1139"><span class="linenum">1139</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../../../_variables/warnings.html">$warnings</a>;
<a name="l1140"><span class="linenum">1140</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>;
<a name="l1141"><span class="linenum">1141</span></a>      }
<a name="l1142"><span class="linenum">1142</span></a>  
<a name="l1143"><span class="linenum">1143</span></a>      <span class="comment">/**</span>
<a name="l1144"><span class="linenum">1144</span></a>  <span class="comment">     * Describes the edit_page return value.</span>
<a name="l1145"><span class="linenum">1145</span></a>  <span class="comment">     *</span>
<a name="l1146"><span class="linenum">1146</span></a>  <span class="comment">     * @return external_single_structure</span>
<a name="l1147"><span class="linenum">1147</span></a>  <span class="comment">     * @since Moodle 3.1</span>
<a name="l1148"><span class="linenum">1148</span></a>  <span class="comment">     */</span>
<a name="l1149"><span class="linenum">1149</span></a>      public static function <a class="function" onClick="logFunction('edit_page_returns')" href="../../../_functions/edit_page_returns.html" onMouseOver="funcPopup(event,'edit_page_returns')">edit_page_returns</a>() {
<a name="l1150"><span class="linenum">1150</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../../../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l1151"><span class="linenum">1151</span></a>              array(
<a name="l1152"><span class="linenum">1152</span></a>                  'pageid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../../../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Edited page id.'),
<a name="l1153"><span class="linenum">1153</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../../../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l1154"><span class="linenum">1154</span></a>              )
<a name="l1155"><span class="linenum">1155</span></a>          );
<a name="l1156"><span class="linenum">1156</span></a>      }
<a name="l1157"><span class="linenum">1157</span></a>  
<a name="l1158"><span class="linenum">1158</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'new_page': ['new_page', 'Creates a new page. ', [['mod/wiki/classes','external.php',921]], 4],
'get_wikis_by_courses_returns': ['get_wikis_by_courses_returns', 'Describes the get_wikis_by_courses return value. ', [['mod/wiki/classes','external.php',136]], 3],
'wiki_get_formats': ['wiki_get_formats', 'Text format supported by wiki module ', [['mod/wiki','locallib.php',591]], 3],
'get_subwiki_pages_returns': ['get_subwiki_pages_returns', 'Describes the get_subwiki_pages return value. ', [['mod/wiki/classes','external.php',530]], 25],
'wiki_can_create_pages': ['wiki_can_create_pages', 'Check if the user can create pages in a certain wiki. ', [['mod/wiki','locallib.php',1556]], 2],
'get_subwikis_parameters': ['get_subwikis_parameters', 'Describes the parameters for get_subwikis. ', [['mod/wiki/classes','external.php',325]], 1],
'get_subwiki_files_returns': ['get_subwiki_files_returns', 'Describes the get_subwiki_pages return value. ', [['mod/wiki/classes','external.php',740]], 5],
'enrol_get_my_courses': ['enrol_get_my_courses', 'Returns list of courses current $USER is enrolled in and can access ', [['lib','enrollib.php',512]], 30],
'get_subwikis': ['get_subwikis', 'Returns the list of subwikis the user can see in a specific wiki. ', [['mod/wiki/classes','external.php',339]], 4],
'wiki_is_page_section_locked': ['wiki_is_page_section_locked', 'Checks if a page-section is locked. ', [['mod/wiki','locallib.php',997]], 2],
'wiki_get_subwiki': ['wiki_get_subwiki', 'Get a sub wiki instace by instance id ', [['mod/wiki','locallib.php',79]], 31],
'get_section': ['get_section', 'Get the course section number (relative). ', [['course','moodleform_mod.php',124],['availability/classes','info_section.php',69],['mod/wiki/parser/markups','creole.php',94],['course/format','lib.php',318],['mod/wiki/parser/markups','html.php',61],['mod/wiki/parser','parser.php',42],['mod/wiki/parser/markups','wikimarkup.php',400]], 23],
'edit_page_parameters': ['edit_page_parameters', 'Describes the parameters for edit_page. ', [['mod/wiki/classes','external.php',1053]], 1],
'get_area_files': ['get_area_files', 'Returns all area files (optionally limited by itemid) ', [['lib/filestorage','file_storage.php',782],['lib','externallib.php',1134]], 216],
'view_page_returns': ['view_page_returns', 'Returns description of method result value ', [['mod/page/classes','external.php',92],['mod/wiki/classes','external.php',310]], 2],
'wiki_get_page_by_title': ['wiki_get_page_by_title', 'Get a wiki page by page title ', [['mod/wiki','locallib.php',174]], 7],
'get_page_contents_parameters': ['get_page_contents_parameters', 'Describes the parameters for get_page_contents. ', [['mod/wiki/classes','external.php',566]], 1],
'determine_group_and_user': ['determine_group_and_user', 'Utility function for determining the groupid and userid to use. ', [['mod/wiki/classes','external.php',756]], 3],
'strlen': ['strlen', 'Counts the number of characters. Unit-tested by Kasper (single byte charsets only) ', [['lib/typo3','class.t3lib_cs.php',1520],['lib/classes','text.php',305]], 1649],
'get_page_contents': ['get_page_contents', 'Get a page contents. ', [['mod/wiki/classes','external.php',580]], 9],
'wiki_page_view': ['wiki_page_view', 'Mark the activity completed (if required) and trigger the page_viewed event. ', [['mod/wiki','lib.php',696]], 5],
'get_subwiki_pages': ['get_subwiki_pages', 'Returns the list of pages from a specific subwiki. ', [['mod/wiki/classes','external.php',427]], 36],
'view_wiki_returns': ['view_wiki_returns', 'Describes the view_wiki return value. ', [['mod/wiki/classes','external.php',233]], 1],
'view_wiki': ['view_wiki', 'Trigger the course module viewed event and update the module completion status. ', [['mod/wiki/classes','external.php',193]], 4],
'wiki_save_section': ['wiki_save_section', '', [['mod/wiki','locallib.php',212]], 2],
'external_format_string': ['external_format_string', 'Format the string to be returned properly as requested by the either the web service server, either by an internally call. The caller can change the format (raw) with the external_settings singleton All web service servers must set this singleton when parsing the $_GET and $_POST. ', [['lib','externallib.php',850]], 48],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',922],['lib','accesslib.php',344]], 2064],
'wiki_view': ['wiki_view', 'Mark the activity completed (if required) and trigger the course_module_viewed event. ', [['mod/wiki','lib.php',670]], 3],
'wiki_get_subwiki_by_group_and_user_with_validation': ['wiki_get_subwiki_by_group_and_user_with_validation', 'Utility function for getting a subwiki by group and user, validating that the user can view it. If the subwiki doesn\'t exists in DB yet it\'ll have id -1. ', [['mod/wiki','locallib.php',1691]], 3],
'wiki_user_can_view': ['wiki_user_can_view', 'Checks if current user can view a subwiki ', [['mod/wiki','locallib.php',756]], 20],
'view_page_parameters': ['view_page_parameters', 'Returns description of method parameters ', [['mod/page/classes','external.php',42],['mod/wiki/classes','external.php',248]], 2],
'new_page_parameters': ['new_page_parameters', 'Describes the parameters for new_page. ', [['mod/wiki/classes','external.php',897]], 1],
'get_page_for_editing_returns': ['get_page_for_editing_returns', 'Describes the get_page_for_editing return value. ', [['mod/wiki/classes','external.php',876]], 2],
'format': ['format', 'Format the args for use in exception messages ', [['lib/lessphp/Tree/Mixin','Call.php',153],['question/format/xml','format.php',1535],['mod/wiki/diff','diff_nwiki.php',713]], 161],
'wiki_get_page': ['wiki_get_page', 'Get a wiki page by pageid ', [['mod/wiki','locallib.php',125]], 27],
'external_format_text': ['external_format_text', 'Format the text to be returned properly as requested by the either the web service server, either by an internally call. The caller can change the format (raw, filter, file, fileurl) with the external_settings singleton All web service servers must set this singleton when parsing the $_GET and $_POST. ', [['lib','externallib.php',887]], 61],
'get_subwiki_pages_parameters': ['get_subwiki_pages_parameters', 'Describes the parameters for get_subwiki_pages. ', [['mod/wiki/classes','external.php',400]], 1],
'get_wikis_by_courses': ['get_wikis_by_courses', 'Returns a list of wikis in a provided list of courses, if no list is provided all wikis that the user can view will be returned. ', [['mod/wiki/classes','external.php',60]], 8],
'get_page_for_editing_parameters': ['get_page_for_editing_parameters', 'Describes the parameters for get_page_for_editing. ', [['mod/wiki/classes','external.php',790]], 1],
'require_capability': ['require_capability', 'Wrapper round the require_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',929],['lib','accesslib.php',762],['backup/util/ui','restore_ui_components.php',157]], 690],
'get_coursemodule_from_instance': ['get_coursemodule_from_instance', 'Given an instance number of a module, finds the coursemodule description ', [['lib','datalib.php',1300]], 441],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'view_page': ['view_page', 'Print a sub page in this plugin ', [['mod/assign/feedback/offline','locallib.php',353],['mod/page/classes','external.php',56],['mod/wiki/classes','external.php',262],['mod/assign','assignmentplugin.php',613],['mod/assign/feedback/file','locallib.php',647],['mod/quiz','renderer.php',762]], 10],
'new_page_returns': ['new_page_returns', 'Describes the new_page return value. ', [['mod/wiki/classes','external.php',1038]], 2],
'get_subwiki_files_parameters': ['get_subwiki_files_parameters', 'Describes the parameters for get_subwiki_files. ', [['mod/wiki/classes','external.php',671]], 1],
'wiki_set_lock': ['wiki_set_lock', 'Inserts or updates a wiki_locks record. ', [['mod/wiki','locallib.php',1016]], 4],
'wiki_get_first_page': ['wiki_get_first_page', 'Get first page of wiki instace ', [['mod/wiki','locallib.php',195]], 2],
'get_wikis_by_courses_parameters': ['get_wikis_by_courses_parameters', 'Describes the parameters for get_wikis_by_courses. ', [['mod/wiki/classes','external.php',44]], 1],
'get_page_contents_returns': ['get_page_contents_returns', 'Describes the get_page_contents return value. ', [['mod/wiki/classes','external.php',644]], 4],
'wiki_get_page_list': ['wiki_get_page_list', 'Get pages list in wiki ', [['mod/wiki','locallib.php',506]], 6],
'wiki_delete_locks': ['wiki_delete_locks', 'Deletes wiki_locks that are not in use. (F.Ex. after submitting the changes). If no userid is present, it deletes ALL the wiki_locks of a specific page. ', [['mod/wiki','locallib.php',1039]], 7],
'groups_get_activity_group': ['groups_get_activity_group', 'Returns group active in activity, changes the group by default if \'group\' page param present ', [['lib','grouplib.php',814]], 97],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'wiki_create_page': ['wiki_create_page', 'Create a new wiki page, if the page exists, return existing pageid ', [['mod/wiki','locallib.php',344]], 6],
'edit_page': ['edit_page', 'Edit a page contents. ', [['mod/wiki/classes','external.php',1069],['mod/quiz/classes/output','edit_renderer.php',40]], 5],
'wiki_refresh_cachedcontent': ['wiki_refresh_cachedcontent', '', [['mod/wiki','locallib.php',274]], 12],
'wiki_user_can_edit': ['wiki_user_can_edit', 'Checks if current user can edit a subwiki ', [['mod/wiki','locallib.php',862]], 51],
'wiki_get_current_version': ['wiki_get_current_version', 'Get latest version of wiki page ', [['mod/wiki','locallib.php',135]], 20],
'wiki_save_page': ['wiki_save_page', 'Save page content ', [['mod/wiki','locallib.php',230]], 7],
'validate_courses': ['validate_courses', 'Validate a list of courses, returning the complete course objects for valid courses. ', [['lib','externallib.php',1096]], 16],
'wiki_get_wiki': ['wiki_get_wiki', 'Get a wiki instance ', [['mod/wiki','locallib.php',49]], 32],
'get_course_and_cm_from_instance': ['get_course_and_cm_from_instance', 'Efficiently retrieves the $course (stdclass) and $cm (cm_info) objects, given an instance id or record and module name. ', [['lib','modinfolib.php',2099]], 45],
'get_subwiki_files': ['get_subwiki_files', 'Returns the list of files from a specific subwiki. ', [['mod/wiki/classes','external.php',689]], 6],
'wiki_add_subwiki': ['wiki_add_subwiki', 'Add a new sub wiki instance ', [['mod/wiki','locallib.php',90]], 6],
'wiki_get_visible_subwikis': ['wiki_get_visible_subwikis', 'Get all the possible subwikis visible to the user in a wiki. It will return all the subwikis that can be created in a wiki, even if they don\'t exist in DB yet. ', [['mod/wiki','locallib.php',1588]], 13],
'get_subwikis_returns': ['get_subwikis_returns', 'Describes the get_subwikis return value. ', [['mod/wiki/classes','external.php',375]], 1],
'get_all_instances_in_courses': ['get_all_instances_in_courses', 'Returns an array of all the active instances of a particular module in given courses, sorted in the order they are defined ', [['lib','datalib.php',1382]], 23],
'mode': ['mode', 'MODE ', [['lib/phpexcel/PHPExcel/Calculation','Statistical.php',2503]], 17],
'edit_page_returns': ['edit_page_returns', 'Describes the edit_page return value. ', [['mod/wiki/classes','external.php',1143]], 2],
'wiki_get_wiki_from_pageid': ['wiki_get_wiki_from_pageid', 'Get a wiki instance by pageid ', [['mod/wiki','locallib.php',108]], 9],
'get_page_for_editing': ['get_page_for_editing', 'Locks and retrieves info of page-section to be edited. ', [['mod/wiki/classes','external.php',805]], 2],
'view_wiki_parameters': ['view_wiki_parameters', 'Describes the parameters for view_wiki. ', [['mod/wiki/classes','external.php',179]], 1],
'validate_parameters': ['validate_parameters', 'Validates submitted function parameters, if anything is incorrect invalid_parameter_exception is thrown. This is a simple recursive method which is intended to be called from each implementation method of external API. ', [['lib','externallib.php',279]], 340],
'validate_context': ['validate_context', 'Makes sure user may execute functions in this context. ', [['lib','externallib.php',448]], 256],
'array_merge': ['array_merge', '', [], 2944],
'defined': ['defined', '', [], 4731],
'mb_strlen': ['mb_strlen', '', [], 31],
'function_exists': ['function_exists', '', [], 419],
'ini_get': ['ini_get', '', [], 121],
'array_keys': ['array_keys', '', [], 1256],
'time': ['time', '', [], 1959],
'is_null': ['is_null', '', [], 2003],
'in_array': ['in_array', '', [], 1234]};
CLASS_DATA={
'external_value': ['external_value', 'Scalar value description class ', [['lib','externallib.php',546]], 2505],
'external_util': ['external_util', 'Utility functions for the external API. ', [['lib','externallib.php',1086]], 38],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',7039]], 1106],
'external_warnings': ['external_warnings', 'Standard Moodle web service warnings ', [['lib','externallib.php',768]], 150],
'external_function_parameters': ['external_function_parameters', 'Description of top level - PHP function parameters. ', [['lib','externallib.php',638]], 344],
'mod_wiki_external': ['mod_wiki_external', 'Wiki module external functions. ', [['mod/wiki/classes','external.php',33]], 127],
'external_multiple_structure': ['external_multiple_structure', 'Bulk array description class. ', [['lib','externallib.php',609]], 350],
'external_files': ['external_files', 'External structure representing a set of files. ', [['lib','externallib.php',1167]], 21],
'moodle_exception': ['moodle_exception', 'Base Moodle Exception class ', [['lib','setuplib.php',75]], 606],
'external_single_structure': ['external_single_structure', 'Associative array description class ', [['lib','externallib.php',580]], 460],
'wiki_parser_proxy': ['wiki_parser_proxy', 'Generic parser implementation ', [['mod/wiki/parser','parser.php',3]], 29],
'external_format_value': ['external_format_value', 'A pre-filled external_value class for text format. ', [['lib','externallib.php',799]], 70],
'external_api': ['external_api', 'Base class for external api methods. ', [['lib','externallib.php',47]], 808]};
CONST_DATA={
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 802],
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 921],
'FORMAT_HTML': ['FORMAT_HTML', '', [['lib','weblib.php',47]], 1121],
'VALUE_OPTIONAL': ['VALUE_OPTIONAL', '', [['lib','moodlelib.php',337]], 761],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'WIKI_REFRESH_CACHE_TIME': ['WIKI_REFRESH_CACHE_TIME', '', [['mod/wiki','locallib.php',39]], 12],
'VALUE_DEFAULT': ['VALUE_DEFAULT', '', [['lib','moodlelib.php',342]], 304],
'PARAM_ALPHA': ['PARAM_ALPHA', '', [['lib','moodlelib.php',77]], 398],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 3812],
'PARAM_TEXT': ['PARAM_TEXT', '', [['lib','moodlelib.php',228]], 542]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
