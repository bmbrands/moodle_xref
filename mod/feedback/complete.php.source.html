<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /mod/feedback/complete.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='mod/feedback';
filename='complete.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/mod/feedback/</a> -> <a href="complete.php.html">complete.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="complete.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="complete.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * prints the form so the user can fill out the feedback</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @author Andreas Grabs</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @license http://www.gnu.org/copyleft/gpl.html GNU Public License</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @package mod_feedback</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> */</span>
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  require_once(&quot;../../config.php&quot;);
<a name="l26"><span class="linenum">  26</span></a>  <span class="keyword">require_once</span> <a class="filename" href="../../mod/choice/lib.php.html" onMouseOver="reqPopup(event, 'lib.php', '../../mod/choice/lib.php')">(&quot;lib.php&quot;)</a>;
<a name="l27"><span class="linenum">  27</span></a>  require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a> . '/completionlib.php');
<a name="l28"><span class="linenum">  28</span></a>  
<a name="l29"><span class="linenum">  29</span></a>  <a class="function" onClick="logFunction('feedback_init_feedback_session')" href="../../_functions/feedback_init_feedback_session.html" onMouseOver="funcPopup(event,'feedback_init_feedback_session')">feedback_init_feedback_session</a>();
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a> = <a class="function" onClick="logFunction('required_param')" href="../../_functions/required_param.html" onMouseOver="funcPopup(event,'required_param')">required_param</a>('id', <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l32"><span class="linenum">  32</span></a>  <a class="var it5244" onMouseOver="hilite(5244)" onMouseOut="lolite()" onClick="logVariable('completedid')" href="../../_variables/completedid.html">$completedid</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('completedid', false, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l33"><span class="linenum">  33</span></a>  <a class="var it5245" onMouseOver="hilite(5245)" onMouseOut="lolite()" onClick="logVariable('preservevalues')" href="../../_variables/preservevalues.html">$preservevalues</a>  = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('preservevalues', 0,  <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l34"><span class="linenum">  34</span></a>  <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('courseid', false, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l35"><span class="linenum">  35</span></a>  <a class="var it5246" onMouseOver="hilite(5246)" onMouseOut="lolite()" onClick="logVariable('gopage')" href="../../_variables/gopage.html">$gopage</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('gopage', -1, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l36"><span class="linenum">  36</span></a>  <a class="var it5247" onMouseOver="hilite(5247)" onMouseOut="lolite()" onClick="logVariable('lastpage')" href="../../_variables/lastpage.html">$lastpage</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('lastpage', false, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l37"><span class="linenum">  37</span></a>  <a class="var it5248" onMouseOver="hilite(5248)" onMouseOut="lolite()" onClick="logVariable('startitempos')" href="../../_variables/startitempos.html">$startitempos</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('startitempos', 0, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l38"><span class="linenum">  38</span></a>  <a class="var it5249" onMouseOver="hilite(5249)" onMouseOut="lolite()" onClick="logVariable('lastitempos')" href="../../_variables/lastitempos.html">$lastitempos</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('lastitempos', 0, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l39"><span class="linenum">  39</span></a>  <a class="var it5250" onMouseOver="hilite(5250)" onMouseOut="lolite()" onClick="logVariable('anonymous_response')" href="../../_variables/anonymous_response.html">$anonymous_response</a> = <a class="function" onClick="logFunction('optional_param')" href="../../_functions/optional_param.html" onMouseOver="funcPopup(event,'optional_param')">optional_param</a>('anonymous_response', 0, <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>); <span class="comment">//arb</span>
<a name="l40"><span class="linenum">  40</span></a>  
<a name="l41"><span class="linenum">  41</span></a>  <a class="var it5251" onMouseOver="hilite(5251)" onMouseOut="lolite()" onClick="logVariable('highlightrequired')" href="../../_variables/highlightrequired.html">$highlightrequired</a> = false;
<a name="l42"><span class="linenum">  42</span></a>  
<a name="l43"><span class="linenum">  43</span></a>  if ((<a class="var it1039" onMouseOver="hilite(1039)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a> = <a class="function" onClick="logFunction('data_submitted')" href="../../_functions/data_submitted.html" onMouseOver="funcPopup(event,'data_submitted')">data_submitted</a>()) AND !<a class="function" onClick="logFunction('confirm_sesskey')" href="../../_functions/confirm_sesskey.html" onMouseOver="funcPopup(event,'confirm_sesskey')">confirm_sesskey</a>()) {
<a name="l44"><span class="linenum">  44</span></a>      <a class="function" onClick="logFunction('print_error')" href="../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('invalidsesskey');
<a name="l45"><span class="linenum">  45</span></a>  }
<a name="l46"><span class="linenum">  46</span></a>  
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">//if the use hit enter into a textfield so the form should not submit</span>
<a name="l48"><span class="linenum">  48</span></a>  if (isset(<a class="var it1039" onMouseOver="hilite(1039)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('sesskey')" class="var it39622" onMouseOver="hilite(39622)" onMouseOut="lolite()" href="../../_variables/sesskey.html">sesskey</a>) AND
<a name="l49"><span class="linenum">  49</span></a>      !isset(<a class="var it1039" onMouseOver="hilite(1039)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('savevalues')" class="var it39622" onMouseOver="hilite(39622)" onMouseOut="lolite()" href="../../_variables/savevalues.html">savevalues</a>) AND
<a name="l50"><span class="linenum">  50</span></a>      !isset(<a class="var it1039" onMouseOver="hilite(1039)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('gonextpage')" class="var it39622" onMouseOver="hilite(39622)" onMouseOut="lolite()" href="../../_variables/gonextpage.html">gonextpage</a>) AND
<a name="l51"><span class="linenum">  51</span></a>      !isset(<a class="var it1039" onMouseOver="hilite(1039)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('gopreviouspage')" class="var it39622" onMouseOver="hilite(39622)" onMouseOut="lolite()" href="../../_variables/gopreviouspage.html">gopreviouspage</a>)) {
<a name="l52"><span class="linenum">  52</span></a>  
<a name="l53"><span class="linenum">  53</span></a>      <a class="var it5246" onMouseOver="hilite(5246)" onMouseOut="lolite()" onClick="logVariable('gopage')" href="../../_variables/gopage.html">$gopage</a> = <a class="var it1039" onMouseOver="hilite(1039)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('lastpage')" class="var it39622" onMouseOver="hilite(39622)" onMouseOut="lolite()" href="../../_variables/lastpage.html">lastpage</a>;
<a name="l54"><span class="linenum">  54</span></a>  }
<a name="l55"><span class="linenum">  55</span></a>  
<a name="l56"><span class="linenum">  56</span></a>  if (isset(<a class="var it1039" onMouseOver="hilite(1039)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('savevalues')" class="var it39622" onMouseOver="hilite(39622)" onMouseOut="lolite()" href="../../_variables/savevalues.html">savevalues</a>)) {
<a name="l57"><span class="linenum">  57</span></a>      <a class="var it5252" onMouseOver="hilite(5252)" onMouseOut="lolite()" onClick="logVariable('savevalues')" href="../../_variables/savevalues.html">$savevalues</a> = true;
<a name="l58"><span class="linenum">  58</span></a>  } else {
<a name="l59"><span class="linenum">  59</span></a>      <a class="var it5252" onMouseOver="hilite(5252)" onMouseOut="lolite()" onClick="logVariable('savevalues')" href="../../_variables/savevalues.html">$savevalues</a> = false;
<a name="l60"><span class="linenum">  60</span></a>  }
<a name="l61"><span class="linenum">  61</span></a>  
<a name="l62"><span class="linenum">  62</span></a>  if (<a class="var it5246" onMouseOver="hilite(5246)" onMouseOut="lolite()" onClick="logVariable('gopage')" href="../../_variables/gopage.html">$gopage</a> &lt; 0 AND !<a class="var it5252" onMouseOver="hilite(5252)" onMouseOut="lolite()" onClick="logVariable('savevalues')" href="../../_variables/savevalues.html">$savevalues</a>) {
<a name="l63"><span class="linenum">  63</span></a>      if (isset(<a class="var it1039" onMouseOver="hilite(1039)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('gonextpage')" class="var it39622" onMouseOver="hilite(39622)" onMouseOut="lolite()" href="../../_variables/gonextpage.html">gonextpage</a>)) {
<a name="l64"><span class="linenum">  64</span></a>          <a class="var it5246" onMouseOver="hilite(5246)" onMouseOut="lolite()" onClick="logVariable('gopage')" href="../../_variables/gopage.html">$gopage</a> = <a class="var it5247" onMouseOver="hilite(5247)" onMouseOut="lolite()" onClick="logVariable('lastpage')" href="../../_variables/lastpage.html">$lastpage</a> + 1;
<a name="l65"><span class="linenum">  65</span></a>          <a class="var it5253" onMouseOver="hilite(5253)" onMouseOut="lolite()" onClick="logVariable('gonextpage')" href="../../_variables/gonextpage.html">$gonextpage</a> = true;
<a name="l66"><span class="linenum">  66</span></a>          <a class="var it5254" onMouseOver="hilite(5254)" onMouseOut="lolite()" onClick="logVariable('gopreviouspage')" href="../../_variables/gopreviouspage.html">$gopreviouspage</a> = false;
<a name="l67"><span class="linenum">  67</span></a>      } else if (isset(<a class="var it1039" onMouseOver="hilite(1039)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;<a onClick="logVariable('gopreviouspage')" class="var it39622" onMouseOver="hilite(39622)" onMouseOut="lolite()" href="../../_variables/gopreviouspage.html">gopreviouspage</a>)) {
<a name="l68"><span class="linenum">  68</span></a>          <a class="var it5246" onMouseOver="hilite(5246)" onMouseOut="lolite()" onClick="logVariable('gopage')" href="../../_variables/gopage.html">$gopage</a> = <a class="var it5247" onMouseOver="hilite(5247)" onMouseOut="lolite()" onClick="logVariable('lastpage')" href="../../_variables/lastpage.html">$lastpage</a> - 1;
<a name="l69"><span class="linenum">  69</span></a>          <a class="var it5253" onMouseOver="hilite(5253)" onMouseOut="lolite()" onClick="logVariable('gonextpage')" href="../../_variables/gonextpage.html">$gonextpage</a> = false;
<a name="l70"><span class="linenum">  70</span></a>          <a class="var it5254" onMouseOver="hilite(5254)" onMouseOut="lolite()" onClick="logVariable('gopreviouspage')" href="../../_variables/gopreviouspage.html">$gopreviouspage</a> = true;
<a name="l71"><span class="linenum">  71</span></a>      } else {
<a name="l72"><span class="linenum">  72</span></a>          <a class="function" onClick="logFunction('print_error')" href="../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('missingparameter');
<a name="l73"><span class="linenum">  73</span></a>      }
<a name="l74"><span class="linenum">  74</span></a>  } else {
<a name="l75"><span class="linenum">  75</span></a>      <a class="var it5253" onMouseOver="hilite(5253)" onMouseOut="lolite()" onClick="logVariable('gonextpage')" href="../../_variables/gonextpage.html">$gonextpage</a> = <a class="var it5254" onMouseOver="hilite(5254)" onMouseOut="lolite()" onClick="logVariable('gopreviouspage')" href="../../_variables/gopreviouspage.html">$gopreviouspage</a> = false;
<a name="l76"><span class="linenum">  76</span></a>  }
<a name="l77"><span class="linenum">  77</span></a>  
<a name="l78"><span class="linenum">  78</span></a>  if (! <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a> = <a class="function" onClick="logFunction('get_coursemodule_from_id')" href="../../_functions/get_coursemodule_from_id.html" onMouseOver="funcPopup(event,'get_coursemodule_from_id')">get_coursemodule_from_id</a>('feedback', <a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>)) {
<a name="l79"><span class="linenum">  79</span></a>      <a class="function" onClick="logFunction('print_error')" href="../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('invalidcoursemodule');
<a name="l80"><span class="linenum">  80</span></a>  }
<a name="l81"><span class="linenum">  81</span></a>  
<a name="l82"><span class="linenum">  82</span></a>  if (! <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>(&quot;course&quot;, array(&quot;id&quot;=&gt;<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('course')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>))) {
<a name="l83"><span class="linenum">  83</span></a>      <a class="function" onClick="logFunction('print_error')" href="../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('coursemisconf');
<a name="l84"><span class="linenum">  84</span></a>  }
<a name="l85"><span class="linenum">  85</span></a>  
<a name="l86"><span class="linenum">  86</span></a>  if (! <a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>(&quot;feedback&quot;, array(&quot;id&quot;=&gt;<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('instance')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/instance.html">instance</a>))) {
<a name="l87"><span class="linenum">  87</span></a>      <a class="function" onClick="logFunction('print_error')" href="../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('invalidcoursemodule');
<a name="l88"><span class="linenum">  88</span></a>  }
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>  <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l91"><span class="linenum">  91</span></a>  
<a name="l92"><span class="linenum">  92</span></a>  <a class="var it5255" onMouseOver="hilite(5255)" onMouseOut="lolite()" onClick="logVariable('feedback_complete_cap')" href="../../_variables/feedback_complete_cap.html">$feedback_complete_cap</a> = false;
<a name="l93"><span class="linenum">  93</span></a>  
<a name="l94"><span class="linenum">  94</span></a>  if (<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/feedback:complete', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l95"><span class="linenum">  95</span></a>      <a class="var it5255" onMouseOver="hilite(5255)" onMouseOut="lolite()" onClick="logVariable('feedback_complete_cap')" href="../../_variables/feedback_complete_cap.html">$feedback_complete_cap</a> = true;
<a name="l96"><span class="linenum">  96</span></a>  }
<a name="l97"><span class="linenum">  97</span></a>  
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">//check whether the feedback is located and! started from the mainsite</span>
<a name="l99"><span class="linenum">  99</span></a>  if (<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> == <a class="constant" onClick="logConstant('SITEID')" href="../../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a> AND !<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>) {
<a name="l100"><span class="linenum"> 100</span></a>      <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a> = <a class="constant" onClick="logConstant('SITEID')" href="../../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>;
<a name="l101"><span class="linenum"> 101</span></a>  }
<a name="l102"><span class="linenum"> 102</span></a>  
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment">//check whether the feedback is mapped to the given courseid</span>
<a name="l104"><span class="linenum"> 104</span></a>  if (<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> == <a class="constant" onClick="logConstant('SITEID')" href="../../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a> AND !<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/feedback:edititems', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) {
<a name="l105"><span class="linenum"> 105</span></a>      if (<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('feedback_sitecourse_map', array('feedbackid'=&gt;<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('id')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>))) {
<a name="l106"><span class="linenum"> 106</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('feedbackid'=&gt;<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('id')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'courseid'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>);
<a name="l107"><span class="linenum"> 107</span></a>          if (!<a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('feedback_sitecourse_map', <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>)) {
<a name="l108"><span class="linenum"> 108</span></a>              <a class="function" onClick="logFunction('print_error')" href="../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('notavailable', 'feedback');
<a name="l109"><span class="linenum"> 109</span></a>          }
<a name="l110"><span class="linenum"> 110</span></a>      }
<a name="l111"><span class="linenum"> 111</span></a>  }
<a name="l112"><span class="linenum"> 112</span></a>  
<a name="l113"><span class="linenum"> 113</span></a>  if (<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('anonymous')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/anonymous.html">anonymous</a> != <a class="constant" onClick="logConstant('FEEDBACK_ANONYMOUS_YES')" href="../../_constants/FEEDBACK_ANONYMOUS_YES.html" onMouseOver="constPopup(event,'FEEDBACK_ANONYMOUS_YES')">FEEDBACK_ANONYMOUS_YES</a>) {
<a name="l114"><span class="linenum"> 114</span></a>      if (<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> == <a class="constant" onClick="logConstant('SITEID')" href="../../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l115"><span class="linenum"> 115</span></a>          <a class="function" onClick="logFunction('require_login')" href="../../_functions/require_login.html" onMouseOver="funcPopup(event,'require_login')">require_login</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, true);
<a name="l116"><span class="linenum"> 116</span></a>      } else {
<a name="l117"><span class="linenum"> 117</span></a>          <a class="function" onClick="logFunction('require_login')" href="../../_functions/require_login.html" onMouseOver="funcPopup(event,'require_login')">require_login</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, true, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>);
<a name="l118"><span class="linenum"> 118</span></a>      }
<a name="l119"><span class="linenum"> 119</span></a>  } else {
<a name="l120"><span class="linenum"> 120</span></a>      if (<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> == <a class="constant" onClick="logConstant('SITEID')" href="../../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l121"><span class="linenum"> 121</span></a>          <a class="function" onClick="logFunction('require_course_login')" href="../../_functions/require_course_login.html" onMouseOver="funcPopup(event,'require_course_login')">require_course_login</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, true);
<a name="l122"><span class="linenum"> 122</span></a>      } else {
<a name="l123"><span class="linenum"> 123</span></a>          <a class="function" onClick="logFunction('require_course_login')" href="../../_functions/require_course_login.html" onMouseOver="funcPopup(event,'require_course_login')">require_course_login</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, true, <a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>);
<a name="l124"><span class="linenum"> 124</span></a>      }
<a name="l125"><span class="linenum"> 125</span></a>  }
<a name="l126"><span class="linenum"> 126</span></a>  
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment">//check whether the given courseid exists</span>
<a name="l128"><span class="linenum"> 128</span></a>  if (<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a> AND <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a> != <a class="constant" onClick="logConstant('SITEID')" href="../../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l129"><span class="linenum"> 129</span></a>      if (<a class="var it1875" onMouseOver="hilite(1875)" onMouseOut="lolite()" onClick="logVariable('course2')" href="../../_variables/course2.html">$course2</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id'=&gt;<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>))) {
<a name="l130"><span class="linenum"> 130</span></a>          <a class="function" onClick="logFunction('require_course_login')" href="../../_functions/require_course_login.html" onMouseOver="funcPopup(event,'require_course_login')">require_course_login</a>(<a class="var it1875" onMouseOver="hilite(1875)" onMouseOut="lolite()" onClick="logVariable('course2')" href="../../_variables/course2.html">$course2</a>); <span class="comment">//this overwrites the object $course :-(</span>
<a name="l131"><span class="linenum"> 131</span></a>          <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>(&quot;course&quot;, array(&quot;id&quot;=&gt;<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('course')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/course.html">course</a>)); <span class="comment">// the workaround</span>
<a name="l132"><span class="linenum"> 132</span></a>      } else {
<a name="l133"><span class="linenum"> 133</span></a>          <a class="function" onClick="logFunction('print_error')" href="../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('invalidcourseid');
<a name="l134"><span class="linenum"> 134</span></a>      }
<a name="l135"><span class="linenum"> 135</span></a>  }
<a name="l136"><span class="linenum"> 136</span></a>  
<a name="l137"><span class="linenum"> 137</span></a>  if (!<a class="var it5255" onMouseOver="hilite(5255)" onMouseOut="lolite()" onClick="logVariable('feedback_complete_cap')" href="../../_variables/feedback_complete_cap.html">$feedback_complete_cap</a>) {
<a name="l138"><span class="linenum"> 138</span></a>      <a class="function" onClick="logFunction('print_error')" href="../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('error');
<a name="l139"><span class="linenum"> 139</span></a>  }
<a name="l140"><span class="linenum"> 140</span></a>  
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment">// Mark activity viewed for completion-tracking</span>
<a name="l142"><span class="linenum"> 142</span></a>  <a class="var it3863" onMouseOver="hilite(3863)" onMouseOut="lolite()" onClick="logVariable('completion')" href="../../_variables/completion.html">$completion</a> = <span class="keyword">new </span><a class="class" onClick="logClass('completion_info')" href="../../_classes/completion_info.html" onMouseOver="classPopup(event,'completion_info')">completion_info</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l143"><span class="linenum"> 143</span></a>  <a class="var it3863" onMouseOver="hilite(3863)" onMouseOut="lolite()" onClick="logVariable('completion')" href="../../_variables/completion.html">$completion</a>-&gt;<a class="function" onClick="logFunction('set_module_viewed')" href="../../_functions/set_module_viewed.html" onMouseOver="funcPopup(event,'set_module_viewed')">set_module_viewed</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>);
<a name="l144"><span class="linenum"> 144</span></a>  
<a name="l145"><span class="linenum"> 145</span></a>  <span class="comment">/// Print the page header</span>
<a name="l146"><span class="linenum"> 146</span></a>  <a class="var it1043" onMouseOver="hilite(1043)" onMouseOut="lolite()" onClick="logVariable('strfeedbacks')" href="../../_variables/strfeedbacks.html">$strfeedbacks</a> = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(&quot;modulenameplural&quot;, &quot;feedback&quot;);
<a name="l147"><span class="linenum"> 147</span></a>  <a class="var it1044" onMouseOver="hilite(1044)" onMouseOut="lolite()" onClick="logVariable('strfeedback')" href="../../_variables/strfeedback.html">$strfeedback</a>  = <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(&quot;modulename&quot;, &quot;feedback&quot;);
<a name="l148"><span class="linenum"> 148</span></a>  
<a name="l149"><span class="linenum"> 149</span></a>  if (<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> == <a class="constant" onClick="logConstant('SITEID')" href="../../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l150"><span class="linenum"> 150</span></a>      <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_cm')" href="../../_functions/set_cm.html" onMouseOver="funcPopup(event,'set_cm')">set_cm</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>); <span class="comment">// set's up global $COURSE</span>
<a name="l151"><span class="linenum"> 151</span></a>      <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_pagelayout')" href="../../_functions/set_pagelayout.html" onMouseOver="funcPopup(event,'set_pagelayout')">set_pagelayout</a>('incourse');
<a name="l152"><span class="linenum"> 152</span></a>  }
<a name="l153"><span class="linenum"> 153</span></a>  
<a name="l154"><span class="linenum"> 154</span></a>  <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a onClick="logVariable('navbar')" class="var it39443" onMouseOver="hilite(39443)" onMouseOut="lolite()" href="../../_variables/navbar.html">navbar</a>-&gt;<a class="function" onClick="logFunction('add')" href="../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('feedback:complete', 'feedback'));
<a name="l155"><span class="linenum"> 155</span></a>  <a class="var it5256" onMouseOver="hilite(5256)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../../_variables/urlparams.html">$urlparams</a> = array('id'=&gt;<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('id')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'gopage'=&gt;<a class="var it5246" onMouseOver="hilite(5246)" onMouseOut="lolite()" onClick="logVariable('gopage')" href="../../_variables/gopage.html">$gopage</a>, 'courseid'=&gt;<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l156"><span class="linenum"> 156</span></a>  <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_url')" href="../../_functions/set_url.html" onMouseOver="funcPopup(event,'set_url')">set_url</a>('<a class="filename" href="../../mod/feedback/complete.php.html">/mod/feedback/complete.php</a>', <a class="var it5256" onMouseOver="hilite(5256)" onMouseOut="lolite()" onClick="logVariable('urlparams')" href="../../_variables/urlparams.html">$urlparams</a>);
<a name="l157"><span class="linenum"> 157</span></a>  <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_heading')" href="../../_functions/set_heading.html" onMouseOver="funcPopup(event,'set_heading')">set_heading</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/fullname.html">fullname</a>);
<a name="l158"><span class="linenum"> 158</span></a>  <a class="var it11" onMouseOver="hilite(11)" onMouseOut="lolite()" onClick="logVariable('PAGE')" href="../../_variables/PAGE.html">$PAGE</a>-&gt;<a class="function" onClick="logFunction('set_title')" href="../../_functions/set_title.html" onMouseOver="funcPopup(event,'set_title')">set_title</a>(<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('name')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>);
<a name="l159"><span class="linenum"> 159</span></a>  echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="phpfunction" onClick="logFunction('header')" href="../../_functions/header.html" onMouseOver="phpfuncPopup(event,'header')">header</a>();
<a name="l160"><span class="linenum"> 160</span></a>  
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">//ishidden check.</span>
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">//feedback in courses</span>
<a name="l163"><span class="linenum"> 163</span></a>  if ((empty(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('visible')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/visible.html">visible</a>) AND
<a name="l164"><span class="linenum"> 164</span></a>          !<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:viewhiddenactivities', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) AND
<a name="l165"><span class="linenum"> 165</span></a>          <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> != <a class="constant" onClick="logConstant('SITEID')" href="../../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l166"><span class="linenum"> 166</span></a>      <a class="function" onClick="logFunction('notice')" href="../../_functions/notice.html" onMouseOver="funcPopup(event,'notice')">notice</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(&quot;activityiscurrentlyhidden&quot;));
<a name="l167"><span class="linenum"> 167</span></a>  }
<a name="l168"><span class="linenum"> 168</span></a>  
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">//ishidden check.</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">//feedback on mainsite</span>
<a name="l171"><span class="linenum"> 171</span></a>  if ((empty(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>-&gt;<a onClick="logVariable('visible')" class="var it39492" onMouseOver="hilite(39492)" onMouseOut="lolite()" href="../../_variables/visible.html">visible</a>) AND
<a name="l172"><span class="linenum"> 172</span></a>          !<a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/course:viewhiddenactivities', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) AND
<a name="l173"><span class="linenum"> 173</span></a>          <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a> == <a class="constant" onClick="logConstant('SITEID')" href="../../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l174"><span class="linenum"> 174</span></a>      <a class="function" onClick="logFunction('notice')" href="../../_functions/notice.html" onMouseOver="funcPopup(event,'notice')">notice</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>(&quot;activityiscurrentlyhidden&quot;));
<a name="l175"><span class="linenum"> 175</span></a>  }
<a name="l176"><span class="linenum"> 176</span></a>  
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment">//check, if the feedback is open (timeopen, timeclose)</span>
<a name="l178"><span class="linenum"> 178</span></a>  <a class="var it5257" onMouseOver="hilite(5257)" onMouseOut="lolite()" onClick="logVariable('checktime')" href="../../_variables/checktime.html">$checktime</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l179"><span class="linenum"> 179</span></a>  <a class="var it5258" onMouseOver="hilite(5258)" onMouseOut="lolite()" onClick="logVariable('feedback_is_closed')" href="../../_variables/feedback_is_closed.html">$feedback_is_closed</a> = (<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('timeopen')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/timeopen.html">timeopen</a> &gt; <a class="var it5257" onMouseOver="hilite(5257)" onMouseOut="lolite()" onClick="logVariable('checktime')" href="../../_variables/checktime.html">$checktime</a>) ||
<a name="l180"><span class="linenum"> 180</span></a>                        (<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('timeclose')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/timeclose.html">timeclose</a> &lt; <a class="var it5257" onMouseOver="hilite(5257)" onMouseOut="lolite()" onClick="logVariable('checktime')" href="../../_variables/checktime.html">$checktime</a> &amp;&amp;
<a name="l181"><span class="linenum"> 181</span></a>                              <a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('timeclose')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/timeclose.html">timeclose</a> &gt; 0);
<a name="l182"><span class="linenum"> 182</span></a>  
<a name="l183"><span class="linenum"> 183</span></a>  if (<a class="var it5258" onMouseOver="hilite(5258)" onMouseOut="lolite()" onClick="logVariable('feedback_is_closed')" href="../../_variables/feedback_is_closed.html">$feedback_is_closed</a>) {
<a name="l184"><span class="linenum"> 184</span></a>      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('name')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>));
<a name="l185"><span class="linenum"> 185</span></a>      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('generalbox boxaligncenter');
<a name="l186"><span class="linenum"> 186</span></a>      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('notification')" href="../../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('feedback_is_not_open', 'feedback'));
<a name="l187"><span class="linenum"> 187</span></a>      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('continue_button')" href="../../_functions/continue_button.html" onMouseOver="funcPopup(event,'continue_button')">continue_button</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>.'/course/view.php?id='.<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l188"><span class="linenum"> 188</span></a>      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l189"><span class="linenum"> 189</span></a>      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('footer')" href="../../_functions/footer.html" onMouseOver="funcPopup(event,'footer')">footer</a>();
<a name="l190"><span class="linenum"> 190</span></a>      exit;
<a name="l191"><span class="linenum"> 191</span></a>  }
<a name="l192"><span class="linenum"> 192</span></a>  
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment">//additional check for multiple-submit (prevent browsers back-button).</span>
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment">//the main-check is in view.php</span>
<a name="l195"><span class="linenum"> 195</span></a>  <a class="var it5261" onMouseOver="hilite(5261)" onMouseOut="lolite()" onClick="logVariable('feedback_can_submit')" href="../../_variables/feedback_can_submit.html">$feedback_can_submit</a> = true;
<a name="l196"><span class="linenum"> 196</span></a>  if (<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('multiple_submit')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/multiple_submit.html">multiple_submit</a> == 0 ) {
<a name="l197"><span class="linenum"> 197</span></a>      if (<a class="function" onClick="logFunction('feedback_is_already_submitted')" href="../../_functions/feedback_is_already_submitted.html" onMouseOver="funcPopup(event,'feedback_is_already_submitted')">feedback_is_already_submitted</a>(<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('id')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>)) {
<a name="l198"><span class="linenum"> 198</span></a>          <a class="var it5261" onMouseOver="hilite(5261)" onMouseOut="lolite()" onClick="logVariable('feedback_can_submit')" href="../../_variables/feedback_can_submit.html">$feedback_can_submit</a> = false;
<a name="l199"><span class="linenum"> 199</span></a>      }
<a name="l200"><span class="linenum"> 200</span></a>  }
<a name="l201"><span class="linenum"> 201</span></a>  if (<a class="var it5261" onMouseOver="hilite(5261)" onMouseOut="lolite()" onClick="logVariable('feedback_can_submit')" href="../../_variables/feedback_can_submit.html">$feedback_can_submit</a>) {
<a name="l202"><span class="linenum"> 202</span></a>  <span class="comment">    //preserving the items</span>
<a name="l203"><span class="linenum"> 203</span></a>      if (<a class="var it5245" onMouseOver="hilite(5245)" onMouseOut="lolite()" onClick="logVariable('preservevalues')" href="../../_variables/preservevalues.html">$preservevalues</a> == 1) {
<a name="l204"><span class="linenum"> 204</span></a>          if (!isset(<a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('feedback')" class="var it39589" onMouseOver="hilite(39589)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>-&gt;is_started) OR !<a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('feedback')" class="var it39589" onMouseOver="hilite(39589)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>-&gt;is_started == true) {
<a name="l205"><span class="linenum"> 205</span></a>              <a class="function" onClick="logFunction('print_error')" href="../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('error', '', <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>.'/course/view.php?id='.<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l206"><span class="linenum"> 206</span></a>          }
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment">        // Check if all required items have a value.</span>
<a name="l208"><span class="linenum"> 208</span></a>          if (<a class="function" onClick="logFunction('feedback_check_values')" href="../../_functions/feedback_check_values.html" onMouseOver="funcPopup(event,'feedback_check_values')">feedback_check_values</a>(<a class="var it5248" onMouseOver="hilite(5248)" onMouseOut="lolite()" onClick="logVariable('startitempos')" href="../../_variables/startitempos.html">$startitempos</a>, <a class="var it5249" onMouseOver="hilite(5249)" onMouseOut="lolite()" onClick="logVariable('lastitempos')" href="../../_variables/lastitempos.html">$lastitempos</a>)) {
<a name="l209"><span class="linenum"> 209</span></a>              <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>; <span class="comment">//arb</span>
<a name="l210"><span class="linenum"> 210</span></a>              if (<a class="var it5244" onMouseOver="hilite(5244)" onMouseOut="lolite()" onClick="logVariable('completedid')" href="../../_variables/completedid.html">$completedid</a> = <a class="function" onClick="logFunction('feedback_save_values')" href="../../_functions/feedback_save_values.html" onMouseOver="funcPopup(event,'feedback_save_values')">feedback_save_values</a>(<a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, true)) {
<a name="l211"><span class="linenum"> 211</span></a>                  if (!<a class="var it5253" onMouseOver="hilite(5253)" onMouseOut="lolite()" onClick="logVariable('gonextpage')" href="../../_variables/gonextpage.html">$gonextpage</a> AND !<a class="var it5254" onMouseOver="hilite(5254)" onMouseOut="lolite()" onClick="logVariable('gopreviouspage')" href="../../_variables/gopreviouspage.html">$gopreviouspage</a>) {
<a name="l212"><span class="linenum"> 212</span></a>                      <a class="var it5245" onMouseOver="hilite(5245)" onMouseOut="lolite()" onClick="logVariable('preservevalues')" href="../../_variables/preservevalues.html">$preservevalues</a> = false;<span class="comment">// It can be stored.</span>
<a name="l213"><span class="linenum"> 213</span></a>                  }
<a name="l214"><span class="linenum"> 214</span></a>  
<a name="l215"><span class="linenum"> 215</span></a>              } else {
<a name="l216"><span class="linenum"> 216</span></a>                  <a class="var it5263" onMouseOver="hilite(5263)" onMouseOut="lolite()" onClick="logVariable('savereturn')" href="../../_variables/savereturn.html">$savereturn</a> = 'failed';
<a name="l217"><span class="linenum"> 217</span></a>                  if (isset(<a class="var it5247" onMouseOver="hilite(5247)" onMouseOut="lolite()" onClick="logVariable('lastpage')" href="../../_variables/lastpage.html">$lastpage</a>)) {
<a name="l218"><span class="linenum"> 218</span></a>                      <a class="var it5246" onMouseOver="hilite(5246)" onMouseOut="lolite()" onClick="logVariable('gopage')" href="../../_variables/gopage.html">$gopage</a> = <a class="var it5247" onMouseOver="hilite(5247)" onMouseOut="lolite()" onClick="logVariable('lastpage')" href="../../_variables/lastpage.html">$lastpage</a>;
<a name="l219"><span class="linenum"> 219</span></a>                  } else {
<a name="l220"><span class="linenum"> 220</span></a>                      <a class="function" onClick="logFunction('print_error')" href="../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('missingparameter');
<a name="l221"><span class="linenum"> 221</span></a>                  }
<a name="l222"><span class="linenum"> 222</span></a>              }
<a name="l223"><span class="linenum"> 223</span></a>          } else {
<a name="l224"><span class="linenum"> 224</span></a>              <a class="var it5263" onMouseOver="hilite(5263)" onMouseOut="lolite()" onClick="logVariable('savereturn')" href="../../_variables/savereturn.html">$savereturn</a> = 'missing';
<a name="l225"><span class="linenum"> 225</span></a>              <a class="var it5251" onMouseOver="hilite(5251)" onMouseOut="lolite()" onClick="logVariable('highlightrequired')" href="../../_variables/highlightrequired.html">$highlightrequired</a> = true;
<a name="l226"><span class="linenum"> 226</span></a>              if (isset(<a class="var it5247" onMouseOver="hilite(5247)" onMouseOut="lolite()" onClick="logVariable('lastpage')" href="../../_variables/lastpage.html">$lastpage</a>)) {
<a name="l227"><span class="linenum"> 227</span></a>                  <a class="var it5246" onMouseOver="hilite(5246)" onMouseOut="lolite()" onClick="logVariable('gopage')" href="../../_variables/gopage.html">$gopage</a> = <a class="var it5247" onMouseOver="hilite(5247)" onMouseOut="lolite()" onClick="logVariable('lastpage')" href="../../_variables/lastpage.html">$lastpage</a>;
<a name="l228"><span class="linenum"> 228</span></a>              } else {
<a name="l229"><span class="linenum"> 229</span></a>                  <a class="function" onClick="logFunction('print_error')" href="../../_functions/print_error.html" onMouseOver="funcPopup(event,'print_error')">print_error</a>('missingparameter');
<a name="l230"><span class="linenum"> 230</span></a>              }
<a name="l231"><span class="linenum"> 231</span></a>  
<a name="l232"><span class="linenum"> 232</span></a>          }
<a name="l233"><span class="linenum"> 233</span></a>      }
<a name="l234"><span class="linenum"> 234</span></a>  
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">    //saving the items</span>
<a name="l236"><span class="linenum"> 236</span></a>      if (<a class="var it5252" onMouseOver="hilite(5252)" onMouseOut="lolite()" onClick="logVariable('savevalues')" href="../../_variables/savevalues.html">$savevalues</a> AND !<a class="var it5245" onMouseOver="hilite(5245)" onMouseOut="lolite()" onClick="logVariable('preservevalues')" href="../../_variables/preservevalues.html">$preservevalues</a>) {
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment">        //exists there any pagebreak, so there are values in the feedback_valuetmp</span>
<a name="l238"><span class="linenum"> 238</span></a>          <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a> = <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>; <span class="comment">//arb</span>
<a name="l239"><span class="linenum"> 239</span></a>  
<a name="l240"><span class="linenum"> 240</span></a>          if (<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('anonymous')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/anonymous.html">anonymous</a> == <a class="constant" onClick="logConstant('FEEDBACK_ANONYMOUS_NO')" href="../../_constants/FEEDBACK_ANONYMOUS_NO.html" onMouseOver="constPopup(event,'FEEDBACK_ANONYMOUS_NO')">FEEDBACK_ANONYMOUS_NO</a>) {
<a name="l241"><span class="linenum"> 241</span></a>              <a class="var it5264" onMouseOver="hilite(5264)" onMouseOut="lolite()" onClick="logVariable('feedbackcompleted')" href="../../_variables/feedbackcompleted.html">$feedbackcompleted</a> = <a class="function" onClick="logFunction('feedback_get_current_completed')" href="../../_functions/feedback_get_current_completed.html" onMouseOver="funcPopup(event,'feedback_get_current_completed')">feedback_get_current_completed</a>(<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('id')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, false, <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>);
<a name="l242"><span class="linenum"> 242</span></a>          } else {
<a name="l243"><span class="linenum"> 243</span></a>              <a class="var it5264" onMouseOver="hilite(5264)" onMouseOut="lolite()" onClick="logVariable('feedbackcompleted')" href="../../_variables/feedbackcompleted.html">$feedbackcompleted</a> = false;
<a name="l244"><span class="linenum"> 244</span></a>          }
<a name="l245"><span class="linenum"> 245</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('id' =&gt; <a class="var it5244" onMouseOver="hilite(5244)" onMouseOut="lolite()" onClick="logVariable('completedid')" href="../../_variables/completedid.html">$completedid</a>);
<a name="l246"><span class="linenum"> 246</span></a>          <a class="var it5265" onMouseOver="hilite(5265)" onMouseOut="lolite()" onClick="logVariable('feedbackcompletedtmp')" href="../../_variables/feedbackcompletedtmp.html">$feedbackcompletedtmp</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('feedback_completedtmp', <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">        //fake saving for switchrole</span>
<a name="l248"><span class="linenum"> 248</span></a>          <a class="var it5266" onMouseOver="hilite(5266)" onMouseOut="lolite()" onClick="logVariable('is_switchrole')" href="../../_variables/is_switchrole.html">$is_switchrole</a> = <a class="function" onClick="logFunction('feedback_check_is_switchrole')" href="../../_functions/feedback_check_is_switchrole.html" onMouseOver="funcPopup(event,'feedback_check_is_switchrole')">feedback_check_is_switchrole</a>();
<a name="l249"><span class="linenum"> 249</span></a>          if (<a class="var it5266" onMouseOver="hilite(5266)" onMouseOut="lolite()" onClick="logVariable('is_switchrole')" href="../../_variables/is_switchrole.html">$is_switchrole</a>) {
<a name="l250"><span class="linenum"> 250</span></a>              <a class="var it5263" onMouseOver="hilite(5263)" onMouseOut="lolite()" onClick="logVariable('savereturn')" href="../../_variables/savereturn.html">$savereturn</a> = 'saved';
<a name="l251"><span class="linenum"> 251</span></a>              <a class="function" onClick="logFunction('feedback_delete_completedtmp')" href="../../_functions/feedback_delete_completedtmp.html" onMouseOver="funcPopup(event,'feedback_delete_completedtmp')">feedback_delete_completedtmp</a>(<a class="var it5244" onMouseOver="hilite(5244)" onMouseOut="lolite()" onClick="logVariable('completedid')" href="../../_variables/completedid.html">$completedid</a>);
<a name="l252"><span class="linenum"> 252</span></a>          } else {
<a name="l253"><span class="linenum"> 253</span></a>              <a class="var it5267" onMouseOver="hilite(5267)" onMouseOut="lolite()" onClick="logVariable('new_completed_id')" href="../../_variables/new_completed_id.html">$new_completed_id</a> = <a class="function" onClick="logFunction('feedback_save_tmp_values')" href="../../_functions/feedback_save_tmp_values.html" onMouseOver="funcPopup(event,'feedback_save_tmp_values')">feedback_save_tmp_values</a>(<a class="var it5265" onMouseOver="hilite(5265)" onMouseOut="lolite()" onClick="logVariable('feedbackcompletedtmp')" href="../../_variables/feedbackcompletedtmp.html">$feedbackcompletedtmp</a>,
<a name="l254"><span class="linenum"> 254</span></a>                                                           <a class="var it5264" onMouseOver="hilite(5264)" onMouseOut="lolite()" onClick="logVariable('feedbackcompleted')" href="../../_variables/feedbackcompleted.html">$feedbackcompleted</a>,
<a name="l255"><span class="linenum"> 255</span></a>                                                           <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>);
<a name="l256"><span class="linenum"> 256</span></a>              if (<a class="var it5267" onMouseOver="hilite(5267)" onMouseOut="lolite()" onClick="logVariable('new_completed_id')" href="../../_variables/new_completed_id.html">$new_completed_id</a>) {
<a name="l257"><span class="linenum"> 257</span></a>                  <a class="var it5263" onMouseOver="hilite(5263)" onMouseOut="lolite()" onClick="logVariable('savereturn')" href="../../_variables/savereturn.html">$savereturn</a> = 'saved';
<a name="l258"><span class="linenum"> 258</span></a>                  if (<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('anonymous')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/anonymous.html">anonymous</a> == <a class="constant" onClick="logConstant('FEEDBACK_ANONYMOUS_NO')" href="../../_constants/FEEDBACK_ANONYMOUS_NO.html" onMouseOver="constPopup(event,'FEEDBACK_ANONYMOUS_NO')">FEEDBACK_ANONYMOUS_NO</a>) {
<a name="l259"><span class="linenum"> 259</span></a>                      <a class="function" onClick="logFunction('feedback_send_email')" href="../../_functions/feedback_send_email.html" onMouseOver="funcPopup(event,'feedback_send_email')">feedback_send_email</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>);
<a name="l260"><span class="linenum"> 260</span></a>                  } else {
<a name="l261"><span class="linenum"> 261</span></a>                      <a class="function" onClick="logFunction('feedback_send_email_anonym')" href="../../_functions/feedback_send_email_anonym.html" onMouseOver="funcPopup(event,'feedback_send_email_anonym')">feedback_send_email_anonym</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>, <a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>, <a class="var it182" onMouseOver="hilite(182)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>);
<a name="l262"><span class="linenum"> 262</span></a>                  }
<a name="l263"><span class="linenum"> 263</span></a>  <span class="comment">                //tracking the submit</span>
<a name="l264"><span class="linenum"> 264</span></a>                  <a class="var it5268" onMouseOver="hilite(5268)" onMouseOut="lolite()" onClick="logVariable('tracking')" href="../../_variables/tracking.html">$tracking</a> = new stdClass();
<a name="l265"><span class="linenum"> 265</span></a>                  <a class="var it5268" onMouseOver="hilite(5268)" onMouseOut="lolite()" onClick="logVariable('tracking')" href="../../_variables/tracking.html">$tracking</a>-&gt;<a onClick="logVariable('userid')" class="var it40553" onMouseOver="hilite(40553)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a> = <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l266"><span class="linenum"> 266</span></a>                  <a class="var it5268" onMouseOver="hilite(5268)" onMouseOut="lolite()" onClick="logVariable('tracking')" href="../../_variables/tracking.html">$tracking</a>-&gt;<a onClick="logVariable('feedback')" class="var it40553" onMouseOver="hilite(40553)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a> = <a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('id')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l267"><span class="linenum"> 267</span></a>                  <a class="var it5268" onMouseOver="hilite(5268)" onMouseOut="lolite()" onClick="logVariable('tracking')" href="../../_variables/tracking.html">$tracking</a>-&gt;<a onClick="logVariable('completed')" class="var it40553" onMouseOver="hilite(40553)" onMouseOut="lolite()" href="../../_variables/completed.html">completed</a> = <a class="var it5267" onMouseOver="hilite(5267)" onMouseOut="lolite()" onClick="logVariable('new_completed_id')" href="../../_variables/new_completed_id.html">$new_completed_id</a>;
<a name="l268"><span class="linenum"> 268</span></a>                  <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('feedback_tracking', <a class="var it5268" onMouseOver="hilite(5268)" onMouseOut="lolite()" onClick="logVariable('tracking')" href="../../_variables/tracking.html">$tracking</a>);
<a name="l269"><span class="linenum"> 269</span></a>                  unset(<a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('feedback')" class="var it39589" onMouseOver="hilite(39589)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>-&gt;is_started);
<a name="l270"><span class="linenum"> 270</span></a>  
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment">                // Update completion state</span>
<a name="l272"><span class="linenum"> 272</span></a>                  <a class="var it3863" onMouseOver="hilite(3863)" onMouseOut="lolite()" onClick="logVariable('completion')" href="../../_variables/completion.html">$completion</a> = <span class="keyword">new </span><a class="class" onClick="logClass('completion_info')" href="../../_classes/completion_info.html" onMouseOver="classPopup(event,'completion_info')">completion_info</a>(<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l273"><span class="linenum"> 273</span></a>                  if (<a class="var it3863" onMouseOver="hilite(3863)" onMouseOut="lolite()" onClick="logVariable('completion')" href="../../_variables/completion.html">$completion</a>-&gt;<a class="function" onClick="logFunction('is_enabled')" href="../../_functions/is_enabled.html" onMouseOver="funcPopup(event,'is_enabled')">is_enabled</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>) &amp;&amp; <a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('completionsubmit')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/completionsubmit.html">completionsubmit</a>) {
<a name="l274"><span class="linenum"> 274</span></a>                      <a class="var it3863" onMouseOver="hilite(3863)" onMouseOut="lolite()" onClick="logVariable('completion')" href="../../_variables/completion.html">$completion</a>-&gt;<a class="function" onClick="logFunction('update_state')" href="../../_functions/update_state.html" onMouseOver="funcPopup(event,'update_state')">update_state</a>(<a class="var it170" onMouseOver="hilite(170)" onMouseOut="lolite()" onClick="logVariable('cm')" href="../../_variables/cm.html">$cm</a>, <a class="constant" onClick="logConstant('COMPLETION_COMPLETE')" href="../../_constants/COMPLETION_COMPLETE.html" onMouseOver="constPopup(event,'COMPLETION_COMPLETE')">COMPLETION_COMPLETE</a>);
<a name="l275"><span class="linenum"> 275</span></a>                  }
<a name="l276"><span class="linenum"> 276</span></a>  
<a name="l277"><span class="linenum"> 277</span></a>              } else {
<a name="l278"><span class="linenum"> 278</span></a>                  <a class="var it5263" onMouseOver="hilite(5263)" onMouseOut="lolite()" onClick="logVariable('savereturn')" href="../../_variables/savereturn.html">$savereturn</a> = 'failed';
<a name="l279"><span class="linenum"> 279</span></a>              }
<a name="l280"><span class="linenum"> 280</span></a>          }
<a name="l281"><span class="linenum"> 281</span></a>  
<a name="l282"><span class="linenum"> 282</span></a>      }
<a name="l283"><span class="linenum"> 283</span></a>  
<a name="l284"><span class="linenum"> 284</span></a>  
<a name="l285"><span class="linenum"> 285</span></a>      if (<a class="var it5270" onMouseOver="hilite(5270)" onMouseOut="lolite()" onClick="logVariable('allbreaks')" href="../../_variables/allbreaks.html">$allbreaks</a> = <a class="function" onClick="logFunction('feedback_get_all_break_positions')" href="../../_functions/feedback_get_all_break_positions.html" onMouseOver="funcPopup(event,'feedback_get_all_break_positions')">feedback_get_all_break_positions</a>(<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('id')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>)) {
<a name="l286"><span class="linenum"> 286</span></a>          if (<a class="var it5246" onMouseOver="hilite(5246)" onMouseOut="lolite()" onClick="logVariable('gopage')" href="../../_variables/gopage.html">$gopage</a> &lt;= 0) {
<a name="l287"><span class="linenum"> 287</span></a>              <a class="var it5271" onMouseOver="hilite(5271)" onMouseOut="lolite()" onClick="logVariable('startposition')" href="../../_variables/startposition.html">$startposition</a> = 0;
<a name="l288"><span class="linenum"> 288</span></a>          } else {
<a name="l289"><span class="linenum"> 289</span></a>              if (!isset(<a class="var it5270" onMouseOver="hilite(5270)" onMouseOut="lolite()" onClick="logVariable('allbreaks')" href="../../_variables/allbreaks.html">$allbreaks</a>[<a class="var it5246" onMouseOver="hilite(5246)" onMouseOut="lolite()" onClick="logVariable('gopage')" href="../../_variables/gopage.html">$gopage</a> - 1])) {
<a name="l290"><span class="linenum"> 290</span></a>                  <a class="var it5246" onMouseOver="hilite(5246)" onMouseOut="lolite()" onClick="logVariable('gopage')" href="../../_variables/gopage.html">$gopage</a> = <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it5270" onMouseOver="hilite(5270)" onMouseOut="lolite()" onClick="logVariable('allbreaks')" href="../../_variables/allbreaks.html">$allbreaks</a>);
<a name="l291"><span class="linenum"> 291</span></a>              }
<a name="l292"><span class="linenum"> 292</span></a>              <a class="var it5271" onMouseOver="hilite(5271)" onMouseOut="lolite()" onClick="logVariable('startposition')" href="../../_variables/startposition.html">$startposition</a> = <a class="var it5270" onMouseOver="hilite(5270)" onMouseOut="lolite()" onClick="logVariable('allbreaks')" href="../../_variables/allbreaks.html">$allbreaks</a>[<a class="var it5246" onMouseOver="hilite(5246)" onMouseOut="lolite()" onClick="logVariable('gopage')" href="../../_variables/gopage.html">$gopage</a> - 1];
<a name="l293"><span class="linenum"> 293</span></a>          }
<a name="l294"><span class="linenum"> 294</span></a>          <a class="var it5272" onMouseOver="hilite(5272)" onMouseOut="lolite()" onClick="logVariable('ispagebreak')" href="../../_variables/ispagebreak.html">$ispagebreak</a> = true;
<a name="l295"><span class="linenum"> 295</span></a>      } else {
<a name="l296"><span class="linenum"> 296</span></a>          <a class="var it5271" onMouseOver="hilite(5271)" onMouseOut="lolite()" onClick="logVariable('startposition')" href="../../_variables/startposition.html">$startposition</a> = 0;
<a name="l297"><span class="linenum"> 297</span></a>          <a class="var it2673" onMouseOver="hilite(2673)" onMouseOut="lolite()" onClick="logVariable('newpage')" href="../../_variables/newpage.html">$newpage</a> = 0;
<a name="l298"><span class="linenum"> 298</span></a>          <a class="var it5272" onMouseOver="hilite(5272)" onMouseOut="lolite()" onClick="logVariable('ispagebreak')" href="../../_variables/ispagebreak.html">$ispagebreak</a> = false;
<a name="l299"><span class="linenum"> 299</span></a>      }
<a name="l300"><span class="linenum"> 300</span></a>  
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">    //get the feedbackitems after the last shown pagebreak</span>
<a name="l302"><span class="linenum"> 302</span></a>      <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> = 'feedback = ? AND position &gt; ?';
<a name="l303"><span class="linenum"> 303</span></a>      <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array(<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('id')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it5271" onMouseOver="hilite(5271)" onMouseOut="lolite()" onClick="logVariable('startposition')" href="../../_variables/startposition.html">$startposition</a>);
<a name="l304"><span class="linenum"> 304</span></a>      <a class="var it5273" onMouseOver="hilite(5273)" onMouseOut="lolite()" onClick="logVariable('feedbackitems')" href="../../_variables/feedbackitems.html">$feedbackitems</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_select')" href="../../_functions/get_records_select.html" onMouseOver="funcPopup(event,'get_records_select')">get_records_select</a>('feedback_item', <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, 'position');
<a name="l305"><span class="linenum"> 305</span></a>  
<a name="l306"><span class="linenum"> 306</span></a>  <span class="comment">    //get the first pagebreak</span>
<a name="l307"><span class="linenum"> 307</span></a>      <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('feedback' =&gt; <a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('id')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'typ' =&gt; 'pagebreak');
<a name="l308"><span class="linenum"> 308</span></a>      if (<a class="var it5274" onMouseOver="hilite(5274)" onMouseOut="lolite()" onClick="logVariable('pagebreaks')" href="../../_variables/pagebreaks.html">$pagebreaks</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('feedback_item', <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>, 'position')) {
<a name="l309"><span class="linenum"> 309</span></a>          <a class="var it5274" onMouseOver="hilite(5274)" onMouseOut="lolite()" onClick="logVariable('pagebreaks')" href="../../_variables/pagebreaks.html">$pagebreaks</a> = <a class="phpfunction" onClick="logFunction('array_values')" href="../../_functions/array_values.html" onMouseOver="phpfuncPopup(event,'array_values')">array_values</a>(<a class="var it5274" onMouseOver="hilite(5274)" onMouseOut="lolite()" onClick="logVariable('pagebreaks')" href="../../_variables/pagebreaks.html">$pagebreaks</a>);
<a name="l310"><span class="linenum"> 310</span></a>          <a class="var it5275" onMouseOver="hilite(5275)" onMouseOut="lolite()" onClick="logVariable('firstpagebreak')" href="../../_variables/firstpagebreak.html">$firstpagebreak</a> = <a class="var it5274" onMouseOver="hilite(5274)" onMouseOut="lolite()" onClick="logVariable('pagebreaks')" href="../../_variables/pagebreaks.html">$pagebreaks</a>[0];
<a name="l311"><span class="linenum"> 311</span></a>      } else {
<a name="l312"><span class="linenum"> 312</span></a>          <a class="var it5275" onMouseOver="hilite(5275)" onMouseOut="lolite()" onClick="logVariable('firstpagebreak')" href="../../_variables/firstpagebreak.html">$firstpagebreak</a> = false;
<a name="l313"><span class="linenum"> 313</span></a>      }
<a name="l314"><span class="linenum"> 314</span></a>      <a class="var it5276" onMouseOver="hilite(5276)" onMouseOut="lolite()" onClick="logVariable('maxitemcount')" href="../../_variables/maxitemcount.html">$maxitemcount</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('feedback_item', array('feedback'=&gt;<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('id')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l315"><span class="linenum"> 315</span></a>  
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">    //get the values of completeds before done. Anonymous user can not get these values.</span>
<a name="l317"><span class="linenum"> 317</span></a>      if ((!isset(<a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('feedback')" class="var it39589" onMouseOver="hilite(39589)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>-&gt;is_started)) AND
<a name="l318"><span class="linenum"> 318</span></a>                            (!isset(<a class="var it5263" onMouseOver="hilite(5263)" onMouseOut="lolite()" onClick="logVariable('savereturn')" href="../../_variables/savereturn.html">$savereturn</a>)) AND
<a name="l319"><span class="linenum"> 319</span></a>                            (<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('anonymous')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/anonymous.html">anonymous</a> == <a class="constant" onClick="logConstant('FEEDBACK_ANONYMOUS_NO')" href="../../_constants/FEEDBACK_ANONYMOUS_NO.html" onMouseOver="constPopup(event,'FEEDBACK_ANONYMOUS_NO')">FEEDBACK_ANONYMOUS_NO</a>)) {
<a name="l320"><span class="linenum"> 320</span></a>  
<a name="l321"><span class="linenum"> 321</span></a>          <a class="var it5265" onMouseOver="hilite(5265)" onMouseOut="lolite()" onClick="logVariable('feedbackcompletedtmp')" href="../../_variables/feedbackcompletedtmp.html">$feedbackcompletedtmp</a> = <a class="function" onClick="logFunction('feedback_get_current_completed')" href="../../_functions/feedback_get_current_completed.html" onMouseOver="funcPopup(event,'feedback_get_current_completed')">feedback_get_current_completed</a>(<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('id')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, true, <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>);
<a name="l322"><span class="linenum"> 322</span></a>          if (!<a class="var it5265" onMouseOver="hilite(5265)" onMouseOut="lolite()" onClick="logVariable('feedbackcompletedtmp')" href="../../_variables/feedbackcompletedtmp.html">$feedbackcompletedtmp</a>) {
<a name="l323"><span class="linenum"> 323</span></a>              <a class="var it5264" onMouseOver="hilite(5264)" onMouseOut="lolite()" onClick="logVariable('feedbackcompleted')" href="../../_variables/feedbackcompleted.html">$feedbackcompleted</a> = <a class="function" onClick="logFunction('feedback_get_current_completed')" href="../../_functions/feedback_get_current_completed.html" onMouseOver="funcPopup(event,'feedback_get_current_completed')">feedback_get_current_completed</a>(<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('id')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, false, <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>);
<a name="l324"><span class="linenum"> 324</span></a>              if (<a class="var it5264" onMouseOver="hilite(5264)" onMouseOut="lolite()" onClick="logVariable('feedbackcompleted')" href="../../_variables/feedbackcompleted.html">$feedbackcompleted</a>) {
<a name="l325"><span class="linenum"> 325</span></a>  <span class="comment">                //copy the values to feedback_valuetmp create a completedtmp</span>
<a name="l326"><span class="linenum"> 326</span></a>                  <a class="var it5265" onMouseOver="hilite(5265)" onMouseOut="lolite()" onClick="logVariable('feedbackcompletedtmp')" href="../../_variables/feedbackcompletedtmp.html">$feedbackcompletedtmp</a> = <a class="function" onClick="logFunction('feedback_set_tmp_values')" href="../../_functions/feedback_set_tmp_values.html" onMouseOver="funcPopup(event,'feedback_set_tmp_values')">feedback_set_tmp_values</a>(<a class="var it5264" onMouseOver="hilite(5264)" onMouseOut="lolite()" onClick="logVariable('feedbackcompleted')" href="../../_variables/feedbackcompleted.html">$feedbackcompleted</a>);
<a name="l327"><span class="linenum"> 327</span></a>              }
<a name="l328"><span class="linenum"> 328</span></a>          }
<a name="l329"><span class="linenum"> 329</span></a>      } else {
<a name="l330"><span class="linenum"> 330</span></a>          <a class="var it5265" onMouseOver="hilite(5265)" onMouseOut="lolite()" onClick="logVariable('feedbackcompletedtmp')" href="../../_variables/feedbackcompletedtmp.html">$feedbackcompletedtmp</a> = <a class="function" onClick="logFunction('feedback_get_current_completed')" href="../../_functions/feedback_get_current_completed.html" onMouseOver="funcPopup(event,'feedback_get_current_completed')">feedback_get_current_completed</a>(<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('id')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, true, <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>);
<a name="l331"><span class="linenum"> 331</span></a>      }
<a name="l332"><span class="linenum"> 332</span></a>  
<a name="l333"><span class="linenum"> 333</span></a>  <span class="comment">    /// Print the main part of the page</span>
<a name="l334"><span class="linenum"> 334</span></a>  <span class="comment">    ///////////////////////////////////////////////////////////////////////////</span>
<a name="l335"><span class="linenum"> 335</span></a>  <span class="comment">    ///////////////////////////////////////////////////////////////////////////</span>
<a name="l336"><span class="linenum"> 336</span></a>  <span class="comment">    ///////////////////////////////////////////////////////////////////////////</span>
<a name="l337"><span class="linenum"> 337</span></a>      <a class="var it5277" onMouseOver="hilite(5277)" onMouseOut="lolite()" onClick="logVariable('analysisurl')" href="../../_variables/analysisurl.html">$analysisurl</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>('<a class="filename" href="../../mod/feedback/analysis.php.html">/mod/feedback/analysis.php</a>', array('id'=&gt;<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>));
<a name="l338"><span class="linenum"> 338</span></a>      if (<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a> &gt; 0) {
<a name="l339"><span class="linenum"> 339</span></a>          <a class="var it5277" onMouseOver="hilite(5277)" onMouseOut="lolite()" onClick="logVariable('analysisurl')" href="../../_variables/analysisurl.html">$analysisurl</a>-&gt;<a class="function" onClick="logFunction('param')" href="../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('courseid', <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>);
<a name="l340"><span class="linenum"> 340</span></a>      }
<a name="l341"><span class="linenum"> 341</span></a>      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('name')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>));
<a name="l342"><span class="linenum"> 342</span></a>  
<a name="l343"><span class="linenum"> 343</span></a>      if ( (<a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('publish_stats')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/publish_stats.html">publish_stats</a>) == 1) AND
<a name="l344"><span class="linenum"> 344</span></a>              ( <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/feedback:viewanalysepage', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) AND
<a name="l345"><span class="linenum"> 345</span></a>              !( <a class="function" onClick="logFunction('has_capability')" href="../../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('mod/feedback:viewreports', <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>)) ) {
<a name="l346"><span class="linenum"> 346</span></a>  
<a name="l347"><span class="linenum"> 347</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('userid' =&gt; <a class="var it9" onMouseOver="hilite(9)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it39490" onMouseOver="hilite(39490)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'feedback' =&gt; <a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('id')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l348"><span class="linenum"> 348</span></a>          if (<a class="var it5279" onMouseOver="hilite(5279)" onMouseOut="lolite()" onClick="logVariable('multiple_count')" href="../../_variables/multiple_count.html">$multiple_count</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('feedback_tracking', <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>)) {
<a name="l349"><span class="linenum"> 349</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('mdl-align');
<a name="l350"><span class="linenum"> 350</span></a>              echo '&lt;a href=&quot;'.<a class="var it5277" onMouseOver="hilite(5277)" onMouseOut="lolite()" onClick="logVariable('analysisurl')" href="../../_variables/analysisurl.html">$analysisurl</a>-&gt;<a class="function" onClick="logFunction('out')" href="../../_functions/out.html" onMouseOver="funcPopup(event,'out')">out</a>().'&quot;&gt;';
<a name="l351"><span class="linenum"> 351</span></a>              echo <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('completed_feedbacks', 'feedback').'&lt;/a&gt;';
<a name="l352"><span class="linenum"> 352</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l353"><span class="linenum"> 353</span></a>          }
<a name="l354"><span class="linenum"> 354</span></a>      }
<a name="l355"><span class="linenum"> 355</span></a>  
<a name="l356"><span class="linenum"> 356</span></a>      if (isset(<a class="var it5263" onMouseOver="hilite(5263)" onMouseOut="lolite()" onClick="logVariable('savereturn')" href="../../_variables/savereturn.html">$savereturn</a>) &amp;&amp; <a class="var it5263" onMouseOver="hilite(5263)" onMouseOut="lolite()" onClick="logVariable('savereturn')" href="../../_variables/savereturn.html">$savereturn</a> == 'saved') {
<a name="l357"><span class="linenum"> 357</span></a>          if (<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('page_after_submit')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/page_after_submit.html">page_after_submit</a>) {
<a name="l358"><span class="linenum"> 358</span></a>  
<a name="l359"><span class="linenum"> 359</span></a>              require_once(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a> . '/filelib.php');
<a name="l360"><span class="linenum"> 360</span></a>  
<a name="l361"><span class="linenum"> 361</span></a>              <a class="var it5281" onMouseOver="hilite(5281)" onMouseOut="lolite()" onClick="logVariable('page_after_submit_output')" href="../../_variables/page_after_submit_output.html">$page_after_submit_output</a> = <a class="function" onClick="logFunction('file_rewrite_pluginfile_urls')" href="../../_functions/file_rewrite_pluginfile_urls.html" onMouseOver="funcPopup(event,'file_rewrite_pluginfile_urls')">file_rewrite_pluginfile_urls</a>(<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('page_after_submit')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/page_after_submit.html">page_after_submit</a>,
<a name="l362"><span class="linenum"> 362</span></a>                                                                      '<a class="filename" href="../../pluginfile.php.html">pluginfile.php</a>',
<a name="l363"><span class="linenum"> 363</span></a>                                                                      <a class="var it185" onMouseOver="hilite(185)" onMouseOut="lolite()" onClick="logVariable('context')" href="../../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it39491" onMouseOver="hilite(39491)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l364"><span class="linenum"> 364</span></a>                                                                      'mod_feedback',
<a name="l365"><span class="linenum"> 365</span></a>                                                                      'page_after_submit',
<a name="l366"><span class="linenum"> 366</span></a>                                                                      0);
<a name="l367"><span class="linenum"> 367</span></a>  
<a name="l368"><span class="linenum"> 368</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('generalbox boxaligncenter boxwidthwide');
<a name="l369"><span class="linenum"> 369</span></a>              echo <a class="function" onClick="logFunction('format_text')" href="../../_functions/format_text.html" onMouseOver="funcPopup(event,'format_text')">format_text</a>(<a class="var it5281" onMouseOver="hilite(5281)" onMouseOut="lolite()" onClick="logVariable('page_after_submit_output')" href="../../_variables/page_after_submit_output.html">$page_after_submit_output</a>,
<a name="l370"><span class="linenum"> 370</span></a>                               <a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('page_after_submitformat')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/page_after_submitformat.html">page_after_submitformat</a>,
<a name="l371"><span class="linenum"> 371</span></a>                               array('overflowdiv' =&gt; true));
<a name="l372"><span class="linenum"> 372</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l373"><span class="linenum"> 373</span></a>          } else {
<a name="l374"><span class="linenum"> 374</span></a>              echo '&lt;p align=&quot;center&quot;&gt;';
<a name="l375"><span class="linenum"> 375</span></a>              echo '&lt;b&gt;&lt;font color=&quot;green&quot;&gt;';
<a name="l376"><span class="linenum"> 376</span></a>              echo <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('entries_saved', 'feedback');
<a name="l377"><span class="linenum"> 377</span></a>              echo '&lt;/font&gt;&lt;/b&gt;';
<a name="l378"><span class="linenum"> 378</span></a>              echo '&lt;/p&gt;';
<a name="l379"><span class="linenum"> 379</span></a>              if ( <a class="phpfunction" onClick="logFunction('intval')" href="../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('publish_stats')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/publish_stats.html">publish_stats</a>) == 1) {
<a name="l380"><span class="linenum"> 380</span></a>                  echo '&lt;p align=&quot;center&quot;&gt;&lt;a href=&quot;'.<a class="var it5277" onMouseOver="hilite(5277)" onMouseOut="lolite()" onClick="logVariable('analysisurl')" href="../../_variables/analysisurl.html">$analysisurl</a>-&gt;<a class="function" onClick="logFunction('out')" href="../../_functions/out.html" onMouseOver="funcPopup(event,'out')">out</a>().'&quot;&gt;';
<a name="l381"><span class="linenum"> 381</span></a>                  echo <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('completed_feedbacks', 'feedback').'&lt;/a&gt;';
<a name="l382"><span class="linenum"> 382</span></a>                  echo '&lt;/p&gt;';
<a name="l383"><span class="linenum"> 383</span></a>              }
<a name="l384"><span class="linenum"> 384</span></a>          }
<a name="l385"><span class="linenum"> 385</span></a>  
<a name="l386"><span class="linenum"> 386</span></a>          if (<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('site_after_submit')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/site_after_submit.html">site_after_submit</a>) {
<a name="l387"><span class="linenum"> 387</span></a>              <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = <a class="function" onClick="logFunction('feedback_encode_target_url')" href="../../_functions/feedback_encode_target_url.html" onMouseOver="funcPopup(event,'feedback_encode_target_url')">feedback_encode_target_url</a>(<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('site_after_submit')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/site_after_submit.html">site_after_submit</a>);
<a name="l388"><span class="linenum"> 388</span></a>          } else {
<a name="l389"><span class="linenum"> 389</span></a>              if (<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>) {
<a name="l390"><span class="linenum"> 390</span></a>                  if (<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a> == <a class="constant" onClick="logConstant('SITEID')" href="../../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l391"><span class="linenum"> 391</span></a>                      <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>;
<a name="l392"><span class="linenum"> 392</span></a>                  } else {
<a name="l393"><span class="linenum"> 393</span></a>                      <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>.'/course/view.php?id='.<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>;
<a name="l394"><span class="linenum"> 394</span></a>                  }
<a name="l395"><span class="linenum"> 395</span></a>              } else {
<a name="l396"><span class="linenum"> 396</span></a>                  if (<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> == <a class="constant" onClick="logConstant('SITEID')" href="../../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l397"><span class="linenum"> 397</span></a>                      <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>;
<a name="l398"><span class="linenum"> 398</span></a>                  } else {
<a name="l399"><span class="linenum"> 399</span></a>                      <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a> = <a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>.'/course/view.php?id='.<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l400"><span class="linenum"> 400</span></a>                  }
<a name="l401"><span class="linenum"> 401</span></a>              }
<a name="l402"><span class="linenum"> 402</span></a>          }
<a name="l403"><span class="linenum"> 403</span></a>          echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('continue_button')" href="../../_functions/continue_button.html" onMouseOver="funcPopup(event,'continue_button')">continue_button</a>(<a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('url')" href="../../_variables/url.html">$url</a>);
<a name="l404"><span class="linenum"> 404</span></a>      } else {
<a name="l405"><span class="linenum"> 405</span></a>          if (isset(<a class="var it5263" onMouseOver="hilite(5263)" onMouseOut="lolite()" onClick="logVariable('savereturn')" href="../../_variables/savereturn.html">$savereturn</a>) &amp;&amp; <a class="var it5263" onMouseOver="hilite(5263)" onMouseOut="lolite()" onClick="logVariable('savereturn')" href="../../_variables/savereturn.html">$savereturn</a> == 'failed') {
<a name="l406"><span class="linenum"> 406</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('mform');
<a name="l407"><span class="linenum"> 407</span></a>              echo '&lt;span class=&quot;error&quot;&gt;'.<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('saving_failed', 'feedback').'&lt;/span&gt;';
<a name="l408"><span class="linenum"> 408</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l409"><span class="linenum"> 409</span></a>          }
<a name="l410"><span class="linenum"> 410</span></a>  
<a name="l411"><span class="linenum"> 411</span></a>          if (isset(<a class="var it5263" onMouseOver="hilite(5263)" onMouseOut="lolite()" onClick="logVariable('savereturn')" href="../../_variables/savereturn.html">$savereturn</a>) &amp;&amp; <a class="var it5263" onMouseOver="hilite(5263)" onMouseOut="lolite()" onClick="logVariable('savereturn')" href="../../_variables/savereturn.html">$savereturn</a> == 'missing') {
<a name="l412"><span class="linenum"> 412</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('mform');
<a name="l413"><span class="linenum"> 413</span></a>              echo '&lt;span class=&quot;error&quot;&gt;'.<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('saving_failed_because_missing_or_false_values', 'feedback').'&lt;/span&gt;';
<a name="l414"><span class="linenum"> 414</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l415"><span class="linenum"> 415</span></a>          }
<a name="l416"><span class="linenum"> 416</span></a>  
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment">        //print the items</span>
<a name="l418"><span class="linenum"> 418</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it5273" onMouseOver="hilite(5273)" onMouseOut="lolite()" onClick="logVariable('feedbackitems')" href="../../_variables/feedbackitems.html">$feedbackitems</a>)) {
<a name="l419"><span class="linenum"> 419</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('feedback_form');
<a name="l420"><span class="linenum"> 420</span></a>              echo '&lt;form action=&quot;complete.php&quot; class=&quot;mform&quot; method=&quot;post&quot; onsubmit=&quot; &quot;&gt;';
<a name="l421"><span class="linenum"> 421</span></a>              echo '&lt;input type=&quot;hidden&quot; name=&quot;sesskey&quot; value=&quot;'.<a class="function" onClick="logFunction('sesskey')" href="../../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>().'&quot; /&gt;';
<a name="l422"><span class="linenum"> 422</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('feedback_anonymousinfo');
<a name="l423"><span class="linenum"> 423</span></a>              switch (<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('anonymous')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/anonymous.html">anonymous</a>) {
<a name="l424"><span class="linenum"> 424</span></a>                  case <a class="constant" onClick="logConstant('FEEDBACK_ANONYMOUS_YES')" href="../../_constants/FEEDBACK_ANONYMOUS_YES.html" onMouseOver="constPopup(event,'FEEDBACK_ANONYMOUS_YES')">FEEDBACK_ANONYMOUS_YES</a>:
<a name="l425"><span class="linenum"> 425</span></a>                      echo '&lt;input type=&quot;hidden&quot; name=&quot;anonymous&quot; value=&quot;1&quot; /&gt;';
<a name="l426"><span class="linenum"> 426</span></a>                      <a class="var it5284" onMouseOver="hilite(5284)" onMouseOut="lolite()" onClick="logVariable('inputvalue')" href="../../_variables/inputvalue.html">$inputvalue</a> = 'value=&quot;'.<a class="constant" onClick="logConstant('FEEDBACK_ANONYMOUS_YES')" href="../../_constants/FEEDBACK_ANONYMOUS_YES.html" onMouseOver="constPopup(event,'FEEDBACK_ANONYMOUS_YES')">FEEDBACK_ANONYMOUS_YES</a>.'&quot;';
<a name="l427"><span class="linenum"> 427</span></a>                      echo '&lt;input type=&quot;hidden&quot; name=&quot;anonymous_response&quot; '.<a class="var it5284" onMouseOver="hilite(5284)" onMouseOut="lolite()" onClick="logVariable('inputvalue')" href="../../_variables/inputvalue.html">$inputvalue</a>.' /&gt;';
<a name="l428"><span class="linenum"> 428</span></a>                      echo <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('mode', 'feedback').': '.<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('anonymous', 'feedback');
<a name="l429"><span class="linenum"> 429</span></a>                      break;
<a name="l430"><span class="linenum"> 430</span></a>                  case <a class="constant" onClick="logConstant('FEEDBACK_ANONYMOUS_NO')" href="../../_constants/FEEDBACK_ANONYMOUS_NO.html" onMouseOver="constPopup(event,'FEEDBACK_ANONYMOUS_NO')">FEEDBACK_ANONYMOUS_NO</a>:
<a name="l431"><span class="linenum"> 431</span></a>                      echo '&lt;input type=&quot;hidden&quot; name=&quot;anonymous&quot; value=&quot;0&quot; /&gt;';
<a name="l432"><span class="linenum"> 432</span></a>                      <a class="var it5284" onMouseOver="hilite(5284)" onMouseOut="lolite()" onClick="logVariable('inputvalue')" href="../../_variables/inputvalue.html">$inputvalue</a> = 'value=&quot;'.<a class="constant" onClick="logConstant('FEEDBACK_ANONYMOUS_NO')" href="../../_constants/FEEDBACK_ANONYMOUS_NO.html" onMouseOver="constPopup(event,'FEEDBACK_ANONYMOUS_NO')">FEEDBACK_ANONYMOUS_NO</a>.'&quot;';
<a name="l433"><span class="linenum"> 433</span></a>                      echo '&lt;input type=&quot;hidden&quot; name=&quot;anonymous_response&quot; '.<a class="var it5284" onMouseOver="hilite(5284)" onMouseOut="lolite()" onClick="logVariable('inputvalue')" href="../../_variables/inputvalue.html">$inputvalue</a>.' /&gt;';
<a name="l434"><span class="linenum"> 434</span></a>                      echo <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('mode', 'feedback').': ';
<a name="l435"><span class="linenum"> 435</span></a>                      echo <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('non_anonymous', 'feedback');
<a name="l436"><span class="linenum"> 436</span></a>                      break;
<a name="l437"><span class="linenum"> 437</span></a>              }
<a name="l438"><span class="linenum"> 438</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l439"><span class="linenum"> 439</span></a>  <span class="comment">            //check, if there exists required-elements</span>
<a name="l440"><span class="linenum"> 440</span></a>              <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array('feedback' =&gt; <a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('id')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 'required' =&gt; 1);
<a name="l441"><span class="linenum"> 441</span></a>              <a class="var it5285" onMouseOver="hilite(5285)" onMouseOut="lolite()" onClick="logVariable('countreq')" href="../../_variables/countreq.html">$countreq</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records')" href="../../_functions/count_records.html" onMouseOver="funcPopup(event,'count_records')">count_records</a>('feedback_item', <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l442"><span class="linenum"> 442</span></a>              if (<a class="var it5285" onMouseOver="hilite(5285)" onMouseOut="lolite()" onClick="logVariable('countreq')" href="../../_variables/countreq.html">$countreq</a> &gt; 0) {
<a name="l443"><span class="linenum"> 443</span></a>                  echo '&lt;span class=&quot;fdescription required&quot;&gt;';
<a name="l444"><span class="linenum"> 444</span></a>                  echo <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('somefieldsrequired', 'form', '&lt;img alt=&quot;'.<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('requiredelement', 'form').
<a name="l445"><span class="linenum"> 445</span></a>                      '&quot; src=&quot;'.<a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('pix_url')" href="../../_functions/pix_url.html" onMouseOver="funcPopup(event,'pix_url')">pix_url</a>('req') .'&quot; class=&quot;req&quot; /&gt;');
<a name="l446"><span class="linenum"> 446</span></a>                  echo '&lt;/span&gt;';
<a name="l447"><span class="linenum"> 447</span></a>              }
<a name="l448"><span class="linenum"> 448</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('feedback_items');
<a name="l449"><span class="linenum"> 449</span></a>  
<a name="l450"><span class="linenum"> 450</span></a>              unset(<a class="var it5286" onMouseOver="hilite(5286)" onMouseOut="lolite()" onClick="logVariable('startitem')" href="../../_variables/startitem.html">$startitem</a>);
<a name="l451"><span class="linenum"> 451</span></a>              <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> = 'feedback = ? AND hasvalue = 1 AND position &lt; ?';
<a name="l452"><span class="linenum"> 452</span></a>              <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array(<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('id')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it5271" onMouseOver="hilite(5271)" onMouseOut="lolite()" onClick="logVariable('startposition')" href="../../_variables/startposition.html">$startposition</a>);
<a name="l453"><span class="linenum"> 453</span></a>              <a class="var it2852" onMouseOver="hilite(2852)" onMouseOut="lolite()" onClick="logVariable('itemnr')" href="../../_variables/itemnr.html">$itemnr</a> = <a class="var it2" onMouseOver="hilite(2)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('count_records_select')" href="../../_functions/count_records_select.html" onMouseOver="funcPopup(event,'count_records_select')">count_records_select</a>('feedback_item', <a class="var it2282" onMouseOver="hilite(2282)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l454"><span class="linenum"> 454</span></a>              <a class="var it5287" onMouseOver="hilite(5287)" onMouseOut="lolite()" onClick="logVariable('lastbreakposition')" href="../../_variables/lastbreakposition.html">$lastbreakposition</a> = 0;
<a name="l455"><span class="linenum"> 455</span></a>              <a class="var it60" onMouseOver="hilite(60)" onMouseOut="lolite()" onClick="logVariable('align')" href="../../_variables/align.html">$align</a> = <a class="function" onClick="logFunction('right_to_left')" href="../../_functions/right_to_left.html" onMouseOver="funcPopup(event,'right_to_left')">right_to_left</a>() ? 'right' : 'left';
<a name="l456"><span class="linenum"> 456</span></a>  
<a name="l457"><span class="linenum"> 457</span></a>              foreach (<a class="var it5273" onMouseOver="hilite(5273)" onMouseOut="lolite()" onClick="logVariable('feedbackitems')" href="../../_variables/feedbackitems.html">$feedbackitems</a> as <a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>) {
<a name="l458"><span class="linenum"> 458</span></a>                  if (!isset(<a class="var it5286" onMouseOver="hilite(5286)" onMouseOut="lolite()" onClick="logVariable('startitem')" href="../../_variables/startitem.html">$startitem</a>)) {
<a name="l459"><span class="linenum"> 459</span></a>  <span class="comment">                    //avoid showing double pagebreaks</span>
<a name="l460"><span class="linenum"> 460</span></a>                      if (<a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>-&gt;<a onClick="logVariable('typ')" class="var it40554" onMouseOver="hilite(40554)" onMouseOut="lolite()" href="../../_variables/typ.html">typ</a> == 'pagebreak') {
<a name="l461"><span class="linenum"> 461</span></a>                          continue;
<a name="l462"><span class="linenum"> 462</span></a>                      }
<a name="l463"><span class="linenum"> 463</span></a>                      <a class="var it5286" onMouseOver="hilite(5286)" onMouseOut="lolite()" onClick="logVariable('startitem')" href="../../_variables/startitem.html">$startitem</a> = <a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>;
<a name="l464"><span class="linenum"> 464</span></a>                  }
<a name="l465"><span class="linenum"> 465</span></a>  
<a name="l466"><span class="linenum"> 466</span></a>                  if (<a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>-&gt;<a onClick="logVariable('dependitem')" class="var it40554" onMouseOver="hilite(40554)" onMouseOut="lolite()" href="../../_variables/dependitem.html">dependitem</a> &gt; 0) {
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment">                    //chech if the conditions are ok</span>
<a name="l468"><span class="linenum"> 468</span></a>                      <a class="var it5289" onMouseOver="hilite(5289)" onMouseOut="lolite()" onClick="logVariable('fb_compare_value')" href="../../_variables/fb_compare_value.html">$fb_compare_value</a> = <a class="function" onClick="logFunction('feedback_compare_item_value')" href="../../_functions/feedback_compare_item_value.html" onMouseOver="funcPopup(event,'feedback_compare_item_value')">feedback_compare_item_value</a>(<a class="var it5265" onMouseOver="hilite(5265)" onMouseOut="lolite()" onClick="logVariable('feedbackcompletedtmp')" href="../../_variables/feedbackcompletedtmp.html">$feedbackcompletedtmp</a>-&gt;<a onClick="logVariable('id')" class="var it40555" onMouseOver="hilite(40555)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l469"><span class="linenum"> 469</span></a>                                                                      <a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>-&gt;<a onClick="logVariable('dependitem')" class="var it40554" onMouseOver="hilite(40554)" onMouseOut="lolite()" href="../../_variables/dependitem.html">dependitem</a>,
<a name="l470"><span class="linenum"> 470</span></a>                                                                      <a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>-&gt;<a onClick="logVariable('dependvalue')" class="var it40554" onMouseOver="hilite(40554)" onMouseOut="lolite()" href="../../_variables/dependvalue.html">dependvalue</a>,
<a name="l471"><span class="linenum"> 471</span></a>                                                                      true);
<a name="l472"><span class="linenum"> 472</span></a>                      if (!isset(<a class="var it5265" onMouseOver="hilite(5265)" onMouseOut="lolite()" onClick="logVariable('feedbackcompletedtmp')" href="../../_variables/feedbackcompletedtmp.html">$feedbackcompletedtmp</a>-&gt;<a onClick="logVariable('id')" class="var it40555" onMouseOver="hilite(40555)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>) OR !<a class="var it5289" onMouseOver="hilite(5289)" onMouseOut="lolite()" onClick="logVariable('fb_compare_value')" href="../../_variables/fb_compare_value.html">$fb_compare_value</a>) {
<a name="l473"><span class="linenum"> 473</span></a>                          <a class="var it5290" onMouseOver="hilite(5290)" onMouseOut="lolite()" onClick="logVariable('lastitem')" href="../../_variables/lastitem.html">$lastitem</a> = <a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>;
<a name="l474"><span class="linenum"> 474</span></a>                          <a class="var it5287" onMouseOver="hilite(5287)" onMouseOut="lolite()" onClick="logVariable('lastbreakposition')" href="../../_variables/lastbreakposition.html">$lastbreakposition</a> = <a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>-&gt;<a onClick="logVariable('position')" class="var it40554" onMouseOver="hilite(40554)" onMouseOut="lolite()" href="../../_variables/position.html">position</a>;
<a name="l475"><span class="linenum"> 475</span></a>                          continue;
<a name="l476"><span class="linenum"> 476</span></a>                      }
<a name="l477"><span class="linenum"> 477</span></a>                  }
<a name="l478"><span class="linenum"> 478</span></a>  
<a name="l479"><span class="linenum"> 479</span></a>                  if (<a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>-&gt;<a onClick="logVariable('dependitem')" class="var it40554" onMouseOver="hilite(40554)" onMouseOut="lolite()" href="../../_variables/dependitem.html">dependitem</a> &gt; 0) {
<a name="l480"><span class="linenum"> 480</span></a>                      <a class="var it5291" onMouseOver="hilite(5291)" onMouseOut="lolite()" onClick="logVariable('dependstyle')" href="../../_variables/dependstyle.html">$dependstyle</a> = ' feedback_complete_depend';
<a name="l481"><span class="linenum"> 481</span></a>                  } else {
<a name="l482"><span class="linenum"> 482</span></a>                      <a class="var it5291" onMouseOver="hilite(5291)" onMouseOut="lolite()" onClick="logVariable('dependstyle')" href="../../_variables/dependstyle.html">$dependstyle</a> = '';
<a name="l483"><span class="linenum"> 483</span></a>                  }
<a name="l484"><span class="linenum"> 484</span></a>  
<a name="l485"><span class="linenum"> 485</span></a>                  echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('feedback_item_box_'.<a class="var it60" onMouseOver="hilite(60)" onMouseOut="lolite()" onClick="logVariable('align')" href="../../_variables/align.html">$align</a>.<a class="var it5291" onMouseOver="hilite(5291)" onMouseOut="lolite()" onClick="logVariable('dependstyle')" href="../../_variables/dependstyle.html">$dependstyle</a>);
<a name="l486"><span class="linenum"> 486</span></a>                  <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = '';
<a name="l487"><span class="linenum"> 487</span></a>  <span class="comment">                //get the value</span>
<a name="l488"><span class="linenum"> 488</span></a>                  <a class="var it5292" onMouseOver="hilite(5292)" onMouseOut="lolite()" onClick="logVariable('frmvaluename')" href="../../_variables/frmvaluename.html">$frmvaluename</a> = <a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>-&gt;<a onClick="logVariable('typ')" class="var it40554" onMouseOver="hilite(40554)" onMouseOut="lolite()" href="../../_variables/typ.html">typ</a> . '_'. <a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>-&gt;<a onClick="logVariable('id')" class="var it40554" onMouseOver="hilite(40554)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l489"><span class="linenum"> 489</span></a>                  if (isset(<a class="var it5263" onMouseOver="hilite(5263)" onMouseOut="lolite()" onClick="logVariable('savereturn')" href="../../_variables/savereturn.html">$savereturn</a>)) {
<a name="l490"><span class="linenum"> 490</span></a>                      <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = isset(<a class="var it1039" onMouseOver="hilite(1039)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;{<a class="var it5292" onMouseOver="hilite(5292)" onMouseOut="lolite()" onClick="logVariable('frmvaluename')" href="../../_variables/frmvaluename.html">$frmvaluename</a>}) ? <a class="var it1039" onMouseOver="hilite(1039)" onMouseOut="lolite()" onClick="logVariable('formdata')" href="../../_variables/formdata.html">$formdata</a>-&gt;{<a class="var it5292" onMouseOver="hilite(5292)" onMouseOut="lolite()" onClick="logVariable('frmvaluename')" href="../../_variables/frmvaluename.html">$frmvaluename</a>} : null;
<a name="l491"><span class="linenum"> 491</span></a>                      <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="function" onClick="logFunction('feedback_clean_input_value')" href="../../_functions/feedback_clean_input_value.html" onMouseOver="funcPopup(event,'feedback_clean_input_value')">feedback_clean_input_value</a>(<a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>, <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>);
<a name="l492"><span class="linenum"> 492</span></a>                  } else {
<a name="l493"><span class="linenum"> 493</span></a>                      if (isset(<a class="var it5265" onMouseOver="hilite(5265)" onMouseOut="lolite()" onClick="logVariable('feedbackcompletedtmp')" href="../../_variables/feedbackcompletedtmp.html">$feedbackcompletedtmp</a>-&gt;<a onClick="logVariable('id')" class="var it40555" onMouseOver="hilite(40555)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>)) {
<a name="l494"><span class="linenum"> 494</span></a>                          <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> = <a class="function" onClick="logFunction('feedback_get_item_value')" href="../../_functions/feedback_get_item_value.html" onMouseOver="funcPopup(event,'feedback_get_item_value')">feedback_get_item_value</a>(<a class="var it5265" onMouseOver="hilite(5265)" onMouseOut="lolite()" onClick="logVariable('feedbackcompletedtmp')" href="../../_variables/feedbackcompletedtmp.html">$feedbackcompletedtmp</a>-&gt;<a onClick="logVariable('id')" class="var it40555" onMouseOver="hilite(40555)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l495"><span class="linenum"> 495</span></a>                                                           <a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>-&gt;<a onClick="logVariable('id')" class="var it40554" onMouseOver="hilite(40554)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l496"><span class="linenum"> 496</span></a>                                                           true);
<a name="l497"><span class="linenum"> 497</span></a>                      }
<a name="l498"><span class="linenum"> 498</span></a>                  }
<a name="l499"><span class="linenum"> 499</span></a>                  if (<a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>-&gt;<a onClick="logVariable('hasvalue')" class="var it40554" onMouseOver="hilite(40554)" onMouseOut="lolite()" href="../../_variables/hasvalue.html">hasvalue</a> == 1 AND <a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('autonumbering')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/autonumbering.html">autonumbering</a>) {
<a name="l500"><span class="linenum"> 500</span></a>                      <a class="var it2852" onMouseOver="hilite(2852)" onMouseOut="lolite()" onClick="logVariable('itemnr')" href="../../_variables/itemnr.html">$itemnr</a>++;
<a name="l501"><span class="linenum"> 501</span></a>                      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('feedback_item_number_'.<a class="var it60" onMouseOver="hilite(60)" onMouseOut="lolite()" onClick="logVariable('align')" href="../../_variables/align.html">$align</a>);
<a name="l502"><span class="linenum"> 502</span></a>                      echo <a class="var it2852" onMouseOver="hilite(2852)" onMouseOut="lolite()" onClick="logVariable('itemnr')" href="../../_variables/itemnr.html">$itemnr</a>;
<a name="l503"><span class="linenum"> 503</span></a>                      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l504"><span class="linenum"> 504</span></a>                  }
<a name="l505"><span class="linenum"> 505</span></a>                  if (<a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>-&gt;<a onClick="logVariable('typ')" class="var it40554" onMouseOver="hilite(40554)" onMouseOut="lolite()" href="../../_variables/typ.html">typ</a> != 'pagebreak') {
<a name="l506"><span class="linenum"> 506</span></a>                      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('box generalbox boxalign_'.<a class="var it60" onMouseOver="hilite(60)" onMouseOut="lolite()" onClick="logVariable('align')" href="../../_variables/align.html">$align</a>);
<a name="l507"><span class="linenum"> 507</span></a>                      <a class="function" onClick="logFunction('feedback_print_item_complete')" href="../../_functions/feedback_print_item_complete.html" onMouseOver="funcPopup(event,'feedback_print_item_complete')">feedback_print_item_complete</a>(<a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>, <a class="var it35" onMouseOver="hilite(35)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>, <a class="var it5251" onMouseOver="hilite(5251)" onMouseOut="lolite()" onClick="logVariable('highlightrequired')" href="../../_variables/highlightrequired.html">$highlightrequired</a>);
<a name="l508"><span class="linenum"> 508</span></a>                      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l509"><span class="linenum"> 509</span></a>                  }
<a name="l510"><span class="linenum"> 510</span></a>  
<a name="l511"><span class="linenum"> 511</span></a>                  echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l512"><span class="linenum"> 512</span></a>  
<a name="l513"><span class="linenum"> 513</span></a>                  <a class="var it5287" onMouseOver="hilite(5287)" onMouseOut="lolite()" onClick="logVariable('lastbreakposition')" href="../../_variables/lastbreakposition.html">$lastbreakposition</a> = <a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>-&gt;<a onClick="logVariable('position')" class="var it40554" onMouseOver="hilite(40554)" onMouseOut="lolite()" href="../../_variables/position.html">position</a>; <span class="comment">//last item-pos (item or pagebreak)</span>
<a name="l514"><span class="linenum"> 514</span></a>                  if (<a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>-&gt;<a onClick="logVariable('typ')" class="var it40554" onMouseOver="hilite(40554)" onMouseOut="lolite()" href="../../_variables/typ.html">typ</a> == 'pagebreak') {
<a name="l515"><span class="linenum"> 515</span></a>                      break;
<a name="l516"><span class="linenum"> 516</span></a>                  } else {
<a name="l517"><span class="linenum"> 517</span></a>                      <a class="var it5290" onMouseOver="hilite(5290)" onMouseOut="lolite()" onClick="logVariable('lastitem')" href="../../_variables/lastitem.html">$lastitem</a> = <a class="var it5288" onMouseOver="hilite(5288)" onMouseOut="lolite()" onClick="logVariable('feedbackitem')" href="../../_variables/feedbackitem.html">$feedbackitem</a>;
<a name="l518"><span class="linenum"> 518</span></a>                  }
<a name="l519"><span class="linenum"> 519</span></a>              }
<a name="l520"><span class="linenum"> 520</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l521"><span class="linenum"> 521</span></a>              echo '&lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;'.<a class="var it102" onMouseOver="hilite(102)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../_variables/id.html">$id</a>.'&quot; /&gt;';
<a name="l522"><span class="linenum"> 522</span></a>              echo '&lt;input type=&quot;hidden&quot; name=&quot;feedbackid&quot; value=&quot;'.<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('id')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>.'&quot; /&gt;';
<a name="l523"><span class="linenum"> 523</span></a>              echo '&lt;input type=&quot;hidden&quot; name=&quot;lastpage&quot; value=&quot;'.<a class="var it5246" onMouseOver="hilite(5246)" onMouseOut="lolite()" onClick="logVariable('gopage')" href="../../_variables/gopage.html">$gopage</a>.'&quot; /&gt;';
<a name="l524"><span class="linenum"> 524</span></a>              if (isset(<a class="var it5265" onMouseOver="hilite(5265)" onMouseOut="lolite()" onClick="logVariable('feedbackcompletedtmp')" href="../../_variables/feedbackcompletedtmp.html">$feedbackcompletedtmp</a>-&gt;<a onClick="logVariable('id')" class="var it40555" onMouseOver="hilite(40555)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>)) {
<a name="l525"><span class="linenum"> 525</span></a>                  <a class="var it5284" onMouseOver="hilite(5284)" onMouseOut="lolite()" onClick="logVariable('inputvalue')" href="../../_variables/inputvalue.html">$inputvalue</a> = 'value=&quot;'.<a class="var it5265" onMouseOver="hilite(5265)" onMouseOut="lolite()" onClick="logVariable('feedbackcompletedtmp')" href="../../_variables/feedbackcompletedtmp.html">$feedbackcompletedtmp</a>-&gt;<a onClick="logVariable('id')" class="var it40555" onMouseOver="hilite(40555)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>.'&quot;';
<a name="l526"><span class="linenum"> 526</span></a>              } else {
<a name="l527"><span class="linenum"> 527</span></a>                  <a class="var it5284" onMouseOver="hilite(5284)" onMouseOut="lolite()" onClick="logVariable('inputvalue')" href="../../_variables/inputvalue.html">$inputvalue</a> = 'value=&quot;&quot;';
<a name="l528"><span class="linenum"> 528</span></a>              }
<a name="l529"><span class="linenum"> 529</span></a>              echo '&lt;input type=&quot;hidden&quot; name=&quot;completedid&quot; '.<a class="var it5284" onMouseOver="hilite(5284)" onMouseOut="lolite()" onClick="logVariable('inputvalue')" href="../../_variables/inputvalue.html">$inputvalue</a>.' /&gt;';
<a name="l530"><span class="linenum"> 530</span></a>              echo '&lt;input type=&quot;hidden&quot; name=&quot;courseid&quot; value=&quot;'. <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a> . '&quot; /&gt;';
<a name="l531"><span class="linenum"> 531</span></a>              echo '&lt;input type=&quot;hidden&quot; name=&quot;preservevalues&quot; value=&quot;1&quot; /&gt;';
<a name="l532"><span class="linenum"> 532</span></a>              if (isset(<a class="var it5286" onMouseOver="hilite(5286)" onMouseOut="lolite()" onClick="logVariable('startitem')" href="../../_variables/startitem.html">$startitem</a>)) {
<a name="l533"><span class="linenum"> 533</span></a>                  echo '&lt;input type=&quot;hidden&quot; name=&quot;startitempos&quot; value=&quot;'.<a class="var it5286" onMouseOver="hilite(5286)" onMouseOut="lolite()" onClick="logVariable('startitem')" href="../../_variables/startitem.html">$startitem</a>-&gt;<a onClick="logVariable('position')" class="var it40556" onMouseOver="hilite(40556)" onMouseOut="lolite()" href="../../_variables/position.html">position</a>.'&quot; /&gt;';
<a name="l534"><span class="linenum"> 534</span></a>                  echo '&lt;input type=&quot;hidden&quot; name=&quot;lastitempos&quot; value=&quot;'.<a class="var it5290" onMouseOver="hilite(5290)" onMouseOut="lolite()" onClick="logVariable('lastitem')" href="../../_variables/lastitem.html">$lastitem</a>-&gt;<a onClick="logVariable('position')" class="var it40557" onMouseOver="hilite(40557)" onMouseOut="lolite()" href="../../_variables/position.html">position</a>.'&quot; /&gt;';
<a name="l535"><span class="linenum"> 535</span></a>              }
<a name="l536"><span class="linenum"> 536</span></a>  
<a name="l537"><span class="linenum"> 537</span></a>              if ( <a class="var it5272" onMouseOver="hilite(5272)" onMouseOut="lolite()" onClick="logVariable('ispagebreak')" href="../../_variables/ispagebreak.html">$ispagebreak</a> AND <a class="var it5287" onMouseOver="hilite(5287)" onMouseOut="lolite()" onClick="logVariable('lastbreakposition')" href="../../_variables/lastbreakposition.html">$lastbreakposition</a> &gt; <a class="var it5275" onMouseOver="hilite(5275)" onMouseOut="lolite()" onClick="logVariable('firstpagebreak')" href="../../_variables/firstpagebreak.html">$firstpagebreak</a>-&gt;<a onClick="logVariable('position')" class="var it40558" onMouseOver="hilite(40558)" onMouseOut="lolite()" href="../../_variables/position.html">position</a>) {
<a name="l538"><span class="linenum"> 538</span></a>                  <a class="var it5284" onMouseOver="hilite(5284)" onMouseOut="lolite()" onClick="logVariable('inputvalue')" href="../../_variables/inputvalue.html">$inputvalue</a> = 'value=&quot;'.<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('previous_page', 'feedback').'&quot;';
<a name="l539"><span class="linenum"> 539</span></a>                  echo '&lt;input name=&quot;gopreviouspage&quot; type=&quot;submit&quot; '.<a class="var it5284" onMouseOver="hilite(5284)" onMouseOut="lolite()" onClick="logVariable('inputvalue')" href="../../_variables/inputvalue.html">$inputvalue</a>.' /&gt;';
<a name="l540"><span class="linenum"> 540</span></a>              }
<a name="l541"><span class="linenum"> 541</span></a>              if (<a class="var it5287" onMouseOver="hilite(5287)" onMouseOut="lolite()" onClick="logVariable('lastbreakposition')" href="../../_variables/lastbreakposition.html">$lastbreakposition</a> &lt; <a class="var it5276" onMouseOver="hilite(5276)" onMouseOut="lolite()" onClick="logVariable('maxitemcount')" href="../../_variables/maxitemcount.html">$maxitemcount</a>) {
<a name="l542"><span class="linenum"> 542</span></a>                  <a class="var it5284" onMouseOver="hilite(5284)" onMouseOut="lolite()" onClick="logVariable('inputvalue')" href="../../_variables/inputvalue.html">$inputvalue</a> = 'value=&quot;'.<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('next_page', 'feedback').'&quot;';
<a name="l543"><span class="linenum"> 543</span></a>                  echo '&lt;input name=&quot;gonextpage&quot; type=&quot;submit&quot; '.<a class="var it5284" onMouseOver="hilite(5284)" onMouseOut="lolite()" onClick="logVariable('inputvalue')" href="../../_variables/inputvalue.html">$inputvalue</a>.' /&gt;';
<a name="l544"><span class="linenum"> 544</span></a>              }
<a name="l545"><span class="linenum"> 545</span></a>              if (<a class="var it5287" onMouseOver="hilite(5287)" onMouseOut="lolite()" onClick="logVariable('lastbreakposition')" href="../../_variables/lastbreakposition.html">$lastbreakposition</a> &gt;= <a class="var it5276" onMouseOver="hilite(5276)" onMouseOut="lolite()" onClick="logVariable('maxitemcount')" href="../../_variables/maxitemcount.html">$maxitemcount</a>) { //last page
<a name="l546"><span class="linenum"> 546</span></a>                  <a class="var it5284" onMouseOver="hilite(5284)" onMouseOut="lolite()" onClick="logVariable('inputvalue')" href="../../_variables/inputvalue.html">$inputvalue</a> = 'value=&quot;'.<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('save_entries', 'feedback').'&quot;';
<a name="l547"><span class="linenum"> 547</span></a>                  echo '&lt;input name=&quot;savevalues&quot; type=&quot;submit&quot; '.<a class="var it5284" onMouseOver="hilite(5284)" onMouseOut="lolite()" onClick="logVariable('inputvalue')" href="../../_variables/inputvalue.html">$inputvalue</a>.' /&gt;';
<a name="l548"><span class="linenum"> 548</span></a>              }
<a name="l549"><span class="linenum"> 549</span></a>  
<a name="l550"><span class="linenum"> 550</span></a>              echo '&lt;/form&gt;';
<a name="l551"><span class="linenum"> 551</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l552"><span class="linenum"> 552</span></a>  
<a name="l553"><span class="linenum"> 553</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('feedback_complete_cancel');
<a name="l554"><span class="linenum"> 554</span></a>              if (<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>) {
<a name="l555"><span class="linenum"> 555</span></a>                  <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../_variables/action.html">$action</a> = 'action=&quot;'.<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>.'/course/view.php?id='.<a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a>.'&quot;';
<a name="l556"><span class="linenum"> 556</span></a>              } else {
<a name="l557"><span class="linenum"> 557</span></a>                  if (<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> == <a class="constant" onClick="logConstant('SITEID')" href="../../_constants/SITEID.html" onMouseOver="constPopup(event,'SITEID')">SITEID</a>) {
<a name="l558"><span class="linenum"> 558</span></a>                      <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../_variables/action.html">$action</a> = 'action=&quot;'.<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>.'&quot;';
<a name="l559"><span class="linenum"> 559</span></a>                  } else {
<a name="l560"><span class="linenum"> 560</span></a>                      <a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../_variables/action.html">$action</a> = 'action=&quot;'.<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>.'/course/view.php?id='.<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>.'&quot;';
<a name="l561"><span class="linenum"> 561</span></a>                  }
<a name="l562"><span class="linenum"> 562</span></a>              }
<a name="l563"><span class="linenum"> 563</span></a>              echo '&lt;form '.<a class="var it70" onMouseOver="hilite(70)" onMouseOut="lolite()" onClick="logVariable('action')" href="../../_variables/action.html">$action</a>.' method=&quot;post&quot; onsubmit=&quot; &quot;&gt;';
<a name="l564"><span class="linenum"> 564</span></a>              echo '&lt;input type=&quot;hidden&quot; name=&quot;sesskey&quot; value=&quot;'.<a class="function" onClick="logFunction('sesskey')" href="../../_functions/sesskey.html" onMouseOver="funcPopup(event,'sesskey')">sesskey</a>().'&quot; /&gt;';
<a name="l565"><span class="linenum"> 565</span></a>              echo '&lt;input type=&quot;hidden&quot; name=&quot;courseid&quot; value=&quot;'. <a class="var it96" onMouseOver="hilite(96)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../../_variables/courseid.html">$courseid</a> . '&quot; /&gt;';
<a name="l566"><span class="linenum"> 566</span></a>              echo '&lt;button type=&quot;submit&quot;&gt;'.<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('cancel').'&lt;/button&gt;';
<a name="l567"><span class="linenum"> 567</span></a>              echo '&lt;/form&gt;';
<a name="l568"><span class="linenum"> 568</span></a>              echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l569"><span class="linenum"> 569</span></a>              <a class="var it584" onMouseOver="hilite(584)" onMouseOut="lolite()" onClick="logVariable('SESSION')" href="../../_variables/SESSION.html">$SESSION</a>-&gt;<a onClick="logVariable('feedback')" class="var it39589" onMouseOver="hilite(39589)" onMouseOut="lolite()" href="../../_variables/feedback.html">feedback</a>-&gt;is_started = true;
<a name="l570"><span class="linenum"> 570</span></a>          }
<a name="l571"><span class="linenum"> 571</span></a>      }
<a name="l572"><span class="linenum"> 572</span></a>  } else {
<a name="l573"><span class="linenum"> 573</span></a>      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('heading')" href="../../_functions/heading.html" onMouseOver="funcPopup(event,'heading')">heading</a>(<a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it714" onMouseOver="hilite(714)" onMouseOut="lolite()" onClick="logVariable('feedback')" href="../../_variables/feedback.html">$feedback</a>-&gt;<a onClick="logVariable('name')" class="var it39694" onMouseOver="hilite(39694)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>));
<a name="l574"><span class="linenum"> 574</span></a>      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_start')" href="../../_functions/box_start.html" onMouseOver="funcPopup(event,'box_start')">box_start</a>('generalbox boxaligncenter');
<a name="l575"><span class="linenum"> 575</span></a>      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('notification')" href="../../_functions/notification.html" onMouseOver="funcPopup(event,'notification')">notification</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('this_feedback_is_already_submitted', 'feedback'));
<a name="l576"><span class="linenum"> 576</span></a>      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('continue_button')" href="../../_functions/continue_button.html" onMouseOver="funcPopup(event,'continue_button')">continue_button</a>(<a class="var it1" onMouseOver="hilite(1)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it39440" onMouseOver="hilite(39440)" onMouseOut="lolite()" href="../../_variables/wwwroot.html">wwwroot</a>.'/course/view.php?id='.<a class="var it101" onMouseOver="hilite(101)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it39506" onMouseOver="hilite(39506)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l577"><span class="linenum"> 577</span></a>      echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('box_end')" href="../../_functions/box_end.html" onMouseOver="funcPopup(event,'box_end')">box_end</a>();
<a name="l578"><span class="linenum"> 578</span></a>  }
<a name="l579"><span class="linenum"> 579</span></a>  <span class="comment">/// Finish the page</span>
<a name="l580"><span class="linenum"> 580</span></a>  <span class="comment">///////////////////////////////////////////////////////////////////////////</span>
<a name="l581"><span class="linenum"> 581</span></a>  <span class="comment">///////////////////////////////////////////////////////////////////////////</span>
<a name="l582"><span class="linenum"> 582</span></a>  <span class="comment">///////////////////////////////////////////////////////////////////////////</span>
<a name="l583"><span class="linenum"> 583</span></a>  
<a name="l584"><span class="linenum"> 584</span></a>  echo <a class="var it10" onMouseOver="hilite(10)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('footer')" href="../../_functions/footer.html" onMouseOver="funcPopup(event,'footer')">footer</a>();
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'continue_button': ['continue_button', 'Displays a continue button ', [['backup/util/ui','renderer.php',501],['lib','outputrenderers.php',2875]], 104],
'feedback_init_feedback_session': ['feedback_init_feedback_session', '', [['mod/feedback','lib.php',3171]], 4],
'require_course_login': ['require_course_login', 'Weaker version of require_login() ', [['lib','moodlelib.php',2887]], 68],
'feedback_clean_input_value': ['feedback_clean_input_value', 'cleans the userinput while submitting the form. ', [['mod/feedback','lib.php',2086]], 2],
'data_submitted': ['data_submitted', 'Determine if there is data waiting to be processed from a form ', [['lib','weblib.php',904]], 83],
'right_to_left': ['right_to_left', 'Return whether we are in right to left mode or not. ', [['lib','javascript-static.js',1150],['lib','weblib.php',2951]], 98],
'format_string': ['format_string', 'Given a simple string, this function returns the string processed by enabled string filters if $CFG->filterall is enabled ', [['lib','weblib.php',1318]], 854],
'notification': ['notification', 'Output a notification (that is, a status message about something that has just happened). ', [['lib','outputrenderers.php',2762],['lib','outputrenderers.php',4128],['lib','outputrenderers.php',4201]], 495],
'box_start': ['box_start', 'Outputs the opening section of a box. ', [['lib','outputrenderers.php',2987]], 351],
'set_url': ['set_url', 'Set the url specifics ', [['backup/cc/cc_lib','cc_weblink.php',50],['backup/util/ui','restore_ui_components.php',141],['mod/wiki','pagelib.php',246],['mod/wiki','pagelib.php',334],['mod/wiki','pagelib.php',421],['mod/wiki','pagelib.php',701],['mod/wiki','pagelib.php',726],['mod/wiki','pagelib.php',840],['mod/wiki','pagelib.php',884],['mod/wiki','pagelib.php',1013],['mod/wiki','pagelib.php',1117],['mod/wiki','pagelib.php',1224],['mod/wiki','pagelib.php',1467],['mod/wiki','pagelib.php',1869],['mod/wiki','pagelib.php',1937],['mod/wiki','pagelib.php',2111],['mod/wiki','pagelib.php',2172],['mod/wiki','pagelib.php',2228],['mod/wiki','pagelib.php',2293],['mod/wiki','pagelib.php',2341],['mod/wiki','pagelib.php',2389],['mod/wiki','pagelib.php',2493],['lib','outputcomponents.php',2823],['lib','pagelib.php',1198]], 574],
'box_end': ['box_end', 'Outputs the closing section of a box. ', [['lib','outputrenderers.php',3002]], 351],
'feedback_delete_completedtmp': ['feedback_delete_completedtmp', 'deletes the given temporary completed and all related temporary values ', [['mod/feedback','lib.php',1935]], 2],
'count_records': ['count_records', 'Count the records in a table where all the given conditions met. ', [['lib/dml','moodle_database.php',1717]], 1399],
'set_pagelayout': ['set_pagelayout', 'Sets the layout to use for this page. ', [['lib','pagelib.php',1063]], 277],
'feedback_save_values': ['feedback_save_values', 'this saves the values of an completed. if the param $tmp is set true so the values are saved temporary in table feedback_valuetmp. if there is already a completed and the userid is set so the values are updated. on all other things new value records will be created. ', [['mod/feedback','lib.php',2097]], 1],
'update_state': ['update_state', 'Updates (if necessary) the completion state of activity $cm for the given user. ', [['lib','completionlib.php',520]], 37],
'param': ['param', 'Returns a placeholder for query parameters e.g. $DB->Param(\'a\') will return - \'?\' for most databases - \':a\' for Oracle - \'$1\', \'$2\', etc. for PostgreSQL ', [['lib/adodb','adodb.inc.php',815],['lib/adodb/drivers','adodb-postgres64.inc.php',591],['lib','weblib.php',455],['lib/adodb/drivers','adodb-oci8po.inc.php',37],['lib/adodb/drivers','adodb-db2oci.inc.php',166],['lib/adodb/drivers','adodb-oci8.inc.php',1014]], 641],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required. ', [['lib/dml','pgsql_native_moodle_database.php',883],['lib/dml','oci_native_moodle_database.php',1249],['lib/dml','sqlsrv_native_moodle_database.php',978],['lib/dml','mssql_native_moodle_database.php',898],['lib/dml','mysqli_native_moodle_database.php',1177],['lib/dml/tests','dml_test.php',5427],['lib/dml','pdo_moodle_database.php',386],['question/engine/upgrade','upgradelib.php',121]], 1512],
'require_login': ['require_login', 'This function checks that the current user is logged in and has the required privileges ', [['lib','moodlelib.php',2444]], 635],
'feedback_get_all_break_positions': ['feedback_get_all_break_positions', 'get all positions of pagebreaks in the given feedback ', [['mod/feedback','lib.php',1990]], 4],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',884],['lib','accesslib.php',346]], 1929],
'get_string': ['get_string', 'Return a core get_string() call ', [['lib/external','externallib.php',112],['lib','moodlelib.php',6538],['lib','moodlelib.php',9417],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38],['lib/classes','string_manager_install.php',95],['question/behaviour','behaviourbase.php',756]], 19235],
'feedback_save_tmp_values': ['feedback_save_tmp_values', 'this saves the temporary saved values permanently ', [['mod/feedback','lib.php',1860]], 4],
'get_records_select': ['get_records_select', 'Get a number of records as an array of objects which match a particular WHERE clause. ', [['lib/dml','moodle_database.php',1283]], 163],
'get_records': ['get_records', 'Get a number of records as an array of objects where all the given conditions met. ', [['lib/dml','moodle_database.php',1236],['lib','coursecatlib.php',654],['question','category_class.php',63]], 860],
'feedback_set_tmp_values': ['feedback_set_tmp_values', 'if the user completes a feedback and there is a pagebreak so the values are saved temporary. the values are not saved permanently until the user click on save button ', [['mod/feedback','lib.php',1829]], 1],
'feedback_send_email': ['feedback_send_email', 'sends an email to the teachers of the course where the given feedback is placed. ', [['mod/feedback','lib.php',2895]], 1],
'feedback_check_is_switchrole': ['feedback_check_is_switchrole', 'returns true if the current role is faked by switching role feature ', [['mod/feedback','lib.php',844]], 2],
'feedback_send_email_anonym': ['feedback_send_email_anonym', 'sends an email to the teachers of the course where the given feedback is placed. ', [['mod/feedback','lib.php',2996]], 2],
'get_record': ['get_record', 'Get a single database record as an object where all the given conditions met. ', [['lib/dml','moodle_database.php',1413]], 2960],
'feedback_get_item_value': ['feedback_get_item_value', 'get the value from the given item related to the given completed. the value can come as temporary or as permanently value. the deciding is done by $tmp ', [['mod/feedback','lib.php',2150]], 3],
'notice': ['notice', 'Print a message and exit. ', [['lib','weblib.php',2481],['lib/mustache/src/Mustache','Logger.php',102],['lib/google/src/Google/Logger','Abstract.php',224],['lib/mustache/src/Mustache/Logger','AbstractLogger.php',87]], 77],
'set_title': ['set_title', '', [['backup/cc/cc_lib','cc_basiclti.php',57],['backup/cc/cc_lib','cc_weblink.php',41],['backup/cc/cc_lib','cc_metadata.php',225],['backup/cc/cc_lib','cc_forum.php',39],['mod/wiki','pagelib.php',216],['lib','outputcomponents.php',2815],['backup/cc/cc_lib','cc_asssesment.php',595],['backup/cc/cc_lib','cc_asssesment.php',843],['backup/cc/cc_lib','cc_asssesment.php',1060],['backup/cc/cc_lib','cc_asssesment.php',1829],['lib','pagelib.php',1128],['backup/cc/cc_lib','cc_page.php',38]], 445],
'set_module_viewed': ['set_module_viewed', 'Marks a module as viewed. ', [['lib','completionlib.php',670]], 24],
'is_enabled': ['is_enabled', 'Allows hiding this plugin from the submission/feedback screen if it is not enabled. ', [['mod/assign','assignmentplugin.php',223],['lib/classes/plugininfo','orphaned.php',37],['lib','completionlib.php',269],['mod/assign/submission/comments','locallib.php',172],['mod/assign/feedback/editpdf','locallib.php',276],['lib/classes/plugininfo','base.php',371],['lib/classes/plugininfo','tool.php',39],['admin/tool/health','index.php',393],['admin/tool/log/classes/plugininfo','logstore.php',35],['lib/classes/message/inbound','manager.php',37],['lib/classes/plugininfo','mnetservice.php',33],['mod/assignment/classes/plugininfo','assignment.php',32],['lib','adminlib.php',1952],['mod/assign/feedback/offline','locallib.php',365],['lib','medialib.php',318],['lib','medialib.php',634],['lib','medialib.php',1265]], 200],
'confirm_sesskey': ['confirm_sesskey', 'Check the sesskey and return true of false for whether it is valid. (You might like to imagine this function is called sesskey_is_valid().) ', [['lib','sessionlib.php',52]], 315],
'sesskey': ['sesskey', 'Makes sure that $USER->sesskey exists, if $USER itself exists. It sets a new sesskey if one does not already exist, but does not overwrite existing sesskeys. Returns the sesskey string if $USER exists, or boolean false if not. ', [['lib','sessionlib.php',28]], 631],
'footer': ['footer', 'Returns the footer ', [['mod/lesson','renderer.php',78],['lib/tcpdf','tcpdf.php',3464],['lib','outputrenderers.php',1021],['lib','outputrenderers.php',4143],['lib','outputrenderers.php',4248]], 780],
'add': ['add', '', [['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',454],['blog','locallib.php',242],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',11],['lib/htmlpurifier/HTMLPurifier','IDAccumulator.php',31],['lib/xhprof/xhprof_html/jquery','jquery.autocomplete.js',428],['backup/cc','validator.php',51],['lib/google/src/Google/Http','Batch.php',47],['lib/horde/framework/Horde/Imap/Client/Data/Format','List.php',37],['lib/horde/framework/Horde/Support','ConsistentHash.php',148],['lib/horde/framework/Horde/Imap/Client','Ids.php',155],['lib/zend/Zend/Service/Simpy','WatchlistFilterSet.php',47],['lib/horde/framework/Horde/Imap/Client','Tokenize.php',109],['lib/lessphp/Output','Mapped.php',50],['lib/horde/framework/Horde/Stream','TempString.php',118],['lib','licenselib.php',32],['lib/htmlpurifier/HTMLPurifier','UnitConverter.php',207],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',29],['lib/horde/framework/Horde/Mail/Rfc822','List.php',116],['lib/xhprof/xhprof_html/jquery','jquery-1.2.6.js',3450],['lib/google/src/Google/Service','Webmasters.php',375],['lib/horde/framework/Horde','Variables.php',297],['lib','outputcomponents.php',2700],['lib','outputcomponents.php',3375],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',14],['lib/zend/Zend','Date.php',1081],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',33],['comment','lib.php',675],['lib/phpexcel/PHPExcel/Reader/Excel5','MD5.php',86],['lib/horde/framework/Horde','Stream.php',116],['backup/cc/cc_lib/gral_lib','cssparser.php',111],['lib/lessphp','Output.php',18],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',50],['lib','adminlib.php',736],['lib','adminlib.php',895],['lib','adminlib.php',1447],['lib','csslib.php',1508],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',95],['lib','navigationlib.php',302],['lib','navigationlib.php',758],['lib','navigationlib.php',3288],['lib','navigationlib.php',3542],['lib/phpexcel/PHPExcel','HashTable.php',85],['lib/mustache/src/Mustache','HelperCollection.php',56],['lib/horde/framework/Horde/Mail/Rfc822','GroupList.php',25],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',27],['lib/horde/framework/Horde/Imap/Client/Interaction','Pipeline.php',80],['backup/cc/cc_lib','cc_utils.php',395],['backup/cc/cc_lib','cc_utils.php',454]], 5988],
'feedback_is_already_submitted': ['feedback_is_already_submitted', 'check for multiple_submit = false. if the feedback is global so the courseid must be given ', [['mod/feedback','lib.php',2480]], 3],
'pix_url': ['pix_url', 'Return the URL for an image ', [['lib','outputlib.php',1356],['lib','outputrenderers.php',234]], 406],
'out': ['out', 'Returns the string ', [['lib','moodlelib.php',9451],['lib','weblib.php',547],['lib','tablelib.php',1526],['lib','csslib.php',1540],['lib','csslib.php',1698],['lib','csslib.php',2078],['lib','csslib.php',2162],['lib','csslib.php',2306],['lib','csslib.php',2495],['lib','csslib.php',3240],['report/loglive/classes','table_log_ajax.php',37]], 549],
'count_records_select': ['count_records_select', 'Count the records in a table which match a particular WHERE clause. ', [['lib/dml','moodle_database.php',1730]], 52],
'optional_param': ['optional_param', 'Returns a particular value for the named variable, taken from POST or GET, otherwise returning a given default. ', [['lib','moodlelib.php',605]], 2167],
'feedback_print_item_complete': ['feedback_print_item_complete', 'prints the given item in the completion form. each item-class has an own print_item_complete function implemented. ', [['mod/feedback','lib.php',1790]], 3],
'feedback_encode_target_url': ['feedback_encode_target_url', '', [['mod/feedback','lib.php',3101]], 2],
'instance': ['instance', 'Retrieve sole instance of the registry. ', [['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29],['lib/classes','useragent.php',101],['backup/cc','validator.php',35],['lib/portfolio','exporter.php',251],['lib/tests','update_deployer_test.php',69],['lib/tests','string_manager_standard_test.php',124],['lib','modinfolib.php',373],['','mdeploy.php',96],['cache','disabledlib.php',171],['cache','disabledlib.php',296],['admin/tool/installaddon/classes','validator.php',85],['cache/classes','config.php',87],['course/format','lib.php',156],['lib','accesslib.php',6184],['lib','accesslib.php',6436],['lib','accesslib.php',6614],['lib','accesslib.php',6868],['lib','accesslib.php',7129],['lib','accesslib.php',7341],['cache','locallib.php',52],['lib/htmlpurifier','HTMLPurifier.php',251],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['cache/classes','helper.php',76],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['lib/classes','plugin_manager.php',83],['lib','filterlib.php',81],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/classes/update','deployer.php',54],['admin/tool/installaddon/classes','pluginfo_client.php',37],['admin/tool/installaddon/classes','installer.php',40],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443]], 3942],
'set_cm': ['set_cm', 'The course module that this page belongs to (if it does belong to one). ', [['lib','pagelib.php',979]], 36],
'heading': ['heading', 'Get the heading for this page. ', [['grade/report/singleview/classes/local/screen','grade.php',283],['grade/report/singleview/classes/local/screen','user.php',281],['lib','outputrenderers.php',2957],['lib','outputrenderers.php',4080],['lib','outputrenderers.php',4254],['grade/report/singleview/classes/local/screen','screen.php',197]], 763],
'feedback_check_values': ['feedback_check_values', 'this function checks the correctness of values. the rules for this are implemented in the class of each item. it can be the required attribute or the value self e.g. numeric. the params first/lastitem are given to determine the visible range between pagebreaks. ', [['mod/feedback','lib.php',2194]], 2],
'required_param': ['required_param', 'Returns a particular value for the named variable, taken from POST or GET.  If the parameter doesn\'t exist then an error is thrown because we require this variable. ', [['lib','moodlelib.php',521]], 816],
'feedback_compare_item_value': ['feedback_compare_item_value', 'compares the value of the itemid related to the completedid with the dependvalue. this is used if a depend item is set. the value can come as temporary or as permanently value. the deciding is done by $tmp. ', [['mod/feedback','lib.php',2168]], 4],
'get_coursemodule_from_id': ['get_coursemodule_from_id', 'Given an id of a course module, finds the coursemodule description ', [['lib','datalib.php',1269]], 212],
'print_error': ['print_error', 'Abort execution by throwing of a general exception, default exception handler displays the error message in most cases. ', [['lib','setuplib.php',449]], 1560],
'file_rewrite_pluginfile_urls': ['file_rewrite_pluginfile_urls', 'Convert encoded URLs in $text from the @@PLUGINFILE@@/... form to an actual URL. ', [['lib','filelib.php',446]], 85],
'feedback_get_current_completed': ['feedback_get_current_completed', 'if the completion of a feedback will be continued eg. by pagebreak or by multiple submit so the complete must be found. if the param $tmp is set true so all things are related to temporary completeds ', [['mod/feedback','lib.php',2508]], 7],
'set_heading': ['set_heading', 'Sets the heading to use for the page. This is normally used as the main heading at the top of the content. ', [['lib','pagelib.php',1141]], 419],
'format_text': ['format_text', 'Given text in a variety of format codings, this function returns the text as safe HTML. ', [['lib','weblib.php',1115],['lib','tablelib.php',846],['lib','tablelib.php',1583],['lib','tablelib.php',1900],['question/type','questionbase.php',345],['lib/classes','grading_external.php',182]], 325],
'is_array': ['is_array', '', [], 1820],
'count': ['count', '', [], 3984],
'time': ['time', '', [], 1768],
'array_values': ['array_values', '', [], 283],
'intval': ['intval', '', [], 484],
'header': ['header', '', [], 1294]};
CLASS_DATA={
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',240]], 2887],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',6988]], 942],
'completion_info': ['completion_info', 'Class represents completion information for a course. ', [['lib','completionlib.php',210]], 119]};
CONST_DATA={
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 2948],
'SITEID': ['SITEID', '', [['admin/cli','install.php',217],['','install.php',244],['lib/db','install.php',87],['lib','setup.php',748]], 612],
'FEEDBACK_ANONYMOUS_NO': ['FEEDBACK_ANONYMOUS_NO', '', [['mod/feedback','lib.php',34]], 19],
'COMPLETION_COMPLETE': ['COMPLETION_COMPLETE', '', [['lib','completionlib.php',76]], 80],
'FEEDBACK_ANONYMOUS_YES': ['FEEDBACK_ANONYMOUS_YES', '', [['mod/feedback','lib.php',33]], 27]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
