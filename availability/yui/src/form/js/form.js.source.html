<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /availability/yui/src/form/js/form.js source</title>
    <link rel="stylesheet" href="../../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../../';
subdir='availability/yui/src/form/js';
filename='form.js.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/availability/yui/src/form/js/</a> -> <a href="form.js.html">form.js</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="form.js.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="form.js.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  <span class="comment">/**</span>
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment"> * Provides interface for users to edit availability settings on the</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment"> * module/section editing form.</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> *</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> * The system works using this JavaScript plus form.js files inside each</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> * condition plugin.</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> *</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> * The overall concept is that data is held in a textarea in the form in JSON</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> * format. This JavaScript converts the textarea into a set of controls</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment"> * generated here and by the relevant plugins.</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> *</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment"> * (Almost) all data is held directly by the state of the HTML controls, and</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment"> * can be updated to the form field by calling the 'update' method, which</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment"> * this code and the plugins call if any HTML control changes.</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment"> *</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment"> * @module moodle-core_availability-form</span>
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment"> */</span>
<a name="l18"><span class="linenum">  18</span></a>  M.core_availability = M.core_availability || {};
<a name="l19"><span class="linenum">  19</span></a>  
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment">/**</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * Core static functions for availability settings in editing form.</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> *</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @class M.core_availability.form</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * @static</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> */</span>
<a name="l26"><span class="linenum">  26</span></a>  M.core_availability.form = {
<a name="l27"><span class="linenum">  27</span></a>      <span class="comment">/**</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">     * Object containing installed plugins. They are indexed by plugin name.</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment">     *</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">     * @property plugins</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">     * @type Object</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">     */</span>
<a name="l33"><span class="linenum">  33</span></a>      plugins: {},
<a name="l34"><span class="linenum">  34</span></a>  
<a name="l35"><span class="linenum">  35</span></a>      <span class="comment">/**</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment">     * Availability field (textarea).</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">     *</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     * @property field</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     * @type Y.Node</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">     */</span>
<a name="l41"><span class="linenum">  41</span></a>      field: null,
<a name="l42"><span class="linenum">  42</span></a>  
<a name="l43"><span class="linenum">  43</span></a>      <span class="comment">/**</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     * Main div that replaces the availability field.</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     *</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     * @property mainDiv</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     * @type Y.Node</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     */</span>
<a name="l49"><span class="linenum">  49</span></a>      mainDiv: null,
<a name="l50"><span class="linenum">  50</span></a>  
<a name="l51"><span class="linenum">  51</span></a>      <span class="comment">/**</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment">     * Object that represents the root of the tree.</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">     *</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">     * @property rootList</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">     * @type M.core_availability.List</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment">     */</span>
<a name="l57"><span class="linenum">  57</span></a>      rootList: null,
<a name="l58"><span class="linenum">  58</span></a>  
<a name="l59"><span class="linenum">  59</span></a>      <span class="comment">/**</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment">     * Counter used when creating anything that needs an id.</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment">     *</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment">     * @property idCounter</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">     * @type Number</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">     */</span>
<a name="l65"><span class="linenum">  65</span></a>      idCounter: 0,
<a name="l66"><span class="linenum">  66</span></a>  
<a name="l67"><span class="linenum">  67</span></a>      <span class="comment">/**</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">     * The 'Restrict by group' button if present.</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">     *</span>
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">     * @property restrictByGroup</span>
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">     * @type Y.Node</span>
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment">     */</span>
<a name="l73"><span class="linenum">  73</span></a>      restrictByGroup: null,
<a name="l74"><span class="linenum">  74</span></a>  
<a name="l75"><span class="linenum">  75</span></a>      <span class="comment">/**</span>
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">     * Called to initialise the system when the page loads. This method will</span>
<a name="l77"><span class="linenum">  77</span></a>  <span class="comment">     * also call the init method for each plugin.</span>
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment">     *</span>
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment">     * @method init</span>
<a name="l80"><span class="linenum">  80</span></a>  <span class="comment">     */</span>
<a name="l81"><span class="linenum">  81</span></a>      init: function(pluginParams) {
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">        // Init all plugins.</span>
<a name="l83"><span class="linenum">  83</span></a>          for (var plugin in pluginParams) {
<a name="l84"><span class="linenum">  84</span></a>              var params = pluginParams[plugin];
<a name="l85"><span class="linenum">  85</span></a>              var pluginClass = M[params[0]].form;
<a name="l86"><span class="linenum">  86</span></a>              pluginClass.init.<a class="function" onClick="logFunction('apply')" href="../../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(pluginClass, params);
<a name="l87"><span class="linenum">  87</span></a>          }
<a name="l88"><span class="linenum">  88</span></a>  
<a name="l89"><span class="linenum">  89</span></a>  <span class="comment">        // Get the availability field, hide it, and replace with the main div.</span>
<a name="l90"><span class="linenum">  90</span></a>          this.field = Y.one('#id_availabilityconditionsjson');
<a name="l91"><span class="linenum">  91</span></a>          this.field.<a class="function" onClick="logFunction('setAttribute')" href="../../../../../_functions/setattribute.html" onMouseOver="funcPopup(event,'setattribute')">setAttribute</a>('aria-hidden', 'true');
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">        // The fcontainer class here is inappropriate, but is necessary</span>
<a name="l93"><span class="linenum">  93</span></a>  <span class="comment">        // because otherwise it is impossible to make Behat work correctly on</span>
<a name="l94"><span class="linenum">  94</span></a>  <span class="comment">        // these controls as Behat incorrectly decides they're a moodleform</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">        // textarea. IMO Behat should not know about moodleforms at all and</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment">        // should look purely at HTML elements on the page, but until it is</span>
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">        // fixed to do this or fixed in some other way to only detect moodleform</span>
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">        // elements that specifically match what those elements should look like,</span>
<a name="l99"><span class="linenum">  99</span></a>  <span class="comment">        // then there is no good solution.</span>
<a name="l100"><span class="linenum"> 100</span></a>          this.mainDiv = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div class=&quot;availability-field fcontainer&quot;&gt;&lt;/div&gt;');
<a name="l101"><span class="linenum"> 101</span></a>          this.field.<a class="function" onClick="logFunction('insert')" href="../../../../../_functions/insert.html" onMouseOver="funcPopup(event,'insert')">insert</a>(this.mainDiv, 'after');
<a name="l102"><span class="linenum"> 102</span></a>  
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment">        // Get top-level tree as JSON.</span>
<a name="l104"><span class="linenum"> 104</span></a>          var value = this.field.<a class="function" onClick="logFunction('get')" href="../../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('value');
<a name="l105"><span class="linenum"> 105</span></a>          var data = null;
<a name="l106"><span class="linenum"> 106</span></a>          if (value !== '') {
<a name="l107"><span class="linenum"> 107</span></a>              try {
<a name="l108"><span class="linenum"> 108</span></a>                  data = Y.JSON.<a class="function" onClick="logFunction('parse')" href="../../../../../_functions/parse.html" onMouseOver="funcPopup(event,'parse')">parse</a>(value);
<a name="l109"><span class="linenum"> 109</span></a>              } catch (x) {
<a name="l110"><span class="linenum"> 110</span></a>  <span class="comment">                // If the JSON data is not valid, treat it as empty.</span>
<a name="l111"><span class="linenum"> 111</span></a>                  this.field.<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('value', '');
<a name="l112"><span class="linenum"> 112</span></a>              }
<a name="l113"><span class="linenum"> 113</span></a>          }
<a name="l114"><span class="linenum"> 114</span></a>          this.rootList = new M.core_availability.<a class="function" onClick="logFunction('List')" href="../../../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">List</a>(data, true);
<a name="l115"><span class="linenum"> 115</span></a>          this.mainDiv.appendChild(this.rootList.node);
<a name="l116"><span class="linenum"> 116</span></a>  
<a name="l117"><span class="linenum"> 117</span></a>  <span class="comment">        // Update JSON value after loading (to reflect any changes that need</span>
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment">        // to be made to make it valid).</span>
<a name="l119"><span class="linenum"> 119</span></a>          this.<a class="function" onClick="logFunction('update')" href="../../../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>();
<a name="l120"><span class="linenum"> 120</span></a>          this.rootList.renumber();
<a name="l121"><span class="linenum"> 121</span></a>  
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment">        // Mark main area as dynamically updated.</span>
<a name="l123"><span class="linenum"> 123</span></a>          this.mainDiv.<a class="function" onClick="logFunction('setAttribute')" href="../../../../../_functions/setattribute.html" onMouseOver="funcPopup(event,'setattribute')">setAttribute</a>('aria-live', 'polite');
<a name="l124"><span class="linenum"> 124</span></a>  
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">        // Listen for form submission - to avoid having our made-up fields</span>
<a name="l126"><span class="linenum"> 126</span></a>  <span class="comment">        // submitted, we need to disable them all before submit.</span>
<a name="l127"><span class="linenum"> 127</span></a>          this.field.ancestor('form').<a class="function" onClick="logFunction('on')" href="../../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('submit', function() {
<a name="l128"><span class="linenum"> 128</span></a>              this.mainDiv.<a class="function" onClick="logFunction('all')" href="../../../../../_functions/all.html" onMouseOver="funcPopup(event,'all')">all</a>('input,textarea,select').<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('disabled', true);
<a name="l129"><span class="linenum"> 129</span></a>          }, this);
<a name="l130"><span class="linenum"> 130</span></a>  
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">        // If the form has group mode and/or grouping options, there is a</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">        // 'add restriction' button there.</span>
<a name="l133"><span class="linenum"> 133</span></a>          this.restrictByGroup = Y.one('#restrictbygroup');
<a name="l134"><span class="linenum"> 134</span></a>          if (this.restrictByGroup) {
<a name="l135"><span class="linenum"> 135</span></a>              this.restrictByGroup.<a class="function" onClick="logFunction('on')" href="../../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('click', this.addRestrictByGroup, this);
<a name="l136"><span class="linenum"> 136</span></a>              var groupmode = Y.one('#id_groupmode');
<a name="l137"><span class="linenum"> 137</span></a>              var groupingid = Y.one('#id_groupingid');
<a name="l138"><span class="linenum"> 138</span></a>              if (groupmode) {
<a name="l139"><span class="linenum"> 139</span></a>                  groupmode.<a class="function" onClick="logFunction('on')" href="../../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('change', this.updateRestrictByGroup, this);
<a name="l140"><span class="linenum"> 140</span></a>              }
<a name="l141"><span class="linenum"> 141</span></a>              if (groupingid) {
<a name="l142"><span class="linenum"> 142</span></a>                  groupingid.<a class="function" onClick="logFunction('on')" href="../../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('change', this.updateRestrictByGroup, this);
<a name="l143"><span class="linenum"> 143</span></a>              }
<a name="l144"><span class="linenum"> 144</span></a>              this.updateRestrictByGroup();
<a name="l145"><span class="linenum"> 145</span></a>          }
<a name="l146"><span class="linenum"> 146</span></a>      },
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>      <span class="comment">/**</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment">     * Called at any time to update the hidden field value.</span>
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">     *</span>
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment">     * This should be called whenever any value changes in the form settings.</span>
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment">     *</span>
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment">     * @method update</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment">     */</span>
<a name="l155"><span class="linenum"> 155</span></a>      update: function() {
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">        // Convert tree to value.</span>
<a name="l157"><span class="linenum"> 157</span></a>          var jsValue = this.rootList.<a class="function" onClick="logFunction('getValue')" href="../../../../../_functions/getvalue.html" onMouseOver="funcPopup(event,'getvalue')">getValue</a>();
<a name="l158"><span class="linenum"> 158</span></a>  
<a name="l159"><span class="linenum"> 159</span></a>  <span class="comment">        // Store any errors (for form reporting) in 'errors' value if present.</span>
<a name="l160"><span class="linenum"> 160</span></a>          var errors = [];
<a name="l161"><span class="linenum"> 161</span></a>          this.rootList.fillErrors(errors);
<a name="l162"><span class="linenum"> 162</span></a>          if (errors.length !== 0) {
<a name="l163"><span class="linenum"> 163</span></a>              jsValue.errors = errors;
<a name="l164"><span class="linenum"> 164</span></a>          }
<a name="l165"><span class="linenum"> 165</span></a>  
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment">        // Set into hidden form field, JS-encoded.</span>
<a name="l167"><span class="linenum"> 167</span></a>          this.field.<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('value', Y.JSON.stringify(jsValue));
<a name="l168"><span class="linenum"> 168</span></a>  
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">        // Also update the restrict by group button if present.</span>
<a name="l170"><span class="linenum"> 170</span></a>          this.updateRestrictByGroup();
<a name="l171"><span class="linenum"> 171</span></a>      },
<a name="l172"><span class="linenum"> 172</span></a>  
<a name="l173"><span class="linenum"> 173</span></a>      <span class="comment">/**</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">     * Updates the status of the 'restrict by group' button (enables or disables</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">     * it) based on current availability restrictions and group/grouping settings.</span>
<a name="l176"><span class="linenum"> 176</span></a>  <span class="comment">     */</span>
<a name="l177"><span class="linenum"> 177</span></a>      updateRestrictByGroup: function() {
<a name="l178"><span class="linenum"> 178</span></a>          if (!this.restrictByGroup) {
<a name="l179"><span class="linenum"> 179</span></a>              return;
<a name="l180"><span class="linenum"> 180</span></a>          }
<a name="l181"><span class="linenum"> 181</span></a>  
<a name="l182"><span class="linenum"> 182</span></a>  <span class="comment">        // If the root list is anything other than the default 'and' type, disable.</span>
<a name="l183"><span class="linenum"> 183</span></a>          if (this.rootList.<a class="function" onClick="logFunction('getValue')" href="../../../../../_functions/getvalue.html" onMouseOver="funcPopup(event,'getvalue')">getValue</a>().op !== '&amp;') {
<a name="l184"><span class="linenum"> 184</span></a>              this.restrictByGroup.<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('disabled', true);
<a name="l185"><span class="linenum"> 185</span></a>              return;
<a name="l186"><span class="linenum"> 186</span></a>          }
<a name="l187"><span class="linenum"> 187</span></a>  
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment">        // If there's already a group restriction, disable it.</span>
<a name="l189"><span class="linenum"> 189</span></a>          var alreadyGot = this.rootList.hasItemOfType('group') ||
<a name="l190"><span class="linenum"> 190</span></a>                  this.rootList.hasItemOfType('grouping');
<a name="l191"><span class="linenum"> 191</span></a>          if (alreadyGot) {
<a name="l192"><span class="linenum"> 192</span></a>              this.restrictByGroup.<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('disabled', true);
<a name="l193"><span class="linenum"> 193</span></a>              return;
<a name="l194"><span class="linenum"> 194</span></a>          }
<a name="l195"><span class="linenum"> 195</span></a>  
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">        // If the groupmode and grouping id aren't set, disable it.</span>
<a name="l197"><span class="linenum"> 197</span></a>          var groupmode = Y.one('#id_groupmode');
<a name="l198"><span class="linenum"> 198</span></a>          var groupingid = Y.one('#id_groupingid');
<a name="l199"><span class="linenum"> 199</span></a>          if ((!groupmode || <a class="function" onClick="logFunction('Number')" href="../../../../../_functions/number.html" onMouseOver="funcPopup(event,'number')">Number</a>(groupmode.<a class="function" onClick="logFunction('get')" href="../../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('value')) === 0) &amp;&amp;
<a name="l200"><span class="linenum"> 200</span></a>                  (!groupingid || <a class="function" onClick="logFunction('Number')" href="../../../../../_functions/number.html" onMouseOver="funcPopup(event,'number')">Number</a>(groupingid.<a class="function" onClick="logFunction('get')" href="../../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('value')) === 0)) {
<a name="l201"><span class="linenum"> 201</span></a>              this.restrictByGroup.<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('disabled', true);
<a name="l202"><span class="linenum"> 202</span></a>              return;
<a name="l203"><span class="linenum"> 203</span></a>          }
<a name="l204"><span class="linenum"> 204</span></a>  
<a name="l205"><span class="linenum"> 205</span></a>          this.restrictByGroup.<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('disabled', false);
<a name="l206"><span class="linenum"> 206</span></a>      },
<a name="l207"><span class="linenum"> 207</span></a>  
<a name="l208"><span class="linenum"> 208</span></a>      <span class="comment">/**</span>
<a name="l209"><span class="linenum"> 209</span></a>  <span class="comment">     * Called when the user clicks on the 'restrict by group' button. This is</span>
<a name="l210"><span class="linenum"> 210</span></a>  <span class="comment">     * a special case that adds a group or grouping restriction.</span>
<a name="l211"><span class="linenum"> 211</span></a>  <span class="comment">     *</span>
<a name="l212"><span class="linenum"> 212</span></a>  <span class="comment">     * By default this restriction is not shown which makes it similar to the</span>
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment">     *</span>
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment">     * @param e Button click event</span>
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment">     */</span>
<a name="l216"><span class="linenum"> 216</span></a>      addRestrictByGroup: function(e) {
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment">        // If you don't prevent default, it submits the form for some reason.</span>
<a name="l218"><span class="linenum"> 218</span></a>          e.preventDefault();
<a name="l219"><span class="linenum"> 219</span></a>  
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">        // Add the condition.</span>
<a name="l221"><span class="linenum"> 221</span></a>          var groupingid = Y.one('#id_groupingid');
<a name="l222"><span class="linenum"> 222</span></a>          var newChild;
<a name="l223"><span class="linenum"> 223</span></a>          if (groupingid &amp;&amp; <a class="function" onClick="logFunction('Number')" href="../../../../../_functions/number.html" onMouseOver="funcPopup(event,'number')">Number</a>(groupingid.<a class="function" onClick="logFunction('get')" href="../../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('value')) !== 0) {
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment">            // Add a grouping restriction if one is specified.</span>
<a name="l225"><span class="linenum"> 225</span></a>              newChild = new M.core_availability.<a class="function" onClick="logFunction('Item')" href="../../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">Item</a>(
<a name="l226"><span class="linenum"> 226</span></a>                      {type: 'grouping', id: <a class="function" onClick="logFunction('Number')" href="../../../../../_functions/number.html" onMouseOver="funcPopup(event,'number')">Number</a>(groupingid.<a class="function" onClick="logFunction('get')" href="../../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('value'))}, true);
<a name="l227"><span class="linenum"> 227</span></a>          } else {
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">            // Otherwise just add a group restriction.</span>
<a name="l229"><span class="linenum"> 229</span></a>              newChild = new M.core_availability.<a class="function" onClick="logFunction('Item')" href="../../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">Item</a>({type: 'group'}, true);
<a name="l230"><span class="linenum"> 230</span></a>          }
<a name="l231"><span class="linenum"> 231</span></a>  
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment">        // Refresh HTML.</span>
<a name="l233"><span class="linenum"> 233</span></a>          this.rootList.<a class="function" onClick="logFunction('addChild')" href="../../../../../_functions/addchild.html" onMouseOver="funcPopup(event,'addchild')">addChild</a>(newChild);
<a name="l234"><span class="linenum"> 234</span></a>          this.<a class="function" onClick="logFunction('update')" href="../../../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>();
<a name="l235"><span class="linenum"> 235</span></a>          this.rootList.renumber();
<a name="l236"><span class="linenum"> 236</span></a>          this.rootList.updateHtml();
<a name="l237"><span class="linenum"> 237</span></a>      }
<a name="l238"><span class="linenum"> 238</span></a>  };
<a name="l239"><span class="linenum"> 239</span></a>  
<a name="l240"><span class="linenum"> 240</span></a>  
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">/**</span>
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment"> * Base object for plugins. Plugins should use Y.Object to extend this class.</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment"> *</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment"> * @class M.core_availability.plugin</span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment"> * @static</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment"> */</span>
<a name="l247"><span class="linenum"> 247</span></a>  M.core_availability.plugin = {
<a name="l248"><span class="linenum"> 248</span></a>      <span class="comment">/**</span>
<a name="l249"><span class="linenum"> 249</span></a>  <span class="comment">     * True if users are allowed to add items of this plugin at the moment.</span>
<a name="l250"><span class="linenum"> 250</span></a>  <span class="comment">     *</span>
<a name="l251"><span class="linenum"> 251</span></a>  <span class="comment">     * @property allowAdd</span>
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment">     * @type Boolean</span>
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment">     */</span>
<a name="l254"><span class="linenum"> 254</span></a>      allowAdd: false,
<a name="l255"><span class="linenum"> 255</span></a>  
<a name="l256"><span class="linenum"> 256</span></a>      <span class="comment">/**</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment">     * Called (from PHP) to initialise the plugin. Should usually not be</span>
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment">     * overridden by child plugin.</span>
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment">     *</span>
<a name="l260"><span class="linenum"> 260</span></a>  <span class="comment">     * @method init</span>
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment">     * @param {String} component Component name e.g. 'availability_date'</span>
<a name="l262"><span class="linenum"> 262</span></a>  <span class="comment">     */</span>
<a name="l263"><span class="linenum"> 263</span></a>      init: function(component, allowAdd, params) {
<a name="l264"><span class="linenum"> 264</span></a>          var name = component.<a class="function" onClick="logFunction('replace')" href="../../../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(/^availability_/, '');
<a name="l265"><span class="linenum"> 265</span></a>          this.allowAdd = allowAdd;
<a name="l266"><span class="linenum"> 266</span></a>          M.core_availability.form.plugins[name] = this;
<a name="l267"><span class="linenum"> 267</span></a>          this.initInner.<a class="function" onClick="logFunction('apply')" href="../../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, params);
<a name="l268"><span class="linenum"> 268</span></a>      },
<a name="l269"><span class="linenum"> 269</span></a>  
<a name="l270"><span class="linenum"> 270</span></a>      <span class="comment">/**</span>
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment">     * Init method for plugin to override. (Default does nothing.)</span>
<a name="l272"><span class="linenum"> 272</span></a>  <span class="comment">     *</span>
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment">     * This method will receive any parameters defined in frontend.php</span>
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment">     * get_javascript_init_params.</span>
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment">     *</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">     * @method initInner</span>
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment">     * @protected</span>
<a name="l278"><span class="linenum"> 278</span></a>  <span class="comment">     */</span>
<a name="l279"><span class="linenum"> 279</span></a>      initInner: function() {
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment">        // Can be overriden.</span>
<a name="l281"><span class="linenum"> 281</span></a>      },
<a name="l282"><span class="linenum"> 282</span></a>  
<a name="l283"><span class="linenum"> 283</span></a>      <span class="comment">/**</span>
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment">     * Gets a YUI node representing the controls for this plugin on the form.</span>
<a name="l285"><span class="linenum"> 285</span></a>  <span class="comment">     *</span>
<a name="l286"><span class="linenum"> 286</span></a>  <span class="comment">     * Must be implemented by sub-object; default throws an exception.</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">     *</span>
<a name="l288"><span class="linenum"> 288</span></a>  <span class="comment">     * @method getNode</span>
<a name="l289"><span class="linenum"> 289</span></a>  <span class="comment">     * @return {Y.Node} YUI node</span>
<a name="l290"><span class="linenum"> 290</span></a>  <span class="comment">     */</span>
<a name="l291"><span class="linenum"> 291</span></a>      getNode: function() {
<a name="l292"><span class="linenum"> 292</span></a>          throw 'getNode not implemented';
<a name="l293"><span class="linenum"> 293</span></a>      },
<a name="l294"><span class="linenum"> 294</span></a>  
<a name="l295"><span class="linenum"> 295</span></a>      <span class="comment">/**</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment">     * Fills in the value from this plugin's controls into a value object,</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment">     * which will later be converted to JSON and stored in the form field.</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment">     *</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment">     * Must be implemented by sub-object; default throws an exception.</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment">     *</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">     * @method fillValue</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment">     * @param {Object} value Value object (to be written to)</span>
<a name="l303"><span class="linenum"> 303</span></a>  <span class="comment">     * @param {Y.Node} node YUI node (same one returned from getNode)</span>
<a name="l304"><span class="linenum"> 304</span></a>  <span class="comment">     */</span>
<a name="l305"><span class="linenum"> 305</span></a>      fillValue: function() {
<a name="l306"><span class="linenum"> 306</span></a>          throw 'fillValue not implemented';
<a name="l307"><span class="linenum"> 307</span></a>      },
<a name="l308"><span class="linenum"> 308</span></a>  
<a name="l309"><span class="linenum"> 309</span></a>      <span class="comment">/**</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment">     * Fills in any errors from this plugin's controls. If there are any</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">     * errors, push them into the supplied array.</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">     *</span>
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment">     * Errors are Moodle language strings in format component:string, e.g.</span>
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment">     * 'availability_date:error_date_past_end_of_world'.</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">     *</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">     * The default implementation does nothing.</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">     *</span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment">     * @method fillErrors</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment">     * @param {Array} errors Array of errors (push new errors here)</span>
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment">     * @param {Y.Node} node YUI node (same one returned from getNode)</span>
<a name="l321"><span class="linenum"> 321</span></a>  <span class="comment">     */</span>
<a name="l322"><span class="linenum"> 322</span></a>      fillErrors: function() {
<a name="l323"><span class="linenum"> 323</span></a>  <span class="comment">        // Can be overriden.</span>
<a name="l324"><span class="linenum"> 324</span></a>      },
<a name="l325"><span class="linenum"> 325</span></a>  
<a name="l326"><span class="linenum"> 326</span></a>      <span class="comment">/**</span>
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment">     * Focuses the first thing in the plugin after it has been added.</span>
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">     *</span>
<a name="l329"><span class="linenum"> 329</span></a>  <span class="comment">     * The default implementation uses a simple algorithm to identify the</span>
<a name="l330"><span class="linenum"> 330</span></a>  <span class="comment">     * first focusable input/select and then focuses it.</span>
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment">     */</span>
<a name="l332"><span class="linenum"> 332</span></a>      focusAfterAdd: function(node) {
<a name="l333"><span class="linenum"> 333</span></a>          var target = node.one('input:<a class="function" onClick="logFunction('not')" href="../../../../../_functions/not.html" onMouseOver="funcPopup(event,'not')">not</a>([disabled]),select:<a class="function" onClick="logFunction('not')" href="../../../../../_functions/not.html" onMouseOver="funcPopup(event,'not')">not</a>([disabled])');
<a name="l334"><span class="linenum"> 334</span></a>          target.<a class="function" onClick="logFunction('focus')" href="../../../../../_functions/focus.html" onMouseOver="funcPopup(event,'focus')">focus</a>();
<a name="l335"><span class="linenum"> 335</span></a>      }
<a name="l336"><span class="linenum"> 336</span></a>  };
<a name="l337"><span class="linenum"> 337</span></a>  
<a name="l338"><span class="linenum"> 338</span></a>  
<a name="l339"><span class="linenum"> 339</span></a>  <span class="comment">/**</span>
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment"> * Maintains a list of children and settings for how they are combined.</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment"> *</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment"> * @class M.core_availability.List</span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment"> * @constructor</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment"> * @param {Object} json Decoded JSON value</span>
<a name="l345"><span class="linenum"> 345</span></a>  <span class="comment"> * @param {Boolean} [false] root True if this is root level list</span>
<a name="l346"><span class="linenum"> 346</span></a>  <span class="comment"> * @param {Boolean} [false] root True if parent is root level list</span>
<a name="l347"><span class="linenum"> 347</span></a>  <span class="comment"> */</span>
<a name="l348"><span class="linenum"> 348</span></a>  M.core_availability.List = function(json, root, parentRoot) {
<a name="l349"><span class="linenum"> 349</span></a>  <span class="comment">    // Set default value for children. (You can't do this in the prototype</span>
<a name="l350"><span class="linenum"> 350</span></a>  <span class="comment">    // definition, or it ends up sharing the same array between all of them.)</span>
<a name="l351"><span class="linenum"> 351</span></a>      this.children = [];
<a name="l352"><span class="linenum"> 352</span></a>  
<a name="l353"><span class="linenum"> 353</span></a>      if (root !== undefined) {
<a name="l354"><span class="linenum"> 354</span></a>          this.root = root;
<a name="l355"><span class="linenum"> 355</span></a>      }
<a name="l356"><span class="linenum"> 356</span></a>  <span class="comment">    // Create DIV structure (without kids).</span>
<a name="l357"><span class="linenum"> 357</span></a>      this.node = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div class=&quot;availability-list&quot;&gt;&lt;h3 class=&quot;accesshide&quot;&gt;&lt;/h3&gt;' +
<a name="l358"><span class="linenum"> 358</span></a>              '&lt;div class=&quot;availability-inner&quot;&gt;' +
<a name="l359"><span class="linenum"> 359</span></a>              '&lt;div class=&quot;availability-header&quot;&gt;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('listheader_sign_before', 'availability') +
<a name="l360"><span class="linenum"> 360</span></a>              ' &lt;label&gt;&lt;span class=&quot;accesshide&quot;&gt;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('label_sign', 'availability') +
<a name="l361"><span class="linenum"> 361</span></a>              ' &lt;/span&gt;&lt;select class=&quot;availability-neg&quot; title=&quot;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('label_sign', 'availability') + '&quot;&gt;' +
<a name="l362"><span class="linenum"> 362</span></a>              '&lt;option value=&quot;&quot;&gt;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('listheader_sign_pos', 'availability') + '&lt;/option&gt;' +
<a name="l363"><span class="linenum"> 363</span></a>              '&lt;option value=&quot;!&quot;&gt;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('listheader_sign_neg', 'availability') + '&lt;/option&gt;&lt;/select&gt;&lt;/label&gt; ' +
<a name="l364"><span class="linenum"> 364</span></a>              '&lt;span class=&quot;availability-single&quot;&gt;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('listheader_single', 'availability') + '&lt;/span&gt;' +
<a name="l365"><span class="linenum"> 365</span></a>              '&lt;span class=&quot;availability-multi&quot;&gt;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('listheader_multi_before', 'availability') +
<a name="l366"><span class="linenum"> 366</span></a>              ' &lt;label&gt;&lt;span class=&quot;accesshide&quot;&gt;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('label_multi', 'availability') + ' &lt;/span&gt;' +
<a name="l367"><span class="linenum"> 367</span></a>              '&lt;select class=&quot;availability-op&quot; title=&quot;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('label_multi', 'availability') + '&quot;&gt;&lt;option value=&quot;&amp;&quot;&gt;' +
<a name="l368"><span class="linenum"> 368</span></a>              M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('listheader_multi_and', 'availability') + '&lt;/option&gt;' +
<a name="l369"><span class="linenum"> 369</span></a>              '&lt;option value=&quot;|&quot;&gt;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('listheader_multi_or', 'availability') + '&lt;/option&gt;&lt;/select&gt;&lt;/label&gt; ' +
<a name="l370"><span class="linenum"> 370</span></a>              M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('listheader_multi_after', 'availability') + '&lt;/span&gt;&lt;/div&gt;' +
<a name="l371"><span class="linenum"> 371</span></a>              '&lt;div class=&quot;availability-children&quot;&gt;&lt;/div&gt;' +
<a name="l372"><span class="linenum"> 372</span></a>              '&lt;div class=&quot;availability-none&quot;&gt;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('none', 'moodle') + '&lt;/div&gt;' +
<a name="l373"><span class="linenum"> 373</span></a>              '&lt;div class=&quot;availability-button&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;');
<a name="l374"><span class="linenum"> 374</span></a>      if (!root) {
<a name="l375"><span class="linenum"> 375</span></a>          this.node.<a class="function" onClick="logFunction('addClass')" href="../../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>('availability-childlist');
<a name="l376"><span class="linenum"> 376</span></a>      }
<a name="l377"><span class="linenum"> 377</span></a>      this.inner = this.node.one('&gt; .availability-inner');
<a name="l378"><span class="linenum"> 378</span></a>  
<a name="l379"><span class="linenum"> 379</span></a>      var shown = true;
<a name="l380"><span class="linenum"> 380</span></a>      if (root) {
<a name="l381"><span class="linenum"> 381</span></a>  <span class="comment">        // If it's the root, add an eye icon as first thing in header.</span>
<a name="l382"><span class="linenum"> 382</span></a>          if (json &amp;&amp; json.show !== undefined) {
<a name="l383"><span class="linenum"> 383</span></a>              shown = json.show;
<a name="l384"><span class="linenum"> 384</span></a>          }
<a name="l385"><span class="linenum"> 385</span></a>          this.eyeIcon = new M.core_availability.EyeIcon(false, shown);
<a name="l386"><span class="linenum"> 386</span></a>          this.node.one('.availability-header').<a class="function" onClick="logFunction('get')" href="../../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('firstChild').<a class="function" onClick="logFunction('insert')" href="../../../../../_functions/insert.html" onMouseOver="funcPopup(event,'insert')">insert</a>(
<a name="l387"><span class="linenum"> 387</span></a>                  this.eyeIcon.span, 'before');
<a name="l388"><span class="linenum"> 388</span></a>      } else if (parentRoot) {
<a name="l389"><span class="linenum"> 389</span></a>  <span class="comment">        // When the parent is root, add an eye icon before the main list div.</span>
<a name="l390"><span class="linenum"> 390</span></a>          if (json &amp;&amp; json.showc !== undefined) {
<a name="l391"><span class="linenum"> 391</span></a>              shown = json.showc;
<a name="l392"><span class="linenum"> 392</span></a>          }
<a name="l393"><span class="linenum"> 393</span></a>          this.eyeIcon = new M.core_availability.EyeIcon(false, shown);
<a name="l394"><span class="linenum"> 394</span></a>          this.inner.<a class="function" onClick="logFunction('insert')" href="../../../../../_functions/insert.html" onMouseOver="funcPopup(event,'insert')">insert</a>(this.eyeIcon.span, 'before');
<a name="l395"><span class="linenum"> 395</span></a>      }
<a name="l396"><span class="linenum"> 396</span></a>  
<a name="l397"><span class="linenum"> 397</span></a>      if (!root) {
<a name="l398"><span class="linenum"> 398</span></a>  <span class="comment">        // If it's not the root, add a delete button to the 'none' option.</span>
<a name="l399"><span class="linenum"> 399</span></a>  <span class="comment">        // You can only delete lists when they have no children so this will</span>
<a name="l400"><span class="linenum"> 400</span></a>  <span class="comment">        // automatically appear at the correct time.</span>
<a name="l401"><span class="linenum"> 401</span></a>          var deleteIcon = new M.core_availability.DeleteIcon(this);
<a name="l402"><span class="linenum"> 402</span></a>          var noneNode = this.node.one('.availability-none');
<a name="l403"><span class="linenum"> 403</span></a>          noneNode.appendChild(document.createTextNode(' '));
<a name="l404"><span class="linenum"> 404</span></a>          noneNode.appendChild(deleteIcon.span);
<a name="l405"><span class="linenum"> 405</span></a>  
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment">        // Also if it's not the root, none is actually invalid, so add a label.</span>
<a name="l407"><span class="linenum"> 407</span></a>          noneNode.appendChild(Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;span class=&quot;label label-warning&quot;&gt;' +
<a name="l408"><span class="linenum"> 408</span></a>                  M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('invalid', 'availability') + '&lt;/span&gt;'));
<a name="l409"><span class="linenum"> 409</span></a>      }
<a name="l410"><span class="linenum"> 410</span></a>  
<a name="l411"><span class="linenum"> 411</span></a>  <span class="comment">    // Create the button and add it.</span>
<a name="l412"><span class="linenum"> 412</span></a>      var button = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot;&gt;' +
<a name="l413"><span class="linenum"> 413</span></a>              M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addrestriction', 'availability') + '&lt;/button&gt;');
<a name="l414"><span class="linenum"> 414</span></a>      button.<a class="function" onClick="logFunction('on')" href="../../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>(&quot;click&quot;, function() {
<a name="l415"><span class="linenum"> 415</span></a>          this.clickAdd();
<a name="l416"><span class="linenum"> 416</span></a>      }, this);
<a name="l417"><span class="linenum"> 417</span></a>      this.node.one('div.availability-button').appendChild(button);
<a name="l418"><span class="linenum"> 418</span></a>  
<a name="l419"><span class="linenum"> 419</span></a>      if (json) {
<a name="l420"><span class="linenum"> 420</span></a>  <span class="comment">        // Set operator from JSON data.</span>
<a name="l421"><span class="linenum"> 421</span></a>          switch (json.op) {
<a name="l422"><span class="linenum"> 422</span></a>              case '&amp;' :
<a name="l423"><span class="linenum"> 423</span></a>              case '|' :
<a name="l424"><span class="linenum"> 424</span></a>                  this.node.one('.availability-neg').<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('value', '');
<a name="l425"><span class="linenum"> 425</span></a>                  break;
<a name="l426"><span class="linenum"> 426</span></a>              case '!&amp;' :
<a name="l427"><span class="linenum"> 427</span></a>              case '!|' :
<a name="l428"><span class="linenum"> 428</span></a>                  this.node.one('.availability-neg').<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('value', '!');
<a name="l429"><span class="linenum"> 429</span></a>                  break;
<a name="l430"><span class="linenum"> 430</span></a>          }
<a name="l431"><span class="linenum"> 431</span></a>          switch (json.op) {
<a name="l432"><span class="linenum"> 432</span></a>              case '&amp;' :
<a name="l433"><span class="linenum"> 433</span></a>              case '!&amp;' :
<a name="l434"><span class="linenum"> 434</span></a>                  this.node.one('.availability-op').<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('value', '&amp;');
<a name="l435"><span class="linenum"> 435</span></a>                  break;
<a name="l436"><span class="linenum"> 436</span></a>              case '|' :
<a name="l437"><span class="linenum"> 437</span></a>              case '!|' :
<a name="l438"><span class="linenum"> 438</span></a>                  this.node.one('.availability-op').<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('value', '|');
<a name="l439"><span class="linenum"> 439</span></a>                  break;
<a name="l440"><span class="linenum"> 440</span></a>          }
<a name="l441"><span class="linenum"> 441</span></a>  
<a name="l442"><span class="linenum"> 442</span></a>  <span class="comment">        // Construct children.</span>
<a name="l443"><span class="linenum"> 443</span></a>          for (var i = 0; i &lt; json.c.length; i++) {
<a name="l444"><span class="linenum"> 444</span></a>              var child = json.c[i];
<a name="l445"><span class="linenum"> 445</span></a>              if (this.root &amp;&amp; json &amp;&amp; json.showc !== undefined) {
<a name="l446"><span class="linenum"> 446</span></a>                  child.showc = json.showc[i];
<a name="l447"><span class="linenum"> 447</span></a>              }
<a name="l448"><span class="linenum"> 448</span></a>              var newItem;
<a name="l449"><span class="linenum"> 449</span></a>              if (child.type !== undefined) {
<a name="l450"><span class="linenum"> 450</span></a>  <span class="comment">                // Plugin type.</span>
<a name="l451"><span class="linenum"> 451</span></a>                  newItem = new M.core_availability.<a class="function" onClick="logFunction('Item')" href="../../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">Item</a>(child, this.root);
<a name="l452"><span class="linenum"> 452</span></a>              } else {
<a name="l453"><span class="linenum"> 453</span></a>  <span class="comment">                // List type.</span>
<a name="l454"><span class="linenum"> 454</span></a>                  newItem = new M.core_availability.<a class="function" onClick="logFunction('List')" href="../../../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">List</a>(child, false, this.root);
<a name="l455"><span class="linenum"> 455</span></a>              }
<a name="l456"><span class="linenum"> 456</span></a>              this.<a class="function" onClick="logFunction('addChild')" href="../../../../../_functions/addchild.html" onMouseOver="funcPopup(event,'addchild')">addChild</a>(newItem);
<a name="l457"><span class="linenum"> 457</span></a>          }
<a name="l458"><span class="linenum"> 458</span></a>      }
<a name="l459"><span class="linenum"> 459</span></a>  
<a name="l460"><span class="linenum"> 460</span></a>  <span class="comment">    // Add update listeners to the dropdowns.</span>
<a name="l461"><span class="linenum"> 461</span></a>      this.node.one('.availability-neg').<a class="function" onClick="logFunction('on')" href="../../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('change', function() {
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment">        // Update hidden field and HTML.</span>
<a name="l463"><span class="linenum"> 463</span></a>          M.core_availability.form.<a class="function" onClick="logFunction('update')" href="../../../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>();
<a name="l464"><span class="linenum"> 464</span></a>          this.updateHtml();
<a name="l465"><span class="linenum"> 465</span></a>      }, this);
<a name="l466"><span class="linenum"> 466</span></a>      this.node.one('.availability-op').<a class="function" onClick="logFunction('on')" href="../../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('change', function() {
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment">        // Update hidden field.</span>
<a name="l468"><span class="linenum"> 468</span></a>          M.core_availability.form.<a class="function" onClick="logFunction('update')" href="../../../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>();
<a name="l469"><span class="linenum"> 469</span></a>          this.updateHtml();
<a name="l470"><span class="linenum"> 470</span></a>      }, this);
<a name="l471"><span class="linenum"> 471</span></a>  
<a name="l472"><span class="linenum"> 472</span></a>  <span class="comment">    // Update HTML to hide unnecessary parts.</span>
<a name="l473"><span class="linenum"> 473</span></a>      this.updateHtml();
<a name="l474"><span class="linenum"> 474</span></a>  };
<a name="l475"><span class="linenum"> 475</span></a>  
<a name="l476"><span class="linenum"> 476</span></a>  <span class="comment">/**</span>
<a name="l477"><span class="linenum"> 477</span></a>  <span class="comment"> * Adds a child to the end of the list (in HTML and stored data).</span>
<a name="l478"><span class="linenum"> 478</span></a>  <span class="comment"> *</span>
<a name="l479"><span class="linenum"> 479</span></a>  <span class="comment"> * @method addChild</span>
<a name="l480"><span class="linenum"> 480</span></a>  <span class="comment"> * @private</span>
<a name="l481"><span class="linenum"> 481</span></a>  <span class="comment"> * @param {M.core_availability.Item|M.core_availability.List} newItem Child to add</span>
<a name="l482"><span class="linenum"> 482</span></a>  <span class="comment"> */</span>
<a name="l483"><span class="linenum"> 483</span></a>  M.core_availability.List.prototype.addChild = function(newItem) {
<a name="l484"><span class="linenum"> 484</span></a>      if (this.children.length &gt; 0) {
<a name="l485"><span class="linenum"> 485</span></a>  <span class="comment">        // Create connecting label (text will be filled in later by updateHtml).</span>
<a name="l486"><span class="linenum"> 486</span></a>          this.inner.one('.availability-children').appendChild(Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(
<a name="l487"><span class="linenum"> 487</span></a>                  '&lt;div class=&quot;availability-connector&quot;&gt;' +
<a name="l488"><span class="linenum"> 488</span></a>                  '&lt;span class=&quot;label&quot;&gt;&lt;/span&gt;' +
<a name="l489"><span class="linenum"> 489</span></a>                  '&lt;/div&gt;'));
<a name="l490"><span class="linenum"> 490</span></a>      }
<a name="l491"><span class="linenum"> 491</span></a>  <span class="comment">    // Add item to array and to HTML.</span>
<a name="l492"><span class="linenum"> 492</span></a>      this.children.<a class="function" onClick="logFunction('push')" href="../../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(newItem);
<a name="l493"><span class="linenum"> 493</span></a>      this.inner.one('.availability-children').appendChild(newItem.node);
<a name="l494"><span class="linenum"> 494</span></a>  };
<a name="l495"><span class="linenum"> 495</span></a>  
<a name="l496"><span class="linenum"> 496</span></a>  <span class="comment">/**</span>
<a name="l497"><span class="linenum"> 497</span></a>  <span class="comment"> * Focuses something after a new list is added.</span>
<a name="l498"><span class="linenum"> 498</span></a>  <span class="comment"> *</span>
<a name="l499"><span class="linenum"> 499</span></a>  <span class="comment"> * @method focusAfterAdd</span>
<a name="l500"><span class="linenum"> 500</span></a>  <span class="comment"> */</span>
<a name="l501"><span class="linenum"> 501</span></a>  M.core_availability.List.prototype.focusAfterAdd = function() {
<a name="l502"><span class="linenum"> 502</span></a>      this.inner.one('button').<a class="function" onClick="logFunction('focus')" href="../../../../../_functions/focus.html" onMouseOver="funcPopup(event,'focus')">focus</a>();
<a name="l503"><span class="linenum"> 503</span></a>  };
<a name="l504"><span class="linenum"> 504</span></a>  
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment">/**</span>
<a name="l506"><span class="linenum"> 506</span></a>  <span class="comment"> * Checks whether this list uses the individual show icons or the single one.</span>
<a name="l507"><span class="linenum"> 507</span></a>  <span class="comment"> *</span>
<a name="l508"><span class="linenum"> 508</span></a>  <span class="comment"> * (Basically, AND and the equivalent NOT OR list can have individual show icons</span>
<a name="l509"><span class="linenum"> 509</span></a>  <span class="comment"> * so that you hide the activity entirely if a user fails one condition, but</span>
<a name="l510"><span class="linenum"> 510</span></a>  <span class="comment"> * may display it with information about the condition if they fail a different</span>
<a name="l511"><span class="linenum"> 511</span></a>  <span class="comment"> * one. That isn't possible with OR and NOT AND because for those types, there</span>
<a name="l512"><span class="linenum"> 512</span></a>  <span class="comment"> * is not really a concept of which single condition caused the user to fail</span>
<a name="l513"><span class="linenum"> 513</span></a>  <span class="comment"> * it.)</span>
<a name="l514"><span class="linenum"> 514</span></a>  <span class="comment"> *</span>
<a name="l515"><span class="linenum"> 515</span></a>  <span class="comment"> * Method can only be called on the root list.</span>
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment"> *</span>
<a name="l517"><span class="linenum"> 517</span></a>  <span class="comment"> * @method isIndividualShowIcons</span>
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment"> * @return {Boolean} True if using the individual icons</span>
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment"> */</span>
<a name="l520"><span class="linenum"> 520</span></a>  M.core_availability.List.prototype.isIndividualShowIcons = function() {
<a name="l521"><span class="linenum"> 521</span></a>      if (!this.root) {
<a name="l522"><span class="linenum"> 522</span></a>          throw 'Can only call this on root list';
<a name="l523"><span class="linenum"> 523</span></a>      }
<a name="l524"><span class="linenum"> 524</span></a>      var neg = this.node.one('.availability-neg').<a class="function" onClick="logFunction('get')" href="../../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('value') === '!';
<a name="l525"><span class="linenum"> 525</span></a>      var isor = this.node.one('.availability-op').<a class="function" onClick="logFunction('get')" href="../../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('value') === '|';
<a name="l526"><span class="linenum"> 526</span></a>      return (!neg &amp;&amp; !isor) || (neg &amp;&amp; isor);
<a name="l527"><span class="linenum"> 527</span></a>  };
<a name="l528"><span class="linenum"> 528</span></a>  
<a name="l529"><span class="linenum"> 529</span></a>  <span class="comment">/**</span>
<a name="l530"><span class="linenum"> 530</span></a>  <span class="comment"> * Renumbers the list and all children.</span>
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment"> *</span>
<a name="l532"><span class="linenum"> 532</span></a>  <span class="comment"> * @method renumber</span>
<a name="l533"><span class="linenum"> 533</span></a>  <span class="comment"> * @param {String} parentNumber Number to use in heading for this list</span>
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment"> */</span>
<a name="l535"><span class="linenum"> 535</span></a>  M.core_availability.List.prototype.renumber = function(parentNumber) {
<a name="l536"><span class="linenum"> 536</span></a>  <span class="comment">    // Update heading for list.</span>
<a name="l537"><span class="linenum"> 537</span></a>      var headingParams = {count: this.children.length};
<a name="l538"><span class="linenum"> 538</span></a>      var prefix;
<a name="l539"><span class="linenum"> 539</span></a>      if (parentNumber === undefined) {
<a name="l540"><span class="linenum"> 540</span></a>          headingParams.number = '';
<a name="l541"><span class="linenum"> 541</span></a>          prefix = '';
<a name="l542"><span class="linenum"> 542</span></a>      } else {
<a name="l543"><span class="linenum"> 543</span></a>          headingParams.number = parentNumber + ':';
<a name="l544"><span class="linenum"> 544</span></a>          prefix = parentNumber + '.';
<a name="l545"><span class="linenum"> 545</span></a>      }
<a name="l546"><span class="linenum"> 546</span></a>      var heading = M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('setheading', 'availability', headingParams);
<a name="l547"><span class="linenum"> 547</span></a>      this.node.one('&gt; h3').<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('innerHTML', heading);
<a name="l548"><span class="linenum"> 548</span></a>  
<a name="l549"><span class="linenum"> 549</span></a>  <span class="comment">    // Do children.</span>
<a name="l550"><span class="linenum"> 550</span></a>      for (var i = 0; i &lt; this.children.length; i++) {
<a name="l551"><span class="linenum"> 551</span></a>          var child = this.children[i];
<a name="l552"><span class="linenum"> 552</span></a>          child.renumber(prefix + (i + 1));
<a name="l553"><span class="linenum"> 553</span></a>      }
<a name="l554"><span class="linenum"> 554</span></a>  };
<a name="l555"><span class="linenum"> 555</span></a>  
<a name="l556"><span class="linenum"> 556</span></a>  <span class="comment">/**</span>
<a name="l557"><span class="linenum"> 557</span></a>  <span class="comment"> * Updates HTML for the list based on the current values, for example showing</span>
<a name="l558"><span class="linenum"> 558</span></a>  <span class="comment"> * the 'None' text if there are no children.</span>
<a name="l559"><span class="linenum"> 559</span></a>  <span class="comment"> *</span>
<a name="l560"><span class="linenum"> 560</span></a>  <span class="comment"> * @method updateHtml</span>
<a name="l561"><span class="linenum"> 561</span></a>  <span class="comment"> */</span>
<a name="l562"><span class="linenum"> 562</span></a>  M.core_availability.List.prototype.updateHtml = function() {
<a name="l563"><span class="linenum"> 563</span></a>  <span class="comment">    // Control children appearing or not appearing.</span>
<a name="l564"><span class="linenum"> 564</span></a>      if (this.children.length &gt; 0) {
<a name="l565"><span class="linenum"> 565</span></a>          this.inner.one('&gt; .availability-children').<a class="function" onClick="logFunction('removeAttribute')" href="../../../../../_functions/removeattribute.html" onMouseOver="funcPopup(event,'removeattribute')">removeAttribute</a>('aria-hidden');
<a name="l566"><span class="linenum"> 566</span></a>          this.inner.one('&gt; .availability-none').<a class="function" onClick="logFunction('setAttribute')" href="../../../../../_functions/setattribute.html" onMouseOver="funcPopup(event,'setattribute')">setAttribute</a>('aria-hidden', 'true');
<a name="l567"><span class="linenum"> 567</span></a>          this.inner.one('&gt; .availability-header').<a class="function" onClick="logFunction('removeAttribute')" href="../../../../../_functions/removeattribute.html" onMouseOver="funcPopup(event,'removeattribute')">removeAttribute</a>('aria-hidden');
<a name="l568"><span class="linenum"> 568</span></a>          if (this.children.length &gt; 1) {
<a name="l569"><span class="linenum"> 569</span></a>              this.inner.one('.availability-single').<a class="function" onClick="logFunction('setAttribute')" href="../../../../../_functions/setattribute.html" onMouseOver="funcPopup(event,'setattribute')">setAttribute</a>('aria-hidden', 'true');
<a name="l570"><span class="linenum"> 570</span></a>              this.inner.one('.availability-multi').<a class="function" onClick="logFunction('removeAttribute')" href="../../../../../_functions/removeattribute.html" onMouseOver="funcPopup(event,'removeattribute')">removeAttribute</a>('aria-hidden');
<a name="l571"><span class="linenum"> 571</span></a>          } else {
<a name="l572"><span class="linenum"> 572</span></a>              this.inner.one('.availability-single').<a class="function" onClick="logFunction('removeAttribute')" href="../../../../../_functions/removeattribute.html" onMouseOver="funcPopup(event,'removeattribute')">removeAttribute</a>('aria-hidden');
<a name="l573"><span class="linenum"> 573</span></a>              this.inner.one('.availability-multi').<a class="function" onClick="logFunction('setAttribute')" href="../../../../../_functions/setattribute.html" onMouseOver="funcPopup(event,'setattribute')">setAttribute</a>('aria-hidden', 'true');
<a name="l574"><span class="linenum"> 574</span></a>          }
<a name="l575"><span class="linenum"> 575</span></a>      } else {
<a name="l576"><span class="linenum"> 576</span></a>          this.inner.one('&gt; .availability-children').<a class="function" onClick="logFunction('setAttribute')" href="../../../../../_functions/setattribute.html" onMouseOver="funcPopup(event,'setattribute')">setAttribute</a>('aria-hidden', 'true');
<a name="l577"><span class="linenum"> 577</span></a>          this.inner.one('&gt; .availability-none').<a class="function" onClick="logFunction('removeAttribute')" href="../../../../../_functions/removeattribute.html" onMouseOver="funcPopup(event,'removeattribute')">removeAttribute</a>('aria-hidden');
<a name="l578"><span class="linenum"> 578</span></a>          this.inner.one('&gt; .availability-header').<a class="function" onClick="logFunction('setAttribute')" href="../../../../../_functions/setattribute.html" onMouseOver="funcPopup(event,'setattribute')">setAttribute</a>('aria-hidden', 'true');
<a name="l579"><span class="linenum"> 579</span></a>      }
<a name="l580"><span class="linenum"> 580</span></a>  
<a name="l581"><span class="linenum"> 581</span></a>  <span class="comment">    // For root list, control eye icons.</span>
<a name="l582"><span class="linenum"> 582</span></a>      if (this.root) {
<a name="l583"><span class="linenum"> 583</span></a>          var showEyes = this.isIndividualShowIcons();
<a name="l584"><span class="linenum"> 584</span></a>  
<a name="l585"><span class="linenum"> 585</span></a>  <span class="comment">        // Individual icons.</span>
<a name="l586"><span class="linenum"> 586</span></a>          for (var i = 0; i &lt; this.children.length; i++) {
<a name="l587"><span class="linenum"> 587</span></a>              var child = this.children[i];
<a name="l588"><span class="linenum"> 588</span></a>              if (showEyes) {
<a name="l589"><span class="linenum"> 589</span></a>                  child.eyeIcon.span.<a class="function" onClick="logFunction('removeAttribute')" href="../../../../../_functions/removeattribute.html" onMouseOver="funcPopup(event,'removeattribute')">removeAttribute</a>('aria-hidden');
<a name="l590"><span class="linenum"> 590</span></a>              } else {
<a name="l591"><span class="linenum"> 591</span></a>                  child.eyeIcon.span.<a class="function" onClick="logFunction('setAttribute')" href="../../../../../_functions/setattribute.html" onMouseOver="funcPopup(event,'setattribute')">setAttribute</a>('aria-hidden', 'true');
<a name="l592"><span class="linenum"> 592</span></a>              }
<a name="l593"><span class="linenum"> 593</span></a>          }
<a name="l594"><span class="linenum"> 594</span></a>  
<a name="l595"><span class="linenum"> 595</span></a>  <span class="comment">        // Single icon is the inverse.</span>
<a name="l596"><span class="linenum"> 596</span></a>          if (showEyes) {
<a name="l597"><span class="linenum"> 597</span></a>              this.eyeIcon.span.<a class="function" onClick="logFunction('setAttribute')" href="../../../../../_functions/setattribute.html" onMouseOver="funcPopup(event,'setattribute')">setAttribute</a>('aria-hidden', 'true');
<a name="l598"><span class="linenum"> 598</span></a>          } else {
<a name="l599"><span class="linenum"> 599</span></a>              this.eyeIcon.span.<a class="function" onClick="logFunction('removeAttribute')" href="../../../../../_functions/removeattribute.html" onMouseOver="funcPopup(event,'removeattribute')">removeAttribute</a>('aria-hidden');
<a name="l600"><span class="linenum"> 600</span></a>          }
<a name="l601"><span class="linenum"> 601</span></a>      }
<a name="l602"><span class="linenum"> 602</span></a>  
<a name="l603"><span class="linenum"> 603</span></a>  <span class="comment">    // Update connector text.</span>
<a name="l604"><span class="linenum"> 604</span></a>      var connectorText;
<a name="l605"><span class="linenum"> 605</span></a>      if (this.inner.one('.availability-op').<a class="function" onClick="logFunction('get')" href="../../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('value') === '&amp;') {
<a name="l606"><span class="linenum"> 606</span></a>          connectorText = M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('and', 'availability');
<a name="l607"><span class="linenum"> 607</span></a>      } else {
<a name="l608"><span class="linenum"> 608</span></a>          connectorText = M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('or', 'availability');
<a name="l609"><span class="linenum"> 609</span></a>      }
<a name="l610"><span class="linenum"> 610</span></a>      this.inner.<a class="function" onClick="logFunction('all')" href="../../../../../_functions/all.html" onMouseOver="funcPopup(event,'all')">all</a>('&gt; .availability-children &gt; .availability-connector span.label').<a class="phpfunction" onClick="logFunction('each')" href="../../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function(span) {
<a name="l611"><span class="linenum"> 611</span></a>          span.<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('innerHTML', connectorText);
<a name="l612"><span class="linenum"> 612</span></a>      });
<a name="l613"><span class="linenum"> 613</span></a>  };
<a name="l614"><span class="linenum"> 614</span></a>  
<a name="l615"><span class="linenum"> 615</span></a>  <span class="comment">/**</span>
<a name="l616"><span class="linenum"> 616</span></a>  <span class="comment"> * Deletes a descendant item (Item or List). Called when the user clicks a</span>
<a name="l617"><span class="linenum"> 617</span></a>  <span class="comment"> * delete icon.</span>
<a name="l618"><span class="linenum"> 618</span></a>  <span class="comment"> *</span>
<a name="l619"><span class="linenum"> 619</span></a>  <span class="comment"> * This is a recursive function.</span>
<a name="l620"><span class="linenum"> 620</span></a>  <span class="comment"> *</span>
<a name="l621"><span class="linenum"> 621</span></a>  <span class="comment"> * @method deleteDescendant</span>
<a name="l622"><span class="linenum"> 622</span></a>  <span class="comment"> * @param {M.core_availability.Item|M.core_availability.List} descendant Item to delete</span>
<a name="l623"><span class="linenum"> 623</span></a>  <span class="comment"> * @return {Boolean} True if it was deleted</span>
<a name="l624"><span class="linenum"> 624</span></a>  <span class="comment"> */</span>
<a name="l625"><span class="linenum"> 625</span></a>  M.core_availability.List.prototype.deleteDescendant = function(descendant) {
<a name="l626"><span class="linenum"> 626</span></a>  <span class="comment">    // Loop through children.</span>
<a name="l627"><span class="linenum"> 627</span></a>      for (var i = 0; i &lt; this.children.length; i++) {
<a name="l628"><span class="linenum"> 628</span></a>          var child = this.children[i];
<a name="l629"><span class="linenum"> 629</span></a>          if (child === descendant) {
<a name="l630"><span class="linenum"> 630</span></a>  <span class="comment">            // Remove from internal array.</span>
<a name="l631"><span class="linenum"> 631</span></a>              this.children.<a class="function" onClick="logFunction('splice')" href="../../../../../_functions/splice.html" onMouseOver="funcPopup(event,'splice')">splice</a>(i, 1);
<a name="l632"><span class="linenum"> 632</span></a>              var target = child.node;
<a name="l633"><span class="linenum"> 633</span></a>  <span class="comment">            // Remove one of the connector nodes around target (if any left).</span>
<a name="l634"><span class="linenum"> 634</span></a>              if (this.children.length &gt; 0) {
<a name="l635"><span class="linenum"> 635</span></a>                  if (target.previous('.availability-connector')) {
<a name="l636"><span class="linenum"> 636</span></a>                      target.previous('.availability-connector').<a class="function" onClick="logFunction('remove')" href="../../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l637"><span class="linenum"> 637</span></a>                  } else {
<a name="l638"><span class="linenum"> 638</span></a>                      target.<a class="phpfunction" onClick="logFunction('next')" href="../../../../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>('.availability-connector').<a class="function" onClick="logFunction('remove')" href="../../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l639"><span class="linenum"> 639</span></a>                  }
<a name="l640"><span class="linenum"> 640</span></a>              }
<a name="l641"><span class="linenum"> 641</span></a>  <span class="comment">            // Remove target itself.</span>
<a name="l642"><span class="linenum"> 642</span></a>              this.inner.one('&gt; .availability-children').<a class="function" onClick="logFunction('removeChild')" href="../../../../../_functions/removechild.html" onMouseOver="funcPopup(event,'removechild')">removeChild</a>(target);
<a name="l643"><span class="linenum"> 643</span></a>  <span class="comment">            // Update the form and the list HTML.</span>
<a name="l644"><span class="linenum"> 644</span></a>              M.core_availability.form.<a class="function" onClick="logFunction('update')" href="../../../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>();
<a name="l645"><span class="linenum"> 645</span></a>              this.updateHtml();
<a name="l646"><span class="linenum"> 646</span></a>  <span class="comment">            // Focus add button for this list.</span>
<a name="l647"><span class="linenum"> 647</span></a>              this.inner.one('&gt; .availability-button').one('button').<a class="function" onClick="logFunction('focus')" href="../../../../../_functions/focus.html" onMouseOver="funcPopup(event,'focus')">focus</a>();
<a name="l648"><span class="linenum"> 648</span></a>              return true;
<a name="l649"><span class="linenum"> 649</span></a>          } else if (child instanceof M.core_availability.List) {
<a name="l650"><span class="linenum"> 650</span></a>  <span class="comment">            // Recursive call.</span>
<a name="l651"><span class="linenum"> 651</span></a>              var found = child.deleteDescendant(descendant);
<a name="l652"><span class="linenum"> 652</span></a>              if (found) {
<a name="l653"><span class="linenum"> 653</span></a>                  return true;
<a name="l654"><span class="linenum"> 654</span></a>              }
<a name="l655"><span class="linenum"> 655</span></a>          }
<a name="l656"><span class="linenum"> 656</span></a>      }
<a name="l657"><span class="linenum"> 657</span></a>  
<a name="l658"><span class="linenum"> 658</span></a>      return false;
<a name="l659"><span class="linenum"> 659</span></a>  };
<a name="l660"><span class="linenum"> 660</span></a>  
<a name="l661"><span class="linenum"> 661</span></a>  <span class="comment">/**</span>
<a name="l662"><span class="linenum"> 662</span></a>  <span class="comment"> * Shows the 'add restriction' dialogue box.</span>
<a name="l663"><span class="linenum"> 663</span></a>  <span class="comment"> *</span>
<a name="l664"><span class="linenum"> 664</span></a>  <span class="comment"> * @method clickAdd</span>
<a name="l665"><span class="linenum"> 665</span></a>  <span class="comment"> */</span>
<a name="l666"><span class="linenum"> 666</span></a>  M.core_availability.List.prototype.clickAdd = function() {
<a name="l667"><span class="linenum"> 667</span></a>      var content = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div&gt;' +
<a name="l668"><span class="linenum"> 668</span></a>              '&lt;ul class=&quot;list-unstyled&quot;&gt;&lt;/ul&gt;' +
<a name="l669"><span class="linenum"> 669</span></a>              '&lt;div class=&quot;availability-buttons mdl-align&quot;&gt;' +
<a name="l670"><span class="linenum"> 670</span></a>              '&lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot;&gt;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('cancel', 'moodle') +
<a name="l671"><span class="linenum"> 671</span></a>              '&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;');
<a name="l672"><span class="linenum"> 672</span></a>      var cancel = content.one('button');
<a name="l673"><span class="linenum"> 673</span></a>  
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment">    // Make a list of all the dialog options.</span>
<a name="l675"><span class="linenum"> 675</span></a>      var dialogRef = {dialog: null};
<a name="l676"><span class="linenum"> 676</span></a>      var ul = content.one('ul');
<a name="l677"><span class="linenum"> 677</span></a>      var li, id, button, label;
<a name="l678"><span class="linenum"> 678</span></a>      for (var type in M.core_availability.form.plugins) {
<a name="l679"><span class="linenum"> 679</span></a>  <span class="comment">        // Plugins might decide not to display their add button.</span>
<a name="l680"><span class="linenum"> 680</span></a>          if (!M.core_availability.form.plugins[type].allowAdd) {
<a name="l681"><span class="linenum"> 681</span></a>              continue;
<a name="l682"><span class="linenum"> 682</span></a>          }
<a name="l683"><span class="linenum"> 683</span></a>  <span class="comment">        // Add entry for plugin.</span>
<a name="l684"><span class="linenum"> 684</span></a>          li = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;li class=&quot;clearfix&quot;&gt;&lt;/li&gt;');
<a name="l685"><span class="linenum"> 685</span></a>          id = 'availability_addrestriction_' + type;
<a name="l686"><span class="linenum"> 686</span></a>          button = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot;' +
<a name="l687"><span class="linenum"> 687</span></a>                  'id=&quot;' + id + '&quot;&gt;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('title', 'availability_' + type) + '&lt;/button&gt;');
<a name="l688"><span class="linenum"> 688</span></a>          button.<a class="function" onClick="logFunction('on')" href="../../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('click', this.getAddHandler(type, dialogRef), this);
<a name="l689"><span class="linenum"> 689</span></a>          li.appendChild(button);
<a name="l690"><span class="linenum"> 690</span></a>          label = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;label for=&quot;' + id + '&quot;&gt;' +
<a name="l691"><span class="linenum"> 691</span></a>                  M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('description', 'availability_' + type) + '&lt;/label&gt;');
<a name="l692"><span class="linenum"> 692</span></a>          li.appendChild(label);
<a name="l693"><span class="linenum"> 693</span></a>          ul.appendChild(li);
<a name="l694"><span class="linenum"> 694</span></a>      }
<a name="l695"><span class="linenum"> 695</span></a>  <span class="comment">    // Extra entry for lists.</span>
<a name="l696"><span class="linenum"> 696</span></a>      li = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;li class=&quot;clearfix&quot;&gt;&lt;/li&gt;');
<a name="l697"><span class="linenum"> 697</span></a>      id = 'availability_addrestriction_list_';
<a name="l698"><span class="linenum"> 698</span></a>      button = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot;' +
<a name="l699"><span class="linenum"> 699</span></a>              'id=&quot;' + id + '&quot;&gt;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('condition_group', 'availability') + '&lt;/button&gt;');
<a name="l700"><span class="linenum"> 700</span></a>      button.<a class="function" onClick="logFunction('on')" href="../../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('click', this.getAddHandler(null, dialogRef), this);
<a name="l701"><span class="linenum"> 701</span></a>      li.appendChild(button);
<a name="l702"><span class="linenum"> 702</span></a>      label = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;label for=&quot;' + id + '&quot;&gt;' +
<a name="l703"><span class="linenum"> 703</span></a>              M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('condition_group_info', 'availability') + '&lt;/label&gt;');
<a name="l704"><span class="linenum"> 704</span></a>      li.appendChild(label);
<a name="l705"><span class="linenum"> 705</span></a>      ul.appendChild(li);
<a name="l706"><span class="linenum"> 706</span></a>  
<a name="l707"><span class="linenum"> 707</span></a>      var config = {
<a name="l708"><span class="linenum"> 708</span></a>          headerContent: M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addrestriction', 'availability'),
<a name="l709"><span class="linenum"> 709</span></a>          bodyContent: content,
<a name="l710"><span class="linenum"> 710</span></a>          additionalBaseClass: 'availability-dialogue',
<a name="l711"><span class="linenum"> 711</span></a>          draggable: true,
<a name="l712"><span class="linenum"> 712</span></a>          modal: true,
<a name="l713"><span class="linenum"> 713</span></a>          closeButton: false,
<a name="l714"><span class="linenum"> 714</span></a>          width: '450px'
<a name="l715"><span class="linenum"> 715</span></a>      };
<a name="l716"><span class="linenum"> 716</span></a>      dialogRef.dialog = new M.core.dialogue(config);
<a name="l717"><span class="linenum"> 717</span></a>      dialogRef.dialog.<a class="function" onClick="logFunction('show')" href="../../../../../_functions/show.html" onMouseOver="funcPopup(event,'show')">show</a>();
<a name="l718"><span class="linenum"> 718</span></a>      cancel.<a class="function" onClick="logFunction('on')" href="../../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('click', function() {
<a name="l719"><span class="linenum"> 719</span></a>          dialogRef.dialog.<a class="function" onClick="logFunction('destroy')" href="../../../../../_functions/destroy.html" onMouseOver="funcPopup(event,'destroy')">destroy</a>();
<a name="l720"><span class="linenum"> 720</span></a>  <span class="comment">        // Focus the button they clicked originally.</span>
<a name="l721"><span class="linenum"> 721</span></a>          this.inner.one('&gt; .availability-button').one('button').<a class="function" onClick="logFunction('focus')" href="../../../../../_functions/focus.html" onMouseOver="funcPopup(event,'focus')">focus</a>();
<a name="l722"><span class="linenum"> 722</span></a>      }, this);
<a name="l723"><span class="linenum"> 723</span></a>  };
<a name="l724"><span class="linenum"> 724</span></a>  
<a name="l725"><span class="linenum"> 725</span></a>  <span class="comment">/**</span>
<a name="l726"><span class="linenum"> 726</span></a>  <span class="comment"> * Gets an add handler function used by the dialogue to add a particular item.</span>
<a name="l727"><span class="linenum"> 727</span></a>  <span class="comment"> *</span>
<a name="l728"><span class="linenum"> 728</span></a>  <span class="comment"> * @method getAddHandler</span>
<a name="l729"><span class="linenum"> 729</span></a>  <span class="comment"> * @param {String|Null} type Type name of plugin or null to add lists</span>
<a name="l730"><span class="linenum"> 730</span></a>  <span class="comment"> * @param {Object} dialogRef Reference to object that contains dialog</span>
<a name="l731"><span class="linenum"> 731</span></a>  <span class="comment"> * @param {M.core.dialogue} dialogRef.dialog Dialog object</span>
<a name="l732"><span class="linenum"> 732</span></a>  <span class="comment"> * @return {Function} Add handler function to call when adding that thing</span>
<a name="l733"><span class="linenum"> 733</span></a>  <span class="comment"> */</span>
<a name="l734"><span class="linenum"> 734</span></a>  M.core_availability.List.prototype.getAddHandler = function(type, dialogRef) {
<a name="l735"><span class="linenum"> 735</span></a>      return function() {
<a name="l736"><span class="linenum"> 736</span></a>          var newItem;
<a name="l737"><span class="linenum"> 737</span></a>          if (type) {
<a name="l738"><span class="linenum"> 738</span></a>  <span class="comment">            // Create an Item object to represent the child.</span>
<a name="l739"><span class="linenum"> 739</span></a>              newItem = new M.core_availability.<a class="function" onClick="logFunction('Item')" href="../../../../../_functions/item.html" onMouseOver="funcPopup(event,'item')">Item</a>({type: type, creating: true}, this.root);
<a name="l740"><span class="linenum"> 740</span></a>          } else {
<a name="l741"><span class="linenum"> 741</span></a>  <span class="comment">            // Create a new List object to represent the child.</span>
<a name="l742"><span class="linenum"> 742</span></a>              newItem = new M.core_availability.<a class="function" onClick="logFunction('List')" href="../../../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">List</a>({c: [], showc: true}, false, this.root);
<a name="l743"><span class="linenum"> 743</span></a>          }
<a name="l744"><span class="linenum"> 744</span></a>  <span class="comment">        // Add to list.</span>
<a name="l745"><span class="linenum"> 745</span></a>          this.<a class="function" onClick="logFunction('addChild')" href="../../../../../_functions/addchild.html" onMouseOver="funcPopup(event,'addchild')">addChild</a>(newItem);
<a name="l746"><span class="linenum"> 746</span></a>  <span class="comment">        // Update the form and list HTML.</span>
<a name="l747"><span class="linenum"> 747</span></a>          M.core_availability.form.<a class="function" onClick="logFunction('update')" href="../../../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>();
<a name="l748"><span class="linenum"> 748</span></a>          M.core_availability.form.rootList.renumber();
<a name="l749"><span class="linenum"> 749</span></a>          this.updateHtml();
<a name="l750"><span class="linenum"> 750</span></a>  <span class="comment">        // Hide dialog.</span>
<a name="l751"><span class="linenum"> 751</span></a>          dialogRef.dialog.<a class="function" onClick="logFunction('destroy')" href="../../../../../_functions/destroy.html" onMouseOver="funcPopup(event,'destroy')">destroy</a>();
<a name="l752"><span class="linenum"> 752</span></a>          newItem.focusAfterAdd();
<a name="l753"><span class="linenum"> 753</span></a>      };
<a name="l754"><span class="linenum"> 754</span></a>  };
<a name="l755"><span class="linenum"> 755</span></a>  
<a name="l756"><span class="linenum"> 756</span></a>  <span class="comment">/**</span>
<a name="l757"><span class="linenum"> 757</span></a>  <span class="comment"> * Gets the value of the list ready to convert to JSON and fill form field.</span>
<a name="l758"><span class="linenum"> 758</span></a>  <span class="comment"> *</span>
<a name="l759"><span class="linenum"> 759</span></a>  <span class="comment"> * @method getValue</span>
<a name="l760"><span class="linenum"> 760</span></a>  <span class="comment"> * @return {Object} Value of list suitable for use in JSON</span>
<a name="l761"><span class="linenum"> 761</span></a>  <span class="comment"> */</span>
<a name="l762"><span class="linenum"> 762</span></a>  M.core_availability.List.prototype.getValue = function() {
<a name="l763"><span class="linenum"> 763</span></a>  <span class="comment">    // Work out operator from selects.</span>
<a name="l764"><span class="linenum"> 764</span></a>      var value = {};
<a name="l765"><span class="linenum"> 765</span></a>      value.op = this.node.one('.availability-neg').<a class="function" onClick="logFunction('get')" href="../../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('value') +
<a name="l766"><span class="linenum"> 766</span></a>              this.node.one('.availability-op').<a class="function" onClick="logFunction('get')" href="../../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('value');
<a name="l767"><span class="linenum"> 767</span></a>  
<a name="l768"><span class="linenum"> 768</span></a>  <span class="comment">    // Work out children from list.</span>
<a name="l769"><span class="linenum"> 769</span></a>      value.c = [];
<a name="l770"><span class="linenum"> 770</span></a>      var i;
<a name="l771"><span class="linenum"> 771</span></a>      for (i = 0; i &lt; this.children.length; i++) {
<a name="l772"><span class="linenum"> 772</span></a>          value.c.<a class="function" onClick="logFunction('push')" href="../../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(this.children[i].<a class="function" onClick="logFunction('getValue')" href="../../../../../_functions/getvalue.html" onMouseOver="funcPopup(event,'getvalue')">getValue</a>());
<a name="l773"><span class="linenum"> 773</span></a>      }
<a name="l774"><span class="linenum"> 774</span></a>  
<a name="l775"><span class="linenum"> 775</span></a>  <span class="comment">    // Work out show/showc for root level.</span>
<a name="l776"><span class="linenum"> 776</span></a>      if (this.root) {
<a name="l777"><span class="linenum"> 777</span></a>          if (this.isIndividualShowIcons()) {
<a name="l778"><span class="linenum"> 778</span></a>              value.showc = [];
<a name="l779"><span class="linenum"> 779</span></a>              for (i = 0; i &lt; this.children.length; i++) {
<a name="l780"><span class="linenum"> 780</span></a>                  value.showc.<a class="function" onClick="logFunction('push')" href="../../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>(!this.children[i].eyeIcon.<a class="function" onClick="logFunction('isHidden')" href="../../../../../_functions/ishidden.html" onMouseOver="funcPopup(event,'ishidden')">isHidden</a>());
<a name="l781"><span class="linenum"> 781</span></a>              }
<a name="l782"><span class="linenum"> 782</span></a>          } else {
<a name="l783"><span class="linenum"> 783</span></a>              value.show = !this.eyeIcon.<a class="function" onClick="logFunction('isHidden')" href="../../../../../_functions/ishidden.html" onMouseOver="funcPopup(event,'ishidden')">isHidden</a>();
<a name="l784"><span class="linenum"> 784</span></a>          }
<a name="l785"><span class="linenum"> 785</span></a>      }
<a name="l786"><span class="linenum"> 786</span></a>      return value;
<a name="l787"><span class="linenum"> 787</span></a>  };
<a name="l788"><span class="linenum"> 788</span></a>  
<a name="l789"><span class="linenum"> 789</span></a>  <span class="comment">/**</span>
<a name="l790"><span class="linenum"> 790</span></a>  <span class="comment"> * Checks whether this list has any errors (incorrect user input). If so,</span>
<a name="l791"><span class="linenum"> 791</span></a>  <span class="comment"> * an error string identifier in the form langfile:langstring should be pushed</span>
<a name="l792"><span class="linenum"> 792</span></a>  <span class="comment"> * into the errors array.</span>
<a name="l793"><span class="linenum"> 793</span></a>  <span class="comment"> *</span>
<a name="l794"><span class="linenum"> 794</span></a>  <span class="comment"> * @method fillErrors</span>
<a name="l795"><span class="linenum"> 795</span></a>  <span class="comment"> * @param {Array} errors Array of errors so far</span>
<a name="l796"><span class="linenum"> 796</span></a>  <span class="comment"> */</span>
<a name="l797"><span class="linenum"> 797</span></a>  M.core_availability.List.prototype.fillErrors = function(errors) {
<a name="l798"><span class="linenum"> 798</span></a>  <span class="comment">    // List with no items is an error (except root).</span>
<a name="l799"><span class="linenum"> 799</span></a>      if (this.children.length === 0 &amp;&amp; !this.root) {
<a name="l800"><span class="linenum"> 800</span></a>          errors.<a class="function" onClick="logFunction('push')" href="../../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('availability:error_list_nochildren');
<a name="l801"><span class="linenum"> 801</span></a>      }
<a name="l802"><span class="linenum"> 802</span></a>  <span class="comment">    // Pass to children.</span>
<a name="l803"><span class="linenum"> 803</span></a>      for (var i = 0; i &lt; this.children.length; i++) {
<a name="l804"><span class="linenum"> 804</span></a>          this.children[i].fillErrors(errors);
<a name="l805"><span class="linenum"> 805</span></a>      }
<a name="l806"><span class="linenum"> 806</span></a>  };
<a name="l807"><span class="linenum"> 807</span></a>  
<a name="l808"><span class="linenum"> 808</span></a>  <span class="comment">/**</span>
<a name="l809"><span class="linenum"> 809</span></a>  <span class="comment"> * Checks whether the list contains any items of the given type name.</span>
<a name="l810"><span class="linenum"> 810</span></a>  <span class="comment"> *</span>
<a name="l811"><span class="linenum"> 811</span></a>  <span class="comment"> * @method hasItemOfType</span>
<a name="l812"><span class="linenum"> 812</span></a>  <span class="comment"> * @param {String} pluginType Required plugin type (name)</span>
<a name="l813"><span class="linenum"> 813</span></a>  <span class="comment"> * @return {Boolean} True if there is one</span>
<a name="l814"><span class="linenum"> 814</span></a>  <span class="comment"> */</span>
<a name="l815"><span class="linenum"> 815</span></a>  M.core_availability.List.prototype.hasItemOfType = function(pluginType) {
<a name="l816"><span class="linenum"> 816</span></a>  <span class="comment">    // Check each item.</span>
<a name="l817"><span class="linenum"> 817</span></a>      for (var i = 0; i &lt; this.children.length; i++) {
<a name="l818"><span class="linenum"> 818</span></a>          var child = this.children[i];
<a name="l819"><span class="linenum"> 819</span></a>          if (child instanceof M.core_availability.List) {
<a name="l820"><span class="linenum"> 820</span></a>  <span class="comment">            // Recursive call.</span>
<a name="l821"><span class="linenum"> 821</span></a>              if (child.hasItemOfType(pluginType)) {
<a name="l822"><span class="linenum"> 822</span></a>                  return true;
<a name="l823"><span class="linenum"> 823</span></a>              }
<a name="l824"><span class="linenum"> 824</span></a>          } else {
<a name="l825"><span class="linenum"> 825</span></a>              if (child.pluginType === pluginType) {
<a name="l826"><span class="linenum"> 826</span></a>                  return true;
<a name="l827"><span class="linenum"> 827</span></a>              }
<a name="l828"><span class="linenum"> 828</span></a>          }
<a name="l829"><span class="linenum"> 829</span></a>      }
<a name="l830"><span class="linenum"> 830</span></a>      return false;
<a name="l831"><span class="linenum"> 831</span></a>  };
<a name="l832"><span class="linenum"> 832</span></a>  
<a name="l833"><span class="linenum"> 833</span></a>  <span class="comment">/**</span>
<a name="l834"><span class="linenum"> 834</span></a>  <span class="comment"> * Eye icon for this list (null if none).</span>
<a name="l835"><span class="linenum"> 835</span></a>  <span class="comment"> *</span>
<a name="l836"><span class="linenum"> 836</span></a>  <span class="comment"> * @property eyeIcon</span>
<a name="l837"><span class="linenum"> 837</span></a>  <span class="comment"> * @type M.core_availability.EyeIcon</span>
<a name="l838"><span class="linenum"> 838</span></a>  <span class="comment"> */</span>
<a name="l839"><span class="linenum"> 839</span></a>  M.core_availability.List.prototype.eyeIcon = null;
<a name="l840"><span class="linenum"> 840</span></a>  
<a name="l841"><span class="linenum"> 841</span></a>  <span class="comment">/**</span>
<a name="l842"><span class="linenum"> 842</span></a>  <span class="comment"> * True if list is special root level list.</span>
<a name="l843"><span class="linenum"> 843</span></a>  <span class="comment"> *</span>
<a name="l844"><span class="linenum"> 844</span></a>  <span class="comment"> * @property root</span>
<a name="l845"><span class="linenum"> 845</span></a>  <span class="comment"> * @type Boolean</span>
<a name="l846"><span class="linenum"> 846</span></a>  <span class="comment"> */</span>
<a name="l847"><span class="linenum"> 847</span></a>  M.core_availability.List.prototype.root = false;
<a name="l848"><span class="linenum"> 848</span></a>  
<a name="l849"><span class="linenum"> 849</span></a>  <span class="comment">/**</span>
<a name="l850"><span class="linenum"> 850</span></a>  <span class="comment"> * Array containing children (Lists or Items).</span>
<a name="l851"><span class="linenum"> 851</span></a>  <span class="comment"> *</span>
<a name="l852"><span class="linenum"> 852</span></a>  <span class="comment"> * @property children</span>
<a name="l853"><span class="linenum"> 853</span></a>  <span class="comment"> * @type M.core_availability.List[]|M.core_availability.Item[]</span>
<a name="l854"><span class="linenum"> 854</span></a>  <span class="comment"> */</span>
<a name="l855"><span class="linenum"> 855</span></a>  M.core_availability.List.prototype.children = null;
<a name="l856"><span class="linenum"> 856</span></a>  
<a name="l857"><span class="linenum"> 857</span></a>  <span class="comment">/**</span>
<a name="l858"><span class="linenum"> 858</span></a>  <span class="comment"> * HTML outer node for list.</span>
<a name="l859"><span class="linenum"> 859</span></a>  <span class="comment"> *</span>
<a name="l860"><span class="linenum"> 860</span></a>  <span class="comment"> * @property node</span>
<a name="l861"><span class="linenum"> 861</span></a>  <span class="comment"> * @type Y.Node</span>
<a name="l862"><span class="linenum"> 862</span></a>  <span class="comment"> */</span>
<a name="l863"><span class="linenum"> 863</span></a>  M.core_availability.List.prototype.node = null;
<a name="l864"><span class="linenum"> 864</span></a>  
<a name="l865"><span class="linenum"> 865</span></a>  <span class="comment">/**</span>
<a name="l866"><span class="linenum"> 866</span></a>  <span class="comment"> * HTML node for inner div that actually is the displayed list.</span>
<a name="l867"><span class="linenum"> 867</span></a>  <span class="comment"> *</span>
<a name="l868"><span class="linenum"> 868</span></a>  <span class="comment"> * @property node</span>
<a name="l869"><span class="linenum"> 869</span></a>  <span class="comment"> * @type Y.Node</span>
<a name="l870"><span class="linenum"> 870</span></a>  <span class="comment"> */</span>
<a name="l871"><span class="linenum"> 871</span></a>  M.core_availability.List.prototype.inner = null;
<a name="l872"><span class="linenum"> 872</span></a>  
<a name="l873"><span class="linenum"> 873</span></a>  
<a name="l874"><span class="linenum"> 874</span></a>  <span class="comment">/**</span>
<a name="l875"><span class="linenum"> 875</span></a>  <span class="comment"> * Represents a single condition.</span>
<a name="l876"><span class="linenum"> 876</span></a>  <span class="comment"> *</span>
<a name="l877"><span class="linenum"> 877</span></a>  <span class="comment"> * @class M.core_availability.Item</span>
<a name="l878"><span class="linenum"> 878</span></a>  <span class="comment"> * @constructor</span>
<a name="l879"><span class="linenum"> 879</span></a>  <span class="comment"> * @param {Object} json Decoded JSON value</span>
<a name="l880"><span class="linenum"> 880</span></a>  <span class="comment"> * @param {Boolean} root True if this item is a child of the root list.</span>
<a name="l881"><span class="linenum"> 881</span></a>  <span class="comment"> */</span>
<a name="l882"><span class="linenum"> 882</span></a>  M.core_availability.Item = function(json, root) {
<a name="l883"><span class="linenum"> 883</span></a>      this.pluginType = json.type;
<a name="l884"><span class="linenum"> 884</span></a>      if (M.core_availability.form.plugins[json.type] === undefined) {
<a name="l885"><span class="linenum"> 885</span></a>  <span class="comment">        // Handle undefined plugins.</span>
<a name="l886"><span class="linenum"> 886</span></a>          this.plugin = null;
<a name="l887"><span class="linenum"> 887</span></a>          this.pluginNode = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div class=&quot;availability-warning&quot;&gt;' +
<a name="l888"><span class="linenum"> 888</span></a>                  M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('missingplugin', 'availability') + '&lt;/div&gt;');
<a name="l889"><span class="linenum"> 889</span></a>      } else {
<a name="l890"><span class="linenum"> 890</span></a>  <span class="comment">        // Plugin is known.</span>
<a name="l891"><span class="linenum"> 891</span></a>          this.plugin = M.core_availability.form.plugins[json.type];
<a name="l892"><span class="linenum"> 892</span></a>          this.pluginNode = this.plugin.getNode(json);
<a name="l893"><span class="linenum"> 893</span></a>  
<a name="l894"><span class="linenum"> 894</span></a>  <span class="comment">        // Add a class with the plugin Frankenstyle name to make CSS easier in plugin.</span>
<a name="l895"><span class="linenum"> 895</span></a>          this.pluginNode.<a class="function" onClick="logFunction('addClass')" href="../../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>('availability_' + json.type);
<a name="l896"><span class="linenum"> 896</span></a>      }
<a name="l897"><span class="linenum"> 897</span></a>  
<a name="l898"><span class="linenum"> 898</span></a>      this.node = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;div class=&quot;availability-item&quot;&gt;&lt;h3 class=&quot;accesshide&quot;&gt;&lt;/h3&gt;&lt;/div&gt;');
<a name="l899"><span class="linenum"> 899</span></a>  
<a name="l900"><span class="linenum"> 900</span></a>  <span class="comment">    // Add eye icon if required. This icon is added for root items, but may be</span>
<a name="l901"><span class="linenum"> 901</span></a>  <span class="comment">    // hidden depending on the selected list operator.</span>
<a name="l902"><span class="linenum"> 902</span></a>      if (root) {
<a name="l903"><span class="linenum"> 903</span></a>          var shown = true;
<a name="l904"><span class="linenum"> 904</span></a>          if (json.showc !== undefined) {
<a name="l905"><span class="linenum"> 905</span></a>              shown = json.showc;
<a name="l906"><span class="linenum"> 906</span></a>          }
<a name="l907"><span class="linenum"> 907</span></a>          this.eyeIcon = new M.core_availability.EyeIcon(true, shown);
<a name="l908"><span class="linenum"> 908</span></a>          this.node.appendChild(this.eyeIcon.span);
<a name="l909"><span class="linenum"> 909</span></a>      }
<a name="l910"><span class="linenum"> 910</span></a>  
<a name="l911"><span class="linenum"> 911</span></a>  <span class="comment">    // Add plugin controls.</span>
<a name="l912"><span class="linenum"> 912</span></a>      this.pluginNode.<a class="function" onClick="logFunction('addClass')" href="../../../../../_functions/addclass.html" onMouseOver="funcPopup(event,'addclass')">addClass</a>('availability-plugincontrols');
<a name="l913"><span class="linenum"> 913</span></a>      this.node.appendChild(this.pluginNode);
<a name="l914"><span class="linenum"> 914</span></a>  
<a name="l915"><span class="linenum"> 915</span></a>  <span class="comment">    // Add delete button for node.</span>
<a name="l916"><span class="linenum"> 916</span></a>      var deleteIcon = new M.core_availability.DeleteIcon(this);
<a name="l917"><span class="linenum"> 917</span></a>      this.node.appendChild(deleteIcon.span);
<a name="l918"><span class="linenum"> 918</span></a>  
<a name="l919"><span class="linenum"> 919</span></a>  <span class="comment">    // Add the invalid marker (empty).</span>
<a name="l920"><span class="linenum"> 920</span></a>      this.node.appendChild(document.createTextNode(' '));
<a name="l921"><span class="linenum"> 921</span></a>      this.node.appendChild(Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;span class=&quot;label label-warning&quot;/&gt;'));
<a name="l922"><span class="linenum"> 922</span></a>  };
<a name="l923"><span class="linenum"> 923</span></a>  
<a name="l924"><span class="linenum"> 924</span></a>  <span class="comment">/**</span>
<a name="l925"><span class="linenum"> 925</span></a>  <span class="comment"> * Obtains the value of this condition, which will be serialized into JSON</span>
<a name="l926"><span class="linenum"> 926</span></a>  <span class="comment"> * format and stored in the form.</span>
<a name="l927"><span class="linenum"> 927</span></a>  <span class="comment"> *</span>
<a name="l928"><span class="linenum"> 928</span></a>  <span class="comment"> * @method getValue</span>
<a name="l929"><span class="linenum"> 929</span></a>  <span class="comment"> * @return {Object} JavaScript object containing value of this item</span>
<a name="l930"><span class="linenum"> 930</span></a>  <span class="comment"> */</span>
<a name="l931"><span class="linenum"> 931</span></a>  M.core_availability.Item.prototype.getValue = function() {
<a name="l932"><span class="linenum"> 932</span></a>      var value = {'type': this.pluginType};
<a name="l933"><span class="linenum"> 933</span></a>      if (this.plugin) {
<a name="l934"><span class="linenum"> 934</span></a>          this.plugin.fillValue(value, this.pluginNode);
<a name="l935"><span class="linenum"> 935</span></a>      }
<a name="l936"><span class="linenum"> 936</span></a>      return value;
<a name="l937"><span class="linenum"> 937</span></a>  };
<a name="l938"><span class="linenum"> 938</span></a>  
<a name="l939"><span class="linenum"> 939</span></a>  <span class="comment">/**</span>
<a name="l940"><span class="linenum"> 940</span></a>  <span class="comment"> * Checks whether this condition has any errors (incorrect user input). If so,</span>
<a name="l941"><span class="linenum"> 941</span></a>  <span class="comment"> * an error string identifier in the form langfile:langstring should be pushed</span>
<a name="l942"><span class="linenum"> 942</span></a>  <span class="comment"> * into the errors array.</span>
<a name="l943"><span class="linenum"> 943</span></a>  <span class="comment"> *</span>
<a name="l944"><span class="linenum"> 944</span></a>  <span class="comment"> * @method fillErrors</span>
<a name="l945"><span class="linenum"> 945</span></a>  <span class="comment"> * @param {Array} errors Array of errors so far</span>
<a name="l946"><span class="linenum"> 946</span></a>  <span class="comment"> */</span>
<a name="l947"><span class="linenum"> 947</span></a>  M.core_availability.Item.prototype.fillErrors = function(errors) {
<a name="l948"><span class="linenum"> 948</span></a>      var before = errors.length;
<a name="l949"><span class="linenum"> 949</span></a>      if (this.plugin) {
<a name="l950"><span class="linenum"> 950</span></a>  <span class="comment">        // Pass to plugin.</span>
<a name="l951"><span class="linenum"> 951</span></a>          this.plugin.fillErrors(errors, this.pluginNode);
<a name="l952"><span class="linenum"> 952</span></a>      } else {
<a name="l953"><span class="linenum"> 953</span></a>  <span class="comment">        // Unknown plugin is an error</span>
<a name="l954"><span class="linenum"> 954</span></a>          errors.<a class="function" onClick="logFunction('push')" href="../../../../../_functions/push.html" onMouseOver="funcPopup(event,'push')">push</a>('core_availability:item_unknowntype');
<a name="l955"><span class="linenum"> 955</span></a>      }
<a name="l956"><span class="linenum"> 956</span></a>  <span class="comment">    // If any errors were added, add the marker to this item.</span>
<a name="l957"><span class="linenum"> 957</span></a>      var errorLabel = this.node.one('&gt; .label-warning');
<a name="l958"><span class="linenum"> 958</span></a>      if (errors.length !== before &amp;&amp; !errorLabel.<a class="function" onClick="logFunction('get')" href="../../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('firstChild')) {
<a name="l959"><span class="linenum"> 959</span></a>          errorLabel.appendChild(document.createTextNode(M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('invalid', 'availability')));
<a name="l960"><span class="linenum"> 960</span></a>      } else if (errors.length === before &amp;&amp; errorLabel.<a class="function" onClick="logFunction('get')" href="../../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('firstChild')) {
<a name="l961"><span class="linenum"> 961</span></a>          errorLabel.<a class="function" onClick="logFunction('get')" href="../../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('firstChild').<a class="function" onClick="logFunction('remove')" href="../../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l962"><span class="linenum"> 962</span></a>      }
<a name="l963"><span class="linenum"> 963</span></a>  };
<a name="l964"><span class="linenum"> 964</span></a>  
<a name="l965"><span class="linenum"> 965</span></a>  <span class="comment">/**</span>
<a name="l966"><span class="linenum"> 966</span></a>  <span class="comment"> * Renumbers the item.</span>
<a name="l967"><span class="linenum"> 967</span></a>  <span class="comment"> *</span>
<a name="l968"><span class="linenum"> 968</span></a>  <span class="comment"> * @method renumber</span>
<a name="l969"><span class="linenum"> 969</span></a>  <span class="comment"> * @param {String} number Number to use in heading for this item</span>
<a name="l970"><span class="linenum"> 970</span></a>  <span class="comment"> */</span>
<a name="l971"><span class="linenum"> 971</span></a>  M.core_availability.Item.prototype.renumber = function(number) {
<a name="l972"><span class="linenum"> 972</span></a>  <span class="comment">    // Update heading for item.</span>
<a name="l973"><span class="linenum"> 973</span></a>      var headingParams = {number: number};
<a name="l974"><span class="linenum"> 974</span></a>      if (this.plugin) {
<a name="l975"><span class="linenum"> 975</span></a>          headingParams.type = M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('title', 'availability_' + this.pluginType);
<a name="l976"><span class="linenum"> 976</span></a>      } else {
<a name="l977"><span class="linenum"> 977</span></a>          headingParams.type = '[' + this.pluginType + ']';
<a name="l978"><span class="linenum"> 978</span></a>      }
<a name="l979"><span class="linenum"> 979</span></a>      headingParams.number = number + ':';
<a name="l980"><span class="linenum"> 980</span></a>      var heading = M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('itemheading', 'availability', headingParams);
<a name="l981"><span class="linenum"> 981</span></a>      this.node.one('&gt; h3').<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('innerHTML', heading);
<a name="l982"><span class="linenum"> 982</span></a>  };
<a name="l983"><span class="linenum"> 983</span></a>  
<a name="l984"><span class="linenum"> 984</span></a>  <span class="comment">/**</span>
<a name="l985"><span class="linenum"> 985</span></a>  <span class="comment"> * Focuses something after a new item is added.</span>
<a name="l986"><span class="linenum"> 986</span></a>  <span class="comment"> *</span>
<a name="l987"><span class="linenum"> 987</span></a>  <span class="comment"> * @method focusAfterAdd</span>
<a name="l988"><span class="linenum"> 988</span></a>  <span class="comment"> */</span>
<a name="l989"><span class="linenum"> 989</span></a>  M.core_availability.Item.prototype.focusAfterAdd = function() {
<a name="l990"><span class="linenum"> 990</span></a>      this.plugin.focusAfterAdd(this.pluginNode);
<a name="l991"><span class="linenum"> 991</span></a>  };
<a name="l992"><span class="linenum"> 992</span></a>  
<a name="l993"><span class="linenum"> 993</span></a>  <span class="comment">/**</span>
<a name="l994"><span class="linenum"> 994</span></a>  <span class="comment"> * Name of plugin.</span>
<a name="l995"><span class="linenum"> 995</span></a>  <span class="comment"> *</span>
<a name="l996"><span class="linenum"> 996</span></a>  <span class="comment"> * @property pluginType</span>
<a name="l997"><span class="linenum"> 997</span></a>  <span class="comment"> * @type String</span>
<a name="l998"><span class="linenum"> 998</span></a>  <span class="comment"> */</span>
<a name="l999"><span class="linenum"> 999</span></a>  M.core_availability.Item.prototype.pluginType = null;
<a name="l1000"><span class="linenum">1000</span></a>  
<a name="l1001"><span class="linenum">1001</span></a>  <span class="comment">/**</span>
<a name="l1002"><span class="linenum">1002</span></a>  <span class="comment"> * Object representing plugin form controls.</span>
<a name="l1003"><span class="linenum">1003</span></a>  <span class="comment"> *</span>
<a name="l1004"><span class="linenum">1004</span></a>  <span class="comment"> * @property plugin</span>
<a name="l1005"><span class="linenum">1005</span></a>  <span class="comment"> * @type Object</span>
<a name="l1006"><span class="linenum">1006</span></a>  <span class="comment"> */</span>
<a name="l1007"><span class="linenum">1007</span></a>  M.core_availability.Item.prototype.plugin = null;
<a name="l1008"><span class="linenum">1008</span></a>  
<a name="l1009"><span class="linenum">1009</span></a>  <span class="comment">/**</span>
<a name="l1010"><span class="linenum">1010</span></a>  <span class="comment"> * Eye icon for item.</span>
<a name="l1011"><span class="linenum">1011</span></a>  <span class="comment"> *</span>
<a name="l1012"><span class="linenum">1012</span></a>  <span class="comment"> * @property eyeIcon</span>
<a name="l1013"><span class="linenum">1013</span></a>  <span class="comment"> * @type M.core_availability.EyeIcon</span>
<a name="l1014"><span class="linenum">1014</span></a>  <span class="comment"> */</span>
<a name="l1015"><span class="linenum">1015</span></a>  M.core_availability.Item.prototype.eyeIcon = null;
<a name="l1016"><span class="linenum">1016</span></a>  
<a name="l1017"><span class="linenum">1017</span></a>  <span class="comment">/**</span>
<a name="l1018"><span class="linenum">1018</span></a>  <span class="comment"> * HTML node for item.</span>
<a name="l1019"><span class="linenum">1019</span></a>  <span class="comment"> *</span>
<a name="l1020"><span class="linenum">1020</span></a>  <span class="comment"> * @property node</span>
<a name="l1021"><span class="linenum">1021</span></a>  <span class="comment"> * @type Y.Node</span>
<a name="l1022"><span class="linenum">1022</span></a>  <span class="comment"> */</span>
<a name="l1023"><span class="linenum">1023</span></a>  M.core_availability.Item.prototype.node = null;
<a name="l1024"><span class="linenum">1024</span></a>  
<a name="l1025"><span class="linenum">1025</span></a>  <span class="comment">/**</span>
<a name="l1026"><span class="linenum">1026</span></a>  <span class="comment"> * Inner part of node that is owned by plugin.</span>
<a name="l1027"><span class="linenum">1027</span></a>  <span class="comment"> *</span>
<a name="l1028"><span class="linenum">1028</span></a>  <span class="comment"> * @property pluginNode</span>
<a name="l1029"><span class="linenum">1029</span></a>  <span class="comment"> * @type Y.Node</span>
<a name="l1030"><span class="linenum">1030</span></a>  <span class="comment"> */</span>
<a name="l1031"><span class="linenum">1031</span></a>  M.core_availability.Item.prototype.pluginNode = null;
<a name="l1032"><span class="linenum">1032</span></a>  
<a name="l1033"><span class="linenum">1033</span></a>  
<a name="l1034"><span class="linenum">1034</span></a>  <span class="comment">/**</span>
<a name="l1035"><span class="linenum">1035</span></a>  <span class="comment"> * Eye icon (to control show/hide of the activity if the user fails a condition).</span>
<a name="l1036"><span class="linenum">1036</span></a>  <span class="comment"> *</span>
<a name="l1037"><span class="linenum">1037</span></a>  <span class="comment"> * There are individual eye icons (show/hide control for a single condition) and</span>
<a name="l1038"><span class="linenum">1038</span></a>  <span class="comment"> * 'all' eye icons (show/hide control that applies to the entire item, whatever</span>
<a name="l1039"><span class="linenum">1039</span></a>  <span class="comment"> * reason it fails for). This is necessary because the individual conditions</span>
<a name="l1040"><span class="linenum">1040</span></a>  <span class="comment"> * don't make sense for OR and AND NOT lists.</span>
<a name="l1041"><span class="linenum">1041</span></a>  <span class="comment"> *</span>
<a name="l1042"><span class="linenum">1042</span></a>  <span class="comment"> * @class M.core_availability.EyeIcon</span>
<a name="l1043"><span class="linenum">1043</span></a>  <span class="comment"> * @constructor</span>
<a name="l1044"><span class="linenum">1044</span></a>  <span class="comment"> * @param {Boolean} individual True if the icon is controlling a single condition</span>
<a name="l1045"><span class="linenum">1045</span></a>  <span class="comment"> * @param {Boolean} shown True if icon is initially in shown state</span>
<a name="l1046"><span class="linenum">1046</span></a>  <span class="comment"> */</span>
<a name="l1047"><span class="linenum">1047</span></a>  M.core_availability.EyeIcon = function(individual, shown) {
<a name="l1048"><span class="linenum">1048</span></a>      this.individual = individual;
<a name="l1049"><span class="linenum">1049</span></a>      this.span = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;a class=&quot;availability-eye&quot; href=&quot;#&quot; role=&quot;button&quot;&gt;');
<a name="l1050"><span class="linenum">1050</span></a>      var icon = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;img /&gt;');
<a name="l1051"><span class="linenum">1051</span></a>      this.span.appendChild(icon);
<a name="l1052"><span class="linenum">1052</span></a>  
<a name="l1053"><span class="linenum">1053</span></a>  <span class="comment">    // Set up button text and icon.</span>
<a name="l1054"><span class="linenum">1054</span></a>      var suffix = individual ? '_individual' : '_all',
<a name="l1055"><span class="linenum">1055</span></a>          setHidden = function() {
<a name="l1056"><span class="linenum">1056</span></a>              var hiddenStr = M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('hidden' + suffix, 'availability');
<a name="l1057"><span class="linenum">1057</span></a>              icon.<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('src', M.util.image_url('i/show', 'core'));
<a name="l1058"><span class="linenum">1058</span></a>              icon.<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('alt', hiddenStr);
<a name="l1059"><span class="linenum">1059</span></a>              this.span.<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('title', hiddenStr + ' \u2022 ' +
<a name="l1060"><span class="linenum">1060</span></a>                      M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('show_verb', 'availability'));
<a name="l1061"><span class="linenum">1061</span></a>          },
<a name="l1062"><span class="linenum">1062</span></a>          setShown = function() {
<a name="l1063"><span class="linenum">1063</span></a>              var shownStr = M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('shown' + suffix, 'availability');
<a name="l1064"><span class="linenum">1064</span></a>              icon.<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('src', M.util.image_url('i/hide', 'core'));
<a name="l1065"><span class="linenum">1065</span></a>              icon.<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('alt', shownStr);
<a name="l1066"><span class="linenum">1066</span></a>              this.span.<a class="function" onClick="logFunction('set')" href="../../../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>('title', shownStr + ' \u2022 ' +
<a name="l1067"><span class="linenum">1067</span></a>                      M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('hide_verb', 'availability'));
<a name="l1068"><span class="linenum">1068</span></a>          };
<a name="l1069"><span class="linenum">1069</span></a>      if (shown) {
<a name="l1070"><span class="linenum">1070</span></a>          setShown.<a class="function" onClick="logFunction('call')" href="../../../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(this);
<a name="l1071"><span class="linenum">1071</span></a>      } else {
<a name="l1072"><span class="linenum">1072</span></a>          setHidden.<a class="function" onClick="logFunction('call')" href="../../../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(this);
<a name="l1073"><span class="linenum">1073</span></a>      }
<a name="l1074"><span class="linenum">1074</span></a>  
<a name="l1075"><span class="linenum">1075</span></a>  <span class="comment">    // Update when button is clicked.</span>
<a name="l1076"><span class="linenum">1076</span></a>      var click = function(e) {
<a name="l1077"><span class="linenum">1077</span></a>          e.preventDefault();
<a name="l1078"><span class="linenum">1078</span></a>          if (this.<a class="function" onClick="logFunction('isHidden')" href="../../../../../_functions/ishidden.html" onMouseOver="funcPopup(event,'ishidden')">isHidden</a>()) {
<a name="l1079"><span class="linenum">1079</span></a>              setShown.<a class="function" onClick="logFunction('call')" href="../../../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(this);
<a name="l1080"><span class="linenum">1080</span></a>          } else {
<a name="l1081"><span class="linenum">1081</span></a>              setHidden.<a class="function" onClick="logFunction('call')" href="../../../../../_functions/call.html" onMouseOver="funcPopup(event,'call')">call</a>(this);
<a name="l1082"><span class="linenum">1082</span></a>          }
<a name="l1083"><span class="linenum">1083</span></a>          M.core_availability.form.<a class="function" onClick="logFunction('update')" href="../../../../../_functions/update.html" onMouseOver="funcPopup(event,'update')">update</a>();
<a name="l1084"><span class="linenum">1084</span></a>      };
<a name="l1085"><span class="linenum">1085</span></a>      this.span.<a class="function" onClick="logFunction('on')" href="../../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('click', click, this);
<a name="l1086"><span class="linenum">1086</span></a>      this.span.<a class="function" onClick="logFunction('on')" href="../../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('key', click, 'up:32', this);
<a name="l1087"><span class="linenum">1087</span></a>      this.span.<a class="function" onClick="logFunction('on')" href="../../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('key', function(e) {
<a name="l1088"><span class="linenum">1088</span></a>          e.preventDefault();
<a name="l1089"><span class="linenum">1089</span></a>      }, 'down:32', this);
<a name="l1090"><span class="linenum">1090</span></a>  };
<a name="l1091"><span class="linenum">1091</span></a>  
<a name="l1092"><span class="linenum">1092</span></a>  <span class="comment">/**</span>
<a name="l1093"><span class="linenum">1093</span></a>  <span class="comment"> * True if this eye icon is an individual one (see above).</span>
<a name="l1094"><span class="linenum">1094</span></a>  <span class="comment"> *</span>
<a name="l1095"><span class="linenum">1095</span></a>  <span class="comment"> * @property individual</span>
<a name="l1096"><span class="linenum">1096</span></a>  <span class="comment"> * @type Boolean</span>
<a name="l1097"><span class="linenum">1097</span></a>  <span class="comment"> */</span>
<a name="l1098"><span class="linenum">1098</span></a>  M.core_availability.EyeIcon.prototype.individual = false;
<a name="l1099"><span class="linenum">1099</span></a>  
<a name="l1100"><span class="linenum">1100</span></a>  <span class="comment">/**</span>
<a name="l1101"><span class="linenum">1101</span></a>  <span class="comment"> * YUI node for the span that contains this icon.</span>
<a name="l1102"><span class="linenum">1102</span></a>  <span class="comment"> *</span>
<a name="l1103"><span class="linenum">1103</span></a>  <span class="comment"> * @property span</span>
<a name="l1104"><span class="linenum">1104</span></a>  <span class="comment"> * @type Y.Node</span>
<a name="l1105"><span class="linenum">1105</span></a>  <span class="comment"> */</span>
<a name="l1106"><span class="linenum">1106</span></a>  M.core_availability.EyeIcon.prototype.span = null;
<a name="l1107"><span class="linenum">1107</span></a>  
<a name="l1108"><span class="linenum">1108</span></a>  <span class="comment">/**</span>
<a name="l1109"><span class="linenum">1109</span></a>  <span class="comment"> * Checks the current state of the icon.</span>
<a name="l1110"><span class="linenum">1110</span></a>  <span class="comment"> *</span>
<a name="l1111"><span class="linenum">1111</span></a>  <span class="comment"> * @method isHidden</span>
<a name="l1112"><span class="linenum">1112</span></a>  <span class="comment"> * @return {Boolean} True if this icon is set to 'hidden'</span>
<a name="l1113"><span class="linenum">1113</span></a>  <span class="comment"> */</span>
<a name="l1114"><span class="linenum">1114</span></a>  M.core_availability.EyeIcon.prototype.isHidden = function() {
<a name="l1115"><span class="linenum">1115</span></a>      var suffix = this.individual ? '_individual' : '_all',
<a name="l1116"><span class="linenum">1116</span></a>          compare = M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('hidden' + suffix, 'availability');
<a name="l1117"><span class="linenum">1117</span></a>      return this.span.one('img').<a class="function" onClick="logFunction('get')" href="../../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('alt') === compare;
<a name="l1118"><span class="linenum">1118</span></a>  };
<a name="l1119"><span class="linenum">1119</span></a>  
<a name="l1120"><span class="linenum">1120</span></a>  
<a name="l1121"><span class="linenum">1121</span></a>  <span class="comment">/**</span>
<a name="l1122"><span class="linenum">1122</span></a>  <span class="comment"> * Delete icon (to delete an Item or List).</span>
<a name="l1123"><span class="linenum">1123</span></a>  <span class="comment"> *</span>
<a name="l1124"><span class="linenum">1124</span></a>  <span class="comment"> * @class M.core_availability.DeleteIcon</span>
<a name="l1125"><span class="linenum">1125</span></a>  <span class="comment"> * @constructor</span>
<a name="l1126"><span class="linenum">1126</span></a>  <span class="comment"> * @param {M.core_availability.Item|M.core_availability.List} toDelete Thing to delete</span>
<a name="l1127"><span class="linenum">1127</span></a>  <span class="comment"> */</span>
<a name="l1128"><span class="linenum">1128</span></a>  M.core_availability.DeleteIcon = function(toDelete) {
<a name="l1129"><span class="linenum">1129</span></a>      this.span = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;a class=&quot;availability-delete&quot; href=&quot;#&quot; title=&quot;' +
<a name="l1130"><span class="linenum">1130</span></a>              M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('delete', 'moodle') + '&quot; role=&quot;button&quot;&gt;');
<a name="l1131"><span class="linenum">1131</span></a>      var img = Y.Node.<a class="function" onClick="logFunction('create')" href="../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>('&lt;img src=&quot;' + M.util.image_url('t/delete', 'core') +
<a name="l1132"><span class="linenum">1132</span></a>              '&quot; alt=&quot;' + M.util.<a class="function" onClick="logFunction('get_string')" href="../../../../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('delete', 'moodle') + '&quot; /&gt;');
<a name="l1133"><span class="linenum">1133</span></a>      this.span.appendChild(img);
<a name="l1134"><span class="linenum">1134</span></a>      var click = function(e) {
<a name="l1135"><span class="linenum">1135</span></a>          e.preventDefault();
<a name="l1136"><span class="linenum">1136</span></a>          M.core_availability.form.rootList.deleteDescendant(toDelete);
<a name="l1137"><span class="linenum">1137</span></a>          M.core_availability.form.rootList.renumber();
<a name="l1138"><span class="linenum">1138</span></a>      };
<a name="l1139"><span class="linenum">1139</span></a>      this.span.<a class="function" onClick="logFunction('on')" href="../../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('click', click, this);
<a name="l1140"><span class="linenum">1140</span></a>      this.span.<a class="function" onClick="logFunction('on')" href="../../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('key', click, 'up:32', this);
<a name="l1141"><span class="linenum">1141</span></a>      this.span.<a class="function" onClick="logFunction('on')" href="../../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">on</a>('key', function(e) {
<a name="l1142"><span class="linenum">1142</span></a>          e.preventDefault();
<a name="l1143"><span class="linenum">1143</span></a>      }, 'down:32', this);
<a name="l1144"><span class="linenum">1144</span></a>  };
<a name="l1145"><span class="linenum">1145</span></a>  
<a name="l1146"><span class="linenum">1146</span></a>  <span class="comment">/**</span>
<a name="l1147"><span class="linenum">1147</span></a>  <span class="comment"> * YUI node for the span that contains this icon.</span>
<a name="l1148"><span class="linenum">1148</span></a>  <span class="comment"> *</span>
<a name="l1149"><span class="linenum">1149</span></a>  <span class="comment"> * @property span</span>
<a name="l1150"><span class="linenum">1150</span></a>  <span class="comment"> * @type Y.Node</span>
<a name="l1151"><span class="linenum">1151</span></a>  <span class="comment"> */</span>
<a name="l1152"><span class="linenum">1152</span></a>  M.core_availability.DeleteIcon.prototype.span = null;
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'on': ['on', '', [['lib/requirejs','require.js',508],['lib/jquery','jquery-3.1.0.js',4809]], 3823],
'getvalue': ['getvalue', 'Returns the element\'s value ', [['lib/pear/HTML/QuickForm','advcheckbox.php',179],['lib/google/src/Google/Service','Cloudlatencytest.php',174],['lib/google/src/Google/Service','Cloudlatencytest.php',200],['lib/google/src/Google/Service','Cloudlatencytest.php',291],['lib/google/src/Google/Service','DataTransfer.php',376],['mod/wiki/editors','wikifiletable.php',84],['lib/google/src/Google/Service','Replicapool.php',1283],['lib/form','filemanager.php',137],['lib/google/src/Google/Service','Partners.php',1454],['lib/pear/HTML/QuickForm','select.php',210],['lib/google/src/Google/Utils','URITemplate.php',322],['lib/pear/HTML/QuickForm','input.php',129],['lib/google/src/Google/Service','Computeaccounts.php',1486],['lib/google/src/Google/Service','MapsEngine.php',3863],['lib/google/src/Google/Service','AdExchangeBuyer.php',5990],['lib/google/src/Google/Service','Books.php',4010],['lib/google/src/Google/Service','Analytics.php',7135],['lib/google/src/Google/Service','Coordinate.php',840],['lib/google/src/Google/Service','Coordinate.php',1004],['lib/pear/HTML/QuickForm','file.php',147],['lib/pear/HTML/QuickForm','xbutton.php',104],['backup/cc','entity11.lti.class.php',75],['lib/google/src/Google/Service','DoubleClickBidManager.php',376],['lib/google/src/Google/Service','DeploymentManager.php',1142],['lib/google/src/Google/Service','DeploymentManager.php',1667],['lib/google/src/Google/Service','DeploymentManager.php',1886],['backup/cc','entity11.basiclti.class.php',80],['lib/pear/HTML/QuickForm','textarea.php',124],['lib/google/src/Google/Service','CloudUserAccounts.php',1157],['lib/google/src/Google/Service','CloudUserAccounts.php',1925],['lib/google/src/Google/Service','Pagespeedonline.php',216],['lib/phpexcel/PHPExcel','Cell.php',171],['lib/google/src/Google/Service','TagManager.php',2721],['lib/google/src/Google/Service','Replicapoolupdater.php',1044],['lib/phpexcel/PHPExcel/Calculation','FormulaToken.php',117],['lib/google/src/Google/Service','ShoppingContent.php',4160],['lib/google/src/Google/Service','ShoppingContent.php',5588],['lib/google/src/Google/Service','ShoppingContent.php',7168],['lib/google/src/Google/Service','ShoppingContent.php',7903],['lib/google/src/Google/Service','ShoppingContent.php',8082],['lib/google/src/Google/Service','ShoppingContent.php',8108],['lib/google/src/Google/Service','ShoppingContent.php',8403],['lib/google/src/Google/Service','ShoppingContent.php',8429],['lib/google/src/Google/Service','ShoppingContent.php',9172],['lib/google/src/Google/Service','Clouddebugger.php',1331],['lib/form','selectgroups.php',158],['lib/pear/HTML/QuickForm','group.php',188],['lib/pear/HTML/QuickForm','checkbox.php',206],['lib/form','editor.php',161],['lib/google/src/Google/Service','Audit.php',368],['lib/google/src/Google/Service','Datastore.php',588],['lib/google/src/Google/Service','Datastore.php',1053],['lib/google/src/Google/Service','Genomics.php',3982],['lib/google/src/Google/Service','Games.php',5508],['lib/google/src/Google/Service','Fitness.php',1082],['lib/google/src/Google/Service','Fitness.php',1564],['lib/google/src/Google/Service','Reports.php',700],['lib/google/src/Google/Service','Reports.php',1132],['lib/google/src/Google/Service','Gmail.php',2005],['lib/google/src/Google/Service','Doubleclicksearch.php',873],['lib/google/src/Google/Service','Doubleclicksearch.php',899],['lib/google/src/Google/Service','Autoscaler.php',1197],['lib','searchlib.php',75],['lib/google/src/Google/Service','Prediction.php',548],['lib/google/src/Google/Service','Prediction.php',690],['lib/google/src/Google/Service','Drive.php',3859],['lib/google/src/Google/Service','Drive.php',5282],['lib/google/src/Google/Service','Drive.php',5416],['lib/editor/tinymce/plugins/spellchecker/classes/utils','JSON.php',95],['lib/horde/framework/Horde/Mime','Headers.php',433],['lib/google/src/Google/Service','Directory.php',6386],['lib/google/src/Google/Service','Directory.php',6598],['lib/google/src/Google/Service','Directory.php',6863],['lib/google/src/Google/Service','Directory.php',6978],['lib/google/src/Google/Service','Directory.php',7039],['lib/google/src/Google/Service','Plus.php',3317],['lib/google/src/Google/Service','Plus.php',3520],['lib/google/src/Google/Service','Plus.php',3555],['lib/pear/HTML/QuickForm','element.php',183],['lib/google/src/Google/Service','Mirror.php',1471],['lib/google/src/Google/Service','Mirror.php',1928],['lib/pear/HTML/QuickForm','link.php',132],['lib/google/src/Google/Service','Calendar.php',2073],['lib/google/src/Google/Service','Calendar.php',3805],['lib/google/src/Google/Service','PlusDomains.php',3510],['lib/google/src/Google/Service','PlusDomains.php',3713],['lib/google/src/Google/Service','PlusDomains.php',3748],['lib/google/src/Google/Service','GamesConfiguration.php',1036],['lib/google/src/Google/Service','Resourceviews.php',601],['lib/google/src/Google/Service','Resourceviews.php',1012],['lib/google/src/Google/Service','SQLAdmin.php',1595],['lib/google/src/Google/Service','SQLAdmin.php',1952],['mod/scorm/datamodels','scorm_13.js',376],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter/Column','Rule.php',300],['lib/google/src/Google/Service','Compute.php',8778],['lib/google/src/Google/Service','Compute.php',9226],['lib/google/src/Google/Service','Compute.php',10318],['lib/google/src/Google/Service','Compute.php',10410],['lib/google/src/Google/Service','Compute.php',10916],['lib/google/src/Google/Service','Compute.php',12551],['lib/google/src/Google/Service','Compute.php',12797],['lib/google/src/Google/Service','Compute.php',13275],['lib/google/src/Google/Service','Compute.php',13678],['lib/google/src/Google/Service','Compute.php',13867],['lib/google/src/Google/Service','Compute.php',14514],['lib/google/src/Google/Service','Compute.php',14606],['lib/google/src/Google/Service','Compute.php',15261],['lib/google/src/Google/Service','Compute.php',16275],['lib/google/src/Google/Service','Compute.php',16701],['lib/google/src/Google/Service','Compute.php',17031],['lib/google/src/Google/Service','Compute.php',17749],['lib/google/src/Google/Service','YouTube.php',5939],['lib/google/src/Google/Service','YouTube.php',8637],['lib/google/src/Google/Service','YouTube.php',9583],['lib/google/src/Google/Service','YouTube.php',10421],['lib/google/src/Google/Service','Dfareporting.php',11119],['lib/google/src/Google/Service','Dfareporting.php',12865],['lib/google/src/Google/Service','Dfareporting.php',13717],['lib/google/src/Google/Service','Dfareporting.php',13779],['lib/google/src/Google/Service','Dfareporting.php',16028],['lib/google/src/Google/Service','Manager.php',749],['lib/google/src/Google/Service','Manager.php',1106],['lib/google/src/Google/Service','Manager.php',1476],['lib/google/src/Google/Service','CloudMonitoring.php',1086]], 307],
'call': ['call', 'TODO: This function needs simplifying. ', [['lib/google/src/Google/Service','Resource.php',74],['webservice/xmlrpc','lib.php',63],['webservice/xmlrpc/tests','lib_test.php',117],['lib/simplepie/library/SimplePie','Registry.php',194],['lib','flickrlib.php',254],['webservice/soap','lib.php',67],['lib/markdown','Readme.md',68],['webservice/rest','lib.php',69]], 5324],
'apply': ['apply', '', [['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16662]], 2690],
'parse': ['parse', 'Parse the input data ', [['lib/simplepie/library/SimplePie/XML/Declaration','Parser.php',122],['lib/minify/lib','JSMinPlus.php',732],['lib/google/src/Google/Utils','URITemplate.php',59],['lib/simplepie/library/SimplePie','Parser.php',78],['lib/simplepie/library/SimplePie/Parse','Date.php',582],['lib/horde/framework/Horde/Mail/Rfc822','Identification.php',44],['mnet/xmlrpc','xmlparser.php',61],['backup/cc/cc_lib/gral_lib','cssparser.php',251],['backup/util/xml/parser','progressive_parser.class.php',178],['lib/mustache/src/Mustache','Parser.php',27],['lib/xhprof/xhprof_html/jquery','jquery.autocomplete.js',365],['lib/htmlpurifier/HTMLPurifier','VarParser.php',51],['mod/wiki/parser','parser.php',16],['mod/wiki/parser','parser.php',100],['lib/htmlpurifier/HTMLPurifier','URIParser.php',20],['lib/simplepie/library/SimplePie','gzdecode.php',197],['mod/scorm/datamodels','scormlib.php',911],['lib/simplepie/library/SimplePie/Decode/HTML','Entities.php',91],['lib/mustache/src/Mustache','Engine.php',731],['lib/lessphp','Parser.php',294],['lib','lexer.php',325],['lib/simplepie/library/SimplePie/HTTP','Parser.php',142]], 342],
'focus': ['focus', 'To autofocus on first form element or first element with error. ', [['lib','formslib.php',239]], 962],
'not': ['not', 'NOT ', [['lib/phpexcel/PHPExcel/Calculation','Logical.php',187]], 351],
'ishidden': ['ishidden', '', [['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',6410],['lib/jquery/ui-1.11.4/external/jquery','jquery.js',6839],['lib/editor/atto/yui/src/rangy/js','rangy-textrange.js',311],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',6410]], 29],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'removeattribute': ['removeattribute', 'Removes an attribute ', [['lib/pear/HTML','Common.php',326]], 338],
'all': ['all', '', [['lib','questionlib.php',1516]], 1415],
'get': ['get', 'Retrieves a variable reference from the context. ', [['lib/htmlpurifier/HTMLPurifier','Context.php',36],['cache/stores/static','lib.php',220],['cache','disabledlib.php',55],['search/classes','document.php',299],['lib/lessphp','Cache.php',27],['lib/google/src/Google/Service','DataTransfer.php',162],['lib/google/src/Google/Service','DataTransfer.php',208],['lib/minify/lib','JSMinPlus.php',1827],['lib/google/src/Google/Service','AdSense.php',1076],['lib/google/src/Google/Service','AdSense.php',1155],['lib/google/src/Google/Service','AdSense.php',1303],['lib/google/src/Google/Service','AdSense.php',1519],['lib/google/src/Google/Service','AdSense.php',1631],['lib/google/src/Google/Service','AdSense.php',1773],['lib/google/src/Google/Service','AdSense.php',2047],['lib/google/src/Google/Service','Replicapool.php',420],['lib/google/src/Google/Service','Replicapool.php',575],['lib/google/src/Google/Service','Tasks.php',323],['lib/google/src/Google/Service','Tasks.php',442],['lib/google/src/Google/Service','Partners.php',362],['lib/google/src/Google/Service','AndroidPublisher.php',1247],['lib/google/src/Google/Service','AndroidPublisher.php',1349],['lib/google/src/Google/Service','AndroidPublisher.php',1510],['lib/google/src/Google/Service','AndroidPublisher.php',1573],['lib/google/src/Google/Service','AndroidPublisher.php',1796],['lib/google/src/Google/Service','AndroidPublisher.php',1884],['lib/google/src/Google/Service','AndroidPublisher.php',1948],['lib/google/src/Google/Service','AndroidPublisher.php',2098],['lib/google/src/Google/Service','AndroidPublisher.php',2223],['lib/google/src/Google/Service','AndroidPublisher.php',2293],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',146],['lib/google/src/Google/Service','YouTubeReporting.php',273],['lib/google/src/Google/Service','YouTubeReporting.php',326],['lib/google/src/Google/Service','Reseller.php',295],['lib/google/src/Google/Service','Reseller.php',458],['lib/google/src/Google/Cache','Memcache.php',74],['lib','filelib.php',3382],['lib','filelib.php',3630],['lib/google/src/Google/Service','Computeaccounts.php',432],['lib/google/src/Google/Service','Computeaccounts.php',512],['lib/google/src/Google/Service','Computeaccounts.php',683],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',64],['lib/google/src/Google/Service','MapsEngine.php',1530],['lib/google/src/Google/Service','MapsEngine.php',1709],['lib/google/src/Google/Service','MapsEngine.php',2006],['lib/google/src/Google/Service','MapsEngine.php',2268],['lib/google/src/Google/Service','MapsEngine.php',2360],['lib/google/src/Google/Service','MapsEngine.php',2666],['lib/google/src/Google/Service','MapsEngine.php',2927],['lib/google/src/Google/Service','MapsEngine.php',3118],['lib/google/src/Google/Cache','File.php',47],['cache/classes','dummystore.php',141],['lib/google/src/Google/Service','Dns.php',307],['lib/google/src/Google/Service','Dns.php',393],['lib/google/src/Google/Service','Dns.php',444],['cache/classes','loaders.php',278],['cache/classes','loaders.php',1422],['cache/classes','loaders.php',1731],['lib/google/src/Google/Service','Appengine.php',320],['lib/google/src/Google/Service','Appengine.php',368],['lib/google/src/Google/Service','Appengine.php',472],['lib/google/src/Google/Service','Appengine.php',525],['lib/google/src/Google/Service','Urlshortener.php',109],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',74],['lib/google/src/Google/Service','AdExchangeBuyer.php',759],['lib/google/src/Google/Service','AdExchangeBuyer.php',829],['lib/google/src/Google/Service','AdExchangeBuyer.php',870],['lib/google/src/Google/Service','AdExchangeBuyer.php',952],['lib/google/src/Google/Service','AdExchangeBuyer.php',1041],['lib/google/src/Google/Service','AdExchangeBuyer.php',1111],['lib/google/src/Google/Service','AdExchangeBuyer.php',1251],['lib/google/src/Google/Service','AdExchangeBuyer.php',1293],['lib/google/src/Google/Service','AdExchangeBuyer.php',1417],['lib/google/src/Google/Service','AdExchangeBuyer.php',1471],['lib/google/src/Google/Service','AdExchangeBuyer.php',1576],['lib/google/src/Google/Service','Books.php',1456],['lib/google/src/Google/Service','Books.php',1625],['lib/google/src/Google/Service','Books.php',1677],['lib/google/src/Google/Service','Books.php',1752],['lib/google/src/Google/Service','Books.php',2086],['lib/google/src/Google/Service','Books.php',2205],['lib/google/src/Google/Service','Books.php',2262],['lib/google/src/Google/Service','Books.php',2345],['lib/google/src/Google/Service','Books.php',2418],['lib/google/src/Google/Service','Books.php',2450],['lib/google/src/Google/Service','Oauth2.php',165],['lib/google/src/Google/Service','Oauth2.php',202],['lib/google/src/Google/Service','Analytics.php',1988],['lib/google/src/Google/Service','Analytics.php',2037],['lib/google/src/Google/Service','Analytics.php',2084],['lib/google/src/Google/Service','Analytics.php',2308],['lib/google/src/Google/Service','Analytics.php',2422],['lib/google/src/Google/Service','Analytics.php',2550],['lib/google/src/Google/Service','Analytics.php',2670],['lib/google/src/Google/Service','Analytics.php',2763],['lib/google/src/Google/Service','Analytics.php',2889],['lib/google/src/Google/Service','Analytics.php',3108],['lib/google/src/Google/Service','Analytics.php',3245],['lib/google/src/Google/Service','Analytics.php',3336],['lib/google/src/Google/Service','Analytics.php',3422],['lib/google/src/Google/Service','Analytics.php',3533],['lib/google/src/Google/Service','Coordinate.php',509],['lib/google/src/Google/Service','Coordinate.php',689],['lib','oauthlib.php',302],['lib/horde/framework/Horde/Support','ConsistentHash.php',69],['lib/google/src/Google/Service','DeploymentManager.php',468],['lib/google/src/Google/Service','DeploymentManager.php',632],['lib/google/src/Google/Service','DeploymentManager.php',693],['lib/google/src/Google/Service','DeploymentManager.php',752],['lib/google/src/Google/Service','Blogger.php',945],['lib/google/src/Google/Service','Blogger.php',976],['lib/google/src/Google/Service','Blogger.php',1080],['lib/google/src/Google/Service','Blogger.php',1199],['lib/google/src/Google/Service','Blogger.php',1241],['lib/google/src/Google/Service','Blogger.php',1382],['lib/google/src/Google/Service','Blogger.php',1465],['lib/google/src/Google/Service','Blogger.php',1686],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',981],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',16595],['question/engine','states.php',116],['lib/google/src/Google/Service','Dataflow.php',292],['lib/horde/framework/Horde','Variables.php',135],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',58],['competency/classes','persistent.php',86],['lib/google/src/Google/Service','CloudUserAccounts.php',542],['lib/google/src/Google/Service','CloudUserAccounts.php',643],['lib/google/src/Google/Service','CloudUserAccounts.php',908],['lib/google/src/Google/Service','Cloudresourcemanager.php',248],['lib/google/src/Google/Service','Cloudresourcemanager.php',427],['lib/editor/tinymce/classes','plugin.php',447],['lib/simplepie/library/SimplePie/Parse','Date.php',567],['lib/google/src/Google/Service','TagManager.php',950],['lib/google/src/Google/Service','TagManager.php',1036],['lib/google/src/Google/Service','TagManager.php',1128],['lib/google/src/Google/Service','TagManager.php',1280],['lib/google/src/Google/Service','TagManager.php',1373],['lib/google/src/Google/Service','TagManager.php',1467],['lib/google/src/Google/Service','TagManager.php',1561],['lib/google/src/Google/Service','TagManager.php',1711],['mod/lesson','locallib.php',3248],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',163],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',34],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',68],['lib/google/src/Google/Service','Replicapoolupdater.php',338],['lib/google/src/Google/Service','Replicapoolupdater.php',489],['lib/google/src/Google/Service','Bigquery.php',552],['lib/google/src/Google/Service','Bigquery.php',668],['lib/google/src/Google/Service','Bigquery.php',879],['lib/google/src/Google/Service','ShoppingContent.php',1066],['lib/google/src/Google/Service','ShoppingContent.php',1183],['lib/google/src/Google/Service','ShoppingContent.php',1283],['lib/google/src/Google/Service','ShoppingContent.php',1346],['lib/google/src/Google/Service','ShoppingContent.php',1464],['lib/google/src/Google/Service','ShoppingContent.php',1578],['lib/google/src/Google/Service','ShoppingContent.php',1773],['lib/google/src/Google/Service','ShoppingContent.php',1986],['lib/google/src/Google/Service','ShoppingContent.php',2063],['lib/google/src/Google/Service','Webmasters.php',371],['lib/google/src/Google/Service','Webmasters.php',464],['lib/google/src/Google/Service','Webmasters.php',540],['lib','navigationlib.php',384],['lib','navigationlib.php',836],['lib','navigationlib.php',2704],['lib','navigationlib.php',3139],['lib/google/src/Google/Service','Clouddebugger.php',399],['lib/htmlpurifier/HTMLPurifier','Config.php',161],['lib/portfolio','exporter.php',134],['lib/google/src/Google/Service','Container.php',329],['lib/google/src/Google/Service','Container.php',396],['backup/cc/cc_lib/gral_lib','cssparser.php',147],['lib/horde/framework/Horde/Support','Array.php',30],['lib/horde/framework/Horde/Imap/Client','Mailbox.php',46],['lib/google/src/Google/Service','Storage.php',1059],['lib/google/src/Google/Service','Storage.php',1175],['lib/google/src/Google/Service','Storage.php',1349],['lib/google/src/Google/Service','Storage.php',1476],['lib/google/src/Google/Service','Storage.php',1709],['cache/stores/memcache','lib.php',312],['lib/google/src/Google/Service','Genomics.php',660],['lib/google/src/Google/Service','Genomics.php',749],['lib/google/src/Google/Service','Genomics.php',918],['lib/google/src/Google/Service','Genomics.php',1007],['lib/google/src/Google/Service','Genomics.php',1185],['lib/google/src/Google/Service','Genomics.php',1268],['lib/google/src/Google/Service','Genomics.php',1340],['lib/google/src/Google/Service','Genomics.php',1475],['lib/google/src/Google/Service','Games.php',1220],['lib/google/src/Google/Service','Games.php',1339],['lib/google/src/Google/Service','Games.php',1441],['lib/google/src/Google/Service','Games.php',1699],['lib/google/src/Google/Service','Games.php',1806],['lib/google/src/Google/Service','Games.php',1948],['lib/google/src/Google/Service','Games.php',2082],['lib/google/src/Google/Service','Licensing.php',239],['lib/google/src/Google/Service','Fitness.php',417],['lib/google/src/Google/Service','Fitness.php',543],['lib/google/src/Google/Service','Reports.php',375],['lib/google/src/Google/Service','Reports.php',409],['lib/google/src/Google/Service','Gmail.php',779],['lib/google/src/Google/Service','Gmail.php',937],['lib/google/src/Google/Service','Gmail.php',1030],['lib/google/src/Google/Service','Gmail.php',1206],['lib/google/src/Google/Service','Gmail.php',1250],['lib/google/src/Google/Service','Taskqueue.php',264],['lib/google/src/Google/Service','Taskqueue.php',308],['lib/mustache/src/Mustache','HelperCollection.php',81],['cache/classes','interfaces.php',41],['lib/google/src/Google/Service','Doubleclicksearch.php',257],['lib/google/src/Google/Service','Doubleclicksearch.php',381],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',105],['lib/google/src/Google/Service','Autoscaler.php',331],['lib/google/src/Google/Service','Autoscaler.php',445],['lib/google/src/Google/Service','AdExchangeSeller.php',444],['lib/google/src/Google/Service','AdExchangeSeller.php',552],['lib/google/src/Google/Service','AdExchangeSeller.php',666],['lib/horde/framework/Horde/Imap/Client','Cache.php',88],['lib/google/src/Google/Service','Prediction.php',276],['lib/behat/classes','behat_context_helper.php',63],['lib/google/src/Google/Service','SiteVerification.php',152],['lib/google/src/Google/Service','Drive.php',1333],['lib/google/src/Google/Service','Drive.php',1369],['lib/google/src/Google/Service','Drive.php',1422],['lib/google/src/Google/Service','Drive.php',1536],['lib/google/src/Google/Service','Drive.php',1617],['lib/google/src/Google/Service','Drive.php',1792],['lib/google/src/Google/Service','Drive.php',2054],['lib/google/src/Google/Service','Drive.php',2124],['lib/google/src/Google/Service','Drive.php',2256],['lib/google/src/Google/Service','Drive.php',2350],['lib/google/src/Google/Service','Drive.php',2418],['lib/google/src/Google/Service','Drive.php',2537],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',79],['lib/google/src/Google/Service','Proximitybeacon.php',348],['lib/google/src/Google/Service','Groupssettings.php',108],['lib/google/src/Google/Service','Directory.php',1698],['lib/google/src/Google/Service','Directory.php',1766],['lib/google/src/Google/Service','Directory.php',1860],['lib/google/src/Google/Service','Directory.php',1930],['lib/google/src/Google/Service','Directory.php',2003],['lib/google/src/Google/Service','Directory.php',2072],['lib/google/src/Google/Service','Directory.php',2238],['lib/google/src/Google/Service','Directory.php',2365],['lib/google/src/Google/Service','Directory.php',2435],['lib/google/src/Google/Service','Directory.php',2531],['lib/google/src/Google/Service','Directory.php',2666],['lib/google/src/Google/Service','Directory.php',2745],['lib/google/src/Google/Service','Directory.php',2850],['lib/google/src/Google/Service','Directory.php',2954],['lib/google/src/Google/Service','Directory.php',3012],['lib/google/src/Google/Service','Directory.php',3287],['lib/google/src/Google/Service','Fusiontables.php',659],['lib/google/src/Google/Service','Fusiontables.php',826],['lib/google/src/Google/Service','Fusiontables.php',950],['lib/google/src/Google/Service','Fusiontables.php',1141],['lib/google/src/Google/Service','Fusiontables.php',1202],['lib/google/src/Google/Service','AdSenseHost.php',645],['lib/google/src/Google/Service','AdSenseHost.php',686],['lib/google/src/Google/Service','AdSenseHost.php',751],['lib/google/src/Google/Service','AdSenseHost.php',918],['lib/google/src/Google/Service','AdSenseHost.php',1026],['lib/google/src/Google/Service','Plus.php',343],['lib/google/src/Google/Service','Plus.php',418],['lib/google/src/Google/Service','Plus.php',525],['lib/google/src/Google/Service','Mirror.php',438],['lib/google/src/Google/Service','Mirror.php',523],['lib/google/src/Google/Service','Mirror.php',563],['lib/google/src/Google/Service','Mirror.php',674],['lib/google/src/Google/Service','Mirror.php',786],['lib/google/src/Google/Service','AndroidEnterprise.php',1002],['lib/google/src/Google/Service','AndroidEnterprise.php',1109],['lib/google/src/Google/Service','AndroidEnterprise.php',1196],['lib/google/src/Google/Service','AndroidEnterprise.php',1312],['lib/google/src/Google/Service','AndroidEnterprise.php',1432],['lib/google/src/Google/Service','AndroidEnterprise.php',1524],['lib/google/src/Google/Service','AndroidEnterprise.php',1616],['lib/google/src/Google/Service','AndroidEnterprise.php',1705],['lib/google/src/Google/Service','AndroidEnterprise.php',1777],['lib/google/src/Google/Service','AndroidEnterprise.php',1879],['lib/htmlpurifier/HTMLPurifier','DoctypeRegistry.php',76],['lib/testing/classes','nasty_strings.php',73],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',52],['lib/google/src/Google/Service','Playmoviespartner.php',411],['lib/google/src/Google/Service','Playmoviespartner.php',475],['lib/google/src/Google/Service','Playmoviespartner.php',580],['lib','coursecatlib.php',212],['lib/google/src/Google/Service','Cloudtrace.php',217],['lib/editor/tinymce/tiny_mce/3.5.11/plugins/media/js','media.js',7],['tag/classes','tag.php',190],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',65],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Null.php',27],['competency/classes','url.php',55],['lib/portfolio','caller.php',170],['lib/portfolio','caller.php',538],['lib/google/src/Google/Service','Calendar.php',919],['lib/google/src/Google/Service','Calendar.php',1086],['lib/google/src/Google/Service','Calendar.php',1285],['lib/google/src/Google/Service','Calendar.php',1387],['lib/google/src/Google/Service','Calendar.php',1431],['lib/google/src/Google/Service','Calendar.php',1873],['lib/horde/framework/Horde/Imap/Client/Fetch','Results.php',78],['cache/stores/session','lib.php',225],['lib/google/src/Google/Service','Cloudbilling.php',162],['lib/google/src/Google/Service','PlusDomains.php',468],['lib/google/src/Google/Service','PlusDomains.php',593],['lib/google/src/Google/Service','PlusDomains.php',719],['lib/google/src/Google/Service','PlusDomains.php',813],['lib/google/src/Google/Service','Storagetransfer.php',248],['lib/google/src/Google/Service','Storagetransfer.php',295],['lib/google/src/Google/Service','Storagetransfer.php',396],['cache/stores/mongodb','lib.php',252],['lib/google/src/Google/Cache','Null.php',36],['lib/google/src/Google/Service','GamesConfiguration.php',265],['lib/google/src/Google/Service','GamesConfiguration.php',404],['cache/stores/file','lib.php',330],['cache/stores/memcached','lib.php',319],['lib/google/src/Google/Service','AppState.php',171],['lib/google/src/Google/Service','Resourceviews.php',354],['lib/google/src/Google/Service','Resourceviews.php',439],['lib/portfolio','plugin.php',631],['lib/google/src/Google/Service','Classroom.php',484],['lib/google/src/Google/Service','Classroom.php',724],['lib/google/src/Google/Service','Classroom.php',830],['lib/google/src/Google/Service','Classroom.php',951],['lib/google/src/Google/Service','Classroom.php',1010],['lib/google/src/Google/Service','SQLAdmin.php',804],['lib/google/src/Google/Service','SQLAdmin.php',874],['lib/google/src/Google/Service','SQLAdmin.php',1076],['lib/google/src/Google/Service','SQLAdmin.php',1298],['lib/google/src/Google/Service','SQLAdmin.php',1387],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',67],['lib/google/src/Google/Service','Compute.php',4037],['lib/google/src/Google/Service','Compute.php',4166],['lib/google/src/Google/Service','Compute.php',4299],['lib/google/src/Google/Service','Compute.php',4460],['lib/google/src/Google/Service','Compute.php',4590],['lib/google/src/Google/Service','Compute.php',4686],['lib/google/src/Google/Service','Compute.php',4845],['lib/google/src/Google/Service','Compute.php',4957],['lib/google/src/Google/Service','Compute.php',5048],['lib/google/src/Google/Service','Compute.php',5188],['lib/google/src/Google/Service','Compute.php',5264],['lib/google/src/Google/Service','Compute.php',5394],['lib/google/src/Google/Service','Compute.php',5542],['lib/google/src/Google/Service','Compute.php',5726],['lib/google/src/Google/Service','Compute.php',6001],['lib/google/src/Google/Service','Compute.php',6171],['lib/google/src/Google/Service','Compute.php',6369],['lib/google/src/Google/Service','Compute.php',6595],['lib/google/src/Google/Service','Compute.php',6655],['lib/google/src/Google/Service','Compute.php',6732],['lib/google/src/Google/Service','Compute.php',6808],['lib/google/src/Google/Service','Compute.php',6914],['lib/google/src/Google/Service','Compute.php',6977],['lib/google/src/Google/Service','Compute.php',7052],['lib/google/src/Google/Service','Compute.php',7148],['lib/google/src/Google/Service','Compute.php',7223],['lib/google/src/Google/Service','Compute.php',7315],['lib/google/src/Google/Service','Compute.php',7425],['lib/google/src/Google/Service','Compute.php',7586],['lib/google/src/Google/Service','Compute.php',7750],['lib/google/src/Google/Service','Compute.php',7955],['lib/google/src/Google/Service','Compute.php',8050],['lib/google/src/Google/Service','Compute.php',8226],['lib/google/src/Google/Service','Compute.php',8321],['lib/google/src/Google/Service','Compute.php',8384],['lib/google/src/Google/Service','Pubsub.php',255],['lib/google/src/Google/Service','Pubsub.php',394],['lib/google/src/Google/Cache','Apc.php',52],['lib/google/src/Google/Service','Dfareporting.php',4559],['lib/google/src/Google/Service','Dfareporting.php',4587],['lib/google/src/Google/Service','Dfareporting.php',4629],['lib/google/src/Google/Service','Dfareporting.php',4671],['lib/google/src/Google/Service','Dfareporting.php',4779],['lib/google/src/Google/Service','Dfareporting.php',4867],['lib/google/src/Google/Service','Dfareporting.php',5014],['lib/google/src/Google/Service','Dfareporting.php',5117],['lib/google/src/Google/Service','Dfareporting.php',5308],['lib/google/src/Google/Service','Dfareporting.php',5427],['lib/google/src/Google/Service','Dfareporting.php',5525],['lib/google/src/Google/Service','Dfareporting.php',5580],['lib/google/src/Google/Service','Dfareporting.php',5683],['lib/google/src/Google/Service','Dfareporting.php',5769],['lib/google/src/Google/Service','Dfareporting.php',5891],['lib/google/src/Google/Service','Dfareporting.php',5997],['lib/google/src/Google/Service','Dfareporting.php',6105],['lib/google/src/Google/Service','Dfareporting.php',6255],['lib/google/src/Google/Service','Dfareporting.php',6314],['lib/google/src/Google/Service','Dfareporting.php',6411],['lib/google/src/Google/Service','Dfareporting.php',6529],['lib/google/src/Google/Service','Dfareporting.php',6609],['lib/google/src/Google/Service','Dfareporting.php',6746],['lib/google/src/Google/Service','Dfareporting.php',6862],['lib/google/src/Google/Service','Dfareporting.php',6940],['lib/google/src/Google/Service','Dfareporting.php',7011],['lib/google/src/Google/Service','Dfareporting.php',7131],['lib/google/src/Google/Service','Dfareporting.php',7172],['lib/google/src/Google/Service','Dfareporting.php',7214],['lib/google/src/Google/Service','Dfareporting.php',7256],['lib/google/src/Google/Service','Dfareporting.php',7320],['lib/google/src/Google/Service','Dfareporting.php',7378],['lib/google/src/Google/Service','Dfareporting.php',7517],['lib/google/src/Google/Service','Dfareporting.php',7640],['lib/google/src/Google/Service','Dfareporting.php',7771],['lib/google/src/Google/Service','Dfareporting.php',7812],['lib/google/src/Google/Service','Dfareporting.php',7853],['lib/google/src/Google/Service','Dfareporting.php',7935],['lib/google/src/Google/Service','Dfareporting.php',7995],['lib/google/src/Google/Service','Dfareporting.php',8116],['lib/google/src/Google/Service','Dfareporting.php',8258],['lib/google/src/Google/Service','Dfareporting.php',8307],['lib/google/src/Google/Service','Dfareporting.php',8421],['lib/google/src/Google/Service','Dfareporting.php',8482],['lib/google/src/Google/Service','Dfareporting.php',8584],['lib/google/src/Google/Service','Dfareporting.php',8643],['lib/google/src/Google/Service','Dfareporting.php',8682],['lib/google/src/Google/Service','Dfareporting.php',8724],['lib/google/src/Google/Service','Dfareporting.php',8782],['lib/google/src/Google/Service','Manager.php',259],['lib/google/src/Google/Service','Manager.php',338],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',108],['lib','webdavlib.php',264]], 21532],
'splice': ['splice', 'Splice in multiple elements at hole.  Functional specification in terms of array_splice: ', [['lib/htmlpurifier/HTMLPurifier','Zipper.php',122]], 553],
'update': ['update', 'In addition to update() as defined in grade_object, handle the grade_outcome and grade_scale objects. Force regrading if necessary, rounds the float numbers using php function, the reason is we need to compare the db value with computed number to skip regrading if possible. ', [['lib/grade','grade_item.php',274],['lib/google/src/Google/Service','Tasks.php',386],['lib/google/src/Google/Service','Tasks.php',556],['lib/google/src/Google/Service','AndroidPublisher.php',1413],['lib/google/src/Google/Service','AndroidPublisher.php',1545],['lib/google/src/Google/Service','AndroidPublisher.php',1615],['lib/google/src/Google/Service','AndroidPublisher.php',1853],['lib/google/src/Google/Service','AndroidPublisher.php',1919],['lib/google/src/Google/Service','AndroidPublisher.php',2003],['lib/google/src/Google/Service','AndroidPublisher.php',2177],['lib/google/src/Google/Service','Reseller.php',344],['lib/grade','grade_category.php',226],['lib/grade','grade_scale.php',125],['lib/adodb','adodb-active-record.inc.php',1004],['lib/grade','grade_object.php',238],['lib/google/src/Google/Service','YouTubeAnalytics.php',534],['completion','data_object.php',252],['mod/lesson/pagetypes','matching.php',308],['tag/classes','collection.php',215],['lib/google/src/Google/Service','AdExchangeBuyer.php',802],['lib/google/src/Google/Service','AdExchangeBuyer.php',906],['lib/google/src/Google/Service','AdExchangeBuyer.php',1013],['lib/google/src/Google/Service','AdExchangeBuyer.php',1181],['lib/google/src/Google/Service','AdExchangeBuyer.php',1357],['lib/google/src/Google/Service','AdExchangeBuyer.php',1640],['lib/google/src/Google/Service','Books.php',2025],['lib/grade','grade_grade.php',1009],['lib/grade','grade_outcome.php',144],['lib/google/src/Google/Service','Analytics.php',2215],['lib/google/src/Google/Service','Analytics.php',2388],['lib/google/src/Google/Service','Analytics.php',2501],['lib/google/src/Google/Service','Analytics.php',2626],['lib/google/src/Google/Service','Analytics.php',2736],['lib/google/src/Google/Service','Analytics.php',2843],['lib/google/src/Google/Service','Analytics.php',2971],['lib/google/src/Google/Service','Analytics.php',3062],['lib/google/src/Google/Service','Analytics.php',3185],['lib/google/src/Google/Service','Analytics.php',3502],['lib/google/src/Google/Service','Analytics.php',3604],['lib/google/src/Google/Service','Analytics.php',3686],['lib/google/src/Google/Service','Coordinate.php',611],['lib/google/src/Google/Service','Coordinate.php',727],['lib/google/src/Google/Service','DeploymentManager.php',589],['tag/classes/output','tagareacollection.php',68],['lib','weblib.php',3312],['lib/google/src/Google/Service','Blogger.php',1349],['lib/google/src/Google/Service','Blogger.php',1647],['lib/google/src/Google/Service','Dataflow.php',350],['tag/classes/output','tagcollname.php',58],['competency/classes','persistent.php',452],['lib/google/src/Google/Service','Cloudresourcemanager.php',344],['lib/google/src/Google/Service','Cloudresourcemanager.php',555],['lib/google/src/Google/Service','TagManager.php',977],['lib/google/src/Google/Service','TagManager.php',1066],['lib/google/src/Google/Service','TagManager.php',1159],['lib/google/src/Google/Service','TagManager.php',1219],['lib/google/src/Google/Service','TagManager.php',1311],['lib/google/src/Google/Service','TagManager.php',1405],['lib/google/src/Google/Service','TagManager.php',1499],['lib/google/src/Google/Service','TagManager.php',1650],['lib/google/src/Google/Service','TagManager.php',1743],['mod/lesson','locallib.php',2691],['lib/google/src/Google/Service','Bigquery.php',621],['lib/google/src/Google/Service','Bigquery.php',953],['lib/google/src/Google/Service','ShoppingContent.php',1136],['lib/google/src/Google/Service','ShoppingContent.php',1238],['lib/google/src/Google/Service','ShoppingContent.php',1401],['lib/google/src/Google/Service','ShoppingContent.php',1534],['mod/lesson/pagetypes','truefalse.php',163],['lib/google/src/Google/Service','Clouddebugger.php',307],['lib/filestorage','stored_file.php',103],['lib/google/src/Google/Service','Container.php',366],['lib/horde/framework/Horde/Support','Array.php',70],['lib/google/src/Google/Service','Storage.php',1127],['lib/google/src/Google/Service','Storage.php',1268],['lib/google/src/Google/Service','Storage.php',1423],['lib/google/src/Google/Service','Storage.php',1564],['lib/google/src/Google/Service','Storage.php',1904],['tag/classes/output','tagname.php',56],['tag/classes/output','tagcollsearchable.php',72],['lib/google/src/Google/Service','Games.php',1508],['lib/google/src/Google/Service','Licensing.php',335],['lib/google/src/Google/Service','Fitness.php',478],['lib/google/src/Google/Service','Fitness.php',691],['lib/google/src/Google/Service','Gmail.php',833],['lib/google/src/Google/Service','Gmail.php',986],['lib/google/src/Google/Service','Taskqueue.php',398],['lib/adodb','adodb-active-recordx.inc.php',1136],['grade/grading/form','lib.php',905],['lib/google/src/Google/Service','Doubleclicksearch.php',326],['lib/google/src/Google/Service','Autoscaler.php',400],['tag/classes/output','tagisstandard.php',70],['lib/google/src/Google/Service','Prediction.php',339],['lib/google/src/Google/Service','SiteVerification.php',227],['lib/google/src/Google/Service','Drive.php',1691],['lib/google/src/Google/Service','Drive.php',1961],['lib/google/src/Google/Service','Drive.php',2208],['lib/google/src/Google/Service','Drive.php',2320],['lib/google/src/Google/Service','Drive.php',2370],['lib/google/src/Google/Service','Drive.php',2494],['lib/google/src/Google/Service','Drive.php',2582],['tag/classes/output','tagflag.php',71],['lib/google/src/Google/Service','Proximitybeacon.php',440],['lib/google/src/Google/Service','Groupssettings.php',138],['lib/google/src/Google/Service','Directory.php',1829],['lib/google/src/Google/Service','Directory.php',1889],['lib/google/src/Google/Service','Directory.php',2141],['lib/google/src/Google/Service','Directory.php',2306],['lib/google/src/Google/Service','Directory.php',2489],['lib/google/src/Google/Service','Directory.php',2597],['lib/google/src/Google/Service','Directory.php',2808],['lib/google/src/Google/Service','Directory.php',2910],['lib/google/src/Google/Service','Directory.php',3131],['lib/google/src/Google/Service','Directory.php',3317],['lib/google/src/Google/Service','Fusiontables.php',727],['lib/google/src/Google/Service','Fusiontables.php',892],['lib/google/src/Google/Service','Fusiontables.php',1094],['lib/google/src/Google/Service','Fusiontables.php',1269],['lib/google/src/Google/Service','AdSenseHost.php',846],['lib/google/src/Google/Service','AdSenseHost.php',1097],['course/classes/output','course_module_name.php',81],['lib/google/src/Google/Service','Mirror.php',496],['lib/google/src/Google/Service','Mirror.php',634],['lib/google/src/Google/Service','Mirror.php',745],['tag/classes','area.php',226],['lib/google/src/Google/Service','AndroidEnterprise.php',1064],['lib/google/src/Google/Service','AndroidEnterprise.php',1165],['lib/google/src/Google/Service','AndroidEnterprise.php',1489],['lib/google/src/Google/Service','AndroidEnterprise.php',1672],['grade/grading/form/rubric','lib.php',828],['lib/xhprof/xhprof_html/jquery','jquery.tooltip.js',200],['mod/lesson/pagetypes','essay.php',158],['lib','coursecatlib.php',438],['tag/classes','tag.php',893],['lib/google/src/Google/Service','Calendar.php',1006],['lib/google/src/Google/Service','Calendar.php',1181],['lib/google/src/Google/Service','Calendar.php',1333],['lib/google/src/Google/Service','Calendar.php',1714],['lib/google/src/Google/Service','PlusDomains.php',692],['lib/google/src/Google/Service','GamesConfiguration.php',334],['lib/google/src/Google/Service','GamesConfiguration.php',473],['mod/lesson/pagetypes','branchtable.php',262],['tag/classes/output','tagareashowstandard.php',64],['lib/google/src/Google/Service','AppState.php',202],['calendar','lib.php',2206],['tag/classes/output','tagareaenabled.php',69],['cohort/classes/output','cohortidnumber.php',53],['lib/google/src/Google/Service','Classroom.php',564],['cohort/classes/output','cohortname.php',53],['lib/google/src/Google/Service','SQLAdmin.php',947],['lib/google/src/Google/Service','SQLAdmin.php',1267],['lib/google/src/Google/Service','SQLAdmin.php',1534],['grade/grading/form/guide','lib.php',836],['lib/google/src/Google/Service','Compute.php',4253],['lib/google/src/Google/Service','Compute.php',4398],['lib/google/src/Google/Service','Compute.php',4767],['lib/google/src/Google/Service','Compute.php',5348],['lib/google/src/Google/Service','Compute.php',5478],['lib/google/src/Google/Service','Compute.php',8131],['lib/google/src/Google/Service','YouTube.php',1959],['lib/google/src/Google/Service','YouTube.php',2194],['lib/google/src/Google/Service','YouTube.php',2303],['lib/google/src/Google/Service','YouTube.php',2429],['lib/google/src/Google/Service','YouTube.php',2570],['lib/google/src/Google/Service','YouTube.php',3111],['lib/google/src/Google/Service','YouTube.php',3348],['lib/google/src/Google/Service','YouTube.php',3518],['lib/google/src/Google/Service','YouTube.php',3708],['lib/google/src/Google/Service','YouTube.php',4400],['lib/google/src/Google/Service','Dfareporting.php',4752],['lib/google/src/Google/Service','Dfareporting.php',4840],['lib/google/src/Google/Service','Dfareporting.php',4973],['lib/google/src/Google/Service','Dfareporting.php',5090],['lib/google/src/Google/Service','Dfareporting.php',5204],['lib/google/src/Google/Service','Dfareporting.php',5400],['lib/google/src/Google/Service','Dfareporting.php',5656],['lib/google/src/Google/Service','Dfareporting.php',5848],['lib/google/src/Google/Service','Dfareporting.php',5970],['lib/google/src/Google/Service','Dfareporting.php',6078],['lib/google/src/Google/Service','Dfareporting.php',6196],['lib/google/src/Google/Service','Dfareporting.php',6502],['lib/google/src/Google/Service','Dfareporting.php',6704],['lib/google/src/Google/Service','Dfareporting.php',6834],['lib/google/src/Google/Service','Dfareporting.php',6912],['lib/google/src/Google/Service','Dfareporting.php',7077],['lib/google/src/Google/Service','Dfareporting.php',7476],['lib/google/src/Google/Service','Dfareporting.php',7594],['lib/google/src/Google/Service','Dfareporting.php',7744],['lib/google/src/Google/Service','Dfareporting.php',7968],['lib/google/src/Google/Service','Dfareporting.php',8075],['lib/google/src/Google/Service','Dfareporting.php',8202],['lib/google/src/Google/Service','Dfareporting.php',8394],['lib/google/src/Google/Service','Dfareporting.php',8557],['lib/google/src/Google/Service','Dfareporting.php',8861],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',72]], 498],
'replace': ['replace', '', [['lib/editor/tinymce/tiny_mce/3.5.11/plugins/searchreplace/js','searchreplace.js',70],['lib/google/src/Google/Utils','URITemplate.php',83],['lib/adodb','adodb-active-record.inc.php',928],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',61],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',2448],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',49],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',55],['lib/adodb','adodb.inc.php',1853],['lib/adodb','adodb-active-recordx.inc.php',1061],['lib/phpexcel/PHPExcel/Calculation','TextData.php',503],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',70],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',34],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',48],['lib/lessphp','Functions.php',492]], 3264],
'setattribute': ['setattribute', '', [['lib/google/src/Google/Service','AdExchangeBuyer.php',2531],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',254]], 1664],
'show': ['show', '', [['lib/xhprof/xhprof_html/jquery','jquery.tooltip.js',187],['lib/jquery/ui-1.11.4','jquery-ui.js',13476],['lib','coursecatlib.php',2127]], 582],
'item': ['item', 'A managed course. ', [['course/yui/src/management/js','item.js',1],['course/yui/build/moodle-course-management','moodle-course-management.js',854],['course/yui/build/moodle-course-management','moodle-course-management-debug.js',864]], 874],
'addchild': ['addchild', 'Add a child. This will be either spgrContainer or spContainer ', [['lib/phpexcel/PHPExcel/Shared/Escher/DgContainer','SpgrContainer.php',64]], 50],
'number': ['number', '', [['lib/lessphp','Functions.php',49],['question/engine','renderer.php',152]], 316],
'create': ['create', 'Auto-scan an incoming line to determine the response type. ', [['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',65],['lib/google/src/Google/Service','Partners.php',492],['lib/simplepie/library/SimplePie','Cache.php',95],['lib/google/src/Google/Service','YouTubeReporting.php',237],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',81],['lib/google/src/Google/Service','MapsEngine.php',1677],['lib/google/src/Google/Service','MapsEngine.php',1977],['lib/google/src/Google/Service','MapsEngine.php',2253],['lib/google/src/Google/Service','MapsEngine.php',2330],['lib/google/src/Google/Service','MapsEngine.php',2898],['lib/spout/src/Spout/Writer','WriterFactory.php',18],['lib/google/src/Google/Service','Dns.php',290],['lib/google/src/Google/Service','Dns.php',363],['lib/google/src/Google/Service','Appengine.php',438],['tag/classes','collection.php',188],['lib/adodb','adodb-xmlschema.inc.php',152],['lib/adodb','adodb-xmlschema.inc.php',473],['lib/adodb','adodb-xmlschema.inc.php',738],['lib/adodb','adodb-xmlschema.inc.php',884],['lib/adodb','adodb-xmlschema.inc.php',1129],['mod/quiz','attemptlib.php',100],['mod/quiz','attemptlib.php',596],['lib','weblib.php',3206],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',58],['lib/google/src/Google/Service','Dataflow.php',273],['lib/simplepie/library/SimplePie','Registry.php',153],['competency/classes','persistent.php',387],['lib/google/src/Google/Service','Cloudresourcemanager.php',373],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',270],['lib/google/src/Google/Service','TagManager.php',1007],['lib/google/src/Google/Service','TagManager.php',1097],['lib/google/src/Google/Service','TagManager.php',1249],['lib/google/src/Google/Service','TagManager.php',1342],['lib/google/src/Google/Service','TagManager.php',1436],['lib/google/src/Google/Service','TagManager.php',1530],['lib/google/src/Google/Service','TagManager.php',1681],['mod/lesson','locallib.php',1011],['mod/lesson','locallib.php',2163],['mod/lesson','locallib.php',3212],['lib','modinfolib.php',1732],['repository','lib.php',206],['repository','lib.php',1910],['lib','navigationlib.php',268],['lib/htmlpurifier/HTMLPurifier','Config.php',114],['lib/google/src/Google/Service','Container.php',284],['lib/google/src/Google/Service','Genomics.php',632],['lib/google/src/Google/Service','Genomics.php',721],['lib/google/src/Google/Service','Genomics.php',1312],['lib/google/src/Google/Service','Genomics.php',1427],['lib/google/src/Google/Service','Games.php',1649],['lib/google/src/Google/Service','Games.php',2013],['lib/google/src/Google/Service','Fitness.php',377],['lib/google/src/Google/Service','Gmail.php',747],['lib/google/src/Google/Service','Gmail.php',905],['mod/quiz/classes','structure.php',65],['lib/htmlpurifier/HTMLPurifier','ElementDef.php',135],['lib/adodb','adodb-xmlschema03.inc.php',170],['lib/adodb','adodb-xmlschema03.inc.php',514],['lib/adodb','adodb-xmlschema03.inc.php',779],['lib/adodb','adodb-xmlschema03.inc.php',930],['lib/adodb','adodb-xmlschema03.inc.php',1228],['lib/google/src/Google/Service','Proximitybeacon.php',500],['tag/classes','area.php',205],['course','lib.php',3003],['question/type/ddmarker','shapes.php',170],['lib/classes/event','base.php',149],['lib','coursecatlib.php',325],['repository/filesystem','lib.php',498],['lib/google/src/Google/Service','Storagetransfer.php',281],['calendar','lib.php',2686],['lib/htmlpurifier/HTMLPurifier','Lexer.php',53],['lib/google/src/Google/Service','Classroom.php',445],['lib/google/src/Google/Service','Classroom.php',596],['lib/google/src/Google/Service','Classroom.php',673],['lib/google/src/Google/Service','Classroom.php',783],['lib/google/src/Google/Service','Classroom.php',912],['lib/spout/src/Spout/Reader','ReaderFactory.php',18],['lib/google/src/Google/Service','Pubsub.php',220],['lib/google/src/Google/Service','Pubsub.php',365],['lib/google/src/Google/Service','CloudMonitoring.php',258]], 3276],
'addclass': ['addclass', '', [['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',4450],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',4450],['lib/editor/atto/yui/src/rangy/js','rangy-classapplier.js',60]], 2581],
'insert': ['insert', 'Inserts a data transfer request. (transfers.insert) ', [['lib/google/src/Google/Service','DataTransfer.php',223],['lib/grade','grade_item.php',427],['lib/google/src/Google/Service','Replicapool.php',438],['lib/google/src/Google/Service','Tasks.php',337],['lib/google/src/Google/Service','Tasks.php',457],['lib/google/src/Google/Service','AndroidPublisher.php',1264],['lib/google/src/Google/Service','AndroidPublisher.php',2113],['lib/google/src/Google/Service','Reseller.php',310],['lib/google/src/Google/Service','Reseller.php',474],['lib/google/src/Google/Service','Computeaccounts.php',527],['lib/google/src/Google/Service','Computeaccounts.php',698],['lib/grade','grade_category.php',340],['lib/grade','grade_scale.php',111],['lib/adodb','adodb-active-record.inc.php',848],['lib/grade','grade_object.php',325],['lib/google/src/Google/Service','YouTubeAnalytics.php',379],['lib/google/src/Google/Service','YouTubeAnalytics.php',474],['lib/google/src/Google/Service','Admin.php',88],['lib/google/src/Google/Service','MapsEngine.php',2781],['lib/google/src/Google/Service','MapsEngine.php',3185],['completion','data_object.php',317],['lib/google/src/Google/Service','Urlshortener.php',125],['lib/google/src/Google/Service','AdExchangeBuyer.php',967],['lib/google/src/Google/Service','AdExchangeBuyer.php',1057],['lib/google/src/Google/Service','AdExchangeBuyer.php',1152],['lib/google/src/Google/Service','AdExchangeBuyer.php',1209],['lib/google/src/Google/Service','AdExchangeBuyer.php',1307],['lib/google/src/Google/Service','AdExchangeBuyer.php',1389],['lib/google/src/Google/Service','AdExchangeBuyer.php',1431],['lib/google/src/Google/Service','AdExchangeBuyer.php',1485],['lib/google/src/Google/Service','AdExchangeBuyer.php',1591],['lib/google/src/Google/Service','Books.php',1961],['lib/grade','grade_grade.php',997],['lib/grade','grade_outcome.php',120],['lib/google/src/Google/Service','Analytics.php',2179],['lib/google/src/Google/Service','Analytics.php',2325],['lib/google/src/Google/Service','Analytics.php',2439],['lib/google/src/Google/Service','Analytics.php',2567],['lib/google/src/Google/Service','Analytics.php',2685],['lib/google/src/Google/Service','Analytics.php',2780],['lib/google/src/Google/Service','Analytics.php',2907],['lib/google/src/Google/Service','Analytics.php',3017],['lib/google/src/Google/Service','Analytics.php',3124],['lib/google/src/Google/Service','Analytics.php',3263],['lib/google/src/Google/Service','Analytics.php',3441],['lib/google/src/Google/Service','Analytics.php',3548],['lib/google/src/Google/Service','Analytics.php',3646],['lib/google/src/Google/Service','Coordinate.php',524],['lib/google/src/Google/Service','DeploymentManager.php',483],['lib/google/src/Google/Service','Blogger.php',1258],['lib/google/src/Google/Service','Blogger.php',1510],['lib/google/src/Google/Service','CloudUserAccounts.php',674],['lib/google/src/Google/Service','CloudUserAccounts.php',939],['lib/google/src/Google/Service','Replicapoolupdater.php',355],['lib/google/src/Google/Service','Bigquery.php',567],['lib/google/src/Google/Service','Bigquery.php',709],['lib/google/src/Google/Service','Bigquery.php',897],['lib/google/src/Google/Service','ShoppingContent.php',1081],['lib/google/src/Google/Service','ShoppingContent.php',1479],['lib/google/src/Google/Service','ShoppingContent.php',2001],['lib/google/src/Google/Service','GroupsMigration.php',88],['lib/google/src/Google/Service','Storage.php',1077],['lib/google/src/Google/Service','Storage.php',1197],['lib/google/src/Google/Service','Storage.php',1367],['lib/google/src/Google/Service','Storage.php',1499],['lib/google/src/Google/Service','Storage.php',1737],['lib/google/src/Google/Service','Licensing.php',256],['lib/google/src/Google/Service','Gmail.php',1078],['lib/google/src/Google/Service','Taskqueue.php',324],['lib/adodb','adodb-active-recordx.inc.php',963],['lib/google/src/Google/Service','Doubleclicksearch.php',286],['lib/google/src/Google/Service','Autoscaler.php',347],['lib/google/src/Google/Service','Prediction.php',291],['lib/google/src/Google/Service','SiteVerification.php',181],['lib/google/src/Google/Service','Drive.php',1551],['lib/google/src/Google/Service','Drive.php',1635],['lib/google/src/Google/Service','Drive.php',1816],['lib/google/src/Google/Service','Drive.php',2069],['lib/google/src/Google/Service','Drive.php',2153],['lib/google/src/Google/Service','Drive.php',2273],['lib/google/src/Google/Service','Drive.php',2437],['lib/google/src/Google/Service','Directory.php',1945],['lib/google/src/Google/Service','Directory.php',2018],['lib/google/src/Google/Service','Directory.php',2086],['lib/google/src/Google/Service','Directory.php',2183],['lib/google/src/Google/Service','Directory.php',2253],['lib/google/src/Google/Service','Directory.php',2546],['lib/google/src/Google/Service','Directory.php',2681],['lib/google/src/Google/Service','Directory.php',2760],['lib/google/src/Google/Service','Directory.php',2865],['lib/google/src/Google/Service','Directory.php',3033],['lib/google/src/Google/Service','Directory.php',3213],['lib/google/src/Google/Service','Fusiontables.php',675],['lib/google/src/Google/Service','Fusiontables.php',841],['lib/google/src/Google/Service','Fusiontables.php',1011],['lib/google/src/Google/Service','Fusiontables.php',1217],['lib/google/src/Google/Service','AdSenseHost.php',787],['lib/google/src/Google/Service','AdSenseHost.php',1042],['lib/google/src/Google/Service','AdSenseHost.php',1183],['lib/google/src/Google/Service','Plus.php',466],['lib/google/src/Google/Service','Mirror.php',394],['lib/google/src/Google/Service','Mirror.php',452],['lib/google/src/Google/Service','Mirror.php',606],['lib/google/src/Google/Service','Mirror.php',688],['lib/google/src/Google/Service','Mirror.php',802],['lib/google/src/Google/Service','AndroidEnterprise.php',1017],['lib/google/src/Google/Service','AndroidEnterprise.php',1326],['lib/google/src/Google/Service','Calendar.php',936],['lib/google/src/Google/Service','Calendar.php',1102],['lib/google/src/Google/Service','Calendar.php',1301],['lib/google/src/Google/Service','Calendar.php',1481],['lib/google/src/Google/Service','PlusDomains.php',482],['lib/google/src/Google/Service','PlusDomains.php',607],['lib/google/src/Google/Service','PlusDomains.php',733],['lib/google/src/Google/Service','PlusDomains.php',782],['lib/google/src/Google/Service','GamesConfiguration.php',280],['lib/google/src/Google/Service','GamesConfiguration.php',419],['lib/google/src/Google/Service','Resourceviews.php',475],['lib/google/src/Google/Service','SQLAdmin.php',892],['lib/google/src/Google/Service','SQLAdmin.php',1111],['lib/google/src/Google/Service','SQLAdmin.php',1406],['lib/google/src/Google/Service','SQLAdmin.php',1501],['lib/google/src/Google/Service','Compute.php',4053],['lib/google/src/Google/Service','Compute.php',4183],['lib/google/src/Google/Service','Compute.php',4332],['lib/google/src/Google/Service','Compute.php',4606],['lib/google/src/Google/Service','Compute.php',4701],['lib/google/src/Google/Service','Compute.php',4861],['lib/google/src/Google/Service','Compute.php',4972],['lib/google/src/Google/Service','Compute.php',5063],['lib/google/src/Google/Service','Compute.php',5280],['lib/google/src/Google/Service','Compute.php',5410],['lib/google/src/Google/Service','Compute.php',5557],['lib/google/src/Google/Service','Compute.php',5744],['lib/google/src/Google/Service','Compute.php',6017],['lib/google/src/Google/Service','Compute.php',6186],['lib/google/src/Google/Service','Compute.php',6404],['lib/google/src/Google/Service','Compute.php',6747],['lib/google/src/Google/Service','Compute.php',7067],['lib/google/src/Google/Service','Compute.php',7238],['lib/google/src/Google/Service','Compute.php',7331],['lib/google/src/Google/Service','Compute.php',7441],['lib/google/src/Google/Service','Compute.php',7602],['lib/google/src/Google/Service','Compute.php',7785],['lib/google/src/Google/Service','Compute.php',7972],['lib/google/src/Google/Service','Compute.php',8065],['lib/google/src/Google/Service','Compute.php',8242],['lib/google/src/Google/Service','YouTube.php',1715],['lib/google/src/Google/Service','YouTube.php',1881],['lib/google/src/Google/Service','YouTube.php',2014],['lib/google/src/Google/Service','YouTube.php',2089],['lib/google/src/Google/Service','YouTube.php',2351],['lib/google/src/Google/Service','YouTube.php',2473],['lib/google/src/Google/Service','YouTube.php',2935],['lib/google/src/Google/Service','YouTube.php',3233],['lib/google/src/Google/Service','YouTube.php',3434],['lib/google/src/Google/Service','YouTube.php',3587],['lib/google/src/Google/Service','YouTube.php',3943],['lib/google/src/Google/Service','YouTube.php',4216],['lib/google/src/Google/Service','Dfareporting.php',4686],['lib/google/src/Google/Service','Dfareporting.php',4882],['lib/google/src/Google/Service','Dfareporting.php',5029],['lib/google/src/Google/Service','Dfareporting.php',5132],['lib/google/src/Google/Service','Dfareporting.php',5257],['lib/google/src/Google/Service','Dfareporting.php',5323],['lib/google/src/Google/Service','Dfareporting.php',5595],['lib/google/src/Google/Service','Dfareporting.php',5724],['lib/google/src/Google/Service','Dfareporting.php',5786],['lib/google/src/Google/Service','Dfareporting.php',5906],['lib/google/src/Google/Service','Dfareporting.php',6012],['lib/google/src/Google/Service','Dfareporting.php',6120],['lib/google/src/Google/Service','Dfareporting.php',6329],['lib/google/src/Google/Service','Dfareporting.php',6426],['lib/google/src/Google/Service','Dfareporting.php',6624],['lib/google/src/Google/Service','Dfareporting.php',6761],['lib/google/src/Google/Service','Dfareporting.php',7027],['lib/google/src/Google/Service','Dfareporting.php',7393],['lib/google/src/Google/Service','Dfareporting.php',7532],['lib/google/src/Google/Service','Dfareporting.php',7655],['lib/google/src/Google/Service','Dfareporting.php',8010],['lib/google/src/Google/Service','Dfareporting.php',8131],['lib/google/src/Google/Service','Dfareporting.php',8322],['lib/google/src/Google/Service','Dfareporting.php',8436],['lib/google/src/Google/Service','Dfareporting.php',8497],['lib/google/src/Google/Service','Dfareporting.php',8797],['lib/google/src/Google/Service','Manager.php',275],['lib/google/src/Google/Service','Manager.php',353]], 481],
'destroy': ['destroy', 'Destroys a variable in the context. ', [['lib/htmlpurifier/HTMLPurifier','Context.php',57],['backup/util/settings','base_setting.class.php',125],['backup/converter','convertlib.php',255],['lib/adodb','adodb-xmlschema.inc.php',156],['lib/adodb','adodb-xmlschema.inc.php',2190],['backup/util/ui','backup_ui_setting.class.php',78],['backup/util/ui','base_ui.class.php',97],['backup/util/structure','base_final_element.class.php',53],['backup/util/plan','backup_plan.class.php',51],['backup/util/settings','setting_dependency.class.php',81],['backup/util/loggers','base_logger.class.php',74],['lib/adodb','adodb-xmlschema03.inc.php',174],['lib/adodb','adodb-xmlschema03.inc.php',2372],['backup/util/plan','base_plan.class.php',192],['backup/util/plan','restore_plan.class.php',62],['backup/controller','backup_controller.class.php',146],['backup/util/structure','base_nested_element.class.php',62],['repository/flickr_public','image.php',65],['backup/util/plan','base_step.class.php',60],['backup/util/ui','restore_ui_stage.class.php',208],['backup/controller','restore_controller.class.php',158],['backup/util/plan','base_task.class.php',199]], 504],
'set': ['set', 'Sets an item in the cache given its key and data value. ', [['cache/stores/static','lib.php',265],['cache','disabledlib.php',81],['search/classes','document.php',241],['lib/phpexcel/PHPExcel/Shared/JAMA','Matrix.php',331],['lib/google/src/Google/Cache','Memcache.php',113],['lib','filelib.php',3656],['lib/adodb','adodb-active-record.inc.php',646],['lib/htmlpurifier/HTMLPurifier','AttrTypes.php',85],['lib/google/src/Google/Cache','File.php',93],['cache/classes','dummystore.php',170],['cache/classes','loaders.php',496],['cache/classes','loaders.php',1350],['cache/classes','loaders.php',1797],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Memory.php',47],['lib/horde/framework/Horde','Variables.php',189],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Template.php.in',39],['competency/classes','persistent.php',111],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Cache.php',203],['lib/htmlpurifier/HTMLPurifier','PropertyList.php',51],['lib/htmlpurifier/HTMLPurifier/DefinitionCache/Decorator','Cleanup.php',41],['lib/google/src/Google/Service','ShoppingContent.php',1643],['lib','navigationlib.php',5131],['lib/google/src/Google/Service','Clouddebugger.php',445],['lib/htmlpurifier/HTMLPurifier','Config.php',289],['lib/portfolio','exporter.php',154],['grade/report/singleview/classes/local/ui','finalgrade.php',129],['cache/stores/memcache','lib.php',358],['lib/adodb','adodb-active-recordx.inc.php',676],['cache/classes','interfaces.php',68],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Mongo.php',167],['lib/horde/framework/Horde/Imap/Client','Cache.php',127],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',60],['grade/report/singleview/classes/local/ui','exclude.php',90],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',24],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Db.php',114],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Null.php',41],['lib/portfolio','caller.php',187],['cache/stores/session','lib.php',290],['cache/stores/mongodb','lib.php',305],['lib/google/src/Google/Cache','Null.php',44],['grade/report/singleview/classes/local/ui','override.php',95],['cache/stores/file','lib.php',426],['lib/phpmailer','class.phpmailer.php',3554],['grade/report/singleview/classes/local/ui','feedback.php',102],['cache/stores/memcached','lib.php',354],['lib/portfolio','plugin.php',647],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',31],['lib/google/src/Google/Service','YouTube.php',4048],['lib/google/src/Google/Service','YouTube.php',4458],['lib/google/src/Google/Cache','Apc.php',82],['lib/horde/framework/Horde/Imap/Client/Cache/Backend','Hashtable.php',162],['lib/pear/Net/GeoIP','Location.php',125]], 4904],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'removechild': ['removechild', '', [['lib/yuilib/2in3/2.9.0/build/yui2-button','yui2-button.js',2602],['lib/yuilib/2in3/2.9.0/build/yui2-button','yui2-button-debug.js',2625]], 642],
'remove': ['remove', 'Remove HashTable item ', [['lib/phpexcel/PHPExcel','HashTable.php',93],['lib/horde/framework/Horde/Mail/Rfc822','List.php',128],['lib/htmlpurifier/HTMLPurifier/Strategy','MakeWellFormed.php',590],['lib/horde/framework/Horde/Support','ConsistentHash.php',184],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',17045],['lib/horde/framework/Horde','Variables.php',238],['lib','navigationlib.php',398],['lib','navigationlib.php',915],['lib/horde/framework/Horde/Imap/Client','Ids.php',187],['lib/google/src/Google/Service','Games.php',1494],['lib/mustache/src/Mustache','HelperCollection.php',137],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Decorator.php',88],['lib/jquery','jquery-3.1.0.js',5683],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Null.php',43],['lib/google/src/Google/Service','PlusDomains.php',661],['lib/horde/framework/Horde/Imap/Client/Fetch','Query.php',271],['lib/htmlpurifier/HTMLPurifier/DefinitionCache','Serializer.php',80],['lib/horde/framework/Horde/Imap/Client/Ids','Map.php',121]], 1103],
'push': ['push', 'Push a new timer start on the stack. ', [['lib/horde/framework/Horde/Support','Timer.php',33],['lib/horde/framework/Horde/Support','Memory.php',44],['lib/evalmath','evalmath.class.php',462],['lib/horde/framework/Horde/Support','Stack.php',23],['lib/phpexcel/PHPExcel/CalcEngine','CyclicReferenceStack.php',47],['lib/mustache/src/Mustache','Context.php',32],['lib','outputlib.php',2046],['lib/htmlpurifier/HTMLPurifier','Queue.php',43],['lib/phpexcel/PHPExcel/Calculation/Token','Stack.php',54]], 4478],
'each': ['each', '', [], 2670],
'next': ['next', '', [], 624]};
CLASS_DATA={
};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
