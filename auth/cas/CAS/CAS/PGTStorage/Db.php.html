<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of Db.php</title>
    <link rel="stylesheet" href="../../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../../';
subdir='auth/cas/CAS/CAS/PGTStorage';
filename='Db.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/auth/cas/CAS/CAS/PGTStorage/</a> -> <a href="Db.php.source.html">Db.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="Db.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../../../../../_stats.html">Project Stats</a>]</p>
<p><b>Licensed to Jasig under one or more contributor license agreements. See the NOTICE file distributed with this work for additional information regarding copyright ownership. Jasig licenses this file to you under the Apache License, Version 2.0 (the &quot;License&quot;); you may not use this file except in compliance with the License. You may obtain a copy of the License at:</b></p>
<table>
<tr><td align="right">Author: </td><td>Daniel Frett <<a href="mailto:daniel.frett@gmail.com">daniel.frett@gmail.com</a>></td></tr>
<tr><td align="right">License: </td><td><a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">http://www.apache.org/licenses/LICENSE-2.0</a>  Apache License 2.0</td></tr>
<tr><td align="right">File Size: </td><td>440 lines (13 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 1 class</h3>
<div class="inset">
<p><b>CAS_PGTStorage_Db::</b> (15 methods):<br>
&nbsp;&nbsp;<a href="#_getpdo">_getPdo</a>()<br>
&nbsp;&nbsp;<a href="#_gettable">_getTable</a>()<br>
&nbsp;&nbsp;<a href="#getstoragetype">getStorageType</a>()<br>
&nbsp;&nbsp;<a href="#getstorageinfo">getStorageInfo</a>()<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#init">init</a>()<br>
&nbsp;&nbsp;<a href="#_seterrormode">_setErrorMode</a>()<br>
&nbsp;&nbsp;<a href="#_reseterrormode">_resetErrorMode</a>()<br>
&nbsp;&nbsp;<a href="#createtablesql">createTableSql</a>()<br>
&nbsp;&nbsp;<a href="#storepgtsql">storePgtSql</a>()<br>
&nbsp;&nbsp;<a href="#retrievepgtsql">retrievePgtSql</a>()<br>
&nbsp;&nbsp;<a href="#deletepgtsql">deletePgtSql</a>()<br>
&nbsp;&nbsp;<a href="#createtable">createTable</a>()<br>
&nbsp;&nbsp;<a href="#write">write</a>()<br>
&nbsp;&nbsp;<a href="#read">read</a>()<br>
</p>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="cas_pgtstorage_db"><b>CAS_PGTStorage_Db</b></a>&nbsp;&nbsp;- <a href="../../../../../_classes/cas_pgtstorage_db.html"><small>X-Ref</small></a>
</p>
<b>Basic class for PGT database storage<BR>
The CAS_PGTStorage_Db class is a class for PGT database storage.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="_getpdo" onClick="logFunction('_getpdo', 'Db.php.source.html#l58')" href="Db.php.source.html#l58">_getPdo</a>()&nbsp;&nbsp;
<a href="../../../../../_functions/_getpdo.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method returns the PDO object to use for database interactions.<BR>
</b><BR><b>return:</b> the PDO object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="_gettable" onClick="logFunction('_gettable', 'Db.php.source.html#l81')" href="Db.php.source.html#l81">_getTable</a>()&nbsp;&nbsp;
<a href="../../../../../_functions/_gettable.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method returns the table to use when storing/retrieving PGT's<BR>
</b><BR><b>return:</b> the name of the pgt storage table.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getstoragetype" onClick="logFunction('getstoragetype', 'Db.php.source.html#l95')" href="Db.php.source.html#l95">getStorageType</a>()&nbsp;&nbsp;
<a href="../../../../../_functions/getstoragetype.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method returns an informational string giving the type of storage<BR>
used by the object (used for debugging purposes).<BR>
</b><BR><b>return:</b> an informational string.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getstorageinfo" onClick="logFunction('getstorageinfo', 'Db.php.source.html#l106')" href="Db.php.source.html#l106">getStorageInfo</a>()&nbsp;&nbsp;
<a href="../../../../../_functions/getstorageinfo.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method returns an informational string giving informations on the<BR>
parameters of the storage.(used for debugging purposes).<BR>
</b><BR><b>return:</b> an informational string.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'Db.php.source.html#l122')" href="Db.php.source.html#l122">__construct</a>(<a href="../../../../../_variables/cas_parent.html">$cas_parent</a>, <a href="../../../../../_variables/dsn_or_pdo.html">$dsn_or_pdo</a>, <a href="../../../../../_variables/username.html">$username</a>='', <a href="../../../../../_variables/password.html">$password</a>='', <a href="../../../../../_variables/table.html">$table</a>='',<a href="../../../../../_variables/driver_options.html">$driver_options</a>=null)&nbsp;&nbsp;
<a href="../../../../../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>The class constructor.<BR>
</b><BR><b>param:</b> CAS_Client $cas_parent&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the CAS_Client instance that creates<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$dsn_or_pdo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a dsn string to use for creating a PDO<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$username&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the username to use when connecting to<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$password&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the password to use when connecting to<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$table&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the table to use for storing and<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$driver_options any driver options to use when<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="init" onClick="logFunction('init', 'Db.php.source.html#l174')" href="Db.php.source.html#l174">init</a>()&nbsp;&nbsp;
<a href="../../../../../_functions/init.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method is used to initialize the storage. Halts on error.<BR>
</b><BR><b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="_seterrormode" onClick="logFunction('_seterrormode', 'Db.php.source.html#l216')" href="Db.php.source.html#l216">_setErrorMode</a>()&nbsp;&nbsp;
<a href="../../../../../_functions/_seterrormode.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method will enable the Exception error mode on the PDO object<BR>
</b><BR><b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="_reseterrormode" onClick="logFunction('_reseterrormode', 'Db.php.source.html#l229')" href="Db.php.source.html#l229">_resetErrorMode</a>()&nbsp;&nbsp;
<a href="../../../../../_functions/_reseterrormode.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>this method will reset the error mode on the PDO object<BR>
</b><BR><b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="createtablesql" onClick="logFunction('createtablesql', 'Db.php.source.html#l248')" href="Db.php.source.html#l248">createTableSql</a>()&nbsp;&nbsp;
<a href="../../../../../_functions/createtablesql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method returns the query used to create a pgt storage table<BR>
</b><BR><b>return:</b> the create table SQL, no bind params in query<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="storepgtsql" onClick="logFunction('storepgtsql', 'Db.php.source.html#l259')" href="Db.php.source.html#l259">storePgtSql</a>()&nbsp;&nbsp;
<a href="../../../../../_functions/storepgtsql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method returns the query used to store a pgt<BR>
</b><BR><b>return:</b> the store PGT SQL, :pgt and :pgt_iou are the bind params contained<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="retrievepgtsql" onClick="logFunction('retrievepgtsql', 'Db.php.source.html#l271')" href="Db.php.source.html#l271">retrievePgtSql</a>()&nbsp;&nbsp;
<a href="../../../../../_functions/retrievepgtsql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method returns the query used to retrieve a pgt. the first column<BR>
of the first row should contain the pgt<BR>
</b><BR><b>return:</b> the retrieve PGT SQL, :pgt_iou is the only bind param contained<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="deletepgtsql" onClick="logFunction('deletepgtsql', 'Db.php.source.html#l283')" href="Db.php.source.html#l283">deletePgtSql</a>()&nbsp;&nbsp;
<a href="../../../../../_functions/deletepgtsql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method returns the query used to delete a pgt.<BR>
</b><BR><b>return:</b> the delete PGT SQL, :pgt_iou is the only bind param contained in<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="createtable" onClick="logFunction('createtable', 'Db.php.source.html#l298')" href="Db.php.source.html#l298">createTable</a>()&nbsp;&nbsp;
<a href="../../../../../_functions/createtable.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method creates the database table used to store pgt's and pgtiou's<BR>
</b><BR><b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="write" onClick="logFunction('write', 'Db.php.source.html#l340')" href="Db.php.source.html#l340">write</a>(<a href="../../../../../_variables/pgt.html">$pgt</a>, <a href="../../../../../_variables/pgt_iou.html">$pgt_iou</a>)&nbsp;&nbsp;
<a href="../../../../../_functions/write.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method stores a PGT and its corresponding PGT Iou in the database.<BR>
Echoes a warning on error.<BR>
</b><BR><b>param:</b> string $pgt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the PGT<br>
<b>param:</b> string $pgt_iou the PGT iou<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="read" onClick="logFunction('read', 'Db.php.source.html#l384')" href="Db.php.source.html#l384">read</a>(<a href="../../../../../_variables/pgt_iou.html">$pgt_iou</a>)&nbsp;&nbsp;
<a href="../../../../../_functions/read.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>This method reads a PGT corresponding to a PGT Iou and deletes the<BR>
corresponding db entry.<BR>
</b><BR><b>param:</b> string $pgt_iou the PGT iou<br>
<b>return:</b> the corresponding PGT, or FALSE on error<br>
</td></tr></table>

<br>
</div>
</div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
