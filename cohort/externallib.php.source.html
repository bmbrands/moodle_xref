<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /cohort/externallib.php source</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='cohort';
filename='externallib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/cohort/</a> -> <a href="externallib.php.html">externallib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="externallib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="externallib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * External cohort API</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    core_cohort</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @category   external</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  MediaTouch 2000 srl</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/libdir.html">libdir</a>/externallib.php&quot;);
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_cohort_external')" href="../_classes/core_cohort_external.html" onMouseOver="classPopup(event,'core_cohort_external')">core_cohort_external</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('external_api')" href="../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a> {
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>      <span class="comment">/**</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">     *</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment">     */</span>
<a name="l36"><span class="linenum">  36</span></a>      public static function <a class="function" onClick="logFunction('create_cohorts_parameters')" href="../_functions/create_cohorts_parameters.html" onMouseOver="funcPopup(event,'create_cohorts_parameters')">create_cohorts_parameters</a>() {
<a name="l37"><span class="linenum">  37</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l38"><span class="linenum">  38</span></a>              array(
<a name="l39"><span class="linenum">  39</span></a>                  'cohorts' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l40"><span class="linenum">  40</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l41"><span class="linenum">  41</span></a>                          array(
<a name="l42"><span class="linenum">  42</span></a>                              'categorytype' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l43"><span class="linenum">  43</span></a>                                  array(
<a name="l44"><span class="linenum">  44</span></a>                                      'type' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'the name of the field: <a class="function" onClick="logFunction('id')" href="../_functions/id.html" onMouseOver="funcPopup(event,'id')">id</a> (numeric value
<a name="l45"><span class="linenum">  45</span></a>                                          of course category id) or idnumber (alphanumeric value of idnumber course category)
<a name="l46"><span class="linenum">  46</span></a>                                          or <a class="phpfunction" onClick="logFunction('system')" href="../_functions/system.html" onMouseOver="phpfuncPopup(event,'system')">system</a> (value ignored)'),
<a name="l47"><span class="linenum">  47</span></a>                                      'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'the value of the categorytype')
<a name="l48"><span class="linenum">  48</span></a>                                  )
<a name="l49"><span class="linenum">  49</span></a>                              ),
<a name="l50"><span class="linenum">  50</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'cohort name'),
<a name="l51"><span class="linenum">  51</span></a>                              'idnumber' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'cohort idnumber'),
<a name="l52"><span class="linenum">  52</span></a>                              'description' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'cohort description', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l53"><span class="linenum">  53</span></a>                              'descriptionformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>('description', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>),
<a name="l54"><span class="linenum">  54</span></a>                              'visible' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'cohort visible', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>, true),
<a name="l55"><span class="linenum">  55</span></a>                          )
<a name="l56"><span class="linenum">  56</span></a>                      )
<a name="l57"><span class="linenum">  57</span></a>                  )
<a name="l58"><span class="linenum">  58</span></a>              )
<a name="l59"><span class="linenum">  59</span></a>          );
<a name="l60"><span class="linenum">  60</span></a>      }
<a name="l61"><span class="linenum">  61</span></a>  
<a name="l62"><span class="linenum">  62</span></a>      <span class="comment">/**</span>
<a name="l63"><span class="linenum">  63</span></a>  <span class="comment">     * Create one or more cohorts</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">     *</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     * @param array $cohorts An array of cohorts to create.</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     * @return array An array of arrays</span>
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">     */</span>
<a name="l69"><span class="linenum">  69</span></a>      public static function <a class="function" onClick="logFunction('create_cohorts')" href="../_functions/create_cohorts.html" onMouseOver="funcPopup(event,'create_cohorts')">create_cohorts</a>(<a class="var it7781" onMouseOver="hilite(7781)" onMouseOut="lolite()" onClick="logVariable('cohorts')" href="../_variables/cohorts.html">$cohorts</a>) {
<a name="l70"><span class="linenum">  70</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l71"><span class="linenum">  71</span></a>          require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>/cohort/lib.php&quot;);
<a name="l72"><span class="linenum">  72</span></a>  
<a name="l73"><span class="linenum">  73</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('create_cohorts_parameters')" href="../_functions/create_cohorts_parameters.html" onMouseOver="funcPopup(event,'create_cohorts_parameters')">create_cohorts_parameters</a>(), array('cohorts' =&gt; <a class="var it7781" onMouseOver="hilite(7781)" onMouseOut="lolite()" onClick="logVariable('cohorts')" href="../_variables/cohorts.html">$cohorts</a>));
<a name="l74"><span class="linenum">  74</span></a>  
<a name="l75"><span class="linenum">  75</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('start_delegated_transaction')" href="../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>();
<a name="l76"><span class="linenum">  76</span></a>  
<a name="l77"><span class="linenum">  77</span></a>          <a class="var it832" onMouseOver="hilite(832)" onMouseOut="lolite()" onClick="logVariable('syscontext')" href="../_variables/syscontext.html">$syscontext</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l78"><span class="linenum">  78</span></a>          <a class="var it32463" onMouseOver="hilite(32463)" onMouseOut="lolite()" onClick="logVariable('cohortids')" href="../_variables/cohortids.html">$cohortids</a> = array();
<a name="l79"><span class="linenum">  79</span></a>  
<a name="l80"><span class="linenum">  80</span></a>          foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['cohorts'] as <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>) {
<a name="l81"><span class="linenum">  81</span></a>              <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a> = (object)<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>;
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">            // Category type (context id).</span>
<a name="l84"><span class="linenum">  84</span></a>              <a class="var it39237" onMouseOver="hilite(39237)" onMouseOut="lolite()" onClick="logVariable('categorytype')" href="../_variables/categorytype.html">$categorytype</a> = <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('categorytype')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/categorytype.html">categorytype</a>;
<a name="l85"><span class="linenum">  85</span></a>              if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it39237" onMouseOver="hilite(39237)" onMouseOut="lolite()" onClick="logVariable('categorytype')" href="../_variables/categorytype.html">$categorytype</a>['type'], array('idnumber', 'id', 'system'))) {
<a name="l86"><span class="linenum">  86</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('category type must be id, idnumber or system:' . <a class="var it39237" onMouseOver="hilite(39237)" onMouseOut="lolite()" onClick="logVariable('categorytype')" href="../_variables/categorytype.html">$categorytype</a>['type']);
<a name="l87"><span class="linenum">  87</span></a>              }
<a name="l88"><span class="linenum">  88</span></a>              if (<a class="var it39237" onMouseOver="hilite(39237)" onMouseOut="lolite()" onClick="logVariable('categorytype')" href="../_variables/categorytype.html">$categorytype</a>['type'] === 'system') {
<a name="l89"><span class="linenum">  89</span></a>                  <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('contextid')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a> = <a class="var it832" onMouseOver="hilite(832)" onMouseOut="lolite()" onClick="logVariable('syscontext')" href="../_variables/syscontext.html">$syscontext</a>-&gt;<a onClick="logVariable('id')" class="var it43085" onMouseOver="hilite(43085)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l90"><span class="linenum">  90</span></a>              } else if (<a class="var it2604" onMouseOver="hilite(2604)" onMouseOut="lolite()" onClick="logVariable('catid')" href="../_variables/catid.html">$catid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('course_categories', 'id', array(<a class="var it39237" onMouseOver="hilite(39237)" onMouseOut="lolite()" onClick="logVariable('categorytype')" href="../_variables/categorytype.html">$categorytype</a>['type'] =&gt; <a class="var it39237" onMouseOver="hilite(39237)" onMouseOut="lolite()" onClick="logVariable('categorytype')" href="../_variables/categorytype.html">$categorytype</a>['value']))) {
<a name="l91"><span class="linenum">  91</span></a>                  <a class="var it5500" onMouseOver="hilite(5500)" onMouseOut="lolite()" onClick="logVariable('catcontext')" href="../_variables/catcontext.html">$catcontext</a> = <a class="class" onClick="logClass('context_coursecat')" href="../_classes/context_coursecat.html" onMouseOver="classPopup(event,'context_coursecat')">context_coursecat</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it2604" onMouseOver="hilite(2604)" onMouseOut="lolite()" onClick="logVariable('catid')" href="../_variables/catid.html">$catid</a>);
<a name="l92"><span class="linenum">  92</span></a>                  <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('contextid')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a> = <a class="var it5500" onMouseOver="hilite(5500)" onMouseOut="lolite()" onClick="logVariable('catcontext')" href="../_variables/catcontext.html">$catcontext</a>-&gt;<a onClick="logVariable('id')" class="var it43115" onMouseOver="hilite(43115)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l93"><span class="linenum">  93</span></a>              } else {
<a name="l94"><span class="linenum">  94</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('category not exists: category '
<a name="l95"><span class="linenum">  95</span></a>                      .<a class="var it39237" onMouseOver="hilite(39237)" onMouseOut="lolite()" onClick="logVariable('categorytype')" href="../_variables/categorytype.html">$categorytype</a>['type'].' = '.<a class="var it39237" onMouseOver="hilite(39237)" onMouseOut="lolite()" onClick="logVariable('categorytype')" href="../_variables/categorytype.html">$categorytype</a>['value']);
<a name="l96"><span class="linenum">  96</span></a>              }
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">            // Make sure that the idnumber doesn't already exist.</span>
<a name="l98"><span class="linenum">  98</span></a>              if (<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('cohort', array('idnumber' =&gt; <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('idnumber')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/idnumber.html">idnumber</a>))) {
<a name="l99"><span class="linenum">  99</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('record already exists: idnumber='.<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('idnumber')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/idnumber.html">idnumber</a>);
<a name="l100"><span class="linenum"> 100</span></a>              }
<a name="l101"><span class="linenum"> 101</span></a>              <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = context::<a class="function" onClick="logFunction('instance_by_id')" href="../_functions/instance_by_id.html" onMouseOver="funcPopup(event,'instance_by_id')">instance_by_id</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('contextid')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l102"><span class="linenum"> 102</span></a>              if (<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_COURSECAT')" href="../_constants/CONTEXT_COURSECAT.html" onMouseOver="constPopup(event,'CONTEXT_COURSECAT')">CONTEXT_COURSECAT</a> and <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_SYSTEM')" href="../_constants/CONTEXT_SYSTEM.html" onMouseOver="constPopup(event,'CONTEXT_SYSTEM')">CONTEXT_SYSTEM</a>) {
<a name="l103"><span class="linenum"> 103</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Invalid context');
<a name="l104"><span class="linenum"> 104</span></a>              }
<a name="l105"><span class="linenum"> 105</span></a>              self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l106"><span class="linenum"> 106</span></a>              <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/cohort:manage', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l107"><span class="linenum"> 107</span></a>  
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment">            // Validate format.</span>
<a name="l109"><span class="linenum"> 109</span></a>              <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('descriptionformat')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/descriptionformat.html">descriptionformat</a> = <a class="function" onClick="logFunction('external_validate_format')" href="../_functions/external_validate_format.html" onMouseOver="funcPopup(event,'external_validate_format')">external_validate_format</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('descriptionformat')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/descriptionformat.html">descriptionformat</a>);
<a name="l110"><span class="linenum"> 110</span></a>              <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('id')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/id.html">id</a> = <a class="function" onClick="logFunction('cohort_add_cohort')" href="../_functions/cohort_add_cohort.html" onMouseOver="funcPopup(event,'cohort_add_cohort')">cohort_add_cohort</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>);
<a name="l111"><span class="linenum"> 111</span></a>  
<a name="l112"><span class="linenum"> 112</span></a>              <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('description')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/description.html">description</a>, <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('descriptionformat')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/descriptionformat.html">descriptionformat</a>) =
<a name="l113"><span class="linenum"> 113</span></a>                  <a class="function" onClick="logFunction('external_format_text')" href="../_functions/external_format_text.html" onMouseOver="funcPopup(event,'external_format_text')">external_format_text</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('description')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/description.html">description</a>, <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('descriptionformat')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/descriptionformat.html">descriptionformat</a>,
<a name="l114"><span class="linenum"> 114</span></a>                          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, 'cohort', 'description', <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('id')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l115"><span class="linenum"> 115</span></a>              <a class="var it32463" onMouseOver="hilite(32463)" onMouseOut="lolite()" onClick="logVariable('cohortids')" href="../_variables/cohortids.html">$cohortids</a>[] = (array)<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>;
<a name="l116"><span class="linenum"> 116</span></a>          }
<a name="l117"><span class="linenum"> 117</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a>-&gt;<a class="function" onClick="logFunction('allow_commit')" href="../_functions/allow_commit.html" onMouseOver="funcPopup(event,'allow_commit')">allow_commit</a>();
<a name="l118"><span class="linenum"> 118</span></a>  
<a name="l119"><span class="linenum"> 119</span></a>          return <a class="var it32463" onMouseOver="hilite(32463)" onMouseOut="lolite()" onClick="logVariable('cohortids')" href="../_variables/cohortids.html">$cohortids</a>;
<a name="l120"><span class="linenum"> 120</span></a>      }
<a name="l121"><span class="linenum"> 121</span></a>  
<a name="l122"><span class="linenum"> 122</span></a>      <span class="comment">/**</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l124"><span class="linenum"> 124</span></a>  <span class="comment">     *</span>
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">     * @return external_description</span>
<a name="l126"><span class="linenum"> 126</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment">     */</span>
<a name="l128"><span class="linenum"> 128</span></a>      public static function <a class="function" onClick="logFunction('create_cohorts_returns')" href="../_functions/create_cohorts_returns.html" onMouseOver="funcPopup(event,'create_cohorts_returns')">create_cohorts_returns</a>() {
<a name="l129"><span class="linenum"> 129</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l130"><span class="linenum"> 130</span></a>              <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l131"><span class="linenum"> 131</span></a>                  array(
<a name="l132"><span class="linenum"> 132</span></a>                      'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'cohort id'),
<a name="l133"><span class="linenum"> 133</span></a>                      'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'cohort name'),
<a name="l134"><span class="linenum"> 134</span></a>                      'idnumber' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'cohort idnumber'),
<a name="l135"><span class="linenum"> 135</span></a>                      'description' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'cohort description'),
<a name="l136"><span class="linenum"> 136</span></a>                      'descriptionformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>('description'),
<a name="l137"><span class="linenum"> 137</span></a>                      'visible' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'cohort visible'),
<a name="l138"><span class="linenum"> 138</span></a>                  )
<a name="l139"><span class="linenum"> 139</span></a>              )
<a name="l140"><span class="linenum"> 140</span></a>          );
<a name="l141"><span class="linenum"> 141</span></a>      }
<a name="l142"><span class="linenum"> 142</span></a>  
<a name="l143"><span class="linenum"> 143</span></a>      <span class="comment">/**</span>
<a name="l144"><span class="linenum"> 144</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l145"><span class="linenum"> 145</span></a>  <span class="comment">     *</span>
<a name="l146"><span class="linenum"> 146</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l147"><span class="linenum"> 147</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">     */</span>
<a name="l149"><span class="linenum"> 149</span></a>      public static function <a class="function" onClick="logFunction('delete_cohorts_parameters')" href="../_functions/delete_cohorts_parameters.html" onMouseOver="funcPopup(event,'delete_cohorts_parameters')">delete_cohorts_parameters</a>() {
<a name="l150"><span class="linenum"> 150</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l151"><span class="linenum"> 151</span></a>              array(
<a name="l152"><span class="linenum"> 152</span></a>                  'cohortids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(<span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'cohort ID')),
<a name="l153"><span class="linenum"> 153</span></a>              )
<a name="l154"><span class="linenum"> 154</span></a>          );
<a name="l155"><span class="linenum"> 155</span></a>      }
<a name="l156"><span class="linenum"> 156</span></a>  
<a name="l157"><span class="linenum"> 157</span></a>      <span class="comment">/**</span>
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment">     * Delete cohorts</span>
<a name="l159"><span class="linenum"> 159</span></a>  <span class="comment">     *</span>
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">     * @param array $cohortids</span>
<a name="l161"><span class="linenum"> 161</span></a>  <span class="comment">     * @return null</span>
<a name="l162"><span class="linenum"> 162</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l163"><span class="linenum"> 163</span></a>  <span class="comment">     */</span>
<a name="l164"><span class="linenum"> 164</span></a>      public static function <a class="function" onClick="logFunction('delete_cohorts')" href="../_functions/delete_cohorts.html" onMouseOver="funcPopup(event,'delete_cohorts')">delete_cohorts</a>(<a class="var it32463" onMouseOver="hilite(32463)" onMouseOut="lolite()" onClick="logVariable('cohortids')" href="../_variables/cohortids.html">$cohortids</a>) {
<a name="l165"><span class="linenum"> 165</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l166"><span class="linenum"> 166</span></a>          require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>/cohort/lib.php&quot;);
<a name="l167"><span class="linenum"> 167</span></a>  
<a name="l168"><span class="linenum"> 168</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('delete_cohorts_parameters')" href="../_functions/delete_cohorts_parameters.html" onMouseOver="funcPopup(event,'delete_cohorts_parameters')">delete_cohorts_parameters</a>(), array('cohortids' =&gt; <a class="var it32463" onMouseOver="hilite(32463)" onMouseOut="lolite()" onClick="logVariable('cohortids')" href="../_variables/cohortids.html">$cohortids</a>));
<a name="l169"><span class="linenum"> 169</span></a>  
<a name="l170"><span class="linenum"> 170</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('start_delegated_transaction')" href="../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>();
<a name="l171"><span class="linenum"> 171</span></a>  
<a name="l172"><span class="linenum"> 172</span></a>          foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['cohortids'] as <a class="var it2629" onMouseOver="hilite(2629)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a>) {
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">            // Validate params.</span>
<a name="l174"><span class="linenum"> 174</span></a>              <a class="var it2629" onMouseOver="hilite(2629)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a> = <a class="function" onClick="logFunction('validate_param')" href="../_functions/validate_param.html" onMouseOver="funcPopup(event,'validate_param')">validate_param</a>(<a class="var it2629" onMouseOver="hilite(2629)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a>, <a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l175"><span class="linenum"> 175</span></a>              <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('cohort', array('id' =&gt; <a class="var it2629" onMouseOver="hilite(2629)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l176"><span class="linenum"> 176</span></a>  
<a name="l177"><span class="linenum"> 177</span></a>  <span class="comment">            // Now security checks.</span>
<a name="l178"><span class="linenum"> 178</span></a>              <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = context::<a class="function" onClick="logFunction('instance_by_id')" href="../_functions/instance_by_id.html" onMouseOver="funcPopup(event,'instance_by_id')">instance_by_id</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('contextid')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l179"><span class="linenum"> 179</span></a>              if (<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_COURSECAT')" href="../_constants/CONTEXT_COURSECAT.html" onMouseOver="constPopup(event,'CONTEXT_COURSECAT')">CONTEXT_COURSECAT</a> and <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_SYSTEM')" href="../_constants/CONTEXT_SYSTEM.html" onMouseOver="constPopup(event,'CONTEXT_SYSTEM')">CONTEXT_SYSTEM</a>) {
<a name="l180"><span class="linenum"> 180</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Invalid context');
<a name="l181"><span class="linenum"> 181</span></a>              }
<a name="l182"><span class="linenum"> 182</span></a>              self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l183"><span class="linenum"> 183</span></a>              <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/cohort:manage', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l184"><span class="linenum"> 184</span></a>              <a class="function" onClick="logFunction('cohort_delete_cohort')" href="../_functions/cohort_delete_cohort.html" onMouseOver="funcPopup(event,'cohort_delete_cohort')">cohort_delete_cohort</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>);
<a name="l185"><span class="linenum"> 185</span></a>          }
<a name="l186"><span class="linenum"> 186</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a>-&gt;<a class="function" onClick="logFunction('allow_commit')" href="../_functions/allow_commit.html" onMouseOver="funcPopup(event,'allow_commit')">allow_commit</a>();
<a name="l187"><span class="linenum"> 187</span></a>  
<a name="l188"><span class="linenum"> 188</span></a>          return null;
<a name="l189"><span class="linenum"> 189</span></a>      }
<a name="l190"><span class="linenum"> 190</span></a>  
<a name="l191"><span class="linenum"> 191</span></a>      <span class="comment">/**</span>
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment">     *</span>
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment">     * @return null</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">     */</span>
<a name="l197"><span class="linenum"> 197</span></a>      public static function <a class="function" onClick="logFunction('delete_cohorts_returns')" href="../_functions/delete_cohorts_returns.html" onMouseOver="funcPopup(event,'delete_cohorts_returns')">delete_cohorts_returns</a>() {
<a name="l198"><span class="linenum"> 198</span></a>          return null;
<a name="l199"><span class="linenum"> 199</span></a>      }
<a name="l200"><span class="linenum"> 200</span></a>  
<a name="l201"><span class="linenum"> 201</span></a>      <span class="comment">/**</span>
<a name="l202"><span class="linenum"> 202</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment">     *</span>
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l205"><span class="linenum"> 205</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l206"><span class="linenum"> 206</span></a>  <span class="comment">     */</span>
<a name="l207"><span class="linenum"> 207</span></a>      public static function <a class="function" onClick="logFunction('get_cohorts_parameters')" href="../_functions/get_cohorts_parameters.html" onMouseOver="funcPopup(event,'get_cohorts_parameters')">get_cohorts_parameters</a>() {
<a name="l208"><span class="linenum"> 208</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l209"><span class="linenum"> 209</span></a>              array(
<a name="l210"><span class="linenum"> 210</span></a>                  'cohortids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(<span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Cohort ID')
<a name="l211"><span class="linenum"> 211</span></a>                      , 'List of cohort id. A cohort id is an integer.', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>, array()),
<a name="l212"><span class="linenum"> 212</span></a>              )
<a name="l213"><span class="linenum"> 213</span></a>          );
<a name="l214"><span class="linenum"> 214</span></a>      }
<a name="l215"><span class="linenum"> 215</span></a>  
<a name="l216"><span class="linenum"> 216</span></a>      <span class="comment">/**</span>
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment">     * Get cohorts definition specified by ids</span>
<a name="l218"><span class="linenum"> 218</span></a>  <span class="comment">     *</span>
<a name="l219"><span class="linenum"> 219</span></a>  <span class="comment">     * @param array $cohortids array of cohort ids</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">     * @return array of cohort objects (id, courseid, name)</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment">     */</span>
<a name="l223"><span class="linenum"> 223</span></a>      public static function <a class="function" onClick="logFunction('get_cohorts')" href="../_functions/get_cohorts.html" onMouseOver="funcPopup(event,'get_cohorts')">get_cohorts</a>(<a class="var it32463" onMouseOver="hilite(32463)" onMouseOut="lolite()" onClick="logVariable('cohortids')" href="../_variables/cohortids.html">$cohortids</a> = array()) {
<a name="l224"><span class="linenum"> 224</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l225"><span class="linenum"> 225</span></a>  
<a name="l226"><span class="linenum"> 226</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_cohorts_parameters')" href="../_functions/get_cohorts_parameters.html" onMouseOver="funcPopup(event,'get_cohorts_parameters')">get_cohorts_parameters</a>(), array('cohortids' =&gt; <a class="var it32463" onMouseOver="hilite(32463)" onMouseOut="lolite()" onClick="logVariable('cohortids')" href="../_variables/cohortids.html">$cohortids</a>));
<a name="l227"><span class="linenum"> 227</span></a>  
<a name="l228"><span class="linenum"> 228</span></a>          if (empty(<a class="var it32463" onMouseOver="hilite(32463)" onMouseOut="lolite()" onClick="logVariable('cohortids')" href="../_variables/cohortids.html">$cohortids</a>)) {
<a name="l229"><span class="linenum"> 229</span></a>              <a class="var it7781" onMouseOver="hilite(7781)" onMouseOut="lolite()" onClick="logVariable('cohorts')" href="../_variables/cohorts.html">$cohorts</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('cohort');
<a name="l230"><span class="linenum"> 230</span></a>          } else {
<a name="l231"><span class="linenum"> 231</span></a>              <a class="var it7781" onMouseOver="hilite(7781)" onMouseOut="lolite()" onClick="logVariable('cohorts')" href="../_variables/cohorts.html">$cohorts</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_list')" href="../_functions/get_records_list.html" onMouseOver="funcPopup(event,'get_records_list')">get_records_list</a>('cohort', 'id', <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['cohortids']);
<a name="l232"><span class="linenum"> 232</span></a>          }
<a name="l233"><span class="linenum"> 233</span></a>  
<a name="l234"><span class="linenum"> 234</span></a>          <a class="var it39238" onMouseOver="hilite(39238)" onMouseOut="lolite()" onClick="logVariable('cohortsinfo')" href="../_variables/cohortsinfo.html">$cohortsinfo</a> = array();
<a name="l235"><span class="linenum"> 235</span></a>          foreach (<a class="var it7781" onMouseOver="hilite(7781)" onMouseOut="lolite()" onClick="logVariable('cohorts')" href="../_variables/cohorts.html">$cohorts</a> as <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>) {
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment">            // Now security checks.</span>
<a name="l237"><span class="linenum"> 237</span></a>              <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = context::<a class="function" onClick="logFunction('instance_by_id')" href="../_functions/instance_by_id.html" onMouseOver="funcPopup(event,'instance_by_id')">instance_by_id</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('contextid')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l238"><span class="linenum"> 238</span></a>              if (<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_COURSECAT')" href="../_constants/CONTEXT_COURSECAT.html" onMouseOver="constPopup(event,'CONTEXT_COURSECAT')">CONTEXT_COURSECAT</a> and <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_SYSTEM')" href="../_constants/CONTEXT_SYSTEM.html" onMouseOver="constPopup(event,'CONTEXT_SYSTEM')">CONTEXT_SYSTEM</a>) {
<a name="l239"><span class="linenum"> 239</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Invalid context');
<a name="l240"><span class="linenum"> 240</span></a>              }
<a name="l241"><span class="linenum"> 241</span></a>              self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l242"><span class="linenum"> 242</span></a>              if (!<a class="function" onClick="logFunction('has_any_capability')" href="../_functions/has_any_capability.html" onMouseOver="funcPopup(event,'has_any_capability')">has_any_capability</a>(array('moodle/cohort:manage', 'moodle/cohort:view'), <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l243"><span class="linenum"> 243</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('required_capability_exception')" href="../_classes/required_capability_exception.html" onMouseOver="classPopup(event,'required_capability_exception')">required_capability_exception</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, 'moodle/cohort:view', 'nopermissions', '');
<a name="l244"><span class="linenum"> 244</span></a>              }
<a name="l245"><span class="linenum"> 245</span></a>  
<a name="l246"><span class="linenum"> 246</span></a>              <a class="function" onClick="logFunction('list')" href="../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('description')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/description.html">description</a>, <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('descriptionformat')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/descriptionformat.html">descriptionformat</a>) =
<a name="l247"><span class="linenum"> 247</span></a>                  <a class="function" onClick="logFunction('external_format_text')" href="../_functions/external_format_text.html" onMouseOver="funcPopup(event,'external_format_text')">external_format_text</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('description')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/description.html">description</a>, <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('descriptionformat')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/descriptionformat.html">descriptionformat</a>,
<a name="l248"><span class="linenum"> 248</span></a>                          <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('id')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, 'cohort', 'description', <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('id')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l249"><span class="linenum"> 249</span></a>  
<a name="l250"><span class="linenum"> 250</span></a>              <a class="var it39238" onMouseOver="hilite(39238)" onMouseOut="lolite()" onClick="logVariable('cohortsinfo')" href="../_variables/cohortsinfo.html">$cohortsinfo</a>[] = (array) <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>;
<a name="l251"><span class="linenum"> 251</span></a>          }
<a name="l252"><span class="linenum"> 252</span></a>          return <a class="var it39238" onMouseOver="hilite(39238)" onMouseOut="lolite()" onClick="logVariable('cohortsinfo')" href="../_variables/cohortsinfo.html">$cohortsinfo</a>;
<a name="l253"><span class="linenum"> 253</span></a>      }
<a name="l254"><span class="linenum"> 254</span></a>  
<a name="l255"><span class="linenum"> 255</span></a>  
<a name="l256"><span class="linenum"> 256</span></a>      <span class="comment">/**</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment">     *</span>
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment">     * @return external_description</span>
<a name="l260"><span class="linenum"> 260</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment">     */</span>
<a name="l262"><span class="linenum"> 262</span></a>      public static function <a class="function" onClick="logFunction('get_cohorts_returns')" href="../_functions/get_cohorts_returns.html" onMouseOver="funcPopup(event,'get_cohorts_returns')">get_cohorts_returns</a>() {
<a name="l263"><span class="linenum"> 263</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l264"><span class="linenum"> 264</span></a>              <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l265"><span class="linenum"> 265</span></a>                  array(
<a name="l266"><span class="linenum"> 266</span></a>                      'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'ID of the cohort'),
<a name="l267"><span class="linenum"> 267</span></a>                      'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'cohort name'),
<a name="l268"><span class="linenum"> 268</span></a>                      'idnumber' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'cohort idnumber'),
<a name="l269"><span class="linenum"> 269</span></a>                      'description' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'cohort description'),
<a name="l270"><span class="linenum"> 270</span></a>                      'descriptionformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>('description'),
<a name="l271"><span class="linenum"> 271</span></a>                      'visible' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'cohort visible'),
<a name="l272"><span class="linenum"> 272</span></a>                  )
<a name="l273"><span class="linenum"> 273</span></a>              )
<a name="l274"><span class="linenum"> 274</span></a>          );
<a name="l275"><span class="linenum"> 275</span></a>      }
<a name="l276"><span class="linenum"> 276</span></a>  
<a name="l277"><span class="linenum"> 277</span></a>      <span class="comment">/**</span>
<a name="l278"><span class="linenum"> 278</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l279"><span class="linenum"> 279</span></a>  <span class="comment">     *</span>
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l282"><span class="linenum"> 282</span></a>  <span class="comment">     */</span>
<a name="l283"><span class="linenum"> 283</span></a>      public static function <a class="function" onClick="logFunction('update_cohorts_parameters')" href="../_functions/update_cohorts_parameters.html" onMouseOver="funcPopup(event,'update_cohorts_parameters')">update_cohorts_parameters</a>() {
<a name="l284"><span class="linenum"> 284</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l285"><span class="linenum"> 285</span></a>              array(
<a name="l286"><span class="linenum"> 286</span></a>                  'cohorts' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l287"><span class="linenum"> 287</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l288"><span class="linenum"> 288</span></a>                          array(
<a name="l289"><span class="linenum"> 289</span></a>                              'id' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'ID of the cohort'),
<a name="l290"><span class="linenum"> 290</span></a>                              'categorytype' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l291"><span class="linenum"> 291</span></a>                                  array(
<a name="l292"><span class="linenum"> 292</span></a>                                      'type' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_TEXT')" href="../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>, 'the name of the field: <a class="function" onClick="logFunction('id')" href="../_functions/id.html" onMouseOver="funcPopup(event,'id')">id</a> (numeric value
<a name="l293"><span class="linenum"> 293</span></a>                                          of course category id) or idnumber (alphanumeric value of idnumber course category)
<a name="l294"><span class="linenum"> 294</span></a>                                          or <a class="phpfunction" onClick="logFunction('system')" href="../_functions/system.html" onMouseOver="phpfuncPopup(event,'system')">system</a> (value ignored)'),
<a name="l295"><span class="linenum"> 295</span></a>                                      'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'the value of the categorytype')
<a name="l296"><span class="linenum"> 296</span></a>                                  )
<a name="l297"><span class="linenum"> 297</span></a>                              ),
<a name="l298"><span class="linenum"> 298</span></a>                              'name' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'cohort name'),
<a name="l299"><span class="linenum"> 299</span></a>                              'idnumber' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'cohort idnumber'),
<a name="l300"><span class="linenum"> 300</span></a>                              'description' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'cohort description', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l301"><span class="linenum"> 301</span></a>                              'descriptionformat' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_format_value')" href="../_classes/external_format_value.html" onMouseOver="classPopup(event,'external_format_value')">external_format_value</a>('description', <a class="constant" onClick="logConstant('VALUE_DEFAULT')" href="../_constants/VALUE_DEFAULT.html" onMouseOver="constPopup(event,'VALUE_DEFAULT')">VALUE_DEFAULT</a>),
<a name="l302"><span class="linenum"> 302</span></a>                              'visible' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_BOOL')" href="../_constants/PARAM_BOOL.html" onMouseOver="constPopup(event,'PARAM_BOOL')">PARAM_BOOL</a>, 'cohort visible', <a class="constant" onClick="logConstant('VALUE_OPTIONAL')" href="../_constants/VALUE_OPTIONAL.html" onMouseOver="constPopup(event,'VALUE_OPTIONAL')">VALUE_OPTIONAL</a>),
<a name="l303"><span class="linenum"> 303</span></a>                          )
<a name="l304"><span class="linenum"> 304</span></a>                      )
<a name="l305"><span class="linenum"> 305</span></a>                  )
<a name="l306"><span class="linenum"> 306</span></a>              )
<a name="l307"><span class="linenum"> 307</span></a>          );
<a name="l308"><span class="linenum"> 308</span></a>      }
<a name="l309"><span class="linenum"> 309</span></a>  
<a name="l310"><span class="linenum"> 310</span></a>      <span class="comment">/**</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">     * Update cohorts</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">     *</span>
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment">     * @param array $cohorts</span>
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment">     * @return null</span>
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">     */</span>
<a name="l317"><span class="linenum"> 317</span></a>      public static function <a class="function" onClick="logFunction('update_cohorts')" href="../_functions/update_cohorts.html" onMouseOver="funcPopup(event,'update_cohorts')">update_cohorts</a>(<a class="var it7781" onMouseOver="hilite(7781)" onMouseOut="lolite()" onClick="logVariable('cohorts')" href="../_variables/cohorts.html">$cohorts</a>) {
<a name="l318"><span class="linenum"> 318</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l319"><span class="linenum"> 319</span></a>          require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>/cohort/lib.php&quot;);
<a name="l320"><span class="linenum"> 320</span></a>  
<a name="l321"><span class="linenum"> 321</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('update_cohorts_parameters')" href="../_functions/update_cohorts_parameters.html" onMouseOver="funcPopup(event,'update_cohorts_parameters')">update_cohorts_parameters</a>(), array('cohorts' =&gt; <a class="var it7781" onMouseOver="hilite(7781)" onMouseOut="lolite()" onClick="logVariable('cohorts')" href="../_variables/cohorts.html">$cohorts</a>));
<a name="l322"><span class="linenum"> 322</span></a>  
<a name="l323"><span class="linenum"> 323</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('start_delegated_transaction')" href="../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>();
<a name="l324"><span class="linenum"> 324</span></a>          <a class="var it832" onMouseOver="hilite(832)" onMouseOut="lolite()" onClick="logVariable('syscontext')" href="../_variables/syscontext.html">$syscontext</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l325"><span class="linenum"> 325</span></a>  
<a name="l326"><span class="linenum"> 326</span></a>          foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['cohorts'] as <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>) {
<a name="l327"><span class="linenum"> 327</span></a>              <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a> = (object) <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>;
<a name="l328"><span class="linenum"> 328</span></a>  
<a name="l329"><span class="linenum"> 329</span></a>              if (<a class="phpfunction" onClick="logFunction('trim')" href="../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('name')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/name.html">name</a>) == '') {
<a name="l330"><span class="linenum"> 330</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Invalid cohort name');
<a name="l331"><span class="linenum"> 331</span></a>              }
<a name="l332"><span class="linenum"> 332</span></a>  
<a name="l333"><span class="linenum"> 333</span></a>              <a class="var it39239" onMouseOver="hilite(39239)" onMouseOut="lolite()" onClick="logVariable('oldcohort')" href="../_variables/oldcohort.html">$oldcohort</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('cohort', array('id' =&gt; <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('id')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/id.html">id</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l334"><span class="linenum"> 334</span></a>              <a class="var it7759" onMouseOver="hilite(7759)" onMouseOut="lolite()" onClick="logVariable('oldcontext')" href="../_variables/oldcontext.html">$oldcontext</a> = context::<a class="function" onClick="logFunction('instance_by_id')" href="../_functions/instance_by_id.html" onMouseOver="funcPopup(event,'instance_by_id')">instance_by_id</a>(<a class="var it39239" onMouseOver="hilite(39239)" onMouseOut="lolite()" onClick="logVariable('oldcohort')" href="../_variables/oldcohort.html">$oldcohort</a>-&gt;<a onClick="logVariable('contextid')" class="var it43397" onMouseOver="hilite(43397)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l335"><span class="linenum"> 335</span></a>              <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/cohort:manage', <a class="var it7759" onMouseOver="hilite(7759)" onMouseOut="lolite()" onClick="logVariable('oldcontext')" href="../_variables/oldcontext.html">$oldcontext</a>);
<a name="l336"><span class="linenum"> 336</span></a>  
<a name="l337"><span class="linenum"> 337</span></a>  <span class="comment">            // Category type (context id).</span>
<a name="l338"><span class="linenum"> 338</span></a>              <a class="var it39237" onMouseOver="hilite(39237)" onMouseOut="lolite()" onClick="logVariable('categorytype')" href="../_variables/categorytype.html">$categorytype</a> = <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('categorytype')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/categorytype.html">categorytype</a>;
<a name="l339"><span class="linenum"> 339</span></a>              if (!<a class="phpfunction" onClick="logFunction('in_array')" href="../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it39237" onMouseOver="hilite(39237)" onMouseOut="lolite()" onClick="logVariable('categorytype')" href="../_variables/categorytype.html">$categorytype</a>['type'], array('idnumber', 'id', 'system'))) {
<a name="l340"><span class="linenum"> 340</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('category type must be id, idnumber or system:' . <a class="var it39237" onMouseOver="hilite(39237)" onMouseOut="lolite()" onClick="logVariable('categorytype')" href="../_variables/categorytype.html">$categorytype</a>['type']);
<a name="l341"><span class="linenum"> 341</span></a>              }
<a name="l342"><span class="linenum"> 342</span></a>              if (<a class="var it39237" onMouseOver="hilite(39237)" onMouseOut="lolite()" onClick="logVariable('categorytype')" href="../_variables/categorytype.html">$categorytype</a>['type'] === 'system') {
<a name="l343"><span class="linenum"> 343</span></a>                  <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('contextid')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a> = <a class="var it832" onMouseOver="hilite(832)" onMouseOut="lolite()" onClick="logVariable('syscontext')" href="../_variables/syscontext.html">$syscontext</a>-&gt;<a onClick="logVariable('id')" class="var it43085" onMouseOver="hilite(43085)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l344"><span class="linenum"> 344</span></a>              } else if (<a class="var it2604" onMouseOver="hilite(2604)" onMouseOut="lolite()" onClick="logVariable('catid')" href="../_variables/catid.html">$catid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('course_categories', 'id', array(<a class="var it39237" onMouseOver="hilite(39237)" onMouseOut="lolite()" onClick="logVariable('categorytype')" href="../_variables/categorytype.html">$categorytype</a>['type'] =&gt; <a class="var it39237" onMouseOver="hilite(39237)" onMouseOut="lolite()" onClick="logVariable('categorytype')" href="../_variables/categorytype.html">$categorytype</a>['value']))) {
<a name="l345"><span class="linenum"> 345</span></a>                  <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('contextid')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('context', 'id', array('instanceid' =&gt; <a class="var it2604" onMouseOver="hilite(2604)" onMouseOut="lolite()" onClick="logVariable('catid')" href="../_variables/catid.html">$catid</a>,
<a name="l346"><span class="linenum"> 346</span></a>                      'contextlevel' =&gt; <a class="constant" onClick="logConstant('CONTEXT_COURSECAT')" href="../_constants/CONTEXT_COURSECAT.html" onMouseOver="constPopup(event,'CONTEXT_COURSECAT')">CONTEXT_COURSECAT</a>));
<a name="l347"><span class="linenum"> 347</span></a>              } else {
<a name="l348"><span class="linenum"> 348</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('category not exists: category='.<a class="var it39237" onMouseOver="hilite(39237)" onMouseOut="lolite()" onClick="logVariable('categorytype')" href="../_variables/categorytype.html">$categorytype</a>['value']);
<a name="l349"><span class="linenum"> 349</span></a>              }
<a name="l350"><span class="linenum"> 350</span></a>  
<a name="l351"><span class="linenum"> 351</span></a>              if (<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('contextid')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a> != <a class="var it39239" onMouseOver="hilite(39239)" onMouseOut="lolite()" onClick="logVariable('oldcohort')" href="../_variables/oldcohort.html">$oldcohort</a>-&gt;<a onClick="logVariable('contextid')" class="var it43397" onMouseOver="hilite(43397)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>) {
<a name="l352"><span class="linenum"> 352</span></a>                  <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = context::<a class="function" onClick="logFunction('instance_by_id')" href="../_functions/instance_by_id.html" onMouseOver="funcPopup(event,'instance_by_id')">instance_by_id</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('contextid')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l353"><span class="linenum"> 353</span></a>                  if (<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_COURSECAT')" href="../_constants/CONTEXT_COURSECAT.html" onMouseOver="constPopup(event,'CONTEXT_COURSECAT')">CONTEXT_COURSECAT</a> and <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_SYSTEM')" href="../_constants/CONTEXT_SYSTEM.html" onMouseOver="constPopup(event,'CONTEXT_SYSTEM')">CONTEXT_SYSTEM</a>) {
<a name="l354"><span class="linenum"> 354</span></a>                      throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Invalid context');
<a name="l355"><span class="linenum"> 355</span></a>                  }
<a name="l356"><span class="linenum"> 356</span></a>  
<a name="l357"><span class="linenum"> 357</span></a>                  self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l358"><span class="linenum"> 358</span></a>                  <a class="function" onClick="logFunction('require_capability')" href="../_functions/require_capability.html" onMouseOver="funcPopup(event,'require_capability')">require_capability</a>('moodle/cohort:manage', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l359"><span class="linenum"> 359</span></a>              }
<a name="l360"><span class="linenum"> 360</span></a>  
<a name="l361"><span class="linenum"> 361</span></a>              if (!empty(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('description')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/description.html">description</a>)) {
<a name="l362"><span class="linenum"> 362</span></a>                  <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('descriptionformat')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/descriptionformat.html">descriptionformat</a> = <a class="function" onClick="logFunction('external_validate_format')" href="../_functions/external_validate_format.html" onMouseOver="funcPopup(event,'external_validate_format')">external_validate_format</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('descriptionformat')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/descriptionformat.html">descriptionformat</a>);
<a name="l363"><span class="linenum"> 363</span></a>              }
<a name="l364"><span class="linenum"> 364</span></a>  
<a name="l365"><span class="linenum"> 365</span></a>              <a class="function" onClick="logFunction('cohort_update_cohort')" href="../_functions/cohort_update_cohort.html" onMouseOver="funcPopup(event,'cohort_update_cohort')">cohort_update_cohort</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>);
<a name="l366"><span class="linenum"> 366</span></a>          }
<a name="l367"><span class="linenum"> 367</span></a>  
<a name="l368"><span class="linenum"> 368</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a>-&gt;<a class="function" onClick="logFunction('allow_commit')" href="../_functions/allow_commit.html" onMouseOver="funcPopup(event,'allow_commit')">allow_commit</a>();
<a name="l369"><span class="linenum"> 369</span></a>  
<a name="l370"><span class="linenum"> 370</span></a>          return null;
<a name="l371"><span class="linenum"> 371</span></a>      }
<a name="l372"><span class="linenum"> 372</span></a>  
<a name="l373"><span class="linenum"> 373</span></a>      <span class="comment">/**</span>
<a name="l374"><span class="linenum"> 374</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l375"><span class="linenum"> 375</span></a>  <span class="comment">     *</span>
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment">     * @return null</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment">     */</span>
<a name="l379"><span class="linenum"> 379</span></a>      public static function <a class="function" onClick="logFunction('update_cohorts_returns')" href="../_functions/update_cohorts_returns.html" onMouseOver="funcPopup(event,'update_cohorts_returns')">update_cohorts_returns</a>() {
<a name="l380"><span class="linenum"> 380</span></a>          return null;
<a name="l381"><span class="linenum"> 381</span></a>      }
<a name="l382"><span class="linenum"> 382</span></a>  
<a name="l383"><span class="linenum"> 383</span></a>      <span class="comment">/**</span>
<a name="l384"><span class="linenum"> 384</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment">     *</span>
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">     */</span>
<a name="l389"><span class="linenum"> 389</span></a>      public static function <a class="function" onClick="logFunction('add_cohort_members_parameters')" href="../_functions/add_cohort_members_parameters.html" onMouseOver="funcPopup(event,'add_cohort_members_parameters')">add_cohort_members_parameters</a>() {
<a name="l390"><span class="linenum"> 390</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a> (
<a name="l391"><span class="linenum"> 391</span></a>              array(
<a name="l392"><span class="linenum"> 392</span></a>                  'members' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a> (
<a name="l393"><span class="linenum"> 393</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a> (
<a name="l394"><span class="linenum"> 394</span></a>                          array (
<a name="l395"><span class="linenum"> 395</span></a>                              'cohorttype' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a> (
<a name="l396"><span class="linenum"> 396</span></a>                                  array(
<a name="l397"><span class="linenum"> 397</span></a>                                      'type' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'The name of the field: id
<a name="l398"><span class="linenum"> 398</span></a>                                          (numeric value of cohortid) or idnumber (alphanumeric value of idnumber) '),
<a name="l399"><span class="linenum"> 399</span></a>                                      'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The value of the cohort')
<a name="l400"><span class="linenum"> 400</span></a>                                  )
<a name="l401"><span class="linenum"> 401</span></a>                              ),
<a name="l402"><span class="linenum"> 402</span></a>                              'usertype' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a> (
<a name="l403"><span class="linenum"> 403</span></a>                                  array(
<a name="l404"><span class="linenum"> 404</span></a>                                      'type' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_ALPHANUMEXT')" href="../_constants/PARAM_ALPHANUMEXT.html" onMouseOver="constPopup(event,'PARAM_ALPHANUMEXT')">PARAM_ALPHANUMEXT</a>, 'The name of the field: id
<a name="l405"><span class="linenum"> 405</span></a>                                          (numeric value of id) or username (alphanumeric value of username) '),
<a name="l406"><span class="linenum"> 406</span></a>                                      'value' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_RAW')" href="../_constants/PARAM_RAW.html" onMouseOver="constPopup(event,'PARAM_RAW')">PARAM_RAW</a>, 'The value of the cohort')
<a name="l407"><span class="linenum"> 407</span></a>                                  )
<a name="l408"><span class="linenum"> 408</span></a>                              )
<a name="l409"><span class="linenum"> 409</span></a>                          )
<a name="l410"><span class="linenum"> 410</span></a>                      )
<a name="l411"><span class="linenum"> 411</span></a>                  )
<a name="l412"><span class="linenum"> 412</span></a>              )
<a name="l413"><span class="linenum"> 413</span></a>          );
<a name="l414"><span class="linenum"> 414</span></a>      }
<a name="l415"><span class="linenum"> 415</span></a>  
<a name="l416"><span class="linenum"> 416</span></a>      <span class="comment">/**</span>
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment">     * Add cohort members</span>
<a name="l418"><span class="linenum"> 418</span></a>  <span class="comment">     *</span>
<a name="l419"><span class="linenum"> 419</span></a>  <span class="comment">     * @param array $members of arrays with keys userid, cohortid</span>
<a name="l420"><span class="linenum"> 420</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l421"><span class="linenum"> 421</span></a>  <span class="comment">     */</span>
<a name="l422"><span class="linenum"> 422</span></a>      public static function <a class="function" onClick="logFunction('add_cohort_members')" href="../_functions/add_cohort_members.html" onMouseOver="funcPopup(event,'add_cohort_members')">add_cohort_members</a>(<a class="var it4200" onMouseOver="hilite(4200)" onMouseOut="lolite()" onClick="logVariable('members')" href="../_variables/members.html">$members</a>) {
<a name="l423"><span class="linenum"> 423</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l424"><span class="linenum"> 424</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>."<a class="filename" href="../cohort/lib.php.html">/cohort/lib.php</a>");
<a name="l425"><span class="linenum"> 425</span></a>  
<a name="l426"><span class="linenum"> 426</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('add_cohort_members_parameters')" href="../_functions/add_cohort_members_parameters.html" onMouseOver="funcPopup(event,'add_cohort_members_parameters')">add_cohort_members_parameters</a>(), array('members' =&gt; <a class="var it4200" onMouseOver="hilite(4200)" onMouseOut="lolite()" onClick="logVariable('members')" href="../_variables/members.html">$members</a>));
<a name="l427"><span class="linenum"> 427</span></a>  
<a name="l428"><span class="linenum"> 428</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('start_delegated_transaction')" href="../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>();
<a name="l429"><span class="linenum"> 429</span></a>          <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a> = array();
<a name="l430"><span class="linenum"> 430</span></a>          foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['members'] as <a class="var it16176" onMouseOver="hilite(16176)" onMouseOut="lolite()" onClick="logVariable('member')" href="../_variables/member.html">$member</a>) {
<a name="l431"><span class="linenum"> 431</span></a>  <span class="comment">            // Cohort parameters.</span>
<a name="l432"><span class="linenum"> 432</span></a>              <a class="var it39240" onMouseOver="hilite(39240)" onMouseOut="lolite()" onClick="logVariable('cohorttype')" href="../_variables/cohorttype.html">$cohorttype</a> = <a class="var it16176" onMouseOver="hilite(16176)" onMouseOut="lolite()" onClick="logVariable('member')" href="../_variables/member.html">$member</a>['cohorttype'];
<a name="l433"><span class="linenum"> 433</span></a>              <a class="var it39241" onMouseOver="hilite(39241)" onMouseOut="lolite()" onClick="logVariable('cohortparam')" href="../_variables/cohortparam.html">$cohortparam</a> = array(<a class="var it39240" onMouseOver="hilite(39240)" onMouseOut="lolite()" onClick="logVariable('cohorttype')" href="../_variables/cohorttype.html">$cohorttype</a>['type'] =&gt; <a class="var it39240" onMouseOver="hilite(39240)" onMouseOut="lolite()" onClick="logVariable('cohorttype')" href="../_variables/cohorttype.html">$cohorttype</a>['value']);
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment">            // User parameters.</span>
<a name="l435"><span class="linenum"> 435</span></a>              <a class="var it21806" onMouseOver="hilite(21806)" onMouseOut="lolite()" onClick="logVariable('usertype')" href="../_variables/usertype.html">$usertype</a> = <a class="var it16176" onMouseOver="hilite(16176)" onMouseOut="lolite()" onClick="logVariable('member')" href="../_variables/member.html">$member</a>['usertype'];
<a name="l436"><span class="linenum"> 436</span></a>              <a class="var it39242" onMouseOver="hilite(39242)" onMouseOut="lolite()" onClick="logVariable('userparam')" href="../_variables/userparam.html">$userparam</a> = array(<a class="var it21806" onMouseOver="hilite(21806)" onMouseOut="lolite()" onClick="logVariable('usertype')" href="../_variables/usertype.html">$usertype</a>['type'] =&gt; <a class="var it21806" onMouseOver="hilite(21806)" onMouseOut="lolite()" onClick="logVariable('usertype')" href="../_variables/usertype.html">$usertype</a>['value']);
<a name="l437"><span class="linenum"> 437</span></a>              try {
<a name="l438"><span class="linenum"> 438</span></a>  <span class="comment">                // Check parameters.</span>
<a name="l439"><span class="linenum"> 439</span></a>                  if (<a class="var it39240" onMouseOver="hilite(39240)" onMouseOut="lolite()" onClick="logVariable('cohorttype')" href="../_variables/cohorttype.html">$cohorttype</a>['type'] != 'id' &amp;&amp; <a class="var it39240" onMouseOver="hilite(39240)" onMouseOut="lolite()" onClick="logVariable('cohorttype')" href="../_variables/cohorttype.html">$cohorttype</a>['type'] != 'idnumber') {
<a name="l440"><span class="linenum"> 440</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a> = array();
<a name="l441"><span class="linenum"> 441</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>['warningcode'] = '1';
<a name="l442"><span class="linenum"> 442</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>['message'] = 'invalid parameter: cohortype='.<a class="var it39240" onMouseOver="hilite(39240)" onMouseOut="lolite()" onClick="logVariable('cohorttype')" href="../_variables/cohorttype.html">$cohorttype</a>['type'];
<a name="l443"><span class="linenum"> 443</span></a>                      <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>[] = <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>;
<a name="l444"><span class="linenum"> 444</span></a>                      continue;
<a name="l445"><span class="linenum"> 445</span></a>                  }
<a name="l446"><span class="linenum"> 446</span></a>                  if (<a class="var it21806" onMouseOver="hilite(21806)" onMouseOut="lolite()" onClick="logVariable('usertype')" href="../_variables/usertype.html">$usertype</a>['type'] != 'id' &amp;&amp; <a class="var it21806" onMouseOver="hilite(21806)" onMouseOut="lolite()" onClick="logVariable('usertype')" href="../_variables/usertype.html">$usertype</a>['type'] != 'username') {
<a name="l447"><span class="linenum"> 447</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a> = array();
<a name="l448"><span class="linenum"> 448</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>['warningcode'] = '1';
<a name="l449"><span class="linenum"> 449</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>['message'] = 'invalid parameter: usertype='.<a class="var it21806" onMouseOver="hilite(21806)" onMouseOut="lolite()" onClick="logVariable('usertype')" href="../_variables/usertype.html">$usertype</a>['type'];
<a name="l450"><span class="linenum"> 450</span></a>                      <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>[] = <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>;
<a name="l451"><span class="linenum"> 451</span></a>                      continue;
<a name="l452"><span class="linenum"> 452</span></a>                  }
<a name="l453"><span class="linenum"> 453</span></a>  <span class="comment">                // Extract parameters.</span>
<a name="l454"><span class="linenum"> 454</span></a>                  if (!<a class="var it2629" onMouseOver="hilite(2629)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('cohort', 'id', <a class="var it39241" onMouseOver="hilite(39241)" onMouseOut="lolite()" onClick="logVariable('cohortparam')" href="../_variables/cohortparam.html">$cohortparam</a>)) {
<a name="l455"><span class="linenum"> 455</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a> = array();
<a name="l456"><span class="linenum"> 456</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>['warningcode'] = '2';
<a name="l457"><span class="linenum"> 457</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>['message'] = 'cohort '.<a class="var it39240" onMouseOver="hilite(39240)" onMouseOut="lolite()" onClick="logVariable('cohorttype')" href="../_variables/cohorttype.html">$cohorttype</a>['type'].'='.<a class="var it39240" onMouseOver="hilite(39240)" onMouseOut="lolite()" onClick="logVariable('cohorttype')" href="../_variables/cohorttype.html">$cohorttype</a>['value'].' not exists';
<a name="l458"><span class="linenum"> 458</span></a>                      <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>[] = <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>;
<a name="l459"><span class="linenum"> 459</span></a>                      continue;
<a name="l460"><span class="linenum"> 460</span></a>                  }
<a name="l461"><span class="linenum"> 461</span></a>                  if (!<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('user', 'id', <a class="phpfunction" onClick="logFunction('array_merge')" href="../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>(<a class="var it39242" onMouseOver="hilite(39242)" onMouseOut="lolite()" onClick="logVariable('userparam')" href="../_variables/userparam.html">$userparam</a>, array('deleted' =&gt; 0,
<a name="l462"><span class="linenum"> 462</span></a>                      'mnethostid' =&gt; <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('mnet_localhost_id')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/mnet_localhost_id.html">mnet_localhost_id</a>)))) {
<a name="l463"><span class="linenum"> 463</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a> = array();
<a name="l464"><span class="linenum"> 464</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>['warningcode'] = '2';
<a name="l465"><span class="linenum"> 465</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>['message'] = 'user '.<a class="var it21806" onMouseOver="hilite(21806)" onMouseOut="lolite()" onClick="logVariable('usertype')" href="../_variables/usertype.html">$usertype</a>['type'].'='.<a class="var it21806" onMouseOver="hilite(21806)" onMouseOut="lolite()" onClick="logVariable('usertype')" href="../_variables/usertype.html">$usertype</a>['value'].' not exists';
<a name="l466"><span class="linenum"> 466</span></a>                      <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>[] = <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>;
<a name="l467"><span class="linenum"> 467</span></a>                      continue;
<a name="l468"><span class="linenum"> 468</span></a>                  }
<a name="l469"><span class="linenum"> 469</span></a>                  if (<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('cohort_members', array('cohortid' =&gt; <a class="var it2629" onMouseOver="hilite(2629)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a>, 'userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>))) {
<a name="l470"><span class="linenum"> 470</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a> = array();
<a name="l471"><span class="linenum"> 471</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>['warningcode'] = '3';
<a name="l472"><span class="linenum"> 472</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>['message'] = 'record already exists: cohort('.<a class="var it39240" onMouseOver="hilite(39240)" onMouseOut="lolite()" onClick="logVariable('cohorttype')" href="../_variables/cohorttype.html">$cohorttype</a>['type'].'='.<a class="var it39240" onMouseOver="hilite(39240)" onMouseOut="lolite()" onClick="logVariable('cohorttype')" href="../_variables/cohorttype.html">$cohorttype</a>['value'].' '.
<a name="l473"><span class="linenum"> 473</span></a>                          <a class="var it21806" onMouseOver="hilite(21806)" onMouseOut="lolite()" onClick="logVariable('usertype')" href="../_variables/usertype.html">$usertype</a>['type'].'='.<a class="var it21806" onMouseOver="hilite(21806)" onMouseOut="lolite()" onClick="logVariable('usertype')" href="../_variables/usertype.html">$usertype</a>['value'].')';
<a name="l474"><span class="linenum"> 474</span></a>                      <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>[] = <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>;
<a name="l475"><span class="linenum"> 475</span></a>                      continue;
<a name="l476"><span class="linenum"> 476</span></a>                  }
<a name="l477"><span class="linenum"> 477</span></a>                  <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('cohort', array('id'=&gt;<a class="var it2629" onMouseOver="hilite(2629)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l478"><span class="linenum"> 478</span></a>                  <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = context::<a class="function" onClick="logFunction('instance_by_id')" href="../_functions/instance_by_id.html" onMouseOver="funcPopup(event,'instance_by_id')">instance_by_id</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('contextid')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l479"><span class="linenum"> 479</span></a>                  if (<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_COURSECAT')" href="../_constants/CONTEXT_COURSECAT.html" onMouseOver="constPopup(event,'CONTEXT_COURSECAT')">CONTEXT_COURSECAT</a> and <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_SYSTEM')" href="../_constants/CONTEXT_SYSTEM.html" onMouseOver="constPopup(event,'CONTEXT_SYSTEM')">CONTEXT_SYSTEM</a>) {
<a name="l480"><span class="linenum"> 480</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a> = array();
<a name="l481"><span class="linenum"> 481</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>['warningcode'] = '1';
<a name="l482"><span class="linenum"> 482</span></a>                      <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>['message'] = 'Invalid context: '.<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a>;
<a name="l483"><span class="linenum"> 483</span></a>                      <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>[] = <a class="var it3502" onMouseOver="hilite(3502)" onMouseOut="lolite()" onClick="logVariable('warning')" href="../_variables/warning.html">$warning</a>;
<a name="l484"><span class="linenum"> 484</span></a>                      continue;
<a name="l485"><span class="linenum"> 485</span></a>                  }
<a name="l486"><span class="linenum"> 486</span></a>                  self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l487"><span class="linenum"> 487</span></a>              } catch (Exception <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>) {
<a name="l488"><span class="linenum"> 488</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('moodle_exception')" href="../_classes/moodle_exception.html" onMouseOver="classPopup(event,'moodle_exception')">moodle_exception</a>('Error', 'cohort', '', <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../_variables/e.html">$e</a>-&gt;<a class="function" onClick="logFunction('getMessage')" href="../_functions/getmessage.html" onMouseOver="funcPopup(event,'getmessage')">getMessage</a>());
<a name="l489"><span class="linenum"> 489</span></a>              }
<a name="l490"><span class="linenum"> 490</span></a>              if (!<a class="function" onClick="logFunction('has_any_capability')" href="../_functions/has_any_capability.html" onMouseOver="funcPopup(event,'has_any_capability')">has_any_capability</a>(array('moodle/cohort:manage', 'moodle/cohort:assign'), <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l491"><span class="linenum"> 491</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('required_capability_exception')" href="../_classes/required_capability_exception.html" onMouseOver="classPopup(event,'required_capability_exception')">required_capability_exception</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, 'moodle/cohort:assign', 'nopermissions', '');
<a name="l492"><span class="linenum"> 492</span></a>              }
<a name="l493"><span class="linenum"> 493</span></a>              <a class="function" onClick="logFunction('cohort_add_member')" href="../_functions/cohort_add_member.html" onMouseOver="funcPopup(event,'cohort_add_member')">cohort_add_member</a>(<a class="var it2629" onMouseOver="hilite(2629)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>);
<a name="l494"><span class="linenum"> 494</span></a>          }
<a name="l495"><span class="linenum"> 495</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a>-&gt;<a class="function" onClick="logFunction('allow_commit')" href="../_functions/allow_commit.html" onMouseOver="funcPopup(event,'allow_commit')">allow_commit</a>();
<a name="l496"><span class="linenum"> 496</span></a>  <span class="comment">        // Return.</span>
<a name="l497"><span class="linenum"> 497</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a> = array();
<a name="l498"><span class="linenum"> 498</span></a>          <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>['warnings'] = <a class="var it3500" onMouseOver="hilite(3500)" onMouseOut="lolite()" onClick="logVariable('warnings')" href="../_variables/warnings.html">$warnings</a>;
<a name="l499"><span class="linenum"> 499</span></a>          return <a class="var it157" onMouseOver="hilite(157)" onMouseOut="lolite()" onClick="logVariable('result')" href="../_variables/result.html">$result</a>;
<a name="l500"><span class="linenum"> 500</span></a>      }
<a name="l501"><span class="linenum"> 501</span></a>  
<a name="l502"><span class="linenum"> 502</span></a>      <span class="comment">/**</span>
<a name="l503"><span class="linenum"> 503</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l504"><span class="linenum"> 504</span></a>  <span class="comment">     *</span>
<a name="l505"><span class="linenum"> 505</span></a>  <span class="comment">     * @return null</span>
<a name="l506"><span class="linenum"> 506</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l507"><span class="linenum"> 507</span></a>  <span class="comment">     */</span>
<a name="l508"><span class="linenum"> 508</span></a>      public static function <a class="function" onClick="logFunction('add_cohort_members_returns')" href="../_functions/add_cohort_members_returns.html" onMouseOver="funcPopup(event,'add_cohort_members_returns')">add_cohort_members_returns</a>() {
<a name="l509"><span class="linenum"> 509</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l510"><span class="linenum"> 510</span></a>              array(
<a name="l511"><span class="linenum"> 511</span></a>                  'warnings' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_warnings')" href="../_classes/external_warnings.html" onMouseOver="classPopup(event,'external_warnings')">external_warnings</a>()
<a name="l512"><span class="linenum"> 512</span></a>              )
<a name="l513"><span class="linenum"> 513</span></a>          );
<a name="l514"><span class="linenum"> 514</span></a>      }
<a name="l515"><span class="linenum"> 515</span></a>  
<a name="l516"><span class="linenum"> 516</span></a>      <span class="comment">/**</span>
<a name="l517"><span class="linenum"> 517</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment">     *</span>
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l520"><span class="linenum"> 520</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l521"><span class="linenum"> 521</span></a>  <span class="comment">     */</span>
<a name="l522"><span class="linenum"> 522</span></a>      public static function <a class="function" onClick="logFunction('delete_cohort_members_parameters')" href="../_functions/delete_cohort_members_parameters.html" onMouseOver="funcPopup(event,'delete_cohort_members_parameters')">delete_cohort_members_parameters</a>() {
<a name="l523"><span class="linenum"> 523</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l524"><span class="linenum"> 524</span></a>              array(
<a name="l525"><span class="linenum"> 525</span></a>                  'members' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l526"><span class="linenum"> 526</span></a>                      <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l527"><span class="linenum"> 527</span></a>                          array(
<a name="l528"><span class="linenum"> 528</span></a>                              'cohortid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'cohort record id'),
<a name="l529"><span class="linenum"> 529</span></a>                              'userid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user id'),
<a name="l530"><span class="linenum"> 530</span></a>                          )
<a name="l531"><span class="linenum"> 531</span></a>                      )
<a name="l532"><span class="linenum"> 532</span></a>                  )
<a name="l533"><span class="linenum"> 533</span></a>              )
<a name="l534"><span class="linenum"> 534</span></a>          );
<a name="l535"><span class="linenum"> 535</span></a>      }
<a name="l536"><span class="linenum"> 536</span></a>  
<a name="l537"><span class="linenum"> 537</span></a>      <span class="comment">/**</span>
<a name="l538"><span class="linenum"> 538</span></a>  <span class="comment">     * Delete cohort members</span>
<a name="l539"><span class="linenum"> 539</span></a>  <span class="comment">     *</span>
<a name="l540"><span class="linenum"> 540</span></a>  <span class="comment">     * @param array $members of arrays with keys userid, cohortid</span>
<a name="l541"><span class="linenum"> 541</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l542"><span class="linenum"> 542</span></a>  <span class="comment">     */</span>
<a name="l543"><span class="linenum"> 543</span></a>      public static function <a class="function" onClick="logFunction('delete_cohort_members')" href="../_functions/delete_cohort_members.html" onMouseOver="funcPopup(event,'delete_cohort_members')">delete_cohort_members</a>(<a class="var it4200" onMouseOver="hilite(4200)" onMouseOut="lolite()" onClick="logVariable('members')" href="../_variables/members.html">$members</a>) {
<a name="l544"><span class="linenum"> 544</span></a>          global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l545"><span class="linenum"> 545</span></a>          require_once(&quot;<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/dirroot.html">dirroot</a>/cohort/lib.php&quot;);
<a name="l546"><span class="linenum"> 546</span></a>  
<a name="l547"><span class="linenum"> 547</span></a>  <span class="comment">        // Validate parameters.</span>
<a name="l548"><span class="linenum"> 548</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('delete_cohort_members_parameters')" href="../_functions/delete_cohort_members_parameters.html" onMouseOver="funcPopup(event,'delete_cohort_members_parameters')">delete_cohort_members_parameters</a>(), array('members' =&gt; <a class="var it4200" onMouseOver="hilite(4200)" onMouseOut="lolite()" onClick="logVariable('members')" href="../_variables/members.html">$members</a>));
<a name="l549"><span class="linenum"> 549</span></a>  
<a name="l550"><span class="linenum"> 550</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('start_delegated_transaction')" href="../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>();
<a name="l551"><span class="linenum"> 551</span></a>  
<a name="l552"><span class="linenum"> 552</span></a>          foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['members'] as <a class="var it16176" onMouseOver="hilite(16176)" onMouseOut="lolite()" onClick="logVariable('member')" href="../_variables/member.html">$member</a>) {
<a name="l553"><span class="linenum"> 553</span></a>              <a class="var it2629" onMouseOver="hilite(2629)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a> = <a class="var it16176" onMouseOver="hilite(16176)" onMouseOut="lolite()" onClick="logVariable('member')" href="../_variables/member.html">$member</a>['cohortid'];
<a name="l554"><span class="linenum"> 554</span></a>              <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a> = <a class="var it16176" onMouseOver="hilite(16176)" onMouseOut="lolite()" onClick="logVariable('member')" href="../_variables/member.html">$member</a>['userid'];
<a name="l555"><span class="linenum"> 555</span></a>  
<a name="l556"><span class="linenum"> 556</span></a>              <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('cohort', array('id' =&gt; <a class="var it2629" onMouseOver="hilite(2629)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l557"><span class="linenum"> 557</span></a>              <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('user', array('id' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, 'deleted' =&gt; 0, 'mnethostid' =&gt; <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('mnet_localhost_id')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/mnet_localhost_id.html">mnet_localhost_id</a>),
<a name="l558"><span class="linenum"> 558</span></a>                  '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l559"><span class="linenum"> 559</span></a>  
<a name="l560"><span class="linenum"> 560</span></a>  <span class="comment">            // Now security checks.</span>
<a name="l561"><span class="linenum"> 561</span></a>              <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = context::<a class="function" onClick="logFunction('instance_by_id')" href="../_functions/instance_by_id.html" onMouseOver="funcPopup(event,'instance_by_id')">instance_by_id</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('contextid')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l562"><span class="linenum"> 562</span></a>              if (<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_COURSECAT')" href="../_constants/CONTEXT_COURSECAT.html" onMouseOver="constPopup(event,'CONTEXT_COURSECAT')">CONTEXT_COURSECAT</a> and <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_SYSTEM')" href="../_constants/CONTEXT_SYSTEM.html" onMouseOver="constPopup(event,'CONTEXT_SYSTEM')">CONTEXT_SYSTEM</a>) {
<a name="l563"><span class="linenum"> 563</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Invalid context');
<a name="l564"><span class="linenum"> 564</span></a>              }
<a name="l565"><span class="linenum"> 565</span></a>              self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l566"><span class="linenum"> 566</span></a>              if (!<a class="function" onClick="logFunction('has_any_capability')" href="../_functions/has_any_capability.html" onMouseOver="funcPopup(event,'has_any_capability')">has_any_capability</a>(array('moodle/cohort:manage', 'moodle/cohort:assign'), <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l567"><span class="linenum"> 567</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('required_capability_exception')" href="../_classes/required_capability_exception.html" onMouseOver="classPopup(event,'required_capability_exception')">required_capability_exception</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, 'moodle/cohort:assign', 'nopermissions', '');
<a name="l568"><span class="linenum"> 568</span></a>              }
<a name="l569"><span class="linenum"> 569</span></a>  
<a name="l570"><span class="linenum"> 570</span></a>              <a class="function" onClick="logFunction('cohort_remove_member')" href="../_functions/cohort_remove_member.html" onMouseOver="funcPopup(event,'cohort_remove_member')">cohort_remove_member</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('id')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l571"><span class="linenum"> 571</span></a>          }
<a name="l572"><span class="linenum"> 572</span></a>          <a class="var it4224" onMouseOver="hilite(4224)" onMouseOut="lolite()" onClick="logVariable('transaction')" href="../_variables/transaction.html">$transaction</a>-&gt;<a class="function" onClick="logFunction('allow_commit')" href="../_functions/allow_commit.html" onMouseOver="funcPopup(event,'allow_commit')">allow_commit</a>();
<a name="l573"><span class="linenum"> 573</span></a>      }
<a name="l574"><span class="linenum"> 574</span></a>  
<a name="l575"><span class="linenum"> 575</span></a>      <span class="comment">/**</span>
<a name="l576"><span class="linenum"> 576</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l577"><span class="linenum"> 577</span></a>  <span class="comment">     *</span>
<a name="l578"><span class="linenum"> 578</span></a>  <span class="comment">     * @return null</span>
<a name="l579"><span class="linenum"> 579</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l580"><span class="linenum"> 580</span></a>  <span class="comment">     */</span>
<a name="l581"><span class="linenum"> 581</span></a>      public static function <a class="function" onClick="logFunction('delete_cohort_members_returns')" href="../_functions/delete_cohort_members_returns.html" onMouseOver="funcPopup(event,'delete_cohort_members_returns')">delete_cohort_members_returns</a>() {
<a name="l582"><span class="linenum"> 582</span></a>          return null;
<a name="l583"><span class="linenum"> 583</span></a>      }
<a name="l584"><span class="linenum"> 584</span></a>  
<a name="l585"><span class="linenum"> 585</span></a>      <span class="comment">/**</span>
<a name="l586"><span class="linenum"> 586</span></a>  <span class="comment">     * Returns description of method parameters</span>
<a name="l587"><span class="linenum"> 587</span></a>  <span class="comment">     *</span>
<a name="l588"><span class="linenum"> 588</span></a>  <span class="comment">     * @return external_function_parameters</span>
<a name="l589"><span class="linenum"> 589</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l590"><span class="linenum"> 590</span></a>  <span class="comment">     */</span>
<a name="l591"><span class="linenum"> 591</span></a>      public static function <a class="function" onClick="logFunction('get_cohort_members_parameters')" href="../_functions/get_cohort_members_parameters.html" onMouseOver="funcPopup(event,'get_cohort_members_parameters')">get_cohort_members_parameters</a>() {
<a name="l592"><span class="linenum"> 592</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_function_parameters')" href="../_classes/external_function_parameters.html" onMouseOver="classPopup(event,'external_function_parameters')">external_function_parameters</a>(
<a name="l593"><span class="linenum"> 593</span></a>              array(
<a name="l594"><span class="linenum"> 594</span></a>                  'cohortids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(<span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'Cohort ID')),
<a name="l595"><span class="linenum"> 595</span></a>              )
<a name="l596"><span class="linenum"> 596</span></a>          );
<a name="l597"><span class="linenum"> 597</span></a>      }
<a name="l598"><span class="linenum"> 598</span></a>  
<a name="l599"><span class="linenum"> 599</span></a>      <span class="comment">/**</span>
<a name="l600"><span class="linenum"> 600</span></a>  <span class="comment">     * Return all members for a cohort</span>
<a name="l601"><span class="linenum"> 601</span></a>  <span class="comment">     *</span>
<a name="l602"><span class="linenum"> 602</span></a>  <span class="comment">     * @param array $cohortids array of cohort ids</span>
<a name="l603"><span class="linenum"> 603</span></a>  <span class="comment">     * @return array with cohort id keys containing arrays of user ids</span>
<a name="l604"><span class="linenum"> 604</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l605"><span class="linenum"> 605</span></a>  <span class="comment">     */</span>
<a name="l606"><span class="linenum"> 606</span></a>      public static function <a class="function" onClick="logFunction('get_cohort_members')" href="../_functions/get_cohort_members.html" onMouseOver="funcPopup(event,'get_cohort_members')">get_cohort_members</a>(<a class="var it32463" onMouseOver="hilite(32463)" onMouseOut="lolite()" onClick="logVariable('cohortids')" href="../_variables/cohortids.html">$cohortids</a>) {
<a name="l607"><span class="linenum"> 607</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l608"><span class="linenum"> 608</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = self::<a class="function" onClick="logFunction('validate_parameters')" href="../_functions/validate_parameters.html" onMouseOver="funcPopup(event,'validate_parameters')">validate_parameters</a>(self::<a class="function" onClick="logFunction('get_cohort_members_parameters')" href="../_functions/get_cohort_members_parameters.html" onMouseOver="funcPopup(event,'get_cohort_members_parameters')">get_cohort_members_parameters</a>(), array('cohortids' =&gt; <a class="var it32463" onMouseOver="hilite(32463)" onMouseOut="lolite()" onClick="logVariable('cohortids')" href="../_variables/cohortids.html">$cohortids</a>));
<a name="l609"><span class="linenum"> 609</span></a>  
<a name="l610"><span class="linenum"> 610</span></a>          <a class="var it4200" onMouseOver="hilite(4200)" onMouseOut="lolite()" onClick="logVariable('members')" href="../_variables/members.html">$members</a> = array();
<a name="l611"><span class="linenum"> 611</span></a>  
<a name="l612"><span class="linenum"> 612</span></a>          foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>['cohortids'] as <a class="var it2629" onMouseOver="hilite(2629)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a>) {
<a name="l613"><span class="linenum"> 613</span></a>  <span class="comment">            // Validate params.</span>
<a name="l614"><span class="linenum"> 614</span></a>              <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('cohort', array('id' =&gt; <a class="var it2629" onMouseOver="hilite(2629)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l615"><span class="linenum"> 615</span></a>  <span class="comment">            // Now security checks.</span>
<a name="l616"><span class="linenum"> 616</span></a>              <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = context::<a class="function" onClick="logFunction('instance_by_id')" href="../_functions/instance_by_id.html" onMouseOver="funcPopup(event,'instance_by_id')">instance_by_id</a>(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('contextid')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/contextid.html">contextid</a>, <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l617"><span class="linenum"> 617</span></a>              if (<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_COURSECAT')" href="../_constants/CONTEXT_COURSECAT.html" onMouseOver="constPopup(event,'CONTEXT_COURSECAT')">CONTEXT_COURSECAT</a> and <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>-&gt;<a onClick="logVariable('contextlevel')" class="var it42918" onMouseOver="hilite(42918)" onMouseOut="lolite()" href="../_variables/contextlevel.html">contextlevel</a> != <a class="constant" onClick="logConstant('CONTEXT_SYSTEM')" href="../_constants/CONTEXT_SYSTEM.html" onMouseOver="constPopup(event,'CONTEXT_SYSTEM')">CONTEXT_SYSTEM</a>) {
<a name="l618"><span class="linenum"> 618</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('invalid_parameter_exception')" href="../_classes/invalid_parameter_exception.html" onMouseOver="classPopup(event,'invalid_parameter_exception')">invalid_parameter_exception</a>('Invalid context');
<a name="l619"><span class="linenum"> 619</span></a>              }
<a name="l620"><span class="linenum"> 620</span></a>              self::<a class="function" onClick="logFunction('validate_context')" href="../_functions/validate_context.html" onMouseOver="funcPopup(event,'validate_context')">validate_context</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>);
<a name="l621"><span class="linenum"> 621</span></a>              if (!<a class="function" onClick="logFunction('has_any_capability')" href="../_functions/has_any_capability.html" onMouseOver="funcPopup(event,'has_any_capability')">has_any_capability</a>(array('moodle/cohort:manage', 'moodle/cohort:view'), <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>)) {
<a name="l622"><span class="linenum"> 622</span></a>                  throw <span class="keyword">new </span><a class="class" onClick="logClass('required_capability_exception')" href="../_classes/required_capability_exception.html" onMouseOver="classPopup(event,'required_capability_exception')">required_capability_exception</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, 'moodle/cohort:view', 'nopermissions', '');
<a name="l623"><span class="linenum"> 623</span></a>              }
<a name="l624"><span class="linenum"> 624</span></a>  
<a name="l625"><span class="linenum"> 625</span></a>              <a class="var it39243" onMouseOver="hilite(39243)" onMouseOut="lolite()" onClick="logVariable('cohortmembers')" href="../_variables/cohortmembers.html">$cohortmembers</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_sql')" href="../_functions/get_records_sql.html" onMouseOver="funcPopup(event,'get_records_sql')">get_records_sql</a>(&quot;SELECT u.id FROM {user} u, {cohort_members} cm
<a name="l626"><span class="linenum"> 626</span></a>                  WHERE u.id = cm.userid AND cm.cohortid = ?
<a name="l627"><span class="linenum"> 627</span></a>                  ORDER BY lastname ASC, firstname ASC&quot;, array(<a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('cohort')" href="../_variables/cohort.html">$cohort</a>-&gt;<a onClick="logVariable('id')" class="var it43123" onMouseOver="hilite(43123)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l628"><span class="linenum"> 628</span></a>              <a class="var it4200" onMouseOver="hilite(4200)" onMouseOut="lolite()" onClick="logVariable('members')" href="../_variables/members.html">$members</a>[] = array('cohortid' =&gt; <a class="var it2629" onMouseOver="hilite(2629)" onMouseOut="lolite()" onClick="logVariable('cohortid')" href="../_variables/cohortid.html">$cohortid</a>, 'userids' =&gt; <a class="phpfunction" onClick="logFunction('array_keys')" href="../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it39243" onMouseOver="hilite(39243)" onMouseOut="lolite()" onClick="logVariable('cohortmembers')" href="../_variables/cohortmembers.html">$cohortmembers</a>));
<a name="l629"><span class="linenum"> 629</span></a>          }
<a name="l630"><span class="linenum"> 630</span></a>          return <a class="var it4200" onMouseOver="hilite(4200)" onMouseOut="lolite()" onClick="logVariable('members')" href="../_variables/members.html">$members</a>;
<a name="l631"><span class="linenum"> 631</span></a>      }
<a name="l632"><span class="linenum"> 632</span></a>  
<a name="l633"><span class="linenum"> 633</span></a>      <span class="comment">/**</span>
<a name="l634"><span class="linenum"> 634</span></a>  <span class="comment">     * Returns description of method result value</span>
<a name="l635"><span class="linenum"> 635</span></a>  <span class="comment">     *</span>
<a name="l636"><span class="linenum"> 636</span></a>  <span class="comment">     * @return external_description</span>
<a name="l637"><span class="linenum"> 637</span></a>  <span class="comment">     * @since Moodle 2.5</span>
<a name="l638"><span class="linenum"> 638</span></a>  <span class="comment">     */</span>
<a name="l639"><span class="linenum"> 639</span></a>      public static function <a class="function" onClick="logFunction('get_cohort_members_returns')" href="../_functions/get_cohort_members_returns.html" onMouseOver="funcPopup(event,'get_cohort_members_returns')">get_cohort_members_returns</a>() {
<a name="l640"><span class="linenum"> 640</span></a>          return <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(
<a name="l641"><span class="linenum"> 641</span></a>              <span class="keyword">new </span><a class="class" onClick="logClass('external_single_structure')" href="../_classes/external_single_structure.html" onMouseOver="classPopup(event,'external_single_structure')">external_single_structure</a>(
<a name="l642"><span class="linenum"> 642</span></a>                  array(
<a name="l643"><span class="linenum"> 643</span></a>                      'cohortid' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'cohort record id'),
<a name="l644"><span class="linenum"> 644</span></a>                      'userids' =&gt; <span class="keyword">new </span><a class="class" onClick="logClass('external_multiple_structure')" href="../_classes/external_multiple_structure.html" onMouseOver="classPopup(event,'external_multiple_structure')">external_multiple_structure</a>(<span class="keyword">new </span><a class="class" onClick="logClass('external_value')" href="../_classes/external_value.html" onMouseOver="classPopup(event,'external_value')">external_value</a>(<a class="constant" onClick="logConstant('PARAM_INT')" href="../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>, 'user id')),
<a name="l645"><span class="linenum"> 645</span></a>                  )
<a name="l646"><span class="linenum"> 646</span></a>              )
<a name="l647"><span class="linenum"> 647</span></a>          );
<a name="l648"><span class="linenum"> 648</span></a>      }
<a name="l649"><span class="linenum"> 649</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'add_cohort_members_returns': ['add_cohort_members_returns', 'Returns description of method result value ', [['cohort','externallib.php',502]], 3],
'delete_cohort_members_parameters': ['delete_cohort_members_parameters', 'Returns description of method parameters ', [['cohort','externallib.php',516]], 1],
'getmessage': ['getmessage', '', [['lib/google/src/Google/Service','Freebase.php',441],['lib/google/src/Google/Service','AdSense.php',2970],['lib/google/src/Google/Service','Replicapool.php',1165],['lib/google/src/Google/Service','Replicapool.php',1257],['lib/google/src/Google/Service','Computeaccounts.php',1368],['lib/google/src/Google/Service','Computeaccounts.php',1460],['lib/google/src/Google/Service','Appengine.php',1604],['lib/google/src/Google/Service','Books.php',3579],['lib/google/src/Google/Service','Books.php',4429],['lib/google/src/Google/Service','Script.php',360],['lib/google/src/Google/Service','DeploymentManager.php',1116],['lib/google/src/Google/Service','DeploymentManager.php',1604],['lib/google/src/Google/Service','DeploymentManager.php',1641],['lib/google/src/Google/Service','DeploymentManager.php',1823],['lib/google/src/Google/Service','DeploymentManager.php',1860],['lib/google/src/Google/Service','Dataflow.php',2656],['lib/google/src/Google/Service','CloudUserAccounts.php',1807],['lib/google/src/Google/Service','CloudUserAccounts.php',1899],['lib/google/src/Google/Service','Replicapoolupdater.php',617],['lib/google/src/Google/Service','Replicapoolupdater.php',926],['lib/google/src/Google/Service','Replicapoolupdater.php',1018],['lib/google/src/Google/Service','Replicapoolupdater.php',1252],['lib/google/src/Google/Service','Bigquery.php',1367],['lib/google/src/Google/Service','ShoppingContent.php',4125],['lib/google/src/Google/Service','ShoppingContent.php',4527],['lib/google/src/Google/Service','ShoppingContent.php',4572],['lib/google/src/Google/Service','Genomics.php',3622],['lib/google/src/Google/Service','Reports.php',1106],['lib/google/src/Google/Service','Gmail.php',1371],['lib/google/src/Google/Service','Gmail.php',1467],['lib/google/src/Google/Service','Gmail.php',1495],['lib/google/src/Google/Service','Gmail.php',1513],['lib/google/src/Google/Service','Gmail.php',1531],['lib/google/src/Google/Service','Autoscaler.php',1079],['lib/google/src/Google/Service','Autoscaler.php',1171],['lib/google/src/Google/Service','AdExchangeSeller.php',1043],['lib/google/src/Google/Service','IdentityToolkit.php',1266],['lib/pear','PEAR.php',941],['lib/google/src/Google/Service','Storagetransfer.php',948],['lib/htmlpurifier/HTMLPurifier','Language.php',86],['lib/google/src/Google/Service','Resourceviews.php',894],['lib/google/src/Google/Service','Resourceviews.php',986],['lib/google/src/Google/Service','SQLAdmin.php',3029],['lib/google/src/Google/Service','Compute.php',8752],['lib/google/src/Google/Service','Compute.php',9200],['lib/google/src/Google/Service','Compute.php',10292],['lib/google/src/Google/Service','Compute.php',10384],['lib/google/src/Google/Service','Compute.php',10890],['lib/google/src/Google/Service','Compute.php',12525],['lib/google/src/Google/Service','Compute.php',12771],['lib/google/src/Google/Service','Compute.php',13249],['lib/google/src/Google/Service','Compute.php',13652],['lib/google/src/Google/Service','Compute.php',13804],['lib/google/src/Google/Service','Compute.php',14396],['lib/google/src/Google/Service','Compute.php',14488],['lib/google/src/Google/Service','Compute.php',14580],['lib/google/src/Google/Service','Compute.php',15235],['lib/google/src/Google/Service','Compute.php',16249],['lib/google/src/Google/Service','Compute.php',16675],['lib/google/src/Google/Service','Compute.php',17005],['lib/google/src/Google/Service','Compute.php',17723],['lib/google/src/Google/Service','Pubsub.php',711],['lib/google/src/Google/Service','Pubsub.php',748],['lib/google/src/Google/Service','Dfareporting.php',19533]], 489],
'get_cohorts': ['get_cohorts', 'Get cohorts definition specified by ids ', [['cohort','externallib.php',216]], 2],
'add_cohort_members_parameters': ['add_cohort_members_parameters', 'Returns description of method parameters ', [['cohort','externallib.php',383]], 1],
'create_cohorts': ['create_cohorts', 'Create one or more cohorts ', [['cohort','externallib.php',62]], 2],
'start_delegated_transaction': ['start_delegated_transaction', 'On DBs that support it, switch to transaction mode and begin a transaction you\'ll need to ensure you call allow_commit() on the returned object or your changes *will* be lost. ', [['lib/dml','moodle_database.php',2393]], 145],
'update_cohorts_returns': ['update_cohorts_returns', 'Returns description of method result value ', [['cohort','externallib.php',373]], 0],
'get_cohorts_parameters': ['get_cohorts_parameters', 'Returns description of method parameters ', [['cohort','externallib.php',201]], 1],
'cohort_delete_cohort': ['cohort_delete_cohort', 'Delete cohort. ', [['cohort','lib.php',101]], 8],
'cohort_update_cohort': ['cohort_update_cohort', 'Update existing cohort. ', [['cohort','lib.php',80]], 9],
'get_cohort_members_returns': ['get_cohort_members_returns', 'Returns description of method result value ', [['cohort','externallib.php',633]], 0],
'get_cohorts_returns': ['get_cohorts_returns', 'Returns description of method result value ', [['cohort','externallib.php',256]], 2],
'allow_commit': ['allow_commit', 'Commit delegated transaction. The real database commit SQL is executed only after committing all delegated transactions. ', [['lib/dml','moodle_transaction.php',78]], 135],
'delete_cohorts_parameters': ['delete_cohorts_parameters', 'Returns description of method parameters ', [['cohort','externallib.php',143]], 1],
'cohort_add_cohort': ['cohort_add_cohort', 'Add new cohort. ', [['cohort','lib.php',34]], 11],
'create_cohorts_parameters': ['create_cohorts_parameters', 'Returns description of method parameters ', [['cohort','externallib.php',30]], 1],
'delete_cohort_members': ['delete_cohort_members', 'Delete cohort members ', [['cohort','externallib.php',537]], 2],
'create_cohorts_returns': ['create_cohorts_returns', 'Returns description of method result value ', [['cohort','externallib.php',122]], 1],
'require_capability': ['require_capability', 'Wrapper round the require_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',306],['mod/quiz','attemptlib.php',929],['lib','accesslib.php',762],['backup/util/ui','restore_ui_components.php',157]], 690],
'update_cohorts_parameters': ['update_cohorts_parameters', 'Returns description of method parameters ', [['cohort','externallib.php',277]], 1],
'validate_context': ['validate_context', 'Makes sure user may execute functions in this context. ', [['lib','externallib.php',448]], 256],
'validate_parameters': ['validate_parameters', 'Validates submitted function parameters, if anything is incorrect invalid_parameter_exception is thrown. This is a simple recursive method which is intended to be called from each implementation method of external API. ', [['lib','externallib.php',279]], 340],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'get_records': ['get_records', 'Load a list of records. ', [['competency/classes','persistent.php',709],['mod/glossary/classes','entry_query_builder.php',295],['lib/dml','moodle_database.php',1285],['lib','coursecatlib.php',651],['question','category_class.php',63]], 965],
'instance_by_id': ['instance_by_id', 'Get a context instance as an object, from a given context id. ', [['lib','accesslib.php',5434]], 235],
'delete_cohort_members_returns': ['delete_cohort_members_returns', 'Returns description of method result value ', [['cohort','externallib.php',575]], 0],
'delete_cohorts': ['delete_cohorts', 'Delete cohorts ', [['cohort','externallib.php',157]], 2],
'cohort_remove_member': ['cohort_remove_member', 'Remove cohort member ', [['cohort','lib.php',182]], 21],
'external_validate_format': ['external_validate_format', 'Validate text field format against known FORMAT_XXX ', [['lib','externallib.php',833]], 13],
'external_format_text': ['external_format_text', 'Format the text to be returned properly as requested by the either the web service server, either by an internally call. The caller can change the format (raw, filter, file, fileurl) with the external_settings singleton All web service servers must set this singleton when parsing the $_GET and $_POST. ', [['lib','externallib.php',887]], 61],
'validate_param': ['validate_param', 'Strict validation of parameter values, the values are only converted to requested PHP type. Internally it is using clean_param, the values before and after cleaning must be equal - otherwise an invalid_parameter_exception is thrown. Objects and classes are not accepted. ', [['lib','moodlelib.php',696]], 36],
'get_cohort_members': ['get_cohort_members', 'Return all members for a cohort ', [['cohort','externallib.php',599]], 0],
'get_records_sql': ['get_records_sql', 'Get a number of records as an array of objects. ', [['lib/dml','pdo_moodle_database.php',309],['lib/dml','oci_native_moodle_database.php',1145],['lib/dml','pgsql_native_moodle_database.php',732],['lib/dml','mssql_native_moodle_database.php',805],['lib/dml','mysqli_native_moodle_database.php',1057],['lib/dml','sqlsrv_native_moodle_database.php',890],['lib/dml/tests','dml_test.php',5545]], 700],
'get_records_list': ['get_records_list', 'Get a number of records as an array of objects where one field match one list of values. ', [['lib/dml','moodle_database.php',1310]], 34],
'has_any_capability': ['has_any_capability', 'Check if the user has any one of several capabilities from a list. ', [['lib','accesslib.php',496]], 100],
'add_cohort_members': ['add_cohort_members', 'Add cohort members ', [['cohort','externallib.php',416]], 4],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'id': ['id', 'Convenience function that creates an HTMLPurifier_ConfigSchema_Interchange_Id object based on a string Id. ', [['lib/htmlpurifier/HTMLPurifier/ConfigSchema','InterchangeBuilder.php',199]], 58],
'cohort_add_member': ['cohort_add_member', 'Add cohort member ', [['cohort','lib.php',153]], 70],
'delete_cohorts_returns': ['delete_cohorts_returns', 'Returns description of method result value ', [['cohort','externallib.php',191]], 0],
'get_cohort_members_parameters': ['get_cohort_members_parameters', 'Returns description of method parameters ', [['cohort','externallib.php',585]], 1],
'list': ['list', '', [['mod/data/preset/imagegallery','jstemplate.js',9]], 2229],
'update_cohorts': ['update_cohorts', 'Update cohorts ', [['cohort','externallib.php',310]], 8],
'get_field': ['get_field', 'Gets an instance of the form field. ', [['lib/behat','behat_field_manager.php',248],['mod/quiz/report/statistics/classes','calculated.php',109],['lib/dml','moodle_database.php',1546],['user/filters','lib.php',124]], 536],
'record_exists': ['record_exists', 'Check if a record exists by ID. ', [['competency/classes','persistent.php',842],['lib/dml','moodle_database.php',1817]], 901],
'array_merge': ['array_merge', '', [], 2944],
'in_array': ['in_array', '', [], 1234],
'trim': ['trim', '', [], 1948],
'array_keys': ['array_keys', '', [], 1256],
'system': ['system', '', [], 19]};
CLASS_DATA={
'external_multiple_structure': ['external_multiple_structure', 'Bulk array description class. ', [['lib','externallib.php',609]], 350],
'context_system': ['context_system', 'System context class ', [['lib','accesslib.php',6157]], 1147],
'invalid_parameter_exception': ['invalid_parameter_exception', 'Exception indicating malformed parameter problem. This exception is not supposed to be thrown when processing user submitted data in forms. It is more suitable for WS and other low level stuff. ', [['lib','setuplib.php',259]], 88],
'external_value': ['external_value', 'Scalar value description class ', [['lib','externallib.php',546]], 2505],
'external_function_parameters': ['external_function_parameters', 'Description of top level - PHP function parameters. ', [['lib','externallib.php',638]], 344],
'external_warnings': ['external_warnings', 'Standard Moodle web service warnings ', [['lib','externallib.php',768]], 150],
'core_cohort_external': ['core_cohort_external', '', [['cohort','externallib.php',28]], 26],
'required_capability_exception': ['required_capability_exception', 'Exceptions indicating user does not have permissions to do something and the execution can not continue. ', [['lib','setuplib.php',210]], 131],
'moodle_exception': ['moodle_exception', 'Base Moodle Exception class ', [['lib','setuplib.php',75]], 606],
'external_api': ['external_api', 'Base class for external api methods. ', [['lib','externallib.php',47]], 808],
'context_coursecat': ['context_coursecat', 'Course category context class ', [['lib','accesslib.php',6585]], 194],
'external_single_structure': ['external_single_structure', 'Associative array description class ', [['lib','externallib.php',580]], 460],
'external_format_value': ['external_format_value', 'A pre-filled external_value class for text format. ', [['lib','externallib.php',799]], 70]};
CONST_DATA={
'CONTEXT_COURSECAT': ['CONTEXT_COURSECAT', '', [['lib','accesslib.php',146]], 105],
'PARAM_ALPHANUMEXT': ['PARAM_ALPHANUMEXT', '', [['lib','moodlelib.php',93]], 200],
'VALUE_DEFAULT': ['VALUE_DEFAULT', '', [['lib','moodlelib.php',342]], 304],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 3812],
'VALUE_OPTIONAL': ['VALUE_OPTIONAL', '', [['lib','moodlelib.php',337]], 761],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1384],
'CONTEXT_SYSTEM': ['CONTEXT_SYSTEM', '', [['lib','accesslib.php',142]], 184],
'PARAM_RAW': ['PARAM_RAW', '', [['lib','moodlelib.php',193]], 921],
'PARAM_TEXT': ['PARAM_TEXT', '', [['lib','moodlelib.php',228]], 542],
'PARAM_BOOL': ['PARAM_BOOL', '', [['lib','moodlelib.php',108]], 802]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
