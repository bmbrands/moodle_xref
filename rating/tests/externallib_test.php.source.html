<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /rating/tests/externallib_test.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='rating/tests';
filename='externallib_test.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/rating/tests/</a> -> <a href="externallib_test.php.html">externallib_test.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="externallib_test.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="externallib_test.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * External rating functions unit tests</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    core_rating</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @category   external</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2015 Costantino Cito &lt;ccito@cvaconsulting.com&gt;</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> */</span>
<a name="l25"><span class="linenum">  25</span></a>  
<a name="l26"><span class="linenum">  26</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l27"><span class="linenum">  27</span></a>  
<a name="l28"><span class="linenum">  28</span></a>  global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../webservice/tests/helpers.php.html">/webservice/tests/helpers.php</a>');
<a name="l31"><span class="linenum">  31</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../rating/lib.php.html">/rating/lib.php</a>');
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">/**</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * External rating functions unit tests</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> *</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * @package    core_rating</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * @category   external</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> * @copyright  2015 Costantino Cito &lt;ccito@cvaconsulting.com&gt;</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> */</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('core_rating_externallib_testcase')" href="../../_classes/core_rating_externallib_testcase.html" onMouseOver="classPopup(event,'core_rating_externallib_testcase')">core_rating_externallib_testcase</a> extends externallib_advanced_testcase {
<a name="l42"><span class="linenum">  42</span></a>  
<a name="l43"><span class="linenum">  43</span></a>      <span class="comment">/**</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     * Test get_item_ratings</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     */</span>
<a name="l46"><span class="linenum">  46</span></a>      public function <a class="function" onClick="logFunction('test_get_item_ratings')" href="../../_functions/test_get_item_ratings.html" onMouseOver="funcPopup(event,'test_get_item_ratings')">test_get_item_ratings</a>() {
<a name="l47"><span class="linenum">  47</span></a>  
<a name="l48"><span class="linenum">  48</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../../_variables/USER.html">$USER</a>;
<a name="l49"><span class="linenum">  49</span></a>  
<a name="l50"><span class="linenum">  50</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('resetAfterTest')" href="../../_functions/resetaftertest.html" onMouseOver="funcPopup(event,'resetaftertest')">resetAfterTest</a>(true);
<a name="l51"><span class="linenum">  51</span></a>  
<a name="l52"><span class="linenum">  52</span></a>          <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = self::<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_course')" href="../../_functions/create_course.html" onMouseOver="funcPopup(event,'create_course')">create_course</a>();
<a name="l53"><span class="linenum">  53</span></a>          <a class="var it4751" onMouseOver="hilite(4751)" onMouseOut="lolite()" onClick="logVariable('student')" href="../../_variables/student.html">$student</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_user')" href="../../_functions/create_user.html" onMouseOver="funcPopup(event,'create_user')">create_user</a>();
<a name="l54"><span class="linenum">  54</span></a>          <a class="var it26342" onMouseOver="hilite(26342)" onMouseOut="lolite()" onClick="logVariable('teacher1')" href="../../_variables/teacher1.html">$teacher1</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_user')" href="../../_functions/create_user.html" onMouseOver="funcPopup(event,'create_user')">create_user</a>();
<a name="l55"><span class="linenum">  55</span></a>          <a class="var it26343" onMouseOver="hilite(26343)" onMouseOut="lolite()" onClick="logVariable('teacher2')" href="../../_variables/teacher2.html">$teacher2</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_user')" href="../../_functions/create_user.html" onMouseOver="funcPopup(event,'create_user')">create_user</a>();
<a name="l56"><span class="linenum">  56</span></a>          <a class="var it26344" onMouseOver="hilite(26344)" onMouseOut="lolite()" onClick="logVariable('teacher3')" href="../../_variables/teacher3.html">$teacher3</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_user')" href="../../_functions/create_user.html" onMouseOver="funcPopup(event,'create_user')">create_user</a>();
<a name="l57"><span class="linenum">  57</span></a>          <a class="var it1111" onMouseOver="hilite(1111)" onMouseOut="lolite()" onClick="logVariable('studentrole')" href="../../_variables/studentrole.html">$studentrole</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('role', array('shortname' =&gt; 'student'));
<a name="l58"><span class="linenum">  58</span></a>          <a class="var it3180" onMouseOver="hilite(3180)" onMouseOut="lolite()" onClick="logVariable('teacherrole')" href="../../_variables/teacherrole.html">$teacherrole</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('role', array('shortname' =&gt; 'teacher'));
<a name="l59"><span class="linenum">  59</span></a>          <a class="function" onClick="logFunction('unassign_capability')" href="../../_functions/unassign_capability.html" onMouseOver="funcPopup(event,'unassign_capability')">unassign_capability</a>('moodle/site:accessallgroups', <a class="var it3180" onMouseOver="hilite(3180)" onMouseOut="lolite()" onClick="logVariable('teacherrole')" href="../../_variables/teacherrole.html">$teacherrole</a>-&gt;<a onClick="logVariable('id')" class="var it42936" onMouseOver="hilite(42936)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l60"><span class="linenum">  60</span></a>  
<a name="l61"><span class="linenum">  61</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('enrol_user')" href="../../_functions/enrol_user.html" onMouseOver="funcPopup(event,'enrol_user')">enrol_user</a>(<a class="var it4751" onMouseOver="hilite(4751)" onMouseOut="lolite()" onClick="logVariable('student')" href="../../_variables/student.html">$student</a>-&gt;<a onClick="logVariable('id')" class="var it42939" onMouseOver="hilite(42939)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,  <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it1111" onMouseOver="hilite(1111)" onMouseOut="lolite()" onClick="logVariable('studentrole')" href="../../_variables/studentrole.html">$studentrole</a>-&gt;<a onClick="logVariable('id')" class="var it42933" onMouseOver="hilite(42933)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l62"><span class="linenum">  62</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('enrol_user')" href="../../_functions/enrol_user.html" onMouseOver="funcPopup(event,'enrol_user')">enrol_user</a>(<a class="var it26342" onMouseOver="hilite(26342)" onMouseOut="lolite()" onClick="logVariable('teacher1')" href="../../_variables/teacher1.html">$teacher1</a>-&gt;<a onClick="logVariable('id')" class="var it43126" onMouseOver="hilite(43126)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it3180" onMouseOver="hilite(3180)" onMouseOut="lolite()" onClick="logVariable('teacherrole')" href="../../_variables/teacherrole.html">$teacherrole</a>-&gt;<a onClick="logVariable('id')" class="var it42936" onMouseOver="hilite(42936)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l63"><span class="linenum">  63</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('enrol_user')" href="../../_functions/enrol_user.html" onMouseOver="funcPopup(event,'enrol_user')">enrol_user</a>(<a class="var it26343" onMouseOver="hilite(26343)" onMouseOut="lolite()" onClick="logVariable('teacher2')" href="../../_variables/teacher2.html">$teacher2</a>-&gt;<a onClick="logVariable('id')" class="var it43723" onMouseOver="hilite(43723)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it3180" onMouseOver="hilite(3180)" onMouseOut="lolite()" onClick="logVariable('teacherrole')" href="../../_variables/teacherrole.html">$teacherrole</a>-&gt;<a onClick="logVariable('id')" class="var it42936" onMouseOver="hilite(42936)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l64"><span class="linenum">  64</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('enrol_user')" href="../../_functions/enrol_user.html" onMouseOver="funcPopup(event,'enrol_user')">enrol_user</a>(<a class="var it26344" onMouseOver="hilite(26344)" onMouseOut="lolite()" onClick="logVariable('teacher3')" href="../../_variables/teacher3.html">$teacher3</a>-&gt;<a onClick="logVariable('id')" class="var it45373" onMouseOver="hilite(45373)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, <a class="var it3180" onMouseOver="hilite(3180)" onMouseOut="lolite()" onClick="logVariable('teacherrole')" href="../../_variables/teacherrole.html">$teacherrole</a>-&gt;<a onClick="logVariable('id')" class="var it42936" onMouseOver="hilite(42936)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l65"><span class="linenum">  65</span></a>  
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">        // Create the forum.</span>
<a name="l67"><span class="linenum">  67</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = new stdClass();
<a name="l68"><span class="linenum">  68</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('introformat')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/introformat.html">introformat</a> = <a class="constant" onClick="logConstant('FORMAT_HTML')" href="../../_constants/FORMAT_HTML.html" onMouseOver="constPopup(event,'FORMAT_HTML')">FORMAT_HTML</a>;
<a name="l69"><span class="linenum">  69</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('course')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/course.html">course</a> = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">        // Set Aggregate type = Average of ratings.</span>
<a name="l71"><span class="linenum">  71</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('assessed')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/assessed.html">assessed</a> = <a class="constant" onClick="logConstant('RATING_AGGREGATE_AVERAGE')" href="../../_constants/RATING_AGGREGATE_AVERAGE.html" onMouseOver="constPopup(event,'RATING_AGGREGATE_AVERAGE')">RATING_AGGREGATE_AVERAGE</a>;
<a name="l72"><span class="linenum">  72</span></a>          <a class="var it504" onMouseOver="hilite(504)" onMouseOut="lolite()" onClick="logVariable('forum')" href="../../_variables/forum.html">$forum</a> = self::<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_module')" href="../../_functions/create_module.html" onMouseOver="funcPopup(event,'create_module')">create_module</a>('forum', <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>);
<a name="l73"><span class="linenum">  73</span></a>  
<a name="l74"><span class="linenum">  74</span></a>          <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a> = <a class="class" onClick="logClass('context_module')" href="../../_classes/context_module.html" onMouseOver="classPopup(event,'context_module')">context_module</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it504" onMouseOver="hilite(504)" onMouseOut="lolite()" onClick="logVariable('forum')" href="../../_variables/forum.html">$forum</a>-&gt;<a onClick="logVariable('cmid')" class="var it43075" onMouseOver="hilite(43075)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>)-&gt;id;
<a name="l75"><span class="linenum">  75</span></a>  
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">        // Add discussion to the forums.</span>
<a name="l77"><span class="linenum">  77</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a> = new stdClass();
<a name="l78"><span class="linenum">  78</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('course')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/course.html">course</a> = <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l79"><span class="linenum">  79</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('userid')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a> = <a class="var it4751" onMouseOver="hilite(4751)" onMouseOut="lolite()" onClick="logVariable('student')" href="../../_variables/student.html">$student</a>-&gt;<a onClick="logVariable('id')" class="var it42939" onMouseOver="hilite(42939)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l80"><span class="linenum">  80</span></a>          <a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>-&gt;<a onClick="logVariable('forum')" class="var it42976" onMouseOver="hilite(42976)" onMouseOut="lolite()" href="../../_variables/forum.html">forum</a> = <a class="var it504" onMouseOver="hilite(504)" onMouseOut="lolite()" onClick="logVariable('forum')" href="../../_variables/forum.html">$forum</a>-&gt;<a onClick="logVariable('id')" class="var it43075" onMouseOver="hilite(43075)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l81"><span class="linenum">  81</span></a>          <a class="var it4240" onMouseOver="hilite(4240)" onMouseOut="lolite()" onClick="logVariable('discussion')" href="../../_variables/discussion.html">$discussion</a> = self::<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('get_plugin_generator')" href="../../_functions/get_plugin_generator.html" onMouseOver="funcPopup(event,'get_plugin_generator')">get_plugin_generator</a>('mod_forum')-&gt;<a class="function" onClick="logFunction('create_discussion')" href="../../_functions/create_discussion.html" onMouseOver="funcPopup(event,'create_discussion')">create_discussion</a>(<a class="var it699" onMouseOver="hilite(699)" onMouseOut="lolite()" onClick="logVariable('record')" href="../../_variables/record.html">$record</a>);
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">        // Retrieve the first post.</span>
<a name="l83"><span class="linenum">  83</span></a>          <a class="var it4569" onMouseOver="hilite(4569)" onMouseOut="lolite()" onClick="logVariable('post')" href="../../_variables/post.html">$post</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('forum_posts', array('discussion' =&gt; <a class="var it4240" onMouseOver="hilite(4240)" onMouseOut="lolite()" onClick="logVariable('discussion')" href="../../_variables/discussion.html">$discussion</a>-&gt;<a onClick="logVariable('id')" class="var it43540" onMouseOver="hilite(43540)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l84"><span class="linenum">  84</span></a>  
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">        // Rete the discussion as teacher1.</span>
<a name="l86"><span class="linenum">  86</span></a>          <a class="var it15944" onMouseOver="hilite(15944)" onMouseOut="lolite()" onClick="logVariable('rating1')" href="../../_variables/rating1.html">$rating1</a> = new stdClass();
<a name="l87"><span class="linenum">  87</span></a>          <a class="var it15944" onMouseOver="hilite(15944)" onMouseOut="lolite()" onClick="logVariable('rating1')" href="../../_variables/rating1.html">$rating1</a>-&gt;<a onClick="logVariable('contextid')" class="var it45374" onMouseOver="hilite(45374)" onMouseOut="lolite()" href="../../_variables/contextid.html">contextid</a> = <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>;
<a name="l88"><span class="linenum">  88</span></a>          <a class="var it15944" onMouseOver="hilite(15944)" onMouseOut="lolite()" onClick="logVariable('rating1')" href="../../_variables/rating1.html">$rating1</a>-&gt;<a onClick="logVariable('component')" class="var it45374" onMouseOver="hilite(45374)" onMouseOut="lolite()" href="../../_variables/component.html">component</a> = 'mod_forum';
<a name="l89"><span class="linenum">  89</span></a>          <a class="var it15944" onMouseOver="hilite(15944)" onMouseOut="lolite()" onClick="logVariable('rating1')" href="../../_variables/rating1.html">$rating1</a>-&gt;<a onClick="logVariable('ratingarea')" class="var it45374" onMouseOver="hilite(45374)" onMouseOut="lolite()" href="../../_variables/ratingarea.html">ratingarea</a> = 'post';
<a name="l90"><span class="linenum">  90</span></a>          <a class="var it15944" onMouseOver="hilite(15944)" onMouseOut="lolite()" onClick="logVariable('rating1')" href="../../_variables/rating1.html">$rating1</a>-&gt;<a onClick="logVariable('itemid')" class="var it45374" onMouseOver="hilite(45374)" onMouseOut="lolite()" href="../../_variables/itemid.html">itemid</a> = <a class="var it4569" onMouseOver="hilite(4569)" onMouseOut="lolite()" onClick="logVariable('post')" href="../../_variables/post.html">$post</a>-&gt;<a onClick="logVariable('id')" class="var it43223" onMouseOver="hilite(43223)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l91"><span class="linenum">  91</span></a>          <a class="var it15944" onMouseOver="hilite(15944)" onMouseOut="lolite()" onClick="logVariable('rating1')" href="../../_variables/rating1.html">$rating1</a>-&gt;<a onClick="logVariable('rating')" class="var it45374" onMouseOver="hilite(45374)" onMouseOut="lolite()" href="../../_variables/rating.html">rating</a> = 90;
<a name="l92"><span class="linenum">  92</span></a>          <a class="var it15944" onMouseOver="hilite(15944)" onMouseOut="lolite()" onClick="logVariable('rating1')" href="../../_variables/rating1.html">$rating1</a>-&gt;<a onClick="logVariable('scaleid')" class="var it45374" onMouseOver="hilite(45374)" onMouseOut="lolite()" href="../../_variables/scaleid.html">scaleid</a> = 100;
<a name="l93"><span class="linenum">  93</span></a>          <a class="var it15944" onMouseOver="hilite(15944)" onMouseOut="lolite()" onClick="logVariable('rating1')" href="../../_variables/rating1.html">$rating1</a>-&gt;<a onClick="logVariable('userid')" class="var it45374" onMouseOver="hilite(45374)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a> = <a class="var it26342" onMouseOver="hilite(26342)" onMouseOut="lolite()" onClick="logVariable('teacher1')" href="../../_variables/teacher1.html">$teacher1</a>-&gt;<a onClick="logVariable('id')" class="var it43126" onMouseOver="hilite(43126)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l94"><span class="linenum">  94</span></a>          <a class="var it15944" onMouseOver="hilite(15944)" onMouseOut="lolite()" onClick="logVariable('rating1')" href="../../_variables/rating1.html">$rating1</a>-&gt;<a onClick="logVariable('timecreated')" class="var it45374" onMouseOver="hilite(45374)" onMouseOut="lolite()" href="../../_variables/timecreated.html">timecreated</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l95"><span class="linenum">  95</span></a>          <a class="var it15944" onMouseOver="hilite(15944)" onMouseOut="lolite()" onClick="logVariable('rating1')" href="../../_variables/rating1.html">$rating1</a>-&gt;<a onClick="logVariable('timemodified')" class="var it45374" onMouseOver="hilite(45374)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l96"><span class="linenum">  96</span></a>          <a class="var it15944" onMouseOver="hilite(15944)" onMouseOut="lolite()" onClick="logVariable('rating1')" href="../../_variables/rating1.html">$rating1</a>-&gt;<a onClick="logVariable('id')" class="var it45374" onMouseOver="hilite(45374)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('rating', <a class="var it15944" onMouseOver="hilite(15944)" onMouseOut="lolite()" onClick="logVariable('rating1')" href="../../_variables/rating1.html">$rating1</a>);
<a name="l97"><span class="linenum">  97</span></a>  
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">        // Rete the discussion as teacher2.</span>
<a name="l99"><span class="linenum">  99</span></a>          <a class="var it15946" onMouseOver="hilite(15946)" onMouseOut="lolite()" onClick="logVariable('rating2')" href="../../_variables/rating2.html">$rating2</a> = new stdClass();
<a name="l100"><span class="linenum"> 100</span></a>          <a class="var it15946" onMouseOver="hilite(15946)" onMouseOut="lolite()" onClick="logVariable('rating2')" href="../../_variables/rating2.html">$rating2</a>-&gt;<a onClick="logVariable('contextid')" class="var it45375" onMouseOver="hilite(45375)" onMouseOut="lolite()" href="../../_variables/contextid.html">contextid</a> = <a class="var it782" onMouseOver="hilite(782)" onMouseOut="lolite()" onClick="logVariable('contextid')" href="../../_variables/contextid.html">$contextid</a>;
<a name="l101"><span class="linenum"> 101</span></a>          <a class="var it15946" onMouseOver="hilite(15946)" onMouseOut="lolite()" onClick="logVariable('rating2')" href="../../_variables/rating2.html">$rating2</a>-&gt;<a onClick="logVariable('component')" class="var it45375" onMouseOver="hilite(45375)" onMouseOut="lolite()" href="../../_variables/component.html">component</a> = 'mod_forum';
<a name="l102"><span class="linenum"> 102</span></a>          <a class="var it15946" onMouseOver="hilite(15946)" onMouseOut="lolite()" onClick="logVariable('rating2')" href="../../_variables/rating2.html">$rating2</a>-&gt;<a onClick="logVariable('ratingarea')" class="var it45375" onMouseOver="hilite(45375)" onMouseOut="lolite()" href="../../_variables/ratingarea.html">ratingarea</a> = 'post';
<a name="l103"><span class="linenum"> 103</span></a>          <a class="var it15946" onMouseOver="hilite(15946)" onMouseOut="lolite()" onClick="logVariable('rating2')" href="../../_variables/rating2.html">$rating2</a>-&gt;<a onClick="logVariable('itemid')" class="var it45375" onMouseOver="hilite(45375)" onMouseOut="lolite()" href="../../_variables/itemid.html">itemid</a> = <a class="var it4569" onMouseOver="hilite(4569)" onMouseOut="lolite()" onClick="logVariable('post')" href="../../_variables/post.html">$post</a>-&gt;<a onClick="logVariable('id')" class="var it43223" onMouseOver="hilite(43223)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l104"><span class="linenum"> 104</span></a>          <a class="var it15946" onMouseOver="hilite(15946)" onMouseOut="lolite()" onClick="logVariable('rating2')" href="../../_variables/rating2.html">$rating2</a>-&gt;<a onClick="logVariable('rating')" class="var it45375" onMouseOver="hilite(45375)" onMouseOut="lolite()" href="../../_variables/rating.html">rating</a> = 95;
<a name="l105"><span class="linenum"> 105</span></a>          <a class="var it15946" onMouseOver="hilite(15946)" onMouseOut="lolite()" onClick="logVariable('rating2')" href="../../_variables/rating2.html">$rating2</a>-&gt;<a onClick="logVariable('scaleid')" class="var it45375" onMouseOver="hilite(45375)" onMouseOut="lolite()" href="../../_variables/scaleid.html">scaleid</a> = 100;
<a name="l106"><span class="linenum"> 106</span></a>          <a class="var it15946" onMouseOver="hilite(15946)" onMouseOut="lolite()" onClick="logVariable('rating2')" href="../../_variables/rating2.html">$rating2</a>-&gt;<a onClick="logVariable('userid')" class="var it45375" onMouseOver="hilite(45375)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a> = <a class="var it26343" onMouseOver="hilite(26343)" onMouseOut="lolite()" onClick="logVariable('teacher2')" href="../../_variables/teacher2.html">$teacher2</a>-&gt;<a onClick="logVariable('id')" class="var it43723" onMouseOver="hilite(43723)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l107"><span class="linenum"> 107</span></a>          <a class="var it15946" onMouseOver="hilite(15946)" onMouseOut="lolite()" onClick="logVariable('rating2')" href="../../_variables/rating2.html">$rating2</a>-&gt;<a onClick="logVariable('timecreated')" class="var it45375" onMouseOver="hilite(45375)" onMouseOut="lolite()" href="../../_variables/timecreated.html">timecreated</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>() + 1;
<a name="l108"><span class="linenum"> 108</span></a>          <a class="var it15946" onMouseOver="hilite(15946)" onMouseOut="lolite()" onClick="logVariable('rating2')" href="../../_variables/rating2.html">$rating2</a>-&gt;<a onClick="logVariable('timemodified')" class="var it45375" onMouseOver="hilite(45375)" onMouseOut="lolite()" href="../../_variables/timemodified.html">timemodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>() + 1;
<a name="l109"><span class="linenum"> 109</span></a>          <a class="var it15946" onMouseOver="hilite(15946)" onMouseOut="lolite()" onClick="logVariable('rating2')" href="../../_variables/rating2.html">$rating2</a>-&gt;<a onClick="logVariable('id')" class="var it45375" onMouseOver="hilite(45375)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('rating', <a class="var it15946" onMouseOver="hilite(15946)" onMouseOut="lolite()" onClick="logVariable('rating2')" href="../../_variables/rating2.html">$rating2</a>);
<a name="l110"><span class="linenum"> 110</span></a>  
<a name="l111"><span class="linenum"> 111</span></a>  <span class="comment">        // Delete teacher2, we must still receive the ratings.</span>
<a name="l112"><span class="linenum"> 112</span></a>          <a class="function" onClick="logFunction('delete_user')" href="../../_functions/delete_user.html" onMouseOver="funcPopup(event,'delete_user')">delete_user</a>(<a class="var it26343" onMouseOver="hilite(26343)" onMouseOut="lolite()" onClick="logVariable('teacher2')" href="../../_variables/teacher2.html">$teacher2</a>);
<a name="l113"><span class="linenum"> 113</span></a>  
<a name="l114"><span class="linenum"> 114</span></a>  <span class="comment">        // Teachers can see all the ratings.</span>
<a name="l115"><span class="linenum"> 115</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setUser')" href="../../_functions/setuser.html" onMouseOver="funcPopup(event,'setuser')">setUser</a>(<a class="var it26342" onMouseOver="hilite(26342)" onMouseOut="lolite()" onClick="logVariable('teacher1')" href="../../_variables/teacher1.html">$teacher1</a>);
<a name="l116"><span class="linenum"> 116</span></a>  
<a name="l117"><span class="linenum"> 117</span></a>          <a class="var it5404" onMouseOver="hilite(5404)" onMouseOut="lolite()" onClick="logVariable('ratings')" href="../../_variables/ratings.html">$ratings</a> = <a class="class" onClick="logClass('core_rating_external')" href="../../_classes/core_rating_external.html" onMouseOver="classPopup(event,'core_rating_external')">core_rating_external</a>::<a class="function" onClick="logFunction('get_item_ratings')" href="../../_functions/get_item_ratings.html" onMouseOver="funcPopup(event,'get_item_ratings')">get_item_ratings</a>('module', <a class="var it504" onMouseOver="hilite(504)" onMouseOut="lolite()" onClick="logVariable('forum')" href="../../_variables/forum.html">$forum</a>-&gt;<a onClick="logVariable('cmid')" class="var it43075" onMouseOver="hilite(43075)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>, 'mod_forum', 'post', <a class="var it4569" onMouseOver="hilite(4569)" onMouseOut="lolite()" onClick="logVariable('post')" href="../../_variables/post.html">$post</a>-&gt;<a onClick="logVariable('id')" class="var it43223" onMouseOver="hilite(43223)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 100, '');
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment">        // We need to execute the return values cleaning process to simulate the web service server.</span>
<a name="l119"><span class="linenum"> 119</span></a>          <a class="var it5404" onMouseOver="hilite(5404)" onMouseOut="lolite()" onClick="logVariable('ratings')" href="../../_variables/ratings.html">$ratings</a> = <a class="class" onClick="logClass('external_api')" href="../../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a>::<a class="function" onClick="logFunction('clean_returnvalue')" href="../../_functions/clean_returnvalue.html" onMouseOver="funcPopup(event,'clean_returnvalue')">clean_returnvalue</a>(<a class="class" onClick="logClass('core_rating_external')" href="../../_classes/core_rating_external.html" onMouseOver="classPopup(event,'core_rating_external')">core_rating_external</a>::<a class="function" onClick="logFunction('get_item_ratings_returns')" href="../../_functions/get_item_ratings_returns.html" onMouseOver="funcPopup(event,'get_item_ratings_returns')">get_item_ratings_returns</a>(), <a class="var it5404" onMouseOver="hilite(5404)" onMouseOut="lolite()" onClick="logVariable('ratings')" href="../../_variables/ratings.html">$ratings</a>);
<a name="l120"><span class="linenum"> 120</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertCount(2, <a class="var it5404" onMouseOver="hilite(5404)" onMouseOut="lolite()" onClick="logVariable('ratings')" href="../../_variables/ratings.html">$ratings</a>['ratings']);
<a name="l121"><span class="linenum"> 121</span></a>  
<a name="l122"><span class="linenum"> 122</span></a>          <a class="var it26345" onMouseOver="hilite(26345)" onMouseOut="lolite()" onClick="logVariable('indexedratings')" href="../../_variables/indexedratings.html">$indexedratings</a> = array();
<a name="l123"><span class="linenum"> 123</span></a>          foreach (<a class="var it5404" onMouseOver="hilite(5404)" onMouseOut="lolite()" onClick="logVariable('ratings')" href="../../_variables/ratings.html">$ratings</a>['ratings'] as <a class="var it5405" onMouseOver="hilite(5405)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../../_variables/rating.html">$rating</a>) {
<a name="l124"><span class="linenum"> 124</span></a>              <a class="var it26345" onMouseOver="hilite(26345)" onMouseOut="lolite()" onClick="logVariable('indexedratings')" href="../../_variables/indexedratings.html">$indexedratings</a>[<a class="var it5405" onMouseOver="hilite(5405)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../../_variables/rating.html">$rating</a>['id']] = <a class="var it5405" onMouseOver="hilite(5405)" onMouseOut="lolite()" onClick="logVariable('rating')" href="../../_variables/rating.html">$rating</a>;
<a name="l125"><span class="linenum"> 125</span></a>          }
<a name="l126"><span class="linenum"> 126</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it15944" onMouseOver="hilite(15944)" onMouseOut="lolite()" onClick="logVariable('rating1')" href="../../_variables/rating1.html">$rating1</a>-&gt;<a onClick="logVariable('rating')" class="var it45374" onMouseOver="hilite(45374)" onMouseOut="lolite()" href="../../_variables/rating.html">rating</a>.' / '.<a class="var it15944" onMouseOver="hilite(15944)" onMouseOut="lolite()" onClick="logVariable('rating1')" href="../../_variables/rating1.html">$rating1</a>-&gt;<a onClick="logVariable('scaleid')" class="var it45374" onMouseOver="hilite(45374)" onMouseOut="lolite()" href="../../_variables/scaleid.html">scaleid</a>, <a class="var it26345" onMouseOver="hilite(26345)" onMouseOut="lolite()" onClick="logVariable('indexedratings')" href="../../_variables/indexedratings.html">$indexedratings</a>[<a class="var it15944" onMouseOver="hilite(15944)" onMouseOut="lolite()" onClick="logVariable('rating1')" href="../../_variables/rating1.html">$rating1</a>-&gt;<a onClick="logVariable('id')" class="var it45374" onMouseOver="hilite(45374)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['rating']);
<a name="l127"><span class="linenum"> 127</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it15946" onMouseOver="hilite(15946)" onMouseOut="lolite()" onClick="logVariable('rating2')" href="../../_variables/rating2.html">$rating2</a>-&gt;<a onClick="logVariable('rating')" class="var it45375" onMouseOver="hilite(45375)" onMouseOut="lolite()" href="../../_variables/rating.html">rating</a>.' / '.<a class="var it15946" onMouseOver="hilite(15946)" onMouseOut="lolite()" onClick="logVariable('rating2')" href="../../_variables/rating2.html">$rating2</a>-&gt;<a onClick="logVariable('scaleid')" class="var it45375" onMouseOver="hilite(45375)" onMouseOut="lolite()" href="../../_variables/scaleid.html">scaleid</a>, <a class="var it26345" onMouseOver="hilite(26345)" onMouseOut="lolite()" onClick="logVariable('indexedratings')" href="../../_variables/indexedratings.html">$indexedratings</a>[<a class="var it15946" onMouseOver="hilite(15946)" onMouseOut="lolite()" onClick="logVariable('rating2')" href="../../_variables/rating2.html">$rating2</a>-&gt;<a onClick="logVariable('id')" class="var it45375" onMouseOver="hilite(45375)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['rating']);
<a name="l128"><span class="linenum"> 128</span></a>  
<a name="l129"><span class="linenum"> 129</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it15944" onMouseOver="hilite(15944)" onMouseOut="lolite()" onClick="logVariable('rating1')" href="../../_variables/rating1.html">$rating1</a>-&gt;<a onClick="logVariable('userid')" class="var it45374" onMouseOver="hilite(45374)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>, <a class="var it26345" onMouseOver="hilite(26345)" onMouseOut="lolite()" onClick="logVariable('indexedratings')" href="../../_variables/indexedratings.html">$indexedratings</a>[<a class="var it15944" onMouseOver="hilite(15944)" onMouseOut="lolite()" onClick="logVariable('rating1')" href="../../_variables/rating1.html">$rating1</a>-&gt;<a onClick="logVariable('id')" class="var it45374" onMouseOver="hilite(45374)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['userid']);
<a name="l130"><span class="linenum"> 130</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>(<a class="var it15946" onMouseOver="hilite(15946)" onMouseOut="lolite()" onClick="logVariable('rating2')" href="../../_variables/rating2.html">$rating2</a>-&gt;<a onClick="logVariable('userid')" class="var it45375" onMouseOver="hilite(45375)" onMouseOut="lolite()" href="../../_variables/userid.html">userid</a>, <a class="var it26345" onMouseOver="hilite(26345)" onMouseOut="lolite()" onClick="logVariable('indexedratings')" href="../../_variables/indexedratings.html">$indexedratings</a>[<a class="var it15946" onMouseOver="hilite(15946)" onMouseOut="lolite()" onClick="logVariable('rating2')" href="../../_variables/rating2.html">$rating2</a>-&gt;<a onClick="logVariable('id')" class="var it45375" onMouseOver="hilite(45375)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>]['userid']);
<a name="l131"><span class="linenum"> 131</span></a>  
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">        // Student can see ratings.</span>
<a name="l133"><span class="linenum"> 133</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setUser')" href="../../_functions/setuser.html" onMouseOver="funcPopup(event,'setuser')">setUser</a>(<a class="var it4751" onMouseOver="hilite(4751)" onMouseOut="lolite()" onClick="logVariable('student')" href="../../_variables/student.html">$student</a>);
<a name="l134"><span class="linenum"> 134</span></a>  
<a name="l135"><span class="linenum"> 135</span></a>          <a class="var it5404" onMouseOver="hilite(5404)" onMouseOut="lolite()" onClick="logVariable('ratings')" href="../../_variables/ratings.html">$ratings</a> = <a class="class" onClick="logClass('core_rating_external')" href="../../_classes/core_rating_external.html" onMouseOver="classPopup(event,'core_rating_external')">core_rating_external</a>::<a class="function" onClick="logFunction('get_item_ratings')" href="../../_functions/get_item_ratings.html" onMouseOver="funcPopup(event,'get_item_ratings')">get_item_ratings</a>('module', <a class="var it504" onMouseOver="hilite(504)" onMouseOut="lolite()" onClick="logVariable('forum')" href="../../_variables/forum.html">$forum</a>-&gt;<a onClick="logVariable('cmid')" class="var it43075" onMouseOver="hilite(43075)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>, 'mod_forum', 'post', <a class="var it4569" onMouseOver="hilite(4569)" onMouseOut="lolite()" onClick="logVariable('post')" href="../../_variables/post.html">$post</a>-&gt;<a onClick="logVariable('id')" class="var it43223" onMouseOver="hilite(43223)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 100, '');
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment">        // We need to execute the return values cleaning process to simulate the web service server.</span>
<a name="l137"><span class="linenum"> 137</span></a>          <a class="var it5404" onMouseOver="hilite(5404)" onMouseOut="lolite()" onClick="logVariable('ratings')" href="../../_variables/ratings.html">$ratings</a> = <a class="class" onClick="logClass('external_api')" href="../../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a>::<a class="function" onClick="logFunction('clean_returnvalue')" href="../../_functions/clean_returnvalue.html" onMouseOver="funcPopup(event,'clean_returnvalue')">clean_returnvalue</a>(<a class="class" onClick="logClass('core_rating_external')" href="../../_classes/core_rating_external.html" onMouseOver="classPopup(event,'core_rating_external')">core_rating_external</a>::<a class="function" onClick="logFunction('get_item_ratings_returns')" href="../../_functions/get_item_ratings_returns.html" onMouseOver="funcPopup(event,'get_item_ratings_returns')">get_item_ratings_returns</a>(), <a class="var it5404" onMouseOver="hilite(5404)" onMouseOut="lolite()" onClick="logVariable('ratings')" href="../../_variables/ratings.html">$ratings</a>);
<a name="l138"><span class="linenum"> 138</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertCount(2, <a class="var it5404" onMouseOver="hilite(5404)" onMouseOut="lolite()" onClick="logVariable('ratings')" href="../../_variables/ratings.html">$ratings</a>['ratings']);
<a name="l139"><span class="linenum"> 139</span></a>  
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment">        // Invalid item.</span>
<a name="l141"><span class="linenum"> 141</span></a>          try {
<a name="l142"><span class="linenum"> 142</span></a>              <a class="var it5404" onMouseOver="hilite(5404)" onMouseOut="lolite()" onClick="logVariable('ratings')" href="../../_variables/ratings.html">$ratings</a> = <a class="class" onClick="logClass('core_rating_external')" href="../../_classes/core_rating_external.html" onMouseOver="classPopup(event,'core_rating_external')">core_rating_external</a>::<a class="function" onClick="logFunction('get_item_ratings')" href="../../_functions/get_item_ratings.html" onMouseOver="funcPopup(event,'get_item_ratings')">get_item_ratings</a>('module', <a class="var it504" onMouseOver="hilite(504)" onMouseOut="lolite()" onClick="logVariable('forum')" href="../../_variables/forum.html">$forum</a>-&gt;<a onClick="logVariable('cmid')" class="var it43075" onMouseOver="hilite(43075)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>, 'mod_forum', 'post', 0, 100, '');
<a name="l143"><span class="linenum"> 143</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('fail')" href="../../_functions/fail.html" onMouseOver="funcPopup(event,'fail')">fail</a>('Exception expected due invalid itemid.');
<a name="l144"><span class="linenum"> 144</span></a>          } catch (moodle_exception <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l145"><span class="linenum"> 145</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('invalidrecord', <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('errorcode')" class="var it42938" onMouseOver="hilite(42938)" onMouseOut="lolite()" href="../../_variables/errorcode.html">errorcode</a>);
<a name="l146"><span class="linenum"> 146</span></a>          }
<a name="l147"><span class="linenum"> 147</span></a>  
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">        // Invalid area.</span>
<a name="l149"><span class="linenum"> 149</span></a>          try {
<a name="l150"><span class="linenum"> 150</span></a>              <a class="var it5404" onMouseOver="hilite(5404)" onMouseOut="lolite()" onClick="logVariable('ratings')" href="../../_variables/ratings.html">$ratings</a> = <a class="class" onClick="logClass('core_rating_external')" href="../../_classes/core_rating_external.html" onMouseOver="classPopup(event,'core_rating_external')">core_rating_external</a>::<a class="function" onClick="logFunction('get_item_ratings')" href="../../_functions/get_item_ratings.html" onMouseOver="funcPopup(event,'get_item_ratings')">get_item_ratings</a>('module', <a class="var it504" onMouseOver="hilite(504)" onMouseOut="lolite()" onClick="logVariable('forum')" href="../../_variables/forum.html">$forum</a>-&gt;<a onClick="logVariable('cmid')" class="var it43075" onMouseOver="hilite(43075)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>, 'mod_forum', 'xyz', <a class="var it4569" onMouseOver="hilite(4569)" onMouseOut="lolite()" onClick="logVariable('post')" href="../../_variables/post.html">$post</a>-&gt;<a onClick="logVariable('id')" class="var it43223" onMouseOver="hilite(43223)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 100, '');
<a name="l151"><span class="linenum"> 151</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('fail')" href="../../_functions/fail.html" onMouseOver="funcPopup(event,'fail')">fail</a>('Exception expected due invalid rating area.');
<a name="l152"><span class="linenum"> 152</span></a>          } catch (moodle_exception <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l153"><span class="linenum"> 153</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('invalidratingarea', <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('errorcode')" class="var it42938" onMouseOver="hilite(42938)" onMouseOut="lolite()" href="../../_variables/errorcode.html">errorcode</a>);
<a name="l154"><span class="linenum"> 154</span></a>          }
<a name="l155"><span class="linenum"> 155</span></a>  
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment">        // Invalid context. invalid_parameter_exception.</span>
<a name="l157"><span class="linenum"> 157</span></a>          try {
<a name="l158"><span class="linenum"> 158</span></a>              <a class="var it5404" onMouseOver="hilite(5404)" onMouseOut="lolite()" onClick="logVariable('ratings')" href="../../_variables/ratings.html">$ratings</a> = <a class="class" onClick="logClass('core_rating_external')" href="../../_classes/core_rating_external.html" onMouseOver="classPopup(event,'core_rating_external')">core_rating_external</a>::<a class="function" onClick="logFunction('get_item_ratings')" href="../../_functions/get_item_ratings.html" onMouseOver="funcPopup(event,'get_item_ratings')">get_item_ratings</a>('module', 0, 'mod_forum', 'post', <a class="var it4569" onMouseOver="hilite(4569)" onMouseOut="lolite()" onClick="logVariable('post')" href="../../_variables/post.html">$post</a>-&gt;<a onClick="logVariable('id')" class="var it43223" onMouseOver="hilite(43223)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 100, '');
<a name="l159"><span class="linenum"> 159</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('fail')" href="../../_functions/fail.html" onMouseOver="funcPopup(event,'fail')">fail</a>('Exception expected due invalid context.');
<a name="l160"><span class="linenum"> 160</span></a>          } catch (invalid_parameter_exception <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l161"><span class="linenum"> 161</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('invalidparameter', <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('errorcode')" class="var it42938" onMouseOver="hilite(42938)" onMouseOut="lolite()" href="../../_variables/errorcode.html">errorcode</a>);
<a name="l162"><span class="linenum"> 162</span></a>          }
<a name="l163"><span class="linenum"> 163</span></a>  
<a name="l164"><span class="linenum"> 164</span></a>  <span class="comment">        // Test for groupmode.</span>
<a name="l165"><span class="linenum"> 165</span></a>          <a class="function" onClick="logFunction('set_coursemodule_groupmode')" href="../../_functions/set_coursemodule_groupmode.html" onMouseOver="funcPopup(event,'set_coursemodule_groupmode')">set_coursemodule_groupmode</a>(<a class="var it504" onMouseOver="hilite(504)" onMouseOut="lolite()" onClick="logVariable('forum')" href="../../_variables/forum.html">$forum</a>-&gt;<a onClick="logVariable('cmid')" class="var it43075" onMouseOver="hilite(43075)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>, <a class="constant" onClick="logConstant('SEPARATEGROUPS')" href="../../_constants/SEPARATEGROUPS.html" onMouseOver="constPopup(event,'SEPARATEGROUPS')">SEPARATEGROUPS</a>);
<a name="l166"><span class="linenum"> 166</span></a>          <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../../_variables/group.html">$group</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('getDataGenerator')" href="../../_functions/getdatagenerator.html" onMouseOver="funcPopup(event,'getdatagenerator')">getDataGenerator</a>()-&gt;<a class="function" onClick="logFunction('create_group')" href="../../_functions/create_group.html" onMouseOver="funcPopup(event,'create_group')">create_group</a>(array('courseid' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>));
<a name="l167"><span class="linenum"> 167</span></a>          <a class="function" onClick="logFunction('groups_add_member')" href="../../_functions/groups_add_member.html" onMouseOver="funcPopup(event,'groups_add_member')">groups_add_member</a>(<a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../../_variables/group.html">$group</a>, <a class="var it26342" onMouseOver="hilite(26342)" onMouseOut="lolite()" onClick="logVariable('teacher1')" href="../../_variables/teacher1.html">$teacher1</a>);
<a name="l168"><span class="linenum"> 168</span></a>  
<a name="l169"><span class="linenum"> 169</span></a>          <a class="var it4240" onMouseOver="hilite(4240)" onMouseOut="lolite()" onClick="logVariable('discussion')" href="../../_variables/discussion.html">$discussion</a>-&gt;<a onClick="logVariable('groupid')" class="var it43540" onMouseOver="hilite(43540)" onMouseOut="lolite()" href="../../_variables/groupid.html">groupid</a> = <a class="var it520" onMouseOver="hilite(520)" onMouseOut="lolite()" onClick="logVariable('group')" href="../../_variables/group.html">$group</a>-&gt;<a onClick="logVariable('id')" class="var it42906" onMouseOver="hilite(42906)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l170"><span class="linenum"> 170</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('forum_discussions', <a class="var it4240" onMouseOver="hilite(4240)" onMouseOut="lolite()" onClick="logVariable('discussion')" href="../../_variables/discussion.html">$discussion</a>);
<a name="l171"><span class="linenum"> 171</span></a>  
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">        // Error for teacher3 and 2 ratings for teacher1 should be returned.</span>
<a name="l173"><span class="linenum"> 173</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setUser')" href="../../_functions/setuser.html" onMouseOver="funcPopup(event,'setuser')">setUser</a>(<a class="var it26342" onMouseOver="hilite(26342)" onMouseOut="lolite()" onClick="logVariable('teacher1')" href="../../_variables/teacher1.html">$teacher1</a>);
<a name="l174"><span class="linenum"> 174</span></a>          <a class="var it5404" onMouseOver="hilite(5404)" onMouseOut="lolite()" onClick="logVariable('ratings')" href="../../_variables/ratings.html">$ratings</a> = <a class="class" onClick="logClass('core_rating_external')" href="../../_classes/core_rating_external.html" onMouseOver="classPopup(event,'core_rating_external')">core_rating_external</a>::<a class="function" onClick="logFunction('get_item_ratings')" href="../../_functions/get_item_ratings.html" onMouseOver="funcPopup(event,'get_item_ratings')">get_item_ratings</a>('module', <a class="var it504" onMouseOver="hilite(504)" onMouseOut="lolite()" onClick="logVariable('forum')" href="../../_variables/forum.html">$forum</a>-&gt;<a onClick="logVariable('cmid')" class="var it43075" onMouseOver="hilite(43075)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>, 'mod_forum', 'post', <a class="var it4569" onMouseOver="hilite(4569)" onMouseOut="lolite()" onClick="logVariable('post')" href="../../_variables/post.html">$post</a>-&gt;<a onClick="logVariable('id')" class="var it43223" onMouseOver="hilite(43223)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 100, '');
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">        // We need to execute the return values cleaning process to simulate the web service server.</span>
<a name="l176"><span class="linenum"> 176</span></a>          <a class="var it5404" onMouseOver="hilite(5404)" onMouseOut="lolite()" onClick="logVariable('ratings')" href="../../_variables/ratings.html">$ratings</a> = <a class="class" onClick="logClass('external_api')" href="../../_classes/external_api.html" onMouseOver="classPopup(event,'external_api')">external_api</a>::<a class="function" onClick="logFunction('clean_returnvalue')" href="../../_functions/clean_returnvalue.html" onMouseOver="funcPopup(event,'clean_returnvalue')">clean_returnvalue</a>(<a class="class" onClick="logClass('core_rating_external')" href="../../_classes/core_rating_external.html" onMouseOver="classPopup(event,'core_rating_external')">core_rating_external</a>::<a class="function" onClick="logFunction('get_item_ratings_returns')" href="../../_functions/get_item_ratings_returns.html" onMouseOver="funcPopup(event,'get_item_ratings_returns')">get_item_ratings_returns</a>(), <a class="var it5404" onMouseOver="hilite(5404)" onMouseOut="lolite()" onClick="logVariable('ratings')" href="../../_variables/ratings.html">$ratings</a>);
<a name="l177"><span class="linenum"> 177</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;assertCount(2, <a class="var it5404" onMouseOver="hilite(5404)" onMouseOut="lolite()" onClick="logVariable('ratings')" href="../../_variables/ratings.html">$ratings</a>['ratings']);
<a name="l178"><span class="linenum"> 178</span></a>  
<a name="l179"><span class="linenum"> 179</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('setUser')" href="../../_functions/setuser.html" onMouseOver="funcPopup(event,'setuser')">setUser</a>(<a class="var it26344" onMouseOver="hilite(26344)" onMouseOut="lolite()" onClick="logVariable('teacher3')" href="../../_variables/teacher3.html">$teacher3</a>);
<a name="l180"><span class="linenum"> 180</span></a>          try {
<a name="l181"><span class="linenum"> 181</span></a>              <a class="var it5404" onMouseOver="hilite(5404)" onMouseOut="lolite()" onClick="logVariable('ratings')" href="../../_variables/ratings.html">$ratings</a> = <a class="class" onClick="logClass('core_rating_external')" href="../../_classes/core_rating_external.html" onMouseOver="classPopup(event,'core_rating_external')">core_rating_external</a>::<a class="function" onClick="logFunction('get_item_ratings')" href="../../_functions/get_item_ratings.html" onMouseOver="funcPopup(event,'get_item_ratings')">get_item_ratings</a>('module', <a class="var it504" onMouseOver="hilite(504)" onMouseOut="lolite()" onClick="logVariable('forum')" href="../../_variables/forum.html">$forum</a>-&gt;<a onClick="logVariable('cmid')" class="var it43075" onMouseOver="hilite(43075)" onMouseOut="lolite()" href="../../_variables/cmid.html">cmid</a>, 'mod_forum', 'post', <a class="var it4569" onMouseOver="hilite(4569)" onMouseOut="lolite()" onClick="logVariable('post')" href="../../_variables/post.html">$post</a>-&gt;<a onClick="logVariable('id')" class="var it43223" onMouseOver="hilite(43223)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>, 100, '');
<a name="l182"><span class="linenum"> 182</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('fail')" href="../../_functions/fail.html" onMouseOver="funcPopup(event,'fail')">fail</a>('Exception expected due invalid group permissions.');
<a name="l183"><span class="linenum"> 183</span></a>          } catch (moodle_exception <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>) {
<a name="l184"><span class="linenum"> 184</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('assertEquals')" href="../../_functions/assertequals.html" onMouseOver="funcPopup(event,'assertequals')">assertEquals</a>('noviewrate', <a class="var it122" onMouseOver="hilite(122)" onMouseOut="lolite()" onClick="logVariable('e')" href="../../_variables/e.html">$e</a>-&gt;<a onClick="logVariable('errorcode')" class="var it42938" onMouseOver="hilite(42938)" onMouseOut="lolite()" href="../../_variables/errorcode.html">errorcode</a>);
<a name="l185"><span class="linenum"> 185</span></a>          }
<a name="l186"><span class="linenum"> 186</span></a>  
<a name="l187"><span class="linenum"> 187</span></a>      }
<a name="l188"><span class="linenum"> 188</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'assertequals': ['assertequals', 'Asserts that two variables are equal. ', [['lib/tests','completionlib_test.php',68]], 12471],
'create_course': ['create_course', 'Creates the actual course. ', [['admin/tool/generator/classes','course_backend.php',246],['lib/testing/generator','data_generator.php',366],['enrol/ldap','lib.php',949],['course','lib.php',2654]], 1178],
'set_coursemodule_groupmode': ['set_coursemodule_groupmode', 'Change the group mode of a course module. ', [['course','lib.php',1533]], 3],
'create_user': ['create_user', 'Create a test user ', [['lib/testing/generator','data_generator.php',137]], 1376],
'get_item_ratings_returns': ['get_item_ratings_returns', 'Returns description of get_item_ratings result values. ', [['rating/classes','external.php',171]], 3],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'test_get_item_ratings': ['test_get_item_ratings', 'Test get_item_ratings ', [['rating/tests','externallib_test.php',43]], 0],
'get_plugin_generator': ['get_plugin_generator', 'Return generator for given plugin or component. ', [['lib/testing/generator','data_generator.php',100]], 619],
'setuser': ['setuser', '', [['lib/google/src/Google/Service','Replicapool.php',1091],['lib/google/src/Google/Service','Computeaccounts.php',1294],['lib/google/src/Google/Service','Appengine.php',1341],['lib/google/src/Google/Service','DeploymentManager.php',1530],['lib/google/src/Google/Service','CloudUserAccounts.php',1733],['lib/google/src/Google/Service','Replicapoolupdater.php',852],['lib/google/src/Google/Service','Replicapoolupdater.php',1194],['lib/google/src/Google/Service','Autoscaler.php',1005],['lib/google/src/Google/Service','Appsactivity.php',273],['lib/google/src/Google/Service','Appsactivity.php',420],['lib/google/src/Google/Service','Drive.php',2824],['lib/phpunit/classes','advanced_testcase.php',511],['lib/google/src/Google/Service','AndroidEnterprise.php',2240],['lib/google/src/Google/Service','AndroidEnterprise.php',2634],['lib/google/src/Google/Service','AndroidEnterprise.php',3101],['lib/google/src/Google/Service','Resourceviews.php',820],['lib/google/src/Google/Service','SQLAdmin.php',2990],['lib/google/src/Google/Service','Compute.php',14264]], 1070],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'create_group': ['create_group', 'Create a test group for the specified course ', [['lib/testing/generator','data_generator.php',505]], 154],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'groups_add_member': ['groups_add_member', 'Adds a specified user to a group ', [['group','lib.php',31]], 101],
'enrol_user': ['enrol_user', 'Enrol user into course via enrol instance. ', [['enrol/flatfile','lib.php',144],['lib','enrollib.php',1270],['lib/testing/generator','data_generator.php',891],['enrol/lti/classes','helper.php',233],['enrol/self','externallib.php',122],['enrol/mnet','enrol.php',115],['enrol/guest','lib.php',60]], 745],
'create_module': ['create_module', 'Create a test activity module. ', [['lib/testing/generator','data_generator.php',481],['course','lib.php',3522]], 762],
'delete_user': ['delete_user', 'Marks user deleted in internal user database and notifies the auth plugin. Also unenrols user from all roles and does other cleanup. ', [['lib','moodlelib.php',3893]], 43],
'getdatagenerator': ['getdatagenerator', 'Get data generator ', [['lib/phpunit/classes','advanced_testcase.php',570]], 4450],
'clean_returnvalue': ['clean_returnvalue', 'Clean response If a response attribute is unknown from the description, we just ignore the attribute. If a response attribute is incorrect, invalid_response_exception is thrown. Note: this function is similar to validate parameters, however it is distinct because parameters validation must be distinct from cleaning return values. ', [['lib','externallib.php',358]], 733],
'create_discussion': ['create_discussion', 'Function to create a dummy discussion. ', [['mod/forum/tests/generator','lib.php',122]], 160],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pdo_moodle_database.php',461],['lib/dml','oci_native_moodle_database.php',1404],['lib/dml','pgsql_native_moodle_database.php',1089],['lib/dml','mssql_native_moodle_database.php',1067],['lib/dml','mysqli_native_moodle_database.php',1405],['lib/dml','sqlsrv_native_moodle_database.php',1148],['lib/dml/tests','dml_test.php',5551]], 650],
'fail': ['fail', '', [['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy-debug.js',133],['lib/lessphp/Exception','Chunk.php',181],['lib/editor/atto/yui/build/moodle-editor_atto-rangy','moodle-editor_atto-rangy.js',133],['lib/editor/atto/yui/src/rangy/js','rangy-core.js',133]], 1158],
'resetaftertest': ['resetaftertest', 'Reset everything after current test. ', [['lib/phpunit/classes','advanced_testcase.php',246]], 1528],
'get_item_ratings': ['get_item_ratings', 'Retrieve a list of ratings for a given item (forum post etc) ', [['rating/classes','external.php',63]], 7],
'unassign_capability': ['unassign_capability', 'Unassign a capability from a role. ', [['lib','accesslib.php',1589]], 50],
'time': ['time', '', [], 1959],
'defined': ['defined', '', [], 4731]};
CLASS_DATA={
'core_rating_externallib_testcase': ['core_rating_externallib_testcase', 'External rating functions unit tests ', [['rating/tests','externallib_test.php',33]], 0],
'core_rating_external': ['core_rating_external', 'Rating external functions ', [['rating/classes','external.php',32]], 10],
'context_module': ['context_module', 'Course module context class ', [['lib','accesslib.php',7039]], 1106],
'external_api': ['external_api', 'Base class for external api methods. ', [['lib','externallib.php',47]], 808]};
CONST_DATA={
'SEPARATEGROUPS': ['SEPARATEGROUPS', '', [['lib','grouplib.php',34]], 190],
'FORMAT_HTML': ['FORMAT_HTML', '', [['lib','weblib.php',47]], 1121],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'RATING_AGGREGATE_AVERAGE': ['RATING_AGGREGATE_AVERAGE', '', [['rating','lib.php',29]], 13]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
