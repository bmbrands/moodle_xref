<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of mdeploy.php</title>
    <link rel="stylesheet" href="sample.css" type="text/css">
    <link rel="stylesheet" href="sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='';
subdir='';
filename='mdeploy.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/</a> -> <a href="mdeploy.php.source.html">mdeploy.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="mdeploy.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="_stats.html">Project Stats</a>]</p>
<p><b>Moodle deployment utility</b></p>
<table>
<tr><td align="right">Copyright: </td><td>2012 David Mudrak <<a href="mailto:david@moodle.com">david@moodle.com</a>></td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">Version: </td><td>1.1</td></tr>
<tr><td align="right">File Size: </td><td>1574 lines (53 kb)</td></tr>
<tr><td align="right">Included or required: </td><td><a href="mdeploy.php.xref.html">1 time</a></td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 18 classes</h3>
<div class="inset">
<p><b>invalid_coding_exception::</b> (0 methods):<br>
</p>
<p><b>missing_option_exception::</b> (0 methods):<br>
</p>
<p><b>invalid_option_exception::</b> (0 methods):<br>
</p>
<p><b>unauthorized_access_exception::</b> (0 methods):<br>
</p>
<p><b>download_file_exception::</b> (0 methods):<br>
</p>
<p><b>backup_folder_exception::</b> (0 methods):<br>
</p>
<p><b>zip_exception::</b> (0 methods):<br>
</p>
<p><b>filesystem_exception::</b> (0 methods):<br>
</p>
<p><b>checksum_exception::</b> (0 methods):<br>
</p>
<p><b>invalid_setting_exception::</b> (4 methods):<br>
&nbsp;&nbsp;<a href="#instance">instance</a>()<br>
&nbsp;&nbsp;<a href="#initialize">initialize</a>()<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#__clone">__clone</a>()<br>
</p>
<p><b>input_manager::</b> (11 methods):<br>
&nbsp;&nbsp;<a href="#get_option">get_option</a>()<br>
&nbsp;&nbsp;<a href="#get_option_info">get_option_info</a>()<br>
&nbsp;&nbsp;<a href="#cast_value">cast_value</a>()<br>
&nbsp;&nbsp;<a href="#initialize">initialize</a>()<br>
&nbsp;&nbsp;<a href="#validate_option_name">validate_option_name</a>()<br>
&nbsp;&nbsp;<a href="#get_required_option">get_required_option</a>()<br>
&nbsp;&nbsp;<a href="#get_optional_option">get_optional_option</a>()<br>
&nbsp;&nbsp;<a href="#get_option">get_option</a>()<br>
&nbsp;&nbsp;<a href="#has_option">has_option</a>()<br>
&nbsp;&nbsp;<a href="#initialize">initialize</a>()<br>
&nbsp;&nbsp;<a href="#populate_options">populate_options</a>()<br>
</p>
<p><b>input_cli_provider::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#parse_raw_options">parse_raw_options</a>()<br>
</p>
<p><b>input_http_provider::</b> (1 method):<br>
&nbsp;&nbsp;<a href="#parse_raw_options">parse_raw_options</a>()<br>
</p>
<p><b>output_manager::</b> (2 methods):<br>
&nbsp;&nbsp;<a href="#__call">__call</a>()<br>
&nbsp;&nbsp;<a href="#initialize">initialize</a>()<br>
</p>
<p><b>output_cli_provider::</b> (2 methods):<br>
&nbsp;&nbsp;<a href="#help">help</a>()<br>
&nbsp;&nbsp;<a href="#outln">outln</a>()<br>
</p>
<p><b>output_http_provider::</b> (4 methods):<br>
&nbsp;&nbsp;<a href="#help">help</a>()<br>
&nbsp;&nbsp;<a href="#exception">exception</a>()<br>
&nbsp;&nbsp;<a href="#start_output">start_output</a>()<br>
&nbsp;&nbsp;<a href="#end_output">end_output</a>()<br>
</p>
<p><b>worker::</b> (21 methods):<br>
&nbsp;&nbsp;<a href="#execute">execute</a>()<br>
&nbsp;&nbsp;<a href="#log_exception">log_exception</a>()<br>
&nbsp;&nbsp;<a href="#initialize">initialize</a>()<br>
&nbsp;&nbsp;<a href="#done">done</a>()<br>
&nbsp;&nbsp;<a href="#authorize">authorize</a>()<br>
&nbsp;&nbsp;<a href="#log_location">log_location</a>()<br>
&nbsp;&nbsp;<a href="#target_location">target_location</a>()<br>
&nbsp;&nbsp;<a href="#backup_location">backup_location</a>()<br>
&nbsp;&nbsp;<a href="#download_file">download_file</a>()<br>
&nbsp;&nbsp;<a href="#get_env">get_env</a>()<br>
&nbsp;&nbsp;<a href="#get_cacert">get_cacert</a>()<br>
&nbsp;&nbsp;<a href="#log">log</a>()<br>
&nbsp;&nbsp;<a href="#format_log_message">format_log_message</a>()<br>
&nbsp;&nbsp;<a href="#move_directory_source_precheck">move_directory_source_precheck</a>()<br>
&nbsp;&nbsp;<a href="#move_directory_target_precheck">move_directory_target_precheck</a>()<br>
&nbsp;&nbsp;<a href="#create_directory_precheck">create_directory_precheck</a>()<br>
&nbsp;&nbsp;<a href="#move_directory">move_directory</a>()<br>
&nbsp;&nbsp;<a href="#move_directory_into">move_directory_into</a>()<br>
&nbsp;&nbsp;<a href="#remove_directory">remove_directory</a>()<br>
&nbsp;&nbsp;<a href="#unzip_plugin">unzip_plugin</a>()<br>
&nbsp;&nbsp;<a href="#redirect">redirect</a>()<br>
</p>
<p><b>exception_handlers::</b> (4 methods):<br>
&nbsp;&nbsp;<a href="#set_handler">set_handler</a>()<br>
&nbsp;&nbsp;<a href="#format_exception_info">format_exception_info</a>()<br>
&nbsp;&nbsp;<a href="#bootstrap_exception_handler">bootstrap_exception_handler</a>()<br>
&nbsp;&nbsp;<a href="#default_exception_handler">default_exception_handler</a>()<br>
</p>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="invalid_coding_exception"><b>invalid_coding_exception</b></a>&nbsp;&nbsp;- <a href="_classes/invalid_coding_exception.html"><small>X-Ref</small></a>
</p>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="missing_option_exception"><b>missing_option_exception</b></a>&nbsp;&nbsp;- <a href="_classes/missing_option_exception.html"><small>X-Ref</small></a>
</p>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="invalid_option_exception"><b>invalid_option_exception</b></a>&nbsp;&nbsp;- <a href="_classes/invalid_option_exception.html"><small>X-Ref</small></a>
</p>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="unauthorized_access_exception"><b>unauthorized_access_exception</b></a>&nbsp;&nbsp;- <a href="_classes/unauthorized_access_exception.html"><small>X-Ref</small></a>
</p>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="download_file_exception"><b>download_file_exception</b></a>&nbsp;&nbsp;- <a href="_classes/download_file_exception.html"><small>X-Ref</small></a>
</p>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="backup_folder_exception"><b>backup_folder_exception</b></a>&nbsp;&nbsp;- <a href="_classes/backup_folder_exception.html"><small>X-Ref</small></a>
</p>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="zip_exception"><b>zip_exception</b></a>&nbsp;&nbsp;- <a href="_classes/zip_exception.html"><small>X-Ref</small></a>
</p>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="filesystem_exception"><b>filesystem_exception</b></a>&nbsp;&nbsp;- <a href="_classes/filesystem_exception.html"><small>X-Ref</small></a>
</p>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="checksum_exception"><b>checksum_exception</b></a>&nbsp;&nbsp;- <a href="_classes/checksum_exception.html"><small>X-Ref</small></a>
</p>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="invalid_setting_exception"><b>invalid_setting_exception</b></a>&nbsp;&nbsp;- <a href="_classes/invalid_setting_exception.html"><small>X-Ref</small></a>
</p>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="instance" onClick="logFunction('instance', 'mdeploy.php.source.html#l96')" href="mdeploy.php.source.html#l96">instance</a>()&nbsp;&nbsp;
<a href="_functions/instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Factory method returning the singleton instance.<BR>
</b><BR>Subclasses may want to override the {@link self::initialize()} method that is<BR>
called right after their instantiation.<BR>
<BR>
<b>return:</b> mixed the singleton instance<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="initialize" onClick="logFunction('initialize', 'mdeploy.php.source.html#l113')" href="mdeploy.php.source.html#l113">initialize</a>()&nbsp;&nbsp;
<a href="_functions/initialize.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Optional post-instantiation code.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'mdeploy.php.source.html#l120')" href="mdeploy.php.source.html#l120">__construct</a>()&nbsp;&nbsp;
<a href="_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Direct instantiation not allowed, use the factory method {@link instance()}<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__clone" onClick="logFunction('__clone', 'mdeploy.php.source.html#l126')" href="mdeploy.php.source.html#l126">__clone</a>()&nbsp;&nbsp;
<a href="_functions/__clone.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sorry, this is singleton.<BR>
</b><BR></td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="input_manager"><b>input_manager</b></a>&nbsp;&nbsp;- <a href="_classes/input_manager.html"><small>X-Ref</small></a>
</p>
<b>Provides access to the script options.<BR>
</b><br>
Implements the delegate pattern by dispatching the calls to appropriate<BR>
helper class (CLI or HTTP).<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_option" onClick="logFunction('get_option', 'mdeploy.php.source.html#l159')" href="mdeploy.php.source.html#l159">get_option</a>(<a href="_variables/name.html">$name</a>, <a href="_variables/default.html">$default</a> = 'provide_default_value_explicitly')&nbsp;&nbsp;
<a href="_functions/get_option.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the value of an option passed to the script.<BR>
</b><BR>If the caller passes just the $name, the requested argument is considered<BR>
required. The caller may specify the second argument which then<BR>
makes the argument optional with the given default value.<BR>
<BR>
If the type of the $name option is TYPE_FLAG (switch), this method returns<BR>
true if the flag has been passed or false if it was not. Specifying the<BR>
default value makes no sense in this case and leads to invalid coding exception.<BR>
<BR>
The array options are not supported.<BR>
<BR>
<b>param:</b> string $name<br>
<b>return:</b> mixed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_option_info" onClick="logFunction('get_option_info', 'mdeploy.php.source.html#l195')" href="mdeploy.php.source.html#l195">get_option_info</a>(<a href="_variables/name.html">$name</a>=null)&nbsp;&nbsp;
<a href="_functions/get_option_info.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the meta-information about the given option.<BR>
</b><BR><b>param:</b> string|null $name short or long option name, defaults to returning the list of all<br>
<b>return:</b> array|object|false array with all, object with the specific option meta-information or false of no such an option<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="cast_value" onClick="logFunction('cast_value', 'mdeploy.php.source.html#l263')" href="mdeploy.php.source.html#l263">cast_value</a>(<a href="_variables/raw.html">$raw</a>, <a href="_variables/type.html">$type</a>)&nbsp;&nbsp;
<a href="_functions/cast_value.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Casts the value to the given type.<BR>
</b><BR><b>param:</b> mixed $raw the raw value<br>
<b>param:</b> string $type the expected value type, e.g. {@link input_manager::TYPE_INT}<br>
<b>return:</b> mixed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="initialize" onClick="logFunction('initialize', 'mdeploy.php.source.html#l352')" href="mdeploy.php.source.html#l352">initialize</a>()&nbsp;&nbsp;
<a href="_functions/initialize.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Picks the appropriate helper class to delegate calls to.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="validate_option_name" onClick="logFunction('validate_option_name', 'mdeploy.php.source.html#l365')" href="mdeploy.php.source.html#l365">validate_option_name</a>(<a href="_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="_functions/validate_option_name.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Validates the parameter name.<BR>
</b><BR><b>param:</b> string $name<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_required_option" onClick="logFunction('get_required_option', 'mdeploy.php.source.html#l383')" href="mdeploy.php.source.html#l383">get_required_option</a>(<a href="_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="_functions/get_required_option.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns cleaned option value or throws exception.<BR>
</b><BR><b>param:</b> string $name the name of the parameter<br>
<b>param:</b> string $type the parameter type, e.g. {@link input_manager::TYPE_INT}<br>
<b>return:</b> mixed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_optional_option" onClick="logFunction('get_optional_option', 'mdeploy.php.source.html#l398')" href="mdeploy.php.source.html#l398">get_optional_option</a>(<a href="_variables/name.html">$name</a>, <a href="_variables/default.html">$default</a>)&nbsp;&nbsp;
<a href="_functions/get_optional_option.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns cleaned option value or the default value<BR>
</b><BR><b>param:</b> string $name the name of the parameter<br>
<b>param:</b> string $type the parameter type, e.g. {@link input_manager::TYPE_INT}<br>
<b>param:</b> mixed $default the default value.<br>
<b>return:</b> mixed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_option" onClick="logFunction('get_option', 'mdeploy.php.source.html#l427')" href="mdeploy.php.source.html#l427">get_option</a>(<a href="_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="_functions/get_option.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the casted value of the option.<BR>
</b><BR><b>param:</b> string $name option name<br>
<b>return:</b> mixed casted value of the option<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="has_option" onClick="logFunction('has_option', 'mdeploy.php.source.html#l443')" href="mdeploy.php.source.html#l443">has_option</a>(<a href="_variables/name.html">$name</a>)&nbsp;&nbsp;
<a href="_functions/has_option.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Was the given option passed?<BR>
</b><BR><b>param:</b> string $name optionname<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="initialize" onClick="logFunction('initialize', 'mdeploy.php.source.html#l453')" href="mdeploy.php.source.html#l453">initialize</a>()&nbsp;&nbsp;
<a href="_functions/initialize.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initializes the input provider.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="populate_options" onClick="logFunction('populate_options', 'mdeploy.php.source.html#l462')" href="mdeploy.php.source.html#l462">populate_options</a>()&nbsp;&nbsp;
<a href="_functions/populate_options.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Parses and validates all supported options passed to the script.<BR>
</b><BR></td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="input_cli_provider"><b>input_cli_provider</b></a>&nbsp;&nbsp;- <a href="_classes/input_cli_provider.html"><small>X-Ref</small></a>
</p>
<b>Provides access to the script options passed via CLI.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="parse_raw_options" onClick="logFunction('parse_raw_options', 'mdeploy.php.source.html#l506')" href="mdeploy.php.source.html#l506">parse_raw_options</a>()&nbsp;&nbsp;
<a href="_functions/parse_raw_options.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Parses raw options passed to the script.<BR>
</b><BR><b>return:</b> array as returned by getopt()<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="input_http_provider"><b>input_http_provider</b></a>&nbsp;&nbsp;- <a href="_classes/input_http_provider.html"><small>X-Ref</small></a>
</p>
<b>Provides access to the script options passed via HTTP request.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="parse_raw_options" onClick="logFunction('parse_raw_options', 'mdeploy.php.source.html#l544')" href="mdeploy.php.source.html#l544">parse_raw_options</a>()&nbsp;&nbsp;
<a href="_functions/parse_raw_options.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Parses raw options passed to the script.<BR>
</b><BR><b>return:</b> array of raw values passed via HTTP request<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="output_manager"><b>output_manager</b></a>&nbsp;&nbsp;- <a href="_classes/output_manager.html"><small>X-Ref</small></a>
</p>
<b>Provides output operations.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__call" onClick="logFunction('__call', 'mdeploy.php.source.html#l568')" href="mdeploy.php.source.html#l568">__call</a>(<a href="_variables/name.html">$name</a>, array <a href="_variables/arguments.html">$arguments</a> = array()&nbsp;&nbsp;
<a href="_functions/__call.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Magic method triggered when invoking an inaccessible method.<BR>
</b><BR><b>param:</b> string $name method name<br>
<b>param:</b> array $arguments method arguments<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="initialize" onClick="logFunction('initialize', 'mdeploy.php.source.html#l578')" href="mdeploy.php.source.html#l578">initialize</a>()&nbsp;&nbsp;
<a href="_functions/initialize.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Picks the appropriate helper class to delegate calls to.<BR>
</b><BR></td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="output_cli_provider"><b>output_cli_provider</b></a>&nbsp;&nbsp;- <a href="_classes/output_cli_provider.html"><small>X-Ref</small></a>
</p>
<b>Provides output to the command line.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="help" onClick="logFunction('help', 'mdeploy.php.source.html#l608')" href="mdeploy.php.source.html#l608">help</a>()&nbsp;&nbsp;
<a href="_functions/help.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Prints help information in CLI mode.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="outln" onClick="logFunction('outln', 'mdeploy.php.source.html#l632')" href="mdeploy.php.source.html#l632">outln</a>(<a href="_variables/text.html">$text</a>='')&nbsp;&nbsp;
<a href="_functions/outln.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Writes a text to the STDOUT followed by a new line character.<BR>
</b><BR><b>param:</b> string $text text to print<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="output_http_provider"><b>output_http_provider</b></a>&nbsp;&nbsp;- <a href="_classes/output_http_provider.html"><small>X-Ref</small></a>
</p>
<b>Provides HTML output as a part of HTTP response.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="help" onClick="logFunction('help', 'mdeploy.php.source.html#l651')" href="mdeploy.php.source.html#l651">help</a>()&nbsp;&nbsp;
<a href="_functions/help.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Prints help on the script usage.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="exception" onClick="logFunction('exception', 'mdeploy.php.source.html#l658')" href="mdeploy.php.source.html#l658">exception</a>(Exception <a href="_variables/e.html">$e</a>)&nbsp;&nbsp;
<a href="_functions/exception.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Display the information about uncaught exception<BR>
</b><BR><b>param:</b> Exception $e uncaught exception<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="start_output" onClick="logFunction('start_output', 'mdeploy.php.source.html#l678')" href="mdeploy.php.source.html#l678">start_output</a>()&nbsp;&nbsp;
<a href="_functions/start_output.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Produce the HTML page header<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="end_output" onClick="logFunction('end_output', 'mdeploy.php.source.html#l697')" href="mdeploy.php.source.html#l697">end_output</a>()&nbsp;&nbsp;
<a href="_functions/end_output.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Produce the HTML page footer<BR>
</b><BR></td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="worker"><b>worker</b></a>&nbsp;&nbsp;- <a href="_classes/worker.html"><small>X-Ref</small></a>
</p>
<b>The actual worker class implementing the main functionality of the script.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="execute" onClick="logFunction('execute', 'mdeploy.php.source.html#l743')" href="mdeploy.php.source.html#l743">execute</a>()&nbsp;&nbsp;
<a href="_functions/execute.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Main - the one that actually does something<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="log_exception" onClick="logFunction('log_exception', 'mdeploy.php.source.html#l886')" href="mdeploy.php.source.html#l886">log_exception</a>(Exception <a href="_variables/e.html">$e</a>)&nbsp;&nbsp;
<a href="_functions/log_exception.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Attempts to log a thrown exception<BR>
</b><BR><b>param:</b> Exception $e uncaught exception<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="initialize" onClick="logFunction('initialize', 'mdeploy.php.source.html#l895')" href="mdeploy.php.source.html#l895">initialize</a>()&nbsp;&nbsp;
<a href="_functions/initialize.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initialize the worker class.<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="done" onClick="logFunction('done', 'mdeploy.php.source.html#l905')" href="mdeploy.php.source.html#l905">done</a>(<a href="_variables/exitcode.html">$exitcode</a> = self::EXIT_OK)&nbsp;&nbsp;
<a href="_functions/done.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Finish this script execution.<BR>
</b><BR><b>param:</b> int $exitcode<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="authorize" onClick="logFunction('authorize', 'mdeploy.php.source.html#l922')" href="mdeploy.php.source.html#l922">authorize</a>()&nbsp;&nbsp;
<a href="_functions/authorize.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Authorize access to the script.<BR>
</b><BR>In CLI mode, the access is automatically authorized. In HTTP mode, the<BR>
passphrase submitted via the request params must match the contents of the<BR>
file, the name of which is passed in another parameter.<BR>
<BR>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="log_location" onClick="logFunction('log_location', 'mdeploy.php.source.html#l974')" href="mdeploy.php.source.html#l974">log_location</a>()&nbsp;&nbsp;
<a href="_functions/log_location.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the full path to the log file.<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="target_location" onClick="logFunction('target_location', 'mdeploy.php.source.html#l1001')" href="mdeploy.php.source.html#l1001">target_location</a>(<a href="_variables/source.html">$source</a>)&nbsp;&nbsp;
<a href="_functions/target_location.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Choose the target location for the given ZIP's URL.<BR>
</b><BR><b>param:</b> string $source URL<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="backup_location" onClick="logFunction('backup_location', 'mdeploy.php.source.html#l1025')" href="mdeploy.php.source.html#l1025">backup_location</a>(<a href="_variables/path.html">$path</a>)&nbsp;&nbsp;
<a href="_functions/backup_location.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Choose the location of the current plugin folder backup<BR>
</b><BR><b>param:</b> string $path full path to the current folder<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="download_file" onClick="logFunction('download_file', 'mdeploy.php.source.html#l1049')" href="mdeploy.php.source.html#l1049">download_file</a>(<a href="_variables/source.html">$source</a>, <a href="_variables/target.html">$target</a>)&nbsp;&nbsp;
<a href="_functions/download_file.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Downloads the given file into the given destination.<BR>
</b><BR>This is basically a simplified version of {@link download_file_content()} from<BR>
Moodle itself, tuned for fetching files from moodle.org servers.<BR>
<BR>
<b>param:</b> string $source file url starting with http(s)://<br>
<b>param:</b> string $target store the downloaded content to this file (full path)<br>
<b>return:</b> bool true on success, false otherwise<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_env" onClick="logFunction('get_env', 'mdeploy.php.source.html#l1147')" href="mdeploy.php.source.html#l1147">get_env</a>(<a href="_variables/key.html">$key</a>)&nbsp;&nbsp;
<a href="_functions/get_env.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Fetch environment settings.<BR>
</b><BR><b>param:</b> string $key The key to fetch<br>
<b>return:</b> mixed The value of the key if found.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_cacert" onClick="logFunction('get_cacert', 'mdeploy.php.source.html#l1167')" href="mdeploy.php.source.html#l1167">get_cacert</a>()&nbsp;&nbsp;
<a href="_functions/get_cacert.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the location of ca certificates.<BR>
</b><BR><b>return:</b> string absolute file path or empty if default used<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="log" onClick="logFunction('log', 'mdeploy.php.source.html#l1196')" href="mdeploy.php.source.html#l1196">log</a>(<a href="_variables/message.html">$message</a>)&nbsp;&nbsp;
<a href="_functions/log.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Log a message<BR>
</b><BR><b>param:</b> string $message<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="format_log_message" onClick="logFunction('format_log_message', 'mdeploy.php.source.html#l1223')" href="mdeploy.php.source.html#l1223">format_log_message</a>(<a href="_variables/msg.html">$msg</a>)&nbsp;&nbsp;
<a href="_functions/format_log_message.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Prepares the log message for writing into the file<BR>
</b><BR><b>param:</b> string $msg<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="move_directory_source_precheck" onClick="logFunction('move_directory_source_precheck', 'mdeploy.php.source.html#l1237')" href="mdeploy.php.source.html#l1237">move_directory_source_precheck</a>(<a href="_variables/source.html">$source</a>)&nbsp;&nbsp;
<a href="_functions/move_directory_source_precheck.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks to see if the given source could be safely moved into a new location<BR>
</b><BR><b>param:</b> string $source full path to the existing directory<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="move_directory_target_precheck" onClick="logFunction('move_directory_target_precheck', 'mdeploy.php.source.html#l1277')" href="mdeploy.php.source.html#l1277">move_directory_target_precheck</a>(<a href="_variables/target.html">$target</a>)&nbsp;&nbsp;
<a href="_functions/move_directory_target_precheck.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks to see if a source folder could be safely moved into the given new location<BR>
</b><BR><b>param:</b> string $destination full path to the new expected location of a folder<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create_directory_precheck" onClick="logFunction('create_directory_precheck', 'mdeploy.php.source.html#l1295')" href="mdeploy.php.source.html#l1295">create_directory_precheck</a>(<a href="_variables/path.html">$path</a>)&nbsp;&nbsp;
<a href="_functions/create_directory_precheck.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Make sure the given directory can be created (and removed)<BR>
</b><BR><b>param:</b> string $path full path to the folder<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="move_directory" onClick="logFunction('move_directory', 'mdeploy.php.source.html#l1312')" href="mdeploy.php.source.html#l1312">move_directory</a>(<a href="_variables/source.html">$source</a>, <a href="_variables/target.html">$target</a>, <a href="_variables/keepsourceroot.html">$keepsourceroot</a> = false)&nbsp;&nbsp;
<a href="_functions/move_directory.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Moves the given source into a new location recursively<BR>
</b><BR>The target location can not exist.<BR>
<BR>
<b>param:</b> string $source full path to the existing directory<br>
<b>param:</b> string $destination full path to the new location of the folder<br>
<b>param:</b> bool $keepsourceroot should the root of the $source be kept or removed at the end<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="move_directory_into" onClick="logFunction('move_directory_into', 'mdeploy.php.source.html#l1331')" href="mdeploy.php.source.html#l1331">move_directory_into</a>(<a href="_variables/source.html">$source</a>, <a href="_variables/target.html">$target</a>, <a href="_variables/keepsourceroot.html">$keepsourceroot</a> = false)&nbsp;&nbsp;
<a href="_functions/move_directory_into.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Moves the given source into a new location recursively<BR>
</b><BR>If the target already exists, files are moved into it. The target is created otherwise.<BR>
<BR>
<b>param:</b> string $source full path to the existing directory<br>
<b>param:</b> string $destination full path to the new location of the folder<br>
<b>param:</b> bool $keepsourceroot should the root of the $source be kept or removed at the end<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="remove_directory" onClick="logFunction('remove_directory', 'mdeploy.php.source.html#l1382')" href="mdeploy.php.source.html#l1382">remove_directory</a>(<a href="_variables/path.html">$path</a>, <a href="_variables/keeppathroot.html">$keeppathroot</a> = false)&nbsp;&nbsp;
<a href="_functions/remove_directory.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Deletes the given directory recursively<BR>
</b><BR><b>param:</b> string $path full path to the directory<br>
<b>param:</b> bool $keeppathroot should the root of the $path be kept (i.e. remove the content only) or removed too<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="unzip_plugin" onClick="logFunction('unzip_plugin', 'mdeploy.php.source.html#l1429')" href="mdeploy.php.source.html#l1429">unzip_plugin</a>(<a href="_variables/ziplocation.html">$ziplocation</a>, <a href="_variables/plugintyperoot.html">$plugintyperoot</a>, <a href="_variables/expectedlocation.html">$expectedlocation</a>, <a href="_variables/backuplocation.html">$backuplocation</a>)&nbsp;&nbsp;
<a href="_functions/unzip_plugin.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Unzip the file obtained from the Plugins directory to this site<BR>
</b><BR><b>param:</b> string $ziplocation full path to the ZIP file<br>
<b>param:</b> string $plugintyperoot full path to the plugin's type location<br>
<b>param:</b> string $expectedlocation expected full path to the plugin after it is extracted<br>
<b>param:</b> string|bool $backuplocation location of the previous version of the plugin or false for no backup<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="redirect" onClick="logFunction('redirect', 'mdeploy.php.source.html#l1474')" href="mdeploy.php.source.html#l1474">redirect</a>(<a href="_variables/url.html">$url</a>)&nbsp;&nbsp;
<a href="_functions/redirect.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Redirect the browser<BR>
</b><BR><b>param:</b> string $url<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="exception_handlers"><b>exception_handlers</b></a>&nbsp;&nbsp;- <a href="_classes/exception_handlers.html"><small>X-Ref</small></a>
</p>
<b>Provides exception handlers for this script<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_handler" onClick="logFunction('set_handler', 'mdeploy.php.source.html#l1491')" href="mdeploy.php.source.html#l1491">set_handler</a>(<a href="_variables/handler.html">$handler</a>)&nbsp;&nbsp;
<a href="_functions/set_handler.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Sets the exception handler<BR>
</b><BR><b>param:</b> string $handler name<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="format_exception_info" onClick="logFunction('format_exception_info', 'mdeploy.php.source.html#l1508')" href="mdeploy.php.source.html#l1508">format_exception_info</a>(Exception <a href="_variables/e.html">$e</a>)&nbsp;&nbsp;
<a href="_functions/format_exception_info.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the text describing the thrown exception<BR>
</b><BR>By default, PHP displays full path to scripts when the exception is thrown. In order to prevent<BR>
sensitive information leak (and yes, the path to scripts at a web server _is_ sensitive information)<BR>
the path to scripts is removed from the message.<BR>
<BR>
<b>param:</b> Exception $e thrown exception<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="bootstrap_exception_handler" onClick="logFunction('bootstrap_exception_handler', 'mdeploy.php.source.html#l1526')" href="mdeploy.php.source.html#l1526">bootstrap_exception_handler</a>(Exception <a href="_variables/e.html">$e</a>)&nbsp;&nbsp;
<a href="_functions/bootstrap_exception_handler.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Very basic exception handler<BR>
</b><BR><b>param:</b> Exception $e uncaught exception<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="default_exception_handler" onClick="logFunction('default_exception_handler', 'mdeploy.php.source.html#l1539')" href="mdeploy.php.source.html#l1539">default_exception_handler</a>(Exception <a href="_variables/e.html">$e</a>)&nbsp;&nbsp;
<a href="_functions/default_exception_handler.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Default exception handler<BR>
</b><BR>When this handler is used, input_manager and output_manager singleton instances already<BR>
exist in the memory and can be used.<BR>
<BR>
<b>param:</b> Exception $e uncaught exception<br>
</td></tr></table>

<br>
</div>
</div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
