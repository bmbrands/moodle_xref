<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /report/loglive/classes/table_log_ajax.php source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu May 28 19:17:31 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='report/loglive/classes';
filename='table_log_ajax.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/report/loglive/classes/</a> -> <a href="table_log_ajax.php.html">table_log_ajax.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="table_log_ajax.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="table_log_ajax.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Table log for generating data in ajax mode.</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    report_loglive</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright  2014 onwards Ankit Agarwal &lt;ankit.agrr@gmail.com&gt;</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> */</span>
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die;
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment">/**</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> * Table log class for generating data in ajax mode.</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment"> *</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment"> * @since      Moodle 2.7</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment"> * @package    report_loglive</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment"> * @copyright  2014 onwards Ankit Agarwal &lt;ankit.agrr@gmail.com&gt;</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> */</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('report_loglive_table_log_ajax')" href="../../../_classes/report_loglive_table_log_ajax.html" onMouseOver="classPopup(event,'report_loglive_table_log_ajax')">report_loglive_table_log_ajax</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('report_loglive_table_log')" href="../../../_classes/report_loglive_table_log.html" onMouseOver="classPopup(event,'report_loglive_table_log')">report_loglive_table_log</a> {
<a name="l36"><span class="linenum">  36</span></a>  
<a name="l37"><span class="linenum">  37</span></a>      <span class="comment">/**</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     * Convenience method to call a number of methods for you to display the</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     * table.</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">     *</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment">     * @param int $pagesize pagesize</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment">     * @param bool $useinitialsbar Not used, present only for compatibility with parent.</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     * @param string $downloadhelpbutton Not used, present only for compatibility with parent.</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     *</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment">     * @return string json encoded data containing html of new rows.</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     */</span>
<a name="l47"><span class="linenum">  47</span></a>      public function <a class="function" onClick="logFunction('out')" href="../../../_functions/out.html" onMouseOver="funcPopup(event,'out')">out</a>(<a class="var it2902" onMouseOver="hilite(2902)" onMouseOut="lolite()" onClick="logVariable('pagesize')" href="../../../_variables/pagesize.html">$pagesize</a>, <a class="var it19001" onMouseOver="hilite(19001)" onMouseOut="lolite()" onClick="logVariable('useinitialsbar')" href="../../../_variables/useinitialsbar.html">$useinitialsbar</a>, <a class="var it31257" onMouseOver="hilite(31257)" onMouseOut="lolite()" onClick="logVariable('downloadhelpbutton')" href="../../../_variables/downloadhelpbutton.html">$downloadhelpbutton</a> = '') {
<a name="l48"><span class="linenum">  48</span></a>          <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('query_db')" href="../../../_functions/query_db.html" onMouseOver="funcPopup(event,'query_db')">query_db</a>(<a class="var it2902" onMouseOver="hilite(2902)" onMouseOut="lolite()" onClick="logVariable('pagesize')" href="../../../_variables/pagesize.html">$pagesize</a>, false);
<a name="l49"><span class="linenum">  49</span></a>          <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../../../_variables/html.html">$html</a> = '';
<a name="l50"><span class="linenum">  50</span></a>          <a class="var it12947" onMouseOver="hilite(12947)" onMouseOut="lolite()" onClick="logVariable('until')" href="../../../_variables/until.html">$until</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l51"><span class="linenum">  51</span></a>          if (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('rawdata')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/rawdata.html">rawdata</a> &amp;&amp; <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('columns')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/columns.html">columns</a>) {
<a name="l52"><span class="linenum">  52</span></a>              foreach (<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('rawdata')" class="var it39456" onMouseOver="hilite(39456)" onMouseOut="lolite()" href="../../../_variables/rawdata.html">rawdata</a> as <a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>) {
<a name="l53"><span class="linenum">  53</span></a>                  <a class="var it37766" onMouseOver="hilite(37766)" onMouseOut="lolite()" onClick="logVariable('formatedrow')" href="../../../_variables/formatedrow.html">$formatedrow</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('format_row')" href="../../../_functions/format_row.html" onMouseOver="funcPopup(event,'format_row')">format_row</a>(<a class="var it297" onMouseOver="hilite(297)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>, &quot;newrow time<a class="var it12947" onMouseOver="hilite(12947)" onMouseOut="lolite()" onClick="logVariable('until')" href="../../../_variables/until.html">$until</a>&quot;);
<a name="l54"><span class="linenum">  54</span></a>                  <a class="var it37766" onMouseOver="hilite(37766)" onMouseOut="lolite()" onClick="logVariable('formatedrow')" href="../../../_variables/formatedrow.html">$formatedrow</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_row_from_keyed')" href="../../../_functions/get_row_from_keyed.html" onMouseOver="funcPopup(event,'get_row_from_keyed')">get_row_from_keyed</a>(<a class="var it37766" onMouseOver="hilite(37766)" onMouseOut="lolite()" onClick="logVariable('formatedrow')" href="../../../_variables/formatedrow.html">$formatedrow</a>);
<a name="l55"><span class="linenum">  55</span></a>                  <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../../../_variables/html.html">$html</a> .= <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_row_html')" href="../../../_functions/get_row_html.html" onMouseOver="funcPopup(event,'get_row_html')">get_row_html</a>(<a class="var it37766" onMouseOver="hilite(37766)" onMouseOut="lolite()" onClick="logVariable('formatedrow')" href="../../../_variables/formatedrow.html">$formatedrow</a>, &quot;newrow time<a class="var it12947" onMouseOver="hilite(12947)" onMouseOut="lolite()" onClick="logVariable('until')" href="../../../_variables/until.html">$until</a>&quot;);
<a name="l56"><span class="linenum">  56</span></a>              }
<a name="l57"><span class="linenum">  57</span></a>          }
<a name="l58"><span class="linenum">  58</span></a>          <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a> = array('logs' =&gt; <a class="var it34" onMouseOver="hilite(34)" onMouseOut="lolite()" onClick="logVariable('html')" href="../../../_variables/html.html">$html</a>, 'until' =&gt; <a class="var it12947" onMouseOver="hilite(12947)" onMouseOut="lolite()" onClick="logVariable('until')" href="../../../_variables/until.html">$until</a>);
<a name="l59"><span class="linenum">  59</span></a>          return <a class="function" onClick="logFunction('json_encode')" href="../../../_functions/json_encode.html" onMouseOver="funcPopup(event,'json_encode')">json_encode</a>(<a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../_variables/result.html">$result</a>);
<a name="l60"><span class="linenum">  60</span></a>      }
<a name="l61"><span class="linenum">  61</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'format_row': ['format_row', 'Call appropriate methods on this table class to perform any processing on values before displaying in table. Takes raw data from the database and process it into human readable format, perhaps also adding html linking when displaying table as html, adding a div wrap, etc. ', [['lib','tablelib.php',778],['lib','tablelib.php',1755],['mod/assign','gradingtable.php',437]], 6],
'get_row_html': ['get_row_html', 'Generate html code for the passed row. ', [['lib','tablelib.php',1059]], 3],
'out': ['out', 'Returns the string ', [['lib','moodlelib.php',9451],['lib','weblib.php',547],['lib','tablelib.php',1526],['lib','csslib.php',1540],['lib','csslib.php',1698],['lib','csslib.php',2078],['lib','csslib.php',2162],['lib','csslib.php',2306],['lib','csslib.php',2495],['lib','csslib.php',3240],['report/loglive/classes','table_log_ajax.php',37]], 549],
'query_db': ['query_db', 'Query the reader. Store results in the object for use by build_table. ', [['report/log/classes','table_log.php',430],['admin/tool/monitor/classes/output/managesubs','rules.php',184],['report/loglive/classes','table_log.php',300],['admin/tool/monitor/classes/output/managerules','renderable.php',196],['admin/tool/monitor/classes/output/managesubs','subs.php',180],['mod/quiz/report','attemptsreport_table.php',532],['lib','tablelib.php',1473],['grade/report/history/classes/output','tablelog.php',457],['mod/quiz/report/overview','overview_table.php',297]], 6],
'get_row_from_keyed': ['get_row_from_keyed', 'This function is not part of the public api. ', [['lib','tablelib.php',979]], 2],
'json_encode': ['json_encode', 'encodes an arbitrary variable into JSON format ', [['lib/minify/lib','FirePHP.php',1124]], 247],
'time': ['time', '', [], 1768],
'defined': ['defined', '', [], 4098]};
CLASS_DATA={
'report_loglive_table_log': ['report_loglive_table_log', 'Table log class for displaying logs. ', [['report/loglive/classes','table_log.php',28]], 2],
'report_loglive_table_log_ajax': ['report_loglive_table_log_ajax', 'Table log class for generating data in ajax mode. ', [['report/loglive/classes','table_log_ajax.php',27]], 1]};
CONST_DATA={
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',138],['','install.php',93],['lib','setup.php',386]], 3532]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu May 28 19:17:31 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
