<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /badges/criteria/award_criteria_courseset.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='badges/criteria';
filename='award_criteria_courseset.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/badges/criteria/</a> -> <a href="award_criteria_courseset.php.html">award_criteria_courseset.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="award_criteria_courseset.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="award_criteria_courseset.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * This file contains the courseset completion badge award criteria type class</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    core</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @subpackage badges</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @copyright  2012 onwards Totara Learning Solutions Ltd {@link http://www.totaralms.com/}</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * @author     Yuliya Bozhko &lt;yuliya.bozhko@totaralms.com&gt;</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> */</span>
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('MOODLE_INTERNAL')" href="../../_constants/MOODLE_INTERNAL.html" onMouseOver="constPopup(event,'MOODLE_INTERNAL')">MOODLE_INTERNAL</a>') || die();
<a name="l28"><span class="linenum">  28</span></a>  <span class="keyword">require_once</span> <a class="filename" href="../../badges/criteria/award_criteria_course.php.html" onMouseOver="reqPopup(event, 'award_criteria_course.php', '../../badges/criteria/award_criteria_course.php')">('award_criteria_course.php')</a>;
<a name="l29"><span class="linenum">  29</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a> . '/completionlib.php');
<a name="l30"><span class="linenum">  30</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../grade/querylib.php.html">/grade/querylib.php</a>');
<a name="l31"><span class="linenum">  31</span></a>  require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a> . '/gradelib.php');
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">/**</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * Badge award criteria -- award on courseset completion</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> *</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> */</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('award_criteria_courseset')" href="../../_classes/award_criteria_courseset.html" onMouseOver="classPopup(event,'award_criteria_courseset')">award_criteria_courseset</a> extends award_criteria {
<a name="l38"><span class="linenum">  38</span></a>  
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">    /* @var int Criteria [BADGE_CRITERIA_TYPE_COURSESET] */</span>
<a name="l40"><span class="linenum">  40</span></a>      public <a class="var it2175" onMouseOver="hilite(2175)" onMouseOut="lolite()" onClick="logVariable('criteriatype')" href="../../_variables/criteriatype.html">$criteriatype</a> = <a class="constant" onClick="logConstant('BADGE_CRITERIA_TYPE_COURSESET')" href="../../_constants/BADGE_CRITERIA_TYPE_COURSESET.html" onMouseOver="constPopup(event,'BADGE_CRITERIA_TYPE_COURSESET')">BADGE_CRITERIA_TYPE_COURSESET</a>;
<a name="l41"><span class="linenum">  41</span></a>  
<a name="l42"><span class="linenum">  42</span></a>      public <a class="var it20160" onMouseOver="hilite(20160)" onMouseOut="lolite()" onClick="logVariable('required_param')" href="../../_variables/required_param.html">$required_param</a> = 'course';
<a name="l43"><span class="linenum">  43</span></a>      public <a class="var it20161" onMouseOver="hilite(20161)" onMouseOut="lolite()" onClick="logVariable('optional_params')" href="../../_variables/optional_params.html">$optional_params</a> = array('grade', 'bydate');
<a name="l44"><span class="linenum">  44</span></a>  
<a name="l45"><span class="linenum">  45</span></a>      <span class="comment">/**</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment">     * Get criteria details for displaying to users</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment">     *</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     * @return string</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">     */</span>
<a name="l50"><span class="linenum">  50</span></a>      public function <a class="function" onClick="logFunction('get_details')" href="../../_functions/get_details.html" onMouseOver="funcPopup(event,'get_details')">get_details</a>(<a class="var it2618" onMouseOver="hilite(2618)" onMouseOut="lolite()" onClick="logVariable('short')" href="../../_variables/short.html">$short</a> = '') {
<a name="l51"><span class="linenum">  51</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l52"><span class="linenum">  52</span></a>          <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a> = array();
<a name="l53"><span class="linenum">  53</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('params')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/params.html">params</a> as <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>) {
<a name="l54"><span class="linenum">  54</span></a>              <a class="var it522" onMouseOver="hilite(522)" onMouseOut="lolite()" onClick="logVariable('coursename')" href="../../_variables/coursename.html">$coursename</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_field')" href="../../_functions/get_field.html" onMouseOver="funcPopup(event,'get_field')">get_field</a>('course', 'fullname', array('id' =&gt; <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>['course']));
<a name="l55"><span class="linenum">  55</span></a>              if (!<a class="var it522" onMouseOver="hilite(522)" onMouseOut="lolite()" onClick="logVariable('coursename')" href="../../_variables/coursename.html">$coursename</a>) {
<a name="l56"><span class="linenum">  56</span></a>                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> = <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('error_text')" href="../../_functions/error_text.html" onMouseOver="funcPopup(event,'error_text')">error_text</a>(<a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('error:nosuchcourse', 'badges'));
<a name="l57"><span class="linenum">  57</span></a>              } else {
<a name="l58"><span class="linenum">  58</span></a>                  <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> = <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('tag')" href="../../_functions/tag.html" onMouseOver="funcPopup(event,'tag')">tag</a>('b', '&quot;' . <a class="var it522" onMouseOver="hilite(522)" onMouseOut="lolite()" onClick="logVariable('coursename')" href="../../_variables/coursename.html">$coursename</a> . '&quot;');
<a name="l59"><span class="linenum">  59</span></a>                  if (isset(<a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>['bydate'])) {
<a name="l60"><span class="linenum">  60</span></a>                      <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('criteria_descr_bydate', 'badges', <a class="function" onClick="logFunction('userdate')" href="../../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>['bydate'], <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('strftimedate', 'core_langconfig')));
<a name="l61"><span class="linenum">  61</span></a>                  }
<a name="l62"><span class="linenum">  62</span></a>                  if (isset(<a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>['grade'])) {
<a name="l63"><span class="linenum">  63</span></a>                      <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a> .= <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('criteria_descr_grade', 'badges', <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>['grade']);
<a name="l64"><span class="linenum">  64</span></a>                  }
<a name="l65"><span class="linenum">  65</span></a>              }
<a name="l66"><span class="linenum">  66</span></a>              <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>[] = <a class="var it163" onMouseOver="hilite(163)" onMouseOut="lolite()" onClick="logVariable('str')" href="../../_variables/str.html">$str</a>;
<a name="l67"><span class="linenum">  67</span></a>          }
<a name="l68"><span class="linenum">  68</span></a>  
<a name="l69"><span class="linenum">  69</span></a>          if (<a class="var it2618" onMouseOver="hilite(2618)" onMouseOut="lolite()" onClick="logVariable('short')" href="../../_variables/short.html">$short</a>) {
<a name="l70"><span class="linenum">  70</span></a>              return <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(', ', <a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>);
<a name="l71"><span class="linenum">  71</span></a>          } else {
<a name="l72"><span class="linenum">  72</span></a>              return <a class="class" onClick="logClass('html_writer')" href="../../_classes/html_writer.html" onMouseOver="classPopup(event,'html_writer')">html_writer</a>::<a class="function" onClick="logFunction('alist')" href="../../_functions/alist.html" onMouseOver="funcPopup(event,'alist')">alist</a>(<a class="var it29" onMouseOver="hilite(29)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../_variables/output.html">$output</a>, array(), 'ul');
<a name="l73"><span class="linenum">  73</span></a>          }
<a name="l74"><span class="linenum">  74</span></a>      }
<a name="l75"><span class="linenum">  75</span></a>  
<a name="l76"><span class="linenum">  76</span></a>      public function <a class="function" onClick="logFunction('get_courses')" href="../../_functions/get_courses.html" onMouseOver="funcPopup(event,'get_courses')">get_courses</a>(&amp;<a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>) {
<a name="l77"><span class="linenum">  77</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>, <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>;
<a name="l78"><span class="linenum">  78</span></a>          require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('dirroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/dirroot.html">dirroot</a> . '<a class="filename" href="../../course/lib.php.html">/course/lib.php</a>');
<a name="l79"><span class="linenum">  79</span></a>          <a class="var it473" onMouseOver="hilite(473)" onMouseOut="lolite()" onClick="logVariable('buttonarray')" href="../../_variables/buttonarray.html">$buttonarray</a> = array();
<a name="l80"><span class="linenum">  80</span></a>  
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">        // Get courses with enabled completion.</span>
<a name="l82"><span class="linenum">  82</span></a>          <a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('course', array('enablecompletion' =&gt; <a class="constant" onClick="logConstant('COMPLETION_ENABLED')" href="../../_constants/COMPLETION_ENABLED.html" onMouseOver="constPopup(event,'COMPLETION_ENABLED')">COMPLETION_ENABLED</a>));
<a name="l83"><span class="linenum">  83</span></a>          if (!empty(<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a>)) {
<a name="l84"><span class="linenum">  84</span></a>              require_once(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('libdir')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../../_variables/libdir.html">libdir</a> . '/coursecatlib.php');
<a name="l85"><span class="linenum">  85</span></a>              <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a> = <a class="class" onClick="logClass('coursecat')" href="../../_classes/coursecat.html" onMouseOver="classPopup(event,'coursecat')">coursecat</a>::<a class="function" onClick="logFunction('make_categories_list')" href="../../_functions/make_categories_list.html" onMouseOver="funcPopup(event,'make_categories_list')">make_categories_list</a>();
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>              <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a> = array();
<a name="l88"><span class="linenum">  88</span></a>              <a class="var it569" onMouseOver="hilite(569)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../../_variables/selected.html">$selected</a> = array();
<a name="l89"><span class="linenum">  89</span></a>              foreach (<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a> as <a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a>) {
<a name="l90"><span class="linenum">  90</span></a>                  <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>[<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a>-&gt;<a onClick="logVariable('id')" class="var it42990" onMouseOver="hilite(42990)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>] = <a class="var it567" onMouseOver="hilite(567)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../_variables/list.html">$list</a>[<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a>-&gt;<a onClick="logVariable('category')" class="var it42990" onMouseOver="hilite(42990)" onMouseOut="lolite()" href="../../_variables/category.html">category</a>] . ' / ' . <a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a>-&gt;<a onClick="logVariable('fullname')" class="var it42990" onMouseOver="hilite(42990)" onMouseOut="lolite()" href="../../_variables/fullname.html">fullname</a>, true, array('context' =&gt; <a class="class" onClick="logClass('context_course')" href="../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it132" onMouseOver="hilite(132)" onMouseOut="lolite()" onClick="logVariable('c')" href="../../_variables/c.html">$c</a>-&gt;<a onClick="logVariable('id')" class="var it42990" onMouseOver="hilite(42990)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>)));
<a name="l91"><span class="linenum">  91</span></a>              }
<a name="l92"><span class="linenum">  92</span></a>  
<a name="l93"><span class="linenum">  93</span></a>              if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('id')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> !== 0) {
<a name="l94"><span class="linenum">  94</span></a>                  <a class="var it569" onMouseOver="hilite(569)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../../_variables/selected.html">$selected</a> = <a class="phpfunction" onClick="logFunction('array_keys')" href="../../_functions/array_keys.html" onMouseOver="phpfuncPopup(event,'array_keys')">array_keys</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('params')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/params.html">params</a>);
<a name="l95"><span class="linenum">  95</span></a>              }
<a name="l96"><span class="linenum">  96</span></a>              <a class="var it18" onMouseOver="hilite(18)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../../_variables/settings.html">$settings</a> = array('multiple' =&gt; 'multiple', 'size' =&gt; 20, 'style' =&gt; 'width:300px');
<a name="l97"><span class="linenum">  97</span></a>              <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('select', 'courses', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addcourse', 'badges'), <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../../_variables/select.html">$select</a>, <a class="var it18" onMouseOver="hilite(18)" onMouseOut="lolite()" onClick="logVariable('settings')" href="../../_variables/settings.html">$settings</a>);
<a name="l98"><span class="linenum">  98</span></a>              <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addRule')" href="../../_functions/addrule.html" onMouseOver="funcPopup(event,'addrule')">addRule</a>('courses', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('requiredcourse', 'badges'), 'required');
<a name="l99"><span class="linenum">  99</span></a>              <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addHelpButton')" href="../../_functions/addhelpbutton.html" onMouseOver="funcPopup(event,'addhelpbutton')">addHelpButton</a>('courses', 'addcourse', 'badges');
<a name="l100"><span class="linenum"> 100</span></a>  
<a name="l101"><span class="linenum"> 101</span></a>              <a class="var it473" onMouseOver="hilite(473)" onMouseOut="lolite()" onClick="logVariable('buttonarray')" href="../../_variables/buttonarray.html">$buttonarray</a>[] =&amp; <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('createElement')" href="../../_functions/createelement.html" onMouseOver="funcPopup(event,'createelement')">createElement</a>('submit', 'submitcourse', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addcourse', 'badges'));
<a name="l102"><span class="linenum"> 102</span></a>              <a class="var it473" onMouseOver="hilite(473)" onMouseOut="lolite()" onClick="logVariable('buttonarray')" href="../../_variables/buttonarray.html">$buttonarray</a>[] =&amp; <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('createElement')" href="../../_functions/createelement.html" onMouseOver="funcPopup(event,'createelement')">createElement</a>('submit', 'cancel', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('cancel'));
<a name="l103"><span class="linenum"> 103</span></a>              <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addGroup')" href="../../_functions/addgroup.html" onMouseOver="funcPopup(event,'addgroup')">addGroup</a>(<a class="var it473" onMouseOver="hilite(473)" onMouseOut="lolite()" onClick="logVariable('buttonarray')" href="../../_variables/buttonarray.html">$buttonarray</a>, 'buttonar', '', array(' '), false);
<a name="l104"><span class="linenum"> 104</span></a>  
<a name="l105"><span class="linenum"> 105</span></a>              <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('hidden', 'addcourse', 'addcourse');
<a name="l106"><span class="linenum"> 106</span></a>              <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="phpfunction" onClick="logFunction('setType')" href="../../_functions/settype.html" onMouseOver="phpfuncPopup(event,'settype')">setType</a>('addcourse', <a class="constant" onClick="logConstant('PARAM_TEXT')" href="../../_constants/PARAM_TEXT.html" onMouseOver="constPopup(event,'PARAM_TEXT')">PARAM_TEXT</a>);
<a name="l107"><span class="linenum"> 107</span></a>              if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('id')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> !== 0) {
<a name="l108"><span class="linenum"> 108</span></a>                  <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('setDefault')" href="../../_functions/setdefault.html" onMouseOver="funcPopup(event,'setdefault')">setDefault</a>('courses', <a class="var it569" onMouseOver="hilite(569)" onMouseOut="lolite()" onClick="logVariable('selected')" href="../../_variables/selected.html">$selected</a>);
<a name="l109"><span class="linenum"> 109</span></a>              }
<a name="l110"><span class="linenum"> 110</span></a>              <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="phpfunction" onClick="logFunction('setType')" href="../../_functions/settype.html" onMouseOver="phpfuncPopup(event,'settype')">setType</a>('agg', <a class="constant" onClick="logConstant('PARAM_INT')" href="../../_constants/PARAM_INT.html" onMouseOver="constPopup(event,'PARAM_INT')">PARAM_INT</a>);
<a name="l111"><span class="linenum"> 111</span></a>          } else {
<a name="l112"><span class="linenum"> 112</span></a>              <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('static', 'nocourses', '', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('error:nocourses', 'badges'));
<a name="l113"><span class="linenum"> 113</span></a>              <a class="var it473" onMouseOver="hilite(473)" onMouseOut="lolite()" onClick="logVariable('buttonarray')" href="../../_variables/buttonarray.html">$buttonarray</a>[] =&amp; <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('createElement')" href="../../_functions/createelement.html" onMouseOver="funcPopup(event,'createelement')">createElement</a>('submit', 'cancel', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('continue'));
<a name="l114"><span class="linenum"> 114</span></a>              <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addGroup')" href="../../_functions/addgroup.html" onMouseOver="funcPopup(event,'addgroup')">addGroup</a>(<a class="var it473" onMouseOver="hilite(473)" onMouseOut="lolite()" onClick="logVariable('buttonarray')" href="../../_variables/buttonarray.html">$buttonarray</a>, 'buttonar', '', array(' '), false);
<a name="l115"><span class="linenum"> 115</span></a>          }
<a name="l116"><span class="linenum"> 116</span></a>      }
<a name="l117"><span class="linenum"> 117</span></a>  
<a name="l118"><span class="linenum"> 118</span></a>      public function <a class="function" onClick="logFunction('add_courses')" href="../../_functions/add_courses.html" onMouseOver="funcPopup(event,'add_courses')">add_courses</a>(<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array()) {
<a name="l119"><span class="linenum"> 119</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l120"><span class="linenum"> 120</span></a>          <a class="var it873" onMouseOver="hilite(873)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../_variables/t.html">$t</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('start_delegated_transaction')" href="../../_functions/start_delegated_transaction.html" onMouseOver="funcPopup(event,'start_delegated_transaction')">start_delegated_transaction</a>();
<a name="l121"><span class="linenum"> 121</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('id')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> !== 0) {
<a name="l122"><span class="linenum"> 122</span></a>              <a class="var it27568" onMouseOver="hilite(27568)" onMouseOut="lolite()" onClick="logVariable('critid')" href="../../_variables/critid.html">$critid</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('id')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>;
<a name="l123"><span class="linenum"> 123</span></a>          } else {
<a name="l124"><span class="linenum"> 124</span></a>              <a class="var it6847" onMouseOver="hilite(6847)" onMouseOut="lolite()" onClick="logVariable('fordb')" href="../../_variables/fordb.html">$fordb</a> = new stdClass();
<a name="l125"><span class="linenum"> 125</span></a>              <a class="var it6847" onMouseOver="hilite(6847)" onMouseOut="lolite()" onClick="logVariable('fordb')" href="../../_variables/fordb.html">$fordb</a>-&gt;<a onClick="logVariable('criteriatype')" class="var it43360" onMouseOver="hilite(43360)" onMouseOut="lolite()" href="../../_variables/criteriatype.html">criteriatype</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('criteriatype')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/criteriatype.html">criteriatype</a>;
<a name="l126"><span class="linenum"> 126</span></a>              <a class="var it6847" onMouseOver="hilite(6847)" onMouseOut="lolite()" onClick="logVariable('fordb')" href="../../_variables/fordb.html">$fordb</a>-&gt;<a onClick="logVariable('method')" class="var it43360" onMouseOver="hilite(43360)" onMouseOut="lolite()" href="../../_variables/method.html">method</a> = <a class="constant" onClick="logConstant('BADGE_CRITERIA_AGGREGATION_ALL')" href="../../_constants/BADGE_CRITERIA_AGGREGATION_ALL.html" onMouseOver="constPopup(event,'BADGE_CRITERIA_AGGREGATION_ALL')">BADGE_CRITERIA_AGGREGATION_ALL</a>;
<a name="l127"><span class="linenum"> 127</span></a>              <a class="var it6847" onMouseOver="hilite(6847)" onMouseOut="lolite()" onClick="logVariable('fordb')" href="../../_variables/fordb.html">$fordb</a>-&gt;<a onClick="logVariable('badgeid')" class="var it43360" onMouseOver="hilite(43360)" onMouseOut="lolite()" href="../../_variables/badgeid.html">badgeid</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('badgeid')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/badgeid.html">badgeid</a>;
<a name="l128"><span class="linenum"> 128</span></a>              <a class="var it27568" onMouseOver="hilite(27568)" onMouseOut="lolite()" onClick="logVariable('critid')" href="../../_variables/critid.html">$critid</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('badge_criteria', <a class="var it6847" onMouseOver="hilite(6847)" onMouseOut="lolite()" onClick="logVariable('fordb')" href="../../_variables/fordb.html">$fordb</a>, true, true);
<a name="l129"><span class="linenum"> 129</span></a>          }
<a name="l130"><span class="linenum"> 130</span></a>          if (<a class="var it27568" onMouseOver="hilite(27568)" onMouseOut="lolite()" onClick="logVariable('critid')" href="../../_variables/critid.html">$critid</a>) {
<a name="l131"><span class="linenum"> 131</span></a>              foreach (<a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> as <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>) {
<a name="l132"><span class="linenum"> 132</span></a>                  <a class="var it31812" onMouseOver="hilite(31812)" onMouseOut="lolite()" onClick="logVariable('newp')" href="../../_variables/newp.html">$newp</a> = new stdClass();
<a name="l133"><span class="linenum"> 133</span></a>                  <a class="var it31812" onMouseOver="hilite(31812)" onMouseOut="lolite()" onClick="logVariable('newp')" href="../../_variables/newp.html">$newp</a>-&gt;<a onClick="logVariable('critid')" class="var it45989" onMouseOver="hilite(45989)" onMouseOut="lolite()" href="../../_variables/critid.html">critid</a> = <a class="var it27568" onMouseOver="hilite(27568)" onMouseOut="lolite()" onClick="logVariable('critid')" href="../../_variables/critid.html">$critid</a>;
<a name="l134"><span class="linenum"> 134</span></a>                  <a class="var it31812" onMouseOver="hilite(31812)" onMouseOut="lolite()" onClick="logVariable('newp')" href="../../_variables/newp.html">$newp</a>-&gt;<a onClick="logVariable('name')" class="var it45989" onMouseOver="hilite(45989)" onMouseOut="lolite()" href="../../_variables/name.html">name</a> = 'course_' . <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>;
<a name="l135"><span class="linenum"> 135</span></a>                  <a class="var it31812" onMouseOver="hilite(31812)" onMouseOut="lolite()" onClick="logVariable('newp')" href="../../_variables/newp.html">$newp</a>-&gt;<a onClick="logVariable('value')" class="var it45989" onMouseOver="hilite(45989)" onMouseOut="lolite()" href="../../_variables/value.html">value</a> = <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>;
<a name="l136"><span class="linenum"> 136</span></a>                  if (!<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('record_exists')" href="../../_functions/record_exists.html" onMouseOver="funcPopup(event,'record_exists')">record_exists</a>('badge_criteria_param', array('critid' =&gt; <a class="var it27568" onMouseOver="hilite(27568)" onMouseOut="lolite()" onClick="logVariable('critid')" href="../../_variables/critid.html">$critid</a>, 'name' =&gt; <a class="var it31812" onMouseOver="hilite(31812)" onMouseOut="lolite()" onClick="logVariable('newp')" href="../../_variables/newp.html">$newp</a>-&gt;<a onClick="logVariable('name')" class="var it45989" onMouseOver="hilite(45989)" onMouseOut="lolite()" href="../../_variables/name.html">name</a>))) {
<a name="l137"><span class="linenum"> 137</span></a>                      <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('badge_criteria_param', <a class="var it31812" onMouseOver="hilite(31812)" onMouseOut="lolite()" onClick="logVariable('newp')" href="../../_variables/newp.html">$newp</a>, false, true);
<a name="l138"><span class="linenum"> 138</span></a>                  }
<a name="l139"><span class="linenum"> 139</span></a>              }
<a name="l140"><span class="linenum"> 140</span></a>          }
<a name="l141"><span class="linenum"> 141</span></a>          <a class="var it873" onMouseOver="hilite(873)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../_variables/t.html">$t</a>-&gt;<a class="function" onClick="logFunction('allow_commit')" href="../../_functions/allow_commit.html" onMouseOver="funcPopup(event,'allow_commit')">allow_commit</a>();
<a name="l142"><span class="linenum"> 142</span></a>          return <a class="var it27568" onMouseOver="hilite(27568)" onMouseOut="lolite()" onClick="logVariable('critid')" href="../../_variables/critid.html">$critid</a>;
<a name="l143"><span class="linenum"> 143</span></a>      }
<a name="l144"><span class="linenum"> 144</span></a>  
<a name="l145"><span class="linenum"> 145</span></a>      <span class="comment">/**</span>
<a name="l146"><span class="linenum"> 146</span></a>  <span class="comment">     * Add appropriate new criteria options to the form</span>
<a name="l147"><span class="linenum"> 147</span></a>  <span class="comment">     *</span>
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">     */</span>
<a name="l149"><span class="linenum"> 149</span></a>      public function <a class="function" onClick="logFunction('get_options')" href="../../_functions/get_options.html" onMouseOver="funcPopup(event,'get_options')">get_options</a>(&amp;<a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>) {
<a name="l150"><span class="linenum"> 150</span></a>          global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>;
<a name="l151"><span class="linenum"> 151</span></a>          <a class="var it10009" onMouseOver="hilite(10009)" onMouseOut="lolite()" onClick="logVariable('none')" href="../../_variables/none.html">$none</a> = true;
<a name="l152"><span class="linenum"> 152</span></a>  
<a name="l153"><span class="linenum"> 153</span></a>          <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('header', 'first_header', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('get_title')" href="../../_functions/get_title.html" onMouseOver="funcPopup(event,'get_title')">get_title</a>());
<a name="l154"><span class="linenum"> 154</span></a>          <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addHelpButton')" href="../../_functions/addhelpbutton.html" onMouseOver="funcPopup(event,'addhelpbutton')">addHelpButton</a>('first_header', 'criteria_' . <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('criteriatype')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/criteriatype.html">criteriatype</a>, 'badges');
<a name="l155"><span class="linenum"> 155</span></a>  
<a name="l156"><span class="linenum"> 156</span></a>          if (<a class="var it566" onMouseOver="hilite(566)" onMouseOut="lolite()" onClick="logVariable('courses')" href="../../_variables/courses.html">$courses</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records')" href="../../_functions/get_records.html" onMouseOver="funcPopup(event,'get_records')">get_records</a>('course', array('enablecompletion' =&gt; <a class="constant" onClick="logConstant('COMPLETION_ENABLED')" href="../../_constants/COMPLETION_ENABLED.html" onMouseOver="constPopup(event,'COMPLETION_ENABLED')">COMPLETION_ENABLED</a>))) {
<a name="l157"><span class="linenum"> 157</span></a>              <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('submit', 'addcourse', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addcourse', 'badges'), array('class' =&gt; 'addcourse'));
<a name="l158"><span class="linenum"> 158</span></a>          }
<a name="l159"><span class="linenum"> 159</span></a>  
<a name="l160"><span class="linenum"> 160</span></a>  <span class="comment">        // In courseset, print out only the ones that were already selected.</span>
<a name="l161"><span class="linenum"> 161</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('params')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/params.html">params</a> as <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>) {
<a name="l162"><span class="linenum"> 162</span></a>              if (<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('course', array('id' =&gt; <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>['course']))) {
<a name="l163"><span class="linenum"> 163</span></a>                  <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a> = <a class="class" onClick="logClass('context_course')" href="../../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l164"><span class="linenum"> 164</span></a>                  <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a> = array(
<a name="l165"><span class="linenum"> 165</span></a>                          'id' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l166"><span class="linenum"> 166</span></a>                          'checked' =&gt; true,
<a name="l167"><span class="linenum"> 167</span></a>                          'name' =&gt; <a class="function" onClick="logFunction('format_string')" href="../../_functions/format_string.html" onMouseOver="funcPopup(event,'format_string')">format_string</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('fullname')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/fullname.html">fullname</a>, true, array('context' =&gt; <a class="var it683" onMouseOver="hilite(683)" onMouseOut="lolite()" onClick="logVariable('coursecontext')" href="../../_variables/coursecontext.html">$coursecontext</a>)),
<a name="l168"><span class="linenum"> 168</span></a>                          'error' =&gt; false
<a name="l169"><span class="linenum"> 169</span></a>                  );
<a name="l170"><span class="linenum"> 170</span></a>  
<a name="l171"><span class="linenum"> 171</span></a>                  if (isset(<a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>['bydate'])) {
<a name="l172"><span class="linenum"> 172</span></a>                      <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['bydate'] = <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>['bydate'];
<a name="l173"><span class="linenum"> 173</span></a>                  }
<a name="l174"><span class="linenum"> 174</span></a>                  if (isset(<a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>['grade'])) {
<a name="l175"><span class="linenum"> 175</span></a>                      <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['grade'] = <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>['grade'];
<a name="l176"><span class="linenum"> 176</span></a>                  }
<a name="l177"><span class="linenum"> 177</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('config_options')" href="../../_functions/config_options.html" onMouseOver="funcPopup(event,'config_options')">config_options</a>(<a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>, <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>);
<a name="l178"><span class="linenum"> 178</span></a>                  <a class="var it10009" onMouseOver="hilite(10009)" onMouseOut="lolite()" onClick="logVariable('none')" href="../../_variables/none.html">$none</a> = false;
<a name="l179"><span class="linenum"> 179</span></a>              } else {
<a name="l180"><span class="linenum"> 180</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('config_options')" href="../../_functions/config_options.html" onMouseOver="funcPopup(event,'config_options')">config_options</a>(<a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>, array('id' =&gt; <a class="var it325" onMouseOver="hilite(325)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../_variables/p.html">$p</a>['course'], 'checked' =&gt; true,
<a name="l181"><span class="linenum"> 181</span></a>                          'name' =&gt; <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('error:nosuchcourse', 'badges'), 'error' =&gt; true));
<a name="l182"><span class="linenum"> 182</span></a>              }
<a name="l183"><span class="linenum"> 183</span></a>          }
<a name="l184"><span class="linenum"> 184</span></a>  
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment">        // Add aggregation.</span>
<a name="l186"><span class="linenum"> 186</span></a>          if (!<a class="var it10009" onMouseOver="hilite(10009)" onMouseOut="lolite()" onClick="logVariable('none')" href="../../_variables/none.html">$none</a>) {
<a name="l187"><span class="linenum"> 187</span></a>              <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addElement')" href="../../_functions/addelement.html" onMouseOver="funcPopup(event,'addelement')">addElement</a>('header', 'aggregation', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('method', 'badges'));
<a name="l188"><span class="linenum"> 188</span></a>              <a class="var it20163" onMouseOver="hilite(20163)" onMouseOut="lolite()" onClick="logVariable('agg')" href="../../_variables/agg.html">$agg</a> = array();
<a name="l189"><span class="linenum"> 189</span></a>              <a class="var it20163" onMouseOver="hilite(20163)" onMouseOut="lolite()" onClick="logVariable('agg')" href="../../_variables/agg.html">$agg</a>[] =&amp; <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('createElement')" href="../../_functions/createelement.html" onMouseOver="funcPopup(event,'createelement')">createElement</a>('radio', 'agg', '', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('allmethodcourseset', 'badges'), 1);
<a name="l190"><span class="linenum"> 190</span></a>              <a class="var it20163" onMouseOver="hilite(20163)" onMouseOut="lolite()" onClick="logVariable('agg')" href="../../_variables/agg.html">$agg</a>[] =&amp; <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('createElement')" href="../../_functions/createelement.html" onMouseOver="funcPopup(event,'createelement')">createElement</a>('radio', 'agg', '', <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('anymethodcourseset', 'badges'), 2);
<a name="l191"><span class="linenum"> 191</span></a>              <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('addGroup')" href="../../_functions/addgroup.html" onMouseOver="funcPopup(event,'addgroup')">addGroup</a>(<a class="var it20163" onMouseOver="hilite(20163)" onMouseOut="lolite()" onClick="logVariable('agg')" href="../../_variables/agg.html">$agg</a>, 'methodgr', '', array('&lt;br/&gt;'), false);
<a name="l192"><span class="linenum"> 192</span></a>              if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('id')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> !== 0) {
<a name="l193"><span class="linenum"> 193</span></a>                  <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('setDefault')" href="../../_functions/setdefault.html" onMouseOver="funcPopup(event,'setdefault')">setDefault</a>('agg', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('method')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/method.html">method</a>);
<a name="l194"><span class="linenum"> 194</span></a>              } else {
<a name="l195"><span class="linenum"> 195</span></a>                  <a class="var it219" onMouseOver="hilite(219)" onMouseOut="lolite()" onClick="logVariable('mform')" href="../../_variables/mform.html">$mform</a>-&gt;<a class="function" onClick="logFunction('setDefault')" href="../../_functions/setdefault.html" onMouseOver="funcPopup(event,'setdefault')">setDefault</a>('agg', <a class="constant" onClick="logConstant('BADGE_CRITERIA_AGGREGATION_ANY')" href="../../_constants/BADGE_CRITERIA_AGGREGATION_ANY.html" onMouseOver="constPopup(event,'BADGE_CRITERIA_AGGREGATION_ANY')">BADGE_CRITERIA_AGGREGATION_ANY</a>);
<a name="l196"><span class="linenum"> 196</span></a>              }
<a name="l197"><span class="linenum"> 197</span></a>          }
<a name="l198"><span class="linenum"> 198</span></a>  
<a name="l199"><span class="linenum"> 199</span></a>          return array(<a class="var it10009" onMouseOver="hilite(10009)" onMouseOut="lolite()" onClick="logVariable('none')" href="../../_variables/none.html">$none</a>, <a class="function" onClick="logFunction('get_string')" href="../../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('noparamstoadd', 'badges'));
<a name="l200"><span class="linenum"> 200</span></a>      }
<a name="l201"><span class="linenum"> 201</span></a>  
<a name="l202"><span class="linenum"> 202</span></a>      <span class="comment">/**</span>
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment">     * Review this criteria and decide if it has been completed</span>
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment">     *</span>
<a name="l205"><span class="linenum"> 205</span></a>  <span class="comment">     * @param int $userid User whose criteria completion needs to be reviewed.</span>
<a name="l206"><span class="linenum"> 206</span></a>  <span class="comment">     * @param bool $filtered An additional parameter indicating that user list</span>
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment">     *        has been reduced and some expensive checks can be skipped.</span>
<a name="l208"><span class="linenum"> 208</span></a>  <span class="comment">     *</span>
<a name="l209"><span class="linenum"> 209</span></a>  <span class="comment">     * @return bool Whether criteria is complete</span>
<a name="l210"><span class="linenum"> 210</span></a>  <span class="comment">     */</span>
<a name="l211"><span class="linenum"> 211</span></a>      public function <a class="function" onClick="logFunction('review')" href="../../_functions/review.html" onMouseOver="funcPopup(event,'review')">review</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it1753" onMouseOver="hilite(1753)" onMouseOut="lolite()" onClick="logVariable('filtered')" href="../../_variables/filtered.html">$filtered</a> = false) {
<a name="l212"><span class="linenum"> 212</span></a>          foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('params')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/params.html">params</a> as <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>) {
<a name="l213"><span class="linenum"> 213</span></a>              <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a> =  new stdClass();
<a name="l214"><span class="linenum"> 214</span></a>              <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a> = <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['course'];
<a name="l215"><span class="linenum"> 215</span></a>  
<a name="l216"><span class="linenum"> 216</span></a>              <a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a> = <span class="keyword">new </span><a class="class" onClick="logClass('completion_info')" href="../../_classes/completion_info.html" onMouseOver="classPopup(event,'completion_info')">completion_info</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>);
<a name="l217"><span class="linenum"> 217</span></a>              <a class="var it31093" onMouseOver="hilite(31093)" onMouseOut="lolite()" onClick="logVariable('check_grade')" href="../../_variables/check_grade.html">$check_grade</a> = true;
<a name="l218"><span class="linenum"> 218</span></a>              <a class="var it20165" onMouseOver="hilite(20165)" onMouseOut="lolite()" onClick="logVariable('check_date')" href="../../_variables/check_date.html">$check_date</a> = true;
<a name="l219"><span class="linenum"> 219</span></a>  
<a name="l220"><span class="linenum"> 220</span></a>              if (isset(<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['grade'])) {
<a name="l221"><span class="linenum"> 221</span></a>                  <a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a> = <a class="function" onClick="logFunction('grade_get_course_grade')" href="../../_functions/grade_get_course_grade.html" onMouseOver="funcPopup(event,'grade_get_course_grade')">grade_get_course_grade</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>);
<a name="l222"><span class="linenum"> 222</span></a>                  <a class="var it31093" onMouseOver="hilite(31093)" onMouseOut="lolite()" onClick="logVariable('check_grade')" href="../../_variables/check_grade.html">$check_grade</a> = (<a class="var it288" onMouseOver="hilite(288)" onMouseOut="lolite()" onClick="logVariable('grade')" href="../../_variables/grade.html">$grade</a>-&gt;<a onClick="logVariable('grade')" class="var it42963" onMouseOver="hilite(42963)" onMouseOut="lolite()" href="../../_variables/grade.html">grade</a> &gt;= <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['grade']);
<a name="l223"><span class="linenum"> 223</span></a>              }
<a name="l224"><span class="linenum"> 224</span></a>  
<a name="l225"><span class="linenum"> 225</span></a>              if (!<a class="var it1753" onMouseOver="hilite(1753)" onMouseOut="lolite()" onClick="logVariable('filtered')" href="../../_variables/filtered.html">$filtered</a> &amp;&amp; isset(<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['bydate'])) {
<a name="l226"><span class="linenum"> 226</span></a>                  <a class="var it29093" onMouseOver="hilite(29093)" onMouseOut="lolite()" onClick="logVariable('cparams')" href="../../_variables/cparams.html">$cparams</a> = array(
<a name="l227"><span class="linenum"> 227</span></a>                          'userid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>,
<a name="l228"><span class="linenum"> 228</span></a>                          'course' =&gt; <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../../_variables/id.html">id</a>,
<a name="l229"><span class="linenum"> 229</span></a>                  );
<a name="l230"><span class="linenum"> 230</span></a>                  <a class="var it555" onMouseOver="hilite(555)" onMouseOut="lolite()" onClick="logVariable('completion')" href="../../_variables/completion.html">$completion</a> = <span class="keyword">new </span><a class="class" onClick="logClass('completion_completion')" href="../../_classes/completion_completion.html" onMouseOver="classPopup(event,'completion_completion')">completion_completion</a>(<a class="var it29093" onMouseOver="hilite(29093)" onMouseOut="lolite()" onClick="logVariable('cparams')" href="../../_variables/cparams.html">$cparams</a>);
<a name="l231"><span class="linenum"> 231</span></a>                  <a class="var it1098" onMouseOver="hilite(1098)" onMouseOut="lolite()" onClick="logVariable('date')" href="../../_variables/date.html">$date</a> = <a class="var it555" onMouseOver="hilite(555)" onMouseOut="lolite()" onClick="logVariable('completion')" href="../../_variables/completion.html">$completion</a>-&gt;<a onClick="logVariable('timecompleted')" class="var it42974" onMouseOver="hilite(42974)" onMouseOut="lolite()" href="../../_variables/timecompleted.html">timecompleted</a>;
<a name="l232"><span class="linenum"> 232</span></a>                  <a class="var it20165" onMouseOver="hilite(20165)" onMouseOut="lolite()" onClick="logVariable('check_date')" href="../../_variables/check_date.html">$check_date</a> = (<a class="var it1098" onMouseOver="hilite(1098)" onMouseOut="lolite()" onClick="logVariable('date')" href="../../_variables/date.html">$date</a> &lt;= <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['bydate']);
<a name="l233"><span class="linenum"> 233</span></a>              }
<a name="l234"><span class="linenum"> 234</span></a>  
<a name="l235"><span class="linenum"> 235</span></a>              <a class="var it7755" onMouseOver="hilite(7755)" onMouseOut="lolite()" onClick="logVariable('overall')" href="../../_variables/overall.html">$overall</a> = false;
<a name="l236"><span class="linenum"> 236</span></a>              if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('method')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/method.html">method</a> == <a class="constant" onClick="logConstant('BADGE_CRITERIA_AGGREGATION_ALL')" href="../../_constants/BADGE_CRITERIA_AGGREGATION_ALL.html" onMouseOver="constPopup(event,'BADGE_CRITERIA_AGGREGATION_ALL')">BADGE_CRITERIA_AGGREGATION_ALL</a>) {
<a name="l237"><span class="linenum"> 237</span></a>                  if (<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>-&gt;<a class="function" onClick="logFunction('is_course_complete')" href="../../_functions/is_course_complete.html" onMouseOver="funcPopup(event,'is_course_complete')">is_course_complete</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>) &amp;&amp; <a class="var it31093" onMouseOver="hilite(31093)" onMouseOut="lolite()" onClick="logVariable('check_grade')" href="../../_variables/check_grade.html">$check_grade</a> &amp;&amp; <a class="var it20165" onMouseOver="hilite(20165)" onMouseOut="lolite()" onClick="logVariable('check_date')" href="../../_variables/check_date.html">$check_date</a>) {
<a name="l238"><span class="linenum"> 238</span></a>                      <a class="var it7755" onMouseOver="hilite(7755)" onMouseOut="lolite()" onClick="logVariable('overall')" href="../../_variables/overall.html">$overall</a> = true;
<a name="l239"><span class="linenum"> 239</span></a>                      continue;
<a name="l240"><span class="linenum"> 240</span></a>                  } else {
<a name="l241"><span class="linenum"> 241</span></a>                      return false;
<a name="l242"><span class="linenum"> 242</span></a>                  }
<a name="l243"><span class="linenum"> 243</span></a>              } else {
<a name="l244"><span class="linenum"> 244</span></a>                  if (<a class="var it506" onMouseOver="hilite(506)" onMouseOut="lolite()" onClick="logVariable('info')" href="../../_variables/info.html">$info</a>-&gt;<a class="function" onClick="logFunction('is_course_complete')" href="../../_functions/is_course_complete.html" onMouseOver="funcPopup(event,'is_course_complete')">is_course_complete</a>(<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../../_variables/userid.html">$userid</a>) &amp;&amp; <a class="var it31093" onMouseOver="hilite(31093)" onMouseOut="lolite()" onClick="logVariable('check_grade')" href="../../_variables/check_grade.html">$check_grade</a> &amp;&amp; <a class="var it20165" onMouseOver="hilite(20165)" onMouseOut="lolite()" onClick="logVariable('check_date')" href="../../_variables/check_date.html">$check_date</a>) {
<a name="l245"><span class="linenum"> 245</span></a>                      return true;
<a name="l246"><span class="linenum"> 246</span></a>                  } else {
<a name="l247"><span class="linenum"> 247</span></a>                      <a class="var it7755" onMouseOver="hilite(7755)" onMouseOut="lolite()" onClick="logVariable('overall')" href="../../_variables/overall.html">$overall</a> = false;
<a name="l248"><span class="linenum"> 248</span></a>                      continue;
<a name="l249"><span class="linenum"> 249</span></a>                  }
<a name="l250"><span class="linenum"> 250</span></a>              }
<a name="l251"><span class="linenum"> 251</span></a>          }
<a name="l252"><span class="linenum"> 252</span></a>  
<a name="l253"><span class="linenum"> 253</span></a>          return <a class="var it7755" onMouseOver="hilite(7755)" onMouseOut="lolite()" onClick="logVariable('overall')" href="../../_variables/overall.html">$overall</a>;
<a name="l254"><span class="linenum"> 254</span></a>      }
<a name="l255"><span class="linenum"> 255</span></a>  
<a name="l256"><span class="linenum"> 256</span></a>      <span class="comment">/**</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment">     * Returns array with sql code and parameters returning all ids</span>
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment">     * of users who meet this particular criterion.</span>
<a name="l259"><span class="linenum"> 259</span></a>  <span class="comment">     *</span>
<a name="l260"><span class="linenum"> 260</span></a>  <span class="comment">     * @return array list($join, $where, $params)</span>
<a name="l261"><span class="linenum"> 261</span></a>  <span class="comment">     */</span>
<a name="l262"><span class="linenum"> 262</span></a>      public function <a class="function" onClick="logFunction('get_completed_criteria_sql')" href="../../_functions/get_completed_criteria_sql.html" onMouseOver="funcPopup(event,'get_completed_criteria_sql')">get_completed_criteria_sql</a>() {
<a name="l263"><span class="linenum"> 263</span></a>          <a class="var it11538" onMouseOver="hilite(11538)" onMouseOut="lolite()" onClick="logVariable('join')" href="../../_variables/join.html">$join</a> = '';
<a name="l264"><span class="linenum"> 264</span></a>          <a class="var it3091" onMouseOver="hilite(3091)" onMouseOut="lolite()" onClick="logVariable('where')" href="../../_variables/where.html">$where</a> = '';
<a name="l265"><span class="linenum"> 265</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a> = array();
<a name="l266"><span class="linenum"> 266</span></a>  
<a name="l267"><span class="linenum"> 267</span></a>          if (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('method')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/method.html">method</a> == <a class="constant" onClick="logConstant('BADGE_CRITERIA_AGGREGATION_ANY')" href="../../_constants/BADGE_CRITERIA_AGGREGATION_ANY.html" onMouseOver="constPopup(event,'BADGE_CRITERIA_AGGREGATION_ANY')">BADGE_CRITERIA_AGGREGATION_ANY</a>) {
<a name="l268"><span class="linenum"> 268</span></a>              foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('params')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/params.html">params</a> as <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>) {
<a name="l269"><span class="linenum"> 269</span></a>                  <a class="var it4718" onMouseOver="hilite(4718)" onMouseOut="lolite()" onClick="logVariable('coursedata')" href="../../_variables/coursedata.html">$coursedata</a>[] = &quot; cc.course = :completedcourse{<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['course']} &quot;;
<a name="l270"><span class="linenum"> 270</span></a>                  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>[&quot;completedcourse{<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['course']}&quot;] = <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['course'];
<a name="l271"><span class="linenum"> 271</span></a>              }
<a name="l272"><span class="linenum"> 272</span></a>              if (!empty(<a class="var it4718" onMouseOver="hilite(4718)" onMouseOut="lolite()" onClick="logVariable('coursedata')" href="../../_variables/coursedata.html">$coursedata</a>)) {
<a name="l273"><span class="linenum"> 273</span></a>                  <a class="var it20166" onMouseOver="hilite(20166)" onMouseOut="lolite()" onClick="logVariable('extraon')" href="../../_variables/extraon.html">$extraon</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(' OR ', <a class="var it4718" onMouseOver="hilite(4718)" onMouseOut="lolite()" onClick="logVariable('coursedata')" href="../../_variables/coursedata.html">$coursedata</a>);
<a name="l274"><span class="linenum"> 274</span></a>                  <a class="var it11538" onMouseOver="hilite(11538)" onMouseOut="lolite()" onClick="logVariable('join')" href="../../_variables/join.html">$join</a> = &quot; JOIN {course_completions} cc ON cc.userid = u.id AND
<a name="l275"><span class="linenum"> 275</span></a>                            cc.timecompleted &gt; 0 AND ({<a class="var it20166" onMouseOver="hilite(20166)" onMouseOut="lolite()" onClick="logVariable('extraon')" href="../../_variables/extraon.html">$extraon</a>})&quot;;
<a name="l276"><span class="linenum"> 276</span></a>              }
<a name="l277"><span class="linenum"> 277</span></a>              return array(<a class="var it11538" onMouseOver="hilite(11538)" onMouseOut="lolite()" onClick="logVariable('join')" href="../../_variables/join.html">$join</a>, <a class="var it3091" onMouseOver="hilite(3091)" onMouseOut="lolite()" onClick="logVariable('where')" href="../../_variables/where.html">$where</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l278"><span class="linenum"> 278</span></a>          } else {
<a name="l279"><span class="linenum"> 279</span></a>              foreach (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('params')" class="var it42912" onMouseOver="hilite(42912)" onMouseOut="lolite()" href="../../_variables/params.html">params</a> as <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>) {
<a name="l280"><span class="linenum"> 280</span></a>                  <a class="var it11538" onMouseOver="hilite(11538)" onMouseOut="lolite()" onClick="logVariable('join')" href="../../_variables/join.html">$join</a> .= &quot; LEFT JOIN {course_completions} cc{<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['course']} ON
<a name="l281"><span class="linenum"> 281</span></a>                            cc{<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['course']}.userid = u.id AND
<a name="l282"><span class="linenum"> 282</span></a>                            cc{<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['course']}.course = :completedcourse{<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['course']} AND
<a name="l283"><span class="linenum"> 283</span></a>                            cc{<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['course']}.timecompleted &gt; 0 &quot;;
<a name="l284"><span class="linenum"> 284</span></a>                  <a class="var it3091" onMouseOver="hilite(3091)" onMouseOut="lolite()" onClick="logVariable('where')" href="../../_variables/where.html">$where</a> .= &quot; AND cc{<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['course']}.course IS NOT NULL &quot;;
<a name="l285"><span class="linenum"> 285</span></a>                  <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>[&quot;completedcourse{<a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['course']}&quot;] = <a class="var it334" onMouseOver="hilite(334)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../_variables/param.html">$param</a>['course'];
<a name="l286"><span class="linenum"> 286</span></a>              }
<a name="l287"><span class="linenum"> 287</span></a>              return array(<a class="var it11538" onMouseOver="hilite(11538)" onMouseOut="lolite()" onClick="logVariable('join')" href="../../_variables/join.html">$join</a>, <a class="var it3091" onMouseOver="hilite(3091)" onMouseOut="lolite()" onClick="logVariable('where')" href="../../_variables/where.html">$where</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../_variables/params.html">$params</a>);
<a name="l288"><span class="linenum"> 288</span></a>          }
<a name="l289"><span class="linenum"> 289</span></a>      }
<a name="l290"><span class="linenum"> 290</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'alist': ['alist', 'Shortcut for quick making of lists ', [['lib','outputcomponents.php',1435]], 14],
'review': ['review', 'Review this criteria and decide if the user has completed ', [['completion/criteria','completion_criteria_course.php',94],['completion/criteria','completion_criteria_date.php',87],['badges/criteria','award_criteria_activity.php',176],['completion/criteria','completion_criteria_role.php',98],['badges/criteria','award_criteria_overall.php',96],['badges/criteria','award_criteria_course.php',172],['badges/criteria','award_criteria_courseset.php',202],['badges/criteria','award_criteria_profile.php',155],['completion/criteria','completion_criteria_self.php',89],['completion/criteria','completion_criteria_grade.php',107],['completion/criteria','completion_criteria_unenrol.php',80],['completion/criteria','completion_criteria_activity.php',138],['completion/criteria','completion_criteria_duration.php',127],['badges/criteria','award_criteria_manual.php',141]], 18],
'is_course_complete': ['is_course_complete', 'Has the supplied user completed this course ', [['lib','completionlib.php',491]], 10],
'addhelpbutton': ['addhelpbutton', 'Add a help button to element, only one button per element is allowed. ', [['lib','formslib.php',1909]], 670],
'allow_commit': ['allow_commit', 'Commit delegated transaction. The real database commit SQL is executed only after committing all delegated transactions. ', [['lib/dml','moodle_transaction.php',78]], 135],
'userdate': ['userdate', 'Returns a formatted string that represents a date in user time. ', [['lib','moodlelib.php',2155],['lib/adodb','adodb.inc.php',2842],['lib/adodb','adodb.inc.php',3569]], 525],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'createelement': ['createelement', 'Create an element, set its class name and optionally install the element to its parent. ', [['lib/yuilib/2in3/2.9.0/build/yui2-carousel','yui2-carousel-debug.js',299],['theme/bootstrapbase/javascript','html5shiv.js',120],['lib/pear/HTML','QuickForm.php',533],['lib/yuilib/2in3/2.9.0/build/yui2-carousel','yui2-carousel.js',298]], 1944],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'get_details': ['get_details', 'Return criteria progress details for display in reports ', [['completion/criteria','completion_criteria_course.php',202],['completion/criteria','completion_criteria_date.php',189],['badges/criteria','award_criteria_activity.php',76],['completion/criteria','completion_criteria_role.php',150],['badges/criteria','award_criteria_overall.php',88],['badges/criteria','award_criteria_course.php',92],['badges/criteria','award_criteria_courseset.php',45],['badges/criteria','award_criteria_profile.php',127],['completion/criteria','completion_criteria_self.php',136],['completion/criteria','completion_criteria_grade.php',239],['completion/criteria','completion_criteria_unenrol.php',119],['completion/criteria','completion_criteria_activity.php',251],['completion/criteria','completion_criteria_duration.php',265],['badges/criteria','award_criteria_manual.php',117]], 12],
'addelement': ['addelement', 'Adds a custom element to your HTML definition ', [['lib/htmlpurifier/HTMLPurifier','HTMLDefinition.php',124],['lib/htmlpurifier/HTMLPurifier','HTMLModule.php',130],['lib/pear/HTML','QuickForm.php',592]], 3302],
'get_title': ['get_title', 'Return criteria title for display in reports ', [['completion/criteria','completion_criteria_course.php',120],['question/classes/bank','question_type_column.php',30],['lib/simplepie/library','SimplePie.php',1969],['completion/criteria','completion_criteria_date.php',106],['lib/simplepie/library/SimplePie','Source.php',104],['question/classes/bank','question_text_row.php',39],['question/classes/bank','modifier_name_column.php',31],['question/classes/bank','checkbox_column.php',36],['lib','outputcomponents.php',2764],['question/classes/bank','action_column_base.php',28],['lib/simplepie/library/SimplePie','Enclosure.php',860],['lib','navigationlib.php',582],['completion/criteria','completion_criteria_role.php',118],['lib/simplepie/library/SimplePie','Item.php',260],['question/classes/bank','question_name_column.php',32],['blocks','moodleblock.class.php',155],['blocks/rss_client/classes/output','channel_image.php',122],['blocks/rss_client/classes/output','item.php',194],['completion/criteria','completion_criteria_self.php',109],['completion/criteria','completion_criteria_grade.php',131],['completion/criteria','completion_criteria_unenrol.php',92],['lib','authlib.php',531],['enrol','locallib.php',1404],['lib/classes','chart_base.php',141],['blocks/rss_client/classes/output','feed.php',125],['badges/criteria','award_criteria.php',162],['completion/criteria','completion_criteria_activity.php',166],['question/classes/bank','creator_name_column.php',32],['enrol/manual','locallib.php',167],['enrol/manual','locallib.php',314],['completion/criteria','completion_criteria_duration.php',153]], 73],
'get_options': ['get_options', 'Note: this function must be implemented if you use the search ajax field (e.g. set $options[\'file\'] = \'/admin/filecontainingyourclass.php\';) ', [['user/selector','lib.php',356],['user/selector','lib.php',689],['badges/criteria','award_criteria_activity.php',104],['admin/roles/classes','assign_user_selector_base.php',53],['repository','lib.php',179],['lib','adminlib.php',9088],['mod/forum/classes','subscriber_selector_base.php',72],['mod/data/field/textarea','field.class.php',31],['grade','lib.php',1121],['badges/lib','awardlib.php',82],['badges/criteria','award_criteria_overall.php',155],['badges/criteria','award_criteria_course.php',117],['mnet/service/enrol','locallib.php',519],['mnet/service/enrol','locallib.php',607],['badges/criteria','award_criteria_courseset.php',145],['badges/criteria','award_criteria_profile.php',42],['admin/roles/classes','admins_potential_selector.php',85],['grade/grading/form/rubric','lib.php',368],['mod/feedback/item/multichoice','lib.php',283],['admin/webservice','lib.php',112],['lib/tests','filelib_test.php',1199],['cohort','locallib.php',86],['cohort','locallib.php',150],['mod/forum/classes','potential_subscriber_selector.php',59],['admin/roles/classes','check_users_selector.php',147],['mod/workshop','locallib.php',3997],['admin/roles/classes','admins_existing_selector.php',92],['mod/feedback/item/multichoicerated','lib.php',270],['enrol/manual','locallib.php',87],['enrol/manual','locallib.php',151],['grade/grading/form/guide','lib.php',373],['badges/criteria','award_criteria_manual.php',58]], 46],
'format_string': ['format_string', 'Given a simple string, this function returns the string processed by enabled string filters if $CFG->filterall is enabled ', [['lib','weblib.php',1379]], 880],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'add_courses': ['add_courses', '', [['badges/criteria','award_criteria_courseset.php',118]], 1],
'config_options': ['config_options', 'Add appropriate parameter elements to the criteria form ', [['badges/criteria','award_criteria_overall.php',81],['badges/criteria','award_criteria.php',185]], 9],
'get_field': ['get_field', 'Gets an instance of the form field. ', [['lib/behat','behat_field_manager.php',248],['mod/quiz/report/statistics/classes','calculated.php',109],['lib/dml','moodle_database.php',1546],['user/filters','lib.php',124]], 536],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'get_courses': ['get_courses', 'Returns list of courses, for whole site, or category ', [['lib','datalib.php',592],['course','externallib.php',394],['badges/criteria','award_criteria_courseset.php',76],['lib','coursecatlib.php',1436]], 55],
'addgroup': ['addgroup', 'Adds an element group ', [['lib/pear/HTML','QuickForm.php',717]], 111],
'start_delegated_transaction': ['start_delegated_transaction', 'On DBs that support it, switch to transaction mode and begin a transaction you\'ll need to ensure you call allow_commit() on the returned object or your changes *will* be lost. ', [['lib/dml','moodle_database.php',2393]], 145],
'error_text': ['error_text', 'Output an error message. By default wraps the error message in <span class="error">. If the error message is blank, nothing is output. ', [['lib','outputrenderers.php',2740]], 88],
'record_exists': ['record_exists', 'Check if a record exists by ID. ', [['competency/classes','persistent.php',842],['lib/dml','moodle_database.php',1817]], 901],
'tag': ['tag', 'Outputs a tag with attributes and contents ', [['lib','outputcomponents.php',1073]], 1292],
'setdefault': ['setdefault', 'Set the field default ', [['lib/xmldb','xmldb_field.php',246],['lib','formslib.php',1896],['lib/google/src/Google/Service','YouTube.php',9537],['lib/google/src/Google/Service','YouTube.php',11044],['lib/google/src/Google/Service','Dfareporting.php',15827]], 718],
'get_completed_criteria_sql': ['get_completed_criteria_sql', 'Returns array with sql code and parameters returning all ids of users who meet this particular criterion. ', [['badges/criteria','award_criteria_activity.php',227],['badges/criteria','award_criteria_overall.php',145],['badges/criteria','award_criteria_course.php',217],['badges/criteria','award_criteria_courseset.php',256],['badges/criteria','award_criteria_profile.php',203],['badges/criteria','award_criteria_manual.php',185]], 3],
'grade_get_course_grade': ['grade_get_course_grade', 'Returns the aggregated or calculated course grade for a single user for one or more courses ', [['grade','querylib.php',130]], 6],
'make_categories_list': ['make_categories_list', 'This function is deprecated! For list of categories use coursecat::make_all_categories($requiredcapability, $excludeid, $separator) For parents of one particular category use coursecat::get($id)->get_parents() ', [['lib','deprecatedlib.php',1398],['lib','coursecatlib.php',2187]], 23],
'addrule': ['addrule', 'Adds a validation rule for the given field ', [['lib','formslib.php',2023],['lib/pear/HTML','QuickForm.php',1016],['lib/phpexcel/PHPExcel/Worksheet/AutoFilter','Column.php',330]], 314],
'get_records': ['get_records', 'Load a list of records. ', [['competency/classes','persistent.php',709],['mod/glossary/classes','entry_query_builder.php',295],['lib/dml','moodle_database.php',1285],['lib','coursecatlib.php',651],['question','category_class.php',63]], 965],
'settype': ['settype', '', [], 1429],
'implode': ['implode', '', [], 1281],
'array_keys': ['array_keys', '', [], 1256],
'defined': ['defined', '', [], 4731]};
CLASS_DATA={
'completion_info': ['completion_info', 'Class represents completion information for a course. ', [['lib','completionlib.php',210]], 141],
'award_criteria_courseset': ['award_criteria_courseset', 'Badge award criteria -- award on courseset completion ', [['badges/criteria','award_criteria_courseset.php',33]], 0],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6817]], 1323],
'coursecat': ['coursecat', 'Class to store, cache, render and manage course category ', [['lib','coursecatlib.php',28]], 276],
'html_writer': ['html_writer', 'Simple html output class ', [['lib','outputcomponents.php',1062]], 5120],
'completion_completion': ['completion_completion', 'Course completion status for a particular user/course ', [['completion','completion_completion.php',30]], 13]};
CONST_DATA={
'COMPLETION_ENABLED': ['COMPLETION_ENABLED', '', [['lib','completionlib.php',43]], 27],
'BADGE_CRITERIA_AGGREGATION_ALL': ['BADGE_CRITERIA_AGGREGATION_ALL', '', [['lib','badgeslib.php',40]], 27],
'BADGE_CRITERIA_TYPE_COURSESET': ['BADGE_CRITERIA_TYPE_COURSESET', '', [['badges/criteria','award_criteria.php',63]], 6],
'MOODLE_INTERNAL': ['MOODLE_INTERNAL', '', [['admin/cli','install.php',140],['','install.php',93],['lib','setup.php',391]], 4153],
'BADGE_CRITERIA_AGGREGATION_ANY': ['BADGE_CRITERIA_AGGREGATION_ANY', '', [['lib','badgeslib.php',45]], 20],
'PARAM_TEXT': ['PARAM_TEXT', '', [['lib','moodlelib.php',228]], 542],
'PARAM_INT': ['PARAM_INT', '', [['lib','moodlelib.php',156]], 3812]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
