<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of api.php</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='competency/classes';
filename='api.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/competency/classes/</a> -> <a href="api.php.source.html">api.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="api.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../../_stats.html">Project Stats</a>]</p>
<p><b>Class for loading/storing competency frameworks from the DB.</b></p>
<table>
<tr><td align="right">Copyright: </td><td>2015 Damyon Wiese</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>5247 lines (204 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 1 class</h3>
<div class="inset">
<p><b>api::</b> (134 methods):<br>
&nbsp;&nbsp;<a href="#is_enabled">is_enabled</a>()<br>
&nbsp;&nbsp;<a href="#require_enabled">require_enabled</a>()<br>
&nbsp;&nbsp;<a href="#is_scale_used_anywhere">is_scale_used_anywhere</a>()<br>
&nbsp;&nbsp;<a href="#validate_course_module">validate_course_module</a>()<br>
&nbsp;&nbsp;<a href="#validate_course">validate_course</a>()<br>
&nbsp;&nbsp;<a href="#create_competency">create_competency</a>()<br>
&nbsp;&nbsp;<a href="#delete_competency">delete_competency</a>()<br>
&nbsp;&nbsp;<a href="#move_down_competency">move_down_competency</a>()<br>
&nbsp;&nbsp;<a href="#move_up_competency">move_up_competency</a>()<br>
&nbsp;&nbsp;<a href="#set_parent_competency">set_parent_competency</a>()<br>
&nbsp;&nbsp;<a href="#update_competency">update_competency</a>()<br>
&nbsp;&nbsp;<a href="#read_competency">read_competency</a>()<br>
&nbsp;&nbsp;<a href="#search_competencies">search_competencies</a>()<br>
&nbsp;&nbsp;<a href="#list_competencies">list_competencies</a>()<br>
&nbsp;&nbsp;<a href="#count_competencies">count_competencies</a>()<br>
&nbsp;&nbsp;<a href="#create_framework">create_framework</a>()<br>
&nbsp;&nbsp;<a href="#duplicate_framework">duplicate_framework</a>()<br>
&nbsp;&nbsp;<a href="#delete_framework">delete_framework</a>()<br>
&nbsp;&nbsp;<a href="#update_framework">update_framework</a>()<br>
&nbsp;&nbsp;<a href="#read_framework">read_framework</a>()<br>
&nbsp;&nbsp;<a href="#competency_framework_viewed">competency_framework_viewed</a>()<br>
&nbsp;&nbsp;<a href="#competency_viewed">competency_viewed</a>()<br>
&nbsp;&nbsp;<a href="#list_frameworks">list_frameworks</a>()<br>
&nbsp;&nbsp;<a href="#count_frameworks">count_frameworks</a>()<br>
&nbsp;&nbsp;<a href="#get_related_contexts">get_related_contexts</a>()<br>
&nbsp;&nbsp;<a href="#count_courses_using_competency">count_courses_using_competency</a>()<br>
&nbsp;&nbsp;<a href="#list_course_modules_using_competency">list_course_modules_using_competency</a>()<br>
&nbsp;&nbsp;<a href="#list_course_module_competencies_in_course_module">list_course_module_competencies_in_course_module</a>()<br>
&nbsp;&nbsp;<a href="#list_courses_using_competency">list_courses_using_competency</a>()<br>
&nbsp;&nbsp;<a href="#count_proficient_competencies_in_course_for_user">count_proficient_competencies_in_course_for_user</a>()<br>
&nbsp;&nbsp;<a href="#count_competencies_in_course">count_competencies_in_course</a>()<br>
&nbsp;&nbsp;<a href="#list_course_competencies">list_course_competencies</a>()<br>
&nbsp;&nbsp;<a href="#get_user_competency">get_user_competency</a>()<br>
&nbsp;&nbsp;<a href="#get_user_competency_by_id">get_user_competency_by_id</a>()<br>
&nbsp;&nbsp;<a href="#list_course_module_competencies">list_course_module_competencies</a>()<br>
&nbsp;&nbsp;<a href="#get_user_competency_in_course">get_user_competency_in_course</a>()<br>
&nbsp;&nbsp;<a href="#list_user_competencies_in_course">list_user_competencies_in_course</a>()<br>
&nbsp;&nbsp;<a href="#list_user_competencies_to_review">list_user_competencies_to_review</a>()<br>
&nbsp;&nbsp;<a href="#add_competency_to_course_module">add_competency_to_course_module</a>()<br>
&nbsp;&nbsp;<a href="#remove_competency_from_course_module">remove_competency_from_course_module</a>()<br>
&nbsp;&nbsp;<a href="#reorder_course_module_competency">reorder_course_module_competency</a>()<br>
&nbsp;&nbsp;<a href="#set_course_module_competency_ruleoutcome">set_course_module_competency_ruleoutcome</a>()<br>
&nbsp;&nbsp;<a href="#add_competency_to_course">add_competency_to_course</a>()<br>
&nbsp;&nbsp;<a href="#remove_competency_from_course">remove_competency_from_course</a>()<br>
&nbsp;&nbsp;<a href="#reorder_course_competency">reorder_course_competency</a>()<br>
&nbsp;&nbsp;<a href="#set_course_competency_ruleoutcome">set_course_competency_ruleoutcome</a>()<br>
&nbsp;&nbsp;<a href="#create_template">create_template</a>()<br>
&nbsp;&nbsp;<a href="#duplicate_template">duplicate_template</a>()<br>
&nbsp;&nbsp;<a href="#delete_template">delete_template</a>()<br>
&nbsp;&nbsp;<a href="#update_template">update_template</a>()<br>
&nbsp;&nbsp;<a href="#read_template">read_template</a>()<br>
&nbsp;&nbsp;<a href="#list_templates">list_templates</a>()<br>
&nbsp;&nbsp;<a href="#count_templates">count_templates</a>()<br>
&nbsp;&nbsp;<a href="#count_templates_using_competency">count_templates_using_competency</a>()<br>
&nbsp;&nbsp;<a href="#list_templates_using_competency">list_templates_using_competency</a>()<br>
&nbsp;&nbsp;<a href="#count_competencies_in_template">count_competencies_in_template</a>()<br>
&nbsp;&nbsp;<a href="#count_competencies_in_template_with_no_courses">count_competencies_in_template_with_no_courses</a>()<br>
&nbsp;&nbsp;<a href="#list_competencies_in_template">list_competencies_in_template</a>()<br>
&nbsp;&nbsp;<a href="#add_competency_to_template">add_competency_to_template</a>()<br>
&nbsp;&nbsp;<a href="#remove_competency_from_template">remove_competency_from_template</a>()<br>
&nbsp;&nbsp;<a href="#reorder_template_competency">reorder_template_competency</a>()<br>
&nbsp;&nbsp;<a href="#create_template_cohort">create_template_cohort</a>()<br>
&nbsp;&nbsp;<a href="#delete_template_cohort">delete_template_cohort</a>()<br>
&nbsp;&nbsp;<a href="#list_user_plans">list_user_plans</a>()<br>
&nbsp;&nbsp;<a href="#list_plans_to_review">list_plans_to_review</a>()<br>
&nbsp;&nbsp;<a href="#create_plan">create_plan</a>()<br>
&nbsp;&nbsp;<a href="#create_plan_from_template">create_plan_from_template</a>()<br>
&nbsp;&nbsp;<a href="#create_plans_from_template_cohort">create_plans_from_template_cohort</a>()<br>
&nbsp;&nbsp;<a href="#unlink_plan_from_template">unlink_plan_from_template</a>()<br>
&nbsp;&nbsp;<a href="#update_plan">update_plan</a>()<br>
&nbsp;&nbsp;<a href="#read_plan">read_plan</a>()<br>
&nbsp;&nbsp;<a href="#plan_viewed">plan_viewed</a>()<br>
&nbsp;&nbsp;<a href="#delete_plan">delete_plan</a>()<br>
&nbsp;&nbsp;<a href="#plan_cancel_review_request">plan_cancel_review_request</a>()<br>
&nbsp;&nbsp;<a href="#plan_request_review">plan_request_review</a>()<br>
&nbsp;&nbsp;<a href="#plan_start_review">plan_start_review</a>()<br>
&nbsp;&nbsp;<a href="#plan_stop_review">plan_stop_review</a>()<br>
&nbsp;&nbsp;<a href="#approve_plan">approve_plan</a>()<br>
&nbsp;&nbsp;<a href="#unapprove_plan">unapprove_plan</a>()<br>
&nbsp;&nbsp;<a href="#complete_plan">complete_plan</a>()<br>
&nbsp;&nbsp;<a href="#reopen_plan">reopen_plan</a>()<br>
&nbsp;&nbsp;<a href="#get_plan_competency">get_plan_competency</a>()<br>
&nbsp;&nbsp;<a href="#list_plan_competencies">list_plan_competencies</a>()<br>
&nbsp;&nbsp;<a href="#add_competency_to_plan">add_competency_to_plan</a>()<br>
&nbsp;&nbsp;<a href="#remove_competency_from_plan">remove_competency_from_plan</a>()<br>
&nbsp;&nbsp;<a href="#reorder_plan_competency">reorder_plan_competency</a>()<br>
&nbsp;&nbsp;<a href="#user_competency_cancel_review_request">user_competency_cancel_review_request</a>()<br>
&nbsp;&nbsp;<a href="#user_competency_request_review">user_competency_request_review</a>()<br>
&nbsp;&nbsp;<a href="#user_competency_start_review">user_competency_start_review</a>()<br>
&nbsp;&nbsp;<a href="#user_competency_stop_review">user_competency_stop_review</a>()<br>
&nbsp;&nbsp;<a href="#user_competency_viewed">user_competency_viewed</a>()<br>
&nbsp;&nbsp;<a href="#user_competency_viewed_in_plan">user_competency_viewed_in_plan</a>()<br>
&nbsp;&nbsp;<a href="#user_competency_viewed_in_course">user_competency_viewed_in_course</a>()<br>
&nbsp;&nbsp;<a href="#user_competency_plan_viewed">user_competency_plan_viewed</a>()<br>
&nbsp;&nbsp;<a href="#template_has_related_data">template_has_related_data</a>()<br>
&nbsp;&nbsp;<a href="#list_related_competencies">list_related_competencies</a>()<br>
&nbsp;&nbsp;<a href="#add_related_competency">add_related_competency</a>()<br>
&nbsp;&nbsp;<a href="#remove_related_competency">remove_related_competency</a>()<br>
&nbsp;&nbsp;<a href="#read_user_evidence">read_user_evidence</a>()<br>
&nbsp;&nbsp;<a href="#create_user_evidence">create_user_evidence</a>()<br>
&nbsp;&nbsp;<a href="#update_user_evidence">update_user_evidence</a>()<br>
&nbsp;&nbsp;<a href="#delete_user_evidence">delete_user_evidence</a>()<br>
&nbsp;&nbsp;<a href="#list_user_evidence">list_user_evidence</a>()<br>
&nbsp;&nbsp;<a href="#create_user_evidence_competency">create_user_evidence_competency</a>()<br>
&nbsp;&nbsp;<a href="#delete_user_evidence_competency">delete_user_evidence_competency</a>()<br>
&nbsp;&nbsp;<a href="#request_review_of_user_evidence_linked_competencies">request_review_of_user_evidence_linked_competencies</a>()<br>
&nbsp;&nbsp;<a href="#duplicate_competency_tree">duplicate_competency_tree</a>()<br>
&nbsp;&nbsp;<a href="#migrate_competency_tree_rules">migrate_competency_tree_rules</a>()<br>
&nbsp;&nbsp;<a href="#archive_user_competencies_in_plan">archive_user_competencies_in_plan</a>()<br>
&nbsp;&nbsp;<a href="#remove_archived_user_competencies_in_plan">remove_archived_user_competencies_in_plan</a>()<br>
&nbsp;&nbsp;<a href="#list_evidence">list_evidence</a>()<br>
&nbsp;&nbsp;<a href="#list_evidence_in_course">list_evidence_in_course</a>()<br>
&nbsp;&nbsp;<a href="#add_evidence">add_evidence</a>()<br>
&nbsp;&nbsp;<a href="#read_evidence">read_evidence</a>()<br>
&nbsp;&nbsp;<a href="#delete_evidence">delete_evidence</a>()<br>
&nbsp;&nbsp;<a href="#apply_competency_rules_from_usercompetency">apply_competency_rules_from_usercompetency</a>()<br>
&nbsp;&nbsp;<a href="#observe_course_module_completion_updated">observe_course_module_completion_updated</a>()<br>
&nbsp;&nbsp;<a href="#observe_course_completed">observe_course_completed</a>()<br>
&nbsp;&nbsp;<a href="#hook_course_module_deleted">hook_course_module_deleted</a>()<br>
&nbsp;&nbsp;<a href="#hook_course_deleted">hook_course_deleted</a>()<br>
&nbsp;&nbsp;<a href="#hook_course_reset_competency_ratings">hook_course_reset_competency_ratings</a>()<br>
&nbsp;&nbsp;<a href="#hook_cohort_deleted">hook_cohort_deleted</a>()<br>
&nbsp;&nbsp;<a href="#grade_competency">grade_competency</a>()<br>
&nbsp;&nbsp;<a href="#grade_competency_in_plan">grade_competency_in_plan</a>()<br>
&nbsp;&nbsp;<a href="#grade_competency_in_course">grade_competency_in_course</a>()<br>
&nbsp;&nbsp;<a href="#count_plans_for_template">count_plans_for_template</a>()<br>
&nbsp;&nbsp;<a href="#count_user_competency_plans_for_template">count_user_competency_plans_for_template</a>()<br>
&nbsp;&nbsp;<a href="#list_plans_for_template">list_plans_for_template</a>()<br>
&nbsp;&nbsp;<a href="#get_least_proficient_competencies_for_course">get_least_proficient_competencies_for_course</a>()<br>
&nbsp;&nbsp;<a href="#get_least_proficient_competencies_for_template">get_least_proficient_competencies_for_template</a>()<br>
&nbsp;&nbsp;<a href="#template_viewed">template_viewed</a>()<br>
&nbsp;&nbsp;<a href="#read_course_competency_settings">read_course_competency_settings</a>()<br>
&nbsp;&nbsp;<a href="#update_course_competency_settings">update_course_competency_settings</a>()<br>
&nbsp;&nbsp;<a href="#filter_users_with_capability_on_user_context_sql">filter_users_with_capability_on_user_context_sql</a>()<br>
</p>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="api"><b>api</b></a>&nbsp;&nbsp;- <a href="../../_classes/api.html"><small>X-Ref</small></a>
</p>
<b>Class for doing things with competency frameworks.<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_enabled" onClick="logFunction('is_enabled', 'api.php.source.html#l49')" href="api.php.source.html#l49">is_enabled</a>()&nbsp;&nbsp;
<a href="../../_functions/is_enabled.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns whether competencies are enabled.<BR>
</b><BR>This method should never do more than checking the config setting, the reason<BR>
being that some other code could be checking the config value directly<BR>
to avoid having to load this entire file into memory.<BR>
<BR>
<b>return:</b> boolean True when enabled.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="require_enabled" onClick="logFunction('require_enabled', 'api.php.source.html#l62')" href="api.php.source.html#l62">require_enabled</a>()&nbsp;&nbsp;
<a href="../../_functions/require_enabled.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Throws an exception if competencies are not enabled.<BR>
</b><BR><b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="is_scale_used_anywhere" onClick="logFunction('is_scale_used_anywhere', 'api.php.source.html#l74')" href="api.php.source.html#l74">is_scale_used_anywhere</a>(<a href="../../_variables/scaleid.html">$scaleid</a>)&nbsp;&nbsp;
<a href="../../_functions/is_scale_used_anywhere.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Checks whether a scale is used anywhere in the plugin.<BR>
</b><BR>This public API has two exceptions:<BR>
- It MUST NOT perform any capability checks.<BR>
- It MUST ignore whether competencies are enabled or not ({@link self::is_enabled()}).<BR>
<BR>
<b>param:</b> int $scaleid The scale ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="validate_course_module" onClick="logFunction('validate_course_module', 'api.php.source.html#l97')" href="api.php.source.html#l97">validate_course_module</a>(<a href="../../_variables/cmmixed.html">$cmmixed</a>, <a href="../../_variables/throwexception.html">$throwexception</a> = true)&nbsp;&nbsp;
<a href="../../_functions/validate_course_module.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Validate if current user have acces to the course_module if hidden.<BR>
</b><BR><b>param:</b> mixed $cmmixed The cm_info class, course module record or its ID.<br>
<b>param:</b> bool $throwexception Throw an exception or not.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="validate_course" onClick="logFunction('validate_course', 'api.php.source.html#l127')" href="api.php.source.html#l127">validate_course</a>(<a href="../../_variables/courseorid.html">$courseorid</a>, <a href="../../_variables/throwexception.html">$throwexception</a> = true)&nbsp;&nbsp;
<a href="../../_functions/validate_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Validate if current user have acces to the course if hidden.<BR>
</b><BR><b>param:</b> mixed $courseorid The course or it ID.<br>
<b>param:</b> bool $throwexception Throw an exception or not.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create_competency" onClick="logFunction('create_competency', 'api.php.source.html#l152')" href="api.php.source.html#l152">create_competency</a>(stdClass <a href="../../_variables/record.html">$record</a>)&nbsp;&nbsp;
<a href="../../_functions/create_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a competency from a record containing all the data for the class.<BR>
</b><BR>Requires moodle/competency:competencymanage capability at the system context.<BR>
<BR>
<b>param:</b> stdClass $record Record containing all the data for an instance of the class.<br>
<b>return:</b> competency<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete_competency" onClick="logFunction('delete_competency', 'api.php.source.html#l183')" href="api.php.source.html#l183">delete_competency</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/delete_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete a competency by id.<BR>
</b><BR>Requires moodle/competency:competencymanage capability at the system context.<BR>
<BR>
<b>param:</b> int $id The record to delete. This will delete alot of related data - you better be sure.<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="move_down_competency" onClick="logFunction('move_down_competency', 'api.php.source.html#l245')" href="api.php.source.html#l245">move_down_competency</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/move_down_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Reorder this competency.<BR>
</b><BR>Requires moodle/competency:competencymanage capability at the system context.<BR>
<BR>
<b>param:</b> int $id The id of the competency to move.<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="move_up_competency" onClick="logFunction('move_up_competency', 'api.php.source.html#l288')" href="api.php.source.html#l288">move_up_competency</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/move_up_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Reorder this competency.<BR>
</b><BR>Requires moodle/competency:competencymanage capability at the system context.<BR>
<BR>
<b>param:</b> int $id The id of the competency to move.<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_parent_competency" onClick="logFunction('set_parent_competency', 'api.php.source.html#l326')" href="api.php.source.html#l326">set_parent_competency</a>(<a href="../../_variables/id.html">$id</a>, <a href="../../_variables/newparentid.html">$newparentid</a>)&nbsp;&nbsp;
<a href="../../_functions/set_parent_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Move this competency so it sits in a new parent.<BR>
</b><BR>Requires moodle/competency:competencymanage capability at the system context.<BR>
<BR>
<b>param:</b> int $id The id of the competency to move.<br>
<b>param:</b> int $newparentid The new parent id for the competency.<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="update_competency" onClick="logFunction('update_competency', 'api.php.source.html#l395')" href="api.php.source.html#l395">update_competency</a>(<a href="../../_variables/record.html">$record</a>)&nbsp;&nbsp;
<a href="../../_functions/update_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Update the details for a competency.<BR>
</b><BR>Requires moodle/competency:competencymanage capability at the system context.<BR>
<BR>
<b>param:</b> stdClass $record The new details for the competency.<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="read_competency" onClick="logFunction('read_competency', 'api.php.source.html#l429')" href="api.php.source.html#l429">read_competency</a>(<a href="../../_variables/id.html">$id</a>, <a href="../../_variables/includerelated.html">$includerelated</a> = false)&nbsp;&nbsp;
<a href="../../_functions/read_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Read a the details for a single competency and return a record.<BR>
</b><BR>Requires moodle/competency:competencyview capability at the system context.<BR>
<BR>
<b>param:</b> int $id The id of the competency to read.<br>
<b>param:</b> bool $includerelated Include related tags or not.<br>
<b>return:</b> stdClass<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="search_competencies" onClick="logFunction('search_competencies', 'api.php.source.html#l459')" href="api.php.source.html#l459">search_competencies</a>(<a href="../../_variables/textsearch.html">$textsearch</a>, <a href="../../_variables/competencyframeworkid.html">$competencyframeworkid</a>)&nbsp;&nbsp;
<a href="../../_functions/search_competencies.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Perform a text search based and return all results and their parents.<BR>
</b><BR>Requires moodle/competency:competencyview capability at the framework context.<BR>
<BR>
<b>param:</b> string $textsearch A string to search for.<br>
<b>param:</b> int $competencyframeworkid The id of the framework to limit the search.<br>
<b>return:</b> array of competencies<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_competencies" onClick="logFunction('list_competencies', 'api.php.source.html#l483')" href="api.php.source.html#l483">list_competencies</a>(<a href="../../_variables/filters.html">$filters</a>, <a href="../../_variables/sort.html">$sort</a> = '', <a href="../../_variables/order.html">$order</a> = 'ASC', <a href="../../_variables/skip.html">$skip</a> = 0, <a href="../../_variables/limit.html">$limit</a> = 0)&nbsp;&nbsp;
<a href="../../_functions/list_competencies.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Perform a search based on the provided filters and return a paginated list of records.<BR>
</b><BR>Requires moodle/competency:competencyview capability at some context.<BR>
<BR>
<b>param:</b> array $filters A list of filters to apply to the list.<br>
<b>param:</b> string $sort The column to sort on<br>
<b>param:</b> string $order ('ASC' or 'DESC')<br>
<b>param:</b> int $skip Number of records to skip (pagination)<br>
<b>param:</b> int $limit Max of records to return (pagination)<br>
<b>return:</b> array of competencies<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="count_competencies" onClick="logFunction('count_competencies', 'api.php.source.html#l513')" href="api.php.source.html#l513">count_competencies</a>(<a href="../../_variables/filters.html">$filters</a>)&nbsp;&nbsp;
<a href="../../_functions/count_competencies.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Perform a search based on the provided filters and return a paginated list of records.<BR>
</b><BR>Requires moodle/competency:competencyview capability at some context.<BR>
<BR>
<b>param:</b> array $filters A list of filters to apply to the list.<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create_framework" onClick="logFunction('create_framework', 'api.php.source.html#l539')" href="api.php.source.html#l539">create_framework</a>(stdClass <a href="../../_variables/record.html">$record</a>)&nbsp;&nbsp;
<a href="../../_functions/create_framework.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a competency framework from a record containing all the data for the class.<BR>
</b><BR>Requires moodle/competency:competencymanage capability at the system context.<BR>
<BR>
<b>param:</b> stdClass $record Record containing all the data for an instance of the class.<br>
<b>return:</b> competency_framework<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="duplicate_framework" onClick="logFunction('duplicate_framework', 'api.php.source.html#l565')" href="api.php.source.html#l565">duplicate_framework</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/duplicate_framework.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Duplicate a competency framework by id.<BR>
</b><BR>Requires moodle/competency:competencymanage capability at the system context.<BR>
<BR>
<b>param:</b> int $id The record to duplicate. All competencies associated and related will be duplicated.<br>
<b>return:</b> competency_framework the framework duplicated<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete_framework" onClick="logFunction('delete_framework', 'api.php.source.html#l634')" href="api.php.source.html#l634">delete_framework</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/delete_framework.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete a competency framework by id.<BR>
</b><BR>Requires moodle/competency:competencymanage capability at the system context.<BR>
<BR>
<b>param:</b> int $id The record to delete. This will delete alot of related data - you better be sure.<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="update_framework" onClick="logFunction('update_framework', 'api.php.source.html#l692')" href="api.php.source.html#l692">update_framework</a>(<a href="../../_variables/record.html">$record</a>)&nbsp;&nbsp;
<a href="../../_functions/update_framework.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Update the details for a competency framework.<BR>
</b><BR>Requires moodle/competency:competencymanage capability at the system context.<BR>
<BR>
<b>param:</b> stdClass $record The new details for the framework. Note - must contain an id that points to the framework to update.<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="read_framework" onClick="logFunction('read_framework', 'api.php.source.html#l719')" href="api.php.source.html#l719">read_framework</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/read_framework.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Read a the details for a single competency framework and return a record.<BR>
</b><BR>Requires moodle/competency:competencyview capability at the system context.<BR>
<BR>
<b>param:</b> int $id The id of the framework to read.<br>
<b>return:</b> competency_framework<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="competency_framework_viewed" onClick="logFunction('competency_framework_viewed', 'api.php.source.html#l738')" href="api.php.source.html#l738">competency_framework_viewed</a>(<a href="../../_variables/frameworkorid.html">$frameworkorid</a>)&nbsp;&nbsp;
<a href="../../_functions/competency_framework_viewed.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Logg the competency framework viewed event.<BR>
</b><BR><b>param:</b> competency_framework|int $frameworkorid The competency_framework object or competency framework id<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="competency_viewed" onClick="logFunction('competency_viewed', 'api.php.source.html#l759')" href="api.php.source.html#l759">competency_viewed</a>(<a href="../../_variables/competencyorid.html">$competencyorid</a>)&nbsp;&nbsp;
<a href="../../_functions/competency_viewed.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Logg the competency viewed event.<BR>
</b><BR><b>param:</b> competency|int $competencyorid The competency object or competency id<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_frameworks" onClick="logFunction('list_frameworks', 'api.php.source.html#l782')" href="api.php.source.html#l782">list_frameworks</a>(<a href="../../_variables/sort.html">$sort</a>, <a href="../../_variables/order.html">$order</a>, <a href="../../_variables/skip.html">$skip</a>, <a href="../../_variables/limit.html">$limit</a>, <a href="../../_variables/context.html">$context</a>, <a href="../../_variables/includes.html">$includes</a> = 'children',<a href="../../_variables/onlyvisible.html">$onlyvisible</a> = false, <a href="../../_variables/query.html">$query</a> = '')&nbsp;&nbsp;
<a href="../../_functions/list_frameworks.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Perform a search based on the provided filters and return a paginated list of records.<BR>
</b><BR>Requires moodle/competency:competencyview capability at the system context.<BR>
<BR>
<b>param:</b> string $sort The column to sort on<br>
<b>param:</b> string $order ('ASC' or 'DESC')<br>
<b>param:</b> int $skip Number of records to skip (pagination)<br>
<b>param:</b> int $limit Max of records to return (pagination)<br>
<b>param:</b> context $context The parent context of the frameworks.<br>
<b>param:</b> string $includes Defines what other contexts to fetch frameworks from.<br>
<b>param:</b> bool $onlyvisible If true return only visible frameworks<br>
<b>param:</b> string $query A string to use to filter down the frameworks.<br>
<b>return:</b> array of competency_framework<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="count_frameworks" onClick="logFunction('count_frameworks', 'api.php.source.html#l834')" href="api.php.source.html#l834">count_frameworks</a>(<a href="../../_variables/context.html">$context</a>, <a href="../../_variables/includes.html">$includes</a>)&nbsp;&nbsp;
<a href="../../_functions/count_frameworks.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Perform a search based on the provided filters and return a paginated list of records.<BR>
</b><BR>Requires moodle/competency:competencyview capability at the system context.<BR>
<BR>
<b>param:</b> context $context The parent context of the frameworks.<br>
<b>param:</b> string $includes Defines what other contexts to fetch frameworks from.<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_related_contexts" onClick="logFunction('get_related_contexts', 'api.php.source.html#l864')" href="api.php.source.html#l864">get_related_contexts</a>(<a href="../../_variables/context.html">$context</a>, <a href="../../_variables/includes.html">$includes</a>, array <a href="../../_variables/hasanycapability.html">$hasanycapability</a> = null)&nbsp;&nbsp;
<a href="../../_functions/get_related_contexts.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Fetches all the relevant contexts.<BR>
</b><BR>Note: This currently only supports system, category and user contexts. However user contexts<BR>
behave a bit differently and will fallback on the system context. This is what makes the most<BR>
sense because a user context does not have descendants, and only has system as a parent.<BR>
<BR>
<b>param:</b> context $context The context to start from.<br>
<b>param:</b> string $includes Defines what other contexts to find.<br>
<b>param:</b> array $hasanycapability Array of capabilities passed to {@link has_any_capability()} in each context.<br>
<b>return:</b> context[] An array of contexts where keys are context IDs.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="count_courses_using_competency" onClick="logFunction('count_courses_using_competency', 'api.php.source.html#l926')" href="api.php.source.html#l926">count_courses_using_competency</a>(<a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/count_courses_using_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Count all the courses using a competency.<BR>
</b><BR><b>param:</b> int $competencyid The id of the competency to check.<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_course_modules_using_competency" onClick="logFunction('list_course_modules_using_competency', 'api.php.source.html#l957')" href="api.php.source.html#l957">list_course_modules_using_competency</a>(<a href="../../_variables/competencyid.html">$competencyid</a>, <a href="../../_variables/courseid.html">$courseid</a>)&nbsp;&nbsp;
<a href="../../_functions/list_course_modules_using_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List all the courses modules using a competency in a course.<BR>
</b><BR><b>param:</b> int $competencyid The id of the competency to check.<br>
<b>param:</b> int $courseid The id of the course to check.<br>
<b>return:</b> array[int] Array of course modules ids.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_course_module_competencies_in_course_module" onClick="logFunction('list_course_module_competencies_in_course_module', 'api.php.source.html#l988')" href="api.php.source.html#l988">list_course_module_competencies_in_course_module</a>(<a href="../../_variables/cmorid.html">$cmorid</a>)&nbsp;&nbsp;
<a href="../../_functions/list_course_module_competencies_in_course_module.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List all the competencies linked to a course module.<BR>
</b><BR><b>param:</b> mixed $cmorid The course module, or its ID.<br>
<b>return:</b> array[competency] Array of competency records.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_courses_using_competency" onClick="logFunction('list_courses_using_competency', 'api.php.source.html#l1020')" href="api.php.source.html#l1020">list_courses_using_competency</a>(<a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/list_courses_using_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List all the courses using a competency.<BR>
</b><BR><b>param:</b> int $competencyid The id of the competency to check.<br>
<b>return:</b> array[stdClass] Array of stdClass containing id and shortname.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="count_proficient_competencies_in_course_for_user" onClick="logFunction('count_proficient_competencies_in_course_for_user', 'api.php.source.html#l1051')" href="api.php.source.html#l1051">count_proficient_competencies_in_course_for_user</a>(<a href="../../_variables/courseid.html">$courseid</a>, <a href="../../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../../_functions/count_proficient_competencies_in_course_for_user.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Count the proficient competencies in a course for one user.<BR>
</b><BR><b>param:</b> int $courseid The id of the course to check.<br>
<b>param:</b> int $userid The id of the user to check.<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="count_competencies_in_course" onClick="logFunction('count_competencies_in_course', 'api.php.source.html#l1075')" href="api.php.source.html#l1075">count_competencies_in_course</a>(<a href="../../_variables/courseid.html">$courseid</a>)&nbsp;&nbsp;
<a href="../../_functions/count_competencies_in_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Count all the competencies in a course.<BR>
</b><BR><b>param:</b> int $courseid The id of the course to check.<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_course_competencies" onClick="logFunction('list_course_competencies', 'api.php.source.html#l1098')" href="api.php.source.html#l1098">list_course_competencies</a>(<a href="../../_variables/courseorid.html">$courseorid</a>)&nbsp;&nbsp;
<a href="../../_functions/list_course_competencies.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List the competencies associated to a course.<BR>
</b><BR><b>param:</b> mixed $courseorid The course, or its ID.<br>
<b>return:</b> array( array(<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_user_competency" onClick="logFunction('get_user_competency', 'api.php.source.html#l1140')" href="api.php.source.html#l1140">get_user_competency</a>(<a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/get_user_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get a user competency.<BR>
</b><BR><b>param:</b> int $userid The user ID.<br>
<b>param:</b> int $competencyid The competency ID.<br>
<b>return:</b> user_competency<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_user_competency_by_id" onClick="logFunction('get_user_competency_by_id', 'api.php.source.html#l1164')" href="api.php.source.html#l1164">get_user_competency_by_id</a>(<a href="../../_variables/usercompetencyid.html">$usercompetencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/get_user_competency_by_id.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get a user competency by ID.<BR>
</b><BR><b>param:</b> int $usercompetencyid The user competency ID.<br>
<b>return:</b> user_competency<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_course_module_competencies" onClick="logFunction('list_course_module_competencies', 'api.php.source.html#l1180')" href="api.php.source.html#l1180">list_course_module_competencies</a>(<a href="../../_variables/cmorid.html">$cmorid</a>)&nbsp;&nbsp;
<a href="../../_functions/list_course_module_competencies.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List the competencies associated to a course module.<BR>
</b><BR><b>param:</b> mixed $cmorid The course module, or its ID.<br>
<b>return:</b> array( array(<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_user_competency_in_course" onClick="logFunction('get_user_competency_in_course', 'api.php.source.html#l1222')" href="api.php.source.html#l1222">get_user_competency_in_course</a>(<a href="../../_variables/courseid.html">$courseid</a>, <a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/get_user_competency_in_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get a user competency in a course.<BR>
</b><BR><b>param:</b> int $courseid The id of the course to check.<br>
<b>param:</b> int $userid The id of the course to check.<br>
<b>param:</b> int $competencyid The id of the competency.<br>
<b>return:</b> user_competency_course<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_user_competencies_in_course" onClick="logFunction('list_user_competencies_in_course', 'api.php.source.html#l1258')" href="api.php.source.html#l1258">list_user_competencies_in_course</a>(<a href="../../_variables/courseid.html">$courseid</a>, <a href="../../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../../_functions/list_user_competencies_in_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List all the user competencies in a course.<BR>
</b><BR><b>param:</b> int $courseid The id of the course to check.<br>
<b>param:</b> int $userid The id of the course to check.<br>
<b>return:</b> array of user_competency_course objects<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_user_competencies_to_review" onClick="logFunction('list_user_competencies_to_review', 'api.php.source.html#l1305')" href="api.php.source.html#l1305">list_user_competencies_to_review</a>(<a href="../../_variables/skip.html">$skip</a> = 0, <a href="../../_variables/limit.html">$limit</a> = 50, <a href="../../_variables/userid.html">$userid</a> = null)&nbsp;&nbsp;
<a href="../../_functions/list_user_competencies_to_review.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List the user competencies to review.<BR>
</b><BR>The method returns values in this format:<BR>
<BR>
array(<BR>
'competencies' =&gt; array(<BR>
(stdClass)(<BR>
'usercompetency' =&gt; (user_competency),<BR>
'competency' =&gt; (competency),<BR>
'user' =&gt; (user)<BR>
)<BR>
),<BR>
'count' =&gt; (int)<BR>
)<BR>
<BR>
<b>param:</b> int $skip The number of records to skip.<br>
<b>param:</b> int $limit The number of results to return.<br>
<b>param:</b> int $userid The user we're getting the competencies to review for.<br>
<b>return:</b> array Containing the keys 'count', and 'competencies'. The 'competencies' key contains an object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_competency_to_course_module" onClick="logFunction('add_competency_to_course_module', 'api.php.source.html#l1393')" href="api.php.source.html#l1393">add_competency_to_course_module</a>(<a href="../../_variables/cmorid.html">$cmorid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/add_competency_to_course_module.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add a competency to this course module.<BR>
</b><BR><b>param:</b> mixed $cmorid The course module, or id of the course module<br>
<b>param:</b> int $competencyid The id of the competency<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="remove_competency_from_course_module" onClick="logFunction('remove_competency_from_course_module', 'api.php.source.html#l1436')" href="api.php.source.html#l1436">remove_competency_from_course_module</a>(<a href="../../_variables/cmorid.html">$cmorid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/remove_competency_from_course_module.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Remove a competency from this course module.<BR>
</b><BR><b>param:</b> mixed $cmorid The course module, or id of the course module<br>
<b>param:</b> int $competencyid The id of the competency<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="reorder_course_module_competency" onClick="logFunction('reorder_course_module_competency', 'api.php.source.html#l1469')" href="api.php.source.html#l1469">reorder_course_module_competency</a>(<a href="../../_variables/cmorid.html">$cmorid</a>, <a href="../../_variables/competencyidfrom.html">$competencyidfrom</a>, <a href="../../_variables/competencyidto.html">$competencyidto</a>)&nbsp;&nbsp;
<a href="../../_functions/reorder_course_module_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Move the course module competency up or down in the display list.<BR>
</b><BR>Requires moodle/competency:coursecompetencymanage capability at the course module context.<BR>
<BR>
<b>param:</b> mixed $cmorid The course module, or id of the course module<br>
<b>param:</b> int $competencyidfrom The id of the competency we are moving.<br>
<b>param:</b> int $competencyidto The id of the competency we are moving to.<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_course_module_competency_ruleoutcome" onClick="logFunction('set_course_module_competency_ruleoutcome', 'api.php.source.html#l1528')" href="api.php.source.html#l1528">set_course_module_competency_ruleoutcome</a>(<a href="../../_variables/coursemodulecompetencyorid.html">$coursemodulecompetencyorid</a>, <a href="../../_variables/ruleoutcome.html">$ruleoutcome</a>)&nbsp;&nbsp;
<a href="../../_functions/set_course_module_competency_ruleoutcome.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Update ruleoutcome value for a course module competency.<BR>
</b><BR><b>param:</b> int|course_module_competency $coursemodulecompetencyorid The course_module_competency, or its ID.<br>
<b>param:</b> int $ruleoutcome The value of ruleoutcome.<br>
<b>return:</b> bool True on success.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_competency_to_course" onClick="logFunction('add_competency_to_course', 'api.php.source.html#l1553')" href="api.php.source.html#l1553">add_competency_to_course</a>(<a href="../../_variables/courseid.html">$courseid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/add_competency_to_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add a competency to this course.<BR>
</b><BR><b>param:</b> int $courseid The id of the course<br>
<b>param:</b> int $competencyid The id of the competency<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="remove_competency_from_course" onClick="logFunction('remove_competency_from_course', 'api.php.source.html#l1592')" href="api.php.source.html#l1592">remove_competency_from_course</a>(<a href="../../_variables/courseid.html">$courseid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/remove_competency_from_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Remove a competency from this course.<BR>
</b><BR><b>param:</b> int $courseid The id of the course<br>
<b>param:</b> int $competencyid The id of the competency<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="reorder_course_competency" onClick="logFunction('reorder_course_competency', 'api.php.source.html#l1626')" href="api.php.source.html#l1626">reorder_course_competency</a>(<a href="../../_variables/courseid.html">$courseid</a>, <a href="../../_variables/competencyidfrom.html">$competencyidfrom</a>, <a href="../../_variables/competencyidto.html">$competencyidto</a>)&nbsp;&nbsp;
<a href="../../_functions/reorder_course_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Move the course competency up or down in the display list.<BR>
</b><BR>Requires moodle/competency:coursecompetencymanage capability at the course context.<BR>
<BR>
<b>param:</b> int $courseid The course<br>
<b>param:</b> int $competencyidfrom The id of the competency we are moving.<br>
<b>param:</b> int $competencyidto The id of the competency we are moving to.<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="set_course_competency_ruleoutcome" onClick="logFunction('set_course_competency_ruleoutcome', 'api.php.source.html#l1682')" href="api.php.source.html#l1682">set_course_competency_ruleoutcome</a>(<a href="../../_variables/coursecompetencyorid.html">$coursecompetencyorid</a>, <a href="../../_variables/ruleoutcome.html">$ruleoutcome</a>)&nbsp;&nbsp;
<a href="../../_functions/set_course_competency_ruleoutcome.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Update ruleoutcome value for a course competency.<BR>
</b><BR><b>param:</b> int|course_competency $coursecompetencyorid The course_competency, or its ID.<br>
<b>param:</b> int $ruleoutcome The value of ruleoutcome.<br>
<b>return:</b> bool True on success.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create_template" onClick="logFunction('create_template', 'api.php.source.html#l1706')" href="api.php.source.html#l1706">create_template</a>(stdClass <a href="../../_variables/record.html">$record</a>)&nbsp;&nbsp;
<a href="../../_functions/create_template.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a learning plan template from a record containing all the data for the class.<BR>
</b><BR>Requires moodle/competency:templatemanage capability.<BR>
<BR>
<b>param:</b> stdClass $record Record containing all the data for an instance of the class.<br>
<b>return:</b> template<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="duplicate_template" onClick="logFunction('duplicate_template', 'api.php.source.html#l1733')" href="api.php.source.html#l1733">duplicate_template</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/duplicate_template.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Duplicate a learning plan template.<BR>
</b><BR>Requires moodle/competency:templatemanage capability at the template context.<BR>
<BR>
<b>param:</b> int $id the template id.<br>
<b>return:</b> template<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete_template" onClick="logFunction('delete_template', 'api.php.source.html#l1771')" href="api.php.source.html#l1771">delete_template</a>(<a href="../../_variables/id.html">$id</a>, <a href="../../_variables/deleteplans.html">$deleteplans</a> = true)&nbsp;&nbsp;
<a href="../../_functions/delete_template.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete a learning plan template by id.<BR>
If the learning plan template has associated cohorts they will be deleted.<BR>
</b><BR>Requires moodle/competency:templatemanage capability.<BR>
<BR>
<b>param:</b> int $id The record to delete.<br>
<b>param:</b> boolean $deleteplans True to delete plans associaated to template, false to unlink them.<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="update_template" onClick="logFunction('update_template', 'api.php.source.html#l1841')" href="api.php.source.html#l1841">update_template</a>(<a href="../../_variables/record.html">$record</a>)&nbsp;&nbsp;
<a href="../../_functions/update_template.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Update the details for a learning plan template.<BR>
</b><BR>Requires moodle/competency:templatemanage capability.<BR>
<BR>
<b>param:</b> stdClass $record The new details for the template. Note - must contain an id that points to the template to update.<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="read_template" onClick="logFunction('read_template', 'api.php.source.html#l1899')" href="api.php.source.html#l1899">read_template</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/read_template.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Read a the details for a single learning plan template and return a record.<BR>
</b><BR>Requires moodle/competency:templateview capability at the system context.<BR>
<BR>
<b>param:</b> int $id The id of the template to read.<br>
<b>return:</b> template<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_templates" onClick="logFunction('list_templates', 'api.php.source.html#l1922')" href="api.php.source.html#l1922">list_templates</a>(<a href="../../_variables/sort.html">$sort</a>, <a href="../../_variables/order.html">$order</a>, <a href="../../_variables/skip.html">$skip</a>, <a href="../../_variables/limit.html">$limit</a>, <a href="../../_variables/context.html">$context</a>, <a href="../../_variables/includes.html">$includes</a> = 'children', <a href="../../_variables/onlyvisible.html">$onlyvisible</a> = false)&nbsp;&nbsp;
<a href="../../_functions/list_templates.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Perform a search based on the provided filters and return a paginated list of records.<BR>
</b><BR>Requires moodle/competency:templateview capability at the system context.<BR>
<BR>
<b>param:</b> string $sort The column to sort on<br>
<b>param:</b> string $order ('ASC' or 'DESC')<br>
<b>param:</b> int $skip Number of records to skip (pagination)<br>
<b>param:</b> int $limit Max of records to return (pagination)<br>
<b>param:</b> context $context The parent context of the frameworks.<br>
<b>param:</b> string $includes Defines what other contexts to fetch frameworks from.<br>
<b>param:</b> bool $onlyvisible If should list only visible templates<br>
<b>return:</b> array of competency_framework<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="count_templates" onClick="logFunction('count_templates', 'api.php.source.html#l1971')" href="api.php.source.html#l1971">count_templates</a>(<a href="../../_variables/context.html">$context</a>, <a href="../../_variables/includes.html">$includes</a>)&nbsp;&nbsp;
<a href="../../_functions/count_templates.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Perform a search based on the provided filters and return how many results there are.<BR>
</b><BR>Requires moodle/competency:templateview capability at the system context.<BR>
<BR>
<b>param:</b> context $context The parent context of the frameworks.<br>
<b>param:</b> string $includes Defines what other contexts to fetch frameworks from.<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="count_templates_using_competency" onClick="logFunction('count_templates_using_competency', 'api.php.source.html#l2002')" href="api.php.source.html#l2002">count_templates_using_competency</a>(<a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/count_templates_using_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Count all the templates using a competency.<BR>
</b><BR><b>param:</b> int $competencyid The id of the competency to check.<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_templates_using_competency" onClick="logFunction('list_templates_using_competency', 'api.php.source.html#l2027')" href="api.php.source.html#l2027">list_templates_using_competency</a>(<a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/list_templates_using_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List all the learning plan templatesd using a competency.<BR>
</b><BR><b>param:</b> int $competencyid The id of the competency to check.<br>
<b>return:</b> array[stdClass] Array of stdClass containing id and shortname.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="count_competencies_in_template" onClick="logFunction('count_competencies_in_template', 'api.php.source.html#l2053')" href="api.php.source.html#l2053">count_competencies_in_template</a>(<a href="../../_variables/templateorid.html">$templateorid</a>)&nbsp;&nbsp;
<a href="../../_functions/count_competencies_in_template.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Count all the competencies in a learning plan template.<BR>
</b><BR><b>param:</b> template|int $templateorid The template or its ID.<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="count_competencies_in_template_with_no_courses" onClick="logFunction('count_competencies_in_template_with_no_courses', 'api.php.source.html#l2076')" href="api.php.source.html#l2076">count_competencies_in_template_with_no_courses</a>(<a href="../../_variables/templateorid.html">$templateorid</a>)&nbsp;&nbsp;
<a href="../../_functions/count_competencies_in_template_with_no_courses.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Count all the competencies in a learning plan template with no linked courses.<BR>
</b><BR><b>param:</b> template|int $templateorid The template or its ID.<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_competencies_in_template" onClick="logFunction('list_competencies_in_template', 'api.php.source.html#l2098')" href="api.php.source.html#l2098">list_competencies_in_template</a>(<a href="../../_variables/templateorid.html">$templateorid</a>)&nbsp;&nbsp;
<a href="../../_functions/list_competencies_in_template.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List all the competencies in a template.<BR>
</b><BR><b>param:</b> template|int $templateorid The template or its ID.<br>
<b>return:</b> array of competencies<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_competency_to_template" onClick="logFunction('add_competency_to_template', 'api.php.source.html#l2121')" href="api.php.source.html#l2121">add_competency_to_template</a>(<a href="../../_variables/templateid.html">$templateid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/add_competency_to_template.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add a competency to this template.<BR>
</b><BR><b>param:</b> int $templateid The id of the template<br>
<b>param:</b> int $competencyid The id of the competency<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="remove_competency_from_template" onClick="logFunction('remove_competency_from_template', 'api.php.source.html#l2157')" href="api.php.source.html#l2157">remove_competency_from_template</a>(<a href="../../_variables/templateid.html">$templateid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/remove_competency_from_template.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Remove a competency from this template.<BR>
</b><BR><b>param:</b> int $templateid The id of the template<br>
<b>param:</b> int $competencyid The id of the competency<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="reorder_template_competency" onClick="logFunction('reorder_template_competency', 'api.php.source.html#l2187')" href="api.php.source.html#l2187">reorder_template_competency</a>(<a href="../../_variables/templateid.html">$templateid</a>, <a href="../../_variables/competencyidfrom.html">$competencyidfrom</a>, <a href="../../_variables/competencyidto.html">$competencyidto</a>)&nbsp;&nbsp;
<a href="../../_functions/reorder_template_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Move the template competency up or down in the display list.<BR>
</b><BR>Requires moodle/competency:templatemanage capability at the system context.<BR>
<BR>
<b>param:</b> int $templateid The template id<br>
<b>param:</b> int $competencyidfrom The id of the competency we are moving.<br>
<b>param:</b> int $competencyidto The id of the competency we are moving to.<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create_template_cohort" onClick="logFunction('create_template_cohort', 'api.php.source.html#l2239')" href="api.php.source.html#l2239">create_template_cohort</a>(<a href="../../_variables/templateorid.html">$templateorid</a>, <a href="../../_variables/cohortorid.html">$cohortorid</a>)&nbsp;&nbsp;
<a href="../../_functions/create_template_cohort.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a relation between a template and a cohort.<BR>
</b><BR>This silently ignores when the relation already existed.<BR>
<BR>
<b>param:</b> template|int $templateorid The template or its ID.<br>
<b>param:</b> stdClass|int $cohortorid&nbsp;&nbsp;&nbsp;The cohort ot its ID.<br>
<b>return:</b> template_cohort<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete_template_cohort" onClick="logFunction('delete_template_cohort', 'api.php.source.html#l2277')" href="api.php.source.html#l2277">delete_template_cohort</a>(<a href="../../_variables/templateorid.html">$templateorid</a>, <a href="../../_variables/cohortorid.html">$cohortorid</a>)&nbsp;&nbsp;
<a href="../../_functions/delete_template_cohort.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Remove a relation between a template and a cohort.<BR>
</b><BR><b>param:</b> template|int $templateorid The template or its ID.<br>
<b>param:</b> stdClass|int $cohortorid&nbsp;&nbsp;&nbsp;The cohort ot its ID.<br>
<b>return:</b> boolean True on success or when the relation did not exist.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_user_plans" onClick="logFunction('list_user_plans', 'api.php.source.html#l2307')" href="api.php.source.html#l2307">list_user_plans</a>(<a href="../../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../../_functions/list_user_plans.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Lists user plans.<BR>
</b><BR><b>param:</b> int $userid<br>
<b>return:</b> \core_competency\plan[]<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_plans_to_review" onClick="logFunction('list_plans_to_review', 'api.php.source.html#l2342')" href="api.php.source.html#l2342">list_plans_to_review</a>(<a href="../../_variables/skip.html">$skip</a> = 0, <a href="../../_variables/limit.html">$limit</a> = 100, <a href="../../_variables/userid.html">$userid</a> = null)&nbsp;&nbsp;
<a href="../../_functions/list_plans_to_review.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List the plans to review.<BR>
</b><BR>The method returns values in this format:<BR>
<BR>
array(<BR>
'plans' =&gt; array(<BR>
(stdClass)(<BR>
'plan' =&gt; (plan),<BR>
'template' =&gt; (template),<BR>
'owner' =&gt; (stdClass)<BR>
)<BR>
),<BR>
'count' =&gt; (int)<BR>
)<BR>
<BR>
<b>param:</b> int $skip The number of records to skip.<br>
<b>param:</b> int $limit The number of results to return.<br>
<b>param:</b> int $userid The user we're getting the plans to review for.<br>
<b>return:</b> array Containing the keys 'count', and 'plans'. The 'plans' key contains an object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create_plan" onClick="logFunction('create_plan', 'api.php.source.html#l2439')" href="api.php.source.html#l2439">create_plan</a>(stdClass <a href="../../_variables/record.html">$record</a>)&nbsp;&nbsp;
<a href="../../_functions/create_plan.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Creates a learning plan based on the provided data.<BR>
</b><BR><b>param:</b> stdClass $record<br>
<b>return:</b> \core_competency\plan<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create_plan_from_template" onClick="logFunction('create_plan_from_template', 'api.php.source.html#l2468')" href="api.php.source.html#l2468">create_plan_from_template</a>(<a href="../../_variables/templateorid.html">$templateorid</a>, <a href="../../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../../_functions/create_plan_from_template.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a learning plan from a template.<BR>
</b><BR><b>param:</b> mixed $templateorid The template object or ID.<br>
<b>param:</b> int $userid<br>
<b>return:</b> false|\core_competency\plan Returns false when the plan already exists.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create_plans_from_template_cohort" onClick="logFunction('create_plans_from_template_cohort', 'api.php.source.html#l2532')" href="api.php.source.html#l2532">create_plans_from_template_cohort</a>(<a href="../../_variables/templateorid.html">$templateorid</a>, <a href="../../_variables/cohortid.html">$cohortid</a>, <a href="../../_variables/recreateunlinked.html">$recreateunlinked</a> = false)&nbsp;&nbsp;
<a href="../../_functions/create_plans_from_template_cohort.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create learning plans from a template and cohort.<BR>
</b><BR><b>param:</b> mixed $templateorid The template object or ID.<br>
<b>param:</b> int $cohortid The cohort ID.<br>
<b>param:</b> bool $recreateunlinked When true the plans that were unlinked from this template will be re-created.<br>
<b>return:</b> int The number of plans created.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="unlink_plan_from_template" onClick="logFunction('unlink_plan_from_template', 'api.php.source.html#l2609')" href="api.php.source.html#l2609">unlink_plan_from_template</a>(<a href="../../_variables/planorid.html">$planorid</a>)&nbsp;&nbsp;
<a href="../../_functions/unlink_plan_from_template.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Unlink a plan from its template.<BR>
</b><BR><b>param:</b> \core_competency\plan|int $planorid The plan or its ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="update_plan" onClick="logFunction('update_plan', 'api.php.source.html#l2666')" href="api.php.source.html#l2666">update_plan</a>(stdClass <a href="../../_variables/record.html">$record</a>)&nbsp;&nbsp;
<a href="../../_functions/update_plan.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Updates a plan.<BR>
</b><BR><b>param:</b> stdClass $record<br>
<b>return:</b> \core_competency\plan<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="read_plan" onClick="logFunction('read_plan', 'api.php.source.html#l2712')" href="api.php.source.html#l2712">read_plan</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/read_plan.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a plan data.<BR>
</b><BR><b>param:</b> int $id<br>
<b>return:</b> \core_competency\plan<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="plan_viewed" onClick="logFunction('plan_viewed', 'api.php.source.html#l2730')" href="api.php.source.html#l2730">plan_viewed</a>(<a href="../../_variables/planorid.html">$planorid</a>)&nbsp;&nbsp;
<a href="../../_functions/plan_viewed.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Plan event viewed.<BR>
</b><BR><b>param:</b> mixed $planorid The id or the plan.<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete_plan" onClick="logFunction('delete_plan', 'api.php.source.html#l2755')" href="api.php.source.html#l2755">delete_plan</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/delete_plan.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Deletes a plan.<BR>
</b><BR>Plans based on a template can be removed just like any other one.<BR>
<BR>
<b>param:</b> int $id<br>
<b>return:</b> bool Success?<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="plan_cancel_review_request" onClick="logFunction('plan_cancel_review_request', 'api.php.source.html#l2798')" href="api.php.source.html#l2798">plan_cancel_review_request</a>(<a href="../../_variables/planorid.html">$planorid</a>)&nbsp;&nbsp;
<a href="../../_functions/plan_cancel_review_request.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Cancel the review of a plan.<BR>
</b><BR><b>param:</b> int|plan $planorid The plan, or its ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="plan_request_review" onClick="logFunction('plan_request_review', 'api.php.source.html#l2833')" href="api.php.source.html#l2833">plan_request_review</a>(<a href="../../_variables/planorid.html">$planorid</a>)&nbsp;&nbsp;
<a href="../../_functions/plan_request_review.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Request the review of a plan.<BR>
</b><BR><b>param:</b> int|plan $planorid The plan, or its ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="plan_start_review" onClick="logFunction('plan_start_review', 'api.php.source.html#l2868')" href="api.php.source.html#l2868">plan_start_review</a>(<a href="../../_variables/planorid.html">$planorid</a>)&nbsp;&nbsp;
<a href="../../_functions/plan_start_review.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Start the review of a plan.<BR>
</b><BR><b>param:</b> int|plan $planorid The plan, or its ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="plan_stop_review" onClick="logFunction('plan_stop_review', 'api.php.source.html#l2905')" href="api.php.source.html#l2905">plan_stop_review</a>(<a href="../../_variables/planorid.html">$planorid</a>)&nbsp;&nbsp;
<a href="../../_functions/plan_stop_review.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Stop reviewing a plan.<BR>
</b><BR><b>param:</b> int|plan $planorid The plan, or its ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="approve_plan" onClick="logFunction('approve_plan', 'api.php.source.html#l2941')" href="api.php.source.html#l2941">approve_plan</a>(<a href="../../_variables/planorid.html">$planorid</a>)&nbsp;&nbsp;
<a href="../../_functions/approve_plan.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Approve a plan.<BR>
</b><BR>This means making the plan active.<BR>
<BR>
<b>param:</b> int|plan $planorid The plan, or its ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="unapprove_plan" onClick="logFunction('unapprove_plan', 'api.php.source.html#l2980')" href="api.php.source.html#l2980">unapprove_plan</a>(<a href="../../_variables/planorid.html">$planorid</a>)&nbsp;&nbsp;
<a href="../../_functions/unapprove_plan.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Unapprove a plan.<BR>
</b><BR>This means making the plan draft.<BR>
<BR>
<b>param:</b> int|plan $planorid The plan, or its ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="complete_plan" onClick="logFunction('complete_plan', 'api.php.source.html#l3017')" href="api.php.source.html#l3017">complete_plan</a>(<a href="../../_variables/planorid.html">$planorid</a>)&nbsp;&nbsp;
<a href="../../_functions/complete_plan.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Complete a plan.<BR>
</b><BR><b>param:</b> int|plan $planorid The plan, or its ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="reopen_plan" onClick="logFunction('reopen_plan', 'api.php.source.html#l3072')" href="api.php.source.html#l3072">reopen_plan</a>(<a href="../../_variables/planorid.html">$planorid</a>)&nbsp;&nbsp;
<a href="../../_functions/reopen_plan.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Reopen a plan.<BR>
</b><BR><b>param:</b> int|plan $planorid The plan, or its ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_plan_competency" onClick="logFunction('get_plan_competency', 'api.php.source.html#l3131')" href="api.php.source.html#l3131">get_plan_competency</a>(<a href="../../_variables/planorid.html">$planorid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/get_plan_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get a single competency from the user plan.<BR>
</b><BR><b>param:</b> int $planorid The plan, or its ID.<br>
<b>param:</b> int $competencyid The competency id.<br>
<b>return:</b> (object) array(<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_plan_competencies" onClick="logFunction('list_plan_competencies', 'api.php.source.html#l3190')" href="api.php.source.html#l3190">list_plan_competencies</a>(<a href="../../_variables/planorid.html">$planorid</a>)&nbsp;&nbsp;
<a href="../../_functions/list_plan_competencies.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List the competencies in a user plan.<BR>
</b><BR><b>param:</b> int $planorid The plan, or its ID.<br>
<b>return:</b> array((object) array(<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_competency_to_plan" onClick="logFunction('add_competency_to_plan', 'api.php.source.html#l3258')" href="api.php.source.html#l3258">add_competency_to_plan</a>(<a href="../../_variables/planid.html">$planid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/add_competency_to_plan.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add a competency to a plan.<BR>
</b><BR><b>param:</b> int $planid The id of the plan<br>
<b>param:</b> int $competencyid The id of the competency<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="remove_competency_from_plan" onClick="logFunction('remove_competency_from_plan', 'api.php.source.html#l3300')" href="api.php.source.html#l3300">remove_competency_from_plan</a>(<a href="../../_variables/planid.html">$planid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/remove_competency_from_plan.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Remove a competency from a plan.<BR>
</b><BR><b>param:</b> int $planid The plan id<br>
<b>param:</b> int $competencyid The id of the competency<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="reorder_plan_competency" onClick="logFunction('reorder_plan_competency', 'api.php.source.html#l3331')" href="api.php.source.html#l3331">reorder_plan_competency</a>(<a href="../../_variables/planid.html">$planid</a>, <a href="../../_variables/competencyidfrom.html">$competencyidfrom</a>, <a href="../../_variables/competencyidto.html">$competencyidto</a>)&nbsp;&nbsp;
<a href="../../_functions/reorder_plan_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Move the plan competency up or down in the display list.<BR>
</b><BR>Requires moodle/competency:planmanage capability at the system context.<BR>
<BR>
<b>param:</b> int $planid The plan&nbsp;&nbsp;id<br>
<b>param:</b> int $competencyidfrom The id of the competency we are moving.<br>
<b>param:</b> int $competencyidto The id of the competency we are moving to.<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="user_competency_cancel_review_request" onClick="logFunction('user_competency_cancel_review_request', 'api.php.source.html#l3393')" href="api.php.source.html#l3393">user_competency_cancel_review_request</a>(<a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/user_competency_cancel_review_request.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Cancel a user competency review request.<BR>
</b><BR><b>param:</b> int $userid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The user ID.<br>
<b>param:</b> int $competencyid The competency ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="user_competency_request_review" onClick="logFunction('user_competency_request_review', 'api.php.source.html#l3420')" href="api.php.source.html#l3420">user_competency_request_review</a>(<a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/user_competency_request_review.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Request a user competency review.<BR>
</b><BR><b>param:</b> int $userid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The user ID.<br>
<b>param:</b> int $competencyid The competency ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="user_competency_start_review" onClick="logFunction('user_competency_start_review', 'api.php.source.html#l3453')" href="api.php.source.html#l3453">user_competency_start_review</a>(<a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/user_competency_start_review.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Start a user competency review.<BR>
</b><BR><b>param:</b> int $userid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The user ID.<br>
<b>param:</b> int $competencyid The competency ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="user_competency_stop_review" onClick="logFunction('user_competency_stop_review', 'api.php.source.html#l3483')" href="api.php.source.html#l3483">user_competency_stop_review</a>(<a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/user_competency_stop_review.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Stop a user competency review.<BR>
</b><BR><b>param:</b> int $userid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The user ID.<br>
<b>param:</b> int $competencyid The competency ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="user_competency_viewed" onClick="logFunction('user_competency_viewed', 'api.php.source.html#l3510')" href="api.php.source.html#l3510">user_competency_viewed</a>(<a href="../../_variables/usercompetencyorid.html">$usercompetencyorid</a>)&nbsp;&nbsp;
<a href="../../_functions/user_competency_viewed.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Log user competency viewed event.<BR>
</b><BR><b>param:</b> user_competency|int $usercompetencyorid The user competency object or user competency id<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="user_competency_viewed_in_plan" onClick="logFunction('user_competency_viewed_in_plan', 'api.php.source.html#l3532')" href="api.php.source.html#l3532">user_competency_viewed_in_plan</a>(<a href="../../_variables/usercompetencyorid.html">$usercompetencyorid</a>, <a href="../../_variables/planid.html">$planid</a>)&nbsp;&nbsp;
<a href="../../_functions/user_competency_viewed_in_plan.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Log user competency viewed in plan event.<BR>
</b><BR><b>param:</b> user_competency|int $usercompetencyorid The user competency object or user competency id<br>
<b>param:</b> int $planid The plan ID<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="user_competency_viewed_in_course" onClick="logFunction('user_competency_viewed_in_course', 'api.php.source.html#l3559')" href="api.php.source.html#l3559">user_competency_viewed_in_course</a>(<a href="../../_variables/usercoursecompetencyorid.html">$usercoursecompetencyorid</a>)&nbsp;&nbsp;
<a href="../../_functions/user_competency_viewed_in_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Log user competency viewed in course event.<BR>
</b><BR><b>param:</b> user_competency_course|int $usercoursecompetencyorid The user competency course object or its ID.<br>
<b>param:</b> int $courseid The course ID<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="user_competency_plan_viewed" onClick="logFunction('user_competency_plan_viewed', 'api.php.source.html#l3585')" href="api.php.source.html#l3585">user_competency_plan_viewed</a>(<a href="../../_variables/usercompetencyplanorid.html">$usercompetencyplanorid</a>)&nbsp;&nbsp;
<a href="../../_functions/user_competency_plan_viewed.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Log user competency plan viewed event.<BR>
</b><BR><b>param:</b> user_competency_plan|int $usercompetencyplanorid The user competency plan object or user competency plan id<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="template_has_related_data" onClick="logFunction('template_has_related_data', 'api.php.source.html#l3612')" href="api.php.source.html#l3612">template_has_related_data</a>(<a href="../../_variables/templateid.html">$templateid</a>)&nbsp;&nbsp;
<a href="../../_functions/template_has_related_data.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Check if template has related data.<BR>
</b><BR><b>param:</b> int $templateid The id of the template to check.<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_related_competencies" onClick="logFunction('list_related_competencies', 'api.php.source.html#l3632')" href="api.php.source.html#l3632">list_related_competencies</a>(<a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/list_related_competencies.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List all the related competencies.<BR>
</b><BR><b>param:</b> int $competencyid The id of the competency to check.<br>
<b>return:</b> competency[]<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_related_competency" onClick="logFunction('add_related_competency', 'api.php.source.html#l3651')" href="api.php.source.html#l3651">add_related_competency</a>(<a href="../../_variables/competencyid.html">$competencyid</a>, <a href="../../_variables/relatedcompetencyid.html">$relatedcompetencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/add_related_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Add a related competency.<BR>
</b><BR><b>param:</b> int $competencyid The id of the competency<br>
<b>param:</b> int $relatedcompetencyid The id of the related competency.<br>
<b>return:</b> bool False when create failed, true on success, or if the relation already existed.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="remove_related_competency" onClick="logFunction('remove_related_competency', 'api.php.source.html#l3674')" href="api.php.source.html#l3674">remove_related_competency</a>(<a href="../../_variables/competencyid.html">$competencyid</a>, <a href="../../_variables/relatedcompetencyid.html">$relatedcompetencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/remove_related_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Remove a related competency.<BR>
</b><BR><b>param:</b> int $competencyid The id of the competency.<br>
<b>param:</b> int $relatedcompetencyid The id of the related competency.<br>
<b>return:</b> bool True when it was deleted, false when it wasn't or the relation doesn't exist.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="read_user_evidence" onClick="logFunction('read_user_evidence', 'api.php.source.html#l3697')" href="api.php.source.html#l3697">read_user_evidence</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/read_user_evidence.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Read a user evidence.<BR>
</b><BR><b>param:</b> int $id<br>
<b>return:</b> user_evidence<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create_user_evidence" onClick="logFunction('create_user_evidence', 'api.php.source.html#l3715')" href="api.php.source.html#l3715">create_user_evidence</a>(<a href="../../_variables/data.html">$data</a>, <a href="../../_variables/draftitemid.html">$draftitemid</a> = null)&nbsp;&nbsp;
<a href="../../_functions/create_user_evidence.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a new user evidence.<BR>
</b><BR><b>param:</b> object $data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The data.<br>
<b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;$draftitemid The draft ID in which files have been saved.<br>
<b>return:</b> user_evidence<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="update_user_evidence" onClick="logFunction('update_user_evidence', 'api.php.source.html#l3744')" href="api.php.source.html#l3744">update_user_evidence</a>(<a href="../../_variables/data.html">$data</a>, <a href="../../_variables/draftitemid.html">$draftitemid</a> = null)&nbsp;&nbsp;
<a href="../../_functions/update_user_evidence.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create a new user evidence.<BR>
</b><BR><b>param:</b> object $data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The data.<br>
<b>param:</b> int&nbsp;&nbsp;&nbsp;&nbsp;$draftitemid The draft ID in which files have been saved.<br>
<b>return:</b> user_evidence<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete_user_evidence" onClick="logFunction('delete_user_evidence', 'api.php.source.html#l3778')" href="api.php.source.html#l3778">delete_user_evidence</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/delete_user_evidence.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete a user evidence.<BR>
</b><BR><b>param:</b> int $id The user evidence ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_user_evidence" onClick="logFunction('list_user_evidence', 'api.php.source.html#l3815')" href="api.php.source.html#l3815">list_user_evidence</a>(<a href="../../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../../_functions/list_user_evidence.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List the user evidence of a user.<BR>
</b><BR><b>param:</b> int $userid The user ID.<br>
<b>return:</b> user_evidence[]<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="create_user_evidence_competency" onClick="logFunction('create_user_evidence_competency', 'api.php.source.html#l3832')" href="api.php.source.html#l3832">create_user_evidence_competency</a>(<a href="../../_variables/userevidenceorid.html">$userevidenceorid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/create_user_evidence_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Link a user evidence with a competency.<BR>
</b><BR><b>param:</b> user_evidence|int $userevidenceorid User evidence or its ID.<br>
<b>param:</b> int $competencyid Competency ID.<br>
<b>return:</b> user_evidence_competency<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete_user_evidence_competency" onClick="logFunction('delete_user_evidence_competency', 'api.php.source.html#l3881')" href="api.php.source.html#l3881">delete_user_evidence_competency</a>(<a href="../../_variables/userevidenceorid.html">$userevidenceorid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>)&nbsp;&nbsp;
<a href="../../_functions/delete_user_evidence_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete a relationship between a user evidence and a competency.<BR>
</b><BR><b>param:</b> user_evidence|int $userevidenceorid User evidence or its ID.<br>
<b>param:</b> int $competencyid Competency ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="request_review_of_user_evidence_linked_competencies" onClick="logFunction('request_review_of_user_evidence_linked_competencies', 'api.php.source.html#l3929')" href="api.php.source.html#l3929">request_review_of_user_evidence_linked_competencies</a>(<a href="../../_variables/id.html">$id</a>)&nbsp;&nbsp;
<a href="../../_functions/request_review_of_user_evidence_linked_competencies.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Send request review for user evidence competencies.<BR>
</b><BR><b>param:</b> int $id The user evidence ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="duplicate_competency_tree" onClick="logFunction('duplicate_competency_tree', 'api.php.source.html#l3954')" href="api.php.source.html#l3954">duplicate_competency_tree</a>(<a href="../../_variables/frameworkid.html">$frameworkid</a>, <a href="../../_variables/tree.html">$tree</a>, <a href="../../_variables/oldparent.html">$oldparent</a> = 0, <a href="../../_variables/newparent.html">$newparent</a> = 0)&nbsp;&nbsp;
<a href="../../_functions/duplicate_competency_tree.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Recursively duplicate competencies from a tree, we start duplicating from parents to children to have a correct path.<BR>
This method does not copy the related competencies.<BR>
</b><BR><b>param:</b> int $frameworkid - framework id<br>
<b>param:</b> competency[] $tree - array of competencies object<br>
<b>param:</b> int $oldparent - old parent id<br>
<b>param:</b> int $newparent - new parent id<br>
<b>return:</b> competency[] $matchids - List of old competencies ids matched with new competencies object.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="migrate_competency_tree_rules" onClick="logFunction('migrate_competency_tree_rules', 'api.php.source.html#l3996')" href="api.php.source.html#l3996">migrate_competency_tree_rules</a>(<a href="../../_variables/tree.html">$tree</a>, <a href="../../_variables/matchids.html">$matchids</a>)&nbsp;&nbsp;
<a href="../../_functions/migrate_competency_tree_rules.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Recursively migrate competency rules.<BR>
</b><BR><b>param:</b> competency[] $tree - array of competencies object<br>
<b>param:</b> competency[] $matchids - List of old competencies ids matched with new competencies object<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="archive_user_competencies_in_plan" onClick="logFunction('archive_user_competencies_in_plan', 'api.php.source.html#l4029')" href="api.php.source.html#l4029">archive_user_competencies_in_plan</a>(<a href="../../_variables/plan.html">$plan</a>)&nbsp;&nbsp;
<a href="../../_functions/archive_user_competencies_in_plan.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Archive user competencies in a plan.<BR>
</b><BR><b>param:</b> int $plan The plan object.<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="remove_archived_user_competencies_in_plan" onClick="logFunction('remove_archived_user_competencies_in_plan', 'api.php.source.html#l4079')" href="api.php.source.html#l4079">remove_archived_user_competencies_in_plan</a>(<a href="../../_variables/plan.html">$plan</a>)&nbsp;&nbsp;
<a href="../../_functions/remove_archived_user_competencies_in_plan.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete archived user competencies in a plan.<BR>
</b><BR><b>param:</b> int $plan The plan object.<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_evidence" onClick="logFunction('list_evidence', 'api.php.source.html#l4094')" href="api.php.source.html#l4094">list_evidence</a>(<a href="../../_variables/userid.html">$userid</a> = 0, <a href="../../_variables/competencyid.html">$competencyid</a> = 0, <a href="../../_variables/planid.html">$planid</a> = 0, <a href="../../_variables/sort.html">$sort</a> = 'timecreated',<a href="../../_variables/order.html">$order</a> = 'DESC', <a href="../../_variables/skip.html">$skip</a> = 0, <a href="../../_variables/limit.html">$limit</a> = 0)&nbsp;&nbsp;
<a href="../../_functions/list_evidence.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List all the evidence for a user competency.<BR>
</b><BR><b>param:</b> int $userid The user id - only used if usercompetencyid is 0.<br>
<b>param:</b> int $competencyid The competency id - only used it usercompetencyid is 0.<br>
<b>param:</b> int $planid The plan id - not used yet - but can be used to only list archived evidence if a plan is completed.<br>
<b>param:</b> string $sort The field to sort the evidence by.<br>
<b>param:</b> string $order The ordering of the sorting.<br>
<b>param:</b> int $skip Number of records to skip.<br>
<b>param:</b> int $limit Number of records to return.<br>
<b>return:</b> \core_competency\evidence[]<br>
<b>return:</b> array of \core_competency\evidence<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_evidence_in_course" onClick="logFunction('list_evidence_in_course', 'api.php.source.html#l4143')" href="api.php.source.html#l4143">list_evidence_in_course</a>(<a href="../../_variables/userid.html">$userid</a> = 0, <a href="../../_variables/courseid.html">$courseid</a> = 0, <a href="../../_variables/competencyid.html">$competencyid</a> = 0, <a href="../../_variables/sort.html">$sort</a> = 'timecreated',<a href="../../_variables/order.html">$order</a> = 'DESC', <a href="../../_variables/skip.html">$skip</a> = 0, <a href="../../_variables/limit.html">$limit</a> = 0)&nbsp;&nbsp;
<a href="../../_functions/list_evidence_in_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List all the evidence for a user competency in a course.<BR>
</b><BR><b>param:</b> int $userid The user ID.<br>
<b>param:</b> int $courseid The course ID.<br>
<b>param:</b> int $competencyid The competency ID.<br>
<b>param:</b> string $sort The field to sort the evidence by.<br>
<b>param:</b> string $order The ordering of the sorting.<br>
<b>param:</b> int $skip Number of records to skip.<br>
<b>param:</b> int $limit Number of records to return.<br>
<b>return:</b> \core_competency\evidence[]<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_evidence" onClick="logFunction('add_evidence', 'api.php.source.html#l4173')" href="api.php.source.html#l4173">add_evidence</a>(<a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/competencyorid.html">$competencyorid</a>, <a href="../../_variables/contextorid.html">$contextorid</a>, <a href="../../_variables/action.html">$action</a>, <a href="../../_variables/descidentifier.html">$descidentifier</a>, <a href="../../_variables/desccomponent.html">$desccomponent</a>,<a href="../../_variables/desca.html">$desca</a> = null, <a href="../../_variables/recommend.html">$recommend</a> = false, <a href="../../_variables/url.html">$url</a> = null, <a href="../../_variables/grade.html">$grade</a> = null, <a href="../../_variables/actionuserid.html">$actionuserid</a> = null,<a href="../../_variables/note.html">$note</a> = null)&nbsp;&nbsp;
<a href="../../_functions/add_evidence.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Create an evidence from a list of parameters.<BR>
</b><BR>Requires no capability because evidence can be added in many situations under any user.<BR>
<BR>
<b>param:</b> int $userid The user id for which evidence is added.<br>
<b>param:</b> competency|int $competencyorid The competency, or its id for which evidence is added.<br>
<b>param:</b> context|int $contextorid The context in which the evidence took place.<br>
<b>param:</b> int $action The type of action to take on the competency. \core_competency\evidence::ACTION_*.<br>
<b>param:</b> string $descidentifier The strings identifier.<br>
<b>param:</b> string $desccomponent The strings component.<br>
<b>param:</b> mixed $desca Any arguments the string requires.<br>
<b>param:</b> bool $recommend When true, the user competency will be sent for review.<br>
<b>param:</b> string $url The url the evidence may link to.<br>
<b>param:</b> int $grade The grade, or scale ID item.<br>
<b>param:</b> int $actionuserid The ID of the user who took the action of adding the evidence. Null when system.<br>
<b>param:</b> string $note A note to attach to the evidence.<br>
<b>return:</b> evidence<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="read_evidence" onClick="logFunction('read_evidence', 'api.php.source.html#l4424')" href="api.php.source.html#l4424">read_evidence</a>(<a href="../../_variables/evidenceid.html">$evidenceid</a>)&nbsp;&nbsp;
<a href="../../_functions/read_evidence.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Read an evidence.<BR>
</b><BR><b>param:</b> int $evidenceid The evidence ID.<br>
<b>return:</b> evidence<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="delete_evidence" onClick="logFunction('delete_evidence', 'api.php.source.html#l4442')" href="api.php.source.html#l4442">delete_evidence</a>(<a href="../../_variables/evidenceorid.html">$evidenceorid</a>)&nbsp;&nbsp;
<a href="../../_functions/delete_evidence.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Delete an evidence.<BR>
</b><BR><b>param:</b> evidence|int $evidenceorid The evidence, or its ID.<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="apply_competency_rules_from_usercompetency" onClick="logFunction('apply_competency_rules_from_usercompetency', 'api.php.source.html#l4462')" href="api.php.source.html#l4462">apply_competency_rules_from_usercompetency</a>(user_competency <a href="../../_variables/usercompetency.html">$usercompetency</a>,competency <a href="../../_variables/competency.html">$competency</a> = null)&nbsp;&nbsp;
<a href="../../_functions/apply_competency_rules_from_usercompetency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Apply the competency rules from a user competency.<BR>
</b><BR>The user competency passed should be one that was recently marked as complete.<BR>
A user competency is considered 'complete' when it's proficiency value is true.<BR>
<BR>
This method will check if the parent of this usercompetency's competency has any<BR>
rules and if so will see if they match. When matched it will take the required<BR>
step to add evidence and trigger completion, etc...<BR>
<BR>
<b>param:</b> user_competency $usercompetency The user competency recently completed.<br>
<b>param:</b> competency|null $competency&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The competency of the user competency, useful to avoid unnecessary read.<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="observe_course_module_completion_updated" onClick="logFunction('observe_course_module_completion_updated', 'api.php.source.html#l4548')" href="api.php.source.html#l4548">observe_course_module_completion_updated</a>(\core\event\course_module_completion_updated <a href="../../_variables/event.html">$event</a>)&nbsp;&nbsp;
<a href="../../_functions/observe_course_module_completion_updated.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Observe when a course module is marked as completed.<BR>
</b><BR>Note that the user being logged in while this happens may be anyone.<BR>
Do not rely on capability checks here!<BR>
<BR>
<b>param:</b> \core\event\course_module_completion_updated $event<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="observe_course_completed" onClick="logFunction('observe_course_completed', 'api.php.source.html#l4609')" href="api.php.source.html#l4609">observe_course_completed</a>(\core\event\course_completed <a href="../../_variables/event.html">$event</a>)&nbsp;&nbsp;
<a href="../../_functions/observe_course_completed.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Observe when a course is marked as completed.<BR>
</b><BR>Note that the user being logged in while this happens may be anyone.<BR>
Do not rely on capability checks here!<BR>
<BR>
<b>param:</b> \core\event\course_completed $event<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="hook_course_module_deleted" onClick="logFunction('hook_course_module_deleted', 'api.php.source.html#l4668')" href="api.php.source.html#l4668">hook_course_module_deleted</a>(stdClass <a href="../../_variables/cm.html">$cm</a>)&nbsp;&nbsp;
<a href="../../_functions/hook_course_module_deleted.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Action to perform when a course module is deleted.<BR>
</b><BR>Do not call this directly, this is reserved for core use.<BR>
<BR>
<b>param:</b> stdClass $cm The CM object.<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="hook_course_deleted" onClick="logFunction('hook_course_deleted', 'api.php.source.html#l4681')" href="api.php.source.html#l4681">hook_course_deleted</a>(stdClass <a href="../../_variables/course.html">$course</a>)&nbsp;&nbsp;
<a href="../../_functions/hook_course_deleted.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Action to perform when a course is deleted.<BR>
</b><BR>Do not call this directly, this is reserved for core use.<BR>
<BR>
<b>param:</b> stdClass $course The course object.<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="hook_course_reset_competency_ratings" onClick="logFunction('hook_course_reset_competency_ratings', 'api.php.source.html#l4696')" href="api.php.source.html#l4696">hook_course_reset_competency_ratings</a>(<a href="../../_variables/courseid.html">$courseid</a>)&nbsp;&nbsp;
<a href="../../_functions/hook_course_reset_competency_ratings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Action to perform when a course is being reset.<BR>
</b><BR>Do not call this directly, this is reserved for core use.<BR>
<BR>
<b>param:</b> int $courseid The course ID.<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="hook_cohort_deleted" onClick="logFunction('hook_cohort_deleted', 'api.php.source.html#l4709')" href="api.php.source.html#l4709">hook_cohort_deleted</a>(\stdClass <a href="../../_variables/cohort.html">$cohort</a>)&nbsp;&nbsp;
<a href="../../_functions/hook_cohort_deleted.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Action to perform when a cohort is deleted.<BR>
</b><BR>Do not call this directly, this is reserved for core use.<BR>
<BR>
<b>param:</b> \stdClass $cohort The cohort object.<br>
<b>return:</b> void<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="grade_competency" onClick="logFunction('grade_competency', 'api.php.source.html#l4722')" href="api.php.source.html#l4722">grade_competency</a>(<a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>, <a href="../../_variables/grade.html">$grade</a>, <a href="../../_variables/note.html">$note</a> = null)&nbsp;&nbsp;
<a href="../../_functions/grade_competency.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Manually grade a user competency.<BR>
</b><BR><b>param:</b> int $userid<br>
<b>param:</b> int $competencyid<br>
<b>param:</b> int $grade<br>
<b>param:</b> string $note A note to attach to the evidence<br>
<b>return:</b> array of \core_competency\user_competency<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="grade_competency_in_plan" onClick="logFunction('grade_competency_in_plan', 'api.php.source.html#l4772')" href="api.php.source.html#l4772">grade_competency_in_plan</a>(<a href="../../_variables/planorid.html">$planorid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>, <a href="../../_variables/grade.html">$grade</a>, <a href="../../_variables/note.html">$note</a> = null)&nbsp;&nbsp;
<a href="../../_functions/grade_competency_in_plan.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Manually grade a user competency from the plans page.<BR>
</b><BR><b>param:</b> mixed $planorid<br>
<b>param:</b> int $competencyid<br>
<b>param:</b> int $grade<br>
<b>param:</b> string $note A note to attach to the evidence<br>
<b>return:</b> array of \core_competency\user_competency<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="grade_competency_in_course" onClick="logFunction('grade_competency_in_course', 'api.php.source.html#l4826')" href="api.php.source.html#l4826">grade_competency_in_course</a>(<a href="../../_variables/courseorid.html">$courseorid</a>, <a href="../../_variables/userid.html">$userid</a>, <a href="../../_variables/competencyid.html">$competencyid</a>, <a href="../../_variables/grade.html">$grade</a>, <a href="../../_variables/note.html">$note</a> = null)&nbsp;&nbsp;
<a href="../../_functions/grade_competency_in_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Manually grade a user course competency from the course page.<BR>
</b><BR>This may push the rating to the user competency<BR>
if the course is configured this way.<BR>
<BR>
<b>param:</b> mixed $courseorid<br>
<b>param:</b> int $userid<br>
<b>param:</b> int $competencyid<br>
<b>param:</b> int $grade<br>
<b>param:</b> string $note A note to attach to the evidence<br>
<b>return:</b> array of \core_competency\user_competency<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="count_plans_for_template" onClick="logFunction('count_plans_for_template', 'api.php.source.html#l4896')" href="api.php.source.html#l4896">count_plans_for_template</a>(<a href="../../_variables/templateorid.html">$templateorid</a>, <a href="../../_variables/status.html">$status</a> = 0)&nbsp;&nbsp;
<a href="../../_functions/count_plans_for_template.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Count the plans in the template, filtered by status.<BR>
</b><BR>Requires moodle/competency:templateview capability at the system context.<BR>
<BR>
<b>param:</b> mixed $templateorid The id or the template.<br>
<b>param:</b> int $status One of the plan status constants (or 0 for all plans).<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="count_user_competency_plans_for_template" onClick="logFunction('count_user_competency_plans_for_template', 'api.php.source.html#l4921')" href="api.php.source.html#l4921">count_user_competency_plans_for_template</a>(<a href="../../_variables/templateorid.html">$templateorid</a>, <a href="../../_variables/proficiency.html">$proficiency</a> = null)&nbsp;&nbsp;
<a href="../../_functions/count_user_competency_plans_for_template.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Count the user-completency-plans in the template, optionally filtered by proficiency.<BR>
</b><BR>Requires moodle/competency:templateview capability at the system context.<BR>
<BR>
<b>param:</b> mixed $templateorid The id or the template.<br>
<b>param:</b> mixed $proficiency If true, filter by proficiency, if false filter by not proficient, if null - no filter.<br>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="list_plans_for_template" onClick="logFunction('list_plans_for_template', 'api.php.source.html#l4946')" href="api.php.source.html#l4946">list_plans_for_template</a>(<a href="../../_variables/templateorid.html">$templateorid</a>, <a href="../../_variables/status.html">$status</a> = 0, <a href="../../_variables/skip.html">$skip</a> = 0, <a href="../../_variables/limit.html">$limit</a> = 100)&nbsp;&nbsp;
<a href="../../_functions/list_plans_for_template.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>List the plans in the template, filtered by status.<BR>
</b><BR>Requires moodle/competency:templateview capability at the system context.<BR>
<BR>
<b>param:</b> mixed $templateorid The id or the template.<br>
<b>param:</b> int $status One of the plan status constants (or 0 for all plans).<br>
<b>param:</b> int $skip The number of records to skip<br>
<b>param:</b> int $limit The max number of records to return<br>
<b>return:</b> plan[]<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_least_proficient_competencies_for_course" onClick="logFunction('get_least_proficient_competencies_for_course', 'api.php.source.html#l4972')" href="api.php.source.html#l4972">get_least_proficient_competencies_for_course</a>(<a href="../../_variables/courseid.html">$courseid</a>, <a href="../../_variables/skip.html">$skip</a> = 0, <a href="../../_variables/limit.html">$limit</a> = 100)&nbsp;&nbsp;
<a href="../../_functions/get_least_proficient_competencies_for_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the most often not completed competency for this course.<BR>
</b><BR>Requires moodle/competency:coursecompetencyview capability at the course context.<BR>
<BR>
<b>param:</b> int $courseid The course id<br>
<b>param:</b> int $skip The number of records to skip<br>
<b>param:</b> int $limit The max number of records to return<br>
<b>return:</b> competency[]<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_least_proficient_competencies_for_template" onClick="logFunction('get_least_proficient_competencies_for_template', 'api.php.source.html#l4993')" href="api.php.source.html#l4993">get_least_proficient_competencies_for_template</a>(<a href="../../_variables/templateorid.html">$templateorid</a>, <a href="../../_variables/skip.html">$skip</a> = 0, <a href="../../_variables/limit.html">$limit</a> = 100)&nbsp;&nbsp;
<a href="../../_functions/get_least_proficient_competencies_for_template.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the most often not completed competency for this template.<BR>
</b><BR>Requires moodle/competency:templateview capability at the system context.<BR>
<BR>
<b>param:</b> mixed $templateorid The id or the template.<br>
<b>param:</b> int $skip The number of records to skip<br>
<b>param:</b> int $limit The max number of records to return<br>
<b>return:</b> competency[]<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="template_viewed" onClick="logFunction('template_viewed', 'api.php.source.html#l5019')" href="api.php.source.html#l5019">template_viewed</a>(<a href="../../_variables/templateorid.html">$templateorid</a>)&nbsp;&nbsp;
<a href="../../_functions/template_viewed.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Template event viewed.<BR>
</b><BR>Requires moodle/competency:templateview capability at the system context.<BR>
<BR>
<b>param:</b> mixed $templateorid The id or the template.<br>
<b>return:</b> boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="read_course_competency_settings" onClick="logFunction('read_course_competency_settings', 'api.php.source.html#l5046')" href="api.php.source.html#l5046">read_course_competency_settings</a>(<a href="../../_variables/courseid.html">$courseid</a>)&nbsp;&nbsp;
<a href="../../_functions/read_course_competency_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Get the competency settings for a course.<BR>
</b><BR>Requires moodle/competency:coursecompetencyview capability at the course context.<BR>
<BR>
<b>param:</b> int $courseid The course id<br>
<b>return:</b> course_competency_settings<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="update_course_competency_settings" onClick="logFunction('update_course_competency_settings', 'api.php.source.html#l5066')" href="api.php.source.html#l5066">update_course_competency_settings</a>(<a href="../../_variables/courseid.html">$courseid</a>, <a href="../../_variables/settings.html">$settings</a>)&nbsp;&nbsp;
<a href="../../_functions/update_course_competency_settings.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Update the competency settings for a course.<BR>
</b><BR>Requires moodle/competency:coursecompetencyconfigure capability at the course context.<BR>
<BR>
<b>param:</b> int $courseid The course id<br>
<b>param:</b> stdClass $settings List of settings. The only valid setting ATM is pushratginstouserplans (boolean).<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="filter_users_with_capability_on_user_context_sql" onClick="logFunction('filter_users_with_capability_on_user_context_sql', 'api.php.source.html#l5105')" href="api.php.source.html#l5105">filter_users_with_capability_on_user_context_sql</a>(<a href="../../_variables/capability.html">$capability</a>, <a href="../../_variables/userid.html">$userid</a> = 0, <a href="../../_variables/type.html">$type</a> = SQL_PARAMS_QM,<a href="../../_variables/prefix.html">$prefix</a>='param')&nbsp;&nbsp;
<a href="../../_functions/filter_users_with_capability_on_user_context_sql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Function used to return a list of users where the given user has a particular capability.<BR>
</b><BR>This is used e.g. to find all the users where someone is able to manage their learning plans,<BR>
it also would be useful for mentees etc.<BR>
<BR>
<b>param:</b> string $capability - The capability string we are filtering for. If '' is passed,<br>
<b>param:</b> int $userid - The user id we are using for the access checks. Defaults to current user.<br>
<b>param:</b> int $type - The type of named params to return (passed to $DB-&gt;get_in_or_equal).<br>
<b>param:</b> string $prefix - The type prefix for the db table (passed to $DB-&gt;get_in_or_equal).<br>
<b>return:</b> list($sql, $params) Same as $DB-&gt;get_in_or_equal().<br>
</td></tr></table>

<br>
</div>
</div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
