<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of locallib.php</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='enrol';
filename='locallib.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/enrol/</a> -> <a href="locallib.php.source.html">locallib.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="locallib.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../_stats.html">Project Stats</a>]</p>
<p><b>This file contains the course_enrolment_manager class which is used to interface with the functions that exist in enrollib.php in relation to a single course.</b></p>
<table>
<tr><td align="right">Copyright: </td><td>2010 Sam Hemelryk</td></tr>
<tr><td align="right">License: </td><td><a href="http://www.gnu.org/copyleft/gpl.html" target="_blank">http://www.gnu.org/copyleft/gpl.html</a> GNU GPL v3 or later</td></tr>
<tr><td align="right">File Size: </td><td>1509 lines (55 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 4 classes</h3>
<div class="inset">
<p><b>course_enrolment_manager::</b> (40 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#get_moodlepage">get_moodlepage</a>()<br>
&nbsp;&nbsp;<a href="#get_total_users">get_total_users</a>()<br>
&nbsp;&nbsp;<a href="#get_total_other_users">get_total_other_users</a>()<br>
&nbsp;&nbsp;<a href="#get_users">get_users</a>()<br>
&nbsp;&nbsp;<a href="#get_filter_sql">get_filter_sql</a>()<br>
&nbsp;&nbsp;<a href="#get_other_users">get_other_users</a>()<br>
&nbsp;&nbsp;<a href="#get_basic_search_conditions">get_basic_search_conditions</a>()<br>
&nbsp;&nbsp;<a href="#execute_search_queries">execute_search_queries</a>()<br>
&nbsp;&nbsp;<a href="#get_potential_users">get_potential_users</a>()<br>
&nbsp;&nbsp;<a href="#search_other_users">search_other_users</a>()<br>
&nbsp;&nbsp;<a href="#get_instance_sql">get_instance_sql</a>()<br>
&nbsp;&nbsp;<a href="#get_enrolment_instances">get_enrolment_instances</a>()<br>
&nbsp;&nbsp;<a href="#get_enrolment_instance_names">get_enrolment_instance_names</a>()<br>
&nbsp;&nbsp;<a href="#get_enrolment_plugins">get_enrolment_plugins</a>()<br>
&nbsp;&nbsp;<a href="#get_all_roles">get_all_roles</a>()<br>
&nbsp;&nbsp;<a href="#get_assignable_roles">get_assignable_roles</a>()<br>
&nbsp;&nbsp;<a href="#get_all_groups">get_all_groups</a>()<br>
&nbsp;&nbsp;<a href="#unenrol_user">unenrol_user</a>()<br>
&nbsp;&nbsp;<a href="#get_user_enrolment_components">get_user_enrolment_components</a>()<br>
&nbsp;&nbsp;<a href="#unassign_role_from_user">unassign_role_from_user</a>()<br>
&nbsp;&nbsp;<a href="#assign_role_to_user">assign_role_to_user</a>()<br>
&nbsp;&nbsp;<a href="#add_user_to_group">add_user_to_group</a>()<br>
&nbsp;&nbsp;<a href="#remove_user_from_group">remove_user_from_group</a>()<br>
&nbsp;&nbsp;<a href="#get_group">get_group</a>()<br>
&nbsp;&nbsp;<a href="#edit_enrolment">edit_enrolment</a>()<br>
&nbsp;&nbsp;<a href="#get_enrolment_filter">get_enrolment_filter</a>()<br>
&nbsp;&nbsp;<a href="#get_user_roles">get_user_roles</a>()<br>
&nbsp;&nbsp;<a href="#get_user_enrolments">get_user_enrolments</a>()<br>
&nbsp;&nbsp;<a href="#get_user_groups">get_user_groups</a>()<br>
&nbsp;&nbsp;<a href="#get_url_params">get_url_params</a>()<br>
&nbsp;&nbsp;<a href="#get_course">get_course</a>()<br>
&nbsp;&nbsp;<a href="#get_context">get_context</a>()<br>
&nbsp;&nbsp;<a href="#get_other_users_for_display">get_other_users_for_display</a>()<br>
&nbsp;&nbsp;<a href="#get_users_for_display">get_users_for_display</a>()<br>
&nbsp;&nbsp;<a href="#prepare_user_for_display">prepare_user_for_display</a>()<br>
&nbsp;&nbsp;<a href="#get_manual_enrol_buttons">get_manual_enrol_buttons</a>()<br>
&nbsp;&nbsp;<a href="#has_instance">has_instance</a>()<br>
&nbsp;&nbsp;<a href="#get_filtered_enrolment_plugin">get_filtered_enrolment_plugin</a>()<br>
&nbsp;&nbsp;<a href="#get_users_enrolments">get_users_enrolments</a>()<br>
</p>
<p><b>enrol_user_button::</b> (5 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#require_yui_module">require_yui_module</a>()<br>
&nbsp;&nbsp;<a href="#require_js_init_call">require_js_init_call</a>()<br>
&nbsp;&nbsp;<a href="#strings_for_js">strings_for_js</a>()<br>
&nbsp;&nbsp;<a href="#initialise_js">initialise_js</a>()<br>
</p>
<p><b>user_enrolment_action::</b> (5 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#get_icon">get_icon</a>()<br>
&nbsp;&nbsp;<a href="#get_title">get_title</a>()<br>
&nbsp;&nbsp;<a href="#get_url">get_url</a>()<br>
&nbsp;&nbsp;<a href="#get_attributes">get_attributes</a>()<br>
</p>
<p><b>enrol_ajax_exception::</b> (3 methods):<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#__construct">__construct</a>()<br>
&nbsp;&nbsp;<a href="#get_form">get_form</a>()<br>
</p>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="course_enrolment_manager"><b>course_enrolment_manager</b></a>&nbsp;&nbsp;- <a href="../_classes/course_enrolment_manager.html"><small>X-Ref</small></a>
</p>
<b>This class provides a targeted tied together means of interfacing the enrolment<BR>
tasks together with a course.<BR>
</b><br>
It is provided as a convenience more than anything else.<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'locallib.php.source.html#l125')" href="locallib.php.source.html#l125">__construct</a>(moodle_page <a href="../_variables/moodlepage.html">$moodlepage</a>, <a href="../_variables/course.html">$course</a>, <a href="../_variables/instancefilter.html">$instancefilter</a> = null,<a href="../_variables/rolefilter.html">$rolefilter</a> = 0, <a href="../_variables/searchfilter.html">$searchfilter</a> = '', <a href="../_variables/groupfilter.html">$groupfilter</a> = 0, <a href="../_variables/statusfilter.html">$statusfilter</a> = -1)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructs the course enrolment manager<BR>
</b><BR><b>param:</b> moodle_page $moodlepage<br>
<b>param:</b> stdClass $course<br>
<b>param:</b> string $instancefilter<br>
<b>param:</b> int $rolefilter If non-zero, filters to users with specified role<br>
<b>param:</b> string $searchfilter If non-blank, filters to users with search text<br>
<b>param:</b> int $groupfilter if non-zero, filter users with specified group<br>
<b>param:</b> int $statusfilter if not -1, filter users with active/inactive enrollment.<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_moodlepage" onClick="logFunction('get_moodlepage', 'locallib.php.source.html#l148')" href="locallib.php.source.html#l148">get_moodlepage</a>()&nbsp;&nbsp;
<a href="../_functions/get_moodlepage.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the current moodle page<BR>
</b><BR><b>return:</b> moodle_page<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_total_users" onClick="logFunction('get_total_users', 'locallib.php.source.html#l156')" href="locallib.php.source.html#l156">get_total_users</a>()&nbsp;&nbsp;
<a href="../_functions/get_total_users.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the total number of enrolled users in the course.<BR>
</b><BR>If a filter was specificed this will be the total number of users enrolled<BR>
in this course by means of that instance.<BR>
<BR>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_total_other_users" onClick="logFunction('get_total_other_users', 'locallib.php.source.html#l186')" href="locallib.php.source.html#l186">get_total_other_users</a>()&nbsp;&nbsp;
<a href="../_functions/get_total_other_users.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the total number of enrolled users in the course.<BR>
</b><BR>If a filter was specificed this will be the total number of users enrolled<BR>
in this course by means of that instance.<BR>
<BR>
<b>return:</b> int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_users" onClick="logFunction('get_users', 'locallib.php.source.html#l217')" href="locallib.php.source.html#l217">get_users</a>(<a href="../_variables/sort.html">$sort</a>, <a href="../_variables/direction.html">$direction</a>='ASC', <a href="../_variables/page.html">$page</a>=0, <a href="../_variables/perpage.html">$perpage</a>=25)&nbsp;&nbsp;
<a href="../_functions/get_users.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets all of the users enrolled in this course.<BR>
</b><BR>If a filter was specified this will be the users who were enrolled<BR>
in this course by means of that instance. If role or search filters were<BR>
specified then these will also be applied.<BR>
<BR>
<b>param:</b> string $sort<br>
<b>param:</b> string $direction ASC or DESC<br>
<b>param:</b> int $page First page should be 0<br>
<b>param:</b> int $perpage Defaults to 25<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_filter_sql" onClick="logFunction('get_filter_sql', 'locallib.php.source.html#l261')" href="locallib.php.source.html#l261">get_filter_sql</a>()&nbsp;&nbsp;
<a href="../_functions/get_filter_sql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Obtains WHERE clause to filter results by defined search and role filter<BR>
(instance filter is handled separately in JOIN clause, see<BR>
get_instance_sql).<BR>
</b><BR><b>return:</b> array Two-element array with SQL and params for WHERE clause<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_other_users" onClick="logFunction('get_other_users', 'locallib.php.source.html#l322')" href="locallib.php.source.html#l322">get_other_users</a>(<a href="../_variables/sort.html">$sort</a>, <a href="../_variables/direction.html">$direction</a>='ASC', <a href="../_variables/page.html">$page</a>=0, <a href="../_variables/perpage.html">$perpage</a>=25)&nbsp;&nbsp;
<a href="../_functions/get_other_users.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets and array of other users.<BR>
</b><BR>Other users are users who have been assigned roles or inherited roles<BR>
within this course but who have not been enrolled in the course<BR>
<BR>
<b>param:</b> string $sort<br>
<b>param:</b> string $direction<br>
<b>param:</b> int $page<br>
<b>param:</b> int $perpage<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_basic_search_conditions" onClick="logFunction('get_basic_search_conditions', 'locallib.php.source.html#l366')" href="locallib.php.source.html#l366">get_basic_search_conditions</a>(<a href="../_variables/search.html">$search</a>, <a href="../_variables/searchanywhere.html">$searchanywhere</a>)&nbsp;&nbsp;
<a href="../_functions/get_basic_search_conditions.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Helper method used by {@link get_potential_users()} and {@link search_other_users()}.<BR>
</b><BR><b>param:</b> string $search the search term, if any.<br>
<b>param:</b> bool $searchanywhere Can the search term be anywhere, or must it be at the start.<br>
<b>return:</b> array with three elements:<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="execute_search_queries" onClick="logFunction('execute_search_queries', 'locallib.php.source.html#l410')" href="locallib.php.source.html#l410">execute_search_queries</a>(<a href="../_variables/search.html">$search</a>, <a href="../_variables/fields.html">$fields</a>, <a href="../_variables/countfields.html">$countfields</a>, <a href="../_variables/sql.html">$sql</a>, array <a href="../_variables/params.html">$params</a>, <a href="../_variables/page.html">$page</a>, <a href="../_variables/perpage.html">$perpage</a>, <a href="../_variables/addedenrollment.html">$addedenrollment</a>=0)&nbsp;&nbsp;
<a href="../_functions/execute_search_queries.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Helper method used by {@link get_potential_users()} and {@link search_other_users()}.<BR>
</b><BR><b>param:</b> string $search the search string, if any.<br>
<b>param:</b> string $fields the first bit of the SQL when returning some users.<br>
<b>param:</b> string $countfields fhe first bit of the SQL when counting the users.<br>
<b>param:</b> string $sql the bulk of the SQL statement.<br>
<b>param:</b> array $params query parameters.<br>
<b>param:</b> int $page which page number of the results to show.<br>
<b>param:</b> int $perpage number of users per page.<br>
<b>param:</b> int $addedenrollment number of users added to enrollment.<br>
<b>return:</b> array with two elememts:<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_potential_users" onClick="logFunction('get_potential_users', 'locallib.php.source.html#l438')" href="locallib.php.source.html#l438">get_potential_users</a>(<a href="../_variables/enrolid.html">$enrolid</a>, <a href="../_variables/search.html">$search</a>='', <a href="../_variables/searchanywhere.html">$searchanywhere</a>=false, <a href="../_variables/page.html">$page</a>=0, <a href="../_variables/perpage.html">$perpage</a>=25, <a href="../_variables/addedenrollment.html">$addedenrollment</a>=0)&nbsp;&nbsp;
<a href="../_functions/get_potential_users.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets an array of the users that can be enrolled in this course.<BR>
</b><BR><b>param:</b> int $enrolid<br>
<b>param:</b> string $search<br>
<b>param:</b> bool $searchanywhere<br>
<b>param:</b> int $page Defaults to 0<br>
<b>param:</b> int $perpage Defaults to 25<br>
<b>param:</b> int $addedenrollment Defaults to 0<br>
<b>return:</b> array Array(totalusers =&gt; int, users =&gt; array)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="search_other_users" onClick="logFunction('search_other_users', 'locallib.php.source.html#l466')" href="locallib.php.source.html#l466">search_other_users</a>(<a href="../_variables/search.html">$search</a>='', <a href="../_variables/searchanywhere.html">$searchanywhere</a>=false, <a href="../_variables/page.html">$page</a>=0, <a href="../_variables/perpage.html">$perpage</a>=25)&nbsp;&nbsp;
<a href="../_functions/search_other_users.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Searches other users and returns paginated results<BR>
</b><BR><b>param:</b> string $search<br>
<b>param:</b> bool $searchanywhere<br>
<b>param:</b> int $page Starting at 0<br>
<b>param:</b> int $perpage<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_instance_sql" onClick="logFunction('get_instance_sql', 'locallib.php.source.html#l492')" href="locallib.php.source.html#l492">get_instance_sql</a>()&nbsp;&nbsp;
<a href="../_functions/get_instance_sql.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets an array containing some SQL to user for when selecting, params for<BR>
that SQL, and the filter that was used in constructing the sql.<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_enrolment_instances" onClick="logFunction('get_enrolment_instances', 'locallib.php.source.html#l523')" href="locallib.php.source.html#l523">get_enrolment_instances</a>()&nbsp;&nbsp;
<a href="../_functions/get_enrolment_instances.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns all of the enrolment instances for this course.<BR>
</b><BR>NOTE: since 2.4 it includes instances of disabled plugins too.<BR>
<BR>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_enrolment_instance_names" onClick="logFunction('get_enrolment_instance_names', 'locallib.php.source.html#l537')" href="locallib.php.source.html#l537">get_enrolment_instance_names</a>()&nbsp;&nbsp;
<a href="../_functions/get_enrolment_instance_names.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the names for all of the enrolment instances for this course.<BR>
</b><BR>NOTE: since 2.4 it includes instances of disabled plugins too.<BR>
<BR>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_enrolment_plugins" onClick="logFunction('get_enrolment_plugins', 'locallib.php.source.html#l560')" href="locallib.php.source.html#l560">get_enrolment_plugins</a>(<a href="../_variables/onlyenabled.html">$onlyenabled</a> = true)&nbsp;&nbsp;
<a href="../_functions/get_enrolment_plugins.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets all of the enrolment plugins that are active for this course.<BR>
</b><BR><b>param:</b> bool $onlyenabled return only enabled enrol plugins<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_all_roles" onClick="logFunction('get_all_roles', 'locallib.php.source.html#l588')" href="locallib.php.source.html#l588">get_all_roles</a>()&nbsp;&nbsp;
<a href="../_functions/get_all_roles.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets all of the roles this course can contain.<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_assignable_roles" onClick="logFunction('get_assignable_roles', 'locallib.php.source.html#l600')" href="locallib.php.source.html#l600">get_assignable_roles</a>(<a href="../_variables/otherusers.html">$otherusers</a> = false)&nbsp;&nbsp;
<a href="../_functions/get_assignable_roles.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets all of the assignable roles for this course.<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_all_groups" onClick="logFunction('get_all_groups', 'locallib.php.source.html#l626')" href="locallib.php.source.html#l626">get_all_groups</a>()&nbsp;&nbsp;
<a href="../_functions/get_all_groups.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets all of the groups for this course.<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="unenrol_user" onClick="logFunction('unenrol_user', 'locallib.php.source.html#l641')" href="locallib.php.source.html#l641">unenrol_user</a>(<a href="../_variables/ue.html">$ue</a>)&nbsp;&nbsp;
<a href="../_functions/unenrol_user.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Unenrols a user from the course given the users ue entry<BR>
</b><BR><b>param:</b> stdClass $ue<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_user_enrolment_components" onClick="logFunction('get_user_enrolment_components', 'locallib.php.source.html#l658')" href="locallib.php.source.html#l658">get_user_enrolment_components</a>(<a href="../_variables/userenrolment.html">$userenrolment</a>)&nbsp;&nbsp;
<a href="../_functions/get_user_enrolment_components.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a user enrolment record this method returns the plugin and enrolment<BR>
instance that relate to it.<BR>
</b><BR><b>param:</b> stdClass|int $userenrolment<br>
<b>return:</b> array array($instance, $plugin)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="unassign_role_from_user" onClick="logFunction('unassign_role_from_user', 'locallib.php.source.html#l680')" href="locallib.php.source.html#l680">unassign_role_from_user</a>(<a href="../_variables/userid.html">$userid</a>, <a href="../_variables/roleid.html">$roleid</a>)&nbsp;&nbsp;
<a href="../_functions/unassign_role_from_user.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Removes an assigned role from a user.<BR>
</b><BR><b>param:</b> int $userid<br>
<b>param:</b> int $roleid<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="assign_role_to_user" onClick="logFunction('assign_role_to_user', 'locallib.php.source.html#l716')" href="locallib.php.source.html#l716">assign_role_to_user</a>(<a href="../_variables/roleid.html">$roleid</a>, <a href="../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../_functions/assign_role_to_user.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Assigns a role to a user.<BR>
</b><BR><b>param:</b> int $roleid<br>
<b>param:</b> int $userid<br>
<b>return:</b> int|false<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="add_user_to_group" onClick="logFunction('add_user_to_group', 'locallib.php.source.html#l734')" href="locallib.php.source.html#l734">add_user_to_group</a>(<a href="../_variables/user.html">$user</a>, <a href="../_variables/groupid.html">$groupid</a>)&nbsp;&nbsp;
<a href="../_functions/add_user_to_group.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds a user to a group<BR>
</b><BR><b>param:</b> stdClass $user<br>
<b>param:</b> int $groupid<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="remove_user_from_group" onClick="logFunction('remove_user_from_group', 'locallib.php.source.html#l750')" href="locallib.php.source.html#l750">remove_user_from_group</a>(<a href="../_variables/user.html">$user</a>, <a href="../_variables/groupid.html">$groupid</a>)&nbsp;&nbsp;
<a href="../_functions/remove_user_from_group.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Removes a user from a group<BR>
</b><BR><b>param:</b> StdClass $user<br>
<b>param:</b> int $groupid<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_group" onClick="logFunction('get_group', 'locallib.php.source.html#l771')" href="locallib.php.source.html#l771">get_group</a>(<a href="../_variables/groupid.html">$groupid</a>)&nbsp;&nbsp;
<a href="../_functions/get_group.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets the requested group<BR>
</b><BR><b>param:</b> int $groupid<br>
<b>return:</b> stdClass|int<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="edit_enrolment" onClick="logFunction('edit_enrolment', 'locallib.php.source.html#l785')" href="locallib.php.source.html#l785">edit_enrolment</a>(<a href="../_variables/userenrolment.html">$userenrolment</a>, <a href="../_variables/data.html">$data</a>)&nbsp;&nbsp;
<a href="../_functions/edit_enrolment.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Edits an enrolment<BR>
</b><BR><b>param:</b> stdClass $userenrolment<br>
<b>param:</b> stdClass $data<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_enrolment_filter" onClick="logFunction('get_enrolment_filter', 'locallib.php.source.html#l806')" href="locallib.php.source.html#l806">get_enrolment_filter</a>()&nbsp;&nbsp;
<a href="../_functions/get_enrolment_filter.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the current enrolment filter that is being applied by this class<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_user_roles" onClick="logFunction('get_user_roles', 'locallib.php.source.html#l814')" href="locallib.php.source.html#l814">get_user_roles</a>(<a href="../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../_functions/get_user_roles.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets the roles assigned to this user that are applicable for this course.<BR>
</b><BR><b>param:</b> int $userid<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_user_enrolments" onClick="logFunction('get_user_enrolments', 'locallib.php.source.html#l851')" href="locallib.php.source.html#l851">get_user_enrolments</a>(<a href="../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../_functions/get_user_enrolments.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets the enrolments this user has in the course - including all suspended plugins and instances.<BR>
</b><BR><b>param:</b> int $userid<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_user_groups" onClick="logFunction('get_user_groups', 'locallib.php.source.html#l874')" href="locallib.php.source.html#l874">get_user_groups</a>(<a href="../_variables/userid.html">$userid</a>)&nbsp;&nbsp;
<a href="../_functions/get_user_groups.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets the groups this user belongs to<BR>
</b><BR><b>param:</b> int $userid<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_url_params" onClick="logFunction('get_url_params', 'locallib.php.source.html#l884')" href="locallib.php.source.html#l884">get_url_params</a>()&nbsp;&nbsp;
<a href="../_functions/get_url_params.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Retursn an array of params that would go into the URL to return to this<BR>
exact page.<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_course" onClick="logFunction('get_course', 'locallib.php.source.html#l912')" href="locallib.php.source.html#l912">get_course</a>()&nbsp;&nbsp;
<a href="../_functions/get_course.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the course this object is managing enrolments for<BR>
</b><BR><b>return:</b> stdClass<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_context" onClick="logFunction('get_context', 'locallib.php.source.html#l921')" href="locallib.php.source.html#l921">get_context</a>()&nbsp;&nbsp;
<a href="../_functions/get_context.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the course context<BR>
</b><BR><b>return:</b> stdClass<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_other_users_for_display" onClick="logFunction('get_other_users_for_display', 'locallib.php.source.html#l930')" href="locallib.php.source.html#l930">get_other_users_for_display</a>(core_enrol_renderer <a href="../_variables/renderer.html">$renderer</a>, moodle_url <a href="../_variables/pageurl.html">$pageurl</a>, <a href="../_variables/sort.html">$sort</a>, <a href="../_variables/direction.html">$direction</a>, <a href="../_variables/page.html">$page</a>, <a href="../_variables/perpage.html">$perpage</a>)&nbsp;&nbsp;
<a href="../_functions/get_other_users_for_display.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets an array of other users in this course ready for display.<BR>
</b><BR>Other users are users who have been assigned or inherited roles within this<BR>
course but have not been enrolled.<BR>
<BR>
<b>param:</b> core_enrol_renderer $renderer<br>
<b>param:</b> moodle_url $pageurl<br>
<b>param:</b> string $sort<br>
<b>param:</b> string $direction ASC | DESC<br>
<b>param:</b> int $page Starting from 0<br>
<b>param:</b> int $perpage<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_users_for_display" onClick="logFunction('get_users_for_display', 'locallib.php.source.html#l1002')" href="locallib.php.source.html#l1002">get_users_for_display</a>(course_enrolment_manager <a href="../_variables/manager.html">$manager</a>, <a href="../_variables/sort.html">$sort</a>, <a href="../_variables/direction.html">$direction</a>, <a href="../_variables/page.html">$page</a>, <a href="../_variables/perpage.html">$perpage</a>)&nbsp;&nbsp;
<a href="../_functions/get_users_for_display.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Gets an array of users for display, this includes minimal user information<BR>
as well as minimal information on the users roles, groups, and enrolments.<BR>
</b><BR><b>param:</b> core_enrol_renderer $renderer<br>
<b>param:</b> moodle_url $pageurl<br>
<b>param:</b> int $sort<br>
<b>param:</b> string $direction ASC or DESC<br>
<b>param:</b> int $page<br>
<b>param:</b> int $perpage<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="prepare_user_for_display" onClick="logFunction('prepare_user_for_display', 'locallib.php.source.html#l1092')" href="locallib.php.source.html#l1092">prepare_user_for_display</a>(<a href="../_variables/user.html">$user</a>, <a href="../_variables/extrafields.html">$extrafields</a>, <a href="../_variables/now.html">$now</a>)&nbsp;&nbsp;
<a href="../_functions/prepare_user_for_display.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Prepare a user record for display<BR>
</b><BR>This function is called by both {@link get_users_for_display} and {@link get_other_users_for_display} to correctly<BR>
prepare user fields for display<BR>
<BR>
Please note that this function does not check capability for moodle/coures:viewhiddenuserfields<BR>
<BR>
<b>param:</b> object $user The user record<br>
<b>param:</b> array $extrafields The list of fields as returned from get_extra_user_fields used to determine which<br>
<b>param:</b> int $now The time used for lastaccess calculation<br>
<b>return:</b> array The fields to be displayed including userid, courseid, picture, firstname, lastcourseaccess, lastaccess and any<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_manual_enrol_buttons" onClick="logFunction('get_manual_enrol_buttons', 'locallib.php.source.html#l1133')" href="locallib.php.source.html#l1133">get_manual_enrol_buttons</a>()&nbsp;&nbsp;
<a href="../_functions/get_manual_enrol_buttons.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="has_instance" onClick="logFunction('has_instance', 'locallib.php.source.html#l1147')" href="locallib.php.source.html#l1147">has_instance</a>(<a href="../_variables/enrolpluginname.html">$enrolpluginname</a>)&nbsp;&nbsp;
<a href="../_functions/has_instance.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><i>No description</i></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_filtered_enrolment_plugin" onClick="logFunction('get_filtered_enrolment_plugin', 'locallib.php.source.html#l1157')" href="locallib.php.source.html#l1157">get_filtered_enrolment_plugin</a>()&nbsp;&nbsp;
<a href="../_functions/get_filtered_enrolment_plugin.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the enrolment plugin that the course manager was being filtered to.<BR>
</b><BR>If no filter was being applied then this function returns false.<BR>
<BR>
<b>return:</b> enrol_plugin<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_users_enrolments" onClick="logFunction('get_users_enrolments', 'locallib.php.source.html#l1176')" href="locallib.php.source.html#l1176">get_users_enrolments</a>(array <a href="../_variables/userids.html">$userids</a>)&nbsp;&nbsp;
<a href="../_functions/get_users_enrolments.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns and array of users + enrolment details.<BR>
</b><BR>Given an array of user id's this function returns and array of user enrolments for those users<BR>
as well as enough user information to display the users name and picture for each enrolment.<BR>
<BR>
<b>param:</b> array $userids<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="enrol_user_button"><b>enrol_user_button</b></a>&nbsp;&nbsp;- <a href="../_classes/enrol_user_button.html"><small>X-Ref</small></a>
</p>
<b>A button that is used to enrol users in a course<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'locallib.php.source.html#l1256')" href="locallib.php.source.html#l1256">__construct</a>(moodle_url <a href="../_variables/url.html">$url</a>, <a href="../_variables/label.html">$label</a>, <a href="../_variables/method.html">$method</a> = 'post')&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initialises the new enrol_user_button<BR>
</b><BR><b>param:</b> moodle_url $url<br>
<b>param:</b> string $label The text to display in the button<br>
<b>param:</b> string $method Either post or get<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="require_yui_module" onClick="logFunction('require_yui_module', 'locallib.php.source.html#l1272')" href="locallib.php.source.html#l1272">require_yui_module</a>(<a href="../_variables/modules.html">$modules</a>, <a href="../_variables/function.html">$function</a>, array <a href="../_variables/arguments.html">$arguments</a> = null, <a href="../_variables/galleryversion.html">$galleryversion</a> = null, <a href="../_variables/ondomready.html">$ondomready</a> = false)&nbsp;&nbsp;
<a href="../_functions/require_yui_module.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds a YUI module call that will be added to the page when the button is used.<BR>
</b><BR><b>param:</b> string|array $modules One or more modules to require<br>
<b>param:</b> string $function The JS function to call<br>
<b>param:</b> array $arguments An array of arguments to pass to the function<br>
<b>param:</b> string $galleryversion Deprecated: The gallery version to use<br>
<b>param:</b> bool $ondomready If true the call is postponed until the DOM is finished loading<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="require_js_init_call" onClick="logFunction('require_js_init_call', 'locallib.php.source.html#l1294')" href="locallib.php.source.html#l1294">require_js_init_call</a>(<a href="../_variables/function.html">$function</a>, array <a href="../_variables/extraarguments.html">$extraarguments</a> = null, <a href="../_variables/ondomready.html">$ondomready</a> = false, array <a href="../_variables/module.html">$module</a> = null)&nbsp;&nbsp;
<a href="../_functions/require_js_init_call.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Adds a JS initialisation call to the page when the button is used.<BR>
</b><BR><b>param:</b> string $function The function to call<br>
<b>param:</b> array $extraarguments An array of arguments to pass to the function<br>
<b>param:</b> bool $ondomready If true the call is postponed until the DOM is finished loading<br>
<b>param:</b> array $module A module definition<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="strings_for_js" onClick="logFunction('strings_for_js', 'locallib.php.source.html#l1311')" href="locallib.php.source.html#l1311">strings_for_js</a>(<a href="../_variables/identifiers.html">$identifiers</a>, <a href="../_variables/component.html">$component</a> = 'moodle', <a href="../_variables/a.html">$a</a> = null)&nbsp;&nbsp;
<a href="../_functions/strings_for_js.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Requires strings for JS that will be loaded when the button is used.<BR>
</b><BR><b>param:</b> type $identifiers<br>
<b>param:</b> string $component<br>
<b>param:</b> mixed $a<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="initialise_js" onClick="logFunction('initialise_js', 'locallib.php.source.html#l1326')" href="locallib.php.source.html#l1326">initialise_js</a>(moodle_page <a href="../_variables/page.html">$page</a>)&nbsp;&nbsp;
<a href="../_functions/initialise_js.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Initialises the JS that is required by this button<BR>
</b><BR><b>param:</b> moodle_page $page<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="user_enrolment_action"><b>user_enrolment_action</b></a>&nbsp;&nbsp;- <a href="../_classes/user_enrolment_action.html"><small>X-Ref</small></a>
</p>
<b>User enrolment action<BR>
</b><br>
This class is used to manage a renderable ue action such as editing an user enrolment or deleting<BR>
a user enrolment.<BR>
<BR>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'locallib.php.source.html#l1379')" href="locallib.php.source.html#l1379">__construct</a>(pix_icon <a href="../_variables/icon.html">$icon</a>, <a href="../_variables/title.html">$title</a>, <a href="../_variables/url.html">$url</a>, array <a href="../_variables/attributes.html">$attributes</a> = null)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> pix_icon $icon<br>
<b>param:</b> string $title<br>
<b>param:</b> moodle_url $url<br>
<b>param:</b> array $attributes<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_icon" onClick="logFunction('get_icon', 'locallib.php.source.html#l1396')" href="locallib.php.source.html#l1396">get_icon</a>()&nbsp;&nbsp;
<a href="../_functions/get_icon.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the icon for this action<BR>
</b><BR><b>return:</b> pix_icon<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_title" onClick="logFunction('get_title', 'locallib.php.source.html#l1404')" href="locallib.php.source.html#l1404">get_title</a>()&nbsp;&nbsp;
<a href="../_functions/get_title.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the title for this action<BR>
</b><BR><b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_url" onClick="logFunction('get_url', 'locallib.php.source.html#l1412')" href="locallib.php.source.html#l1412">get_url</a>()&nbsp;&nbsp;
<a href="../_functions/get_url.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the URL for this action<BR>
</b><BR><b>return:</b> moodle_url<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_attributes" onClick="logFunction('get_attributes', 'locallib.php.source.html#l1420')" href="locallib.php.source.html#l1420">get_attributes</a>()&nbsp;&nbsp;
<a href="../_functions/get_attributes.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns the attributes to use for this action<BR>
</b><BR><b>return:</b> array<br>
</td></tr></table>

<br>
</div>
</div>
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="enrol_ajax_exception"><b>enrol_ajax_exception</b></a>&nbsp;&nbsp;- <a href="../_classes/enrol_ajax_exception.html"><small>X-Ref</small></a>
</p>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'locallib.php.source.html#l1430')" href="locallib.php.source.html#l1430">__construct</a>(<a href="../_variables/errorcode.html">$errorcode</a>, <a href="../_variables/link.html">$link</a> = '', <a href="../_variables/a.html">$a</a> = NULL, <a href="../_variables/debuginfo.html">$debuginfo</a> = null)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Constructor<BR>
</b><BR><b>param:</b> string $errorcode The name of the string from error.php to print<br>
<b>param:</b> string $module name of module<br>
<b>param:</b> string $link The url where the user will be prompted to continue. If no url is provided the user will be directed to the site index page.<br>
<b>param:</b> object $a Extra words and phrases that might be required in the error string<br>
<b>param:</b> string $debuginfo optional debugging information<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="__construct" onClick="logFunction('__construct', 'locallib.php.source.html#l1463')" href="locallib.php.source.html#l1463">__construct</a>(course_enrolment_manager <a href="../_variables/manager.html">$manager</a>, enrol_plugin <a href="../_variables/plugin.html">$plugin</a> = null)&nbsp;&nbsp;
<a href="../_functions/__construct.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Contructor<BR>
</b><BR><b>param:</b> course_enrolment_manager $manager<br>
<b>param:</b> stdClass $plugin<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="get_form" onClick="logFunction('get_form', 'locallib.php.source.html#l1473')" href="locallib.php.source.html#l1473">get_form</a>(<a href="../_variables/defaultaction.html">$defaultaction</a> = null, <a href="../_variables/defaultcustomdata.html">$defaultcustomdata</a> = null)&nbsp;&nbsp;
<a href="../_functions/get_form.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns a moodleform used for this operation, or false if no form is required and the action<BR>
should be immediatly processed.<BR>
</b><BR><b>param:</b> moodle_url|string $defaultaction<br>
<b>param:</b> mixed $defaultcustomdata<br>
<b>return:</b> enrol_bulk_enrolment_change_form|moodleform|false<br>
</td></tr></table>

<br>
</div>
</div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
