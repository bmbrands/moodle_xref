<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /notes/lib.php source</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Thu Aug 11 10:00:09 2016 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='notes';
filename='lib.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/notes/</a> -> <a href="lib.php.html">lib.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="lib.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="lib.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">// This file is part of Moodle - http://moodle.org/</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment">//</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment">// Moodle is free software: you can redistribute it and/or modify</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">// it under the terms of the GNU General Public License as published by</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">// the Free Software Foundation, either version 3 of the License, or</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">// (at your option) any later version.</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">//</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">// Moodle is distributed in the hope that it will be useful,</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// GNU General Public License for more details.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">//</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// You should have received a copy of the GNU General Public License</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">// along with Moodle.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">/**</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * Library of functions and constants for notes</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> *</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * @package    core_notes</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> * @copyright  2007 onwards Yu Zhang</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> */</span>
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment">/**</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> * Constants for states.</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> */</span>
<a name="l28"><span class="linenum">  28</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NOTES_STATE_DRAFT')" href="../_constants/NOTES_STATE_DRAFT.html" onMouseOver="constPopup(event,'NOTES_STATE_DRAFT')">NOTES_STATE_DRAFT</a>', 'draft');
<a name="l29"><span class="linenum">  29</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NOTES_STATE_PUBLIC')" href="../_constants/NOTES_STATE_PUBLIC.html" onMouseOver="constPopup(event,'NOTES_STATE_PUBLIC')">NOTES_STATE_PUBLIC</a>', 'public');
<a name="l30"><span class="linenum">  30</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NOTES_STATE_SITE')" href="../_constants/NOTES_STATE_SITE.html" onMouseOver="constPopup(event,'NOTES_STATE_SITE')">NOTES_STATE_SITE</a>', 'site');
<a name="l31"><span class="linenum">  31</span></a>  
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">/**</span>
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment"> * Constants for note parts (flags used by note_print and note_print_list).</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> */</span>
<a name="l35"><span class="linenum">  35</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NOTES_SHOW_FULL')" href="../_constants/NOTES_SHOW_FULL.html" onMouseOver="constPopup(event,'NOTES_SHOW_FULL')">NOTES_SHOW_FULL</a>', 0x07);
<a name="l36"><span class="linenum">  36</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NOTES_SHOW_HEAD')" href="../_constants/NOTES_SHOW_HEAD.html" onMouseOver="constPopup(event,'NOTES_SHOW_HEAD')">NOTES_SHOW_HEAD</a>', 0x02);
<a name="l37"><span class="linenum">  37</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NOTES_SHOW_BODY')" href="../_constants/NOTES_SHOW_BODY.html" onMouseOver="constPopup(event,'NOTES_SHOW_BODY')">NOTES_SHOW_BODY</a>', 0x01);
<a name="l38"><span class="linenum">  38</span></a>  <a class="phpfunction" onClick="logFunction('define')" href="../_functions/define.html" onMouseOver="phpfuncPopup(event,'define')">define</a>('<a class="constant" onClick="logConstant('NOTES_SHOW_FOOT')" href="../_constants/NOTES_SHOW_FOOT.html" onMouseOver="constPopup(event,'NOTES_SHOW_FOOT')">NOTES_SHOW_FOOT</a>', 0x04);
<a name="l39"><span class="linenum">  39</span></a>  
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">/**</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> * Retrieves a list of note objects with specific atributes.</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment"> *</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment"> * @param int    $courseid id of the course in which the notes were posted (0 means any)</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment"> * @param int    $userid id of the user to which the notes refer (0 means any)</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment"> * @param string $state state of the notes (i.e. draft, public, site) ('' means any)</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment"> * @param int    $author id of the user who modified the note last time (0 means any)</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment"> * @param string $order an order to sort the results in</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment"> * @param int    $limitfrom number of records to skip (offset)</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment"> * @param int    $limitnum number of records to fetch</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment"> * @return array of note objects</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment"> */</span>
<a name="l52"><span class="linenum">  52</span></a>  function <a class="function" onClick="logFunction('note_list')" href="../_functions/note_list.html" onMouseOver="funcPopup(event,'note_list')">note_list</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>=0, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>=0, <a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a> = '', <a class="var it1320" onMouseOver="hilite(1320)" onMouseOut="lolite()" onClick="logVariable('author')" href="../_variables/author.html">$author</a> = 0, <a class="var it6270" onMouseOver="hilite(6270)" onMouseOut="lolite()" onClick="logVariable('order')" href="../_variables/order.html">$order</a>='lastmodified DESC', <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../_variables/limitfrom.html">$limitfrom</a>=0, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../_variables/limitnum.html">$limitnum</a>=0) {
<a name="l53"><span class="linenum">  53</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l54"><span class="linenum">  54</span></a>  
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">    // Setup filters.</span>
<a name="l56"><span class="linenum">  56</span></a>      <a class="var it7654" onMouseOver="hilite(7654)" onMouseOut="lolite()" onClick="logVariable('selects')" href="../_variables/selects.html">$selects</a> = array();
<a name="l57"><span class="linenum">  57</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a> = array();
<a name="l58"><span class="linenum">  58</span></a>      if (<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l59"><span class="linenum">  59</span></a>          <a class="var it7654" onMouseOver="hilite(7654)" onMouseOut="lolite()" onClick="logVariable('selects')" href="../_variables/selects.html">$selects</a>[] = 'courseid=?';
<a name="l60"><span class="linenum">  60</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>[]  = <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>;
<a name="l61"><span class="linenum">  61</span></a>      }
<a name="l62"><span class="linenum">  62</span></a>      if (<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) {
<a name="l63"><span class="linenum">  63</span></a>          <a class="var it7654" onMouseOver="hilite(7654)" onMouseOut="lolite()" onClick="logVariable('selects')" href="../_variables/selects.html">$selects</a>[] = 'userid=?';
<a name="l64"><span class="linenum">  64</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>[]  = <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>;
<a name="l65"><span class="linenum">  65</span></a>      }
<a name="l66"><span class="linenum">  66</span></a>      if (<a class="var it1320" onMouseOver="hilite(1320)" onMouseOut="lolite()" onClick="logVariable('author')" href="../_variables/author.html">$author</a>) {
<a name="l67"><span class="linenum">  67</span></a>          <a class="var it7654" onMouseOver="hilite(7654)" onMouseOut="lolite()" onClick="logVariable('selects')" href="../_variables/selects.html">$selects</a>[] = 'usermodified=?';
<a name="l68"><span class="linenum">  68</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>[]  = <a class="var it1320" onMouseOver="hilite(1320)" onMouseOut="lolite()" onClick="logVariable('author')" href="../_variables/author.html">$author</a>;
<a name="l69"><span class="linenum">  69</span></a>      }
<a name="l70"><span class="linenum">  70</span></a>      if (<a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>) {
<a name="l71"><span class="linenum">  71</span></a>          <a class="var it7654" onMouseOver="hilite(7654)" onMouseOut="lolite()" onClick="logVariable('selects')" href="../_variables/selects.html">$selects</a>[] = 'publishstate=?';
<a name="l72"><span class="linenum">  72</span></a>          <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>[]  = <a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>;
<a name="l73"><span class="linenum">  73</span></a>      }
<a name="l74"><span class="linenum">  74</span></a>      <a class="var it7654" onMouseOver="hilite(7654)" onMouseOut="lolite()" onClick="logVariable('selects')" href="../_variables/selects.html">$selects</a>[] = &quot;module=?&quot;;
<a name="l75"><span class="linenum">  75</span></a>      <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>[]  = 'notes';
<a name="l76"><span class="linenum">  76</span></a>  
<a name="l77"><span class="linenum">  77</span></a>      <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>(' AND ', <a class="var it7654" onMouseOver="hilite(7654)" onMouseOut="lolite()" onClick="logVariable('selects')" href="../_variables/selects.html">$selects</a>);
<a name="l78"><span class="linenum">  78</span></a>      <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a> = 'id,courseid,userid,content,format,created,lastmodified,usermodified,publishstate';
<a name="l79"><span class="linenum">  79</span></a>  
<a name="l80"><span class="linenum">  80</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_records_select')" href="../_functions/get_records_select.html" onMouseOver="funcPopup(event,'get_records_select')">get_records_select</a>('post', <a class="var it1047" onMouseOver="hilite(1047)" onMouseOut="lolite()" onClick="logVariable('select')" href="../_variables/select.html">$select</a>, <a class="var it189" onMouseOver="hilite(189)" onMouseOut="lolite()" onClick="logVariable('params')" href="../_variables/params.html">$params</a>, <a class="var it6270" onMouseOver="hilite(6270)" onMouseOut="lolite()" onClick="logVariable('order')" href="../_variables/order.html">$order</a>, <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>, <a class="var it1013" onMouseOver="hilite(1013)" onMouseOut="lolite()" onClick="logVariable('limitfrom')" href="../_variables/limitfrom.html">$limitfrom</a>, <a class="var it1014" onMouseOver="hilite(1014)" onMouseOut="lolite()" onClick="logVariable('limitnum')" href="../_variables/limitnum.html">$limitnum</a>);
<a name="l81"><span class="linenum">  81</span></a>  }
<a name="l82"><span class="linenum">  82</span></a>  
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">/**</span>
<a name="l84"><span class="linenum">  84</span></a>  <span class="comment"> * Retrieves a note object based on its id.</span>
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment"> *</span>
<a name="l86"><span class="linenum">  86</span></a>  <span class="comment"> * @param int $noteid ID of the note to retrieve</span>
<a name="l87"><span class="linenum">  87</span></a>  <span class="comment"> * @return stdClass object</span>
<a name="l88"><span class="linenum">  88</span></a>  <span class="comment"> */</span>
<a name="l89"><span class="linenum">  89</span></a>  function <a class="function" onClick="logFunction('note_load')" href="../_functions/note_load.html" onMouseOver="funcPopup(event,'note_load')">note_load</a>(<a class="var it7655" onMouseOver="hilite(7655)" onMouseOut="lolite()" onClick="logVariable('noteid')" href="../_variables/noteid.html">$noteid</a>) {
<a name="l90"><span class="linenum">  90</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l91"><span class="linenum">  91</span></a>  
<a name="l92"><span class="linenum">  92</span></a>      <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a> = 'id,courseid,userid,content,format,created,lastmodified,usermodified,publishstate';
<a name="l93"><span class="linenum">  93</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('post', array('id' =&gt; <a class="var it7655" onMouseOver="hilite(7655)" onMouseOut="lolite()" onClick="logVariable('noteid')" href="../_variables/noteid.html">$noteid</a>, 'module' =&gt; 'notes'), <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('fields')" href="../_variables/fields.html">$fields</a>);
<a name="l94"><span class="linenum">  94</span></a>  }
<a name="l95"><span class="linenum">  95</span></a>  
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment">/**</span>
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment"> * Saves a note object. The note object is passed by reference and its fields (i.e. id)</span>
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment"> * might change during the save.</span>
<a name="l99"><span class="linenum">  99</span></a>  <span class="comment"> *</span>
<a name="l100"><span class="linenum"> 100</span></a>  <span class="comment"> * @param stdClass   $note object to save</span>
<a name="l101"><span class="linenum"> 101</span></a>  <span class="comment"> * @return boolean true if the object was saved; false otherwise</span>
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment"> */</span>
<a name="l103"><span class="linenum"> 103</span></a>  function <a class="function" onClick="logFunction('note_save')" href="../_functions/note_save.html" onMouseOver="funcPopup(event,'note_save')">note_save</a>(&amp;<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>) {
<a name="l104"><span class="linenum"> 104</span></a>      global <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l105"><span class="linenum"> 105</span></a>  
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">    // Setup &amp; clean fields.</span>
<a name="l107"><span class="linenum"> 107</span></a>      <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('module')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/module.html">module</a>       = 'notes';
<a name="l108"><span class="linenum"> 108</span></a>      <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('lastmodified')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/lastmodified.html">lastmodified</a> = <a class="phpfunction" onClick="logFunction('time')" href="../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l109"><span class="linenum"> 109</span></a>      <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('usermodified')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/usermodified.html">usermodified</a> = <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l110"><span class="linenum"> 110</span></a>      if (empty(<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('format')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/format.html">format</a>)) {
<a name="l111"><span class="linenum"> 111</span></a>          <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('format')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/format.html">format</a> = <a class="constant" onClick="logConstant('FORMAT_PLAIN')" href="../_constants/FORMAT_PLAIN.html" onMouseOver="constPopup(event,'FORMAT_PLAIN')">FORMAT_PLAIN</a>;
<a name="l112"><span class="linenum"> 112</span></a>      }
<a name="l113"><span class="linenum"> 113</span></a>      if (empty(<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('publishstate')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/publishstate.html">publishstate</a>)) {
<a name="l114"><span class="linenum"> 114</span></a>          <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('publishstate')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/publishstate.html">publishstate</a> = <a class="constant" onClick="logConstant('NOTES_STATE_PUBLIC')" href="../_constants/NOTES_STATE_PUBLIC.html" onMouseOver="constPopup(event,'NOTES_STATE_PUBLIC')">NOTES_STATE_PUBLIC</a>;
<a name="l115"><span class="linenum"> 115</span></a>      }
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">    // Save data.</span>
<a name="l117"><span class="linenum"> 117</span></a>      if (empty(<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('id')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)) {
<a name="l118"><span class="linenum"> 118</span></a>  <span class="comment">        // Insert new note.</span>
<a name="l119"><span class="linenum"> 119</span></a>          <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('created')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/created.html">created</a> = <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('lastmodified')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/lastmodified.html">lastmodified</a>;
<a name="l120"><span class="linenum"> 120</span></a>          <a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('insert_record')" href="../_functions/insert_record.html" onMouseOver="funcPopup(event,'insert_record')">insert_record</a>('post', <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>);
<a name="l121"><span class="linenum"> 121</span></a>          <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a> = <a class="function" onClick="logFunction('note_load')" href="../_functions/note_load.html" onMouseOver="funcPopup(event,'note_load')">note_load</a>(<a class="var it7" onMouseOver="hilite(7)" onMouseOut="lolite()" onClick="logVariable('id')" href="../_variables/id.html">$id</a>);
<a name="l122"><span class="linenum"> 122</span></a>  
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">        // Trigger event.</span>
<a name="l124"><span class="linenum"> 124</span></a>          <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a> = \core\event\<a class="class" onClick="logClass('note_created')" href="../_classes/note_created.html" onMouseOver="classPopup(event,'note_created')">note_created</a>::<a class="function" onClick="logFunction('create')" href="../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(array(
<a name="l125"><span class="linenum"> 125</span></a>              'objectid' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('id')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/id.html">id</a>,
<a name="l126"><span class="linenum"> 126</span></a>              'courseid' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('courseid')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>,
<a name="l127"><span class="linenum"> 127</span></a>              'relateduserid' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('userid')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>,
<a name="l128"><span class="linenum"> 128</span></a>              'userid' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('usermodified')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/usermodified.html">usermodified</a>,
<a name="l129"><span class="linenum"> 129</span></a>              'context' =&gt; <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('courseid')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>),
<a name="l130"><span class="linenum"> 130</span></a>              'other' =&gt; array('publishstate' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('publishstate')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/publishstate.html">publishstate</a>)
<a name="l131"><span class="linenum"> 131</span></a>          ));
<a name="l132"><span class="linenum"> 132</span></a>          <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('trigger')" href="../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l133"><span class="linenum"> 133</span></a>      } else {
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment">        // Update old note.</span>
<a name="l135"><span class="linenum"> 135</span></a>          <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('update_record')" href="../_functions/update_record.html" onMouseOver="funcPopup(event,'update_record')">update_record</a>('post', <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>);
<a name="l136"><span class="linenum"> 136</span></a>          <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a> = <a class="function" onClick="logFunction('note_load')" href="../_functions/note_load.html" onMouseOver="funcPopup(event,'note_load')">note_load</a>(<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('id')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l137"><span class="linenum"> 137</span></a>  
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment">        // Trigger event.</span>
<a name="l139"><span class="linenum"> 139</span></a>          <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a> = \core\event\<a class="class" onClick="logClass('note_updated')" href="../_classes/note_updated.html" onMouseOver="classPopup(event,'note_updated')">note_updated</a>::<a class="function" onClick="logFunction('create')" href="../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(array(
<a name="l140"><span class="linenum"> 140</span></a>              'objectid' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('id')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/id.html">id</a>,
<a name="l141"><span class="linenum"> 141</span></a>              'courseid' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('courseid')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>,
<a name="l142"><span class="linenum"> 142</span></a>              'relateduserid' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('userid')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>,
<a name="l143"><span class="linenum"> 143</span></a>              'userid' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('usermodified')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/usermodified.html">usermodified</a>,
<a name="l144"><span class="linenum"> 144</span></a>              'context' =&gt; <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('courseid')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>),
<a name="l145"><span class="linenum"> 145</span></a>              'other' =&gt; array('publishstate' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('publishstate')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/publishstate.html">publishstate</a>)
<a name="l146"><span class="linenum"> 146</span></a>          ));
<a name="l147"><span class="linenum"> 147</span></a>          <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('trigger')" href="../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l148"><span class="linenum"> 148</span></a>      }
<a name="l149"><span class="linenum"> 149</span></a>      unset(<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('module')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/module.html">module</a>);
<a name="l150"><span class="linenum"> 150</span></a>      return true;
<a name="l151"><span class="linenum"> 151</span></a>  }
<a name="l152"><span class="linenum"> 152</span></a>  
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment">/**</span>
<a name="l154"><span class="linenum"> 154</span></a>  <span class="comment"> * Deletes a note object based on its id.</span>
<a name="l155"><span class="linenum"> 155</span></a>  <span class="comment"> *</span>
<a name="l156"><span class="linenum"> 156</span></a>  <span class="comment"> * @param int|object    $note id of the note to delete, or a note object which is to be deleted.</span>
<a name="l157"><span class="linenum"> 157</span></a>  <span class="comment"> * @return boolean true always</span>
<a name="l158"><span class="linenum"> 158</span></a>  <span class="comment"> */</span>
<a name="l159"><span class="linenum"> 159</span></a>  function <a class="function" onClick="logFunction('note_delete')" href="../_functions/note_delete.html" onMouseOver="funcPopup(event,'note_delete')">note_delete</a>(<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>) {
<a name="l160"><span class="linenum"> 160</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l161"><span class="linenum"> 161</span></a>      if (is_int(<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>)) {
<a name="l162"><span class="linenum"> 162</span></a>          <a class="var it7655" onMouseOver="hilite(7655)" onMouseOut="lolite()" onClick="logVariable('noteid')" href="../_variables/noteid.html">$noteid</a> = <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>;
<a name="l163"><span class="linenum"> 163</span></a>      } else {
<a name="l164"><span class="linenum"> 164</span></a>          <a class="var it7655" onMouseOver="hilite(7655)" onMouseOut="lolite()" onClick="logVariable('noteid')" href="../_variables/noteid.html">$noteid</a> = <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('id')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/id.html">id</a>;
<a name="l165"><span class="linenum"> 165</span></a>      }
<a name="l166"><span class="linenum"> 166</span></a>  <span class="comment">    // Get the full record, note_load doesn't return everything.</span>
<a name="l167"><span class="linenum"> 167</span></a>      <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('post', array('id' =&gt; <a class="var it7655" onMouseOver="hilite(7655)" onMouseOut="lolite()" onClick="logVariable('noteid')" href="../_variables/noteid.html">$noteid</a>), '*', <a class="constant" onClick="logConstant('MUST_EXIST')" href="../_constants/MUST_EXIST.html" onMouseOver="constPopup(event,'MUST_EXIST')">MUST_EXIST</a>);
<a name="l168"><span class="linenum"> 168</span></a>      <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('post', array('id' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('id')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/id.html">id</a>, 'module' =&gt; 'notes'));
<a name="l169"><span class="linenum"> 169</span></a>  
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">    // Trigger event.</span>
<a name="l171"><span class="linenum"> 171</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a> = \core\event\<a class="class" onClick="logClass('note_deleted')" href="../_classes/note_deleted.html" onMouseOver="classPopup(event,'note_deleted')">note_deleted</a>::<a class="function" onClick="logFunction('create')" href="../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(array(
<a name="l172"><span class="linenum"> 172</span></a>          'objectid' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('id')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/id.html">id</a>,
<a name="l173"><span class="linenum"> 173</span></a>          'courseid' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('courseid')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>,
<a name="l174"><span class="linenum"> 174</span></a>          'relateduserid' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('userid')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>,
<a name="l175"><span class="linenum"> 175</span></a>          'userid' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('usermodified')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/usermodified.html">usermodified</a>,
<a name="l176"><span class="linenum"> 176</span></a>          'context' =&gt; <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('courseid')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>),
<a name="l177"><span class="linenum"> 177</span></a>          'other' =&gt; array('publishstate' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('publishstate')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/publishstate.html">publishstate</a>)
<a name="l178"><span class="linenum"> 178</span></a>      ));
<a name="l179"><span class="linenum"> 179</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('add_record_snapshot')" href="../_functions/add_record_snapshot.html" onMouseOver="funcPopup(event,'add_record_snapshot')">add_record_snapshot</a>('post', <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>);
<a name="l180"><span class="linenum"> 180</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('trigger')" href="../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l181"><span class="linenum"> 181</span></a>  
<a name="l182"><span class="linenum"> 182</span></a>      return <a class="var it32" onMouseOver="hilite(32)" onMouseOut="lolite()" onClick="logVariable('return')" href="../_variables/return.html">$return</a>;
<a name="l183"><span class="linenum"> 183</span></a>  }
<a name="l184"><span class="linenum"> 184</span></a>  
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment">/**</span>
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment"> * Converts a state value to its corespondent name</span>
<a name="l187"><span class="linenum"> 187</span></a>  <span class="comment"> *</span>
<a name="l188"><span class="linenum"> 188</span></a>  <span class="comment"> * @param string  $state state value to convert</span>
<a name="l189"><span class="linenum"> 189</span></a>  <span class="comment"> * @return string corespondent state name</span>
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment"> */</span>
<a name="l191"><span class="linenum"> 191</span></a>  function <a class="function" onClick="logFunction('note_get_state_name')" href="../_functions/note_get_state_name.html" onMouseOver="funcPopup(event,'note_get_state_name')">note_get_state_name</a>(<a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>) {
<a name="l192"><span class="linenum"> 192</span></a>  <span class="comment">    // Cache state names.</span>
<a name="l193"><span class="linenum"> 193</span></a>      static <a class="var it1335" onMouseOver="hilite(1335)" onMouseOut="lolite()" onClick="logVariable('states')" href="../_variables/states.html">$states</a>;
<a name="l194"><span class="linenum"> 194</span></a>      if (empty(<a class="var it1335" onMouseOver="hilite(1335)" onMouseOut="lolite()" onClick="logVariable('states')" href="../_variables/states.html">$states</a>)) {
<a name="l195"><span class="linenum"> 195</span></a>          <a class="var it1335" onMouseOver="hilite(1335)" onMouseOut="lolite()" onClick="logVariable('states')" href="../_variables/states.html">$states</a> = <a class="function" onClick="logFunction('note_get_state_names')" href="../_functions/note_get_state_names.html" onMouseOver="funcPopup(event,'note_get_state_names')">note_get_state_names</a>();
<a name="l196"><span class="linenum"> 196</span></a>      }
<a name="l197"><span class="linenum"> 197</span></a>      if (isset(<a class="var it1335" onMouseOver="hilite(1335)" onMouseOut="lolite()" onClick="logVariable('states')" href="../_variables/states.html">$states</a>[<a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>])) {
<a name="l198"><span class="linenum"> 198</span></a>          return <a class="var it1335" onMouseOver="hilite(1335)" onMouseOut="lolite()" onClick="logVariable('states')" href="../_variables/states.html">$states</a>[<a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>];
<a name="l199"><span class="linenum"> 199</span></a>      } else {
<a name="l200"><span class="linenum"> 200</span></a>          return null;
<a name="l201"><span class="linenum"> 201</span></a>      }
<a name="l202"><span class="linenum"> 202</span></a>  }
<a name="l203"><span class="linenum"> 203</span></a>  
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment">/**</span>
<a name="l205"><span class="linenum"> 205</span></a>  <span class="comment"> * Returns an array of mappings from state values to state names</span>
<a name="l206"><span class="linenum"> 206</span></a>  <span class="comment"> *</span>
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment"> * @return array of mappings</span>
<a name="l208"><span class="linenum"> 208</span></a>  <span class="comment"> */</span>
<a name="l209"><span class="linenum"> 209</span></a>  function <a class="function" onClick="logFunction('note_get_state_names')" href="../_functions/note_get_state_names.html" onMouseOver="funcPopup(event,'note_get_state_names')">note_get_state_names</a>() {
<a name="l210"><span class="linenum"> 210</span></a>      return array(
<a name="l211"><span class="linenum"> 211</span></a>          <a class="constant" onClick="logConstant('NOTES_STATE_DRAFT')" href="../_constants/NOTES_STATE_DRAFT.html" onMouseOver="constPopup(event,'NOTES_STATE_DRAFT')">NOTES_STATE_DRAFT</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('personal', 'notes'),
<a name="l212"><span class="linenum"> 212</span></a>          <a class="constant" onClick="logConstant('NOTES_STATE_PUBLIC')" href="../_constants/NOTES_STATE_PUBLIC.html" onMouseOver="constPopup(event,'NOTES_STATE_PUBLIC')">NOTES_STATE_PUBLIC</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('course', 'notes'),
<a name="l213"><span class="linenum"> 213</span></a>          <a class="constant" onClick="logConstant('NOTES_STATE_SITE')" href="../_constants/NOTES_STATE_SITE.html" onMouseOver="constPopup(event,'NOTES_STATE_SITE')">NOTES_STATE_SITE</a> =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('site', 'notes'),
<a name="l214"><span class="linenum"> 214</span></a>      );
<a name="l215"><span class="linenum"> 215</span></a>  }
<a name="l216"><span class="linenum"> 216</span></a>  
<a name="l217"><span class="linenum"> 217</span></a>  <span class="comment">/**</span>
<a name="l218"><span class="linenum"> 218</span></a>  <span class="comment"> * Prints a note object</span>
<a name="l219"><span class="linenum"> 219</span></a>  <span class="comment"> *</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment"> * @param note  $note the note object to print</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment"> * @param int   $detail OR-ed NOTES_SHOW_xyz flags that specify which note parts to print</span>
<a name="l222"><span class="linenum"> 222</span></a>  <span class="comment"> */</span>
<a name="l223"><span class="linenum"> 223</span></a>  function <a class="function" onClick="logFunction('note_print')" href="../_functions/note_print.html" onMouseOver="funcPopup(event,'note_print')">note_print</a>(<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>, <a class="var it5390" onMouseOver="hilite(5390)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../_variables/detail.html">$detail</a> = <a class="constant" onClick="logConstant('NOTES_SHOW_FULL')" href="../_constants/NOTES_SHOW_FULL.html" onMouseOver="constPopup(event,'NOTES_SHOW_FULL')">NOTES_SHOW_FULL</a>) {
<a name="l224"><span class="linenum"> 224</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>, <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>, <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>, <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>;
<a name="l225"><span class="linenum"> 225</span></a>  
<a name="l226"><span class="linenum"> 226</span></a>      if (!<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('user', array('id' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('userid')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a>))) {
<a name="l227"><span class="linenum"> 227</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;User <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('userid')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/userid.html">userid</a> not found&quot;);
<a name="l228"><span class="linenum"> 228</span></a>          return;
<a name="l229"><span class="linenum"> 229</span></a>      }
<a name="l230"><span class="linenum"> 230</span></a>      if (!<a class="var it1320" onMouseOver="hilite(1320)" onMouseOut="lolite()" onClick="logVariable('author')" href="../_variables/author.html">$author</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_record')" href="../_functions/get_record.html" onMouseOver="funcPopup(event,'get_record')">get_record</a>('user', array('id' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('usermodified')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/usermodified.html">usermodified</a>))) {
<a name="l231"><span class="linenum"> 231</span></a>          <a class="function" onClick="logFunction('debugging')" href="../_functions/debugging.html" onMouseOver="funcPopup(event,'debugging')">debugging</a>(&quot;User <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('usermodified')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/usermodified.html">usermodified</a> not found&quot;);
<a name="l232"><span class="linenum"> 232</span></a>          return;
<a name="l233"><span class="linenum"> 233</span></a>      }
<a name="l234"><span class="linenum"> 234</span></a>      <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a> = <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('courseid')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>);
<a name="l235"><span class="linenum"> 235</span></a>      <a class="var it221" onMouseOver="hilite(221)" onMouseOut="lolite()" onClick="logVariable('systemcontext')" href="../_variables/systemcontext.html">$systemcontext</a> = <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>();
<a name="l236"><span class="linenum"> 236</span></a>  
<a name="l237"><span class="linenum"> 237</span></a>      <a class="var it7656" onMouseOver="hilite(7656)" onMouseOut="lolite()" onClick="logVariable('authoring')" href="../_variables/authoring.html">$authoring</a> = new stdClass();
<a name="l238"><span class="linenum"> 238</span></a>      <a class="var it7656" onMouseOver="hilite(7656)" onMouseOut="lolite()" onClick="logVariable('authoring')" href="../_variables/authoring.html">$authoring</a>-&gt;<a onClick="logVariable('name')" class="var it44947" onMouseOver="hilite(44947)" onMouseOut="lolite()" href="../_variables/name.html">name</a> = '&lt;a href=&quot;' . <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> . '/user/view.php?id=' . <a class="var it1320" onMouseOver="hilite(1320)" onMouseOut="lolite()" onClick="logVariable('author')" href="../_variables/author.html">$author</a>-&gt;<a onClick="logVariable('id')" class="var it44899" onMouseOver="hilite(44899)" onMouseOut="lolite()" href="../_variables/id.html">id</a> .
<a name="l239"><span class="linenum"> 239</span></a>          '&amp;amp;course='.<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('courseid')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a> . '&quot;&gt;' . <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it1320" onMouseOver="hilite(1320)" onMouseOut="lolite()" onClick="logVariable('author')" href="../_variables/author.html">$author</a>) . '&lt;/a&gt;';
<a name="l240"><span class="linenum"> 240</span></a>      <a class="var it7656" onMouseOver="hilite(7656)" onMouseOut="lolite()" onClick="logVariable('authoring')" href="../_variables/authoring.html">$authoring</a>-&gt;<a onClick="logVariable('date')" class="var it44947" onMouseOver="hilite(44947)" onMouseOut="lolite()" href="../_variables/date.html">date</a> = <a class="function" onClick="logFunction('userdate')" href="../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('lastmodified')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/lastmodified.html">lastmodified</a>);
<a name="l241"><span class="linenum"> 241</span></a>  
<a name="l242"><span class="linenum"> 242</span></a>      echo '&lt;div class=&quot;notepost '. <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('publishstate')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/publishstate.html">publishstate</a> . 'notepost' .
<a name="l243"><span class="linenum"> 243</span></a>          (<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('usermodified')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/usermodified.html">usermodified</a> == <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a> ? ' ownnotepost' : '')  .
<a name="l244"><span class="linenum"> 244</span></a>          '&quot; id=&quot;note-' . <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('id')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/id.html">id</a> . '&quot;&gt;';
<a name="l245"><span class="linenum"> 245</span></a>  
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">    // Print note head (e.g. author, user refering to, etc).</span>
<a name="l247"><span class="linenum"> 247</span></a>      if (<a class="var it5390" onMouseOver="hilite(5390)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../_variables/detail.html">$detail</a> &amp; <a class="constant" onClick="logConstant('NOTES_SHOW_HEAD')" href="../_constants/NOTES_SHOW_HEAD.html" onMouseOver="constPopup(event,'NOTES_SHOW_HEAD')">NOTES_SHOW_HEAD</a>) {
<a name="l248"><span class="linenum"> 248</span></a>          echo '&lt;div class=&quot;header&quot;&gt;';
<a name="l249"><span class="linenum"> 249</span></a>          echo '&lt;div class=&quot;user&quot;&gt;';
<a name="l250"><span class="linenum"> 250</span></a>          echo <a class="var it212" onMouseOver="hilite(212)" onMouseOut="lolite()" onClick="logVariable('OUTPUT')" href="../_variables/OUTPUT.html">$OUTPUT</a>-&gt;<a class="function" onClick="logFunction('user_picture')" href="../_functions/user_picture.html" onMouseOver="funcPopup(event,'user_picture')">user_picture</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, array('courseid' =&gt; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('courseid')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/courseid.html">courseid</a>));
<a name="l251"><span class="linenum"> 251</span></a>          echo <a class="function" onClick="logFunction('fullname')" href="../_functions/fullname.html" onMouseOver="funcPopup(event,'fullname')">fullname</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>) . '&lt;/div&gt;';
<a name="l252"><span class="linenum"> 252</span></a>          echo '&lt;div class=&quot;info&quot;&gt;' .
<a name="l253"><span class="linenum"> 253</span></a>              <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('bynameondate', 'notes', <a class="var it7656" onMouseOver="hilite(7656)" onMouseOut="lolite()" onClick="logVariable('authoring')" href="../_variables/authoring.html">$authoring</a>) .
<a name="l254"><span class="linenum"> 254</span></a>              ' (' . <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('created', 'notes') . ': ' . <a class="function" onClick="logFunction('userdate')" href="../_functions/userdate.html" onMouseOver="funcPopup(event,'userdate')">userdate</a>(<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('created')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/created.html">created</a>) . ')&lt;/div&gt;';
<a name="l255"><span class="linenum"> 255</span></a>          echo '&lt;/div&gt;';
<a name="l256"><span class="linenum"> 256</span></a>      }
<a name="l257"><span class="linenum"> 257</span></a>  
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment">    // Print note content.</span>
<a name="l259"><span class="linenum"> 259</span></a>      if (<a class="var it5390" onMouseOver="hilite(5390)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../_variables/detail.html">$detail</a> &amp; <a class="constant" onClick="logConstant('NOTES_SHOW_BODY')" href="../_constants/NOTES_SHOW_BODY.html" onMouseOver="constPopup(event,'NOTES_SHOW_BODY')">NOTES_SHOW_BODY</a>) {
<a name="l260"><span class="linenum"> 260</span></a>          echo '&lt;div class=&quot;content&quot;&gt;';
<a name="l261"><span class="linenum"> 261</span></a>          echo <a class="function" onClick="logFunction('format_text')" href="../_functions/format_text.html" onMouseOver="funcPopup(event,'format_text')">format_text</a>(<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('content')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/content.html">content</a>, <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('format')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/format.html">format</a>, array('overflowdiv' =&gt; true));
<a name="l262"><span class="linenum"> 262</span></a>          echo '&lt;/div&gt;';
<a name="l263"><span class="linenum"> 263</span></a>      }
<a name="l264"><span class="linenum"> 264</span></a>  
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">    // Print note options (e.g. delete, edit).</span>
<a name="l266"><span class="linenum"> 266</span></a>      if (<a class="var it5390" onMouseOver="hilite(5390)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../_variables/detail.html">$detail</a> &amp; <a class="constant" onClick="logConstant('NOTES_SHOW_FOOT')" href="../_constants/NOTES_SHOW_FOOT.html" onMouseOver="constPopup(event,'NOTES_SHOW_FOOT')">NOTES_SHOW_FOOT</a>) {
<a name="l267"><span class="linenum"> 267</span></a>          if (<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/notes:manage', <a class="var it221" onMouseOver="hilite(221)" onMouseOut="lolite()" onClick="logVariable('systemcontext')" href="../_variables/systemcontext.html">$systemcontext</a>) &amp;&amp; <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('publishstate')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/publishstate.html">publishstate</a> == <a class="constant" onClick="logConstant('NOTES_STATE_SITE')" href="../_constants/NOTES_STATE_SITE.html" onMouseOver="constPopup(event,'NOTES_STATE_SITE')">NOTES_STATE_SITE</a> ||
<a name="l268"><span class="linenum"> 268</span></a>              <a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/notes:manage', <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>) &amp;&amp;
<a name="l269"><span class="linenum"> 269</span></a>              (<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('publishstate')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/publishstate.html">publishstate</a> == <a class="constant" onClick="logConstant('NOTES_STATE_PUBLIC')" href="../_constants/NOTES_STATE_PUBLIC.html" onMouseOver="constPopup(event,'NOTES_STATE_PUBLIC')">NOTES_STATE_PUBLIC</a> || <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('usermodified')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/usermodified.html">usermodified</a> == <a class="var it354" onMouseOver="hilite(354)" onMouseOut="lolite()" onClick="logVariable('USER')" href="../_variables/USER.html">$USER</a>-&gt;<a onClick="logVariable('id')" class="var it42989" onMouseOver="hilite(42989)" onMouseOut="lolite()" href="../_variables/id.html">id</a>)) {
<a name="l270"><span class="linenum"> 270</span></a>              echo '&lt;div class=&quot;footer&quot;&gt;&lt;p&gt;';
<a name="l271"><span class="linenum"> 271</span></a>              echo '&lt;a href=&quot;' . <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> . '/notes/edit.php?id=' . <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('id')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/id.html">id</a>. '&quot;&gt;' . <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('edit') . '&lt;/a&gt; | ';
<a name="l272"><span class="linenum"> 272</span></a>              echo '&lt;a href=&quot;' . <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> . '/notes/delete.php?id=' . <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>-&gt;<a onClick="logVariable('id')" class="var it43511" onMouseOver="hilite(43511)" onMouseOut="lolite()" href="../_variables/id.html">id</a>. '&quot;&gt;' . <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('delete') . '&lt;/a&gt;';
<a name="l273"><span class="linenum"> 273</span></a>              echo '&lt;/p&gt;&lt;/div&gt;';
<a name="l274"><span class="linenum"> 274</span></a>          }
<a name="l275"><span class="linenum"> 275</span></a>      }
<a name="l276"><span class="linenum"> 276</span></a>      echo '&lt;/div&gt;';
<a name="l277"><span class="linenum"> 277</span></a>  }
<a name="l278"><span class="linenum"> 278</span></a>  
<a name="l279"><span class="linenum"> 279</span></a>  <span class="comment">/**</span>
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment"> * Prints a list of note objects</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment"> *</span>
<a name="l282"><span class="linenum"> 282</span></a>  <span class="comment"> * @param array  $notes array of note objects to print</span>
<a name="l283"><span class="linenum"> 283</span></a>  <span class="comment"> * @param int   $detail OR-ed NOTES_SHOW_xyz flags that specify which note parts to print</span>
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment"> */</span>
<a name="l285"><span class="linenum"> 285</span></a>  function <a class="function" onClick="logFunction('note_print_list')" href="../_functions/note_print_list.html" onMouseOver="funcPopup(event,'note_print_list')">note_print_list</a>(<a class="var it5657" onMouseOver="hilite(5657)" onMouseOut="lolite()" onClick="logVariable('notes')" href="../_variables/notes.html">$notes</a>, <a class="var it5390" onMouseOver="hilite(5390)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../_variables/detail.html">$detail</a> = <a class="constant" onClick="logConstant('NOTES_SHOW_FULL')" href="../_constants/NOTES_SHOW_FULL.html" onMouseOver="constPopup(event,'NOTES_SHOW_FULL')">NOTES_SHOW_FULL</a>) {
<a name="l286"><span class="linenum"> 286</span></a>  
<a name="l287"><span class="linenum"> 287</span></a>      echo '&lt;div class=&quot;notelist&quot;&gt;';
<a name="l288"><span class="linenum"> 288</span></a>      foreach (<a class="var it5657" onMouseOver="hilite(5657)" onMouseOut="lolite()" onClick="logVariable('notes')" href="../_variables/notes.html">$notes</a> as <a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>) {
<a name="l289"><span class="linenum"> 289</span></a>          <a class="function" onClick="logFunction('note_print')" href="../_functions/note_print.html" onMouseOver="funcPopup(event,'note_print')">note_print</a>(<a class="var it6990" onMouseOver="hilite(6990)" onMouseOut="lolite()" onClick="logVariable('note')" href="../_variables/note.html">$note</a>, <a class="var it5390" onMouseOver="hilite(5390)" onMouseOut="lolite()" onClick="logVariable('detail')" href="../_variables/detail.html">$detail</a>);
<a name="l290"><span class="linenum"> 290</span></a>      }
<a name="l291"><span class="linenum"> 291</span></a>      echo '&lt;/div&gt;';
<a name="l292"><span class="linenum"> 292</span></a>  }
<a name="l293"><span class="linenum"> 293</span></a>  
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment">/**</span>
<a name="l295"><span class="linenum"> 295</span></a>  <span class="comment"> * Retrieves and prints a list of note objects with specific atributes.</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment"> *</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment"> * @param string  $header HTML to print above the list</span>
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment"> * @param int     $addcourseid id of the course for the add notes link (0 hide link)</span>
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment"> * @param boolean $viewnotes true if the notes should be printed; false otherwise (print notesnotvisible string)</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment"> * @param int     $courseid id of the course in which the notes were posted (0 means any)</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment"> * @param int     $userid id of the user to which the notes refer (0 means any)</span>
<a name="l302"><span class="linenum"> 302</span></a>  <span class="comment"> * @param string  $state state of the notes (i.e. draft, public, site) ('' means any)</span>
<a name="l303"><span class="linenum"> 303</span></a>  <span class="comment"> * @param int     $author id of the user who modified the note last time (0 means any)</span>
<a name="l304"><span class="linenum"> 304</span></a>  <span class="comment"> */</span>
<a name="l305"><span class="linenum"> 305</span></a>  function <a class="function" onClick="logFunction('note_print_notes')" href="../_functions/note_print_notes.html" onMouseOver="funcPopup(event,'note_print_notes')">note_print_notes</a>(<a class="var it907" onMouseOver="hilite(907)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a>, <a class="var it7657" onMouseOver="hilite(7657)" onMouseOut="lolite()" onClick="logVariable('addcourseid')" href="../_variables/addcourseid.html">$addcourseid</a> = 0, <a class="var it7658" onMouseOver="hilite(7658)" onMouseOut="lolite()" onClick="logVariable('viewnotes')" href="../_variables/viewnotes.html">$viewnotes</a> = true, <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a> = 0, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a> = 0, <a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a> = '', <a class="var it1320" onMouseOver="hilite(1320)" onMouseOut="lolite()" onClick="logVariable('author')" href="../_variables/author.html">$author</a> = 0) {
<a name="l306"><span class="linenum"> 306</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l307"><span class="linenum"> 307</span></a>  
<a name="l308"><span class="linenum"> 308</span></a>      if (<a class="var it907" onMouseOver="hilite(907)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a>) {
<a name="l309"><span class="linenum"> 309</span></a>          echo '&lt;h3 class=&quot;notestitle&quot;&gt;' . <a class="var it907" onMouseOver="hilite(907)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a> . '&lt;/h3&gt;';
<a name="l310"><span class="linenum"> 310</span></a>          echo '&lt;div class=&quot;notesgroup&quot;&gt;';
<a name="l311"><span class="linenum"> 311</span></a>      }
<a name="l312"><span class="linenum"> 312</span></a>      if (<a class="var it7657" onMouseOver="hilite(7657)" onMouseOut="lolite()" onClick="logVariable('addcourseid')" href="../_variables/addcourseid.html">$addcourseid</a>) {
<a name="l313"><span class="linenum"> 313</span></a>          if (<a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) {
<a name="l314"><span class="linenum"> 314</span></a>              echo '&lt;p&gt;&lt;a href=&quot;' . <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> . '/notes/edit.php?courseid=' . <a class="var it7657" onMouseOver="hilite(7657)" onMouseOut="lolite()" onClick="logVariable('addcourseid')" href="../_variables/addcourseid.html">$addcourseid</a> . '&amp;amp;userid=' . <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a> .
<a name="l315"><span class="linenum"> 315</span></a>                  '&amp;amp;publishstate=' . <a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a> . '&quot;&gt;' . <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addnewnote', 'notes') . '&lt;/a&gt;&lt;/p&gt;';
<a name="l316"><span class="linenum"> 316</span></a>          } else {
<a name="l317"><span class="linenum"> 317</span></a>              echo '&lt;p&gt;&lt;a href=&quot;' . <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('wwwroot')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/wwwroot.html">wwwroot</a> . '/user/index.php?id=' . <a class="var it7657" onMouseOver="hilite(7657)" onMouseOut="lolite()" onClick="logVariable('addcourseid')" href="../_variables/addcourseid.html">$addcourseid</a>. '&quot;&gt;' .
<a name="l318"><span class="linenum"> 318</span></a>                  <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('addnewnoteselect', 'notes') . '&lt;/a&gt;&lt;/p&gt;';
<a name="l319"><span class="linenum"> 319</span></a>          }
<a name="l320"><span class="linenum"> 320</span></a>      }
<a name="l321"><span class="linenum"> 321</span></a>      if (<a class="var it7658" onMouseOver="hilite(7658)" onMouseOut="lolite()" onClick="logVariable('viewnotes')" href="../_variables/viewnotes.html">$viewnotes</a>) {
<a name="l322"><span class="linenum"> 322</span></a>          <a class="var it5657" onMouseOver="hilite(5657)" onMouseOut="lolite()" onClick="logVariable('notes')" href="../_variables/notes.html">$notes</a> = <a class="function" onClick="logFunction('note_list')" href="../_functions/note_list.html" onMouseOver="funcPopup(event,'note_list')">note_list</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>, <a class="var it650" onMouseOver="hilite(650)" onMouseOut="lolite()" onClick="logVariable('state')" href="../_variables/state.html">$state</a>, <a class="var it1320" onMouseOver="hilite(1320)" onMouseOut="lolite()" onClick="logVariable('author')" href="../_variables/author.html">$author</a>);
<a name="l323"><span class="linenum"> 323</span></a>          if (<a class="var it5657" onMouseOver="hilite(5657)" onMouseOut="lolite()" onClick="logVariable('notes')" href="../_variables/notes.html">$notes</a>) {
<a name="l324"><span class="linenum"> 324</span></a>              <a class="function" onClick="logFunction('note_print_list')" href="../_functions/note_print_list.html" onMouseOver="funcPopup(event,'note_print_list')">note_print_list</a>(<a class="var it5657" onMouseOver="hilite(5657)" onMouseOut="lolite()" onClick="logVariable('notes')" href="../_variables/notes.html">$notes</a>);
<a name="l325"><span class="linenum"> 325</span></a>          }
<a name="l326"><span class="linenum"> 326</span></a>      } else {
<a name="l327"><span class="linenum"> 327</span></a>          echo '&lt;p&gt;' . <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('notesnotvisible', 'notes') . '&lt;/p&gt;';
<a name="l328"><span class="linenum"> 328</span></a>      }
<a name="l329"><span class="linenum"> 329</span></a>      if (<a class="var it907" onMouseOver="hilite(907)" onMouseOut="lolite()" onClick="logVariable('header')" href="../_variables/header.html">$header</a>) {
<a name="l330"><span class="linenum"> 330</span></a>          echo '&lt;/div&gt;';  <span class="comment">// The notesgroup div.</span>
<a name="l331"><span class="linenum"> 331</span></a>      }
<a name="l332"><span class="linenum"> 332</span></a>  }
<a name="l333"><span class="linenum"> 333</span></a>  
<a name="l334"><span class="linenum"> 334</span></a>  <span class="comment">/**</span>
<a name="l335"><span class="linenum"> 335</span></a>  <span class="comment"> * Delete all notes about users in course-</span>
<a name="l336"><span class="linenum"> 336</span></a>  <span class="comment"> * @param int $courseid</span>
<a name="l337"><span class="linenum"> 337</span></a>  <span class="comment"> * @return bool success</span>
<a name="l338"><span class="linenum"> 338</span></a>  <span class="comment"> */</span>
<a name="l339"><span class="linenum"> 339</span></a>  function <a class="function" onClick="logFunction('note_delete_all')" href="../_functions/note_delete_all.html" onMouseOver="funcPopup(event,'note_delete_all')">note_delete_all</a>(<a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>) {
<a name="l340"><span class="linenum"> 340</span></a>      global <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>;
<a name="l341"><span class="linenum"> 341</span></a>  
<a name="l342"><span class="linenum"> 342</span></a>      return <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('delete_records')" href="../_functions/delete_records.html" onMouseOver="funcPopup(event,'delete_records')">delete_records</a>('post', array('module' =&gt; 'notes', 'courseid' =&gt; <a class="var it700" onMouseOver="hilite(700)" onMouseOut="lolite()" onClick="logVariable('courseid')" href="../_variables/courseid.html">$courseid</a>));
<a name="l343"><span class="linenum"> 343</span></a>  }
<a name="l344"><span class="linenum"> 344</span></a>  
<a name="l345"><span class="linenum"> 345</span></a>  <span class="comment">/**</span>
<a name="l346"><span class="linenum"> 346</span></a>  <span class="comment"> * Return a list of page types</span>
<a name="l347"><span class="linenum"> 347</span></a>  <span class="comment"> * @param string $pagetype current page type</span>
<a name="l348"><span class="linenum"> 348</span></a>  <span class="comment"> * @param stdClass $parentcontext Block's parent context</span>
<a name="l349"><span class="linenum"> 349</span></a>  <span class="comment"> * @param stdClass $currentcontext Current context of block</span>
<a name="l350"><span class="linenum"> 350</span></a>  <span class="comment"> */</span>
<a name="l351"><span class="linenum"> 351</span></a>  function <a class="function" onClick="logFunction('note_page_type_list')" href="../_functions/note_page_type_list.html" onMouseOver="funcPopup(event,'note_page_type_list')">note_page_type_list</a>(<a class="var it2278" onMouseOver="hilite(2278)" onMouseOut="lolite()" onClick="logVariable('pagetype')" href="../_variables/pagetype.html">$pagetype</a>, <a class="var it2279" onMouseOver="hilite(2279)" onMouseOut="lolite()" onClick="logVariable('parentcontext')" href="../_variables/parentcontext.html">$parentcontext</a>, <a class="var it2280" onMouseOver="hilite(2280)" onMouseOut="lolite()" onClick="logVariable('currentcontext')" href="../_variables/currentcontext.html">$currentcontext</a>) {
<a name="l352"><span class="linenum"> 352</span></a>      return array('notes-*' =&gt; <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('page-notes-x', 'notes'));
<a name="l353"><span class="linenum"> 353</span></a>  }
<a name="l354"><span class="linenum"> 354</span></a>  
<a name="l355"><span class="linenum"> 355</span></a>  <span class="comment">/**</span>
<a name="l356"><span class="linenum"> 356</span></a>  <span class="comment"> * Trigger notes viewed event</span>
<a name="l357"><span class="linenum"> 357</span></a>  <span class="comment"> *</span>
<a name="l358"><span class="linenum"> 358</span></a>  <span class="comment"> * @param  stdClass $context context object</span>
<a name="l359"><span class="linenum"> 359</span></a>  <span class="comment"> * @param  int $userid  user id (the user we are viewing the notes)</span>
<a name="l360"><span class="linenum"> 360</span></a>  <span class="comment"> * @since Moodle 2.9</span>
<a name="l361"><span class="linenum"> 361</span></a>  <span class="comment"> */</span>
<a name="l362"><span class="linenum"> 362</span></a>  function <a class="function" onClick="logFunction('note_view')" href="../_functions/note_view.html" onMouseOver="funcPopup(event,'note_view')">note_view</a>(<a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>, <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>) {
<a name="l363"><span class="linenum"> 363</span></a>  
<a name="l364"><span class="linenum"> 364</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a> = \core\event\<a class="class" onClick="logClass('notes_viewed')" href="../_classes/notes_viewed.html" onMouseOver="classPopup(event,'notes_viewed')">notes_viewed</a>::<a class="function" onClick="logFunction('create')" href="../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(array(
<a name="l365"><span class="linenum"> 365</span></a>          'relateduserid' =&gt; <a class="var it13" onMouseOver="hilite(13)" onMouseOut="lolite()" onClick="logVariable('userid')" href="../_variables/userid.html">$userid</a>,
<a name="l366"><span class="linenum"> 366</span></a>          'context' =&gt; <a class="var it23" onMouseOver="hilite(23)" onMouseOut="lolite()" onClick="logVariable('context')" href="../_variables/context.html">$context</a>
<a name="l367"><span class="linenum"> 367</span></a>      ));
<a name="l368"><span class="linenum"> 368</span></a>      <a class="var it165" onMouseOver="hilite(165)" onMouseOut="lolite()" onClick="logVariable('event')" href="../_variables/event.html">$event</a>-&gt;<a class="function" onClick="logFunction('trigger')" href="../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>();
<a name="l369"><span class="linenum"> 369</span></a>  }
<a name="l370"><span class="linenum"> 370</span></a>  
<a name="l371"><span class="linenum"> 371</span></a>  <span class="comment">/**</span>
<a name="l372"><span class="linenum"> 372</span></a>  <span class="comment"> * Add nodes to myprofile page.</span>
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment"> *</span>
<a name="l374"><span class="linenum"> 374</span></a>  <span class="comment"> * @param \core_user\output\myprofile\tree $tree Tree object</span>
<a name="l375"><span class="linenum"> 375</span></a>  <span class="comment"> * @param stdClass $user user object</span>
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment"> * @param bool $iscurrentuser</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment"> * @param stdClass $course Course object</span>
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment"> *</span>
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment"> * @return bool</span>
<a name="l380"><span class="linenum"> 380</span></a>  <span class="comment"> */</span>
<a name="l381"><span class="linenum"> 381</span></a>  function <a class="function" onClick="logFunction('core_notes_myprofile_navigation')" href="../_functions/core_notes_myprofile_navigation.html" onMouseOver="funcPopup(event,'core_notes_myprofile_navigation')">core_notes_myprofile_navigation</a>(core_user\output\myprofile\tree <a class="var it2105" onMouseOver="hilite(2105)" onMouseOut="lolite()" onClick="logVariable('tree')" href="../_variables/tree.html">$tree</a>, <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>, <a class="var it6531" onMouseOver="hilite(6531)" onMouseOut="lolite()" onClick="logVariable('iscurrentuser')" href="../_variables/iscurrentuser.html">$iscurrentuser</a>, <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>) {
<a name="l382"><span class="linenum"> 382</span></a>      global <a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>;
<a name="l383"><span class="linenum"> 383</span></a>  
<a name="l384"><span class="linenum"> 384</span></a>      if (empty(<a class="var it31" onMouseOver="hilite(31)" onMouseOut="lolite()" onClick="logVariable('CFG')" href="../_variables/CFG.html">$CFG</a>-&gt;<a onClick="logVariable('enablenotes')" class="var it42902" onMouseOver="hilite(42902)" onMouseOut="lolite()" href="../_variables/enablenotes.html">enablenotes</a>)) {
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment">        // Notes are disabled, nothing to do.</span>
<a name="l386"><span class="linenum"> 386</span></a>          return false;
<a name="l387"><span class="linenum"> 387</span></a>      }
<a name="l388"><span class="linenum"> 388</span></a>  
<a name="l389"><span class="linenum"> 389</span></a>      if (<a class="function" onClick="logFunction('isguestuser')" href="../_functions/isguestuser.html" onMouseOver="funcPopup(event,'isguestuser')">isguestuser</a>(<a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>)) {
<a name="l390"><span class="linenum"> 390</span></a>  <span class="comment">        // No notes for guest users.</span>
<a name="l391"><span class="linenum"> 391</span></a>          return false;
<a name="l392"><span class="linenum"> 392</span></a>      }
<a name="l393"><span class="linenum"> 393</span></a>  
<a name="l394"><span class="linenum"> 394</span></a>      <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a> = <span class="keyword">new </span><a class="class" onClick="logClass('moodle_url')" href="../_classes/moodle_url.html" onMouseOver="classPopup(event,'moodle_url')">moodle_url</a>("<a class="filename" href="../notes/index.php.html">/notes/index.php</a>", array('user' =&gt; <a class="var it362" onMouseOver="hilite(362)" onMouseOut="lolite()" onClick="logVariable('user')" href="../_variables/user.html">$user</a>-&gt;<a onClick="logVariable('id')" class="var it42948" onMouseOver="hilite(42948)" onMouseOut="lolite()" href="../_variables/id.html">id</a>));
<a name="l395"><span class="linenum"> 395</span></a>      <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a> = <a class="function" onClick="logFunction('get_string')" href="../_functions/get_string.html" onMouseOver="funcPopup(event,'get_string')">get_string</a>('notes', 'core_notes');
<a name="l396"><span class="linenum"> 396</span></a>      if (empty(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>)) {
<a name="l397"><span class="linenum"> 397</span></a>  <span class="comment">        // Site level profile.</span>
<a name="l398"><span class="linenum"> 398</span></a>          if (!<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/notes:view', <a class="class" onClick="logClass('context_system')" href="../_classes/context_system.html" onMouseOver="classPopup(event,'context_system')">context_system</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>())) {
<a name="l399"><span class="linenum"> 399</span></a>  <span class="comment">            // No cap, nothing to do.</span>
<a name="l400"><span class="linenum"> 400</span></a>              return false;
<a name="l401"><span class="linenum"> 401</span></a>          }
<a name="l402"><span class="linenum"> 402</span></a>      } else {
<a name="l403"><span class="linenum"> 403</span></a>          if (!<a class="function" onClick="logFunction('has_capability')" href="../_functions/has_capability.html" onMouseOver="funcPopup(event,'has_capability')">has_capability</a>('moodle/notes:view', <a class="class" onClick="logClass('context_course')" href="../_classes/context_course.html" onMouseOver="classPopup(event,'context_course')">context_course</a>::<a class="function" onClick="logFunction('instance')" href="../_functions/instance.html" onMouseOver="funcPopup(event,'instance')">instance</a>(<a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>))) {
<a name="l404"><span class="linenum"> 404</span></a>  <span class="comment">            // No cap, nothing to do.</span>
<a name="l405"><span class="linenum"> 405</span></a>              return false;
<a name="l406"><span class="linenum"> 406</span></a>          }
<a name="l407"><span class="linenum"> 407</span></a>          <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>-&gt;<a class="function" onClick="logFunction('param')" href="../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>('course', <a class="var it8" onMouseOver="hilite(8)" onMouseOut="lolite()" onClick="logVariable('course')" href="../_variables/course.html">$course</a>-&gt;<a onClick="logVariable('id')" class="var it42904" onMouseOver="hilite(42904)" onMouseOut="lolite()" href="../_variables/id.html">id</a>);
<a name="l408"><span class="linenum"> 408</span></a>      }
<a name="l409"><span class="linenum"> 409</span></a>      <a class="var it7660" onMouseOver="hilite(7660)" onMouseOut="lolite()" onClick="logVariable('notesnode')" href="../_variables/notesnode.html">$notesnode</a> = <span class="keyword">new </span><a class="class" onClick="logClass('core_user')" href="../_classes/core_user.html" onMouseOver="classPopup(event,'core_user')">core_user</a>\output\myprofile\<a class="function" onClick="logFunction('node')" href="../_functions/node.html" onMouseOver="funcPopup(event,'node')">node</a>('miscellaneous', 'notes', <a class="var it229" onMouseOver="hilite(229)" onMouseOut="lolite()" onClick="logVariable('title')" href="../_variables/title.html">$title</a>, null, <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('url')" href="../_variables/url.html">$url</a>);
<a name="l410"><span class="linenum"> 410</span></a>      <a class="var it2105" onMouseOver="hilite(2105)" onMouseOut="lolite()" onClick="logVariable('tree')" href="../_variables/tree.html">$tree</a>-&gt;<a class="function" onClick="logFunction('add_node')" href="../_functions/add_node.html" onMouseOver="funcPopup(event,'add_node')">add_node</a>(<a class="var it7660" onMouseOver="hilite(7660)" onMouseOut="lolite()" onClick="logVariable('notesnode')" href="../_variables/notesnode.html">$notesnode</a>);
<a name="l411"><span class="linenum"> 411</span></a>  }
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'note_save': ['note_save', 'Saves a note object. The note object is passed by reference and its fields (i.e. id) might change during the save. ', [['notes','lib.php',96]], 8],
'note_print_list': ['note_print_list', 'Prints a list of note objects ', [['notes','lib.php',279]], 1],
'note_delete': ['note_delete', 'Deletes a note object based on its id. ', [['notes','lib.php',153]], 3],
'get_record': ['get_record', 'Load a single record. ', [['competency/classes','persistent.php',738],['lib/dml','moodle_database.php',1462]], 3224],
'create': ['create', 'Auto-scan an incoming line to determine the response type. ', [['lib/horde/framework/Horde/Imap/Client/Interaction','Server.php',65],['lib/google/src/Google/Service','Partners.php',492],['lib/simplepie/library/SimplePie','Cache.php',95],['lib/google/src/Google/Service','YouTubeReporting.php',237],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',81],['lib/google/src/Google/Service','MapsEngine.php',1677],['lib/google/src/Google/Service','MapsEngine.php',1977],['lib/google/src/Google/Service','MapsEngine.php',2253],['lib/google/src/Google/Service','MapsEngine.php',2330],['lib/google/src/Google/Service','MapsEngine.php',2898],['lib/spout/src/Spout/Writer','WriterFactory.php',18],['lib/google/src/Google/Service','Dns.php',290],['lib/google/src/Google/Service','Dns.php',363],['lib/google/src/Google/Service','Appengine.php',438],['tag/classes','collection.php',188],['lib/adodb','adodb-xmlschema.inc.php',152],['lib/adodb','adodb-xmlschema.inc.php',473],['lib/adodb','adodb-xmlschema.inc.php',738],['lib/adodb','adodb-xmlschema.inc.php',884],['lib/adodb','adodb-xmlschema.inc.php',1129],['mod/quiz','attemptlib.php',100],['mod/quiz','attemptlib.php',596],['lib','weblib.php',3206],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',58],['lib/google/src/Google/Service','Dataflow.php',273],['lib/simplepie/library/SimplePie','Registry.php',153],['competency/classes','persistent.php',387],['lib/google/src/Google/Service','Cloudresourcemanager.php',373],['lib/phpexcel/PHPExcel/Shared/PCLZip','pclzip.lib.php',270],['lib/google/src/Google/Service','TagManager.php',1007],['lib/google/src/Google/Service','TagManager.php',1097],['lib/google/src/Google/Service','TagManager.php',1249],['lib/google/src/Google/Service','TagManager.php',1342],['lib/google/src/Google/Service','TagManager.php',1436],['lib/google/src/Google/Service','TagManager.php',1530],['lib/google/src/Google/Service','TagManager.php',1681],['mod/lesson','locallib.php',1011],['mod/lesson','locallib.php',2163],['mod/lesson','locallib.php',3212],['lib','modinfolib.php',1732],['repository','lib.php',206],['repository','lib.php',1910],['lib','navigationlib.php',268],['lib/htmlpurifier/HTMLPurifier','Config.php',114],['lib/google/src/Google/Service','Container.php',284],['lib/google/src/Google/Service','Genomics.php',632],['lib/google/src/Google/Service','Genomics.php',721],['lib/google/src/Google/Service','Genomics.php',1312],['lib/google/src/Google/Service','Genomics.php',1427],['lib/google/src/Google/Service','Games.php',1649],['lib/google/src/Google/Service','Games.php',2013],['lib/google/src/Google/Service','Fitness.php',377],['lib/google/src/Google/Service','Gmail.php',747],['lib/google/src/Google/Service','Gmail.php',905],['mod/quiz/classes','structure.php',65],['lib/htmlpurifier/HTMLPurifier','ElementDef.php',135],['lib/adodb','adodb-xmlschema03.inc.php',170],['lib/adodb','adodb-xmlschema03.inc.php',514],['lib/adodb','adodb-xmlschema03.inc.php',779],['lib/adodb','adodb-xmlschema03.inc.php',930],['lib/adodb','adodb-xmlschema03.inc.php',1228],['lib/google/src/Google/Service','Proximitybeacon.php',500],['tag/classes','area.php',205],['course','lib.php',3003],['question/type/ddmarker','shapes.php',170],['lib/classes/event','base.php',149],['lib','coursecatlib.php',325],['repository/filesystem','lib.php',498],['lib/google/src/Google/Service','Storagetransfer.php',281],['calendar','lib.php',2686],['lib/htmlpurifier/HTMLPurifier','Lexer.php',53],['lib/google/src/Google/Service','Classroom.php',445],['lib/google/src/Google/Service','Classroom.php',596],['lib/google/src/Google/Service','Classroom.php',673],['lib/google/src/Google/Service','Classroom.php',783],['lib/google/src/Google/Service','Classroom.php',912],['lib/spout/src/Spout/Reader','ReaderFactory.php',18],['lib/google/src/Google/Service','Pubsub.php',220],['lib/google/src/Google/Service','Pubsub.php',365],['lib/google/src/Google/Service','CloudMonitoring.php',258]], 3276],
'add_node': ['add_node', 'Add a node to this category. ', [['user/classes/output/myprofile','category.php',83],['lib','navigationlib.php',323],['user/classes/output/myprofile','tree.php',52]], 101],
'note_delete_all': ['note_delete_all', 'Delete all notes about users in course- ', [['notes','lib.php',334]], 2],
'core_notes_myprofile_navigation': ['core_notes_myprofile_navigation', 'Add nodes to myprofile page. ', [['notes','lib.php',371]], 3],
'note_view': ['note_view', 'Trigger notes viewed event ', [['notes','lib.php',355]], 2],
'note_list': ['note_list', 'Retrieves a list of note objects with specific atributes. ', [['notes','lib.php',40]], 2],
'get_string': ['get_string', 'Get String returns a requested string ', [['lib/classes','string_manager_install.php',95],['lib','moodlelib.php',6735],['lib','moodlelib.php',9695],['lib/external','externallib.php',102],['question/behaviour','behaviourbase.php',770],['lib/classes','string_manager_standard.php',280],['lib/classes','string_manager.php',38]], 20134],
'note_page_type_list': ['note_page_type_list', 'Return a list of page types ', [['notes','lib.php',345]], 0],
'user_picture': ['user_picture', '', [['mod/quiz','attemptlib.php',2467],['lib','outputrenderers.php',2454],['lib','outputrenderers.php',5000]], 138],
'has_capability': ['has_capability', 'Wrapper round the has_capability funciton that automatically passes in the quiz context. ', [['mod/quiz','attemptlib.php',299],['mod/quiz','attemptlib.php',922],['lib','accesslib.php',344]], 2064],
'format_text': ['format_text', 'Formats a text string coming from the search engine. ', [['search/classes','document.php',606],['lib/classes','grading_external.php',182],['search/engine/solr/classes','document.php',129],['lib','weblib.php',1158],['lib','tablelib.php',860],['lib','tablelib.php',1667],['question/type','questionbase.php',345]], 322],
'note_print_notes': ['note_print_notes', 'Retrieves and prints a list of note objects with specific atributes. ', [['notes','lib.php',294]], 5],
'add_record_snapshot': ['add_record_snapshot', 'Add cached data that will be most probably used in event observers. ', [['lib/classes/event','base.php',840]], 332],
'instance': ['instance', 'Returns an instance of the cache_factor method. ', [['cache','disabledlib.php',171],['cache','disabledlib.php',296],['lib/classes','useragent.php',101],['lib/htmlpurifier/HTMLPurifier','ConfigSchema.php',80],['lib/htmlpurifier/HTMLPurifier','URISchemeRegistry.php',9],['search/classes','manager.php',109],['cache','locallib.php',52],['lib/htmlpurifier/HTMLPurifier','LanguageFactory.php',53],['lib/classes','plugin_manager.php',103],['lib/htmlpurifier','HTMLPurifier.php',251],['course/format','lib.php',156],['lib/classes/update','checker.php',62],['lib/htmlpurifier/HTMLPurifier','DefinitionCacheFactory.php',31],['admin/tool/installaddon/classes','installer.php',40],['lib','modinfolib.php',373],['cache/classes','helper.php',76],['lib/tests','string_manager_standard_test.php',124],['lib/portfolio','exporter.php',251],['lib/classes/update','validator.php',88],['search/classes','document_factory.php',49],['lib','accesslib.php',6235],['lib','accesslib.php',6487],['lib','accesslib.php',6665],['lib','accesslib.php',6919],['lib','accesslib.php',7180],['lib','accesslib.php',7392],['backup/cc/cc_lib','cc_utils.php',387],['backup/cc/cc_lib','cc_utils.php',443],['lib','filterlib.php',80],['search/tests/fixtures','testable_core_search.php',43],['lib/tests/fixtures','testable_update_checker.php',45],['backup/cc','validator.php',35],['cache/classes','config.php',87],['cache/classes','factory.php',114],['lib/htmlpurifier/HTMLPurifier','EntityLookup.php',29]], 4647],
'debugging': ['debugging', 'Standard Debugging Function ', [['lib','weblib.php',3012]], 1007],
'update_record': ['update_record', 'Update a record in a table ', [['lib/dml','pdo_moodle_database.php',461],['lib/dml','oci_native_moodle_database.php',1404],['lib/dml','pgsql_native_moodle_database.php',1089],['lib/dml','mssql_native_moodle_database.php',1067],['lib/dml','mysqli_native_moodle_database.php',1405],['lib/dml','sqlsrv_native_moodle_database.php',1148],['lib/dml/tests','dml_test.php',5551]], 650],
'fullname': ['fullname', 'Returns a persons full name ', [['lib','moodlelib.php',3249],['mod/assign','locallib.php',3915]], 546],
'note_get_state_names': ['note_get_state_names', 'Returns an array of mappings from state values to state names ', [['notes','lib.php',204]], 4],
'isguestuser': ['isguestuser', 'Determines if a user is logged in as real guest user with username \'guest\'. ', [['lib','accesslib.php',1923]], 260],
'delete_records': ['delete_records', 'Delete the records from a table where all the given conditions met. If conditions not specified, table is truncated. ', [['lib/dml','sqlite3_pdo_moodle_database.php',345],['lib/dml','moodle_database.php',1864]], 773],
'node': ['node', 'Enter description here ... ', [['backup/cc/cc_lib','xmlbase.php',241],['lib/editor/tinymce/tiny_mce/3.5.11','tiny_mce_src.js',3483]], 151],
'note_print': ['note_print', 'Prints a note object ', [['notes','lib.php',217]], 2],
'note_load': ['note_load', 'Retrieves a note object based on its id. ', [['notes','lib.php',83]], 9],
'userdate': ['userdate', 'Returns a formatted string that represents a date in user time. ', [['lib','moodlelib.php',2155],['lib/adodb','adodb.inc.php',2842],['lib/adodb','adodb.inc.php',3569]], 525],
'trigger': ['trigger', '', [['lib/evalmath','evalmath.class.php',448],['lib/classes/event','base.php',765]], 964],
'param': ['param', '', [['lib/adodb/drivers','adodb-postgres64.inc.php',609],['lib','weblib.php',453],['lib/adodb/drivers','adodb-oci8po.inc.php',39],['lib/adodb','adodb.inc.php',934],['lib/adodb/drivers','adodb-oci8.inc.php',1179],['lib/adodb/drivers','adodb-db2oci.inc.php',163]], 640],
'insert_record': ['insert_record', 'Insert a record into a table and return the "id" field if required, Some conversions and safety checks are carried out. Lobs are supported. If the return ID isn\'t required, then this just reports success as true/false. $data is an object containing needed data ', [['lib/dml','pdo_moodle_database.php',387],['lib/dml','oci_native_moodle_database.php',1297],['lib/dml','pgsql_native_moodle_database.php',889],['lib/dml','mssql_native_moodle_database.php',962],['lib/dml','mysqli_native_moodle_database.php',1185],['question/engine/upgrade','upgradelib.php',124],['lib/dml','sqlsrv_native_moodle_database.php',1045],['lib/dml/tests','dml_test.php',5548]], 1611],
'note_get_state_name': ['note_get_state_name', 'Converts a state value to its corespondent name ', [['notes','lib.php',185]], 0],
'get_records_select': ['get_records_select', 'Load a list of records based on a select query. ', [['competency/classes','persistent.php',751],['lib/dml','moodle_database.php',1332]], 166],
'time': ['time', '', [], 1959],
'define': ['define', '', [], 2373],
'implode': ['implode', '', [], 1281]};
CLASS_DATA={
'note_created': ['note_created', 'Class note_created ', [['lib/classes/event','note_created.php',29]], 1],
'context_course': ['context_course', 'Course context class ', [['lib','accesslib.php',6817]], 1323],
'moodle_url': ['moodle_url', 'Class for creating and manipulating urls. ', [['lib','weblib.php',238]], 3088],
'notes_viewed': ['notes_viewed', 'Class note_viewed ', [['lib/classes/event','notes_viewed.php',29]], 2],
'note_deleted': ['note_deleted', 'Class note_deleted ', [['lib/classes/event','note_deleted.php',29]], 1],
'note_updated': ['note_updated', 'Class note_updated ', [['lib/classes/event','note_updated.php',29]], 1],
'context_system': ['context_system', 'System context class ', [['lib','accesslib.php',6157]], 1147],
'core_user': ['core_user', 'User class to access user details. ', [['lib/classes','user.php',27]], 457]};
CONST_DATA={
'NOTES_STATE_SITE': ['NOTES_STATE_SITE', '', [['notes','lib.php',30]], 13],
'MUST_EXIST': ['MUST_EXIST', '', [['lib','dmllib.php',52]], 1384],
'NOTES_SHOW_FULL': ['NOTES_SHOW_FULL', '', [['notes','lib.php',35]], 3],
'NOTES_STATE_DRAFT': ['NOTES_STATE_DRAFT', '', [['notes','lib.php',28]], 13],
'NOTES_SHOW_BODY': ['NOTES_SHOW_BODY', '', [['notes','lib.php',37]], 3],
'FORMAT_PLAIN': ['FORMAT_PLAIN', '', [['lib','weblib.php',52]], 152],
'NOTES_SHOW_HEAD': ['NOTES_SHOW_HEAD', '', [['notes','lib.php',36]], 3],
'NOTES_SHOW_FOOT': ['NOTES_SHOW_FOOT', '', [['notes','lib.php',38]], 2],
'NOTES_STATE_PUBLIC': ['NOTES_STATE_PUBLIC', '', [['notes','lib.php',29]], 19]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Thu Aug 11 10:00:09 2016</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
